"use strict";(self.webpackChunksecuriskadmin=self.webpackChunksecuriskadmin||[]).push([[317],{5317:(V,h,u)=>{u.r(h),u.d(h,{LeadershipTeamModule:()=>H});var b=u(2581),T=u(9629),g=u(8239),e=u(9619),m=u(9010),f=u(9365),x=u(8438),C=u(6019);function k(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1,"Name is required"),e.qZA())}function P(t,r){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,k,2,0,"span",29),e.qZA()),2&t){const i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=i.memberForm.get("name"))||null==n.errors?null:n.errors.required)}}function w(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1,"Designation is required"),e.qZA())}function y(t,r){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,w,2,0,"span",29),e.qZA()),2&t){const i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=i.memberForm.get("designation"))||null==n.errors?null:n.errors.required)}}function M(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1,"Description is required"),e.qZA())}function O(t,r){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,M,2,0,"span",29),e.qZA()),2&t){const i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=i.memberForm.get("description"))||null==n.errors?null:n.errors.required)}}function F(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1,"Image is required"),e.qZA())}function L(t,r){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,F,2,0,"span",29),e.qZA()),2&t){const i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=i.memberForm.get("profile_img"))||null==n.errors?null:n.errors.required)}}function I(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"div",30),e.TgZ(1,"div",31),e._uU(2),e.qZA(),e.TgZ(3,"div",32),e.TgZ(4,"i",33),e.NdJ("click",function(){return e.CHM(i),e.oxw().previewImg()}),e.qZA(),e.TgZ(5,"i",34),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.MAs(31).value="",o.removeImg()}),e.qZA(),e.qZA(),e.qZA()}if(2&t){const i=e.oxw();e.xp6(2),e.Oqu(i.selectedProfileImg.name)}}function A(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1,"Facebook Link is required"),e.qZA())}function q(t,r){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,A,2,0,"span",29),e.qZA()),2&t){const i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=i.memberForm.get("fb_link"))||null==n.errors?null:n.errors.required)}}function N(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1,"Instagram Link is required"),e.qZA())}function U(t,r){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,N,2,0,"span",29),e.qZA()),2&t){const i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=i.memberForm.get("insta_link"))||null==n.errors?null:n.errors.required)}}function J(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1,"Twitter Link is required"),e.qZA())}function Y(t,r){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,J,2,0,"span",29),e.qZA()),2&t){const i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=i.memberForm.get("twitter_link"))||null==n.errors?null:n.errors.required)}}function D(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1,"Youtube Link is required"),e.qZA())}function Q(t,r){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,D,2,0,"span",29),e.qZA()),2&t){const i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=i.memberForm.get("youtube_link"))||null==n.errors?null:n.errors.required)}}const v=".actions[_ngcontent-%COMP%]{display:flex;grid-gap:10px;gap:10px;justify-content:center}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8a3265;cursor:pointer}";let E=(()=>{class t{constructor(i,n,o,l){var d=this;this.fb=i,this.afs=n,this.storage=o,this.spinner=l,this.settings={columns:{s_no:{title:"S No.",filter:!1},name:{title:"Name",filter:!1},designation:{title:"Designation",filter:!1},profile_img:{title:"Profile Image",filter:!1,type:"custom",renderComponent:j},actions:{title:"Actions",filter:!1,type:"custom",renderComponent:S,onComponentInitFunction:p=>{p.onEdit.subscribe(a=>{console.log("Edit",a),this.addEditLabel="Edit",this.editId=a.id,console.log(),this.memberForm.patchValue({name:a.name,designation:a.designation,fb_link:a.facebookLink,insta_link:a.instagramLink,youtube_link:a.youtubeLink,twitter_link:a.twitterLink}),this.selectedProfileImg=a.image,this.memberForm.controls.profile_img.disable()}),p.onDelete.subscribe(function(){var a=(0,g.Z)(function*(s){return yield d.delete(s.id)});return function(s){return a.apply(this,arguments)}}())}}},pager:{display:!0,perPage:10},actions:{add:!1,edit:!1,delete:!1,position:"right"}},this.source=new f.nC([]),this.addEditLabel="Add New",this.editId="",this.selectedProfileImg={},this.memberForm=this.fb.group({name:new m.NI("",[m.kI.required]),designation:new m.NI("",[m.kI.required]),description:new m.NI("",[m.kI.required]),profile_img:new m.NI("",[m.kI.required]),fb_link:new m.NI(""),insta_link:new m.NI(""),twitter_link:new m.NI(""),youtube_link:new m.NI("")})}ngOnInit(){var i=this;return(0,g.Z)(function*(){yield i.getLeadershipTeam()})()}getLeadershipTeam(){var i=this;return(0,g.Z)(function*(){i.spinner.show();let n=yield i.afs.collection("leadershipTeam").get().toPromise();i.spinner.hide();let o=[];for(let l in n.docs){let{name:d,designation:p,description:a,image:s,facebookLink:c,twitterLink:_,instagramLink:R,youtubeLink:X}=n.docs[l].data();s=s&&"{"==s.charAt(0)?JSON.parse(s):{},o.push({s_no:+l+1,id:n.docs[l].id,name:d,designation:p,description:a,image:s,profile_img:s.file,fb_link:c,insta_link:R,twitter_link:_,youtube_link:X})}i.source=new f.nC(o)})()}delete(i){var n=this;this.spinner.show(),this.afs.collection("leadershipTeam").doc(i).delete().then(function(){var o=(0,g.Z)(function*(l){yield n.getLeadershipTeam(),n.spinner.hide()});return function(l){return o.apply(this,arguments)}}())}onSearch(i=""){this.source.setFilter([{field:"name",search:i},{field:"designation",search:i},{field:"description",search:i}],!1)}uploadImg(i){var n=this;let o=i.target.files[0],l=o.name.split(".")[1];console.log(o);let d=new FormData;d.append(o.name,o);let p=this.storage.ref(`leadershipTeam/${this.memberForm.controls.name.value?this.memberForm.controls.name.value+l:o.name}`);this.spinner.show(),p.put(o).then(function(){var a=(0,g.Z)(function*(s){const c=yield p.getDownloadURL().toPromise();n.selectedProfileImg={name:o.name,file:d,fileUrl:c},n.memberForm.controls.profile_img.disable(),n.spinner.hide()});return function(s){return a.apply(this,arguments)}}()).catch(a=>this.spinner.hide())}removeImg(){this.selectedProfileImg={},this.memberForm.controls.profile_img.disable()}previewImg(){let i=document.createElement("a");i.href=this.selectedProfileImg.fileUrl,i.target="_blank",document.body.appendChild(i),i.click(),document.body.removeChild(i)}onSubmit(){var i=this;for(let n in this.memberForm.controls)this.memberForm.controls[n].markAsTouched(),this.memberForm.controls[n].updateValueAndValidity();if(this.memberForm.valid){let n={name:this.memberForm.controls.name.value,designation:this.memberForm.controls.designation.value,description:this.memberForm.controls.description.value,image:JSON.stringify(this.selectedProfileImg),facebookLink:this.memberForm.controls.fb_link.value||"",instagramLink:this.memberForm.controls.insta_link.value||"",twitterLink:this.memberForm.controls.twitter_link.value||"",youtubeLink:this.memberForm.controls.youtube_link.value||""};this.editId?(this.spinner.show(),this.afs.collection("leadershipTeam").doc(this.editId).update(n).then(function(){var o=(0,g.Z)(function*(l){i.memberForm.reset(),i.editId="",i.addEditLabel="Add New",i.selectedProfileImg={},i.memberForm.controls.profile_img.enable(),yield i.getLeadershipTeam(),i.spinner.hide()});return function(l){return o.apply(this,arguments)}}())):(this.spinner.show(),this.afs.collection("leadershipTeam").add(n).then(function(){var o=(0,g.Z)(function*(l){i.memberForm.reset(),i.selectedProfileImg={},i.memberForm.controls.profile_img.enable(),yield i.getLeadershipTeam(),i.spinner.hide()});return function(l){return o.apply(this,arguments)}}()))}}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(m.qu),e.Y36(b.ST),e.Y36(T.Q1),e.Y36(x.t2))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-leadership-team"]],decls:56,vars:14,consts:[[1,"leadership_container"],[1,"search_container"],["type","text","placeholder","Search...",3,"keydown.enter"],["search",""],[3,"settings","source"],[1,"form_container"],[3,"formGroup","ngSubmit"],[1,"form_control"],["for","name"],["type","text","id","name","formControlName","name"],["class","error",4,"ngIf"],["for","designation"],["type","text","id","designation","formControlName","designation"],["for","prod_desc"],["type","text","id","prod_desc","rows","10","formControlName","description"],["for","profile_img"],["type","file","accept",".png,.jpg,.jpeg","id","profile_img","formControlName","profile_img",3,"disabled","change"],["profileImg",""],["class","selected_img_preview",4,"ngIf"],["for","fb_link"],["type","text","id","fb_link","formControlName","fb_link"],["for","insta_link"],["type","text","id","insta_link","formControlName","insta_link"],["for","twitter_link"],["type","text","id","twitter_link","formControlName","twitter_link"],["for","youtube_link"],["type","text","id","youtube_link","formControlName","youtube_link"],["type","submit"],[1,"error"],[4,"ngIf"],[1,"selected_img_preview"],[1,"name"],[1,"icons"],[1,"fas","fa-eye",3,"click"],[1,"fas","fa-times",3,"click"]],template:function(i,n){if(1&i){const o=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"input",2,3),e.NdJ("keydown.enter",function(){e.CHM(o);const d=e.MAs(3);return n.onSearch(d.value)}),e.qZA(),e.qZA(),e._UZ(4,"ng2-smart-table",4),e._UZ(5,"br"),e._UZ(6,"br"),e._UZ(7,"br"),e.TgZ(8,"div",5),e.TgZ(9,"h5"),e._uU(10),e.qZA(),e.TgZ(11,"form",6),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(12,"div",7),e.TgZ(13,"label",8),e._uU(14,"Name"),e.qZA(),e._UZ(15,"input",9),e.YNc(16,P,2,1,"div",10),e.qZA(),e.TgZ(17,"div",7),e.TgZ(18,"label",11),e._uU(19,"Designation"),e.qZA(),e._UZ(20,"input",12),e.YNc(21,y,2,1,"div",10),e.qZA(),e.TgZ(22,"div",7),e.TgZ(23,"label",13),e._uU(24,"Description"),e.qZA(),e._UZ(25,"textarea",14),e.YNc(26,O,2,1,"div",10),e.qZA(),e.TgZ(27,"div",7),e.TgZ(28,"label",15),e._uU(29,"Profile Image"),e.qZA(),e.TgZ(30,"input",16,17),e.NdJ("change",function(d){return n.uploadImg(d)}),e.qZA(),e.YNc(32,L,2,1,"div",10),e.YNc(33,I,6,1,"div",18),e.qZA(),e.TgZ(34,"div",7),e.TgZ(35,"label",19),e._uU(36,"Facebook Link"),e.qZA(),e._UZ(37,"input",20),e.YNc(38,q,2,1,"div",10),e.qZA(),e.TgZ(39,"div",7),e.TgZ(40,"label",21),e._uU(41,"Instagram Link"),e.qZA(),e._UZ(42,"input",22),e.YNc(43,U,2,1,"div",10),e.qZA(),e.TgZ(44,"div",7),e.TgZ(45,"label",23),e._uU(46,"Twitter Link"),e.qZA(),e._UZ(47,"input",24),e.YNc(48,Y,2,1,"div",10),e.qZA(),e.TgZ(49,"div",7),e.TgZ(50,"label",25),e._uU(51,"Youtube Link"),e.qZA(),e._UZ(52,"input",26),e.YNc(53,Q,2,1,"div",10),e.qZA(),e.TgZ(54,"button",27),e._uU(55,"Save & Update"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){let o,l,d,p,a,s,c,_;e.xp6(4),e.Q6J("settings",n.settings)("source",n.source),e.xp6(6),e.hij("",n.addEditLabel," Member"),e.xp6(1),e.Q6J("formGroup",n.memberForm),e.xp6(5),e.Q6J("ngIf",((null==(o=n.memberForm.get("name"))?null:o.touched)||(null==(o=n.memberForm.get("name"))?null:o.dirty))&&(null==(o=n.memberForm.get("name"))?null:o.invalid)&&(null==(o=n.memberForm.get("name"))?null:o.errors)),e.xp6(5),e.Q6J("ngIf",((null==(l=n.memberForm.get("designation"))?null:l.touched)||(null==(l=n.memberForm.get("designation"))?null:l.dirty))&&(null==(l=n.memberForm.get("designation"))?null:l.invalid)&&(null==(l=n.memberForm.get("designation"))?null:l.errors)),e.xp6(5),e.Q6J("ngIf",((null==(d=n.memberForm.get("description"))?null:d.touched)||(null==(d=n.memberForm.get("description"))?null:d.dirty))&&(null==(d=n.memberForm.get("description"))?null:d.invalid)&&(null==(d=n.memberForm.get("description"))?null:d.errors)),e.xp6(4),e.Q6J("disabled",n.selectedProfileImg&&n.selectedProfileImg.name),e.xp6(2),e.Q6J("ngIf",((null==(p=n.memberForm.get("profile_img"))?null:p.touched)||(null==(p=n.memberForm.get("profile_img"))?null:p.dirty))&&(null==(p=n.memberForm.get("profile_img"))?null:p.invalid)&&(null==(p=n.memberForm.get("profile_img"))?null:p.errors)),e.xp6(1),e.Q6J("ngIf",n.selectedProfileImg&&n.selectedProfileImg.name),e.xp6(5),e.Q6J("ngIf",((null==(a=n.memberForm.get("fb_link"))?null:a.touched)||(null==(a=n.memberForm.get("fb_link"))?null:a.dirty))&&(null==(a=n.memberForm.get("fb_link"))?null:a.invalid)&&(null==(a=n.memberForm.get("fb_link"))?null:a.errors)),e.xp6(5),e.Q6J("ngIf",((null==(s=n.memberForm.get("insta_link"))?null:s.touched)||(null==(s=n.memberForm.get("insta_link"))?null:s.dirty))&&(null==(s=n.memberForm.get("insta_link"))?null:s.invalid)&&(null==(s=n.memberForm.get("insta_link"))?null:s.errors)),e.xp6(5),e.Q6J("ngIf",((null==(c=n.memberForm.get("twitter_link"))?null:c.touched)||(null==(c=n.memberForm.get("twitter_link"))?null:c.dirty))&&(null==(c=n.memberForm.get("twitter_link"))?null:c.invalid)&&(null==(c=n.memberForm.get("twitter_link"))?null:c.errors)),e.xp6(5),e.Q6J("ngIf",((null==(_=n.memberForm.get("youtube_link"))?null:_.touched)||(null==(_=n.memberForm.get("youtube_link"))?null:_.dirty))&&(null==(_=n.memberForm.get("youtube_link"))?null:_.invalid)&&(null==(_=n.memberForm.get("youtube_link"))?null:_.errors))}},directives:[f.T5,m._Y,m.JL,m.sg,m.Fj,m.JJ,m.u,C.O5],styles:[".leadership_container[_ngcontent-%COMP%]{padding:25px}.leadership_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:10px 0}.leadership_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:34px;padding:0 15px;outline:none;border:1px solid #d4d4d4;border-radius:5px;color:#000;font-size:13px}.form_container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#8a3265;margin-bottom:30px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:75%}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;grid-gap:5px;gap:5px;margin-bottom:15px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:normal}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;outline:none;border:1px solid #d4d5d9;border-radius:5px;padding:0 10px;font-size:14px;font-weight:400;color:#454545;box-sizing:border-box}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 3px 2px #853262b3}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:36px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:13px;color:#ef0000;font-weight:400}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]{padding:15px 20px;border:1px solid #e4e5e9;border-radius:10px;box-shadow:1px 1px 6px #0003;display:flex;justify-content:space-between}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;grid-gap:25px;gap:25px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .fa-eye[_ngcontent-%COMP%]{color:#8a3265}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#ec2525}  .ng2-smart-filters{display:none!important}  ng2-smart-table table{border:1px solid #e4e5e9}  ng2-smart-table thead{background:#8a3265}  ng2-smart-table td{text-align:center}  .ng2-smart-title,   ng2-smart-table-title a{color:#fff!important}  .ng2-smart-title:hover,   ng2-smart-table-title a:hover{text-decoration:none!important}  .ng2-smart-title:after,   ng2-smart-table-title a:after{border-bottom-color:#fff!important}  .ng2-smart-row{border-top:1px solid #e4e5e9}  table-cell-view-mode{text-align:center}  table-cell-view-mode .text div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  ng2-st-tbody-edit-delete{display:flex!important;justify-content:space-around!important}  ng2-st-tbody-edit-delete a{color:#8a3265!important}"]}),t})(),S=(()=>{class t{constructor(){this.onEdit=new e.vpe,this.onDelete=new e.vpe}ngOnInit(){}edit(){this.onEdit.emit(this.rowData)}delete(){this.onDelete.emit(this.rowData)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-leadership-action"]],inputs:{rowData:"rowData"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:5,vars:0,consts:[[1,"actions"],[3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"a",1),e.NdJ("click",function(){return n.edit()}),e._uU(2,"Edit"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.delete()}),e._uU(4,"Delete"),e.qZA(),e.qZA())},styles:[v]}),t})(),j=(()=>{class t{ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile-image"]],inputs:{rowData:"rowData"},decls:3,vars:2,consts:[[1,"actions"],["target","_blank",3,"href"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"a",1),e._uU(2),e.qZA(),e.qZA()),2&i&&(e.xp6(1),e.Q6J("href",n.rowData.image.fileUrl,e.LSH),e.xp6(1),e.Oqu(n.rowData.image.name))},styles:[v]}),t})();var Z=u(3736);const z=[{path:"",component:E}];let B=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(z)],Z.Bz]}),t})(),H=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[C.ez,B,f.ne,m.u5,m.UX,b.yb,T.TE]]}),t})()}}]);