var Jk=Object.defineProperty,Xk=Object.defineProperties,eA=Object.getOwnPropertyDescriptors,dk=Object.getOwnPropertySymbols,tA=Object.prototype.hasOwnProperty,nA=Object.prototype.propertyIsEnumerable,hk=(Jt,vt,X)=>vt in Jt?Jk(Jt,vt,{enumerable:!0,configurable:!0,writable:!0,value:X}):Jt[vt]=X,un=(Jt,vt)=>{for(var X in vt||(vt={}))tA.call(vt,X)&&hk(Jt,X,vt[X]);if(dk)for(var X of dk(vt))nA.call(vt,X)&&hk(Jt,X,vt[X]);return Jt},_s=(Jt,vt)=>Xk(Jt,eA(vt));(self.webpackChunksecuriskadmin=self.webpackChunksecuriskadmin||[]).push([[179],{2008:(Jt,vt,X)=>{"use strict";X.d(vt,{zQ:()=>ze,ww:()=>He,Qv:()=>qt});var m=X(9619),B=X(3405),he=X(2411),Ne=X(5548),ce=X(1915),U=X(8526),De=X(7575),Y=X(1346),be=X(9254),fe=X(2108),ge=X(5973);class _e extends B.xQ{constructor(Qe=Number.POSITIVE_INFINITY,It=Number.POSITIVE_INFINITY,Vt){super(),this.scheduler=Vt,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Qe<1?1:Qe,this._windowTime=It<1?1:It,It===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Qe){if(!this.isStopped){const It=this._events;It.push(Qe),It.length>this._bufferSize&&It.shift()}super.next(Qe)}nextTimeWindow(Qe){this.isStopped||(this._events.push(new Te(this._getNow(),Qe)),this._trimBufferThenGetEvents()),super.next(Qe)}_subscribe(Qe){const It=this._infiniteTimeWindow,Vt=It?this._events:this._trimBufferThenGetEvents(),Ht=this.scheduler,jt=Vt.length;let Kt;if(this.closed)throw new fe.N;if(this.isStopped||this.hasError?Kt=Y.w.EMPTY:(this.observers.push(Qe),Kt=new ge.W(this,Qe)),Ht&&Qe.add(Qe=new be.ht(Qe,Ht)),It)for(let lt=0;lt<jt&&!Qe.closed;lt++)Qe.next(Vt[lt]);else for(let lt=0;lt<jt&&!Qe.closed;lt++)Qe.next(Vt[lt].value);return this.hasError?Qe.error(this.thrownError):this.isStopped&&Qe.complete(),Kt}_getNow(){return(this.scheduler||De.c).now()}_trimBufferThenGetEvents(){const Qe=this._getNow(),It=this._bufferSize,Vt=this._windowTime,Ht=this._events,jt=Ht.length;let Kt=0;for(;Kt<jt&&!(Qe-Ht[Kt].time<Vt);)Kt++;return jt>It&&(Kt=Math.max(Kt,jt-It)),Kt>0&&Ht.splice(0,Kt),Ht}}class Te{constructor(Qe,It){this.time=Qe,this.value=It}}function we(Fe,Qe,It){let Vt;return Vt=Fe&&"object"==typeof Fe?Fe:{bufferSize:Fe,windowTime:Qe,refCount:!1,scheduler:It},Ht=>Ht.lift(function({bufferSize:Fe=Number.POSITIVE_INFINITY,windowTime:Qe=Number.POSITIVE_INFINITY,refCount:It,scheduler:Vt}){let Ht,Kt,jt=0,lt=!1,$t=!1;return function(Et){let pn;jt++,!Ht||lt?(lt=!1,Ht=new _e(Fe,Qe,Vt),pn=Ht.subscribe(this),Kt=Et.subscribe({next(jn){Ht.next(jn)},error(jn){lt=!0,Ht.error(jn)},complete(){$t=!0,Kt=void 0,Ht.complete()}}),$t&&(Kt=void 0)):pn=Ht.subscribe(this),this.add(()=>{jt--,pn.unsubscribe(),pn=void 0,Kt&&!$t&&It&&0===jt&&(Kt.unsubscribe(),Kt=void 0,Ht=void 0)})}}(Vt))}var Xe=X(9204);function Se(Fe,Qe){return Qe?(0,Xe.w)(()=>Fe,Qe):(0,Xe.w)(()=>Fe)}var ct=X(8053),$e=X(739),de=X(2635),Oe=X(8735),Mt=X(436),dt=X(6019);const qt=new m.OlP("angularfire2.auth.use-emulator"),vn=new m.OlP("angularfire2.auth.settings"),At=new m.OlP("angularfire2.auth.tenant-id"),et=new m.OlP("angularfire2.auth.langugage-code"),Ke=new m.OlP("angularfire2.auth.use-device-language"),je=new m.OlP("angularfire.auth.persistence");let ze=(()=>{class Fe{constructor(It,Vt,Ht,jt,Kt,lt,$t,_t,Et,pn){const jn=new Mt.HU(jt),Zi=(0,Mt.ss)(jn),Dn=new B.xQ,kr=(0,he.of)(void 0).pipe((0,be.QV)(jn.outsideAngular),(0,Xe.w)(()=>jt.runOutsideAngular(()=>X.e(881).then(X.bind(X,4881)))),(0,ct.U)(()=>(0,Mt.on)(It,jt,Vt)),(0,ct.U)(br=>jt.runOutsideAngular(()=>{const Nn=Kt,Cn=lt;return(0,Mt.sI)(`${br.name}.auth`,"AngularFireAuth",br,()=>{const si=jt.runOutsideAngular(()=>br.auth());if(Nn&&si.useEmulator(`http://${Nn.join(":")}`),$t&&(si.tenantId=$t),si.languageCode=_t,Et&&si.useDeviceLanguage(),Cn)for(const[Zn,ai]of Object.entries(Cn))si.settings[Zn]=ai;return pn&&si.setPersistence(pn),si},[Nn,$t,_t,Et,Cn,pn])})),we({bufferSize:1,refCount:!1}));if((0,dt.PM)(Ht))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,he.of)(null);else{kr.pipe((0,$e.P)()).subscribe();const Nn=kr.pipe((0,Xe.w)(ai=>ai.getRedirectResult().then(fi=>fi,()=>null)),Zi,we({bufferSize:1,refCount:!1})),Cn=ai=>new Ne.y(fi=>({unsubscribe:jt.runOutsideAngular(()=>ai(fi))})),si=kr.pipe((0,Xe.w)(ai=>Cn(ai.onAuthStateChanged.bind(ai)))),Zn=kr.pipe((0,Xe.w)(ai=>Cn(ai.onIdTokenChanged.bind(ai))));this.authState=Nn.pipe(Se(si),(0,de.R)(jn.outsideAngular),(0,be.QV)(jn.insideAngular)),this.user=Nn.pipe(Se(Zn),(0,de.R)(jn.outsideAngular),(0,be.QV)(jn.insideAngular)),this.idToken=this.user.pipe((0,Xe.w)(ai=>ai?(0,ce.D)(ai.getIdToken()):(0,he.of)(null))),this.idTokenResult=this.user.pipe((0,Xe.w)(ai=>ai?(0,ce.D)(ai.getIdTokenResult()):(0,he.of)(null))),this.credential=(0,U.T)(Nn,Dn,this.authState.pipe((0,Oe.h)(ai=>!ai))).pipe((0,ct.U)(ai=>(null==ai?void 0:ai.user)?ai:null),(0,de.R)(jn.outsideAngular),(0,be.QV)(jn.insideAngular))}return(0,Mt.pX)(this,kr,jt,{spy:{apply:(br,Nn,Cn)=>{(br.startsWith("signIn")||br.startsWith("createUser"))&&Cn.then(si=>Dn.next(si))}}})}}return Fe.\u0275fac=function(It){return new(It||Fe)(m.LFG(Mt.Dh),m.LFG(Mt.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(qt,8),m.LFG(vn,8),m.LFG(At,8),m.LFG(et,8),m.LFG(Ke,8),m.LFG(je,8))},Fe.\u0275prov=m.Yz7({factory:function(){return new Fe(m.LFG(Mt.Dh),m.LFG(Mt.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(qt,8),m.LFG(vn,8),m.LFG(At,8),m.LFG(et,8),m.LFG(Ke,8),m.LFG(je,8))},token:Fe,providedIn:"any"}),Fe})(),He=(()=>{class Fe{}return Fe.\u0275fac=function(It){return new(It||Fe)},Fe.\u0275mod=m.oAB({type:Fe}),Fe.\u0275inj=m.cJS({providers:[ze]}),Fe})()},2581:(Jt,vt,X)=>{"use strict";X.d(vt,{ST:()=>Cr,yb:()=>Ul});var m=X(9619),B=X(8178),he=X(5548),Ne=X(1915),ce=X(2411),U=X(4168);function De(){return s=>s.lift(new Y)}class Y{call(i,c){return c.subscribe(new be(i))}}class be extends U.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let c;this.hasPrev?c=[this.prev,i]:this.hasPrev=!0,this.prev=i,c&&this.destination.next(c)}}var fe=X(1125),ge=X(8053),_e=X(7434),Te=X(5389),we=X(8735),Ve=X(9254),Xe=X(436),Se=X(6019),ct=X(7713),$e=X(417),de=X(4762),Oe=X(8305),Mt=X(6433),dt=function(s,i){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(c[b]=p[b])})(s,i)};function qt(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],p=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&p>=s.length&&(s=void 0),{value:s&&s[p++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var At,vn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},et=et||{},Ke=vn||self;function je(){}function ze(s){var i=typeof s;return"array"==(i="object"!=i?i:s?Array.isArray(s)?"array":i:"null")||"object"==i&&"number"==typeof s.length}function He(s){var i=typeof s;return"object"==i&&null!=s||"function"==i}var Qe="closure_uid_"+(1e9*Math.random()>>>0),It=0;function Vt(s,i,c){return s.call.apply(s.bind,arguments)}function Ht(s,i,c){if(!s)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),s.apply(i,b)}}return function(){return s.apply(i,arguments)}}function jt(s,i,c){return(jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vt:Ht).apply(null,arguments)}function Kt(s,i){var c=Array.prototype.slice.call(arguments,1);return function(){var p=c.slice();return p.push.apply(p,arguments),s.apply(this,p)}}function lt(s,i){function c(){}c.prototype=i.prototype,s.Z=i.prototype,s.prototype=new c,s.prototype.constructor=s,s.Vb=function(p,b,A){for(var S=Array(arguments.length-2),j=2;j<arguments.length;j++)S[j-2]=arguments[j];return i.prototype[b].apply(p,S)}}function $t(){this.s=this.s,this.o=this.o}var Et={};$t.prototype.s=!1,$t.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,Qe)&&s[Qe]||(s[Qe]=++It)}(this);delete Et[s]}},$t.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var pn=Array.prototype.indexOf?function(s,i){return Array.prototype.indexOf.call(s,i,void 0)}:function(s,i){if("string"==typeof s)return"string"!=typeof i||1!=i.length?-1:s.indexOf(i,0);for(var c=0;c<s.length;c++)if(c in s&&s[c]===i)return c;return-1},jn=Array.prototype.forEach?function(s,i,c){Array.prototype.forEach.call(s,i,c)}:function(s,i,c){for(var p=s.length,b="string"==typeof s?s.split(""):s,A=0;A<p;A++)A in b&&i.call(c,b[A],A,s)};function Dn(s){return Array.prototype.concat.apply([],arguments)}function kr(s){var i=s.length;if(0<i){for(var c=Array(i),p=0;p<i;p++)c[p]=s[p];return c}return[]}function br(s){return/^[\s\xa0]*$/.test(s)}var Zn,Nn=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Cn(s,i){return-1!=s.indexOf(i)}function si(s,i){return s<i?-1:s>i?1:0}e:{var ai=Ke.navigator;if(ai){var fi=ai.userAgent;if(fi){Zn=fi;break e}}Zn=""}function Di(s,i,c){for(var p in s)i.call(c,s[p],p,s)}function Ei(s){var i={};for(var c in s)i[c]=s[c];return i}var Vo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rn(s,i){for(var c,p,b=1;b<arguments.length;b++){for(c in p=arguments[b])s[c]=p[c];for(var A=0;A<Vo.length;A++)c=Vo[A],Object.prototype.hasOwnProperty.call(p,c)&&(s[c]=p[c])}}function Or(s){return Or[" "](s),s}Or[" "]=je;var Ni,s,oo=Cn(Zn,"Opera"),Ui=Cn(Zn,"Trident")||Cn(Zn,"MSIE"),Gn=Cn(Zn,"Edge"),Hn=Gn||Ui,Vr=Cn(Zn,"Gecko")&&!(Cn(Zn.toLowerCase(),"webkit")&&!Cn(Zn,"Edge"))&&!(Cn(Zn,"Trident")||Cn(Zn,"MSIE"))&&!Cn(Zn,"Edge"),_i=Cn(Zn.toLowerCase(),"webkit")&&!Cn(Zn,"Edge");function cr(){var s=Ke.document;return s?s.documentMode:void 0}e:{var Ri="",nr=(s=Zn,Vr?/rv:([^\);]+)(\)|;)/.exec(s):Gn?/Edge\/([\d\.]+)/.exec(s):Ui?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):_i?/WebKit\/(\S+)/.exec(s):oo?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(nr&&(Ri=nr?nr[1]:""),Ui){var Pi=cr();if(null!=Pi&&Pi>parseFloat(Ri)){Ni=String(Pi);break e}}Ni=Ri}var bt={};function nt(){return i=bt,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var s=0,i=Nn(String(Ni)).split("."),c=Nn("9").split("."),p=Math.max(i.length,c.length),b=0;0==s&&b<p;b++){var A=i[b]||"",S=c[b]||"";do{if(A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],0==A[0].length&&0==S[0].length)break;s=si(0==A[1].length?0:parseInt(A[1],10),0==S[1].length?0:parseInt(S[1],10))||si(0==A[2].length,0==S[2].length)||si(A[2],S[2]),A=A[3],S=S[3]}while(0==s)}return 0<=s}();var i}var Tt=Ke.document&&Ui&&(cr()||parseInt(Ni,10))||void 0,sn=function(){if(!Ke.addEventListener||!Object.defineProperty)return!1;var s=!1,i=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Ke.addEventListener("test",je,i),Ke.removeEventListener("test",je,i)}catch(c){}return s}();function zn(s,i){this.type=s,this.g=this.target=i,this.defaultPrevented=!1}function Qn(s,i){if(zn.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var c=this.type=s.type,p=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=i,i=s.relatedTarget){if(Vr){e:{try{Or(i.nodeName);var b=!0;break e}catch(A){}b=!1}b||(i=null)}}else"mouseover"==c?i=s.fromElement:"mouseout"==c&&(i=s.toElement);this.relatedTarget=i,p?(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Fn[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Qn.Z.h.call(this)}}zn.prototype.h=function(){this.defaultPrevented=!0},lt(Qn,zn);var Fn={2:"touch",3:"pen",4:"mouse"};Qn.prototype.h=function(){Qn.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Mi="closure_listenable_"+(1e6*Math.random()|0),Hi=0;function Lr(s,i,c,p,b){this.listener=s,this.proxy=null,this.src=i,this.type=c,this.capture=!!p,this.ia=b,this.key=++Hi,this.ca=this.fa=!1}function Qr(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function hr(s){this.src=s,this.g={},this.h=0}function Pt(s,i){var c=i.type;if(c in s.g){var A,p=s.g[c],b=pn(p,i);(A=0<=b)&&Array.prototype.splice.call(p,b,1),A&&(Qr(i),0==s.g[c].length&&(delete s.g[c],s.h--))}}function yt(s,i,c,p){for(var b=0;b<s.length;++b){var A=s[b];if(!A.ca&&A.listener==i&&A.capture==!!c&&A.ia==p)return b}return-1}hr.prototype.add=function(s,i,c,p,b){var A=s.toString();(s=this.g[A])||(s=this.g[A]=[],this.h++);var S=yt(s,i,p,b);return-1<S?(i=s[S],c||(i.fa=!1)):((i=new Lr(i,this.src,A,!!p,b)).fa=c,s.push(i)),i};var tt="closure_lm_"+(1e6*Math.random()|0),St={};function Qt(s,i,c,p,b){if(p&&p.once)return gi(s,i,c,p,b);if(Array.isArray(i)){for(var A=0;A<i.length;A++)Qt(s,i[A],c,p,b);return null}return c=mn(c),s&&s[Mi]?s.N(i,c,He(p)?!!p.capture:!!p,b):Tn(s,i,c,!1,p,b)}function Tn(s,i,c,p,b,A){if(!i)throw Error("Invalid event type");var S=He(b)?!!b.capture:!!b,j=fr(s);if(j||(s[tt]=j=new hr(s)),(c=j.add(i,c,p,S,A)).proxy)return c;if(p=function(){var i=as;return function s(c){return i.call(s.src,s.listener,c)}}(),c.proxy=p,p.src=s,p.listener=c,s.addEventListener)sn||(b=S),void 0===b&&(b=!1),s.addEventListener(i.toString(),p,b);else if(s.attachEvent)s.attachEvent(xo(i.toString()),p);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(p)}return c}function gi(s,i,c,p,b){if(Array.isArray(i)){for(var A=0;A<i.length;A++)gi(s,i[A],c,p,b);return null}return c=mn(c),s&&s[Mi]?s.O(i,c,He(p)?!!p.capture:!!p,b):Tn(s,i,c,!0,p,b)}function Ar(s,i,c,p,b){if(Array.isArray(i))for(var A=0;A<i.length;A++)Ar(s,i[A],c,p,b);else p=He(p)?!!p.capture:!!p,c=mn(c),s&&s[Mi]?(s=s.i,(i=String(i).toString())in s.g&&-1<(c=yt(A=s.g[i],c,p,b))&&(Qr(A[c]),Array.prototype.splice.call(A,c,1),0==A.length&&(delete s.g[i],s.h--))):s&&(s=fr(s))&&(i=s.g[i.toString()],s=-1,i&&(s=yt(i,c,p,b)),(c=-1<s?i[s]:null)&&Ai(c))}function Ai(s){if("number"!=typeof s&&s&&!s.ca){var i=s.src;if(i&&i[Mi])Pt(i.i,s);else{var c=s.type,p=s.proxy;i.removeEventListener?i.removeEventListener(c,p,s.capture):i.detachEvent?i.detachEvent(xo(c),p):i.addListener&&i.removeListener&&i.removeListener(p),(c=fr(i))?(Pt(c,s),0==c.h&&(c.src=null,i[tt]=null)):Qr(s)}}}function xo(s){return s in St?St[s]:St[s]="on"+s}function as(s,i){if(s.ca)s=!0;else{i=new Qn(i,this);var c=s.listener,p=s.ia||s.src;s.fa&&Ai(s),s=c.call(p,i)}return s}function fr(s){return(s=s[tt])instanceof hr?s:null}var xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(s){return"function"==typeof s?s:(s[xr]||(s[xr]=function(i){return s.handleEvent(i)}),s[xr])}function qn(){$t.call(this),this.i=new hr(this),this.P=this,this.I=null}function pi(s,i){var c,p=s.I;if(p)for(c=[];p;p=p.I)c.push(p);if(s=s.P,p=i.type||i,"string"==typeof i)i=new zn(i,s);else if(i instanceof zn)i.target=i.target||s;else{var b=i;Rn(i=new zn(p,s),b)}if(b=!0,c)for(var A=c.length-1;0<=A;A--){var S=i.g=c[A];b=Ki(S,p,!0,i)&&b}if(b=Ki(S=i.g=s,p,!0,i)&&b,b=Ki(S,p,!1,i)&&b,c)for(A=0;A<c.length;A++)b=Ki(S=i.g=c[A],p,!1,i)&&b}function Ki(s,i,c,p){if(!(i=s.i.g[String(i)]))return!0;i=i.concat();for(var b=!0,A=0;A<i.length;++A){var S=i[A];if(S&&!S.ca&&S.capture==c){var j=S.listener,oe=S.ia||S.src;S.fa&&Pt(s.i,S),b=!1!==j.call(oe,p)&&b}}return b&&!p.defaultPrevented}lt(qn,$t),qn.prototype[Mi]=!0,qn.prototype.removeEventListener=function(s,i,c,p){Ar(this,s,i,c,p)},qn.prototype.M=function(){if(qn.Z.M.call(this),this.i){var i,s=this.i;for(i in s.g){for(var c=s.g[i],p=0;p<c.length;p++)Qr(c[p]);delete s.g[i],s.h--}}this.I=null},qn.prototype.N=function(s,i,c,p){return this.i.add(String(s),i,!1,c,p)},qn.prototype.O=function(s,i,c,p){return this.i.add(String(s),i,!0,c,p)};var yo=Ke.JSON.stringify;function qr(){var s=xs,i=null;return s.g&&(i=s.g,s.g=s.g.next,s.g||(s.h=null),i.next=null),i}var gr,wo=function(){function s(){this.h=this.g=null}return s.prototype.add=function(i,c){var p=Qi.get();p.set(i,c),this.h?this.h.next=p:this.g=p,this.h=p},s}(),Qi=new(function(){function s(i,c){this.i=i,this.j=c,this.h=0,this.g=null}return s.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},s}())(function(){return new sr},function(s){return s.reset()}),sr=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(i,c){this.h=i,this.g=c,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function so(s){Ke.setTimeout(function(){throw s},0)}function Yn(s,i){gr||function(){var s=Ke.Promise.resolve(void 0);gr=function(){s.then(Jn)}}(),Xo||(gr(),Xo=!0),xs.add(s,i)}var Xo=!1,xs=new wo;function Jn(){for(var s;s=qr();){try{s.h.call(s.g)}catch(c){so(c)}var i=Qi;i.j(s),100>i.h&&(i.h++,s.next=i.g,i.g=s)}Xo=!1}function ls(s,i){qn.call(this),this.h=s||1,this.g=i||Ke,this.j=jt(this.kb,this),this.l=Date.now()}function Uo(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Nr(s,i,c){if("function"==typeof s)c&&(s=jt(s,c));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=jt(s.handleEvent,s)}return 2147483647<Number(i)?-1:Ke.setTimeout(s,i||0)}function Gi(s){s.g=Nr(function(){s.g=null,s.i&&(s.i=!1,Gi(s))},s.j);var i=s.h;s.h=null,s.m.apply(null,i)}lt(ls,qn),(At=ls.prototype).da=!1,At.S=null,At.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pi(this,"tick"),this.da&&(Uo(this),this.start()))}},At.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},At.M=function(){ls.Z.M.call(this),Uo(this),delete this.g};var cs=function(s){function i(c,p){var b=s.call(this)||this;return b.m=c,b.j=p,b.h=null,b.i=!1,b.g=null,b}return function(s,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function c(){this.constructor=s}dt(s,i),s.prototype=null===i?Object.create(i):(c.prototype=i.prototype,new c)}(i,s),i.prototype.l=function(c){this.h=arguments,this.g?this.i=!0:Gi(this)},i.prototype.M=function(){s.prototype.M.call(this),this.g&&(Ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}($t);function Oo(s){$t.call(this),this.h=s,this.g={}}lt(Oo,$t);var No=[];function Eo(s,i,c,p){Array.isArray(c)||(c&&(No[0]=c.toString()),c=No);for(var b=0;b<c.length;b++){var A=Qt(i,c[b],p||s.handleEvent,!1,s.h||s);if(!A)break;s.g[A.key]=A}}function Ho(s){Di(s.g,function(i,c){this.g.hasOwnProperty(c)&&Ai(i)},s),s.g={}}function es(){this.g=!0}function Xr(s,i,c,p){s.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(s,i){if(!s.g)return i;if(!i)return null;try{var c=JSON.parse(i);if(c)for(s=0;s<c.length;s++)if(Array.isArray(c[s])){var p=c[s];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if("noop"!=A&&"stop"!=A&&"close"!=A)for(var S=1;S<b.length;S++)b[S]=""}}}return yo(c)}catch(j){return i}}(s,c)+(p?" "+p:"")})}Oo.prototype.M=function(){Oo.Z.M.call(this),Ho(this)},Oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},es.prototype.Aa=function(){this.g=!1},es.prototype.info=function(){};var co={},vr=null;function Go(){return vr=vr||new qn}function Ur(s){zn.call(this,co.Ma,s)}function bs(s){var i=Go();pi(i,new Ur(i,s))}function Ls(s,i){zn.call(this,co.STAT_EVENT,s),this.stat=i}function Gr(s){var i=Go();pi(i,new Ls(i,s))}function ts(s,i){zn.call(this,co.Na,s),this.size=i}function da(s,i){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Ke.setTimeout(function(){s()},i)}co.Ma="serverreachability",lt(Ur,zn),co.STAT_EVENT="statevent",lt(Ls,zn),co.Na="timingevent",lt(ts,zn);var Qs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Js={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function za(){}function ns(){}za.prototype.h=null;var cl,Xs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Bs(){zn.call(this,"d")}function Qa(){zn.call(this,"c")}function $r(){}function ea(s,i,c,p){this.l=s,this.j=i,this.m=c,this.X=p||1,this.V=new Oo(this),this.P=js,this.W=new ls(s=Hn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ta}function ta(){this.i=null,this.g="",this.h=!1}lt(Bs,zn),lt(Qa,zn),lt($r,za),$r.prototype.g=function(){return new XMLHttpRequest},$r.prototype.i=function(){return{}},cl=new $r;var js=45e3,Ji={},Es={};function Xi(s,i,c){s.K=1,s.v=G(V(i)),s.s=c,s.U=!0,ur(s,null)}function ur(s,i){s.F=Date.now(),go(s),s.A=V(s.v);var c=s.A,p=s.X;Array.isArray(p)||(p=[String(p)]),mo(c.h,"t",p),s.C=0,c=s.l.H,s.h=new ta,s.g=Fr(s.l,c?i:null,!s.s),0<s.O&&(s.L=new cs(jt(s.Ia,s,s.g),s.O)),Eo(s.V,s.g,"readystatechange",s.gb),i=s.H?Ei(s.H):{},s.s?(s.u||(s.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,i)):(s.u="GET",s.g.ea(s.A,s.u,null,i)),bs(1),function(s,i,c,p,b,A){s.info(function(){if(s.g)if(A)for(var S="",j=A.split("&"),oe=0;oe<j.length;oe++){var Ee=j[oe].split("=");if(1<Ee.length){var Le=Ee[0];Ee=Ee[1];var rt=Le.split("_");S=2<=rt.length&&"type"==rt[1]?S+(Le+"=")+Ee+"&":S+(Le+"=redacted&")}}else S=null;else S=A;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+i+"\n"+c+"\n"+S})}(s.j,s.u,s.A,s.m,s.X,s.s)}function na(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function zs(s,i,c){for(var b,p=!0;!s.I&&s.C<c.length;){if((b=Wr(s,c))==Es){4==i&&(s.o=4,Gr(14),p=!1),Xr(s.j,s.m,null,"[Incomplete Response]");break}if(b==Ji){s.o=4,Gr(15),Xr(s.j,s.m,c,"[Invalid Chunk]"),p=!1;break}Xr(s.j,s.m,b,null),Rr(s,b)}na(s)&&b!=Es&&b!=Ji&&(s.h.g="",s.C=0),4!=i||0!=c.length||s.h.h||(s.o=1,Gr(16),p=!1),s.i=s.i&&p,p?0<c.length&&!s.aa&&(s.aa=!0,(i=s.l).g==s&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+c.length),eo(i),i.L=!0,Gr(11))):(Xr(s.j,s.m,c,"[Invalid Chunked Response]"),Vs(s),Fo(s))}function Wr(s,i){var c=s.C,p=i.indexOf("\n",c);return-1==p?Es:(c=Number(i.substring(c,p)),isNaN(c)?Ji:(p+=1)+c>i.length?Es:(i=i.substr(p,c),s.C=p+c,i))}function go(s){s.Y=Date.now()+s.P,$o(s,s.P)}function $o(s,i){if(null!=s.B)throw Error("WatchDog timer not null");s.B=da(jt(s.eb,s),i)}function Ms(s){s.B&&(Ke.clearTimeout(s.B),s.B=null)}function Fo(s){0==s.l.G||s.I||Cs(s.l,s)}function Vs(s){Ms(s);var i=s.L;i&&"function"==typeof i.na&&i.na(),s.L=null,Uo(s.W),Ho(s.V),s.g&&(i=s.g,s.g=null,i.abort(),i.na())}function Rr(s,i){try{var c=s.l;if(0!=c.G&&(c.g==s||Ti(c.i,s)))if(c.I=s.N,!s.J&&Ti(c.i,s)&&3==c.G){try{var p=c.Ca.g.parse(i)}catch(En){p=null}if(Array.isArray(p)&&3==p.length){var b=p;if(0==b[0])e:if(c.u)c.ta=b[1],0<c.ta-c.U&&37500>b[2]&&c.N&&0==c.A&&!c.v&&(c.v=da(jt(c.ab,c),6e3));else{if(c.g){if(!(c.g.F+3e3<s.F))break e;ui(c),Lt(c)}To(c),Gr(18)}if(1>=dn(c.i)&&c.ka){try{c.ka()}catch(En){}c.ka=void 0}}else Li(c,11)}else if((s.J||c.g==s)&&ui(c),!br(i))for(b=c.Ca.g.parse(i),i=0;i<b.length;i++){var A=b[i];if(c.U=A[0],A=A[1],2==c.G)if("c"==A[0]){c.J=A[1],c.la=A[2];var S=A[3];null!=S&&(c.ma=S,c.h.info("VER="+c.ma));var j=A[4];null!=j&&(c.za=j,c.h.info("SVER="+c.za));var oe=A[5];null!=oe&&"number"==typeof oe&&0<oe&&(c.K=p=1.5*oe,c.h.info("backChannelRequestTimeoutMs_="+p)),p=c;var Ee=s.g;if(Ee){var Le=Ee.g?Ee.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Le){var rt=p.i;!rt.g&&(Cn(Le,"spdy")||Cn(Le,"quic")||Cn(Le,"h2"))&&(rt.j=rt.l,rt.g=new Set,rt.h&&(ul(rt,rt.h),rt.h=null))}if(p.D){var pt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Session-Id"):null;pt&&(p.sa=pt,z(p.F,p.D,pt))}}c.G=3,c.j&&c.j.xa(),c.$&&(c.O=Date.now()-s.F,c.h.info("Handshake RTT: "+c.O+"ms"));var Bt=s;if((p=c).oa=pa(p,p.H?p.la:null,p.W),Bt.J){Co(p.i,Bt);var Ut=Bt,Yt=p.K;Yt&&Ut.setTimeout(Yt),Ut.B&&(Ms(Ut),go(Ut)),p.g=Bt}else Hs(p);0<c.l.length&&gn(c)}else"stop"!=A[0]&&"close"!=A[0]||Li(c,7);else 3==c.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?Li(c,7):ft(c):"noop"!=A[0]&&c.j&&c.j.wa(A),c.A=0)}bs(4)}catch(En){}}function vs(s,i){if(s.forEach&&"function"==typeof s.forEach)s.forEach(i,void 0);else if(ze(s)||"string"==typeof s)jn(s,i,void 0);else{if(s.T&&"function"==typeof s.T)var c=s.T();else if(s.R&&"function"==typeof s.R)c=void 0;else if(ze(s)||"string"==typeof s){c=[];for(var p=s.length,b=0;b<p;b++)c.push(b)}else for(b in c=[],p=0,s)c[p++]=b;p=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(ze(s)){for(var i=[],c=s.length,p=0;p<c;p++)i.push(s[p]);return i}for(p in i=[],c=0,s)i[c++]=s[p];return i}(s),b=p.length;for(var A=0;A<b;A++)i.call(void 0,p[A],c&&c[A],s)}}function us(s,i){this.h={},this.g=[],this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var p=0;p<c;p+=2)this.set(arguments[p],arguments[p+1])}else if(s)if(s instanceof us)for(c=s.T(),p=0;p<c.length;p++)this.set(c[p],s.get(c[p]));else for(p in s)this.set(p,s[p])}function Er(s){if(s.i!=s.g.length){for(var i=0,c=0;i<s.g.length;){var p=s.g[i];ie(s.h,p)&&(s.g[c++]=p),i++}s.g.length=c}if(s.i!=s.g.length){var b={};for(c=i=0;i<s.g.length;)ie(b,p=s.g[i])||(s.g[c++]=p,b[p]=1),i++;s.g.length=c}}function ie(s,i){return Object.prototype.hasOwnProperty.call(s,i)}(At=ea.prototype).setTimeout=function(s){this.P=s},At.gb=function(s){s=s.target;var i=this.L;i&&3==ot(s)?i.l():this.Ia(s)},At.Ia=function(s){try{if(s==this.g)e:{var i=ot(this.g),c=this.g.Da(),p=this.g.ba();if(!(3>i)&&(3!=i||Hn||this.g&&(this.h.h||this.g.ga()||gt(this.g)))){this.I||4!=i||7==c||bs(8==c||0>=p?3:2),Ms(this);var b=this.g.ba();this.N=b;t:if(na(this)){var A=gt(this.g);s="";var S=A.length,j=4==ot(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vs(this),Fo(this);var oe="";break t}this.h.i=new Ke.TextDecoder}for(c=0;c<S;c++)this.h.h=!0,s+=this.h.i.decode(A[c],{stream:j&&c==S-1});A.splice(0,S),this.h.g+=s,this.C=0,oe=this.h.g}else oe=this.g.ga();if(this.i=200==b,function(s,i,c,p,b,A,S){s.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+i+"\n"+c+"\n"+A+" "+S})}(this.j,this.u,this.A,this.m,this.X,i,b),this.i){if(this.$&&!this.J){t:{if(this.g){var Ee,Le=this.g;if((Ee=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!br(Ee)){var rt=Ee;break t}}rt=null}if(!(b=rt)){this.i=!1,this.o=3,Gr(12),Vs(this),Fo(this);break e}Xr(this.j,this.m,b,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rr(this,b)}this.U?(zs(this,i,oe),Hn&&this.i&&3==i&&(Eo(this.V,this.W,"tick",this.fb),this.W.start())):(Xr(this.j,this.m,oe,null),Rr(this,oe)),4==i&&Vs(this),this.i&&!this.I&&(4==i?Cs(this.l,this):(this.i=!1,go(this)))}else 400==b&&0<oe.indexOf("Unknown SID")?(this.o=3,Gr(12)):(this.o=0,Gr(13)),Vs(this),Fo(this)}}}catch(pt){}},At.fb=function(){if(this.g){var s=ot(this.g),i=this.g.ga();this.C<i.length&&(Ms(this),zs(this,s,i),this.i&&4!=s&&go(this))}},At.cancel=function(){this.I=!0,Vs(this)},At.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,i){s.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(bs(3),Gr(17)),Vs(this),this.o=2,Fo(this)):$o(this,this.Y-s)},(At=us.prototype).R=function(){Er(this);for(var s=[],i=0;i<this.g.length;i++)s.push(this.h[this.g[i]]);return s},At.T=function(){return Er(this),this.g.concat()},At.get=function(s,i){return ie(this.h,s)?this.h[s]:i},At.set=function(s,i){ie(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=i},At.forEach=function(s,i){for(var c=this.T(),p=0;p<c.length;p++){var b=c[p],A=this.get(b);s.call(i,A,b,this)}};var ne=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function it(s,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof it){this.g=void 0!==i?i:s.g,le(this,s.j),this.s=s.s,W(this,s.i),ve(this,s.m),this.l=s.l,i=s.h;var c=new Sr;c.i=i.i,i.g&&(c.g=new us(i.g),c.h=i.h),Ze(this,c),this.o=s.o}else s&&(c=String(s).match(ne))?(this.g=!!i,le(this,c[1]||"",!0),this.s=xt(c[2]||""),W(this,c[3]||"",!0),ve(this,c[4]),this.l=xt(c[5]||"",!0),Ze(this,c[6]||"",!0),this.o=xt(c[7]||"")):(this.g=!!i,this.h=new Sr(null,this.g))}function V(s){return new it(s)}function le(s,i,c){s.j=c?xt(i,!0):i,s.j&&(s.j=s.j.replace(/:$/,""))}function W(s,i,c){s.i=c?xt(i,!0):i}function ve(s,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);s.m=i}else s.m=null}function Ze(s,i,c){i instanceof Sr?(s.h=i,function(s,i){i&&!s.j&&(ho(s),s.i=null,s.g.forEach(function(c,p){var b=p.toLowerCase();p!=b&&(ys(this,p),mo(this,b,c))},s)),s.j=i}(s.h,s.g)):(c||(i=nn(i,yr)),s.h=new Sr(i,s.g))}function z(s,i,c){s.h.set(i,c)}function G(s){return z(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function xt(s,i){return s?i?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function nn(s,i,c){return"string"==typeof s?(s=encodeURI(s).replace(i,_n),c&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function _n(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}it.prototype.toString=function(){var s=[],i=this.j;i&&s.push(nn(i,ni,!0),":");var c=this.i;return(c||"file"==i)&&(s.push("//"),(i=this.s)&&s.push(nn(i,ni,!0),"@"),s.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.m)&&s.push(":",String(c))),(c=this.l)&&(this.i&&"/"!=c.charAt(0)&&s.push("/"),s.push(nn(c,"/"==c.charAt(0)?Fi:li,!0))),(c=this.h.toString())&&s.push("?",c),(c=this.o)&&s.push("#",nn(c,uo)),s.join("")};var ni=/[#\/\?@]/g,li=/[#\?:]/g,Fi=/[#\?]/g,yr=/[#\?@]/g,uo=/#/g;function Sr(s,i){this.h=this.g=null,this.i=s||null,this.j=!!i}function ho(s){s.g||(s.g=new us,s.h=0,s.i&&function(s,i){if(s){s=s.split("&");for(var c=0;c<s.length;c++){var p=s[c].indexOf("="),b=null;if(0<=p){var A=s[c].substring(0,p);b=s[c].substring(p+1)}else A=s[c];i(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}(s.i,function(i,c){s.add(decodeURIComponent(i.replace(/\+/g," ")),c)}))}function ys(s,i){ho(s),i=Tl(s,i),ie(s.g.h,i)&&(s.i=null,s.h-=s.g.get(i).length,ie((s=s.g).h,i)&&(delete s.h[i],s.i--,s.g.length>2*s.i&&Er(s)))}function ri(s,i){return ho(s),i=Tl(s,i),ie(s.g.h,i)}function mo(s,i,c){ys(s,i),0<c.length&&(s.i=null,s.g.set(Tl(s,i),kr(c)),s.h+=c.length)}function Tl(s,i){return i=String(i),s.j&&(i=i.toLowerCase()),i}(At=Sr.prototype).add=function(s,i){ho(this),this.i=null,s=Tl(this,s);var c=this.g.get(s);return c||this.g.set(s,c=[]),c.push(i),this.h+=1,this},At.forEach=function(s,i){ho(this),this.g.forEach(function(c,p){jn(c,function(b){s.call(i,b,p,this)},this)},this)},At.T=function(){ho(this);for(var s=this.g.R(),i=this.g.T(),c=[],p=0;p<i.length;p++)for(var b=s[p],A=0;A<b.length;A++)c.push(i[p]);return c},At.R=function(s){ho(this);var i=[];if("string"==typeof s)ri(this,s)&&(i=Dn(i,this.g.get(Tl(this,s))));else{s=this.g.R();for(var c=0;c<s.length;c++)i=Dn(i,s[c])}return i},At.set=function(s,i){return ho(this),this.i=null,ri(this,s=Tl(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[i]),this.h+=1,this},At.get=function(s,i){return s&&0<(s=this.R(s)).length?String(s[0]):i},At.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],i=this.g.T(),c=0;c<i.length;c++){var p=i[c],b=encodeURIComponent(String(p));p=this.R(p);for(var A=0;A<p.length;A++){var S=b;""!==p[A]&&(S+="="+encodeURIComponent(String(p[A]))),s.push(S)}}return this.i=s.join("&")};var Mc=function(i,c){this.h=i,this.g=c};function ql(s){this.l=s||Sl,s=Ke.PerformanceNavigationTiming?0<(s=Ke.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Ke.g&&Ke.g.Ea&&Ke.g.Ea()&&Ke.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sl=10;function ic(s){return!!s.h||!!s.g&&s.g.size>=s.j}function dn(s){return s.h?1:s.g?s.g.size:0}function Ti(s,i){return s.h?s.h==i:!!s.g&&s.g.has(i)}function ul(s,i){s.g?s.g.add(i):s.h=i}function Co(s,i){s.h&&s.h==i?s.h=null:s.g&&s.g.has(i)&&s.g.delete(i)}function Ra(s){var i,c;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var p=s.i;try{for(var b=qt(s.g.values()),A=b.next();!A.done;A=b.next())p=p.concat(A.value.D)}catch(j){i={error:j}}finally{try{A&&!A.done&&(c=b.return)&&c.call(b)}finally{if(i)throw i.error}}return p}return kr(s.i)}function Wo(){}function Ds(){this.g=new Wo}function Us(s,i,c){var p=c||"";try{vs(s,function(b,A){var S=b;He(b)&&(S=yo(b)),i.push(p+A+"="+encodeURIComponent(S))})}catch(b){throw i.push(p+"type="+encodeURIComponent("_badmap")),b}}function hl(s,i,c,p,b){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,b(p)}catch(A){}}function rc(s){this.l=s.$b||null,this.j=s.ib||!1}function wa(s,i){qn.call(this),this.D=s,this.u=i,this.m=void 0,this.readyState=Va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ql.prototype.cancel=function(){var s,i;if(this.i=Ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var c=qt(this.g.values()),p=c.next();!p.done;p=c.next())p.value.cancel()}catch(A){s={error:A}}finally{try{p&&!p.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.g.clear()}},Wo.prototype.stringify=function(s){return Ke.JSON.stringify(s,void 0)},Wo.prototype.parse=function(s){return Ke.JSON.parse(s,void 0)},lt(rc,za),rc.prototype.g=function(){return new wa(this.l,this.j)},rc.prototype.i=function(s){return function(){return s}}({}),lt(wa,qn);var Va=0;function $i(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function ia(s){s.readyState=4,s.l=null,s.j=null,s.A=null,ha(s)}function ha(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(At=wa.prototype).open=function(s,i){if(this.readyState!=Va)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=i,this.readyState=1,ha(this)},At.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(i.body=s),(this.D||Ke).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},At.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ia(this)),this.readyState=Va},At.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,ha(this)),this.g&&(this.readyState=3,ha(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ke.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$i(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},At.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var i=s.value?s.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!s.done}))&&(this.response=this.responseText+=i)}s.done?ia(this):ha(this),3==this.readyState&&$i(this)}},At.Ua=function(s){this.g&&(this.response=this.responseText=s,ia(this))},At.Ta=function(s){this.g&&(this.response=s,ia(this))},At.ha=function(){this.g&&ia(this)},At.setRequestHeader=function(s,i){this.v.append(s,i)},At.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},At.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],i=this.h.entries(),c=i.next();!c.done;)s.push((c=c.value)[0]+": "+c[1]),c=i.next();return s.join("\r\n")},Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var fa=Ke.JSON.parse;function wr(s){qn.call(this),this.headers=new us,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gl,this.K=this.L=!1}lt(wr,qn);var Gl="",Ua=/^https?$/i,fl=["POST","PUT"];function me(s){return"content-type"==s.toLowerCase()}function I(s,i){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=i,s.m=5,O(s),ke(s)}function O(s){s.D||(s.D=!0,pi(s,"complete"),pi(s,"error"))}function Q(s){if(s.h&&void 0!==et&&(!s.C[1]||4!=ot(s)||2!=s.ba()))if(s.v&&4==ot(s))Nr(s.Fa,0,s);else if(pi(s,"readystatechange"),4==ot(s)){s.h=!1;try{var p,i=s.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}if(!(p=c)){var b;if(b=0===i){var A=String(s.H).match(ne)[1]||null;if(!A&&Ke.self&&Ke.self.location){var S=Ke.self.location.protocol;A=S.substr(0,S.length-1)}b=!Ua.test(A?A.toLowerCase():"")}p=b}if(p)pi(s,"complete"),pi(s,"success");else{s.m=6;try{var j=2<ot(s)?s.g.statusText:""}catch(oe){j=""}s.j=j+" ["+s.ba()+"]",O(s)}}finally{ke(s)}}}function ke(s,i){if(s.g){Ue(s);var c=s.g,p=s.C[0]?je:null;s.g=null,s.C=null,i||pi(s,"ready");try{c.onreadystatechange=p}catch(b){}}}function Ue(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Ke.clearTimeout(s.A),s.A=null)}function ot(s){return s.g?s.g.readyState:0}function gt(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Gl:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(i){return null}}function Zt(s,i,c){e:{for(p in c){var p=!1;break e}p=!0}p||(c=function(s){var i="";return Di(s,function(c,p){i+=p,i+=":",i+=c,i+="\r\n"}),i}(c),"string"==typeof s?null!=c&&encodeURIComponent(String(c)):z(s,i,c))}function xn(s,i,c){return c&&c.internalChannelParams&&c.internalChannelParams[s]||i}function wn(s){this.za=0,this.l=[],this.h=new es,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=xn("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=xn("baseRetryDelayMs",5e3,s),this.$a=xn("retryDelaySeedMs",1e4,s),this.Ya=xn("forwardChannelMaxRetries",2,s),this.ra=xn("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new ql(s&&s.concurrentRequestLimit),this.Ca=new Ds,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function ft(s){if(wt(s),3==s.G){var i=s.V++,c=V(s.F);z(c,"SID",s.J),z(c,"RID",i),z(c,"TYPE","terminate"),Ci(s,c),(i=new ea(s,s.h,i,void 0)).K=2,i.v=G(V(c)),c=!1,Ke.navigator&&Ke.navigator.sendBeacon&&(c=Ke.navigator.sendBeacon(i.v.toString(),"")),!c&&Ke.Image&&((new Image).src=i.v,c=!0),c||(i.g=Fr(i.l,null),i.g.ea(i.v)),i.F=Date.now(),go(i)}Zo(s)}function Lt(s){s.g&&(eo(s),s.g.cancel(),s.g=null)}function wt(s){Lt(s),s.u&&(Ke.clearTimeout(s.u),s.u=null),ui(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Ke.clearTimeout(s.m),s.m=null)}function en(s,i){s.l.push(new Mc(s.Za++,i)),3==s.G&&gn(s)}function gn(s){ic(s.i)||s.m||(s.m=!0,Yn(s.Ha,s),s.C=0)}function wi(s,i){var c;c=i?i.m:s.V++;var p=V(s.F);z(p,"SID",s.J),z(p,"RID",c),z(p,"AID",s.U),Ci(s,p),s.o&&s.s&&Zt(p,s.o,s.s),c=new ea(s,s.h,c,s.C+1),null===s.o&&(c.H=s.s),i&&(s.l=i.D.concat(s.l)),i=Do(s,c,1e3),c.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),ul(s.i,c),Xi(c,p,i)}function Ci(s,i){s.j&&vs({},function(c,p){z(i,p,c)})}function Do(s,i,c){c=Math.min(s.l.length,c);var p=s.j?jt(s.j.Oa,s.j,s):null;e:for(var b=s.l,A=-1;;){var S=["count="+c];-1==A?0<c?S.push("ofs="+(A=b[0].h)):A=0:S.push("ofs="+A);for(var j=!0,oe=0;oe<c;oe++){var Ee=b[oe].h,Le=b[oe].g;if(0>(Ee-=A))A=Math.max(0,b[oe].h-100),j=!1;else try{Us(Le,S,"req"+Ee+"_")}catch(rt){p&&p(Le)}}if(j){p=S.join("&");break e}}return s=s.l.splice(0,c),i.D=s,p}function Hs(s){s.g||s.u||(s.Y=1,Yn(s.Ga,s),s.A=0)}function To(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=da(jt(s.Ga,s),qi(s,s.A)),s.A++,0))}function eo(s){null!=s.B&&(Ke.clearTimeout(s.B),s.B=null)}function ws(s){s.g=new ea(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var i=V(s.oa);z(i,"RID","rpc"),z(i,"SID",s.J),z(i,"CI",s.N?"0":"1"),z(i,"AID",s.U),Ci(s,i),z(i,"TYPE","xmlhttp"),s.o&&s.s&&Zt(i,s.o,s.s),s.K&&s.g.setTimeout(s.K);var c=s.g;s=s.la,c.K=1,c.v=G(V(i)),c.s=null,c.U=!0,ur(c,s)}function ui(s){null!=s.v&&(Ke.clearTimeout(s.v),s.v=null)}function Cs(s,i){var c=null;if(s.g==i){ui(s),eo(s),s.g=null;var p=2}else{if(!Ti(s.i,i))return;c=i.D,Co(s.i,i),p=1}if(s.I=i.N,0!=s.G)if(i.i)if(1==p){c=i.s?i.s.length:0,i=Date.now()-i.F;var b=s.C;pi(p=Go(),new ts(p,c,i,b)),gn(s)}else Hs(s);else if(3==(b=i.o)||0==b&&0<s.I||!(1==p&&function(s,i){return!(dn(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=i.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=da(jt(s.Ha,s,i),qi(s,s.C)),s.C++,0)))}(s,i)||2==p&&To(s)))switch(c&&0<c.length&&(i=s.i,i.i=i.i.concat(c)),b){case 1:Li(s,5);break;case 4:Li(s,10);break;case 3:Li(s,6);break;default:Li(s,2)}}function qi(s,i){var c=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(c*=2),c*i}function Li(s,i){if(s.h.info("Error code "+i),2==i){var c=null;s.j&&(c=null);var p=jt(s.jb,s);c||(c=new it("//www.google.com/images/cleardot.gif"),Ke.location&&"http"==Ke.location.protocol||le(c,"https"),G(c)),function(s,i){var c=new es;if(Ke.Image){var p=new Image;p.onload=Kt(hl,c,p,"TestLoadImage: loaded",!0,i),p.onerror=Kt(hl,c,p,"TestLoadImage: error",!1,i),p.onabort=Kt(hl,c,p,"TestLoadImage: abort",!1,i),p.ontimeout=Kt(hl,c,p,"TestLoadImage: timeout",!1,i),Ke.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=s}else i(!1)}(c.toString(),p)}else Gr(2);s.G=0,s.j&&s.j.va(i),Zo(s),wt(s)}function Zo(s){s.G=0,s.I=-1,s.j&&((0!=Ra(s.i).length||0!=s.l.length)&&(s.i.i.length=0,kr(s.l),s.l.length=0),s.j.ua())}function pa(s,i,c){var p=function(s){return s instanceof it?V(s):new it(s,void 0)}(c);if(""!=p.i)i&&W(p,i+"."+p.i),ve(p,p.m);else{var b=Ke.location;p=function(s,i,c,p){var b=new it(null,void 0);return s&&le(b,s),i&&W(b,i),c&&ve(b,c),p&&(b.l=p),b}(b.protocol,i?i+"."+b.hostname:b.hostname,+b.port,c)}return s.aa&&Di(s.aa,function(A,S){z(p,S,A)}),c=s.sa,(i=s.D)&&c&&z(p,i,c),z(p,"VER",s.ma),Ci(s,p),p}function Fr(s,i,c){if(i&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new wr(c&&s.Ba&&!s.qa?new rc({ib:!0}):s.qa)).L=s.H,i}function Ln(){}function Xn(){if(Ui&&!(10<=Number(Tt)))throw Error("Environmental error: no available transport.")}function oi(s,i){qn.call(this),this.g=new wn(i),this.l=s,this.h=i&&i.messageUrlParams||null,s=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(s?s["X-WebChannel-Content-Type"]=i.messageContentType:s={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(s?s["X-WebChannel-Client-Profile"]=i.ya:s={"X-WebChannel-Client-Profile":i.ya}),this.g.P=s,(s=i&&i.httpHeadersOverwriteParam)&&!br(s)&&(this.g.o=s),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!br(i)&&(this.g.D=i,null!==(s=this.h)&&i in s&&i in(s=this.h)&&delete s[i]),this.j=new _o(this)}function ii(s){Bs.call(this);var i=s.__sm__;if(i){e:{for(var c in i){s=c;break e}s=void 0}(this.i=s)&&(s=this.i,i=null!==i&&s in i?i[s]:void 0),this.data=i}else this.data=s}function Zr(){Qa.call(this),this.status=1}function _o(s){this.g=s}(At=wr.prototype).ea=function(s,i,c,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);i=i?i.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cl.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:cl),this.g.onreadystatechange=jt(this.Fa,this);try{this.F=!0,this.g.open(i,String(s),!0),this.F=!1}catch(A){return void I(this,A)}s=c||"";var b=new us(this.headers);p&&vs(p,function(A,S){b.set(S,A)}),p=function(s){e:{for(var i=me,c=s.length,p="string"==typeof s?s.split(""):s,b=0;b<c;b++)if(b in p&&i.call(void 0,p[b],b,s)){i=b;break e}i=-1}return 0>i?null:"string"==typeof s?s.charAt(i):s[i]}(b.T()),c=Ke.FormData&&s instanceof Ke.FormData,!(0<=pn(fl,i))||p||c||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),b.forEach(function(A,S){this.g.setRequestHeader(S,A)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ue(this),0<this.B&&((this.K=function(s){return Ui&&nt()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.pa,this)):this.A=Nr(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(A){I(this,A)}},At.pa=function(){void 0!==et&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pi(this,"timeout"),this.abort(8))},At.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,pi(this,"complete"),pi(this,"abort"),ke(this))},At.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ke(this,!0)),wr.Z.M.call(this)},At.Fa=function(){this.s||(this.F||this.v||this.l?Q(this):this.cb())},At.cb=function(){Q(this)},At.ba=function(){try{return 2<ot(this)?this.g.status:-1}catch(s){return-1}},At.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},At.Qa=function(s){if(this.g){var i=this.g.responseText;return s&&0==i.indexOf(s)&&(i=i.substring(s.length)),fa(i)}},At.Da=function(){return this.m},At.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(At=wn.prototype).ma=8,At.G=1,At.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(i){}},At.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var i=new ea(this,this.h,s,void 0),c=this.s;if(this.P&&(c?Rn(c=Ei(c),this.P):c=this.P),null===this.o&&(i.H=c),this.ja)e:{for(var p=0,b=0;b<this.l.length;b++){var A=this.l[b];if(void 0===(A="__data__"in A.g&&"string"==typeof(A=A.g.__data__)?A.length:void 0))break;if(4096<(p+=A)){p=b;break e}if(4096===p||b===this.l.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=Do(this,i,p),z(b=V(this.F),"RID",s),z(b,"CVER",22),this.D&&z(b,"X-HTTP-Session-Id",this.D),Ci(this,b),this.o&&c&&Zt(b,this.o,c),ul(this.i,i),this.Ra&&z(b,"TYPE","init"),this.ja?(z(b,"$req",p),z(b,"SID","null"),i.$=!0,Xi(i,b,null)):Xi(i,b,p),this.G=2}}else 3==this.G&&(s?wi(this,s):0==this.l.length||ic(this.i)||wi(this))},At.Ga=function(){if(this.u=null,ws(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=da(jt(this.bb,this),s)}},At.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gr(10),Lt(this),ws(this))},At.ab=function(){null!=this.v&&(this.v=null,Lt(this),To(this),Gr(19))},At.jb=function(s){s?(this.h.info("Successfully pinged google.com"),Gr(2)):(this.h.info("Failed to ping google.com"),Gr(1))},(At=Ln.prototype).xa=function(){},At.wa=function(){},At.va=function(){},At.ua=function(){},At.Oa=function(){},Xn.prototype.g=function(s,i){return new oi(s,i)},lt(oi,qn),oi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,i=this.l,c=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),Yn(jt(s.hb,s,i))),Gr(0),s.W=i,s.aa=c||{},s.N=s.X,s.F=pa(s,null,s.W),gn(s)},oi.prototype.close=function(){ft(this.g)},oi.prototype.u=function(s){if("string"==typeof s){var i={};i.__data__=s,en(this.g,i)}else this.v?((i={}).__data__=yo(s),en(this.g,i)):en(this.g,s)},oi.prototype.M=function(){this.g.j=null,delete this.j,ft(this.g),delete this.g,oi.Z.M.call(this)},lt(ii,Bs),lt(Zr,Qa),lt(_o,Ln),_o.prototype.xa=function(){pi(this.g,"a")},_o.prototype.wa=function(s){pi(this.g,new ii(s))},_o.prototype.va=function(s){pi(this.g,new Zr(s))},_o.prototype.ua=function(){pi(this.g,"b")},Xn.prototype.createWebChannel=Xn.prototype.g,oi.prototype.send=oi.prototype.u,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,Js.COMPLETE="complete",ns.EventType=Xs,Xs.OPEN="a",Xs.CLOSE="b",Xs.ERROR="c",Xs.MESSAGE="d",qn.prototype.listen=qn.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.La,wr.prototype.getLastErrorCode=wr.prototype.Da,wr.prototype.getStatus=wr.prototype.ba,wr.prototype.getResponseJson=wr.prototype.Qa,wr.prototype.getResponseText=wr.prototype.ga,wr.prototype.send=wr.prototype.ea;var Mr=Qs,is=Js,rs=co,Ha_PROXY=10,Ha_NOPROXY=11,Ca=rc,So=ns,K=wr,ee=function(){function s(i,c){var p=this;this.previousValue=i,c&&(c.sequenceNumberHandler=function(b){return p.t(b)},this.i=function(b){return c.writeSequenceNumber(b)})}return s.prototype.t=function(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue},s.prototype.next=function(){var i=++this.previousValue;return this.i&&this.i(i),i},s}();ee.o=-1;var se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},We=function(s){function i(c,p){var b=this;return(b=s.call(this,p)||this).code=c,b.message=p,b.name="FirebaseError",b.toString=function(){return b.name+": [code="+b.code+"]: "+b.message},b}return(0,de.ZT)(i,s),i}(Error),$n=new Mt.Yd("@firebase/firestore");function ir(){return $n.logLevel}function rn(s){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];if($n.logLevel<=Mt.in.DEBUG){var p=i.map(ci);$n.debug.apply($n,(0,de.ev)(["Firestore (8.10.0): "+s],p))}}function Ir(s){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];if($n.logLevel<=Mt.in.ERROR){var p=i.map(ci);$n.error.apply($n,(0,de.ev)(["Firestore (8.10.0): "+s],p))}}function gl(s){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];if($n.logLevel<=Mt.in.WARN){var p=i.map(ci);$n.warn.apply($n,(0,de.ev)(["Firestore (8.10.0): "+s],p))}}function ci(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(c){return s}}function In(s){void 0===s&&(s="Unexpected state");var i="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+s;throw Ir(i),new Error(i)}function H(s,i){s||In()}function R(s,i){return s}function L(s){var i="undefined"!=typeof self&&(self.crypto||self.msCrypto),c=new Uint8Array(s);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(c);else for(var p=0;p<s;p++)c[p]=Math.floor(256*Math.random());return c}var re=function(){function s(){}return s.u=function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=Math.floor(256/i.length)*i.length,p="";p.length<20;)for(var b=L(40),A=0;A<b.length;++A)p.length<20&&b[A]<c&&(p+=i.charAt(b[A]%i.length));return p},s}();function ae(s,i){return s<i?-1:s>i?1:0}function Re(s,i,c){return s.length===i.length&&s.every(function(p,b){return c(p,i[b])})}function st(s){return s+"\0"}var ht=function(){function s(i,c){if(this.seconds=i,this.nanoseconds=c,c<0)throw new We(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(c>=1e9)throw new We(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(i<-62135596800)throw new We(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new We(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}return s.now=function(){return s.fromMillis(Date.now())},s.fromDate=function(i){return s.fromMillis(i.getTime())},s.fromMillis=function(i){var c=Math.floor(i/1e3);return new s(c,Math.floor(1e6*(i-1e3*c)))},s.prototype.toDate=function(){return new Date(this.toMillis())},s.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},s.prototype._compareTo=function(i){return this.seconds===i.seconds?ae(this.nanoseconds,i.nanoseconds):ae(this.seconds,i.seconds)},s.prototype.isEqual=function(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds},s.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},s.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},s.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},s}(),Ft=function(){function s(i){this.timestamp=i}return s.fromTimestamp=function(i){return new s(i)},s.min=function(){return new s(new ht(0,0))},s.prototype.compareTo=function(i){return this.timestamp._compareTo(i.timestamp)},s.prototype.isEqual=function(i){return this.timestamp.isEqual(i.timestamp)},s.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},s.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},s.prototype.toTimestamp=function(){return this.timestamp},s}();function Sn(s){var i=0;for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&i++;return i}function mi(s,i){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&i(c,s[c])}function ei(s){for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i))return!1;return!0}var ar=function(){function s(i,c,p){void 0===c?c=0:c>i.length&&In(),void 0===p?p=i.length-c:p>i.length-c&&In(),this.segments=i,this.offset=c,this.len=p}return Object.defineProperty(s.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(i){return 0===s.comparator(this,i)},s.prototype.child=function(i){var c=this.segments.slice(this.offset,this.limit());return i instanceof s?i.forEach(function(p){c.push(p)}):c.push(i),this.construct(c)},s.prototype.limit=function(){return this.offset+this.length},s.prototype.popFirst=function(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)},s.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},s.prototype.firstSegment=function(){return this.segments[this.offset]},s.prototype.lastSegment=function(){return this.get(this.length-1)},s.prototype.get=function(i){return this.segments[this.offset+i]},s.prototype.isEmpty=function(){return 0===this.length},s.prototype.isPrefixOf=function(i){if(i.length<this.length)return!1;for(var c=0;c<this.length;c++)if(this.get(c)!==i.get(c))return!1;return!0},s.prototype.isImmediateParentOf=function(i){if(this.length+1!==i.length)return!1;for(var c=0;c<this.length;c++)if(this.get(c)!==i.get(c))return!1;return!0},s.prototype.forEach=function(i){for(var c=this.offset,p=this.limit();c<p;c++)i(this.segments[c])},s.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},s.comparator=function(i,c){for(var p=Math.min(i.length,c.length),b=0;b<p;b++){var A=i.get(b),S=c.get(b);if(A<S)return-1;if(A>S)return 1}return i.length<c.length?-1:i.length>c.length?1:0},s}(),Bn=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,de.ZT)(i,s),i.prototype.construct=function(c,p,b){return new i(c,p,b)},i.prototype.canonicalString=function(){return this.toArray().join("/")},i.prototype.toString=function(){return this.canonicalString()},i.fromString=function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];for(var b=[],A=0,S=c;A<S.length;A++){var j=S[A];if(j.indexOf("//")>=0)throw new We(se.INVALID_ARGUMENT,"Invalid segment ("+j+"). Paths must not contain // in them.");b.push.apply(b,j.split("/").filter(function(oe){return oe.length>0}))}return new i(b)},i.emptyPath=function(){return new i([])},i}(ar),Il=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hs=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,de.ZT)(i,s),i.prototype.construct=function(c,p,b){return new i(c,p,b)},i.isValidIdentifier=function(c){return Il.test(c)},i.prototype.canonicalString=function(){return this.toArray().map(function(c){return c=c.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(c)||(c="`"+c+"`"),c}).join(".")},i.prototype.toString=function(){return this.canonicalString()},i.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},i.keyField=function(){return new i(["__name__"])},i.fromServerFormat=function(c){for(var p=[],b="",A=0,S=function(){if(0===b.length)throw new We(se.INVALID_ARGUMENT,"Invalid field path ("+c+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");p.push(b),b=""},j=!1;A<c.length;){var oe=c[A];if("\\"===oe){if(A+1===c.length)throw new We(se.INVALID_ARGUMENT,"Path has trailing escape character: "+c);var Ee=c[A+1];if("\\"!==Ee&&"."!==Ee&&"`"!==Ee)throw new We(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+c);b+=Ee,A+=2}else"`"===oe?(j=!j,A++):"."!==oe||j?(b+=oe,A++):(S(),A++)}if(S(),j)throw new We(se.INVALID_ARGUMENT,"Unterminated ` in path: "+c);return new i(p)},i.emptyPath=function(){return new i([])},i}(ar),ra=function(){function s(i){this.fields=i,i.sort(hs.comparator)}return s.prototype.covers=function(i){for(var c=0,p=this.fields;c<p.length;c++)if(p[c].isPrefixOf(i))return!0;return!1},s.prototype.isEqual=function(i){return Re(this.fields,i.fields,function(c,p){return c.isEqual(p)})},s}(),to=function(){function s(i){this.binaryString=i}return s.fromBase64String=function(i){return new s(atob(i))},s.fromUint8Array=function(i){return new s(function(c){for(var p="",b=0;b<c.length;++b)p+=String.fromCharCode(c[b]);return p}(i))},s.prototype.toBase64=function(){return btoa(this.binaryString)},s.prototype.toUint8Array=function(){return function(i){for(var c=new Uint8Array(i.length),p=0;p<i.length;p++)c[p]=i.charCodeAt(p);return c}(this.binaryString)},s.prototype.approximateByteSize=function(){return 2*this.binaryString.length},s.prototype.compareTo=function(i){return ae(this.binaryString,i.binaryString)},s.prototype.isEqual=function(i){return this.binaryString===i.binaryString},s}();to.EMPTY_BYTE_STRING=new to("");var fn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(s){if(H(!!s),"string"==typeof s){var i=0,c=fn.exec(s);if(H(!!c),c[1]){var p=c[1];p=(p+"000000000").substr(0,9),i=Number(p)}var b=new Date(s);return{seconds:Math.floor(b.getTime()/1e3),nanos:i}}return{seconds:Me(s.seconds),nanos:Me(s.nanos)}}function Me(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function qa(s){return"string"==typeof s?to.fromBase64String(s):to.fromUint8Array(s)}function Pl(s){var i,c;return"server_timestamp"===(null===(c=((null===(i=null==s?void 0:s.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===c?void 0:c.stringValue)}function ka(s){var i=s.mapValue.fields.__previous_value__;return Pl(i)?ka(i):i}function pr(s){var i=fs(s.mapValue.fields.__local_write_time__.timestampValue);return new ht(i.seconds,i.nanos)}function no(s){return null==s}function Nh(s){return 0===s&&1/s==-1/0}function Bi(s){return"number"==typeof s&&Number.isInteger(s)&&!Nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}var di=function(){function s(i){this.path=i}return s.fromPath=function(i){return new s(Bn.fromString(i))},s.fromName=function(i){return new s(Bn.fromString(i).popFirst(5))},s.prototype.hasCollectionId=function(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i},s.prototype.isEqual=function(i){return null!==i&&0===Bn.comparator(this.path,i.path)},s.prototype.toString=function(){return this.path.toString()},s.comparator=function(i,c){return Bn.comparator(i.path,c.path)},s.isDocumentKey=function(i){return i.length%2==0},s.fromSegments=function(i){return new s(new Bn(i.slice()))},s}();function pd(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pl(s)?4:10:In()}function $l(s,i){var b,c=pd(s);if(c!==pd(i))return!1;switch(c){case 0:return!0;case 1:return s.booleanValue===i.booleanValue;case 4:return pr(s).isEqual(pr(i));case 3:return function(p,b){if("string"==typeof p.timestampValue&&"string"==typeof b.timestampValue&&p.timestampValue.length===b.timestampValue.length)return p.timestampValue===b.timestampValue;var A=fs(p.timestampValue),S=fs(b.timestampValue);return A.seconds===S.seconds&&A.nanos===S.nanos}(s,i);case 5:return s.stringValue===i.stringValue;case 6:return b=i,qa(s.bytesValue).isEqual(qa(b.bytesValue));case 7:return s.referenceValue===i.referenceValue;case 8:return function(p,b){return Me(p.geoPointValue.latitude)===Me(b.geoPointValue.latitude)&&Me(p.geoPointValue.longitude)===Me(b.geoPointValue.longitude)}(s,i);case 2:return function(p,b){if("integerValue"in p&&"integerValue"in b)return Me(p.integerValue)===Me(b.integerValue);if("doubleValue"in p&&"doubleValue"in b){var A=Me(p.doubleValue),S=Me(b.doubleValue);return A===S?Nh(A)===Nh(S):isNaN(A)&&isNaN(S)}return!1}(s,i);case 9:return Re(s.arrayValue.values||[],i.arrayValue.values||[],$l);case 10:return function(p,b){var A=p.mapValue.fields||{},S=b.mapValue.fields||{};if(Sn(A)!==Sn(S))return!1;for(var j in A)if(A.hasOwnProperty(j)&&(void 0===S[j]||!$l(A[j],S[j])))return!1;return!0}(s,i);default:return In()}}function oc(s,i){return void 0!==(s.values||[]).find(function(c){return $l(c,i)})}function bu(s,i){var b,A,S,j,c=pd(s),p=pd(i);if(c!==p)return ae(c,p);switch(c){case 0:return 0;case 1:return ae(s.booleanValue,i.booleanValue);case 2:return A=i,(S=Me((b=s).integerValue||b.doubleValue))<(j=Me(A.integerValue||A.doubleValue))?-1:S>j?1:S===j?0:isNaN(S)?isNaN(j)?0:-1:1;case 3:return vu(s.timestampValue,i.timestampValue);case 4:return vu(pr(s),pr(i));case 5:return ae(s.stringValue,i.stringValue);case 6:return function(b,A){var S=qa(b),j=qa(A);return S.compareTo(j)}(s.bytesValue,i.bytesValue);case 7:return function(b,A){for(var S=b.split("/"),j=A.split("/"),oe=0;oe<S.length&&oe<j.length;oe++){var Ee=ae(S[oe],j[oe]);if(0!==Ee)return Ee}return ae(S.length,j.length)}(s.referenceValue,i.referenceValue);case 8:return function(b,A){var S=ae(Me(b.latitude),Me(A.latitude));return 0!==S?S:ae(Me(b.longitude),Me(A.longitude))}(s.geoPointValue,i.geoPointValue);case 9:return function(b,A){for(var S=b.values||[],j=A.values||[],oe=0;oe<S.length&&oe<j.length;++oe){var Ee=bu(S[oe],j[oe]);if(Ee)return Ee}return ae(S.length,j.length)}(s.arrayValue,i.arrayValue);case 10:return function(b,A){var S=b.fields||{},j=Object.keys(S),oe=A.fields||{},Ee=Object.keys(oe);j.sort(),Ee.sort();for(var Le=0;Le<j.length&&Le<Ee.length;++Le){var rt=ae(j[Le],Ee[Le]);if(0!==rt)return rt;var pt=bu(S[j[Le]],oe[Ee[Le]]);if(0!==pt)return pt}return ae(j.length,Ee.length)}(s.mapValue,i.mapValue);default:throw In()}}function vu(s,i){if("string"==typeof s&&"string"==typeof i&&s.length===i.length)return ae(s,i);var c=fs(s),p=fs(i),b=ae(c.seconds,p.seconds);return 0!==b?b:ae(c.nanos,p.nanos)}function sc(s){return qs(s)}function qs(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?"time("+(b=fs(s.timestampValue)).seconds+","+b.nanos+")":"stringValue"in s?s.stringValue:"bytesValue"in s?qa(s.bytesValue).toBase64():"referenceValue"in s?di.fromName(s.referenceValue).toString():"geoPointValue"in s?"geo("+(i=s.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in s?function(p){for(var b="[",A=!0,S=0,j=p.values||[];S<j.length;S++)A?A=!1:b+=",",b+=qs(j[S]);return b+"]"}(s.arrayValue):"mapValue"in s?function(p){for(var b="{",A=!0,S=0,j=Object.keys(p.fields||{}).sort();S<j.length;S++){var oe=j[S];A?A=!1:b+=",",b+=oe+":"+qs(p.fields[oe])}return b+"}"}(s.mapValue):In();var b,i}function Wl(s,i){return{referenceValue:"projects/"+s.projectId+"/databases/"+s.database+"/documents/"+i.path.canonicalString()}}function yu(s){return!!s&&"integerValue"in s}function Kc(s){return!!s&&"arrayValue"in s}function ko(s){return!!s&&"nullValue"in s}function io(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ts(s){return!!s&&"mapValue"in s}function Uu(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){var i={mapValue:{fields:{}}};return mi(s.mapValue.fields,function(b,A){return i.mapValue.fields[b]=Uu(A)}),i}if(s.arrayValue){for(var c={arrayValue:{values:[]}},p=0;p<(s.arrayValue.values||[]).length;++p)c.arrayValue.values[p]=Uu(s.arrayValue.values[p]);return c}return Object.assign({},s)}var Aa=function(){function s(i){this.value=i}return s.empty=function(){return new s({mapValue:{}})},s.prototype.field=function(i){if(i.isEmpty())return this.value;for(var c=this.value,p=0;p<i.length-1;++p)if(!Ts(c=(c.mapValue.fields||{})[i.get(p)]))return null;return(c=(c.mapValue.fields||{})[i.lastSegment()])||null},s.prototype.set=function(i,c){this.getFieldsMap(i.popLast())[i.lastSegment()]=Uu(c)},s.prototype.setAll=function(i){var c=this,p=hs.emptyPath(),b={},A=[];i.forEach(function(j,oe){if(!p.isImmediateParentOf(oe)){var Ee=c.getFieldsMap(p);c.applyChanges(Ee,b,A),b={},A=[],p=oe.popLast()}j?b[oe.lastSegment()]=Uu(j):A.push(oe.lastSegment())});var S=this.getFieldsMap(p);this.applyChanges(S,b,A)},s.prototype.delete=function(i){var c=this.field(i.popLast());Ts(c)&&c.mapValue.fields&&delete c.mapValue.fields[i.lastSegment()]},s.prototype.isEqual=function(i){return $l(this.value,i.value)},s.prototype.getFieldsMap=function(i){var c=this.value;c.mapValue.fields||(c.mapValue={fields:{}});for(var p=0;p<i.length;++p){var b=c.mapValue.fields[i.get(p)];Ts(b)&&b.mapValue.fields||(b={mapValue:{fields:{}}},c.mapValue.fields[i.get(p)]=b),c=b}return c.mapValue.fields},s.prototype.applyChanges=function(i,c,p){mi(c,function(j,oe){return i[j]=oe});for(var b=0,A=p;b<A.length;b++)delete i[A[b]]},s.prototype.clone=function(){return new s(Uu(this.value))},s}();function Qc(s){var i=[];return mi(s.fields,function(c,p){var b=new hs([c]);if(Ts(p)){var A=Qc(p.mapValue).fields;if(0===A.length)i.push(b);else for(var S=0,j=A;S<j.length;S++)i.push(b.child(j[S]))}else i.push(b)}),new ra(i)}var xa=function(){function s(i,c,p,b,A){this.key=i,this.documentType=c,this.version=p,this.data=b,this.documentState=A}return s.newInvalidDocument=function(i){return new s(i,0,Ft.min(),Aa.empty(),0)},s.newFoundDocument=function(i,c,p){return new s(i,1,c,p,0)},s.newNoDocument=function(i,c){return new s(i,2,c,Aa.empty(),0)},s.newUnknownDocument=function(i,c){return new s(i,3,c,Aa.empty(),2)},s.prototype.convertToFoundDocument=function(i,c){return this.version=i,this.documentType=1,this.data=c,this.documentState=0,this},s.prototype.convertToNoDocument=function(i){return this.version=i,this.documentType=2,this.data=Aa.empty(),this.documentState=0,this},s.prototype.convertToUnknownDocument=function(i){return this.version=i,this.documentType=3,this.data=Aa.empty(),this.documentState=2,this},s.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},s.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(s.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),s.prototype.isValidDocument=function(){return 0!==this.documentType},s.prototype.isFoundDocument=function(){return 1===this.documentType},s.prototype.isNoDocument=function(){return 2===this.documentType},s.prototype.isUnknownDocument=function(){return 3===this.documentType},s.prototype.isEqual=function(i){return i instanceof s&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)},s.prototype.clone=function(){return new s(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},s.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},s}(),wu=function(s,i,c,p,b,A,S){void 0===i&&(i=null),void 0===c&&(c=[]),void 0===p&&(p=[]),void 0===b&&(b=null),void 0===A&&(A=null),void 0===S&&(S=null),this.path=s,this.collectionGroup=i,this.orderBy=c,this.filters=p,this.limit=b,this.startAt=A,this.endAt=S,this.h=null};function wf(s,i,c,p,b,A,S){return void 0===i&&(i=null),void 0===c&&(c=[]),void 0===p&&(p=[]),void 0===b&&(b=null),void 0===A&&(A=null),void 0===S&&(S=null),new wu(s,i,c,p,b,A,S)}function gd(s){var i=R(s);if(null===i.h){var c=i.path.canonicalString();null!==i.collectionGroup&&(c+="|cg:"+i.collectionGroup),c+="|f:",c+=i.filters.map(function(p){return(b=p).field.canonicalString()+b.op.toString()+sc(b.value);var b}).join(","),c+="|ob:",c+=i.orderBy.map(function(p){return(b=p).field.canonicalString()+b.dir;var b}).join(","),no(i.limit)||(c+="|l:",c+=i.limit),i.startAt&&(c+="|lb:",c+=Dc(i.startAt)),i.endAt&&(c+="|ub:",c+=Dc(i.endAt)),i.h=c}return i.h}function Ol(s,i){if(s.limit!==i.limit||s.orderBy.length!==i.orderBy.length)return!1;for(var c=0;c<s.orderBy.length;c++)if(!_d(s.orderBy[c],i.orderBy[c]))return!1;if(s.filters.length!==i.filters.length)return!1;for(var p=0;p<s.filters.length;p++)if((b=s.filters[p]).op!==(A=i.filters[p]).op||!b.field.isEqual(A.field)||!$l(b.value,A.value))return!1;var b,A;return s.collectionGroup===i.collectionGroup&&!!s.path.isEqual(i.path)&&!!ml(s.startAt,i.startAt)&&ml(s.endAt,i.endAt)}function Qd(s){return di.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}var os=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).field=c,A.op=p,A.value=b,A}return(0,de.ZT)(i,s),i.create=function(c,p,b){return c.isKeyField()?"in"===p||"not-in"===p?this.l(c,p,b):new Cf(c,p,b):"array-contains"===p?new kf(c,b):"in"===p?new $p(c,b):"not-in"===p?new Af(c,b):"array-contains-any"===p?new Xd(c,b):new i(c,p,b)},i.l=function(c,p,b){return"in"===p?new md(c,b):new nm(c,b)},i.prototype.matches=function(c){var p=c.data.field(this.field);return"!="===this.op?null!==p&&this.m(bu(p,this.value)):null!==p&&pd(this.value)===pd(p)&&this.m(bu(p,this.value))},i.prototype.m=function(c){switch(this.op){case"<":return c<0;case"<=":return c<=0;case"==":return 0===c;case"!=":return 0!==c;case">":return c>0;case">=":return c>=0;default:return In()}},i.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},i}(function(){}),Cf=function(s){function i(c,p,b){var A=this;return(A=s.call(this,c,p,b)||this).key=di.fromName(b.referenceValue),A}return(0,de.ZT)(i,s),i.prototype.matches=function(c){var p=di.comparator(c.key,this.key);return this.m(p)},i}(os),md=function(s){function i(c,p){var b=this;return(b=s.call(this,c,"in",p)||this).keys=Jd(0,p),b}return(0,de.ZT)(i,s),i.prototype.matches=function(c){return this.keys.some(function(p){return p.isEqual(c.key)})},i}(os),nm=function(s){function i(c,p){var b=this;return(b=s.call(this,c,"not-in",p)||this).keys=Jd(0,p),b}return(0,de.ZT)(i,s),i.prototype.matches=function(c){return!this.keys.some(function(p){return p.isEqual(c.key)})},i}(os);function Jd(s,i){var c;return((null===(c=i.arrayValue)||void 0===c?void 0:c.values)||[]).map(function(p){return di.fromName(p.referenceValue)})}var kf=function(s){function i(c,p){return s.call(this,c,"array-contains",p)||this}return(0,de.ZT)(i,s),i.prototype.matches=function(c){var p=c.data.field(this.field);return Kc(p)&&oc(p.arrayValue,this.value)},i}(os),$p=function(s){function i(c,p){return s.call(this,c,"in",p)||this}return(0,de.ZT)(i,s),i.prototype.matches=function(c){var p=c.data.field(this.field);return null!==p&&oc(this.value.arrayValue,p)},i}(os),Af=function(s){function i(c,p){return s.call(this,c,"not-in",p)||this}return(0,de.ZT)(i,s),i.prototype.matches=function(c){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var p=c.data.field(this.field);return null!==p&&!oc(this.value.arrayValue,p)},i}(os),Xd=function(s){function i(c,p){return s.call(this,c,"array-contains-any",p)||this}return(0,de.ZT)(i,s),i.prototype.matches=function(c){var p=this,b=c.data.field(this.field);return!(!Kc(b)||!b.arrayValue.values)&&b.arrayValue.values.some(function(A){return oc(p.value.arrayValue,A)})},i}(os),Jc=function(s,i){this.position=s,this.before=i};function Dc(s){return(s.before?"b":"a")+":"+s.position.map(function(i){return sc(i)}).join(",")}var Xc=function(s,i){void 0===i&&(i="asc"),this.field=s,this.dir=i};function _d(s,i){return s.dir===i.dir&&s.field.isEqual(i.field)}function Wp(s,i,c){for(var p=0,b=0;b<s.position.length;b++){var A=i[b],S=s.position[b];if(p=A.field.isKeyField()?di.comparator(di.fromName(S.referenceValue),c.key):bu(S,c.data.field(A.field)),"desc"===A.dir&&(p*=-1),0!==p)break}return s.before?p<=0:p<0}function ml(s,i){if(null===s)return null===i;if(null===i||s.before!==i.before||s.position.length!==i.position.length)return!1;for(var c=0;c<s.position.length;c++)if(!$l(s.position[c],i.position[c]))return!1;return!0}var Nl=function(s,i,c,p,b,A,S,j){void 0===i&&(i=null),void 0===c&&(c=[]),void 0===p&&(p=[]),void 0===b&&(b=null),void 0===A&&(A="F"),void 0===S&&(S=null),void 0===j&&(j=null),this.path=s,this.collectionGroup=i,this.explicitOrderBy=c,this.filters=p,this.limit=b,this.limitType=A,this.startAt=S,this.endAt=j,this.p=null,this.T=null};function _l(s,i,c,p,b,A,S,j){return new Nl(s,i,c,p,b,A,S,j)}function ga(s){return new Nl(s)}function Rh(s){return!no(s.limit)&&"F"===s.limitType}function eh(s){return!no(s.limit)&&"L"===s.limitType}function Hu(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function qu(s){for(var i=0,c=s.filters;i<c.length;i++){var p=c[i];if(p.g())return p.field}return null}function Ja(s){return null!==s.collectionGroup}function Cu(s){var i=R(s);if(null===i.p){i.p=[];var c=qu(i),p=Hu(i);if(null!==c&&null===p)c.isKeyField()||i.p.push(new Xc(c)),i.p.push(new Xc(hs.keyField(),"asc"));else{for(var b=!1,A=0,S=i.explicitOrderBy;A<S.length;A++){var j=S[A];i.p.push(j),j.field.isKeyField()&&(b=!0)}if(!b){var oe=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.p.push(new Xc(hs.keyField(),oe))}}}return i.p}function Ea(s){var i=R(s);if(!i.T)if("F"===i.limitType)i.T=wf(i.path,i.collectionGroup,Cu(i),i.filters,i.limit,i.startAt,i.endAt);else{for(var c=[],p=0,b=Cu(i);p<b.length;p++){var A=b[p];c.push(new Xc(A.field,"desc"===A.dir?"asc":"desc"))}var j=i.endAt?new Jc(i.endAt.position,!i.endAt.before):null,oe=i.startAt?new Jc(i.startAt.position,!i.startAt.before):null;i.T=wf(i.path,i.collectionGroup,c,i.filters,i.limit,j,oe)}return i.T}function Gs(s,i,c){return new Nl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),i,c,s.startAt,s.endAt)}function Gu(s,i){return Ol(Ea(s),Ea(i))&&s.limitType===i.limitType}function sp(s){return gd(Ea(s))+"|lt:"+s.limitType}function $s(s){return"Query(target="+(c=(i=Ea(s)).path.canonicalString(),null!==i.collectionGroup&&(c+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(c+=", filters: ["+i.filters.map(function(p){return(b=p).field.canonicalString()+" "+b.op+" "+sc(b.value);var b}).join(", ")+"]"),no(i.limit)||(c+=", limit: "+i.limit),i.orderBy.length>0&&(c+=", orderBy: ["+i.orderBy.map(function(p){return(b=p).field.canonicalString()+" ("+b.dir+")";var b}).join(", ")+"]"),i.startAt&&(c+=", startAt: "+Dc(i.startAt)),i.endAt&&(c+=", endAt: "+Dc(i.endAt)),"Target("+c+"); limitType=")+s.limitType+")";var i,c}function ac(s,i){return i.isFoundDocument()&&(b=(p=i).key.path,null!==(c=s).collectionGroup?p.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(b):di.isDocumentKey(c.path)?c.path.isEqual(b):c.path.isImmediateParentOf(b))&&function(c,p){for(var b=0,A=c.explicitOrderBy;b<A.length;b++){var S=A[b];if(!S.field.isKeyField()&&null===p.data.field(S.field))return!1}return!0}(s,i)&&function(c,p){for(var b=0,A=c.filters;b<A.length;b++)if(!A[b].matches(p))return!1;return!0}(s,i)&&function(c,p){return!(c.startAt&&!Wp(c.startAt,Cu(c),p)||c.endAt&&Wp(c.endAt,Cu(c),p))}(s,i);var c,p,b}function Fh(s){return function(i,c){for(var p=!1,b=0,A=Cu(s);b<A.length;b++){var S=A[b],j=eu(S,i,c);if(0!==j)return j;p=p||S.field.isKeyField()}return 0}}function eu(s,i,c){var b,S,j,oe,p=s.field.isKeyField()?di.comparator(i.key,c.key):(S=c,j=i.data.field(b=s.field),oe=S.data.field(b),null!==j&&null!==oe?bu(j,oe):In());switch(s.dir){case"asc":return p;case"desc":return-1*p;default:return In()}}function Lh(s,i){if(s.I){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(i)?"-0":i}}function tu(s){return{integerValue:""+s}}function bl(s,i){return Bi(i)?tu(i):Lh(s,i)}var $u=function(){this._=void 0};function Ss(s,i,c){return s instanceof ku?(A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(p=c).seconds,nanos:p.nanoseconds}}}},(b=i)&&(A.fields.__previous_value__=b),{mapValue:A}):s instanceof Tc?Wu(s,i):s instanceof Sc?Ma(s,i):function(p,b){var A=xf(p,b),S=Ic(A)+Ic(p.A);return yu(A)&&yu(p.A)?tu(S):Lh(p.R,S)}(s,i);var p,b,A}function Bh(s,i,c){return s instanceof Tc?Wu(s,i):s instanceof Sc?Ma(s,i):c}function xf(s,i){return s instanceof Rl?yu(c=i)||(p=c)&&"doubleValue"in p?i:{integerValue:0}:null;var p,c}var ku=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,de.ZT)(i,s),i}($u),Tc=function(s){function i(c){var p=this;return(p=s.call(this)||this).elements=c,p}return(0,de.ZT)(i,s),i}($u);function Wu(s,i){for(var c=Ef(i),p=function(S){c.some(function(j){return $l(j,S)})||c.push(S)},b=0,A=s.elements;b<A.length;b++)p(A[b]);return{arrayValue:{values:c}}}var Sc=function(s){function i(c){var p=this;return(p=s.call(this)||this).elements=c,p}return(0,de.ZT)(i,s),i}($u);function Ma(s,i){for(var c=Ef(i),p=function(S){c=c.filter(function(j){return!$l(j,S)})},b=0,A=s.elements;b<A.length;b++)p(A[b]);return{arrayValue:{values:c}}}var Rl=function(s){function i(c,p){var b=this;return(b=s.call(this)||this).R=c,b.A=p,b}return(0,de.ZT)(i,s),i}($u);function Ic(s){return Me(s.integerValue||s.doubleValue)}function Ef(s){return Kc(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}var Zl=function(s,i){this.field=s,this.transform=i},Mf=function(s,i){this.version=s,this.transformResults=i},Fa=function(){function s(i,c){this.updateTime=i,this.exists=c}return s.none=function(){return new s},s.exists=function(i){return new s(void 0,i)},s.updateTime=function(i){return new s(i)},Object.defineProperty(s.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)},s}();function lc(s,i){return void 0!==s.updateTime?i.isFoundDocument()&&i.version.isEqual(s.updateTime):void 0===s.exists||s.exists===i.isFoundDocument()}var Mn=function(){};function ji(s,i,c){var p,b,A,S,j;s instanceof Yu?(b=i,A=c,S=(p=s).value.clone(),j=cc(p.fieldTransforms,b,A.transformResults),S.setAll(j),b.convertToFoundDocument(A.version,S).setHasCommittedMutations()):s instanceof Yl?function(p,b,A){if(lc(p.precondition,b)){var S=cc(p.fieldTransforms,b,A.transformResults),j=b.data;j.setAll(vd(p)),j.setAll(S),b.convertToFoundDocument(A.version,j).setHasCommittedMutations()}else b.convertToUnknownDocument(A.version)}(s,i,c):function(p,b,A){b.convertToNoDocument(A.version).setHasCommittedMutations()}(0,i,c)}function bd(s,i,c){var b;s instanceof Yu?function(p,b,A){if(lc(p.precondition,b)){var S=p.value.clone(),j=yd(p.fieldTransforms,A,b);S.setAll(j),b.convertToFoundDocument(vl(b),S).setHasLocalMutations()}}(s,i,c):s instanceof Yl?function(p,b,A){if(lc(p.precondition,b)){var S=yd(p.fieldTransforms,A,b),j=b.data;j.setAll(vd(p)),j.setAll(S),b.convertToFoundDocument(vl(b),j).setHasLocalMutations()}}(s,i,c):lc(s.precondition,b=i)&&b.convertToNoDocument(Ft.min())}function Fl(s,i){for(var c=null,p=0,b=s.fieldTransforms;p<b.length;p++){var A=b[p],S=i.data.field(A.field),j=xf(A.transform,S||null);null!=j&&(null==c&&(c=Aa.empty()),c.set(A.field,j))}return c||null}function Zu(s,i){return s.type===i.type&&!!s.key.isEqual(i.key)&&!!s.precondition.isEqual(i.precondition)&&(p=i.fieldTransforms,!!(void 0===(c=s.fieldTransforms)&&void 0===p||c&&p&&Re(c,p,function(b,A){return(S=b).field.isEqual((j=A).field)&&(Ee=j.transform,(oe=S.transform)instanceof Tc&&Ee instanceof Tc||oe instanceof Sc&&Ee instanceof Sc?Re(oe.elements,Ee.elements,$l):oe instanceof Rl&&Ee instanceof Rl?$l(oe.A,Ee.A):oe instanceof ku&&Ee instanceof ku);var S,j,oe,Ee})))&&(0===s.type?s.value.isEqual(i.value):1!==s.type||s.data.isEqual(i.data)&&s.fieldMask.isEqual(i.fieldMask));var c,p}function vl(s){return s.isFoundDocument()?s.version:Ft.min()}var Yu=function(s){function i(c,p,b,A){void 0===A&&(A=[]);var S=this;return(S=s.call(this)||this).key=c,S.value=p,S.precondition=b,S.fieldTransforms=A,S.type=0,S}return(0,de.ZT)(i,s),i}(Mn),Yl=function(s){function i(c,p,b,A,S){void 0===S&&(S=[]);var j=this;return(j=s.call(this)||this).key=c,j.data=p,j.fieldMask=b,j.precondition=A,j.fieldTransforms=S,j.type=1,j}return(0,de.ZT)(i,s),i}(Mn);function vd(s){var i=new Map;return s.fieldMask.fields.forEach(function(c){if(!c.isEmpty()){var p=s.data.field(c);i.set(c,p)}}),i}function cc(s,i,c){var p=new Map;H(s.length===c.length);for(var b=0;b<c.length;b++){var A=s[b],S=A.transform,j=i.data.field(A.field);p.set(A.field,Bh(S,j,c[b]))}return p}function yd(s,i,c){for(var p=new Map,b=0,A=s;b<A.length;b++){var S=A[b],j=S.transform,oe=c.data.field(S.field);p.set(S.field,Ss(j,oe,i))}return p}var Ko,Dr,Ll=function(s){function i(c,p){var b=this;return(b=s.call(this)||this).key=c,b.precondition=p,b.type=2,b.fieldTransforms=[],b}return(0,de.ZT)(i,s),i}(Mn),Pc=function(s){function i(c,p){var b=this;return(b=s.call(this)||this).key=c,b.precondition=p,b.type=3,b.fieldTransforms=[],b}return(0,de.ZT)(i,s),i}(Mn),Df=function(s){this.count=s};function th(s){switch(s){default:return In();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function Lo(s){if(void 0===s)return Ir("GRPC error has no .code"),se.UNKNOWN;switch(s){case Ko.OK:return se.OK;case Ko.CANCELLED:return se.CANCELLED;case Ko.UNKNOWN:return se.UNKNOWN;case Ko.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ko.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ko.INTERNAL:return se.INTERNAL;case Ko.UNAVAILABLE:return se.UNAVAILABLE;case Ko.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ko.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ko.NOT_FOUND:return se.NOT_FOUND;case Ko.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ko.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ko.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ko.ABORTED:return se.ABORTED;case Ko.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ko.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ko.DATA_LOSS:return se.DATA_LOSS;default:return In()}}(Dr=Ko||(Ko={}))[Dr.OK=0]="OK",Dr[Dr.CANCELLED=1]="CANCELLED",Dr[Dr.UNKNOWN=2]="UNKNOWN",Dr[Dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dr[Dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dr[Dr.NOT_FOUND=5]="NOT_FOUND",Dr[Dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dr[Dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dr[Dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dr[Dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dr[Dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dr[Dr.ABORTED=10]="ABORTED",Dr[Dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dr[Dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dr[Dr.INTERNAL=13]="INTERNAL",Dr[Dr.UNAVAILABLE=14]="UNAVAILABLE",Dr[Dr.DATA_LOSS=15]="DATA_LOSS";var ps=function(){function s(i,c){this.comparator=i,this.root=c||Da.EMPTY}return s.prototype.insert=function(i,c){return new s(this.comparator,this.root.insert(i,c,this.comparator).copy(null,null,Da.BLACK,null,null))},s.prototype.remove=function(i){return new s(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Da.BLACK,null,null))},s.prototype.get=function(i){for(var c=this.root;!c.isEmpty();){var p=this.comparator(i,c.key);if(0===p)return c.value;p<0?c=c.left:p>0&&(c=c.right)}return null},s.prototype.indexOf=function(i){for(var c=0,p=this.root;!p.isEmpty();){var b=this.comparator(i,p.key);if(0===b)return c+p.left.size;b<0?p=p.left:(c+=p.left.size+1,p=p.right)}return-1},s.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(s.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),s.prototype.minKey=function(){return this.root.minKey()},s.prototype.maxKey=function(){return this.root.maxKey()},s.prototype.inorderTraversal=function(i){return this.root.inorderTraversal(i)},s.prototype.forEach=function(i){this.inorderTraversal(function(c,p){return i(c,p),!1})},s.prototype.toString=function(){var i=[];return this.inorderTraversal(function(c,p){return i.push(c+":"+p),!1}),"{"+i.join(", ")+"}"},s.prototype.reverseTraversal=function(i){return this.root.reverseTraversal(i)},s.prototype.getIterator=function(){return new nh(this.root,null,this.comparator,!1)},s.prototype.getIteratorFrom=function(i){return new nh(this.root,i,this.comparator,!1)},s.prototype.getReverseIterator=function(){return new nh(this.root,null,this.comparator,!0)},s.prototype.getReverseIteratorFrom=function(i){return new nh(this.root,i,this.comparator,!0)},s}(),nh=function(){function s(i,c,p,b){this.isReverse=b,this.nodeStack=[];for(var A=1;!i.isEmpty();)if(A=c?p(i.key,c):1,b&&(A*=-1),A<0)i=this.isReverse?i.left:i.right;else{if(0===A){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}return s.prototype.getNext=function(){var i=this.nodeStack.pop(),c={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return c},s.prototype.hasNext=function(){return this.nodeStack.length>0},s.prototype.peek=function(){if(0===this.nodeStack.length)return null;var i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}},s}(),Da=function(){function s(i,c,p,b,A){this.key=i,this.value=c,this.color=null!=p?p:s.RED,this.left=null!=b?b:s.EMPTY,this.right=null!=A?A:s.EMPTY,this.size=this.left.size+1+this.right.size}return s.prototype.copy=function(i,c,p,b,A){return new s(null!=i?i:this.key,null!=c?c:this.value,null!=p?p:this.color,null!=b?b:this.left,null!=A?A:this.right)},s.prototype.isEmpty=function(){return!1},s.prototype.inorderTraversal=function(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)},s.prototype.reverseTraversal=function(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)},s.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},s.prototype.minKey=function(){return this.min().key},s.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},s.prototype.insert=function(i,c,p){var b=this,A=p(i,b.key);return(b=A<0?b.copy(null,null,null,b.left.insert(i,c,p),null):0===A?b.copy(null,c,null,null,null):b.copy(null,null,null,null,b.right.insert(i,c,p))).fixUp()},s.prototype.removeMin=function(){if(this.left.isEmpty())return s.EMPTY;var i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),(i=i.copy(null,null,null,i.left.removeMin(),null)).fixUp()},s.prototype.remove=function(i,c){var p,b=this;if(c(i,b.key)<0)b.left.isEmpty()||b.left.isRed()||b.left.left.isRed()||(b=b.moveRedLeft()),b=b.copy(null,null,null,b.left.remove(i,c),null);else{if(b.left.isRed()&&(b=b.rotateRight()),b.right.isEmpty()||b.right.isRed()||b.right.left.isRed()||(b=b.moveRedRight()),0===c(i,b.key)){if(b.right.isEmpty())return s.EMPTY;p=b.right.min(),b=b.copy(p.key,p.value,null,null,b.right.removeMin())}b=b.copy(null,null,null,null,b.right.remove(i,c))}return b.fixUp()},s.prototype.isRed=function(){return this.color},s.prototype.fixUp=function(){var i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i},s.prototype.moveRedLeft=function(){var i=this.colorFlip();return i.right.left.isRed()&&(i=(i=(i=i.copy(null,null,null,null,i.right.rotateRight())).rotateLeft()).colorFlip()),i},s.prototype.moveRedRight=function(){var i=this.colorFlip();return i.left.left.isRed()&&(i=(i=i.rotateRight()).colorFlip()),i},s.prototype.rotateLeft=function(){var i=this.copy(null,null,s.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},s.prototype.rotateRight=function(){var i=this.copy(null,null,s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},s.prototype.colorFlip=function(){var i=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,c)},s.prototype.checkMaxDepth=function(){var i=this.check();return Math.pow(2,i)<=this.size+1},s.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw In();var i=this.left.check();if(i!==this.right.check())throw In();return i+(this.isRed()?0:1)},s}();Da.EMPTY=null,Da.RED=!0,Da.BLACK=!1,Da.EMPTY=new(function(){function s(){this.size=0}return Object.defineProperty(s.prototype,"key",{get:function(){throw In()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){throw In()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"color",{get:function(){throw In()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"left",{get:function(){throw In()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"right",{get:function(){throw In()},enumerable:!1,configurable:!0}),s.prototype.copy=function(i,c,p,b,A){return this},s.prototype.insert=function(i,c,p){return new Da(i,c)},s.prototype.remove=function(i,c){return this},s.prototype.isEmpty=function(){return!0},s.prototype.inorderTraversal=function(i){return!1},s.prototype.reverseTraversal=function(i){return!1},s.prototype.minKey=function(){return null},s.prototype.maxKey=function(){return null},s.prototype.isRed=function(){return!1},s.prototype.checkMaxDepth=function(){return!0},s.prototype.check=function(){return 0},s}());var Qo=function(){function s(i){this.comparator=i,this.data=new ps(this.comparator)}return s.prototype.has=function(i){return null!==this.data.get(i)},s.prototype.first=function(){return this.data.minKey()},s.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(s.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),s.prototype.indexOf=function(i){return this.data.indexOf(i)},s.prototype.forEach=function(i){this.data.inorderTraversal(function(c,p){return i(c),!1})},s.prototype.forEachInRange=function(i,c){for(var p=this.data.getIteratorFrom(i[0]);p.hasNext();){var b=p.getNext();if(this.comparator(b.key,i[1])>=0)return;c(b.key)}},s.prototype.forEachWhile=function(i,c){var p;for(p=void 0!==c?this.data.getIteratorFrom(c):this.data.getIterator();p.hasNext();)if(!i(p.getNext().key))return},s.prototype.firstAfterOrEqual=function(i){var c=this.data.getIteratorFrom(i);return c.hasNext()?c.getNext().key:null},s.prototype.getIterator=function(){return new ih(this.data.getIterator())},s.prototype.getIteratorFrom=function(i){return new ih(this.data.getIteratorFrom(i))},s.prototype.add=function(i){return this.copy(this.data.remove(i).insert(i,!0))},s.prototype.delete=function(i){return this.has(i)?this.copy(this.data.remove(i)):this},s.prototype.isEmpty=function(){return this.data.isEmpty()},s.prototype.unionWith=function(i){var c=this;return c.size<i.size&&(c=i,i=this),i.forEach(function(p){c=c.add(p)}),c},s.prototype.isEqual=function(i){if(!(i instanceof s)||this.size!==i.size)return!1;for(var c=this.data.getIterator(),p=i.data.getIterator();c.hasNext();){var b=c.getNext().key,A=p.getNext().key;if(0!==this.comparator(b,A))return!1}return!0},s.prototype.toArray=function(){var i=[];return this.forEach(function(c){i.push(c)}),i},s.prototype.toString=function(){var i=[];return this.forEach(function(c){return i.push(c)}),"SortedSet("+i.toString()+")"},s.prototype.copy=function(i){var c=new s(this.comparator);return c.data=i,c},s}(),ih=function(){function s(i){this.iter=i}return s.prototype.getNext=function(){return this.iter.getNext().key},s.prototype.hasNext=function(){return this.iter.hasNext()},s}(),er=new ps(di.comparator);function Bl(){return er}var Tf=new ps(di.comparator);function Ku(){return Tf}var jh=new ps(di.comparator);function rh(){return jh}var ap=new Qo(di.comparator);function mr(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];for(var c=ap,p=0,b=s;p<b.length;p++){var A=b[p];c=c.add(A)}return c}var lp=new Qo(ae);function nu(){return lp}var Au=function(){function s(i,c,p,b,A){this.snapshotVersion=i,this.targetChanges=c,this.targetMismatches=p,this.documentUpdates=b,this.resolvedLimboDocuments=A}return s.createSynthesizedRemoteEventForCurrentChange=function(i,c){var p=new Map;return p.set(i,wd.createSynthesizedTargetChangeForCurrentChange(i,c)),new s(Ft.min(),p,nu(),Bl(),mr())},s}(),wd=function(){function s(i,c,p,b,A){this.resumeToken=i,this.current=c,this.addedDocuments=p,this.modifiedDocuments=b,this.removedDocuments=A}return s.createSynthesizedTargetChangeForCurrentChange=function(i,c){return new s(to.EMPTY_BYTE_STRING,c,mr(),mr(),mr())},s}(),Oc=function(s,i,c,p){this.v=s,this.removedTargetIds=i,this.key=c,this.P=p},Ga=function(s,i){this.targetId=s,this.V=i},Ta=function(s,i,c,p){void 0===c&&(c=to.EMPTY_BYTE_STRING),void 0===p&&(p=null),this.state=s,this.targetIds=i,this.resumeToken=c,this.cause=p},uc=function(){function s(){this.S=0,this.D=oh(),this.C=to.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(s.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),s.prototype.O=function(i){i.approximateByteSize()>0&&(this.k=!0,this.C=i)},s.prototype.M=function(){var i=mr(),c=mr(),p=mr();return this.D.forEach(function(b,A){switch(A){case 0:i=i.add(b);break;case 2:c=c.add(b);break;case 1:p=p.add(b);break;default:In()}}),new wd(this.C,this.N,i,c,p)},s.prototype.L=function(){this.k=!1,this.D=oh()},s.prototype.B=function(i,c){this.k=!0,this.D=this.D.insert(i,c)},s.prototype.q=function(i){this.k=!0,this.D=this.D.remove(i)},s.prototype.U=function(){this.S+=1},s.prototype.K=function(){this.S-=1},s.prototype.j=function(){this.k=!0,this.N=!0},s}(),Xa=function(){function s(i){this.W=i,this.G=new Map,this.H=Bl(),this.J=Nc(),this.Y=new Qo(ae)}return s.prototype.X=function(i){for(var c=0,p=i.v;c<p.length;c++){var b=p[c];i.P&&i.P.isFoundDocument()?this.Z(b,i.P):this.tt(b,i.key,i.P)}for(var A=0,S=i.removedTargetIds;A<S.length;A++)this.tt(b=S[A],i.key,i.P)},s.prototype.et=function(i){var c=this;this.forEachTarget(i,function(p){var b=c.nt(p);switch(i.state){case 0:c.st(p)&&b.O(i.resumeToken);break;case 1:b.K(),b.F||b.L(),b.O(i.resumeToken);break;case 2:b.K(),b.F||c.removeTarget(p);break;case 3:c.st(p)&&(b.j(),b.O(i.resumeToken));break;case 4:c.st(p)&&(c.it(p),b.O(i.resumeToken));break;default:In()}})},s.prototype.forEachTarget=function(i,c){var p=this;i.targetIds.length>0?i.targetIds.forEach(c):this.G.forEach(function(b,A){p.st(A)&&c(A)})},s.prototype.rt=function(i){var c=i.targetId,p=i.V.count,b=this.ot(c);if(b){var A=b.target;if(Qd(A))if(0===p){var S=new di(A.path);this.tt(c,S,xa.newNoDocument(S,Ft.min()))}else H(1===p);else this.ct(c)!==p&&(this.it(c),this.Y=this.Y.add(c))}},s.prototype.ut=function(i){var c=this,p=new Map;this.G.forEach(function(S,j){var oe=c.ot(j);if(oe){if(S.current&&Qd(oe.target)){var Ee=new di(oe.target.path);null!==c.H.get(Ee)||c.at(j,Ee)||c.tt(j,Ee,xa.newNoDocument(Ee,i))}S.$&&(p.set(j,S.M()),S.L())}});var b=mr();this.J.forEach(function(S,j){var oe=!0;j.forEachWhile(function(Ee){var Le=c.ot(Ee);return!Le||2===Le.purpose||(oe=!1,!1)}),oe&&(b=b.add(S))});var A=new Au(i,p,this.Y,this.H,b);return this.H=Bl(),this.J=Nc(),this.Y=new Qo(ae),A},s.prototype.Z=function(i,c){if(this.st(i)){var p=this.at(i,c.key)?2:0;this.nt(i).B(c.key,p),this.H=this.H.insert(c.key,c),this.J=this.J.insert(c.key,this.ht(c.key).add(i))}},s.prototype.tt=function(i,c,p){if(this.st(i)){var b=this.nt(i);this.at(i,c)?b.B(c,1):b.q(c),this.J=this.J.insert(c,this.ht(c).delete(i)),p&&(this.H=this.H.insert(c,p))}},s.prototype.removeTarget=function(i){this.G.delete(i)},s.prototype.ct=function(i){var c=this.nt(i).M();return this.W.getRemoteKeysForTarget(i).size+c.addedDocuments.size-c.removedDocuments.size},s.prototype.U=function(i){this.nt(i).U()},s.prototype.nt=function(i){var c=this.G.get(i);return c||(c=new uc,this.G.set(i,c)),c},s.prototype.ht=function(i){var c=this.J.get(i);return c||(c=new Qo(ae),this.J=this.J.insert(i,c)),c},s.prototype.st=function(i){var c=null!==this.ot(i);return c||rn("WatchChangeAggregator","Detected inactive target",i),c},s.prototype.ot=function(i){var c=this.G.get(i);return c&&c.F?null:this.W.lt(i)},s.prototype.it=function(i){var c=this;this.G.set(i,new uc),this.W.getRemoteKeysForTarget(i).forEach(function(p){c.tt(i,p,null)})},s.prototype.at=function(i,c){return this.W.getRemoteKeysForTarget(i).has(c)},s}();function Nc(){return new ps(di.comparator)}function oh(){return new ps(di.comparator)}var Sf={asc:"ASCENDING",desc:"DESCENDING"},cp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},up=function(s,i){this.databaseId=s,this.I=i};function iu(s,i){return s.I?new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+i.nanoseconds).slice(-9)+"Z":{seconds:""+i.seconds,nanos:i.nanoseconds}}function Bo(s,i){return s.I?i.toBase64():i.toUint8Array()}function zh(s,i){return iu(s,i.toTimestamp())}function jo(s){return H(!!s),Ft.fromTimestamp((c=fs(s),new ht(c.seconds,c.nanos)));var c}function If(s,i){return(c=s,new Bn(["projects",c.projectId,"databases",c.database])).child("documents").child(i).canonicalString();var c}function sh(s){var i=Bn.fromString(s);return H(jl(i)),i}function ye(s,i){return If(s.databaseId,i.path)}function Ye(s,i){var c=sh(i);if(c.get(1)!==s.databaseId.projectId)throw new We(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+c.get(1)+" vs "+s.databaseId.projectId);if(c.get(3)!==s.databaseId.database)throw new We(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+c.get(3)+" vs "+s.databaseId.database);return new di(ki(c))}function at(s,i){return If(s.databaseId,i)}function on(s){var i=sh(s);return 4===i.length?Bn.emptyPath():ki(i)}function vi(s){return new Bn(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ki(s){return H(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Yi(s,i,c){return{name:ye(s,i),fields:c.value.mapValue.fields}}function Oi(s,i,c){var p=Ye(s,i.name),b=jo(i.updateTime),A=new Aa({mapValue:{fields:i.fields}}),S=xa.newFoundDocument(p,b,A);return c&&S.setHasCommittedMutations(),c?S.setHasCommittedMutations():S}function Yr(s,i){var c,b;if(i instanceof Yu)c={update:Yi(s,i.key,i.value)};else if(i instanceof Ll)c={delete:ye(s,i.key)};else if(i instanceof Yl)c={update:Yi(s,i.key,i.data),updateMask:Hr(i.fieldMask)};else{if(!(i instanceof Pc))return In();c={verify:ye(s,i.key)}}return i.fieldTransforms.length>0&&(c.updateTransforms=i.fieldTransforms.map(function(p){return function(b,A){var S=A.transform;if(S instanceof ku)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof Tc)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Sc)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof Rl)return{fieldPath:A.field.canonicalString(),increment:S.A};throw In()}(0,p)})),i.precondition.isNone||(c.currentDocument=void 0!==(b=i.precondition).updateTime?{updateTime:zh(s,b.updateTime)}:void 0!==b.exists?{exists:b.exists}:In()),c}function Un(s,i){var Ee,c=i.currentDocument?void 0!==(Ee=i.currentDocument).updateTime?Fa.updateTime(jo(Ee.updateTime)):void 0!==Ee.exists?Fa.exists(Ee.exists):Fa.none():Fa.none(),p=i.updateTransforms?i.updateTransforms.map(function(Ee){return function(Le,rt){var pt=null;"setToServerValue"in rt?(H("REQUEST_TIME"===rt.setToServerValue),pt=new ku):"appendMissingElements"in rt?pt=new Tc(rt.appendMissingElements.values||[]):"removeAllFromArray"in rt?pt=new Sc(rt.removeAllFromArray.values||[]):"increment"in rt?pt=new Rl(Le,rt.increment):In();var Yt=hs.fromServerFormat(rt.fieldPath);return new Zl(Yt,pt)}(s,Ee)}):[];if(i.update){var b=Ye(s,i.update.name),A=new Aa({mapValue:{fields:i.update.fields}});if(i.updateMask){var S=function(Ee){return new ra((Ee.fieldPaths||[]).map(function(rt){return hs.fromServerFormat(rt)}))}(i.updateMask);return new Yl(b,A,S,c,p)}return new Yu(b,A,c,p)}if(i.delete){var j=Ye(s,i.delete);return new Ll(j,c)}if(i.verify){var oe=Ye(s,i.verify);return new Pc(oe,c)}return In()}function La(s,i){return{documents:[at(s,i.path)]}}function Sa(s,i){var c={structuredQuery:{}},p=i.path;null!==i.collectionGroup?(c.parent=at(s,p),c.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(c.parent=at(s,p.popLast()),c.structuredQuery.from=[{collectionId:p.lastSegment()}]);var b=function(j){if(0!==j.length){var oe=j.map(function(Ee){return function(Le){if("=="===Le.op){if(io(Le.value))return{unaryFilter:{field:xu(Le.field),op:"IS_NAN"}};if(ko(Le.value))return{unaryFilter:{field:xu(Le.field),op:"IS_NULL"}}}else if("!="===Le.op){if(io(Le.value))return{unaryFilter:{field:xu(Le.field),op:"IS_NOT_NAN"}};if(ko(Le.value))return{unaryFilter:{field:xu(Le.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(Le.field),op:Ql(Le.op),value:Le.value}}}(Ee)});return 1===oe.length?oe[0]:{compositeFilter:{op:"AND",filters:oe}}}}(i.filters);b&&(c.structuredQuery.where=b);var A=function(j){if(0!==j.length)return j.map(function(oe){return{field:xu((Ee=oe).field),direction:Kl(Ee.dir)};var Ee})}(i.orderBy);A&&(c.structuredQuery.orderBy=A);var oe,S=(oe=i.limit,s.I||no(oe)?oe:{value:oe});return null!==S&&(c.structuredQuery.limit=S),i.startAt&&(c.structuredQuery.startAt=hc(i.startAt)),i.endAt&&(c.structuredQuery.endAt=hc(i.endAt)),c}function $a(s){var i=on(s.parent),c=s.structuredQuery,p=c.from?c.from.length:0,b=null;if(p>0){H(1===p);var A=c.from[0];A.allDescendants?b=A.collectionId:i=i.child(A.collectionId)}var S=[];c.where&&(S=dc(c.where));var j=[];c.orderBy&&(j=c.orderBy.map(function(rt){return new Xc(Rc((pt=rt).field),function(Bt){switch(Bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pt.direction));var pt}));var rt,pt,oe=null;c.limit&&(oe=no(pt="object"==typeof(rt=c.limit)?rt.value:rt)?null:pt);var Ee=null;c.startAt&&(Ee=Cd(c.startAt));var Le=null;return c.endAt&&(Le=Cd(c.endAt)),_l(i,b,j,S,oe,"F",Ee,Le)}function dc(s){return s?void 0!==s.unaryFilter?[Qu(s)]:void 0!==s.fieldFilter?[Vh(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(function(i){return dc(i)}).reduce(function(i,c){return i.concat(c)}):In():[]}function hc(s){return{before:s.before,values:s.position}}function Cd(s){return new Jc(s.values||[],!!s.before)}function Kl(s){return Sf[s]}function Ql(s){return cp[s]}function xu(s){return{fieldPath:s.canonicalString()}}function Rc(s){return hs.fromServerFormat(s.fieldPath)}function Vh(s){return os.create(Rc(s.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return In()}}(s.fieldFilter.op),s.fieldFilter.value)}function Qu(s){switch(s.unaryFilter.op){case"IS_NAN":var i=Rc(s.unaryFilter.field);return os.create(i,"==",{doubleValue:NaN});case"IS_NULL":var c=Rc(s.unaryFilter.field);return os.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var p=Rc(s.unaryFilter.field);return os.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var b=Rc(s.unaryFilter.field);return os.create(b,"!=",{nullValue:"NULL_VALUE"});default:return In()}}function Hr(s){var i=[];return s.fields.forEach(function(c){return i.push(c.canonicalString())}),{fieldPaths:i}}function jl(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function ma(s){for(var i="",c=0;c<s.length;c++)i.length>0&&(i=Is(i)),i=Uh(s.get(c),i);return Is(i)}function Uh(s,i){for(var c=i,p=s.length,b=0;b<p;b++){var A=s.charAt(b);switch(A){case"\0":c+="\x01\x10";break;case"\x01":c+="\x01\x11";break;default:c+=A}}return c}function Is(s){return s+"\x01\x01"}function zl(s){var i=s.length;if(H(i>=2),2===i)return H("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Bn.emptyPath();for(var c=i-2,p=[],b="",A=0;A<i;){var S=s.indexOf("\x01",A);switch((S<0||S>c)&&In(),s.charAt(S+1)){case"\x01":var j=s.substring(A,S),oe=void 0;0===b.length?oe=j:(oe=b+=j,b=""),p.push(oe);break;case"\x10":b+=s.substring(A,S),b+="\0";break;case"\x11":b+=s.substring(A,S+1);break;default:In()}A=S+2}return new Bn(p)}var Hh=function(s,i){this.seconds=s,this.nanoseconds=i},fc=function(s,i,c){this.ownerId=s,this.allowTabSynchronization=i,this.leaseTimestampMs=c};fc.store="owner",fc.key="owner";var Fc=function(s,i,c){this.userId=s,this.lastAcknowledgedBatchId=i,this.lastStreamToken=c};Fc.store="mutationQueues",Fc.keyPath="userId";var zo=function(s,i,c,p,b){this.userId=s,this.batchId=i,this.localWriteTimeMs=c,this.baseMutations=p,this.mutations=b};zo.store="mutations",zo.keyPath="batchId",zo.userMutationsIndex="userMutationsIndex",zo.userMutationsKeyPath=["userId","batchId"];var el=function(){function s(){}return s.prefixForUser=function(i){return[i]},s.prefixForPath=function(i,c){return[i,ma(c)]},s.key=function(i,c,p){return[i,ma(c),p]},s}();el.store="documentMutations",el.PLACEHOLDER=new el;var dp=function(s,i){this.path=s,this.readTime=i},im=function(s,i){this.path=s,this.version=i},Ps=function(s,i,c,p,b,A){this.unknownDocument=s,this.noDocument=i,this.document=c,this.hasCommittedMutations=p,this.readTime=b,this.parentPath=A};Ps.store="remoteDocuments",Ps.readTimeIndex="readTimeIndex",Ps.readTimeIndexPath="readTime",Ps.collectionReadTimeIndex="collectionReadTimeIndex",Ps.collectionReadTimeIndexPath=["parentPath","readTime"];var Wa=function(s){this.byteSize=s};Wa.store="remoteDocumentGlobal",Wa.key="remoteDocumentGlobalKey";var yl=function(s,i,c,p,b,A,S){this.targetId=s,this.canonicalId=i,this.readTime=c,this.resumeToken=p,this.lastListenSequenceNumber=b,this.lastLimboFreeSnapshotVersion=A,this.query=S};yl.store="targets",yl.keyPath="targetId",yl.queryTargetsIndexName="queryTargetsIndex",yl.queryTargetsKeyPath=["canonicalId","targetId"];var Ia=function(s,i,c){this.targetId=s,this.path=i,this.sequenceNumber=c};Ia.store="targetDocuments",Ia.keyPath=["targetId","path"],Ia.documentTargetsIndex="documentTargetsIndex",Ia.documentTargetsKeyPath=["path","targetId"];var Vl=function(s,i,c,p){this.highestTargetId=s,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=c,this.targetCount=p};Vl.key="targetGlobalKey",Vl.store="targetGlobal";var kd=function(s,i){this.collectionId=s,this.parent=i};kd.store="collectionParents",kd.keyPath=["collectionId","parent"];var Ju=function(s,i,c,p){this.clientId=s,this.updateTimeMs=i,this.networkEnabled=c,this.inForeground=p};Ju.store="clientMetadata",Ju.keyPath="clientId";var qh=function(s,i,c){this.bundleId=s,this.createTime=i,this.version=c};qh.store="bundles",qh.keyPath="bundleId";var tl=function(s,i,c){this.name=s,this.readTime=i,this.bundledQuery=c};tl.store="namedQueries",tl.keyPath="name";var Gh=(0,de.ev)((0,de.ev)([],(0,de.ev)((0,de.ev)([],(0,de.ev)((0,de.ev)([],(0,de.ev)((0,de.ev)([],[Fc.store,zo.store,el.store,Ps.store,yl.store,fc.store,Vl.store,Ia.store]),[Ju.store])),[Wa.store])),[kd.store])),[qh.store,tl.store]),Pf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ad=function(){function s(){this.onCommittedListeners=[]}return s.prototype.addOnCommittedListener=function(i){this.onCommittedListeners.push(i)},s.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(i){return i()})},s}(),Pa=function(){var s=this;this.promise=new Promise(function(i,c){s.resolve=i,s.reject=c})},An=function(){function s(i){var c=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(function(p){c.isDone=!0,c.result=p,c.nextCallback&&c.nextCallback(p)},function(p){c.isDone=!0,c.error=p,c.catchCallback&&c.catchCallback(p)})}return s.prototype.catch=function(i){return this.next(void 0,i)},s.prototype.next=function(i,c){var p=this;return this.callbackAttached&&In(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(c,this.error):this.wrapSuccess(i,this.result):new s(function(b,A){p.nextCallback=function(S){p.wrapSuccess(i,S).next(b,A)},p.catchCallback=function(S){p.wrapFailure(c,S).next(b,A)}})},s.prototype.toPromise=function(){var i=this;return new Promise(function(c,p){i.next(c,p)})},s.prototype.wrapUserFunction=function(i){try{var c=i();return c instanceof s?c:s.resolve(c)}catch(p){return s.reject(p)}},s.prototype.wrapSuccess=function(i,c){return i?this.wrapUserFunction(function(){return i(c)}):s.resolve(c)},s.prototype.wrapFailure=function(i,c){return i?this.wrapUserFunction(function(){return i(c)}):s.reject(c)},s.resolve=function(i){return new s(function(c,p){c(i)})},s.reject=function(i){return new s(function(c,p){p(i)})},s.waitFor=function(i){return new s(function(c,p){var b=0,A=0,S=!1;i.forEach(function(j){++b,j.next(function(){++A,S&&A===b&&c()},function(oe){return p(oe)})}),S=!0,A===b&&c()})},s.or=function(i){for(var c=s.resolve(!1),p=function(S){c=c.next(function(j){return j?s.resolve(j):S()})},b=0,A=i;b<A.length;b++)p(A[b]);return c},s.forEach=function(i,c){var p=this,b=[];return i.forEach(function(A,S){b.push(c.call(p,A,S))}),this.waitFor(b)},s}(),Si=function(){function s(i,c){var p=this;this.action=i,this.transaction=c,this.aborted=!1,this.ft=new Pa,this.transaction.oncomplete=function(){p.ft.resolve()},this.transaction.onabort=function(){c.error?p.ft.reject(new Lc(i,c.error)):p.ft.resolve()},this.transaction.onerror=function(b){var A=fp(b.target.error);p.ft.reject(new Lc(i,A))}}return s.open=function(i,c,p,b){try{return new s(c,i.transaction(b,p))}catch(A){throw new Lc(c,A)}},Object.defineProperty(s.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),s.prototype.abort=function(i){i&&this.ft.reject(i),this.aborted||(rn("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},s.prototype.store=function(i){var c=this.transaction.objectStore(i);return new hp(c)},s}(),Xu=function(){function s(i,c,p){this.name=i,this.version=c,this.wt=p,12.2===s._t((0,Oe.z$)())&&Ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return s.delete=function(i){return rn("SimpleDb","Removing database:",i),xd(window.indexedDB.deleteDatabase(i)).toPromise()},s.yt=function(){if("undefined"==typeof indexedDB)return!1;if(s.gt())return!0;var i=(0,Oe.z$)(),c=s._t(i),p=0<c&&c<10,b=s.Et(i),A=0<b&&b<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||p||A)},s.gt=function(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Tt)},s.It=function(i,c){return i.store(c)},s._t=function(i){var c=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),p=c?c[1].split("_").slice(0,2).join("."):"-1";return Number(p)},s.Et=function(i){var c=i.match(/Android ([\d.]+)/i),p=c?c[1].split(".").slice(0,2).join("."):"-1";return Number(p)},s.prototype.At=function(i){return(0,de.mG)(this,void 0,void 0,function(){var c,p=this;return(0,de.Jh)(this,function(b){switch(b.label){case 0:return this.db?[3,2]:(rn("SimpleDb","Opening database:",this.name),c=this,[4,new Promise(function(A,S){var j=indexedDB.open(p.name,p.version);j.onsuccess=function(oe){A(oe.target.result)},j.onblocked=function(){S(new Lc(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},j.onerror=function(oe){var Ee=oe.target.error;S("VersionError"===Ee.name?new We(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Lc(i,Ee))},j.onupgradeneeded=function(oe){rn("SimpleDb",'Database "'+p.name+'" requires upgrade from version:',oe.oldVersion),p.wt.Rt(oe.target.result,j.transaction,oe.oldVersion,p.version).next(function(){rn("SimpleDb","Database upgrade to version "+p.version+" complete")})}})]);case 1:c.db=b.sent(),b.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(A){return p.bt(A)}),this.db)]}})})},s.prototype.vt=function(i){this.bt=i,this.db&&(this.db.onversionchange=function(c){return i(c)})},s.prototype.runTransaction=function(i,c,p,b){return(0,de.mG)(this,void 0,void 0,function(){var A,S,j,oe,Ee;return(0,de.Jh)(this,function(Le){switch(Le.label){case 0:A="readonly"===c,S=0,j=function(){var rt,pt,Bt,Ut,Yt;return(0,de.Jh)(this,function(En){switch(En.label){case 0:++S,En.label=1;case 1:return En.trys.push([1,4,,5]),[4,oe.At(i)];case 2:return oe.db=En.sent(),rt=Si.open(oe.db,i,A?"readonly":"readwrite",p),pt=b(rt).catch(function(Vn){return rt.abort(Vn),An.reject(Vn)}).toPromise(),Bt={},pt.catch(function(){}),[4,rt.dt];case 3:return[2,(Bt.value=(En.sent(),pt),Bt)];case 4:return rn("SimpleDb","Transaction failed with error:",(Ut=En.sent()).message,"Retrying:",Yt="FirebaseError"!==Ut.name&&S<3),oe.close(),Yt?[3,5]:[2,{value:Promise.reject(Ut)}];case 5:return[2]}})},oe=this,Le.label=1;case 1:return[5,j()];case 2:if("object"==typeof(Ee=Le.sent()))return[2,Ee.value];Le.label=3;case 3:return[3,1];case 4:return[2]}})})},s.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},s}(),Zp=function(){function s(i){this.Pt=i,this.Vt=!1,this.St=null}return Object.defineProperty(s.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"cursor",{set:function(i){this.Pt=i},enumerable:!1,configurable:!0}),s.prototype.done=function(){this.Vt=!0},s.prototype.Ct=function(i){this.St=i},s.prototype.delete=function(){return xd(this.Pt.delete())},s}(),Lc=function(s){function i(c,p){var b=this;return(b=s.call(this,se.UNAVAILABLE,"IndexedDB transaction '"+c+"' failed: "+p)||this).name="IndexedDbTransactionError",b}return(0,de.ZT)(i,s),i}(We);function ah(s){return"IndexedDbTransactionError"===s.name}var hp=function(){function s(i){this.store=i}return s.prototype.put=function(i,c){var p;return void 0!==c?(rn("SimpleDb","PUT",this.store.name,i,c),p=this.store.put(c,i)):(rn("SimpleDb","PUT",this.store.name,"<auto-key>",i),p=this.store.put(i)),xd(p)},s.prototype.add=function(i){return rn("SimpleDb","ADD",this.store.name,i,i),xd(this.store.add(i))},s.prototype.get=function(i){var c=this;return xd(this.store.get(i)).next(function(p){return void 0===p&&(p=null),rn("SimpleDb","GET",c.store.name,i,p),p})},s.prototype.delete=function(i){return rn("SimpleDb","DELETE",this.store.name,i),xd(this.store.delete(i))},s.prototype.count=function(){return rn("SimpleDb","COUNT",this.store.name),xd(this.store.count())},s.prototype.Nt=function(i,c){var p=this.cursor(this.options(i,c)),b=[];return this.xt(p,function(A,S){b.push(S)}).next(function(){return b})},s.prototype.kt=function(i,c){rn("SimpleDb","DELETE ALL",this.store.name);var p=this.options(i,c);p.Ft=!1;var b=this.cursor(p);return this.xt(b,function(A,S,j){return j.delete()})},s.prototype.$t=function(i,c){var p;c?p=i:(p={},c=i);var b=this.cursor(p);return this.xt(b,c)},s.prototype.Ot=function(i){var c=this.cursor({});return new An(function(p,b){c.onerror=function(A){var S=fp(A.target.error);b(S)},c.onsuccess=function(A){var S=A.target.result;S?i(S.primaryKey,S.value).next(function(j){j?S.continue():p()}):p()}})},s.prototype.xt=function(i,c){var p=[];return new An(function(b,A){i.onerror=function(S){A(S.target.error)},i.onsuccess=function(S){var j=S.target.result;if(j){var oe=new Zp(j),Ee=c(j.primaryKey,j.value,oe);if(Ee instanceof An){var Le=Ee.catch(function(rt){return oe.done(),An.reject(rt)});p.push(Le)}oe.isDone?b():null===oe.Dt?j.continue():j.continue(oe.Dt)}else b()}}).next(function(){return An.waitFor(p)})},s.prototype.options=function(i,c){var p;return void 0!==i&&("string"==typeof i?p=i:c=i),{index:p,range:c}},s.prototype.cursor=function(i){var c="next";if(i.reverse&&(c="prev"),i.index){var p=this.store.index(i.index);return i.Ft?p.openKeyCursor(i.range,c):p.openCursor(i.range,c)}return this.store.openCursor(i.range,c)},s}();function xd(s){return new An(function(i,c){s.onsuccess=function(p){i(p.target.result)},s.onerror=function(p){var b=fp(p.target.error);c(b)}})}var nl=!1;function fp(s){var i=Xu._t((0,Oe.z$)());if(i>=12.2&&i<13){var c="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(c)>=0){var p=new We("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+c+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nl||(nl=!0,setTimeout(function(){throw p},0)),p}}return s}var rm=function(s){function i(c,p){var b=this;return(b=s.call(this)||this).Mt=c,b.currentSequenceNumber=p,b}return(0,de.ZT)(i,s),i}(Ad);function Ws(s,i){var c=R(s);return Xu.It(c.Mt,i)}var Eu=function(){function s(i,c,p,b){this.batchId=i,this.localWriteTime=c,this.baseMutations=p,this.mutations=b}return s.prototype.applyToRemoteDocument=function(i,c){for(var p=c.mutationResults,b=0;b<this.mutations.length;b++){var A=this.mutations[b];A.key.isEqual(i.key)&&ji(A,i,p[b])}},s.prototype.applyToLocalView=function(i){for(var c=0,p=this.baseMutations;c<p.length;c++)(S=p[c]).key.isEqual(i.key)&&bd(S,i,this.localWriteTime);for(var b=0,A=this.mutations;b<A.length;b++){var S;(S=A[b]).key.isEqual(i.key)&&bd(S,i,this.localWriteTime)}},s.prototype.applyToLocalDocumentSet=function(i){var c=this;this.mutations.forEach(function(p){var b=i.get(p.key),A=b;c.applyToLocalView(A),b.isValidDocument()||A.convertToNoDocument(Ft.min())})},s.prototype.keys=function(){return this.mutations.reduce(function(i,c){return i.add(c.key)},mr())},s.prototype.isEqual=function(i){return this.batchId===i.batchId&&Re(this.mutations,i.mutations,function(c,p){return Zu(c,p)})&&Re(this.baseMutations,i.baseMutations,function(c,p){return Zu(c,p)})},s}(),ru=function(){function s(i,c,p,b){this.batch=i,this.commitVersion=c,this.mutationResults=p,this.docVersions=b}return s.from=function(i,c,p){H(i.mutations.length===p.length);for(var b=rh(),A=i.mutations,S=0;S<A.length;S++)b=b.insert(A[S].key,p[S].version);return new s(i,c,p,b)},s}(),Tr=function(){function s(i,c,p,b,A,S,j){void 0===A&&(A=Ft.min()),void 0===S&&(S=Ft.min()),void 0===j&&(j=to.EMPTY_BYTE_STRING),this.target=i,this.targetId=c,this.purpose=p,this.sequenceNumber=b,this.snapshotVersion=A,this.lastLimboFreeSnapshotVersion=S,this.resumeToken=j}return s.prototype.withSequenceNumber=function(i){return new s(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},s.prototype.withResumeToken=function(i,c){return new s(this.target,this.targetId,this.purpose,this.sequenceNumber,c,this.lastLimboFreeSnapshotVersion,i)},s.prototype.withLastLimboFreeSnapshotVersion=function(i){return new s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)},s}(),ou=function(s){this.Lt=s};function Io(s,i){if(i.document)return Oi(s.Lt,i.document,!!i.hasCommittedMutations);if(i.noDocument){var c=di.fromSegments(i.noDocument.path),p=su(i.noDocument.readTime),b=xa.newNoDocument(c,p);return i.hasCommittedMutations?b.setHasCommittedMutations():b}if(i.unknownDocument){var A=di.fromSegments(i.unknownDocument.path);return p=su(i.unknownDocument.version),xa.newUnknownDocument(A,p)}return In()}function Oa(s,i,c){var rt,pt,p=oa(c),b=i.key.path.popLast().toArray();if(i.isFoundDocument()){var A={name:ye(rt=s.Lt,(pt=i).key),fields:pt.data.value.mapValue.fields,updateTime:iu(rt,pt.version.toTimestamp())},S=i.hasCommittedMutations;return new Ps(null,null,A,S,p,b)}if(i.isNoDocument()){var j=i.key.path.toArray(),oe=Bc(i.version);return S=i.hasCommittedMutations,new Ps(null,new dp(j,oe),null,S,p,b)}if(i.isUnknownDocument()){var Ee=i.key.path.toArray(),Le=Bc(i.version);return new Ps(new im(Ee,Le),null,null,!0,p,b)}return In()}function oa(s){var i=s.toTimestamp();return[i.seconds,i.nanoseconds]}function cn(s){var i=new ht(s[0],s[1]);return Ft.fromTimestamp(i)}function Bc(s){var i=s.toTimestamp();return new Hh(i.seconds,i.nanoseconds)}function su(s){var i=new ht(s.seconds,s.nanoseconds);return Ft.fromTimestamp(i)}function lh(s,i){for(var c=(i.baseMutations||[]).map(function(oe){return Un(s.Lt,oe)}),p=0;p<i.mutations.length-1;++p)p+1<i.mutations.length&&void 0!==i.mutations[p+1].transform&&(i.mutations[p].updateTransforms=i.mutations[p+1].transform.fieldTransforms,i.mutations.splice(p+1,1),++p);var S=i.mutations.map(function(oe){return Un(s.Lt,oe)}),j=ht.fromMillis(i.localWriteTimeMs);return new Eu(i.batchId,j,c,S)}function ch(s){var i,c,p=su(s.readTime),b=void 0!==s.lastLimboFreeSnapshotVersion?su(s.lastLimboFreeSnapshotVersion):Ft.min();return void 0!==s.query.documents?(H(1===(c=s.query).documents.length),i=Ea(ga(on(c.documents[0])))):i=Ea($a(s.query)),new Tr(i,s.targetId,0,s.lastListenSequenceNumber,p,b,to.fromBase64String(s.resumeToken))}function jc(s,i){var c,p=Bc(i.snapshotVersion),b=Bc(i.lastLimboFreeSnapshotVersion);c=Qd(i.target)?La(s.Lt,i.target):Sa(s.Lt,i.target);var A=i.resumeToken.toBase64();return new yl(i.targetId,gd(i.target),p,A,i.sequenceNumber,b,c)}function Wt(s){var i=$a({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Gs(i,i.limit,"L"):i}var pp=function(){function s(){}return s.prototype.getBundleMetadata=function(i,c){return gp(i).get(c).next(function(p){if(p)return{id:(b=p).bundleId,createTime:su(b.createTime),version:b.version};var b})},s.prototype.saveBundleMetadata=function(i,c){return gp(i).put({bundleId:(p=c).id,createTime:Bc(jo(p.createTime)),version:p.version});var p},s.prototype.getNamedQuery=function(i,c){return uh(i).get(c).next(function(p){if(p)return{name:(b=p).name,query:Wt(b.bundledQuery),readTime:su(b.readTime)};var b})},s.prototype.saveNamedQuery=function(i,c){return uh(i).put({name:(p=c).name,readTime:Bc(jo(p.readTime)),bundledQuery:p.bundledQuery});var p},s}();function gp(s){return Ws(s,qh.store)}function uh(s){return Ws(s,tl.store)}var Yp=function(){function s(){this.Bt=new om}return s.prototype.addToCollectionParentIndex=function(i,c){return this.Bt.add(c),An.resolve()},s.prototype.getCollectionParents=function(i,c){return An.resolve(this.Bt.getEntries(c))},s}(),om=function(){function s(){this.index={}}return s.prototype.add=function(i){var c=i.lastSegment(),p=i.popLast(),b=this.index[c]||new Qo(Bn.comparator),A=!b.has(p);return this.index[c]=b.add(p),A},s.prototype.has=function(i){var c=i.lastSegment(),p=i.popLast(),b=this.index[c];return b&&b.has(p)},s.prototype.getEntries=function(i){return(this.index[i]||new Qo(Bn.comparator)).toArray()},s}(),Ed=function(){function s(){this.qt=new om}return s.prototype.addToCollectionParentIndex=function(i,c){var p=this;if(!this.qt.has(c)){var b=c.lastSegment(),A=c.popLast();i.addOnCommittedListener(function(){p.qt.add(c)});var S={collectionId:b,parent:ma(A)};return Jl(i).put(S)}return An.resolve()},s.prototype.getCollectionParents=function(i,c){var p=[],b=IDBKeyRange.bound([c,""],[st(c),""],!1,!0);return Jl(i).Nt(b).next(function(A){for(var S=0,j=A;S<j.length;S++){var oe=j[S];if(oe.collectionId!==c)break;p.push(zl(oe.parent))}return p})},s}();function Jl(s){return Ws(s,kd.store)}var mp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zc=function(){function s(i,c,p){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=c,this.maximumSequenceNumbersToCollect=p}return s.withCacheSize=function(i){return new s(i,s.DEFAULT_COLLECTION_PERCENTILE,s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},s}();function $h(s,i,c){var p=s.store(zo.store),b=s.store(el.store),A=[],S=IDBKeyRange.only(c.batchId),j=0,oe=p.$t({range:S},function(Ut,Yt,En){return j++,En.delete()});A.push(oe.next(function(){H(1===j)}));for(var Ee=[],Le=0,rt=c.mutations;Le<rt.length;Le++){var pt=rt[Le],Bt=el.key(i,pt.key.path,c.batchId);A.push(b.delete(Bt)),Ee.push(pt.key)}return An.waitFor(A).next(function(){return Ee})}function Mu(s){if(!s)return 0;var i;if(s.document)i=s.document;else if(s.unknownDocument)i=s.unknownDocument;else{if(!s.noDocument)throw In();i=s.noDocument}return JSON.stringify(i).length}zc.DEFAULT_COLLECTION_PERCENTILE=10,zc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zc.DEFAULT=new zc(41943040,zc.DEFAULT_COLLECTION_PERCENTILE,zc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zc.DISABLED=new zc(-1,0,0);var pc=function(){function s(i,c,p,b){this.userId=i,this.R=c,this.Ut=p,this.referenceDelegate=b,this.Kt={}}return s.Qt=function(i,c,p,b){return H(""!==i.uid),new s(i.isAuthenticated()?i.uid:"",c,p,b)},s.prototype.checkEmpty=function(i){var c=!0,p=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ed(i).$t({index:zo.userMutationsIndex,range:p},function(b,A,S){c=!1,S.done()}).next(function(){return c})},s.prototype.addMutationBatch=function(i,c,p,b){var A=this,S=gc(i),j=ed(i);return j.add({}).next(function(oe){H("number"==typeof oe);for(var Ee=new Eu(oe,c,p,b),Le=function(Vn,xi,Ii){var Pr=Ii.baseMutations.map(function(ms){return Yr(Vn.Lt,ms)}),bo=Ii.mutations.map(function(ms){return Yr(Vn.Lt,ms)});return new zo(xi,Ii.batchId,Ii.localWriteTime.toMillis(),Pr,bo)}(A.R,A.userId,Ee),rt=[],pt=new Qo(function(Vn,xi){return ae(Vn.canonicalString(),xi.canonicalString())}),Bt=0,Ut=b;Bt<Ut.length;Bt++){var Yt=Ut[Bt],En=el.key(A.userId,Yt.key.path,oe);pt=pt.add(Yt.key.path.popLast()),rt.push(j.put(Le)),rt.push(S.put(En,el.PLACEHOLDER))}return pt.forEach(function(Vn){rt.push(A.Ut.addToCollectionParentIndex(i,Vn))}),i.addOnCommittedListener(function(){A.Kt[oe]=Ee.keys()}),An.waitFor(rt).next(function(){return Ee})})},s.prototype.lookupMutationBatch=function(i,c){var p=this;return ed(i).get(c).next(function(b){return b?(H(b.userId===p.userId),lh(p.R,b)):null})},s.prototype.jt=function(i,c){var p=this;return this.Kt[c]?An.resolve(this.Kt[c]):this.lookupMutationBatch(i,c).next(function(b){if(b){var A=b.keys();return p.Kt[c]=A,A}return null})},s.prototype.getNextMutationBatchAfterBatchId=function(i,c){var p=this,b=c+1,A=IDBKeyRange.lowerBound([this.userId,b]),S=null;return ed(i).$t({index:zo.userMutationsIndex,range:A},function(j,oe,Ee){oe.userId===p.userId&&(H(oe.batchId>=b),S=lh(p.R,oe)),Ee.done()}).next(function(){return S})},s.prototype.getHighestUnacknowledgedBatchId=function(i){var c=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),p=-1;return ed(i).$t({index:zo.userMutationsIndex,range:c,reverse:!0},function(b,A,S){p=A.batchId,S.done()}).next(function(){return p})},s.prototype.getAllMutationBatches=function(i){var c=this,p=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ed(i).Nt(zo.userMutationsIndex,p).next(function(b){return b.map(function(A){return lh(c.R,A)})})},s.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,c){var p=this,b=el.prefixForPath(this.userId,c.path),A=IDBKeyRange.lowerBound(b),S=[];return gc(i).$t({range:A},function(j,oe,Ee){var Le=j[0],pt=j[2],Bt=zl(j[1]);if(Le===p.userId&&c.path.isEqual(Bt))return ed(i).get(pt).next(function(Ut){if(!Ut)throw In();H(Ut.userId===p.userId),S.push(lh(p.R,Ut))});Ee.done()}).next(function(){return S})},s.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,c){var p=this,b=new Qo(ae),A=[];return c.forEach(function(S){var j=el.prefixForPath(p.userId,S.path),oe=IDBKeyRange.lowerBound(j),Ee=gc(i).$t({range:oe},function(Le,rt,pt){var Bt=Le[0],Yt=Le[2],En=zl(Le[1]);Bt===p.userId&&S.path.isEqual(En)?b=b.add(Yt):pt.done()});A.push(Ee)}),An.waitFor(A).next(function(){return p.Wt(i,b)})},s.prototype.getAllMutationBatchesAffectingQuery=function(i,c){var p=this,b=c.path,A=b.length+1,S=el.prefixForPath(this.userId,b),j=IDBKeyRange.lowerBound(S),oe=new Qo(ae);return gc(i).$t({range:j},function(Ee,Le,rt){var pt=Ee[0],Ut=Ee[2],Yt=zl(Ee[1]);pt===p.userId&&b.isPrefixOf(Yt)?Yt.length===A&&(oe=oe.add(Ut)):rt.done()}).next(function(){return p.Wt(i,oe)})},s.prototype.Wt=function(i,c){var p=this,b=[],A=[];return c.forEach(function(S){A.push(ed(i).get(S).next(function(j){if(null===j)throw In();H(j.userId===p.userId),b.push(lh(p.R,j))}))}),An.waitFor(A).next(function(){return b})},s.prototype.removeMutationBatch=function(i,c){var p=this;return $h(i.Mt,this.userId,c).next(function(b){return i.addOnCommittedListener(function(){p.Gt(c.batchId)}),An.forEach(b,function(A){return p.referenceDelegate.markPotentiallyOrphaned(i,A)})})},s.prototype.Gt=function(i){delete this.Kt[i]},s.prototype.performConsistencyCheck=function(i){var c=this;return this.checkEmpty(i).next(function(p){if(!p)return An.resolve();var b=IDBKeyRange.lowerBound(el.prefixForUser(c.userId)),A=[];return gc(i).$t({range:b},function(S,j,oe){if(S[0]===c.userId){var Ee=zl(S[1]);A.push(Ee)}else oe.done()}).next(function(){H(0===A.length)})})},s.prototype.containsKey=function(i,c){return Kp(i,this.userId,c)},s.prototype.zt=function(i){var c=this;return Xl(i).get(this.userId).next(function(p){return p||new Fc(c.userId,-1,"")})},s}();function Kp(s,i,c){var p=el.prefixForPath(i,c.path),b=p[1],A=IDBKeyRange.lowerBound(p),S=!1;return gc(s).$t({range:A,Ft:!0},function(j,oe,Ee){j[0]===i&&j[1]===b&&(S=!0),Ee.done()}).next(function(){return S})}function ed(s){return Ws(s,zo.store)}function gc(s){return Ws(s,el.store)}function Xl(s){return Ws(s,Fc.store)}var ec=function(){function s(i){this.Ht=i}return s.prototype.next=function(){return this.Ht+=2,this.Ht},s.Jt=function(){return new s(0)},s.Yt=function(){return new s(-1)},s}(),Vc=function(){function s(i,c){this.referenceDelegate=i,this.R=c}return s.prototype.allocateTargetId=function(i){var c=this;return this.Xt(i).next(function(p){var b=new ec(p.highestTargetId);return p.highestTargetId=b.next(),c.Zt(i,p).next(function(){return p.highestTargetId})})},s.prototype.getLastRemoteSnapshotVersion=function(i){return this.Xt(i).next(function(c){return Ft.fromTimestamp(new ht(c.lastRemoteSnapshotVersion.seconds,c.lastRemoteSnapshotVersion.nanoseconds))})},s.prototype.getHighestSequenceNumber=function(i){return this.Xt(i).next(function(c){return c.highestListenSequenceNumber})},s.prototype.setTargetsMetadata=function(i,c,p){var b=this;return this.Xt(i).next(function(A){return A.highestListenSequenceNumber=c,p&&(A.lastRemoteSnapshotVersion=p.toTimestamp()),c>A.highestListenSequenceNumber&&(A.highestListenSequenceNumber=c),b.Zt(i,A)})},s.prototype.addTargetData=function(i,c){var p=this;return this.te(i,c).next(function(){return p.Xt(i).next(function(b){return b.targetCount+=1,p.ee(c,b),p.Zt(i,b)})})},s.prototype.updateTargetData=function(i,c){return this.te(i,c)},s.prototype.removeTargetData=function(i,c){var p=this;return this.removeMatchingKeysForTargetId(i,c.targetId).next(function(){return Md(i).delete(c.targetId)}).next(function(){return p.Xt(i)}).next(function(b){return H(b.targetCount>0),b.targetCount-=1,p.Zt(i,b)})},s.prototype.removeTargets=function(i,c,p){var b=this,A=0,S=[];return Md(i).$t(function(j,oe){var Ee=ch(oe);Ee.sequenceNumber<=c&&null===p.get(Ee.targetId)&&(A++,S.push(b.removeTargetData(i,Ee)))}).next(function(){return An.waitFor(S)}).next(function(){return A})},s.prototype.forEachTarget=function(i,c){return Md(i).$t(function(p,b){var A=ch(b);c(A)})},s.prototype.Xt=function(i){return au(i).get(Vl.key).next(function(c){return H(null!==c),c})},s.prototype.Zt=function(i,c){return au(i).put(Vl.key,c)},s.prototype.te=function(i,c){return Md(i).put(jc(this.R,c))},s.prototype.ee=function(i,c){var p=!1;return i.targetId>c.highestTargetId&&(c.highestTargetId=i.targetId,p=!0),i.sequenceNumber>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i.sequenceNumber,p=!0),p},s.prototype.getTargetCount=function(i){return this.Xt(i).next(function(c){return c.targetCount})},s.prototype.getTargetData=function(i,c){var p=gd(c),b=IDBKeyRange.bound([p,Number.NEGATIVE_INFINITY],[p,Number.POSITIVE_INFINITY]),A=null;return Md(i).$t({range:b,index:yl.queryTargetsIndexName},function(S,j,oe){var Ee=ch(j);Ol(c,Ee.target)&&(A=Ee,oe.done())}).next(function(){return A})},s.prototype.addMatchingKeys=function(i,c,p){var b=this,A=[],S=Dd(i);return c.forEach(function(j){var oe=ma(j.path);A.push(S.put(new Ia(p,oe))),A.push(b.referenceDelegate.addReference(i,p,j))}),An.waitFor(A)},s.prototype.removeMatchingKeys=function(i,c,p){var b=this,A=Dd(i);return An.forEach(c,function(S){var j=ma(S.path);return An.waitFor([A.delete([p,j]),b.referenceDelegate.removeReference(i,p,S)])})},s.prototype.removeMatchingKeysForTargetId=function(i,c){var p=Dd(i),b=IDBKeyRange.bound([c],[c+1],!1,!0);return p.delete(b)},s.prototype.getMatchingKeysForTargetId=function(i,c){var p=IDBKeyRange.bound([c],[c+1],!1,!0),b=Dd(i),A=mr();return b.$t({range:p,Ft:!0},function(S,j,oe){var Ee=zl(S[1]),Le=new di(Ee);A=A.add(Le)}).next(function(){return A})},s.prototype.containsKey=function(i,c){var p=ma(c.path),b=IDBKeyRange.bound([p],[st(p)],!1,!0),A=0;return Dd(i).$t({index:Ia.documentTargetsIndex,Ft:!0,range:b},function(S,j,oe){0!==S[0]&&(A++,oe.done())}).next(function(){return A>0})},s.prototype.lt=function(i,c){return Md(i).get(c).next(function(p){return p?ch(p):null})},s}();function Md(s){return Ws(s,yl.store)}function au(s){return Ws(s,Vl.store)}function Dd(s){return Ws(s,Ia.store)}function Td(s){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(i){if(s.code!==se.FAILED_PRECONDITION||s.message!==Pf)throw s;return rn("LocalStore","Unexpectedly lost primary lease"),[2]})})}function _p(s,i){var p=s[1],A=i[1],S=ae(s[0],i[0]);return 0===S?ae(p,A):S}var Qp=function(){function s(i){this.ne=i,this.buffer=new Qo(_p),this.se=0}return s.prototype.ie=function(){return++this.se},s.prototype.re=function(i){var c=[i,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(c);else{var p=this.buffer.last();_p(c,p)<0&&(this.buffer=this.buffer.delete(p).add(c))}},Object.defineProperty(s.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),s}(),lu=function(){function s(i,c){this.garbageCollector=i,this.asyncQueue=c,this.oe=!1,this.ce=null}return s.prototype.start=function(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(i)},s.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(s.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),s.prototype.ue=function(i){var c=this,p=this.oe?3e5:6e4;rn("LruGarbageCollector","Garbage collection scheduled in "+p+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",p,function(){return(0,de.mG)(c,void 0,void 0,function(){var b;return(0,de.Jh)(this,function(A){switch(A.label){case 0:this.ce=null,this.oe=!0,A.label=1;case 1:return A.trys.push([1,3,,7]),[4,i.collectGarbage(this.garbageCollector)];case 2:return A.sent(),[3,7];case 3:return ah(b=A.sent())?(rn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",b),[3,6]):[3,4];case 4:return[4,Td(b)];case 5:A.sent(),A.label=6;case 6:return[3,7];case 7:return[4,this.ue(i)];case 8:return A.sent(),[2]}})})})},s}(),Jp=function(){function s(i,c){this.ae=i,this.params=c}return s.prototype.calculateTargetCount=function(i,c){return this.ae.he(i).next(function(p){return Math.floor(c/100*p)})},s.prototype.nthSequenceNumber=function(i,c){var p=this;if(0===c)return An.resolve(ee.o);var b=new Qp(c);return this.ae.forEachTarget(i,function(A){return b.re(A.sequenceNumber)}).next(function(){return p.ae.le(i,function(A){return b.re(A)})}).next(function(){return b.maxValue})},s.prototype.removeTargets=function(i,c,p){return this.ae.removeTargets(i,c,p)},s.prototype.removeOrphanedDocuments=function(i,c){return this.ae.removeOrphanedDocuments(i,c)},s.prototype.collect=function(i,c){var p=this;return-1===this.params.cacheSizeCollectionThreshold?(rn("LruGarbageCollector","Garbage collection skipped; disabled"),An.resolve(mp)):this.getCacheSize(i).next(function(b){return b<p.params.cacheSizeCollectionThreshold?(rn("LruGarbageCollector","Garbage collection skipped; Cache size "+b+" is lower than threshold "+p.params.cacheSizeCollectionThreshold),mp):p.fe(i,c)})},s.prototype.getCacheSize=function(i){return this.ae.getCacheSize(i)},s.prototype.fe=function(i,c){var p,b,A,S,j,oe,Ee,Le=this,rt=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(function(pt){return pt>Le.params.maximumSequenceNumbersToCollect?(rn("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+Le.params.maximumSequenceNumbersToCollect+" from "+pt),b=Le.params.maximumSequenceNumbersToCollect):b=pt,S=Date.now(),Le.nthSequenceNumber(i,b)}).next(function(pt){return p=pt,j=Date.now(),Le.removeTargets(i,p,c)}).next(function(pt){return A=pt,oe=Date.now(),Le.removeOrphanedDocuments(i,p)}).next(function(pt){return Ee=Date.now(),ir()<=Mt.in.DEBUG&&rn("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(S-rt)+"ms\n\tDetermined least recently used "+b+" in "+(j-S)+"ms\n\tRemoved "+A+" targets in "+(oe-j)+"ms\n\tRemoved "+pt+" documents in "+(Ee-oe)+"ms\nTotal Duration: "+(Ee-rt)+"ms"),An.resolve({didRun:!0,sequenceNumbersCollected:b,targetsRemoved:A,documentsRemoved:pt})})},s}(),Xp=function(){function s(i,c){this.db=i,this.garbageCollector=new Jp(this,c)}return s.prototype.he=function(i){var c=this.de(i);return this.db.getTargetCache().getTargetCount(i).next(function(p){return c.next(function(b){return p+b})})},s.prototype.de=function(i){var c=0;return this.le(i,function(p){c++}).next(function(){return c})},s.prototype.forEachTarget=function(i,c){return this.db.getTargetCache().forEachTarget(i,c)},s.prototype.le=function(i,c){return this.we(i,function(p,b){return c(b)})},s.prototype.addReference=function(i,c,p){return Wh(i,p)},s.prototype.removeReference=function(i,c,p){return Wh(i,p)},s.prototype.removeTargets=function(i,c,p){return this.db.getTargetCache().removeTargets(i,c,p)},s.prototype.markPotentiallyOrphaned=function(i,c){return Wh(i,c)},s.prototype._e=function(i,c){return b=c,A=!1,Xl(p=i).Ot(function(S){return Kp(p,S,b).next(function(j){return j&&(A=!0),An.resolve(!j)})}).next(function(){return A});var p,b,A},s.prototype.removeOrphanedDocuments=function(i,c){var p=this,b=this.db.getRemoteDocumentCache().newChangeBuffer(),A=[],S=0;return this.we(i,function(j,oe){if(oe<=c){var Ee=p._e(i,j).next(function(Le){if(!Le)return S++,b.getEntry(i,j).next(function(){return b.removeEntry(j),Dd(i).delete([0,ma(j.path)])})});A.push(Ee)}}).next(function(){return An.waitFor(A)}).next(function(){return b.apply(i)}).next(function(){return S})},s.prototype.removeTarget=function(i,c){var p=c.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,p)},s.prototype.updateLimboDocument=function(i,c){return Wh(i,c)},s.prototype.we=function(i,c){var p,b=Dd(i),A=ee.o;return b.$t({index:Ia.documentTargetsIndex},function(S,j){var Ee=j.path,Le=j.sequenceNumber;0===S[0]?(A!==ee.o&&c(new di(zl(p)),A),A=Le,p=Ee):A=ee.o}).next(function(){A!==ee.o&&c(new di(zl(p)),A)})},s.prototype.getCacheSize=function(i){return this.db.getRemoteDocumentCache().getSize(i)},s}();function Wh(s,i){return Dd(s).put((p=s.currentSequenceNumber,new Ia(0,ma(i.path),p)));var p}var Du=function(){function s(i,c){this.mapKeyFn=i,this.equalsFn=c,this.inner={}}return s.prototype.get=function(i){var c=this.mapKeyFn(i),p=this.inner[c];if(void 0!==p)for(var b=0,A=p;b<A.length;b++){var S=A[b],oe=S[1];if(this.equalsFn(S[0],i))return oe}},s.prototype.has=function(i){return void 0!==this.get(i)},s.prototype.set=function(i,c){var p=this.mapKeyFn(i),b=this.inner[p];if(void 0!==b){for(var A=0;A<b.length;A++)if(this.equalsFn(b[A][0],i))return void(b[A]=[i,c]);b.push([i,c])}else this.inner[p]=[[i,c]]},s.prototype.delete=function(i){var c=this.mapKeyFn(i),p=this.inner[c];if(void 0===p)return!1;for(var b=0;b<p.length;b++)if(this.equalsFn(p[b][0],i))return 1===p.length?delete this.inner[c]:p.splice(b,1),!0;return!1},s.prototype.forEach=function(i){mi(this.inner,function(c,p){for(var b=0,A=p;b<A.length;b++){var S=A[b];i(S[0],S[1])}})},s.prototype.isEmpty=function(){return ei(this.inner)},s}(),eg=function(){function s(){this.changes=new Du(function(i){return i.toString()},function(i,c){return i.isEqual(c)}),this.changesApplied=!1}return s.prototype.getReadTime=function(i){var c=this.changes.get(i);return c?c.readTime:Ft.min()},s.prototype.addEntry=function(i,c){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:c})},s.prototype.removeEntry=function(i,c){void 0===c&&(c=null),this.assertNotApplied(),this.changes.set(i,{document:xa.newInvalidDocument(i),readTime:c})},s.prototype.getEntry=function(i,c){this.assertNotApplied();var p=this.changes.get(c);return void 0!==p?An.resolve(p.document):this.getFromCache(i,c)},s.prototype.getEntries=function(i,c){return this.getAllFromCache(i,c)},s.prototype.apply=function(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)},s.prototype.assertNotApplied=function(){},s}(),tg=function(){function s(i,c){this.R=i,this.Ut=c}return s.prototype.addEntry=function(i,c,p){return Uc(i).put(Zh(c),p)},s.prototype.removeEntry=function(i,c){var p=Uc(i),b=Zh(c);return p.delete(b)},s.prototype.updateMetadata=function(i,c){var p=this;return this.getMetadata(i).next(function(b){return b.byteSize+=c,p.me(i,b)})},s.prototype.getEntry=function(i,c){var p=this;return Uc(i).get(Zh(c)).next(function(b){return p.ye(c,b)})},s.prototype.ge=function(i,c){var p=this;return Uc(i).get(Zh(c)).next(function(b){return{document:p.ye(c,b),size:Mu(b)}})},s.prototype.getEntries=function(i,c){var p=this,b=Bl();return this.pe(i,c,function(A,S){var j=p.ye(A,S);b=b.insert(A,j)}).next(function(){return b})},s.prototype.Ee=function(i,c){var p=this,b=Bl(),A=new ps(di.comparator);return this.pe(i,c,function(S,j){var oe=p.ye(S,j);b=b.insert(S,oe),A=A.insert(S,Mu(j))}).next(function(){return{documents:b,Te:A}})},s.prototype.pe=function(i,c,p){if(c.isEmpty())return An.resolve();var b=IDBKeyRange.bound(c.first().path.toArray(),c.last().path.toArray()),A=c.getIterator(),S=A.getNext();return Uc(i).$t({range:b},function(j,oe,Ee){for(var Le=di.fromSegments(j);S&&di.comparator(S,Le)<0;)p(S,null),S=A.getNext();S&&S.isEqual(Le)&&(p(S,oe),S=A.hasNext()?A.getNext():null),S?Ee.Ct(S.path.toArray()):Ee.done()}).next(function(){for(;S;)p(S,null),S=A.hasNext()?A.getNext():null})},s.prototype.getDocumentsMatchingQuery=function(i,c,p){var b=this,A=Bl(),S=c.path.length+1,j={};if(p.isEqual(Ft.min())){var oe=c.path.toArray();j.range=IDBKeyRange.lowerBound(oe)}else{var Ee=c.path.toArray(),Le=oa(p);j.range=IDBKeyRange.lowerBound([Ee,Le],!0),j.index=Ps.collectionReadTimeIndex}return Uc(i).$t(j,function(rt,pt,Bt){if(rt.length===S){var Ut=Io(b.R,pt);c.path.isPrefixOf(Ut.key.path)?ac(c,Ut)&&(A=A.insert(Ut.key,Ut)):Bt.done()}}).next(function(){return A})},s.prototype.newChangeBuffer=function(i){return new ng(this,!!i&&i.trackRemovals)},s.prototype.getSize=function(i){return this.getMetadata(i).next(function(c){return c.byteSize})},s.prototype.getMetadata=function(i){return bp(i).get(Wa.key).next(function(c){return H(!!c),c})},s.prototype.me=function(i,c){return bp(i).put(Wa.key,c)},s.prototype.ye=function(i,c){if(c){var p=Io(this.R,c);if(!p.isNoDocument()||!p.version.isEqual(Ft.min()))return p}return xa.newInvalidDocument(i)},s}(),ng=function(s){function i(c,p){var b=this;return(b=s.call(this)||this).Ie=c,b.trackRemovals=p,b.Ae=new Du(function(A){return A.toString()},function(A,S){return A.isEqual(S)}),b}return(0,de.ZT)(i,s),i.prototype.applyChanges=function(c){var p=this,b=[],A=0,S=new Qo(function(j,oe){return ae(j.canonicalString(),oe.canonicalString())});return this.changes.forEach(function(j,oe){var Ee=p.Ae.get(j);if(oe.document.isValidDocument()){var Le=Oa(p.Ie.R,oe.document,p.getReadTime(j));S=S.add(j.path.popLast());var rt=Mu(Le);A+=rt-Ee,b.push(p.Ie.addEntry(c,j,Le))}else if(A-=Ee,p.trackRemovals){var pt=Oa(p.Ie.R,xa.newNoDocument(j,Ft.min()),p.getReadTime(j));b.push(p.Ie.addEntry(c,j,pt))}else b.push(p.Ie.removeEntry(c,j))}),S.forEach(function(j){b.push(p.Ie.Ut.addToCollectionParentIndex(c,j))}),b.push(this.Ie.updateMetadata(c,A)),An.waitFor(b)},i.prototype.getFromCache=function(c,p){var b=this;return this.Ie.ge(c,p).next(function(A){return b.Ae.set(p,A.size),A.document})},i.prototype.getAllFromCache=function(c,p){var b=this;return this.Ie.Ee(c,p).next(function(A){var S=A.documents;return A.Te.forEach(function(j,oe){b.Ae.set(j,oe)}),S})},i}(eg);function bp(s){return Ws(s,Wa.store)}function Uc(s){return Ws(s,Ps.store)}function Zh(s){return s.path.toArray()}var Of=function(){function s(i){this.R=i}return s.prototype.Rt=function(i,c,p,b){var A=this;H(p<b&&p>=0&&b<=11);var oe,S=new Si("createOrUpgrade",c);p<1&&b>=1&&(i.createObjectStore(fc.store),(oe=i).createObjectStore(Fc.store,{keyPath:Fc.keyPath}),oe.createObjectStore(zo.store,{keyPath:zo.keyPath,autoIncrement:!0}).createIndex(zo.userMutationsIndex,zo.userMutationsKeyPath,{unique:!0}),oe.createObjectStore(el.store),Nf(i),function(oe){oe.createObjectStore(Ps.store)}(i));var j=An.resolve();return p<3&&b>=3&&(0!==p&&(function(oe){oe.deleteObjectStore(Ia.store),oe.deleteObjectStore(yl.store),oe.deleteObjectStore(Vl.store)}(i),Nf(i)),j=j.next(function(){return function(oe){var Ee=oe.store(Vl.store),Le=new Vl(0,0,Ft.min().toTimestamp(),0);return Ee.put(Vl.key,Le)}(S)})),p<4&&b>=4&&(0!==p&&(j=j.next(function(){return function(oe,Ee){return Ee.store(zo.store).Nt().next(function(Le){oe.deleteObjectStore(zo.store),oe.createObjectStore(zo.store,{keyPath:zo.keyPath,autoIncrement:!0}).createIndex(zo.userMutationsIndex,zo.userMutationsKeyPath,{unique:!0});var rt=Ee.store(zo.store),pt=Le.map(function(Bt){return rt.put(Bt)});return An.waitFor(pt)})}(i,S)})),j=j.next(function(){!function(oe){oe.createObjectStore(Ju.store,{keyPath:Ju.keyPath})}(i)})),p<5&&b>=5&&(j=j.next(function(){return A.Re(S)})),p<6&&b>=6&&(j=j.next(function(){return function(oe){oe.createObjectStore(Wa.store)}(i),A.be(S)})),p<7&&b>=7&&(j=j.next(function(){return A.ve(S)})),p<8&&b>=8&&(j=j.next(function(){return A.Pe(i,S)})),p<9&&b>=9&&(j=j.next(function(){(function(oe){oe.objectStoreNames.contains("remoteDocumentChanges")&&oe.deleteObjectStore("remoteDocumentChanges")})(i),function(oe){var Ee=oe.objectStore(Ps.store);Ee.createIndex(Ps.readTimeIndex,Ps.readTimeIndexPath,{unique:!1}),Ee.createIndex(Ps.collectionReadTimeIndex,Ps.collectionReadTimeIndexPath,{unique:!1})}(c)})),p<10&&b>=10&&(j=j.next(function(){return A.Ve(S)})),p<11&&b>=11&&(j=j.next(function(){(function(oe){oe.createObjectStore(qh.store,{keyPath:qh.keyPath})})(i),function(oe){oe.createObjectStore(tl.store,{keyPath:tl.keyPath})}(i)})),j},s.prototype.be=function(i){var c=0;return i.store(Ps.store).$t(function(p,b){c+=Mu(b)}).next(function(){var p=new Wa(c);return i.store(Wa.store).put(Wa.key,p)})},s.prototype.Re=function(i){var c=this,p=i.store(Fc.store),b=i.store(zo.store);return p.Nt().next(function(A){return An.forEach(A,function(S){var j=IDBKeyRange.bound([S.userId,-1],[S.userId,S.lastAcknowledgedBatchId]);return b.Nt(zo.userMutationsIndex,j).next(function(oe){return An.forEach(oe,function(Ee){H(Ee.userId===S.userId);var Le=lh(c.R,Ee);return $h(i,S.userId,Le).next(function(){})})})})})},s.prototype.ve=function(i){var c=i.store(Ia.store),p=i.store(Ps.store);return i.store(Vl.store).get(Vl.key).next(function(b){var A=[];return p.$t(function(S,j){var oe=new Bn(S),Ee=[0,ma(oe)];A.push(c.get(Ee).next(function(Le){return Le?An.resolve():c.put(new Ia(0,ma(oe),b.highestListenSequenceNumber))}))}).next(function(){return An.waitFor(A)})})},s.prototype.Pe=function(i,c){i.createObjectStore(kd.store,{keyPath:kd.keyPath});var p=c.store(kd.store),b=new om,A=function(S){if(b.add(S)){var j=S.lastSegment(),oe=S.popLast();return p.put({collectionId:j,parent:ma(oe)})}};return c.store(Ps.store).$t({Ft:!0},function(S,j){var oe=new Bn(S);return A(oe.popLast())}).next(function(){return c.store(el.store).$t({Ft:!0},function(S,j){var Ee=zl(S[1]);return A(Ee.popLast())})})},s.prototype.Ve=function(i){var c=this,p=i.store(yl.store);return p.$t(function(b,A){var S=ch(A),j=jc(c.R,S);return p.put(j)})},s}();function Nf(s){s.createObjectStore(Ia.store,{keyPath:Ia.keyPath}).createIndex(Ia.documentTargetsIndex,Ia.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(yl.store,{keyPath:yl.keyPath}).createIndex(yl.queryTargetsIndexName,yl.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Vl.store)}var Yh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Rf=function(){function s(i,c,p,b,A,S,j,oe,Ee,Le){if(this.allowTabSynchronization=i,this.persistenceKey=c,this.clientId=p,this.Se=A,this.window=S,this.document=j,this.De=Ee,this.Ce=Le,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(rt){return Promise.resolve()},!s.yt())throw new We(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xp(this,b),this.Le=c+"main",this.R=new ou(oe),this.Be=new Xu(this.Le,11,new Of(this.R)),this.qe=new Vc(this.referenceDelegate,this.R),this.Ut=new Ed,this.Ue=new tg(this.R,this.Ut),this.Ke=new pp,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===Le&&Ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return s.prototype.start=function(){var i=this;return this.je().then(function(){if(!i.isPrimary&&!i.allowTabSynchronization)throw new We(se.FAILED_PRECONDITION,Yh);return i.We(),i.Ge(),i.ze(),i.runTransaction("getHighestListenSequenceNumber","readonly",function(c){return i.qe.getHighestSequenceNumber(c)})}).then(function(c){i.Ne=new ee(c,i.De)}).then(function(){i.xe=!0}).catch(function(c){return i.Be&&i.Be.close(),Promise.reject(c)})},s.prototype.He=function(i){var c=this;return this.Me=function(p){return(0,de.mG)(c,void 0,void 0,function(){return(0,de.Jh)(this,function(b){return this.started?[2,i(p)]:[2]})})},i(this.isPrimary)},s.prototype.setDatabaseDeletedListener=function(i){var c=this;this.Be.vt(function(p){return(0,de.mG)(c,void 0,void 0,function(){return(0,de.Jh)(this,function(b){switch(b.label){case 0:return null===p.newVersion?[4,i()]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})})})},s.prototype.setNetworkEnabled=function(i){var c=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Se.enqueueAndForget(function(){return(0,de.mG)(c,void 0,void 0,function(){return(0,de.Jh)(this,function(p){switch(p.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})}))},s.prototype.je=function(){var i=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(c){return dh(c).put(new Ju(i.clientId,Date.now(),i.networkEnabled,i.inForeground)).next(function(){if(i.isPrimary)return i.Je(c).next(function(p){p||(i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}))})}).next(function(){return i.Ye(c)}).next(function(p){return i.isPrimary&&!p?i.Xe(c).next(function(){return!1}):!!p&&i.Ze(c).next(function(){return!0})})}).catch(function(c){if(ah(c))return rn("IndexedDbPersistence","Failed to extend owner lease: ",c),i.isPrimary;if(!i.allowTabSynchronization)throw c;return rn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",c),!1}).then(function(c){i.isPrimary!==c&&i.Se.enqueueRetryable(function(){return i.Me(c)}),i.isPrimary=c})},s.prototype.Je=function(i){var c=this;return Sd(i).get(fc.key).next(function(p){return An.resolve(c.tn(p))})},s.prototype.en=function(i){return dh(i).delete(this.clientId)},s.prototype.nn=function(){return(0,de.mG)(this,void 0,void 0,function(){var i,c,p,A=this;return(0,de.Jh)(this,function(S){switch(S.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(j){var oe=Ws(j,Ju.store);return oe.Nt().next(function(Ee){var Le=A.rn(Ee,18e5),rt=Ee.filter(function(pt){return-1===Le.indexOf(pt)});return An.forEach(rt,function(pt){return oe.delete(pt.clientId)}).next(function(){return rt})})}).catch(function(){return[]})]);case 1:if(i=S.sent(),this.Qe)for(c=0,p=i;c<p.length;c++)this.Qe.removeItem(this.on(p[c].clientId));S.label=2;case 2:return[2]}})})},s.prototype.ze=function(){var i=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return i.je().then(function(){return i.nn()}).then(function(){return i.ze()})})},s.prototype.tn=function(i){return!!i&&i.ownerId===this.clientId},s.prototype.Ye=function(i){var c=this;return this.Ce?An.resolve(!0):Sd(i).get(fc.key).next(function(p){if(null!==p&&c.sn(p.leaseTimestampMs,5e3)&&!c.cn(p.ownerId)){if(c.tn(p)&&c.networkEnabled)return!0;if(!c.tn(p)){if(!p.allowTabSynchronization)throw new We(se.FAILED_PRECONDITION,Yh);return!1}}return!(!c.networkEnabled||!c.inForeground)||dh(i).Nt().next(function(b){return void 0===c.rn(b,5e3).find(function(A){return!(c.clientId===A.clientId||!(!c.networkEnabled&&A.networkEnabled||!c.inForeground&&A.inForeground&&c.networkEnabled===A.networkEnabled))})})}).next(function(p){return c.isPrimary!==p&&rn("IndexedDbPersistence","Client "+(p?"is":"is not")+" eligible for a primary lease."),p})},s.prototype.shutdown=function(){return(0,de.mG)(this,void 0,void 0,function(){var i=this;return(0,de.Jh)(this,function(c){switch(c.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[fc.store,Ju.store],function(p){var b=new rm(p,ee.o);return i.Xe(b).next(function(){return i.en(b)})})];case 1:return c.sent(),this.Be.close(),this.ln(),[2]}})})},s.prototype.rn=function(i,c){var p=this;return i.filter(function(b){return p.sn(b.updateTimeMs,c)&&!p.cn(b.clientId)})},s.prototype.fn=function(){var i=this;return this.runTransaction("getActiveClients","readonly",function(c){return dh(c).Nt().next(function(p){return i.rn(p,18e5).map(function(b){return b.clientId})})})},Object.defineProperty(s.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),s.prototype.getMutationQueue=function(i){return pc.Qt(i,this.R,this.Ut,this.referenceDelegate)},s.prototype.getTargetCache=function(){return this.qe},s.prototype.getRemoteDocumentCache=function(){return this.Ue},s.prototype.getIndexManager=function(){return this.Ut},s.prototype.getBundleCache=function(){return this.Ke},s.prototype.runTransaction=function(i,c,p){var A,b=this;return rn("IndexedDbPersistence","Starting transaction:",i),this.Be.runTransaction(i,"readonly"===c?"readonly":"readwrite",Gh,function(j){return A=new rm(j,b.Ne?b.Ne.next():ee.o),"readwrite-primary"===c?b.Je(A).next(function(oe){return!!oe||b.Ye(A)}).next(function(oe){if(!oe)throw Ir("Failed to obtain primary lease for action '"+i+"'."),b.isPrimary=!1,b.Se.enqueueRetryable(function(){return b.Me(!1)}),new We(se.FAILED_PRECONDITION,Pf);return p(A)}).next(function(oe){return b.Ze(A).next(function(){return oe})}):b.dn(A).next(function(){return p(A)})}).then(function(j){return A.raiseOnCommittedEvent(),j})},s.prototype.dn=function(i){var c=this;return Sd(i).get(fc.key).next(function(p){if(null!==p&&c.sn(p.leaseTimestampMs,5e3)&&!c.cn(p.ownerId)&&!c.tn(p)&&!(c.Ce||c.allowTabSynchronization&&p.allowTabSynchronization))throw new We(se.FAILED_PRECONDITION,Yh)})},s.prototype.Ze=function(i){var c=new fc(this.clientId,this.allowTabSynchronization,Date.now());return Sd(i).put(fc.key,c)},s.yt=function(){return Xu.yt()},s.prototype.Xe=function(i){var c=this,p=Sd(i);return p.get(fc.key).next(function(b){return c.tn(b)?(rn("IndexedDbPersistence","Releasing primary lease."),p.delete(fc.key)):An.resolve()})},s.prototype.sn=function(i,c){var p=Date.now();return!(i<p-c||i>p&&(Ir("Detected an update time that is in the future: "+i+" > "+p),1))},s.prototype.We=function(){var i=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){i.Se.enqueueAndForget(function(){return i.inForeground="visible"===i.document.visibilityState,i.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},s.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},s.prototype.Ge=function(){var i,c=this;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.ke=function(){c.un(),(0,Oe.G6)()&&navigator.appVersion.match("Version/14")&&c.Se.enterRestrictedMode(!0),c.Se.enqueueAndForget(function(){return c.shutdown()})},this.window.addEventListener("pagehide",this.ke))},s.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},s.prototype.cn=function(i){var c;try{var p=null!==(null===(c=this.Qe)||void 0===c?void 0:c.getItem(this.on(i)));return rn("IndexedDbPersistence","Client '"+i+"' "+(p?"is":"is not")+" zombied in LocalStorage"),p}catch(b){return Ir("IndexedDbPersistence","Failed to get zombied client id.",b),!1}},s.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(i){Ir("Failed to set zombie client id.",i)}},s.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(i){}},s.prototype.on=function(i){return"firestore_zombie_"+this.persistenceKey+"_"+i},s}();function Sd(s){return Ws(s,fc.store)}function dh(s){return Ws(s,Ju.store)}function Id(s,i){var c=s.projectId;return s.isDefaultDatabase||(c+="."+s.database),"firestore/"+i+"/"+c+"/"}var sm=function(s,i){this.progress=s,this.wn=i},ig=function(){function s(i,c,p){this.Ue=i,this._n=c,this.Ut=p}return s.prototype.mn=function(i,c){var p=this;return this._n.getAllMutationBatchesAffectingDocumentKey(i,c).next(function(b){return p.yn(i,c,b)})},s.prototype.yn=function(i,c,p){return this.Ue.getEntry(i,c).next(function(b){for(var A=0,S=p;A<S.length;A++)S[A].applyToLocalView(b);return b})},s.prototype.gn=function(i,c){i.forEach(function(p,b){for(var A=0,S=c;A<S.length;A++)S[A].applyToLocalView(b)})},s.prototype.pn=function(i,c){var p=this;return this.Ue.getEntries(i,c).next(function(b){return p.En(i,b).next(function(){return b})})},s.prototype.En=function(i,c){var p=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(i,c).next(function(b){return p.gn(c,b)})},s.prototype.getDocumentsMatchingQuery=function(i,c,p){return di.isDocumentKey((b=c).path)&&null===b.collectionGroup&&0===b.filters.length?this.Tn(i,c.path):Ja(c)?this.In(i,c,p):this.An(i,c,p);var b},s.prototype.Tn=function(i,c){return this.mn(i,new di(c)).next(function(p){var b=Ku();return p.isFoundDocument()&&(b=b.insert(p.key,p)),b})},s.prototype.In=function(i,c,p){var b=this,A=c.collectionGroup,S=Ku();return this.Ut.getCollectionParents(i,A).next(function(j){return An.forEach(j,function(oe){var Le,rt,Ee=(Le=c,rt=oe.child(A),new Nl(rt,null,Le.explicitOrderBy.slice(),Le.filters.slice(),Le.limit,Le.limitType,Le.startAt,Le.endAt));return b.An(i,Ee,p).next(function(Le){Le.forEach(function(rt,pt){S=S.insert(rt,pt)})})}).next(function(){return S})})},s.prototype.An=function(i,c,p){var b,A,S=this;return this.Ue.getDocumentsMatchingQuery(i,c,p).next(function(j){return b=j,S._n.getAllMutationBatchesAffectingQuery(i,c)}).next(function(j){return S.Rn(i,A=j,b).next(function(oe){b=oe;for(var Ee=0,Le=A;Ee<Le.length;Ee++)for(var rt=Le[Ee],pt=0,Bt=rt.mutations;pt<Bt.length;pt++){var Ut=Bt[pt],Yt=Ut.key,En=b.get(Yt);null==En&&(En=xa.newInvalidDocument(Yt),b=b.insert(Yt,En)),bd(Ut,En,rt.localWriteTime),En.isFoundDocument()||(b=b.remove(Yt))}})}).next(function(){return b.forEach(function(j,oe){ac(c,oe)||(b=b.remove(j))}),b})},s.prototype.Rn=function(i,c,p){for(var b=mr(),A=0,S=c;A<S.length;A++)for(var j=0,oe=S[A].mutations;j<oe.length;j++){var Ee=oe[j];Ee instanceof Yl&&null===p.get(Ee.key)&&(b=b.add(Ee.key))}var Le=p;return this.Ue.getEntries(i,b).next(function(rt){return rt.forEach(function(pt,Bt){Bt.isFoundDocument()&&(Le=Le.insert(pt,Bt))}),Le})},s}(),wl=function(){function s(i,c,p,b){this.targetId=i,this.fromCache=c,this.bn=p,this.vn=b}return s.Pn=function(i,c){for(var p=mr(),b=mr(),A=0,S=c.docChanges;A<S.length;A++){var j=S[A];switch(j.type){case 0:p=p.add(j.doc.key);break;case 1:b=b.add(j.doc.key)}}return new s(i,c.fromCache,p,b)},s}(),Ff=function(){function s(){}return s.prototype.Vn=function(i){this.Sn=i},s.prototype.getDocumentsMatchingQuery=function(i,c,p,b){var S,A=this;return 0===(S=c).filters.length&&null===S.limit&&null==S.startAt&&null==S.endAt&&(0===S.explicitOrderBy.length||1===S.explicitOrderBy.length&&S.explicitOrderBy[0].field.isKeyField())||p.isEqual(Ft.min())?this.Dn(i,c):this.Sn.pn(i,b).next(function(S){var j=A.Cn(c,S);return(Rh(c)||eh(c))&&A.Nn(c.limitType,j,b,p)?A.Dn(i,c):(ir()<=Mt.in.DEBUG&&rn("QueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),$s(c)),A.Sn.getDocumentsMatchingQuery(i,c,p).next(function(oe){return j.forEach(function(Ee){oe=oe.insert(Ee.key,Ee)}),oe}))})},s.prototype.Cn=function(i,c){var p=new Qo(Fh(i));return c.forEach(function(b,A){ac(i,A)&&(p=p.add(A))}),p},s.prototype.Nn=function(i,c,p,b){if(p.size!==c.size)return!0;var A="F"===i?c.last():c.first();return!!A&&(A.hasPendingWrites||A.version.compareTo(b)>0)},s.prototype.Dn=function(i,c){return ir()<=Mt.in.DEBUG&&rn("QueryEngine","Using full collection scan to execute query:",$s(c)),this.Sn.getDocumentsMatchingQuery(i,c,Ft.min())},s}(),am=function(){function s(i,c,p,b){this.persistence=i,this.xn=c,this.R=b,this.kn=new ps(ae),this.Fn=new Du(function(A){return gd(A)},Ol),this.$n=Ft.min(),this._n=i.getMutationQueue(p),this.On=i.getRemoteDocumentCache(),this.qe=i.getTargetCache(),this.Mn=new ig(this.On,this._n,this.persistence.getIndexManager()),this.Ke=i.getBundleCache(),this.xn.Vn(this.Mn)}return s.prototype.collectGarbage=function(i){var c=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(p){return i.collect(p,c.kn)})},s}();function vp(s,i,c,p){return new am(s,i,c,p)}function Tu(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,p,b,A;return(0,de.Jh)(this,function(S){switch(S.label){case 0:return c=R(s),p=c._n,b=c.Mn,[4,c.persistence.runTransaction("Handle user change","readonly",function(j){var oe;return c._n.getAllMutationBatches(j).next(function(Ee){return oe=Ee,p=c.persistence.getMutationQueue(i),b=new ig(c.On,p,c.persistence.getIndexManager()),p.getAllMutationBatches(j)}).next(function(Ee){for(var Le=[],rt=[],pt=mr(),Bt=0,Ut=oe;Bt<Ut.length;Bt++){var Yt=Ut[Bt];Le.push(Yt.batchId);for(var En=0,Vn=Yt.mutations;En<Vn.length;En++)pt=pt.add(Vn[En].key)}for(var Ii=0,Pr=Ee;Ii<Pr.length;Ii++){var bo=Pr[Ii];rt.push(bo.batchId);for(var ms=0,al=bo.mutations;ms<al.length;ms++)pt=pt.add(al[ms].key)}return b.pn(j,pt).next(function(ip){return{Ln:ip,removedBatchIds:Le,addedBatchIds:rt}})})})];case 1:return A=S.sent(),[2,(c._n=p,c.Mn=b,c.xn.Vn(c.Mn),A)]}})})}function D_(s,i){var c=R(s);return c.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(p){var S,j,oe,Ee,Le,rt,pt,b=i.batch.keys(),A=c.On.newChangeBuffer({trackRemovals:!0});return(S=c,j=p,oe=i,Ee=A,Le=oe.batch,rt=Le.keys(),pt=An.resolve(),rt.forEach(function(Bt){pt=pt.next(function(){return Ee.getEntry(j,Bt)}).next(function(Ut){var Yt=oe.docVersions.get(Bt);H(null!==Yt),Ut.version.compareTo(Yt)<0&&(Le.applyToRemoteDocument(Ut,oe),Ut.isValidDocument()&&Ee.addEntry(Ut,oe.commitVersion))})}),pt.next(function(){return S._n.removeMutationBatch(j,Le)})).next(function(){return A.apply(p)}).next(function(){return c._n.performConsistencyCheck(p)}).next(function(){return c.Mn.pn(p,b)})})}function rg(s){var i=R(s);return i.persistence.runTransaction("Get last remote snapshot version","readonly",function(c){return i.qe.getLastRemoteSnapshotVersion(c)})}function Gm(s,i){var c=R(s),p=i.snapshotVersion,b=c.kn;return c.persistence.runTransaction("Apply remote event","readwrite-primary",function(A){var S=c.On.newChangeBuffer({trackRemovals:!0});b=c.kn;var j=[];i.targetChanges.forEach(function(Le,rt){var Yt,En,Vn,pt=b.get(rt);if(pt){j.push(c.qe.removeMatchingKeys(A,Le.removedDocuments,rt).next(function(){return c.qe.addMatchingKeys(A,Le.addedDocuments,rt)}));var Bt=Le.resumeToken;if(Bt.approximateByteSize()>0){var Ut=pt.withResumeToken(Bt,p).withSequenceNumber(A.currentSequenceNumber);b=b.insert(rt,Ut),Yt=pt,Vn=Le,H((En=Ut).resumeToken.approximateByteSize()>0),(0===Yt.resumeToken.approximateByteSize()||En.snapshotVersion.toMicroseconds()-Yt.snapshotVersion.toMicroseconds()>=3e8||Vn.addedDocuments.size+Vn.modifiedDocuments.size+Vn.removedDocuments.size>0)&&j.push(c.qe.updateTargetData(A,Ut))}}});var oe=Bl();if(i.documentUpdates.forEach(function(Le,rt){i.resolvedLimboDocuments.has(Le)&&j.push(c.persistence.referenceDelegate.updateLimboDocument(A,Le))}),j.push(og(A,S,i.documentUpdates,p,void 0).next(function(Le){oe=Le})),!p.isEqual(Ft.min())){var Ee=c.qe.getLastRemoteSnapshotVersion(A).next(function(Le){return c.qe.setTargetsMetadata(A,A.currentSequenceNumber,p)});j.push(Ee)}return An.waitFor(j).next(function(){return S.apply(A)}).next(function(){return c.Mn.En(A,oe)}).next(function(){return oe})}).then(function(A){return c.kn=b,A})}function og(s,i,c,p,b){var A=mr();return c.forEach(function(S){return A=A.add(S)}),i.getEntries(s,A).next(function(S){var j=Bl();return c.forEach(function(oe,Ee){var Le=S.get(oe),rt=(null==b?void 0:b.get(oe))||p;Ee.isNoDocument()&&Ee.version.isEqual(Ft.min())?(i.removeEntry(oe,rt),j=j.insert(oe,Ee)):!Le.isValidDocument()||Ee.version.compareTo(Le.version)>0||0===Ee.version.compareTo(Le.version)&&Le.hasPendingWrites?(i.addEntry(Ee,rt),j=j.insert(oe,Ee)):rn("LocalStore","Ignoring outdated watch update for ",oe,". Current version:",Le.version," Watch version:",Ee.version)}),j})}function sg(s,i){var c=R(s);return c.persistence.runTransaction("Get next mutation batch","readonly",function(p){return void 0===i&&(i=-1),c._n.getNextMutationBatchAfterBatchId(p,i)})}function Kh(s,i){var c=R(s);return c.persistence.runTransaction("Allocate target","readwrite",function(p){var b;return c.qe.getTargetData(p,i).next(function(A){return A?An.resolve(b=A):c.qe.allocateTargetId(p).next(function(S){return b=new Tr(i,S,0,p.currentSequenceNumber),c.qe.addTargetData(p,b).next(function(){return b})})})}).then(function(p){var b=c.kn.get(p.targetId);return(null===b||p.snapshotVersion.compareTo(b.snapshotVersion)>0)&&(c.kn=c.kn.insert(p.targetId,p),c.Fn.set(i,p.targetId)),p})}function Cl(s,i,c){return(0,de.mG)(this,void 0,void 0,function(){var p,b,A,S;return(0,de.Jh)(this,function(j){switch(j.label){case 0:p=R(s),b=p.kn.get(i),A=c?"readwrite":"readwrite-primary",j.label=1;case 1:return j.trys.push([1,4,,5]),c?[3,3]:[4,p.persistence.runTransaction("Release target",A,function(oe){return p.persistence.referenceDelegate.removeTarget(oe,b)})];case 2:j.sent(),j.label=3;case 3:return[3,5];case 4:if(!ah(S=j.sent()))throw S;return rn("LocalStore","Failed to update sequence numbers for target "+i+": "+S),[3,5];case 5:return p.kn=p.kn.remove(i),p.Fn.delete(b.target),[2]}})})}function yp(s,i,c){var p=R(s),b=Ft.min(),A=mr();return p.persistence.runTransaction("Execute query","readonly",function(S){return(j=p,oe=S,Ee=Ea(i),Le=R(j),rt=Le.Fn.get(Ee),void 0!==rt?An.resolve(Le.kn.get(rt)):Le.qe.getTargetData(oe,Ee)).next(function(j){if(j)return b=j.lastLimboFreeSnapshotVersion,p.qe.getMatchingKeysForTargetId(S,j.targetId).next(function(oe){A=oe})}).next(function(){return p.xn.getDocumentsMatchingQuery(S,i,c?b:Ft.min(),c?A:mr())}).next(function(j){return{documents:j,Bn:A}});var j,oe,Ee,Le,rt})}function ag(s,i){var c=R(s),p=R(c.qe),b=c.kn.get(i);return b?Promise.resolve(b.target):c.persistence.runTransaction("Get target data","readonly",function(A){return p.lt(A,i).next(function(S){return S?S.target:null})})}function Pd(s){var i=R(s);return i.persistence.runTransaction("Get new document changes","readonly",function(c){return b=c,A=i.$n,S=R(i.On),j=Bl(),oe=oa(A),Ee=Uc(b),Le=IDBKeyRange.lowerBound(oe,!0),Ee.$t({index:Ps.readTimeIndex,range:Le},function(rt,pt){var Bt=Io(S.R,pt);j=j.insert(Bt.key,Bt),oe=pt.readTime}).next(function(){return{wn:j,readTime:cn(oe)}});var b,A,S,j,oe,Ee,Le}).then(function(c){var p=c.wn;return i.$n=c.readTime,p})}function $m(s){return(0,de.mG)(this,void 0,void 0,function(){var i;return(0,de.Jh)(this,function(c){return[2,(i=R(s)).persistence.runTransaction("Synchronize last document change read time","readonly",function(p){return A=Uc(p),S=Ft.min(),A.$t({index:Ps.readTimeIndex,reverse:!0},function(j,oe,Ee){oe.readTime&&(S=cn(oe.readTime)),Ee.done()}).next(function(){return S});var A,S}).then(function(p){i.$n=p})]})})}function Wm(s,i,c,p){return(0,de.mG)(this,void 0,void 0,function(){var b,A,S,j,oe,Ee,Le,rt,pt,Bt;return(0,de.Jh)(this,function(Ut){switch(Ut.label){case 0:for(b=R(s),A=mr(),S=Bl(),j=rh(),oe=0,Ee=c;oe<Ee.length;oe++)rt=i.qn((Le=Ee[oe]).metadata.name),Le.document&&(A=A.add(rt)),S=S.insert(rt,i.Un(Le)),j=j.insert(rt,i.Kn(Le.metadata.readTime));return pt=b.On.newChangeBuffer({trackRemovals:!0}),[4,Kh(b,(Yt=p,Ea(ga(Bn.fromString("__bundle__/docs/"+Yt)))))];case 1:return Bt=Ut.sent(),[2,b.persistence.runTransaction("Apply bundle documents","readwrite",function(Yt){return og(Yt,pt,S,Ft.min(),j).next(function(En){return pt.apply(Yt),En}).next(function(En){return b.qe.removeMatchingKeysForTargetId(Yt,Bt.targetId).next(function(){return b.qe.addMatchingKeys(Yt,A,Bt.targetId)}).next(function(){return b.Mn.En(Yt,En)}).next(function(){return En})})})]}var Yt})})}function lm(s,i,c){return void 0===c&&(c=mr()),(0,de.mG)(this,void 0,void 0,function(){var p,b;return(0,de.Jh)(this,function(A){switch(A.label){case 0:return[4,Kh(s,Ea(Wt(i.bundledQuery)))];case 1:return p=A.sent(),[2,(b=R(s)).persistence.runTransaction("Save named query","readwrite",function(S){var j=jo(i.readTime);if(p.snapshotVersion.compareTo(j)>=0)return b.Ke.saveNamedQuery(S,i);var oe=p.withResumeToken(to.EMPTY_BYTE_STRING,j);return b.kn=b.kn.insert(oe.targetId,oe),b.qe.updateTargetData(S,oe).next(function(){return b.qe.removeMatchingKeysForTargetId(S,p.targetId)}).next(function(){return b.qe.addMatchingKeys(S,c,p.targetId)}).next(function(){return b.Ke.saveNamedQuery(S,i)})})]}})})}var cm=function(){function s(i){this.R=i,this.Qn=new Map,this.jn=new Map}return s.prototype.getBundleMetadata=function(i,c){return An.resolve(this.Qn.get(c))},s.prototype.saveBundleMetadata=function(i,c){var p;return this.Qn.set(c.id,{id:(p=c).id,version:p.version,createTime:jo(p.createTime)}),An.resolve()},s.prototype.getNamedQuery=function(i,c){return An.resolve(this.jn.get(c))},s.prototype.saveNamedQuery=function(i,c){return this.jn.set(c.name,{name:(p=c).name,query:Wt(p.bundledQuery),readTime:jo(p.readTime)}),An.resolve();var p},s}(),lg=function(){function s(){this.Wn=new Qo(Za.Gn),this.zn=new Qo(Za.Hn)}return s.prototype.isEmpty=function(){return this.Wn.isEmpty()},s.prototype.addReference=function(i,c){var p=new Za(i,c);this.Wn=this.Wn.add(p),this.zn=this.zn.add(p)},s.prototype.Jn=function(i,c){var p=this;i.forEach(function(b){return p.addReference(b,c)})},s.prototype.removeReference=function(i,c){this.Yn(new Za(i,c))},s.prototype.Xn=function(i,c){var p=this;i.forEach(function(b){return p.removeReference(b,c)})},s.prototype.Zn=function(i){var c=this,p=new di(new Bn([])),b=new Za(p,i),A=new Za(p,i+1),S=[];return this.zn.forEachInRange([b,A],function(j){c.Yn(j),S.push(j.key)}),S},s.prototype.ts=function(){var i=this;this.Wn.forEach(function(c){return i.Yn(c)})},s.prototype.Yn=function(i){this.Wn=this.Wn.delete(i),this.zn=this.zn.delete(i)},s.prototype.es=function(i){var c=new di(new Bn([])),p=new Za(c,i),b=new Za(c,i+1),A=mr();return this.zn.forEachInRange([p,b],function(S){A=A.add(S.key)}),A},s.prototype.containsKey=function(i){var c=new Za(i,0),p=this.Wn.firstAfterOrEqual(c);return null!==p&&i.isEqual(p.key)},s}(),Za=function(){function s(i,c){this.key=i,this.ns=c}return s.Gn=function(i,c){return di.comparator(i.key,c.key)||ae(i.ns,c.ns)},s.Hn=function(i,c){return ae(i.ns,c.ns)||di.comparator(i.key,c.key)},s}(),Zm=function(){function s(i,c){this.Ut=i,this.referenceDelegate=c,this._n=[],this.ss=1,this.rs=new Qo(Za.Gn)}return s.prototype.checkEmpty=function(i){return An.resolve(0===this._n.length)},s.prototype.addMutationBatch=function(i,c,p,b){var A=this.ss;this.ss++;var S=new Eu(A,c,p,b);this._n.push(S);for(var j=0,oe=b;j<oe.length;j++){var Ee=oe[j];this.rs=this.rs.add(new Za(Ee.key,A)),this.Ut.addToCollectionParentIndex(i,Ee.key.path.popLast())}return An.resolve(S)},s.prototype.lookupMutationBatch=function(i,c){return An.resolve(this.os(c))},s.prototype.getNextMutationBatchAfterBatchId=function(i,c){var b=this.cs(c+1),A=b<0?0:b;return An.resolve(this._n.length>A?this._n[A]:null)},s.prototype.getHighestUnacknowledgedBatchId=function(){return An.resolve(0===this._n.length?-1:this.ss-1)},s.prototype.getAllMutationBatches=function(i){return An.resolve(this._n.slice())},s.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,c){var p=this,b=new Za(c,0),A=new Za(c,Number.POSITIVE_INFINITY),S=[];return this.rs.forEachInRange([b,A],function(j){var oe=p.os(j.ns);S.push(oe)}),An.resolve(S)},s.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,c){var p=this,b=new Qo(ae);return c.forEach(function(A){var S=new Za(A,0),j=new Za(A,Number.POSITIVE_INFINITY);p.rs.forEachInRange([S,j],function(oe){b=b.add(oe.ns)})}),An.resolve(this.us(b))},s.prototype.getAllMutationBatchesAffectingQuery=function(i,c){var p=c.path,b=p.length+1,A=p;di.isDocumentKey(A)||(A=A.child(""));var S=new Za(new di(A),0),j=new Qo(ae);return this.rs.forEachWhile(function(oe){var Ee=oe.key.path;return!!p.isPrefixOf(Ee)&&(Ee.length===b&&(j=j.add(oe.ns)),!0)},S),An.resolve(this.us(j))},s.prototype.us=function(i){var c=this,p=[];return i.forEach(function(b){var A=c.os(b);null!==A&&p.push(A)}),p},s.prototype.removeMutationBatch=function(i,c){var p=this;H(0===this.hs(c.batchId,"removed")),this._n.shift();var b=this.rs;return An.forEach(c.mutations,function(A){var S=new Za(A.key,c.batchId);return b=b.delete(S),p.referenceDelegate.markPotentiallyOrphaned(i,A.key)}).next(function(){p.rs=b})},s.prototype.Gt=function(i){},s.prototype.containsKey=function(i,c){var p=new Za(c,0),b=this.rs.firstAfterOrEqual(p);return An.resolve(c.isEqual(b&&b.key))},s.prototype.performConsistencyCheck=function(i){return An.resolve()},s.prototype.hs=function(i,c){return this.cs(i)},s.prototype.cs=function(i){return 0===this._n.length?0:i-this._n[0].batchId},s.prototype.os=function(i){var c=this.cs(i);return c<0||c>=this._n.length?null:this._n[c]},s}(),dr=function(){function s(i,c){this.Ut=i,this.ls=c,this.docs=new ps(di.comparator),this.size=0}return s.prototype.addEntry=function(i,c,p){var b=c.key,A=this.docs.get(b),S=A?A.size:0,j=this.ls(c);return this.docs=this.docs.insert(b,{document:c.clone(),size:j,readTime:p}),this.size+=j-S,this.Ut.addToCollectionParentIndex(i,b.path.popLast())},s.prototype.removeEntry=function(i){var c=this.docs.get(i);c&&(this.docs=this.docs.remove(i),this.size-=c.size)},s.prototype.getEntry=function(i,c){var p=this.docs.get(c);return An.resolve(p?p.document.clone():xa.newInvalidDocument(c))},s.prototype.getEntries=function(i,c){var p=this,b=Bl();return c.forEach(function(A){var S=p.docs.get(A);b=b.insert(A,S?S.document.clone():xa.newInvalidDocument(A))}),An.resolve(b)},s.prototype.getDocumentsMatchingQuery=function(i,c,p){for(var b=Bl(),A=new di(c.path.child("")),S=this.docs.getIteratorFrom(A);S.hasNext();){var j=S.getNext(),Ee=j.value,Le=Ee.document,rt=Ee.readTime;if(!c.path.isPrefixOf(j.key.path))break;rt.compareTo(p)<=0||ac(c,Le)&&(b=b.insert(Le.key,Le.clone()))}return An.resolve(b)},s.prototype.fs=function(i,c){return An.forEach(this.docs,function(p){return c(p)})},s.prototype.newChangeBuffer=function(i){return new wp(this)},s.prototype.getSize=function(i){return An.resolve(this.size)},s}(),wp=function(s){function i(c){var p=this;return(p=s.call(this)||this).Ie=c,p}return(0,de.ZT)(i,s),i.prototype.applyChanges=function(c){var p=this,b=[];return this.changes.forEach(function(A,S){S.document.isValidDocument()?b.push(p.Ie.addEntry(c,S.document,p.getReadTime(A))):p.Ie.removeEntry(A)}),An.waitFor(b)},i.prototype.getFromCache=function(c,p){return this.Ie.getEntry(c,p)},i.prototype.getAllFromCache=function(c,p){return this.Ie.getEntries(c,p)},i}(eg),cg=function(){function s(i){this.persistence=i,this.ds=new Du(function(c){return gd(c)},Ol),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.ws=0,this._s=new lg,this.targetCount=0,this.ys=ec.Jt()}return s.prototype.forEachTarget=function(i,c){return this.ds.forEach(function(p,b){return c(b)}),An.resolve()},s.prototype.getLastRemoteSnapshotVersion=function(i){return An.resolve(this.lastRemoteSnapshotVersion)},s.prototype.getHighestSequenceNumber=function(i){return An.resolve(this.ws)},s.prototype.allocateTargetId=function(i){return this.highestTargetId=this.ys.next(),An.resolve(this.highestTargetId)},s.prototype.setTargetsMetadata=function(i,c,p){return p&&(this.lastRemoteSnapshotVersion=p),c>this.ws&&(this.ws=c),An.resolve()},s.prototype.te=function(i){this.ds.set(i.target,i);var c=i.targetId;c>this.highestTargetId&&(this.ys=new ec(c),this.highestTargetId=c),i.sequenceNumber>this.ws&&(this.ws=i.sequenceNumber)},s.prototype.addTargetData=function(i,c){return this.te(c),this.targetCount+=1,An.resolve()},s.prototype.updateTargetData=function(i,c){return this.te(c),An.resolve()},s.prototype.removeTargetData=function(i,c){return this.ds.delete(c.target),this._s.Zn(c.targetId),this.targetCount-=1,An.resolve()},s.prototype.removeTargets=function(i,c,p){var b=this,A=0,S=[];return this.ds.forEach(function(j,oe){oe.sequenceNumber<=c&&null===p.get(oe.targetId)&&(b.ds.delete(j),S.push(b.removeMatchingKeysForTargetId(i,oe.targetId)),A++)}),An.waitFor(S).next(function(){return A})},s.prototype.getTargetCount=function(i){return An.resolve(this.targetCount)},s.prototype.getTargetData=function(i,c){var p=this.ds.get(c)||null;return An.resolve(p)},s.prototype.addMatchingKeys=function(i,c,p){return this._s.Jn(c,p),An.resolve()},s.prototype.removeMatchingKeys=function(i,c,p){this._s.Xn(c,p);var b=this.persistence.referenceDelegate,A=[];return b&&c.forEach(function(S){A.push(b.markPotentiallyOrphaned(i,S))}),An.waitFor(A)},s.prototype.removeMatchingKeysForTargetId=function(i,c){return this._s.Zn(c),An.resolve()},s.prototype.getMatchingKeysForTargetId=function(i,c){var p=this._s.es(c);return An.resolve(p)},s.prototype.containsKey=function(i,c){return An.resolve(this._s.containsKey(c))},s}(),mc=function(){function s(i,c){var p=this;this.gs={},this.Ne=new ee(0),this.xe=!1,this.xe=!0,this.referenceDelegate=i(this),this.qe=new cg(this),this.Ut=new Yp,this.Ue=new dr(this.Ut,function(S){return p.referenceDelegate.ps(S)}),this.R=new ou(c),this.Ke=new cm(this.R)}return s.prototype.start=function(){return Promise.resolve()},s.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(s.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),s.prototype.setDatabaseDeletedListener=function(){},s.prototype.setNetworkEnabled=function(){},s.prototype.getIndexManager=function(){return this.Ut},s.prototype.getMutationQueue=function(i){var c=this.gs[i.toKey()];return c||(c=new Zm(this.Ut,this.referenceDelegate),this.gs[i.toKey()]=c),c},s.prototype.getTargetCache=function(){return this.qe},s.prototype.getRemoteDocumentCache=function(){return this.Ue},s.prototype.getBundleCache=function(){return this.Ke},s.prototype.runTransaction=function(i,c,p){var b=this;rn("MemoryPersistence","Starting transaction:",i);var A=new Qh(this.Ne.next());return this.referenceDelegate.Es(),p(A).next(function(S){return b.referenceDelegate.Ts(A).next(function(){return S})}).toPromise().then(function(S){return A.raiseOnCommittedEvent(),S})},s.prototype.Is=function(i,c){return An.or(Object.values(this.gs).map(function(p){return function(){return p.containsKey(i,c)}}))},s}(),Qh=function(s){function i(c){var p=this;return(p=s.call(this)||this).currentSequenceNumber=c,p}return(0,de.ZT)(i,s),i}(Ad),Hc=function(){function s(i){this.persistence=i,this.As=new lg,this.Rs=null}return s.bs=function(i){return new s(i)},Object.defineProperty(s.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw In()},enumerable:!1,configurable:!0}),s.prototype.addReference=function(i,c,p){return this.As.addReference(p,c),this.vs.delete(p.toString()),An.resolve()},s.prototype.removeReference=function(i,c,p){return this.As.removeReference(p,c),this.vs.add(p.toString()),An.resolve()},s.prototype.markPotentiallyOrphaned=function(i,c){return this.vs.add(c.toString()),An.resolve()},s.prototype.removeTarget=function(i,c){var p=this;this.As.Zn(c.targetId).forEach(function(A){return p.vs.add(A.toString())});var b=this.persistence.getTargetCache();return b.getMatchingKeysForTargetId(i,c.targetId).next(function(A){A.forEach(function(S){return p.vs.add(S.toString())})}).next(function(){return b.removeTargetData(i,c)})},s.prototype.Es=function(){this.Rs=new Set},s.prototype.Ts=function(i){var c=this,p=this.persistence.getRemoteDocumentCache().newChangeBuffer();return An.forEach(this.vs,function(b){var A=di.fromPath(b);return c.Ps(i,A).next(function(S){S||p.removeEntry(A)})}).next(function(){return c.Rs=null,p.apply(i)})},s.prototype.updateLimboDocument=function(i,c){var p=this;return this.Ps(i,c).next(function(b){b?p.vs.delete(c.toString()):p.vs.add(c.toString())})},s.prototype.ps=function(i){return 0},s.prototype.Ps=function(i,c){var p=this;return An.or([function(){return An.resolve(p.As.containsKey(c))},function(){return p.persistence.getTargetCache().containsKey(i,c)},function(){return p.persistence.Is(i,c)}])},s}(),sa=function(){function s(i){this.uid=i}return s.prototype.isAuthenticated=function(){return null!=this.uid},s.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},s.prototype.isEqual=function(i){return i.uid===this.uid},s}();function ug(s,i){return"firestore_clients_"+s+"_"+i}function Su(s,i,c){var p="firestore_mutations_"+s+"_"+c;return i.isAuthenticated()&&(p+="_"+i.uid),p}function kl(s,i){return"firestore_targets_"+s+"_"+i}sa.UNAUTHENTICATED=new sa(null),sa.GOOGLE_CREDENTIALS=new sa("google-credentials-uid"),sa.FIRST_PARTY=new sa("first-party-uid"),sa.MOCK_USER=new sa("mock-user");var Lf=function(){function s(i,c,p,b){this.user=i,this.batchId=c,this.state=p,this.error=b}return s.Vs=function(i,c,p){var b,A=JSON.parse(p),S="object"==typeof A&&-1!==["pending","acknowledged","rejected"].indexOf(A.state)&&(void 0===A.error||"object"==typeof A.error);return S&&A.error&&(S="string"==typeof A.error.message&&"string"==typeof A.error.code)&&(b=new We(A.error.code,A.error.message)),S?new s(i,c,A.state,b):(Ir("SharedClientState","Failed to parse mutation state for ID '"+c+"': "+p),null)},s.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},s}(),Kr=function(){function s(i,c,p){this.targetId=i,this.state=c,this.error=p}return s.Vs=function(i,c){var p,b=JSON.parse(c),A="object"==typeof b&&-1!==["not-current","current","rejected"].indexOf(b.state)&&(void 0===b.error||"object"==typeof b.error);return A&&b.error&&(A="string"==typeof b.error.message&&"string"==typeof b.error.code)&&(p=new We(b.error.code,b.error.message)),A?new s(i,b.state,p):(Ir("SharedClientState","Failed to parse target state for ID '"+i+"': "+c),null)},s.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},s}(),_a=function(){function s(i,c){this.clientId=i,this.activeTargetIds=c}return s.Vs=function(i,c){for(var p=JSON.parse(c),b="object"==typeof p&&p.activeTargetIds instanceof Array,A=nu(),S=0;b&&S<p.activeTargetIds.length;++S)b=Bi(p.activeTargetIds[S]),A=A.add(p.activeTargetIds[S]);return b?new s(i,A):(Ir("SharedClientState","Failed to parse client data for instance '"+i+"': "+c),null)},s}(),_c=function(){function s(i,c){this.clientId=i,this.onlineState=c}return s.Vs=function(i){var c=JSON.parse(i);return"object"==typeof c&&-1!==["Unknown","Online","Offline"].indexOf(c.onlineState)&&"string"==typeof c.clientId?new s(c.clientId,c.onlineState):(Ir("SharedClientState","Failed to parse online state: "+i),null)},s}(),Bf=function(){function s(){this.activeTargetIds=nu()}return s.prototype.Ds=function(i){this.activeTargetIds=this.activeTargetIds.add(i)},s.prototype.Cs=function(i){this.activeTargetIds=this.activeTargetIds.delete(i)},s.prototype.Ss=function(){var i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)},s}(),aa=function(){function s(i,c,p,b,A){this.window=i,this.Se=c,this.persistenceKey=p,this.Ns=b,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ps(ae),this.started=!1,this.$s=[];var S=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=A,this.Os=ug(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Bf),this.Ls=new RegExp("^firestore_clients_"+S+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+S+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+S+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(j){return"firestore_bundle_loaded_"+j}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return s.yt=function(i){return!(!i||!i.localStorage)},s.prototype.start=function(){return(0,de.mG)(this,void 0,void 0,function(){var i,c,p,b,A,S,j,oe,Ee,Le,pt=this;return(0,de.Jh)(this,function(Bt){switch(Bt.label){case 0:return[4,this.syncEngine.fn()];case 1:for(i=Bt.sent(),c=0,p=i;c<p.length;c++)(b=p[c])!==this.Ns&&(A=this.getItem(ug(this.persistenceKey,b)))&&(S=_a.Vs(b,A))&&(this.Fs=this.Fs.insert(S.clientId,S));for(this.Qs(),(j=this.storage.getItem(this.Us))&&(oe=this.js(j))&&this.Ws(oe),Ee=0,Le=this.$s;Ee<Le.length;Ee++)this.ks(Le[Ee]);return this.$s=[],this.window.addEventListener("pagehide",function(){return pt.shutdown()}),this.started=!0,[2]}})})},s.prototype.writeSequenceNumber=function(i){this.setItem(this.Ms,JSON.stringify(i))},s.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},s.prototype.isActiveQueryTarget=function(i){var c=!1;return this.Fs.forEach(function(p,b){b.activeTargetIds.has(i)&&(c=!0)}),c},s.prototype.addPendingMutation=function(i){this.zs(i,"pending")},s.prototype.updateMutationState=function(i,c,p){this.zs(i,c,p),this.Hs(i)},s.prototype.addLocalQueryTarget=function(i){var c="not-current";if(this.isActiveQueryTarget(i)){var p=this.storage.getItem(kl(this.persistenceKey,i));if(p){var b=Kr.Vs(i,p);b&&(c=b.state)}}return this.Js.Ds(i),this.Qs(),c},s.prototype.removeLocalQueryTarget=function(i){this.Js.Cs(i),this.Qs()},s.prototype.isLocalQueryTarget=function(i){return this.Js.activeTargetIds.has(i)},s.prototype.clearQueryState=function(i){this.removeItem(kl(this.persistenceKey,i))},s.prototype.updateQueryState=function(i,c,p){this.Ys(i,c,p)},s.prototype.handleUserChange=function(i,c,p){var b=this;c.forEach(function(A){b.Hs(A)}),this.currentUser=i,p.forEach(function(A){b.addPendingMutation(A)})},s.prototype.setOnlineState=function(i){this.Xs(i)},s.prototype.notifyBundleLoaded=function(){this.Zs()},s.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},s.prototype.getItem=function(i){var c=this.storage.getItem(i);return rn("SharedClientState","READ",i,c),c},s.prototype.setItem=function(i,c){rn("SharedClientState","SET",i,c),this.storage.setItem(i,c)},s.prototype.removeItem=function(i){rn("SharedClientState","REMOVE",i),this.storage.removeItem(i)},s.prototype.ks=function(i){var c=this,p=i;if(p.storageArea===this.storage){if(rn("SharedClientState","EVENT",p.key,p.newValue),p.key===this.Os)return void Ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,de.mG)(c,void 0,void 0,function(){var b,A,S,j,oe,Ee;return(0,de.Jh)(this,function(Le){if(this.started){if(null!==p.key)if(this.Ls.test(p.key)){if(null==p.newValue)return b=this.ti(p.key),[2,this.ei(b,null)];if(A=this.ni(p.key,p.newValue))return[2,this.ei(A.clientId,A)]}else if(this.Bs.test(p.key)){if(null!==p.newValue&&(S=this.si(p.key,p.newValue)))return[2,this.ii(S)]}else if(this.qs.test(p.key)){if(null!==p.newValue&&(j=this.ri(p.key,p.newValue)))return[2,this.oi(j)]}else if(p.key===this.Us){if(null!==p.newValue&&(oe=this.js(p.newValue)))return[2,this.Ws(oe)]}else if(p.key===this.Ms)(Ee=function(rt){var pt=ee.o;if(null!=rt)try{var Bt=JSON.parse(rt);H("number"==typeof Bt),pt=Bt}catch(Ut){Ir("SharedClientState","Failed to read sequence number from WebStorage",Ut)}return pt}(p.newValue))!==ee.o&&this.sequenceNumberHandler(Ee);else if(p.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(p);return[2]})})})}},Object.defineProperty(s.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),s.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},s.prototype.zs=function(i,c,p){var b=new Lf(this.currentUser,i,c,p),A=Su(this.persistenceKey,this.currentUser,i);this.setItem(A,b.Ss())},s.prototype.Hs=function(i){var c=Su(this.persistenceKey,this.currentUser,i);this.removeItem(c)},s.prototype.Xs=function(i){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:i}))},s.prototype.Ys=function(i,c,p){var b=kl(this.persistenceKey,i),A=new Kr(i,c,p);this.setItem(b,A.Ss())},s.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},s.prototype.ti=function(i){var c=this.Ls.exec(i);return c?c[1]:null},s.prototype.ni=function(i,c){var p=this.ti(i);return _a.Vs(p,c)},s.prototype.si=function(i,c){var p=this.Bs.exec(i),b=Number(p[1]);return Lf.Vs(new sa(void 0!==p[2]?p[2]:null),b,c)},s.prototype.ri=function(i,c){var p=this.qs.exec(i),b=Number(p[1]);return Kr.Vs(b,c)},s.prototype.js=function(i){return _c.Vs(i)},s.prototype.ii=function(i){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(c){return i.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(i.batchId,i.state,i.error)]:(rn("SharedClientState","Ignoring mutation for non-active user "+i.user.uid),[2])})})},s.prototype.oi=function(i){return this.syncEngine.ai(i.targetId,i.state,i.error)},s.prototype.ei=function(i,c){var p=this,b=c?this.Fs.insert(i,c):this.Fs.remove(i),A=this.Gs(this.Fs),S=this.Gs(b),j=[],oe=[];return S.forEach(function(Ee){A.has(Ee)||j.push(Ee)}),A.forEach(function(Ee){S.has(Ee)||oe.push(Ee)}),this.syncEngine.hi(j,oe).then(function(){p.Fs=b})},s.prototype.Ws=function(i){this.Fs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)},s.prototype.Gs=function(i){var c=nu();return i.forEach(function(p,b){c=c.unionWith(b.activeTargetIds)}),c},s}(),la=function(){function s(){this.li=new Bf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return s.prototype.addPendingMutation=function(i){},s.prototype.updateMutationState=function(i,c,p){},s.prototype.addLocalQueryTarget=function(i){return this.li.Ds(i),this.fi[i]||"not-current"},s.prototype.updateQueryState=function(i,c,p){this.fi[i]=c},s.prototype.removeLocalQueryTarget=function(i){this.li.Cs(i)},s.prototype.isLocalQueryTarget=function(i){return this.li.activeTargetIds.has(i)},s.prototype.clearQueryState=function(i){delete this.fi[i]},s.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},s.prototype.isActiveQueryTarget=function(i){return this.li.activeTargetIds.has(i)},s.prototype.start=function(){return this.li=new Bf,Promise.resolve()},s.prototype.handleUserChange=function(i,c,p){},s.prototype.setOnlineState=function(i){},s.prototype.shutdown=function(){},s.prototype.writeSequenceNumber=function(i){},s.prototype.notifyBundleLoaded=function(){},s}(),il=function(){function s(){}return s.prototype.di=function(i){},s.prototype.shutdown=function(){},s}(),bc=function(){function s(){var i=this;this.wi=function(){return i._i()},this.mi=function(){return i.yi()},this.gi=[],this.pi()}return s.prototype.di=function(i){this.gi.push(i)},s.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},s.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},s.prototype._i=function(){rn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var i=0,c=this.gi;i<c.length;i++)(0,c[i])(0)},s.prototype.yi=function(){rn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var i=0,c=this.gi;i<c.length;i++)(0,c[i])(1)},s.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},s}(),Os={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},fo=function(){function s(i){this.Ei=i.Ei,this.Ti=i.Ti}return s.prototype.Ii=function(i){this.Ai=i},s.prototype.Ri=function(i){this.bi=i},s.prototype.onMessage=function(i){this.vi=i},s.prototype.close=function(){this.Ti()},s.prototype.send=function(i){this.Ei(i)},s.prototype.Pi=function(){this.Ai()},s.prototype.Vi=function(i){this.bi(i)},s.prototype.Si=function(i){this.vi(i)},s}(),Iu=function(s){function i(c){var p=this;return(p=s.call(this,c)||this).forceLongPolling=c.forceLongPolling,p.autoDetectLongPolling=c.autoDetectLongPolling,p.useFetchStreams=c.useFetchStreams,p}return(0,de.ZT)(i,s),i.prototype.Fi=function(c,p,b,A){return new Promise(function(S,j){var oe=new K;oe.listenOnce(is.COMPLETE,function(){try{switch(oe.getLastErrorCode()){case Mr.NO_ERROR:var Le=oe.getResponseJson();rn("Connection","XHR received:",JSON.stringify(Le)),S(Le);break;case Mr.TIMEOUT:rn("Connection",'RPC "'+c+'" timed out'),j(new We(se.DEADLINE_EXCEEDED,"Request time out"));break;case Mr.HTTP_ERROR:var rt=oe.getStatus();if(rn("Connection",'RPC "'+c+'" failed with status:',rt,"response text:",oe.getResponseText()),rt>0){var pt=oe.getResponseJson().error;if(pt&&pt.status&&pt.message){var Bt=(Yt=pt.status.toLowerCase().replace(/_/g,"-"),Object.values(se).indexOf(Yt)>=0?Yt:se.UNKNOWN);j(new We(Bt,pt.message))}else j(new We(se.UNKNOWN,"Server responded with status "+oe.getStatus()))}else j(new We(se.UNAVAILABLE,"Connection failed."));break;default:In()}}finally{rn("Connection",'RPC "'+c+'" completed.')}var Yt});var Ee=JSON.stringify(A);oe.send(p,"POST",Ee,b,15)})},i.prototype.Oi=function(c,p){var b=[this.Di,"/","google.firestore.v1.Firestore","/",c,"/channel"],A=new Xn,S=Go(),j={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(j.xmlHttpFactory=new Ca({})),this.ki(j.initMessageHeaders,p),(0,Oe.uI)()||(0,Oe.b$)()||(0,Oe.d)()||(0,Oe.w1)()||(0,Oe.Mn)()||(0,Oe.ru)()||(j.httpHeadersOverwriteParam="$httpHeaders");var oe=b.join("");rn("Connection","Creating WebChannel: "+oe,j);var Ee=A.createWebChannel(oe,j),Le=!1,rt=!1,pt=new fo({Ei:function(Ut){rt?rn("Connection","Not sending because WebChannel is closed:",Ut):(Le||(rn("Connection","Opening WebChannel transport."),Ee.open(),Le=!0),rn("Connection","WebChannel sending:",Ut),Ee.send(Ut))},Ti:function(){return Ee.close()}}),Bt=function(Ut,Yt,En){Ut.listen(Yt,function(Vn){try{En(Vn)}catch(xi){setTimeout(function(){throw xi},0)}})};return Bt(Ee,So.EventType.OPEN,function(){rt||rn("Connection","WebChannel transport opened.")}),Bt(Ee,So.EventType.CLOSE,function(){rt||(rt=!0,rn("Connection","WebChannel transport closed"),pt.Vi())}),Bt(Ee,So.EventType.ERROR,function(Ut){rt||(rt=!0,gl("Connection","WebChannel transport errored:",Ut),pt.Vi(new We(se.UNAVAILABLE,"The operation could not be completed")))}),Bt(Ee,So.EventType.MESSAGE,function(Ut){var Yt;if(!rt){var En=Ut.data[0];H(!!En);var xi=En.error||(null===(Yt=En[0])||void 0===Yt?void 0:Yt.error);if(xi){rn("Connection","WebChannel received error:",xi);var Ii=xi.status,Pr=function(ms){var al=Ko[ms];if(void 0!==al)return Lo(al)}(Ii),bo=xi.message;void 0===Pr&&(Pr=se.INTERNAL,bo="Unknown error status: "+Ii+" with message "+xi.message),rt=!0,pt.Vi(new We(Pr,bo)),Ee.close()}else rn("Connection","WebChannel received:",En),pt.Si(En)}}),Bt(S,rs.STAT_EVENT,function(Ut){Ut.stat===Ha_PROXY?rn("Connection","Detected buffering proxy"):Ut.stat===Ha_NOPROXY&&rn("Connection","Detected no buffering proxy")}),setTimeout(function(){pt.Pi()},0),pt},i}(function(){function s(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Di=(i.ssl?"https":"http")+"://"+i.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return s.prototype.Ni=function(i,c,p,b){var A=this.xi(i,c);rn("RestConnection","Sending: ",A,p);var S={};return this.ki(S,b),this.Fi(i,A,S,p).then(function(j){return rn("RestConnection","Received: ",j),j},function(j){throw gl("RestConnection",i+" failed with error: ",j,"url: ",A,"request:",p),j})},s.prototype.$i=function(i,c,p,b){return this.Ni(i,c,p,b)},s.prototype.ki=function(i,c){if(i["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),c)for(var p in c.authHeaders)c.authHeaders.hasOwnProperty(p)&&(i[p]=c.authHeaders[p])},s.prototype.xi=function(i,c){return this.Di+"/v1/"+c+":"+Os[i]},s}());function um(){return"undefined"!=typeof window?window:null}function Jh(){return"undefined"!=typeof document?document:null}function Br(s){return new up(s,!0)}var dg=function(){function s(i,c,p,b,A){void 0===p&&(p=1e3),void 0===b&&(b=1.5),void 0===A&&(A=6e4),this.Se=i,this.timerId=c,this.Mi=p,this.Li=b,this.Bi=A,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return s.prototype.reset=function(){this.qi=0},s.prototype.Qi=function(){this.qi=this.Bi},s.prototype.ji=function(i){var c=this;this.cancel();var p=Math.floor(this.qi+this.Wi()),b=Math.max(0,Date.now()-this.Ki),A=Math.max(0,p-b);A>0&&rn("ExponentialBackoff","Backing off for "+A+" ms (base delay: "+this.qi+" ms, delay with jitter: "+p+" ms, last attempt: "+b+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,A,function(){return c.Ki=Date.now(),i()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},s.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},s.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},s.prototype.Wi=function(){return(Math.random()-.5)*this.qi},s}(),Cp=function(){function s(i,c,p,b,A,S){this.Se=i,this.zi=p,this.Hi=b,this.Ji=A,this.listener=S,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new dg(i,c)}return s.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},s.prototype.er=function(){return 2===this.state},s.prototype.start=function(){3!==this.state?this.auth():this.nr()},s.prototype.stop=function(){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(i){switch(i.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},s.prototype.sr=function(){this.state=0,this.Zi.reset()},s.prototype.ir=function(){var i=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return i.rr()}))},s.prototype.cr=function(i){this.ur(),this.stream.send(i)},s.prototype.rr=function(){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(i){return this.er()?[2,this.close(0)]:[2]})})},s.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},s.prototype.close=function(i,c){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(p){switch(p.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==i?this.Zi.reset():c&&c.code===se.RESOURCE_EXHAUSTED?(Ir(c.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):c&&c.code===se.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=i,[4,this.listener.Ri(c)];case 1:return p.sent(),[2]}})})},s.prototype.ar=function(){},s.prototype.auth=function(){var i=this;this.state=1;var c=this.hr(this.Yi),p=this.Yi;this.Ji.getToken().then(function(b){i.Yi===p&&i.lr(b)},function(b){c(function(){var A=new We(se.UNKNOWN,"Fetching auth token failed: "+b.message);return i.dr(A)})})},s.prototype.lr=function(i){var c=this,p=this.hr(this.Yi);this.stream=this.wr(i),this.stream.Ii(function(){p(function(){return c.state=2,c.listener.Ii()})}),this.stream.Ri(function(b){p(function(){return c.dr(b)})}),this.stream.onMessage(function(b){p(function(){return c.onMessage(b)})})},s.prototype.nr=function(){var i=this;this.state=4,this.Zi.ji(function(){return(0,de.mG)(i,void 0,void 0,function(){return(0,de.Jh)(this,function(c){return this.state=0,this.start(),[2]})})})},s.prototype.dr=function(i){return rn("PersistentStream","close with error: "+i),this.stream=null,this.close(3,i)},s.prototype.hr=function(i){var c=this;return function(p){c.Se.enqueueAndForget(function(){return c.Yi===i?p():(rn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},s}(),T_=function(s){function i(c,p,b,A,S){var j=this;return(j=s.call(this,c,"listen_stream_connection_backoff","listen_stream_idle",p,b,S)||this).R=A,j}return(0,de.ZT)(i,s),i.prototype.wr=function(c){return this.Hi.Oi("Listen",c)},i.prototype.onMessage=function(c){this.Zi.reset();var p=function(A,S){var j,En;if("targetChange"in S){var oe="NO_CHANGE"===(En=S.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===En?1:"REMOVE"===En?2:"CURRENT"===En?3:"RESET"===En?4:In(),Ee=S.targetChange.targetIds||[],Le=function(En,Vn){return En.I?(H(void 0===Vn||"string"==typeof Vn),to.fromBase64String(Vn||"")):(H(void 0===Vn||Vn instanceof Uint8Array),to.fromUint8Array(Vn||new Uint8Array))}(A,S.targetChange.resumeToken),rt=(pt=S.targetChange.cause)&&function(En){var Vn=void 0===En.code?se.UNKNOWN:Lo(En.code);return new We(Vn,En.message||"")}(pt);j=new Ta(oe,Ee,Le,rt||null)}else if("documentChange"in S){Ee=Ye(A,(oe=S.documentChange).document.name),Le=jo(oe.document.updateTime);var pt=new Aa({mapValue:{fields:oe.document.fields}}),Bt=(rt=xa.newFoundDocument(Ee,Le,pt),oe.targetIds||[]);j=new Oc(Bt,oe.removedTargetIds||[],rt.key,rt)}else if("documentDelete"in S)Ee=Ye(A,(oe=S.documentDelete).document),Le=oe.readTime?jo(oe.readTime):Ft.min(),pt=xa.newNoDocument(Ee,Le),j=new Oc([],rt=oe.removedTargetIds||[],pt.key,pt);else if("documentRemove"in S)Ee=Ye(A,(oe=S.documentRemove).document),j=new Oc([],Le=oe.removedTargetIds||[],Ee,null);else{if(!("filter"in S))return In();var Yt=S.filter;Ee=new Df(oe=Yt.count||0),j=new Ga(Le=Yt.targetId,Ee)}return j}(this.R,c),b=function(A){if(!("targetChange"in A))return Ft.min();var S=A.targetChange;return S.targetIds&&S.targetIds.length?Ft.min():S.readTime?jo(S.readTime):Ft.min()}(c);return this.listener._r(p,b)},i.prototype.mr=function(c){var A,S,j,oe,p={};p.database=vi(this.R),p.addTarget=(A=this.R,(j=Qd(oe=(S=c).target)?{documents:La(A,oe)}:{query:Sa(A,oe)}).targetId=S.targetId,S.resumeToken.approximateByteSize()>0?j.resumeToken=Bo(A,S.resumeToken):S.snapshotVersion.compareTo(Ft.min())>0&&(j.readTime=iu(A,S.snapshotVersion.toTimestamp())),j);var b=function(A,S){var j=function(oe,Ee){switch(Ee){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return In()}}(0,S.purpose);return null==j?null:{"goog-listen-tags":j}}(0,c);b&&(p.labels=b),this.cr(p)},i.prototype.yr=function(c){var p={};p.database=vi(this.R),p.removeTarget=c,this.cr(p)},i}(Cp),Ym=function(s){function i(c,p,b,A,S){var j=this;return(j=s.call(this,c,"write_stream_connection_backoff","write_stream_idle",p,b,S)||this).R=A,j.gr=!1,j}return(0,de.ZT)(i,s),Object.defineProperty(i.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,s.prototype.start.call(this)},i.prototype.ar=function(){this.gr&&this.Er([])},i.prototype.wr=function(c){return this.Hi.Oi("Write",c)},i.prototype.onMessage=function(c){if(H(!!c.streamToken),this.lastStreamToken=c.streamToken,this.gr){this.Zi.reset();var p=(S=c.commitTime,(A=c.writeResults)&&A.length>0?(H(void 0!==S),A.map(function(j){return Ee=S,(Le=jo((oe=j).updateTime?oe.updateTime:Ee)).isEqual(Ft.min())&&(Le=jo(Ee)),new Mf(Le,oe.transformResults||[]);var oe,Ee,Le})):[]),b=jo(c.commitTime);return this.listener.Tr(b,p)}var A,S;return H(!c.writeResults||0===c.writeResults.length),this.gr=!0,this.listener.Ir()},i.prototype.Ar=function(){var c={};c.database=vi(this.R),this.cr(c)},i.prototype.Er=function(c){var p=this,b={streamToken:this.lastStreamToken,writes:c.map(function(A){return Yr(p.R,A)})};this.cr(b)},i}(Cp),Km=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).credentials=c,A.Hi=p,A.R=b,A.Rr=!1,A}return(0,de.ZT)(i,s),i.prototype.br=function(){if(this.Rr)throw new We(se.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.Ni=function(c,p,b){var A=this;return this.br(),this.credentials.getToken().then(function(S){return A.Hi.Ni(c,p,b,S)}).catch(function(S){throw"FirebaseError"===S.name?(S.code===se.UNAUTHENTICATED&&A.credentials.invalidateToken(),S):new We(se.UNKNOWN,S.toString())})},i.prototype.$i=function(c,p,b){var A=this;return this.br(),this.credentials.getToken().then(function(S){return A.Hi.$i(c,p,b,S)}).catch(function(S){throw"FirebaseError"===S.name?(S.code===se.UNAUTHENTICATED&&A.credentials.invalidateToken(),S):new We(se.UNKNOWN,S.toString())})},i.prototype.terminate=function(){this.Rr=!0},i}(function(){}),hg=function(){function s(i,c){this.asyncQueue=i,this.onlineStateHandler=c,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return s.prototype.Sr=function(){var i=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return i.Pr=null,i.Cr("Backend didn't respond within 10 seconds."),i.Dr("Offline"),Promise.resolve()}))},s.prototype.Nr=function(i){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+i.toString()),this.Dr("Offline")))},s.prototype.set=function(i){this.kr(),this.vr=0,"Online"===i&&(this.Vr=!1),this.Dr(i)},s.prototype.Dr=function(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))},s.prototype.Cr=function(i){var c="Could not reach Cloud Firestore backend. "+i+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ir(c),this.Vr=!1):rn("OnlineStateTracker",c)},s.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},s}(),fg=function(s,i,c,p,b){var A=this;this.localStore=s,this.datastore=i,this.asyncQueue=c,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=b,this.Lr.di(function(S){c.enqueueAndForget(function(){return(0,de.mG)(A,void 0,void 0,function(){return(0,de.Jh)(this,function(j){switch(j.label){case 0:return fh(this)?(rn("RemoteStore","Restarting streams for network reachability change."),[4,function(oe){return(0,de.mG)(this,void 0,void 0,function(){var Ee;return(0,de.Jh)(this,function(Le){switch(Le.label){case 0:return(Ee=R(oe)).Or.add(4),[4,vc(Ee)];case 1:return Le.sent(),Ee.Br.set("Unknown"),Ee.Or.delete(4),[4,Xh(Ee)];case 2:return Le.sent(),[2]}})})}(this)]):[3,2];case 1:j.sent(),j.label=2;case 2:return[2]}})})})}),this.Br=new hg(c,p)};function Xh(s){return(0,de.mG)(this,void 0,void 0,function(){var i,c;return(0,de.Jh)(this,function(p){switch(p.label){case 0:if(!fh(s))return[3,4];i=0,c=s.Mr,p.label=1;case 1:return i<c.length?[4,(0,c[i])(!0)]:[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function vc(s){return(0,de.mG)(this,void 0,void 0,function(){var i,c;return(0,de.Jh)(this,function(p){switch(p.label){case 0:i=0,c=s.Mr,p.label=1;case 1:return i<c.length?[4,(0,c[i])(!1)]:[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function Ba(s,i){var c=R(s);c.$r.has(i.targetId)||(c.$r.set(i.targetId,i),gg(c)?pg(c):uu(c).er()&&dm(c,i))}function kp(s,i){var c=R(s),p=uu(c);c.$r.delete(i),p.er()&&hh(c,i),0===c.$r.size&&(p.er()?p.ir():fh(c)&&c.Br.set("Unknown"))}function dm(s,i){s.qr.U(i.targetId),uu(s).mr(i)}function hh(s,i){s.qr.U(i),uu(s).yr(i)}function pg(s){s.qr=new Xa({getRemoteKeysForTarget:function(i){return s.remoteSyncer.getRemoteKeysForTarget(i)},lt:function(i){return s.$r.get(i)||null}}),uu(s).start(),s.Br.Sr()}function gg(s){return fh(s)&&!uu(s).tr()&&s.$r.size>0}function fh(s){return 0===R(s).Or.size}function Qm(s){s.qr=void 0}function S_(s){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(i){return s.$r.forEach(function(c,p){dm(s,c)}),[2]})})}function ef(s,i){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(c){return Qm(s),gg(s)?(s.Br.Nr(i),pg(s)):s.Br.set("Unknown"),[2]})})}function Pu(s,i,c){return(0,de.mG)(this,void 0,void 0,function(){var p,b,A;return(0,de.Jh)(this,function(S){switch(S.label){case 0:if(s.Br.set("Online"),!(i instanceof Ta&&2===i.state&&i.cause))return[3,6];S.label=1;case 1:return S.trys.push([1,3,,5]),[4,function(j,oe){return(0,de.mG)(this,void 0,void 0,function(){var Ee,Le,rt,pt;return(0,de.Jh)(this,function(Bt){switch(Bt.label){case 0:Ee=oe.cause,Le=0,rt=oe.targetIds,Bt.label=1;case 1:return Le<rt.length?j.$r.has(pt=rt[Le])?[4,j.remoteSyncer.rejectListen(pt,Ee)]:[3,3]:[3,5];case 2:Bt.sent(),j.$r.delete(pt),j.qr.removeTarget(pt),Bt.label=3;case 3:Bt.label=4;case 4:return Le++,[3,1];case 5:return[2]}})})}(s,i)];case 2:return S.sent(),[3,5];case 3:return p=S.sent(),rn("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),p),[4,tf(s,p)];case 4:return S.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof Oc?s.qr.X(i):i instanceof Ga?s.qr.rt(i):s.qr.et(i),c.isEqual(Ft.min()))return[3,13];S.label=7;case 7:return S.trys.push([7,11,,13]),[4,rg(s.localStore)];case 8:return b=S.sent(),c.compareTo(b)>=0?[4,(j=s,oe=c,Ee=j.qr.ut(oe),Ee.targetChanges.forEach(function(Le,rt){if(Le.resumeToken.approximateByteSize()>0){var pt=j.$r.get(rt);pt&&j.$r.set(rt,pt.withResumeToken(Le.resumeToken,oe))}}),Ee.targetMismatches.forEach(function(Le){var rt=j.$r.get(Le);if(rt){j.$r.set(Le,rt.withResumeToken(to.EMPTY_BYTE_STRING,rt.snapshotVersion)),hh(j,Le);var pt=new Tr(rt.target,Le,1,rt.sequenceNumber);dm(j,pt)}}),j.remoteSyncer.applyRemoteEvent(Ee))]:[3,10];case 9:S.sent(),S.label=10;case 10:return[3,13];case 11:return rn("RemoteStore","Failed to raise snapshot:",A=S.sent()),[4,tf(s,A)];case 12:return S.sent(),[3,13];case 13:return[2]}var j,oe,Ee})})}function tf(s,i,c){return(0,de.mG)(this,void 0,void 0,function(){var p=this;return(0,de.Jh)(this,function(b){switch(b.label){case 0:if(!ah(i))throw i;return s.Or.add(1),[4,vc(s)];case 1:return b.sent(),s.Br.set("Offline"),c||(c=function(){return rg(s.localStore)}),s.asyncQueue.enqueueRetryable(function(){return(0,de.mG)(p,void 0,void 0,function(){return(0,de.Jh)(this,function(A){switch(A.label){case 0:return rn("RemoteStore","Retrying IndexedDB access"),[4,c()];case 1:return A.sent(),s.Or.delete(1),[4,Xh(s)];case 2:return A.sent(),[2]}})})}),[2]}})})}function mg(s,i){return i().catch(function(c){return tf(s,c,i)})}function ph(s){return(0,de.mG)(this,void 0,void 0,function(){var i,c,p,b,A;return(0,de.Jh)(this,function(S){switch(S.label){case 0:i=R(s),c=id(i),p=i.Fr.length>0?i.Fr[i.Fr.length-1].batchId:-1,S.label=1;case 1:if(!(fh(j=i)&&j.Fr.length<10))return[3,7];S.label=2;case 2:return S.trys.push([2,4,,6]),[4,sg(i.localStore,p)];case 3:return null===(b=S.sent())?(0===i.Fr.length&&c.ir(),[3,7]):(p=b.batchId,function(j,oe){j.Fr.push(oe);var Ee=id(j);Ee.er()&&Ee.pr&&Ee.Er(oe.mutations)}(i,b),[3,6]);case 4:return A=S.sent(),[4,tf(i,A)];case 5:return S.sent(),[3,6];case 6:return[3,1];case 7:return td(i)&&_g(i),[2]}var j})})}function td(s){return fh(s)&&!id(s).tr()&&s.Fr.length>0}function _g(s){id(s).start()}function cu(s){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(i){return id(s).Ar(),[2]})})}function Jm(s){return(0,de.mG)(this,void 0,void 0,function(){var i,c,p;return(0,de.Jh)(this,function(A){for(i=id(s),c=0,p=s.Fr;c<p.length;c++)i.Er(p[c].mutations);return[2]})})}function nd(s,i,c){return(0,de.mG)(this,void 0,void 0,function(){var p,b;return(0,de.Jh)(this,function(A){switch(A.label){case 0:return p=s.Fr.shift(),b=ru.from(p,i,c),[4,mg(s,function(){return s.remoteSyncer.applySuccessfulWrite(b)})];case 1:return A.sent(),[4,ph(s)];case 2:return A.sent(),[2]}})})}function bg(s,i){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(c){switch(c.label){case 0:return i&&id(s).pr?[4,function(p,b){return(0,de.mG)(this,void 0,void 0,function(){var A,S;return(0,de.Jh)(this,function(j){switch(j.label){case 0:return th(S=b.code)&&S!==se.ABORTED?(A=p.Fr.shift(),id(p).sr(),[4,mg(p,function(){return p.remoteSyncer.rejectFailedWrite(A.batchId,b)})]):[3,3];case 1:return j.sent(),[4,ph(p)];case 2:j.sent(),j.label=3;case 3:return[2]}})})}(s,i)]:[3,2];case 1:c.sent(),c.label=2;case 2:return td(s)&&_g(s),[2]}})})}function gh(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c;return(0,de.Jh)(this,function(p){switch(p.label){case 0:return c=R(s),i?(c.Or.delete(2),[4,Xh(c)]):[3,2];case 1:return p.sent(),[3,5];case 2:return i?[3,4]:(c.Or.add(2),[4,vc(c)]);case 3:p.sent(),c.Br.set("Unknown"),p.label=4;case 4:p.label=5;case 5:return[2]}})})}function uu(s){var c,p,b,A,i=this;return s.Ur||(s.Ur=(c=s.datastore,p=s.asyncQueue,b={Ii:S_.bind(null,s),Ri:ef.bind(null,s),_r:Pu.bind(null,s)},(A=R(c)).br(),new T_(p,A.Hi,A.credentials,A.R,b)),s.Mr.push(function(c){return(0,de.mG)(i,void 0,void 0,function(){return(0,de.Jh)(this,function(p){switch(p.label){case 0:return c?(s.Ur.sr(),gg(s)?pg(s):s.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,s.Ur.stop()];case 2:p.sent(),Qm(s),p.label=3;case 3:return[2]}})})})),s.Ur}function id(s){var c,p,b,A,i=this;return s.Kr||(s.Kr=(c=s.datastore,p=s.asyncQueue,b={Ii:cu.bind(null,s),Ri:bg.bind(null,s),Ir:Jm.bind(null,s),Tr:nd.bind(null,s)},(A=R(c)).br(),new Ym(p,A.Hi,A.credentials,A.R,b)),s.Mr.push(function(c){return(0,de.mG)(i,void 0,void 0,function(){return(0,de.Jh)(this,function(p){switch(p.label){case 0:return c?(s.Kr.sr(),[4,ph(s)]):[3,2];case 1:return p.sent(),[3,4];case 2:return[4,s.Kr.stop()];case 3:p.sent(),s.Fr.length>0&&(rn("RemoteStore","Stopping write stream with "+s.Fr.length+" pending writes"),s.Fr=[]),p.label=4;case 4:return[2]}})})})),s.Kr}var vg=function(){function s(i,c,p,b,A){this.asyncQueue=i,this.timerId=c,this.targetTimeMs=p,this.op=b,this.removalCallback=A,this.deferred=new Pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(S){})}return s.createAndSchedule=function(i,c,p,b,A){var S=new s(i,c,Date.now()+p,b,A);return S.start(p),S},s.prototype.start=function(i){var c=this;this.timerHandle=setTimeout(function(){return c.handleDelayElapsed()},i)},s.prototype.skipDelay=function(){return this.handleDelayElapsed()},s.prototype.cancel=function(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new We(se.CANCELLED,"Operation cancelled"+(i?": "+i:""))))},s.prototype.handleDelayElapsed=function(){var i=this;this.asyncQueue.enqueueAndForget(function(){return null!==i.timerHandle?(i.clearTimeout(),i.op().then(function(c){return i.deferred.resolve(c)})):Promise.resolve()})},s.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},s}();function mh(s,i){if(Ir("AsyncQueue",i+": "+s),ah(s))return new We(se.UNAVAILABLE,i+": "+s);throw s}var jf=function(){function s(i){this.comparator=i?function(c,p){return i(c,p)||di.comparator(c.key,p.key)}:function(c,p){return di.comparator(c.key,p.key)},this.keyedMap=Ku(),this.sortedSet=new ps(this.comparator)}return s.emptySet=function(i){return new s(i.comparator)},s.prototype.has=function(i){return null!=this.keyedMap.get(i)},s.prototype.get=function(i){return this.keyedMap.get(i)},s.prototype.first=function(){return this.sortedSet.minKey()},s.prototype.last=function(){return this.sortedSet.maxKey()},s.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},s.prototype.indexOf=function(i){var c=this.keyedMap.get(i);return c?this.sortedSet.indexOf(c):-1},Object.defineProperty(s.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),s.prototype.forEach=function(i){this.sortedSet.inorderTraversal(function(c,p){return i(c),!1})},s.prototype.add=function(i){var c=this.delete(i.key);return c.copy(c.keyedMap.insert(i.key,i),c.sortedSet.insert(i,null))},s.prototype.delete=function(i){var c=this.get(i);return c?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(c)):this},s.prototype.isEqual=function(i){if(!(i instanceof s)||this.size!==i.size)return!1;for(var c=this.sortedSet.getIterator(),p=i.sortedSet.getIterator();c.hasNext();){var b=c.getNext().key,A=p.getNext().key;if(!b.isEqual(A))return!1}return!0},s.prototype.toString=function(){var i=[];return this.forEach(function(c){i.push(c.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"},s.prototype.copy=function(i,c){var p=new s;return p.comparator=this.comparator,p.keyedMap=i,p.sortedSet=c,p},s}(),Od=function(){function s(){this.Qr=new ps(di.comparator)}return s.prototype.track=function(i){var c=i.doc.key,p=this.Qr.get(c);p?0!==i.type&&3===p.type?this.Qr=this.Qr.insert(c,i):3===i.type&&1!==p.type?this.Qr=this.Qr.insert(c,{type:p.type,doc:i.doc}):2===i.type&&2===p.type?this.Qr=this.Qr.insert(c,{type:2,doc:i.doc}):2===i.type&&0===p.type?this.Qr=this.Qr.insert(c,{type:0,doc:i.doc}):1===i.type&&0===p.type?this.Qr=this.Qr.remove(c):1===i.type&&2===p.type?this.Qr=this.Qr.insert(c,{type:1,doc:p.doc}):0===i.type&&1===p.type?this.Qr=this.Qr.insert(c,{type:2,doc:i.doc}):In():this.Qr=this.Qr.insert(c,i)},s.prototype.jr=function(){var i=[];return this.Qr.inorderTraversal(function(c,p){i.push(p)}),i},s}(),Ou=function(){function s(i,c,p,b,A,S,j,oe){this.query=i,this.docs=c,this.oldDocs=p,this.docChanges=b,this.mutatedKeys=A,this.fromCache=S,this.syncStateChanged=j,this.excludesMetadataChanges=oe}return s.fromInitialDocuments=function(i,c,p,b){var A=[];return c.forEach(function(S){A.push({type:0,doc:S})}),new s(i,c,jf.emptySet(c),A,p,b,!0,!1)},Object.defineProperty(s.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&Gu(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;var c=this.docChanges,p=i.docChanges;if(c.length!==p.length)return!1;for(var b=0;b<c.length;b++)if(c[b].type!==p[b].type||!c[b].doc.isEqual(p[b].doc))return!1;return!0},s}(),zf=function(){this.Wr=void 0,this.listeners=[]},Nd=function(){this.queries=new Du(function(s){return sp(s)},Gu),this.onlineState="Unknown",this.Gr=new Set};function rd(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,p,b,A,S,j,oe;return(0,de.Jh)(this,function(Ee){switch(Ee.label){case 0:if(c=R(s),b=!1,(A=c.queries.get(p=i.query))||(b=!0,A=new zf),!b)return[3,4];Ee.label=1;case 1:return Ee.trys.push([1,3,,4]),S=A,[4,c.onListen(p)];case 2:return S.Wr=Ee.sent(),[3,4];case 3:return j=Ee.sent(),oe=mh(j,"Initialization of query '"+$s(i.query)+"' failed"),[2,void i.onError(oe)];case 4:return c.queries.set(p,A),A.listeners.push(i),i.zr(c.onlineState),A.Wr&&i.Hr(A.Wr)&&_h(c),[2]}})})}function od(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,p,b,A,S;return(0,de.Jh)(this,function(j){return c=R(s),b=!1,(A=c.queries.get(p=i.query))&&(S=A.listeners.indexOf(i))>=0&&(A.listeners.splice(S,1),b=0===A.listeners.length),b?[2,(c.queries.delete(p),c.onUnlisten(p))]:[2]})})}function hm(s,i){for(var c=R(s),p=!1,b=0,A=i;b<A.length;b++){var S=A[b],oe=c.queries.get(S.query);if(oe){for(var Ee=0,Le=oe.listeners;Ee<Le.length;Ee++)Le[Ee].Hr(S)&&(p=!0);oe.Wr=S}}p&&_h(c)}function nf(s,i,c){var p=R(s),b=p.queries.get(i);if(b)for(var A=0,S=b.listeners;A<S.length;A++)S[A].onError(c);p.queries.delete(i)}function _h(s){s.Gr.forEach(function(i){i.next()})}var rf=function(){function s(i,c,p){this.query=i,this.Jr=c,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=p||{}}return s.prototype.Hr=function(i){if(!this.options.includeMetadataChanges){for(var c=[],p=0,b=i.docChanges;p<b.length;p++){var A=b[p];3!==A.type&&c.push(A)}i=new Ou(i.query,i.docs,i.oldDocs,c,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}var S=!1;return this.Yr?this.Zr(i)&&(this.Jr.next(i),S=!0):this.eo(i,this.onlineState)&&(this.no(i),S=!0),this.Xr=i,S},s.prototype.onError=function(i){this.Jr.error(i)},s.prototype.zr=function(i){this.onlineState=i;var c=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,i)&&(this.no(this.Xr),c=!0),c},s.prototype.eo=function(i,c){return!i.fromCache||!(this.options.so&&"Offline"!==c||i.docs.isEmpty()&&"Offline"!==c)},s.prototype.Zr=function(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges},s.prototype.no=function(i){i=Ou.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.Yr=!0,this.Jr.next(i)},s}(),yg=function(){function s(i,c){this.payload=i,this.byteLength=c}return s.prototype.io=function(){return"metadata"in this.payload},s}(),Vf=function(){function s(i){this.R=i}return s.prototype.qn=function(i){return Ye(this.R,i)},s.prototype.Un=function(i){return i.metadata.exists?Oi(this.R,i.document,!1):xa.newNoDocument(this.qn(i.metadata.name),this.Kn(i.metadata.readTime))},s.prototype.Kn=function(i){return jo(i)},s}();!function(){function s(i,c,p){this.ro=i,this.localStore=c,this.R=p,this.queries=[],this.documents=[],this.progress=function(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}(i)}s.prototype.oo=function(i){this.progress.bytesLoaded+=i.byteLength;var c=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++c):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++c),c!==this.progress.documentsLoaded?(this.progress.documentsLoaded=c,Object.assign({},this.progress)):null},s.prototype.co=function(i){for(var c=new Map,p=new Vf(this.R),b=0,A=i;b<A.length;b++){var S=A[b];if(S.metadata.queries)for(var j=p.qn(S.metadata.name),oe=0,Ee=S.metadata.queries;oe<Ee.length;oe++){var Le=Ee[oe],rt=(c.get(Le)||mr()).add(j);c.set(Le,rt)}}return c},s.prototype.complete=function(){return(0,de.mG)(this,void 0,void 0,function(){var i,c,p,b,A;return(0,de.Jh)(this,function(S){switch(S.label){case 0:return[4,Wm(this.localStore,new Vf(this.R),this.documents,this.ro.id)];case 1:i=S.sent(),c=this.co(this.documents),p=0,b=this.queries,S.label=2;case 2:return p<b.length?[4,lm(this.localStore,A=b[p],c.get(A.name))]:[3,5];case 3:S.sent(),S.label=4;case 4:return p++,[3,2];case 5:return[2,(this.progress.taskState="Success",new sm(Object.assign({},this.progress),i))]}})})}}();var wg=function(s){this.key=s},Xm=function(s){this.key=s},Cg=function(){function s(i,c){this.query=i,this.uo=c,this.ao=null,this.current=!1,this.ho=mr(),this.mutatedKeys=mr(),this.lo=Fh(i),this.fo=new jf(this.lo)}return Object.defineProperty(s.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),s.prototype._o=function(i,c){var p=this,b=c?c.mo:new Od,A=c?c.fo:this.fo,S=c?c.mutatedKeys:this.mutatedKeys,j=A,oe=!1,Ee=Rh(this.query)&&A.size===this.query.limit?A.last():null,Le=eh(this.query)&&A.size===this.query.limit?A.first():null;if(i.inorderTraversal(function(pt,Bt){var Ut=A.get(pt),Yt=ac(p.query,Bt)?Bt:null,En=!!Ut&&p.mutatedKeys.has(Ut.key),Vn=!!Yt&&(Yt.hasLocalMutations||p.mutatedKeys.has(Yt.key)&&Yt.hasCommittedMutations),xi=!1;Ut&&Yt?Ut.data.isEqual(Yt.data)?En!==Vn&&(b.track({type:3,doc:Yt}),xi=!0):p.yo(Ut,Yt)||(b.track({type:2,doc:Yt}),xi=!0,(Ee&&p.lo(Yt,Ee)>0||Le&&p.lo(Yt,Le)<0)&&(oe=!0)):!Ut&&Yt?(b.track({type:0,doc:Yt}),xi=!0):Ut&&!Yt&&(b.track({type:1,doc:Ut}),xi=!0,(Ee||Le)&&(oe=!0)),xi&&(Yt?(j=j.add(Yt),S=Vn?S.add(pt):S.delete(pt)):(j=j.delete(pt),S=S.delete(pt)))}),Rh(this.query)||eh(this.query))for(;j.size>this.query.limit;){var rt=Rh(this.query)?j.last():j.first();j=j.delete(rt.key),S=S.delete(rt.key),b.track({type:1,doc:rt})}return{fo:j,mo:b,Nn:oe,mutatedKeys:S}},s.prototype.yo=function(i,c){return i.hasLocalMutations&&c.hasCommittedMutations&&!c.hasLocalMutations},s.prototype.applyChanges=function(i,c,p){var b=this,A=this.fo;this.fo=i.fo,this.mutatedKeys=i.mutatedKeys;var S=i.mo.jr();S.sort(function(Le,rt){return Bt=rt.type,(Ut=function(Yt){switch(Yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return In()}})(Le.type)-Ut(Bt)||b.lo(Le.doc,rt.doc);var Bt,Ut}),this.po(p);var j=c?this.Eo():[],oe=0===this.ho.size&&this.current?1:0,Ee=oe!==this.ao;return this.ao=oe,0!==S.length||Ee?{snapshot:new Ou(this.query,i.fo,A,S,i.mutatedKeys,0===oe,Ee,!1),To:j}:{To:j}},s.prototype.zr=function(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Od,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},s.prototype.Io=function(i){return!this.uo.has(i)&&!!this.fo.has(i)&&!this.fo.get(i).hasLocalMutations},s.prototype.po=function(i){var c=this;i&&(i.addedDocuments.forEach(function(p){return c.uo=c.uo.add(p)}),i.modifiedDocuments.forEach(function(p){}),i.removedDocuments.forEach(function(p){return c.uo=c.uo.delete(p)}),this.current=i.current)},s.prototype.Eo=function(){var i=this;if(!this.current)return[];var c=this.ho;this.ho=mr(),this.fo.forEach(function(b){i.Io(b.key)&&(i.ho=i.ho.add(b.key))});var p=[];return c.forEach(function(b){i.ho.has(b)||p.push(new Xm(b))}),this.ho.forEach(function(b){c.has(b)||p.push(new wg(b))}),p},s.prototype.Ao=function(i){this.uo=i.Bn,this.ho=mr();var c=this._o(i.documents);return this.applyChanges(c,!0)},s.prototype.Ro=function(){return Ou.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},s}(),Ap=function(s,i,c){this.query=s,this.targetId=i,this.view=c},of=function(s){this.key=s,this.bo=!1},pm=function(){function s(i,c,p,b,A,S){this.localStore=i,this.remoteStore=c,this.eventManager=p,this.sharedClientState=b,this.currentUser=A,this.maxConcurrentLimboResolutions=S,this.vo={},this.Po=new Du(function(j){return sp(j)},Gu),this.Vo=new Map,this.So=new Set,this.Do=new ps(di.comparator),this.Co=new Map,this.No=new lg,this.xo={},this.ko=new Map,this.Fo=ec.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(s.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),s}();function e_(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,b,A,S,j;return(0,de.Jh)(this,function(oe){switch(oe.label){case 0:return c=Mp(s),(A=c.Po.get(i))?(c.sharedClientState.addLocalQueryTarget(A.targetId),b=A.view.Ro(),[3,4]):[3,1];case 1:return[4,Kh(c.localStore,Ea(i))];case 2:return S=oe.sent(),j=c.sharedClientState.addLocalQueryTarget(S.targetId),[4,kg(c,i,S.targetId,"current"===j)];case 3:b=oe.sent(),c.isPrimaryClient&&Ba(c.remoteStore,S),oe.label=4;case 4:return[2,b]}})})}function kg(s,i,c,p){return(0,de.mG)(this,void 0,void 0,function(){var b,A,S,j,oe,Ee;return(0,de.Jh)(this,function(Le){switch(Le.label){case 0:return s.Oo=function(rt,pt,Bt){return function(Ut,Yt,En,Vn){return(0,de.mG)(this,void 0,void 0,function(){var xi,Ii,Pr;return(0,de.Jh)(this,function(bo){switch(bo.label){case 0:return(xi=Yt.view._o(En)).Nn?[4,yp(Ut.localStore,Yt.query,!1).then(function(ms){return Yt.view._o(ms.documents,xi)})]:[3,2];case 1:xi=bo.sent(),bo.label=2;case 2:return Ii=Vn&&Vn.targetChanges.get(Yt.targetId),Pr=Yt.view.applyChanges(xi,Ut.isPrimaryClient,Ii),[2,(du(Ut,Yt.targetId,Pr.To),Pr.snapshot)]}})})}(s,rt,pt,Bt)},[4,yp(s.localStore,i,!0)];case 1:return b=Le.sent(),A=new Cg(i,b.Bn),S=A._o(b.documents),j=wd.createSynthesizedTargetChangeForCurrentChange(c,p&&"Offline"!==s.onlineState),oe=A.applyChanges(S,s.isPrimaryClient,j),du(s,c,oe.To),Ee=new Ap(i,c,A),[2,(s.Po.set(i,Ee),s.Vo.has(c)?s.Vo.get(c).push(i):s.Vo.set(c,[i]),oe.snapshot)]}})})}function yc(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,p,b;return(0,de.Jh)(this,function(A){switch(A.label){case 0:return c=R(s),p=c.Po.get(i),(b=c.Vo.get(p.targetId)).length>1?[2,(c.Vo.set(p.targetId,b.filter(function(S){return!Gu(S,i)})),void c.Po.delete(i))]:c.isPrimaryClient?(c.sharedClientState.removeLocalQueryTarget(p.targetId),c.sharedClientState.isActiveQueryTarget(p.targetId)?[3,2]:[4,Cl(c.localStore,p.targetId,!1).then(function(){c.sharedClientState.clearQueryState(p.targetId),kp(c.remoteStore,p.targetId),gs(c,p.targetId)}).catch(Td)]):[3,3];case 1:A.sent(),A.label=2;case 2:return[3,5];case 3:return gs(c,p.targetId),[4,Cl(c.localStore,p.targetId,!0)];case 4:A.sent(),A.label=5;case 5:return[2]}})})}function Ag(s,i,c){return(0,de.mG)(this,void 0,void 0,function(){var p,b,A,S;return(0,de.Jh)(this,function(j){switch(j.label){case 0:p=Eg(s),j.label=1;case 1:return j.trys.push([1,5,,6]),[4,(oe=p.localStore,Ee=i,rt=R(oe),pt=ht.now(),Bt=Ee.reduce(function(Ut,Yt){return Ut.add(Yt.key)},mr()),rt.persistence.runTransaction("Locally write mutations","readwrite",function(Ut){return rt.Mn.pn(Ut,Bt).next(function(Yt){Le=Yt;for(var En=[],Vn=0,xi=Ee;Vn<xi.length;Vn++){var Ii=xi[Vn],Pr=Fl(Ii,Le.get(Ii.key));null!=Pr&&En.push(new Yl(Ii.key,Pr,Qc(Pr.value.mapValue),Fa.exists(!0)))}return rt._n.addMutationBatch(Ut,pt,En,Ee)})}).then(function(Ut){return Ut.applyToLocalDocumentSet(Le),{batchId:Ut.batchId,changes:Le}}))];case 2:return b=j.sent(),p.sharedClientState.addPendingMutation(b.batchId),function(oe,Ee,Le){var rt=oe.xo[oe.currentUser.toKey()];rt||(rt=new ps(ae)),rt=rt.insert(Ee,Le),oe.xo[oe.currentUser.toKey()]=rt}(p,b.batchId,c),[4,hu(p,b.changes)];case 3:return j.sent(),[4,ph(p.remoteStore)];case 4:return j.sent(),[3,6];case 5:return A=j.sent(),S=mh(A,"Failed to persist write"),c.reject(S),[3,6];case 6:return[2]}var oe,Ee,Le,rt,pt,Bt})})}function Rd(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,p;return(0,de.Jh)(this,function(b){switch(b.label){case 0:c=R(s),b.label=1;case 1:return b.trys.push([1,4,,6]),[4,Gm(c.localStore,i)];case 2:return p=b.sent(),i.targetChanges.forEach(function(A,S){var j=c.Co.get(S);j&&(H(A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size<=1),A.addedDocuments.size>0?j.bo=!0:A.modifiedDocuments.size>0?H(j.bo):A.removedDocuments.size>0&&(H(j.bo),j.bo=!1))}),[4,hu(c,p,i)];case 3:return b.sent(),[3,6];case 4:return[4,Td(b.sent())];case 5:return b.sent(),[3,6];case 6:return[2]}})})}function ba(s,i,c){var p=R(s);if(p.isPrimaryClient&&0===c||!p.isPrimaryClient&&1===c){var b=[];p.Po.forEach(function(A,S){var j=S.view.zr(i);j.snapshot&&b.push(j.snapshot)}),function(A,S){var j=R(A);j.onlineState=S;var oe=!1;j.queries.forEach(function(Ee,Le){for(var rt=0,pt=Le.listeners;rt<pt.length;rt++)pt[rt].zr(S)&&(oe=!0)}),oe&&_h(j)}(p.eventManager,i),b.length&&p.vo._r(b),p.onlineState=i,p.isPrimaryClient&&p.sharedClientState.setOnlineState(i)}}function xp(s,i,c){return(0,de.mG)(this,void 0,void 0,function(){var p,b,A,S,j,oe;return(0,de.Jh)(this,function(Ee){switch(Ee.label){case 0:return(p=R(s)).sharedClientState.updateQueryState(i,"rejected",c),b=p.Co.get(i),(A=b&&b.key)?(S=(S=new ps(di.comparator)).insert(A,xa.newNoDocument(A,Ft.min())),j=mr().add(A),oe=new Au(Ft.min(),new Map,new Qo(ae),S,j),[4,Rd(p,oe)]):[3,2];case 1:return Ee.sent(),p.Do=p.Do.remove(A),p.Co.delete(i),Ep(p),[3,4];case 2:return[4,Cl(p.localStore,i,!1).then(function(){return gs(p,i,c)}).catch(Td)];case 3:Ee.sent(),Ee.label=4;case 4:return[2]}})})}function gm(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,p,b;return(0,de.Jh)(this,function(A){switch(A.label){case 0:c=R(s),p=i.batch.batchId,A.label=1;case 1:return A.trys.push([1,4,,6]),[4,D_(c.localStore,i)];case 2:return b=A.sent(),rl(c,p,null),sf(c,p),c.sharedClientState.updateMutationState(p,"acknowledged"),[4,hu(c,b)];case 3:return A.sent(),[3,6];case 4:return[4,Td(A.sent())];case 5:return A.sent(),[3,6];case 6:return[2]}})})}function bh(s,i,c){return(0,de.mG)(this,void 0,void 0,function(){var p,b;return(0,de.Jh)(this,function(A){switch(A.label){case 0:p=R(s),A.label=1;case 1:return A.trys.push([1,4,,6]),[4,(S=p.localStore,j=i,oe=R(S),oe.persistence.runTransaction("Reject batch","readwrite-primary",function(Ee){var Le;return oe._n.lookupMutationBatch(Ee,j).next(function(rt){return H(null!==rt),Le=rt.keys(),oe._n.removeMutationBatch(Ee,rt)}).next(function(){return oe._n.performConsistencyCheck(Ee)}).next(function(){return oe.Mn.pn(Ee,Le)})}))];case 2:return b=A.sent(),rl(p,i,c),sf(p,i),p.sharedClientState.updateMutationState(i,"rejected",c),[4,hu(p,b)];case 3:return A.sent(),[3,6];case 4:return[4,Td(A.sent())];case 5:return A.sent(),[3,6];case 6:return[2]}var S,j,oe})})}function rr(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,p,b,A,S;return(0,de.Jh)(this,function(j){switch(j.label){case 0:fh((c=R(s)).remoteStore)||rn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),j.label=1;case 1:return j.trys.push([1,3,,4]),[4,(oe=c.localStore,Ee=R(oe),Ee.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Le){return Ee._n.getHighestUnacknowledgedBatchId(Le)}))];case 2:return-1===(p=j.sent())?[2,void i.resolve()]:((b=c.ko.get(p)||[]).push(i),c.ko.set(p,b),[3,4]);case 3:return A=j.sent(),S=mh(A,"Initialization of waitForPendingWrites() operation failed"),i.reject(S),[3,4];case 4:return[2]}var oe,Ee})})}function sf(s,i){(s.ko.get(i)||[]).forEach(function(c){c.resolve()}),s.ko.delete(i)}function rl(s,i,c){var p=R(s),b=p.xo[p.currentUser.toKey()];if(b){var A=b.get(i);A&&(c?A.reject(c):A.resolve(),b=b.remove(i)),p.xo[p.currentUser.toKey()]=b}}function gs(s,i,c){void 0===c&&(c=null),s.sharedClientState.removeLocalQueryTarget(i);for(var p=0,b=s.Vo.get(i);p<b.length;p++){var A=b[p];s.Po.delete(A),c&&s.vo.Mo(A,c)}s.Vo.delete(i),s.isPrimaryClient&&s.No.Zn(i).forEach(function(S){s.No.containsKey(S)||mm(s,S)})}function mm(s,i){s.So.delete(i.path.canonicalString());var c=s.Do.get(i);null!==c&&(kp(s.remoteStore,c),s.Do=s.Do.remove(i),s.Co.delete(c),Ep(s))}function du(s,i,c){for(var p=0,b=c;p<b.length;p++){var A=b[p];A instanceof wg?(s.No.addReference(A.key,i),xg(s,A)):A instanceof Xm?(rn("SyncEngine","Document no longer in limbo: "+A.key),s.No.removeReference(A.key,i),s.No.containsKey(A.key)||mm(s,A.key)):In()}}function xg(s,i){var c=i.key,p=c.path.canonicalString();s.Do.get(c)||s.So.has(p)||(rn("SyncEngine","New document in limbo: "+c),s.So.add(p),Ep(s))}function Ep(s){for(;s.So.size>0&&s.Do.size<s.maxConcurrentLimboResolutions;){var i=s.So.values().next().value;s.So.delete(i);var c=new di(Bn.fromString(i)),p=s.Fo.next();s.Co.set(p,new of(c)),s.Do=s.Do.insert(c,p),Ba(s.remoteStore,new Tr(Ea(ga(c.path)),p,2,ee.o))}}function hu(s,i,c){return(0,de.mG)(this,void 0,void 0,function(){var p,b,A,S;return(0,de.Jh)(this,function(j){switch(j.label){case 0:return p=R(s),b=[],A=[],S=[],p.Po.isEmpty()?[3,3]:(p.Po.forEach(function(oe,Ee){S.push(p.Oo(Ee,i,c).then(function(Le){if(Le){p.isPrimaryClient&&p.sharedClientState.updateQueryState(Ee.targetId,Le.fromCache?"not-current":"current"),b.push(Le);var rt=wl.Pn(Ee.targetId,Le);A.push(rt)}}))}),[4,Promise.all(S)]);case 1:return j.sent(),p.vo._r(b),[4,function(oe,Ee){return(0,de.mG)(this,void 0,void 0,function(){var Le,rt,pt,Bt,Ut,Yt,En,xi;return(0,de.Jh)(this,function(Ii){switch(Ii.label){case 0:Le=R(oe),Ii.label=1;case 1:return Ii.trys.push([1,3,,4]),[4,Le.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Pr){return An.forEach(Ee,function(bo){return An.forEach(bo.bn,function(ms){return Le.persistence.referenceDelegate.addReference(Pr,bo.targetId,ms)}).next(function(){return An.forEach(bo.vn,function(ms){return Le.persistence.referenceDelegate.removeReference(Pr,bo.targetId,ms)})})})})];case 2:return Ii.sent(),[3,4];case 3:if(!ah(rt=Ii.sent()))throw rt;return rn("LocalStore","Failed to update sequence numbers: "+rt),[3,4];case 4:for(pt=0,Bt=Ee;pt<Bt.length;pt++)Yt=(Ut=Bt[pt]).targetId,Ut.fromCache||(En=Le.kn.get(Yt),xi=En.withLastLimboFreeSnapshotVersion(En.snapshotVersion),Le.kn=Le.kn.insert(Yt,xi));return[2]}})})}(p.localStore,A)];case 2:j.sent(),j.label=3;case 3:return[2]}})})}function _m(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,p;return(0,de.Jh)(this,function(b){switch(b.label){case 0:return(c=R(s)).currentUser.isEqual(i)?[3,3]:(rn("SyncEngine","User change. New user:",i.toKey()),[4,Tu(c.localStore,i)]);case 1:return p=b.sent(),c.currentUser=i,(A=c).ko.forEach(function(j){j.forEach(function(oe){oe.reject(new We(se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),A.ko.clear(),c.sharedClientState.handleUserChange(i,p.removedBatchIds,p.addedBatchIds),[4,hu(c,p.Ln)];case 2:b.sent(),b.label=3;case 3:return[2]}var A})})}function bm(s,i){var c=R(s),p=c.Co.get(i);if(p&&p.bo)return mr().add(p.key);var b=mr(),A=c.Vo.get(i);if(!A)return b;for(var S=0,j=A;S<j.length;S++){var Ee=c.Po.get(j[S]);b=b.unionWith(Ee.view.wo)}return b}function sd(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,p,b;return(0,de.Jh)(this,function(A){switch(A.label){case 0:return[4,yp((c=R(s)).localStore,i.query,!0)];case 1:return p=A.sent(),b=i.view.Ao(p),[2,(c.isPrimaryClient&&du(c,i.targetId,b.To),b)]}})})}function Hf(s){return(0,de.mG)(this,void 0,void 0,function(){var i;return(0,de.Jh)(this,function(c){return[2,Pd((i=R(s)).localStore).then(function(p){return hu(i,p)})]})})}function fu(s,i,c,p){return(0,de.mG)(this,void 0,void 0,function(){var b,A;return(0,de.Jh)(this,function(S){switch(S.label){case 0:return[4,(j=(b=R(s)).localStore,oe=i,Ee=R(j),Le=R(Ee._n),Ee.persistence.runTransaction("Lookup mutation documents","readonly",function(rt){return Le.jt(rt,oe).next(function(pt){return pt?Ee.Mn.pn(rt,pt):An.resolve(null)})}))];case 1:return null===(A=S.sent())?[3,6]:"pending"!==c?[3,3]:[4,ph(b.remoteStore)];case 2:return S.sent(),[3,4];case 3:"acknowledged"===c||"rejected"===c?(rl(b,i,p||null),sf(b,i),function(j,oe){R(R(j)._n).Gt(oe)}(b.localStore,i)):In(),S.label=4;case 4:return[4,hu(b,A)];case 5:return S.sent(),[3,7];case 6:rn("SyncEngine","Cannot apply mutation batch with id: "+i),S.label=7;case 7:return[2]}var j,oe,Ee,Le})})}function wc(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,p,b,A,S,oe,Ee;return(0,de.Jh)(this,function(Le){switch(Le.label){case 0:return Mp(c=R(s)),Eg(c),!0!==i||!0===c.$o?[3,3]:(p=c.sharedClientState.getAllActiveQueryTargets(),[4,Fd(c,p.toArray())]);case 1:return b=Le.sent(),c.$o=!0,[4,gh(c.remoteStore,!0)];case 2:for(Le.sent(),A=0,S=b;A<S.length;A++)Ba(c.remoteStore,S[A]);return[3,7];case 3:return!1!==i||!1===c.$o?[3,7]:(oe=[],Ee=Promise.resolve(),c.Vo.forEach(function(rt,pt){c.sharedClientState.isLocalQueryTarget(pt)?oe.push(pt):Ee=Ee.then(function(){return gs(c,pt),Cl(c.localStore,pt,!0)}),kp(c.remoteStore,pt)}),[4,Ee]);case 4:return Le.sent(),[4,Fd(c,oe)];case 5:return Le.sent(),(pt=R(c)).Co.forEach(function(Bt,Ut){kp(pt.remoteStore,Ut)}),pt.No.ts(),pt.Co=new Map,pt.Do=new ps(di.comparator),c.$o=!1,[4,gh(c.remoteStore,!1)];case 6:Le.sent(),Le.label=7;case 7:return[2]}var pt})})}function Fd(s,i,c){return(0,de.mG)(this,void 0,void 0,function(){var p,b,A,S,j,oe,Ee,Le,rt,pt,Ut,Yt,En;return(0,de.Jh)(this,function(Vn){switch(Vn.label){case 0:p=R(s),b=[],A=[],S=0,j=i,Vn.label=1;case 1:return S<j.length?(Ee=void 0,(Le=p.Vo.get(oe=j[S]))&&0!==Le.length?[4,Kh(p.localStore,Ea(Le[0]))]:[3,7]):[3,13];case 2:Ee=Vn.sent(),rt=0,pt=Le,Vn.label=3;case 3:return rt<pt.length?(Ut=p.Po.get(pt[rt]),[4,sd(p,Ut)]):[3,6];case 4:(Yt=Vn.sent()).snapshot&&A.push(Yt.snapshot),Vn.label=5;case 5:return rt++,[3,3];case 6:return[3,11];case 7:return[4,ag(p.localStore,oe)];case 8:return En=Vn.sent(),[4,Kh(p.localStore,En)];case 9:return Ee=Vn.sent(),[4,kg(p,ks(En),oe,!1)];case 10:Vn.sent(),Vn.label=11;case 11:b.push(Ee),Vn.label=12;case 12:return S++,[3,1];case 13:return[2,(p.vo._r(A),b)]}})})}function ks(s){return _l(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Zs(s){var i=R(s);return R(R(i.localStore).persistence).fn()}function t_(s,i,c,p){return(0,de.mG)(this,void 0,void 0,function(){var b,A,S;return(0,de.Jh)(this,function(j){switch(j.label){case 0:return(b=R(s)).$o?(rn("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!b.Vo.has(i))return[3,8];switch(c){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Pd(b.localStore)];case 3:return A=j.sent(),S=Au.createSynthesizedRemoteEventForCurrentChange(i,"current"===c),[4,hu(b,A,S)];case 4:return j.sent(),[3,8];case 5:return[4,Cl(b.localStore,i,!0)];case 6:return j.sent(),gs(b,i,p),[3,8];case 7:In(),j.label=8;case 8:return[2]}})})}function jr(s,i,c){return(0,de.mG)(this,void 0,void 0,function(){var p,b,A,S,j,oe,Ee,Le,rt;return(0,de.Jh)(this,function(Bt){switch(Bt.label){case 0:if(!(p=Mp(s)).$o)return[3,10];b=0,A=i,Bt.label=1;case 1:return b<A.length?p.Vo.has(S=A[b])?(rn("SyncEngine","Adding an already active target "+S),[3,5]):[4,ag(p.localStore,S)]:[3,6];case 2:return j=Bt.sent(),[4,Kh(p.localStore,j)];case 3:return oe=Bt.sent(),[4,kg(p,ks(j),oe.targetId,!1)];case 4:Bt.sent(),Ba(p.remoteStore,oe),Bt.label=5;case 5:return b++,[3,1];case 6:Ee=function(Ut){return(0,de.Jh)(this,function(Yt){switch(Yt.label){case 0:return p.Vo.has(Ut)?[4,Cl(p.localStore,Ut,!1).then(function(){kp(p.remoteStore,Ut),gs(p,Ut)}).catch(Td)]:[3,2];case 1:Yt.sent(),Yt.label=2;case 2:return[2]}})},Le=0,rt=c,Bt.label=7;case 7:return Le<rt.length?[5,Ee(rt[Le])]:[3,10];case 8:Bt.sent(),Bt.label=9;case 9:return Le++,[3,7];case 10:return[2]}})})}function Mp(s){var i=R(s);return i.remoteStore.remoteSyncer.applyRemoteEvent=Rd.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=bm.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=xp.bind(null,i),i.vo._r=hm.bind(null,i.eventManager),i.vo.Mo=nf.bind(null,i.eventManager),i}function Eg(s){var i=R(s);return i.remoteStore.remoteSyncer.applySuccessfulWrite=gm.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=bh.bind(null,i),i}var qf=function(){function s(){this.synchronizeTabs=!1}return s.prototype.initialize=function(i){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(c){switch(c.label){case 0:return this.R=Br(i.databaseInfo.databaseId),this.sharedClientState=this.Bo(i),this.persistence=this.qo(i),[4,this.persistence.start()];case 1:return c.sent(),this.gcScheduler=this.Uo(i),this.localStore=this.Ko(i),[2]}})})},s.prototype.Uo=function(i){return null},s.prototype.Ko=function(i){return vp(this.persistence,new Ff,i.initialUser,this.R)},s.prototype.qo=function(i){return new mc(Hc.bs,this.R)},s.prototype.Bo=function(i){return new la},s.prototype.terminate=function(){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(i){switch(i.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return i.sent(),[4,this.persistence.shutdown()];case 2:return i.sent(),[2]}})})},s}(),Al=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).Qo=c,A.cacheSizeBytes=p,A.forceOwnership=b,A.synchronizeTabs=!1,A}return(0,de.ZT)(i,s),i.prototype.initialize=function(c){return(0,de.mG)(this,void 0,void 0,function(){var p=this;return(0,de.Jh)(this,function(b){switch(b.label){case 0:return[4,s.prototype.initialize.call(this,c)];case 1:return b.sent(),[4,$m(this.localStore)];case 2:return b.sent(),[4,this.Qo.initialize(this,c)];case 3:return b.sent(),[4,Eg(this.Qo.syncEngine)];case 4:return b.sent(),[4,ph(this.Qo.remoteStore)];case 5:return b.sent(),[4,this.persistence.He(function(){return p.gcScheduler&&!p.gcScheduler.started&&p.gcScheduler.start(p.localStore),Promise.resolve()})];case 6:return b.sent(),[2]}})})},i.prototype.Ko=function(c){return vp(this.persistence,new Ff,c.initialUser,this.R)},i.prototype.Uo=function(c){return new lu(this.persistence.referenceDelegate.garbageCollector,c.asyncQueue)},i.prototype.qo=function(c){var p=Id(c.databaseInfo.databaseId,c.databaseInfo.persistenceKey),b=void 0!==this.cacheSizeBytes?zc.withCacheSize(this.cacheSizeBytes):zc.DEFAULT;return new Rf(this.synchronizeTabs,p,c.clientId,b,c.asyncQueue,um(),Jh(),this.R,this.sharedClientState,!!this.forceOwnership)},i.prototype.Bo=function(c){return new la},i}(qf),Dp=function(s){function i(c,p){var b=this;return(b=s.call(this,c,p,!1)||this).Qo=c,b.cacheSizeBytes=p,b.synchronizeTabs=!0,b}return(0,de.ZT)(i,s),i.prototype.initialize=function(c){return(0,de.mG)(this,void 0,void 0,function(){var p,b=this;return(0,de.Jh)(this,function(A){switch(A.label){case 0:return[4,s.prototype.initialize.call(this,c)];case 1:return A.sent(),p=this.Qo.syncEngine,this.sharedClientState instanceof aa?(this.sharedClientState.syncEngine={ui:fu.bind(null,p),ai:t_.bind(null,p),hi:jr.bind(null,p),fn:Zs.bind(null,p),ci:Hf.bind(null,p)},[4,this.sharedClientState.start()]):[3,3];case 2:A.sent(),A.label=3;case 3:return[4,this.persistence.He(function(S){return(0,de.mG)(b,void 0,void 0,function(){return(0,de.Jh)(this,function(j){switch(j.label){case 0:return[4,wc(this.Qo.syncEngine,S)];case 1:return j.sent(),this.gcScheduler&&(S&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):S||this.gcScheduler.stop()),[2]}})})})];case 4:return A.sent(),[2]}})})},i.prototype.Bo=function(c){var p=um();if(!aa.yt(p))throw new We(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var b=Id(c.databaseInfo.databaseId,c.databaseInfo.persistenceKey);return new aa(p,c.asyncQueue,b,c.clientId,c.initialUser)},i}(Al),pu=function(){function s(){}return s.prototype.initialize=function(i,c){return(0,de.mG)(this,void 0,void 0,function(){var p=this;return(0,de.Jh)(this,function(b){switch(b.label){case 0:return this.localStore?[3,2]:(this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(c),this.remoteStore=this.createRemoteStore(c),this.eventManager=this.createEventManager(c),this.syncEngine=this.createSyncEngine(c,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(A){return ba(p.syncEngine,A,1)},this.remoteStore.remoteSyncer.handleCredentialChange=_m.bind(null,this.syncEngine),[4,gh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:b.sent(),b.label=2;case 2:return[2]}})})},s.prototype.createEventManager=function(i){return new Nd},s.prototype.createDatastore=function(i){var p=Br(i.databaseInfo.databaseId),b=new Iu(i.databaseInfo);return new Km(i.credentials,b,p)},s.prototype.createRemoteStore=function(i){var c,p,b,A,S,j=this;return c=this.localStore,p=this.datastore,b=i.asyncQueue,A=function(oe){return ba(j.syncEngine,oe,0)},S=bc.yt()?new bc:new il,new fg(c,p,b,A,S)},s.prototype.createSyncEngine=function(i,c){return Ee=c,Le=new pm(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions),Ee&&(Le.$o=!0),Le;var Ee,Le},s.prototype.terminate=function(){return function(i){return(0,de.mG)(this,void 0,void 0,function(){var c;return(0,de.Jh)(this,function(p){switch(p.label){case 0:return c=R(i),rn("RemoteStore","RemoteStore shutting down."),c.Or.add(5),[4,vc(c)];case 1:return p.sent(),c.Lr.shutdown(),c.Br.set("Unknown"),[2]}})})}(this.remoteStore)},s}(),Tp=function(){function s(i){this.observer=i,this.muted=!1}return s.prototype.next=function(i){this.observer.next&&this.jo(this.observer.next,i)},s.prototype.error=function(i){this.observer.error?this.jo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)},s.prototype.Wo=function(){this.muted=!0},s.prototype.jo=function(i,c){var p=this;this.muted||setTimeout(function(){p.muted||i(c)},0)},s}(),Ys=(function(){function s(i,c){var p=this;this.Go=i,this.R=c,this.metadata=new Pa,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(b){b&&b.io()?p.metadata.resolve(b.payload.metadata):p.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==b?void 0:b.payload)))},function(b){return p.metadata.reject(b)})}s.prototype.close=function(){return this.Go.cancel()},s.prototype.getMetadata=function(){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(i){return[2,this.metadata.promise]})})},s.prototype.Lo=function(){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(i){switch(i.label){case 0:return[4,this.getMetadata()];case 1:return[2,(i.sent(),this.Ho())]}})})},s.prototype.Ho=function(){return(0,de.mG)(this,void 0,void 0,function(){var i,c,p,b;return(0,de.Jh)(this,function(A){switch(A.label){case 0:return[4,this.Jo()];case 1:return null===(i=A.sent())?[2,null]:(c=this.zo.decode(i),p=Number(c),isNaN(p)&&this.Yo("length string ("+c+") is not valid number"),[4,this.Xo(p)]);case 2:return b=A.sent(),[2,new yg(JSON.parse(b),i.length+p)]}})})},s.prototype.Zo=function(){return this.buffer.findIndex(function(i){return i==="{".charCodeAt(0)})},s.prototype.Jo=function(){return(0,de.mG)(this,void 0,void 0,function(){var i,c;return(0,de.Jh)(this,function(p){switch(p.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(p.sent())return[3,3];p.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((i=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),c=this.buffer.slice(0,i),[2,(this.buffer=this.buffer.slice(i),c)])}})})},s.prototype.Xo=function(i){return(0,de.mG)(this,void 0,void 0,function(){var c;return(0,de.Jh)(this,function(p){switch(p.label){case 0:return this.buffer.length<i?[4,this.tc()]:[3,3];case 1:p.sent()&&this.Yo("Reached the end of bundle when more is expected."),p.label=2;case 2:return[3,0];case 3:return c=this.zo.decode(this.buffer.slice(0,i)),[2,(this.buffer=this.buffer.slice(i),c)]}})})},s.prototype.Yo=function(i){throw this.Go.cancel(),new Error("Invalid bundle format: "+i)},s.prototype.tc=function(){return(0,de.mG)(this,void 0,void 0,function(){var i,c;return(0,de.Jh)(this,function(p){switch(p.label){case 0:return[4,this.Go.read()];case 1:return(i=p.sent()).done||((c=new Uint8Array(this.buffer.length+i.value.length)).set(this.buffer),c.set(i.value,this.buffer.length),this.buffer=c),[2,i.done]}})})}}(),function(){function s(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return s.prototype.lookup=function(i){return(0,de.mG)(this,void 0,void 0,function(){var c,p=this;return(0,de.Jh)(this,function(b){switch(b.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new We(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(A,S){return(0,de.mG)(this,void 0,void 0,function(){var j,oe,Ee,Le,rt,pt;return(0,de.Jh)(this,function(Bt){switch(Bt.label){case 0:return j=R(A),oe=vi(j.R)+"/documents",Ee={documents:S.map(function(Ut){return ye(j.R,Ut)})},[4,j.$i("BatchGetDocuments",oe,Ee)];case 1:return Le=Bt.sent(),rt=new Map,Le.forEach(function(Ut){var En,Vn,Yt=(En=j.R,"found"in(Vn=Ut)?function(xi,Ii){H(!!Ii.found);var Pr=Ye(xi,Ii.found.name),bo=jo(Ii.found.updateTime),ms=new Aa({mapValue:{fields:Ii.found.fields}});return xa.newFoundDocument(Pr,bo,ms)}(En,Vn):"missing"in Vn?function(xi,Ii){H(!!Ii.missing),H(!!Ii.readTime);var Pr=Ye(xi,Ii.missing),bo=jo(Ii.readTime);return xa.newNoDocument(Pr,bo)}(En,Vn):In());rt.set(Yt.key.toString(),Yt)}),pt=[],[2,(S.forEach(function(Ut){var Yt=rt.get(Ut.toString());H(!!Yt),pt.push(Yt)}),pt)]}})})}(this.datastore,i)];case 1:return[2,((c=b.sent()).forEach(function(A){return p.recordVersion(A)}),c)]}})})},s.prototype.set=function(i,c){this.write(c.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())},s.prototype.update=function(i,c){try{this.write(c.toMutation(i,this.preconditionForUpdate(i)))}catch(p){this.lastWriteError=p}this.writtenDocs.add(i.toString())},s.prototype.delete=function(i){this.write(new Ll(i,this.precondition(i))),this.writtenDocs.add(i.toString())},s.prototype.commit=function(){return(0,de.mG)(this,void 0,void 0,function(){var i,c=this;return(0,de.Jh)(this,function(p){switch(p.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return i=this.readVersions,this.mutations.forEach(function(b){i.delete(b.key.toString())}),i.forEach(function(b,A){var S=di.fromPath(A);c.mutations.push(new Pc(S,c.precondition(S)))}),[4,function(b,A){return(0,de.mG)(this,void 0,void 0,function(){var S,j,oe;return(0,de.Jh)(this,function(Ee){switch(Ee.label){case 0:return S=R(b),j=vi(S.R)+"/documents",oe={writes:A.map(function(Le){return Yr(S.R,Le)})},[4,S.Ni("Commit",j,oe)];case 1:return Ee.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return p.sent(),this.committed=!0,[2]}})})},s.prototype.recordVersion=function(i){var c;if(i.isFoundDocument())c=i.version;else{if(!i.isNoDocument())throw In();c=Ft.min()}var p=this.readVersions.get(i.key.toString());if(p){if(!c.isEqual(p))throw new We(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),c)},s.prototype.precondition=function(i){var c=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&c?Fa.updateTime(c):Fa.none()},s.prototype.preconditionForUpdate=function(i){var c=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&c){if(c.isEqual(Ft.min()))throw new We(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fa.updateTime(c)}return Fa.exists(!0)},s.prototype.write=function(i){this.ensureCommitNotCalled(),this.mutations.push(i)},s.prototype.ensureCommitNotCalled=function(){},s}()),xl=function(){function s(i,c,p,b){this.asyncQueue=i,this.datastore=c,this.updateFunction=p,this.deferred=b,this.ec=5,this.Zi=new dg(this.asyncQueue,"transaction_retry")}return s.prototype.run=function(){this.ec-=1,this.nc()},s.prototype.nc=function(){var i=this;this.Zi.ji(function(){return(0,de.mG)(i,void 0,void 0,function(){var c,p,b=this;return(0,de.Jh)(this,function(A){return c=new Ys(this.datastore),(p=this.sc(c))&&p.then(function(S){b.asyncQueue.enqueueAndForget(function(){return c.commit().then(function(){b.deferred.resolve(S)}).catch(function(j){b.ic(j)})})}).catch(function(S){b.ic(S)}),[2]})})})},s.prototype.sc=function(i){try{var c=this.updateFunction(i);return!no(c)&&c.catch&&c.then?c:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(p){return this.deferred.reject(p),null}},s.prototype.ic=function(i){var c=this;this.ec>0&&this.rc(i)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return c.nc(),Promise.resolve()})):this.deferred.reject(i)},s.prototype.rc=function(i){if("FirebaseError"===i.name){var c=i.code;return"aborted"===c||"failed-precondition"===c||!th(c)}return!1},s}(),af=function(){function s(i,c,p){var b=this;this.credentials=i,this.asyncQueue=c,this.databaseInfo=p,this.user=sa.UNAUTHENTICATED,this.clientId=re.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(c,function(A){return(0,de.mG)(b,void 0,void 0,function(){return(0,de.Jh)(this,function(S){switch(S.label){case 0:return rn("FirestoreClient","Received user=",A.uid),[4,this.credentialListener(A)];case 1:return S.sent(),this.user=A,[2]}})})})}return s.prototype.getConfiguration=function(){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(i){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},s.prototype.setCredentialChangeListener=function(i){this.credentialListener=i},s.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new We(se.FAILED_PRECONDITION,"The client has already been terminated.")},s.prototype.terminate=function(){var i=this;this.asyncQueue.enterRestrictedMode();var c=new Pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,de.mG)(i,void 0,void 0,function(){var p,b;return(0,de.Jh)(this,function(A){switch(A.label){case 0:return A.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:A.sent(),A.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:A.sent(),A.label=4;case 4:return this.credentials.removeChangeListener(),c.resolve(),[3,6];case 5:return p=A.sent(),b=mh(p,"Failed to shutdown persistence"),c.reject(b),[3,6];case 6:return[2]}})})}),c.promise},s}();function Mg(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,p,b=this;return(0,de.Jh)(this,function(A){switch(A.label){case 0:return s.asyncQueue.verifyOperationInProgress(),rn("FirestoreClient","Initializing OfflineComponentProvider"),[4,s.getConfiguration()];case 1:return c=A.sent(),[4,i.initialize(c)];case 2:return A.sent(),p=c.initialUser,s.setCredentialChangeListener(function(S){return(0,de.mG)(b,void 0,void 0,function(){return(0,de.Jh)(this,function(j){switch(j.label){case 0:return p.isEqual(S)?[3,2]:[4,Tu(i.localStore,S)];case 1:j.sent(),p=S,j.label=2;case 2:return[2]}})})}),i.persistence.setDatabaseDeletedListener(function(){return s.terminate()}),s.offlineComponents=i,[2]}})})}function yh(s,i){return(0,de.mG)(this,void 0,void 0,function(){var c,p;return(0,de.Jh)(this,function(b){switch(b.label){case 0:return s.asyncQueue.verifyOperationInProgress(),[4,Sp(s)];case 1:return c=b.sent(),rn("FirestoreClient","Initializing OnlineComponentProvider"),[4,s.getConfiguration()];case 2:return p=b.sent(),[4,i.initialize(c,p)];case 3:return b.sent(),s.setCredentialChangeListener(function(A){return function(S,j){return(0,de.mG)(this,void 0,void 0,function(){var oe,Ee;return(0,de.Jh)(this,function(Le){switch(Le.label){case 0:return(oe=R(S)).asyncQueue.verifyOperationInProgress(),rn("RemoteStore","RemoteStore received new credentials"),Ee=fh(oe),oe.Or.add(3),[4,vc(oe)];case 1:return Le.sent(),Ee&&oe.Br.set("Unknown"),[4,oe.remoteSyncer.handleCredentialChange(j)];case 2:return Le.sent(),oe.Or.delete(3),[4,Xh(oe)];case 3:return Le.sent(),[2]}})})}(i.remoteStore,A)}),s.onlineComponents=i,[2]}})})}function Sp(s){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(i){switch(i.label){case 0:return s.offlineComponents?[3,2]:(rn("FirestoreClient","Using default OfflineComponentProvider"),[4,Mg(s,new qf)]);case 1:i.sent(),i.label=2;case 2:return[2,s.offlineComponents]}})})}function $f(s){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(i){switch(i.label){case 0:return s.onlineComponents?[3,2]:(rn("FirestoreClient","Using default OnlineComponentProvider"),[4,yh(s,new pu)]);case 1:i.sent(),i.label=2;case 2:return[2,s.onlineComponents]}})})}function Ns(s){return Sp(s).then(function(i){return i.persistence})}function wh(s){return Sp(s).then(function(i){return i.localStore})}function Cc(s){return $f(s).then(function(i){return i.remoteStore})}function or(s){return $f(s).then(function(i){return i.syncEngine})}function Ld(s){return(0,de.mG)(this,void 0,void 0,function(){var i,c;return(0,de.Jh)(this,function(p){switch(p.label){case 0:return[4,$f(s)];case 1:return i=p.sent(),[2,((c=i.eventManager).onListen=e_.bind(null,i.syncEngine),c.onUnlisten=yc.bind(null,i.syncEngine),c)]}})})}function ca(s,i,c){var p=this;void 0===c&&(c={});var b=new Pa;return s.asyncQueue.enqueueAndForget(function(){return(0,de.mG)(p,void 0,void 0,function(){var A;return(0,de.Jh)(this,function(S){switch(S.label){case 0:return A=function(j,oe,Ee,Le,rt){var pt=new Tp({next:function(Ut){oe.enqueueAndForget(function(){return od(j,Bt)});var Yt=Ut.docs.has(Ee);!Yt&&Ut.fromCache?rt.reject(new We(se.UNAVAILABLE,"Failed to get document because the client is offline.")):Yt&&Ut.fromCache&&Le&&"server"===Le.source?rt.reject(new We(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):rt.resolve(Ut)},error:function(Ut){return rt.reject(Ut)}}),Bt=new rf(ga(Ee.path),pt,{includeMetadataChanges:!0,so:!0});return rd(j,Bt)},[4,Ld(s)];case 1:return[2,A.apply(void 0,[S.sent(),s.asyncQueue,i,c,b])]}})})}),b.promise}function lf(s,i,c){var p=this;void 0===c&&(c={});var b=new Pa;return s.asyncQueue.enqueueAndForget(function(){return(0,de.mG)(p,void 0,void 0,function(){var A;return(0,de.Jh)(this,function(S){switch(S.label){case 0:return A=function(j,oe,Ee,Le,rt){var pt=new Tp({next:function(Ut){oe.enqueueAndForget(function(){return od(j,Bt)}),Ut.fromCache&&"server"===Le.source?rt.reject(new We(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):rt.resolve(Ut)},error:function(Ut){return rt.reject(Ut)}}),Bt=new rf(Ee,pt,{includeMetadataChanges:!0,so:!0});return rd(j,Bt)},[4,Ld(s)];case 1:return[2,A.apply(void 0,[S.sent(),s.asyncQueue,i,c,b])]}})})}),b.promise}var Ip=function(s,i,c,p,b,A,S,j){this.databaseId=s,this.appId=i,this.persistenceKey=c,this.host=p,this.ssl=b,this.forceLongPolling=A,this.autoDetectLongPolling=S,this.useFetchStreams=j},ro=function(){function s(i,c){this.projectId=i,this.database=c||"(default)"}return Object.defineProperty(s.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(i){return i instanceof s&&i.projectId===this.projectId&&i.database===this.database},s}(),n_=new Map,Po=function(s,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+s},Ch=function(){function s(){this.changeListener=null}return s.prototype.getToken=function(){return Promise.resolve(null)},s.prototype.invalidateToken=function(){},s.prototype.setChangeListener=function(i,c){this.changeListener=c,i.enqueueRetryable(function(){return c(sa.UNAUTHENTICATED)})},s.prototype.removeChangeListener=function(){this.changeListener=null},s}(),Dg=function(){function s(i){this.token=i,this.changeListener=null}return s.prototype.getToken=function(){return Promise.resolve(this.token)},s.prototype.invalidateToken=function(){},s.prototype.setChangeListener=function(i,c){var p=this;this.changeListener=c,i.enqueueRetryable(function(){return c(p.token.user)})},s.prototype.removeChangeListener=function(){this.changeListener=null},s}(),Bd=function(){function s(i){var c=this;this.currentUser=sa.UNAUTHENTICATED,this.oc=new Pa,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){c.cc++,c.currentUser=c.ac(),c.oc.resolve(),c.changeListener&&c.asyncQueue.enqueueRetryable(function(){return c.changeListener(c.currentUser)})};var p=function(b){rn("FirebaseCredentialsProvider","Auth detected"),c.auth=b,c.auth.addAuthTokenListener(c.uc)};i.onInit(function(b){return p(b)}),setTimeout(function(){if(!c.auth){var b=i.getImmediate({optional:!0});b?p(b):(rn("FirebaseCredentialsProvider","Auth not yet detected"),c.oc.resolve())}},0)}return s.prototype.getToken=function(){var i=this,c=this.cc,p=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(p).then(function(b){return i.cc!==c?(rn("FirebaseCredentialsProvider","getToken aborted due to token change."),i.getToken()):b?(H("string"==typeof b.accessToken),new Po(b.accessToken,i.currentUser)):null}):Promise.resolve(null)},s.prototype.invalidateToken=function(){this.forceRefresh=!0},s.prototype.setChangeListener=function(i,c){var p=this;this.asyncQueue=i,this.asyncQueue.enqueueRetryable(function(){return(0,de.mG)(p,void 0,void 0,function(){return(0,de.Jh)(this,function(b){switch(b.label){case 0:return[4,this.oc.promise];case 1:return b.sent(),[4,c(this.currentUser)];case 2:return b.sent(),this.changeListener=c,[2]}})})})},s.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},s.prototype.ac=function(){var i=this.auth&&this.auth.getUid();return H(null===i||"string"==typeof i),new sa(i)},s}(),ym=function(){function s(i,c,p){this.hc=i,this.lc=c,this.fc=p,this.type="FirstParty",this.user=sa.FIRST_PARTY}return Object.defineProperty(s.prototype,"authHeaders",{get:function(){var i={"X-Goog-AuthUser":this.lc},c=this.hc.auth.getAuthHeaderValueForFirstParty([]);return c&&(i.Authorization=c),this.fc&&(i["X-Goog-Iam-Authorization-Token"]=this.fc),i},enumerable:!1,configurable:!0}),s}(),Tg=function(){function s(i,c,p){this.hc=i,this.lc=c,this.fc=p}return s.prototype.getToken=function(){return Promise.resolve(new ym(this.hc,this.lc,this.fc))},s.prototype.setChangeListener=function(i,c){i.enqueueRetryable(function(){return c(sa.FIRST_PARTY)})},s.prototype.removeChangeListener=function(){},s.prototype.invalidateToken=function(){},s}();function Wf(s,i,c){if(!c)throw new We(se.INVALID_ARGUMENT,"Function "+s+"() cannot be called with an empty "+i+".")}function Pp(s,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new We(se.INVALID_ARGUMENT,"Invalid options passed to function "+s+'(): You cannot specify both "merge" and "mergeFields".');return i}function Op(s,i,c,p){if(!0===i&&!0===p)throw new We(se.INVALID_ARGUMENT,s+" and "+c+" cannot be used together.")}function wm(s){if(!di.isDocumentKey(s))throw new We(se.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s+" has "+s.length+".")}function cf(s){if(di.isDocumentKey(s))throw new We(se.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+s+" has "+s.length+".")}function Np(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=s.substring(0,20)+"..."),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";var i=function(c){if(c.constructor){var p=/function\s+([^\s(]+)\s*\(/.exec(c.constructor.toString());if(p&&p.length>1)return p[1]}return null}(s);return i?"a custom "+i+" object":"an object"}return"function"==typeof s?"a function":In()}function po(s,i){if("_delegate"in s&&(s=s._delegate),!(s instanceof i)){if(i.name===s.constructor.name)throw new We(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var c=Np(s);throw new We(se.INVALID_ARGUMENT,"Expected type '"+i.name+"', but it was: "+c)}return s}function Sg(s,i){if(i<=0)throw new We(se.INVALID_ARGUMENT,"Function "+s+"() requires a positive number, but it was: "+i+".")}var qc=function(){function s(i){var c;if(void 0===i.host){if(void 0!==i.ssl)throw new We(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(c=i.ssl)||void 0===c||c;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new We(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,Op("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}return s.prototype.isEqual=function(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams},s}(),kc=function(){function s(i,c){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qc({}),this._settingsFrozen=!1,i instanceof ro?(this._databaseId=i,this._credentials=new Ch):(this._app=i,this._databaseId=function(p){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new We(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(p.options.projectId)}(i),this._credentials=new Bd(c))}return Object.defineProperty(s.prototype,"app",{get:function(){if(!this._app)throw new We(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),s.prototype._setSettings=function(i){if(this._settingsFrozen)throw new We(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qc(i),void 0!==i.credentials&&(this._credentials=function(c){if(!c)return new Ch;switch(c.type){case"gapi":var p=c.client;return H(!("object"!=typeof p||null===p||!p.auth||!p.auth.getAuthHeaderValueForFirstParty)),new Tg(p,c.sessionIndex||"0",c.iamToken||null);case"provider":return c.client;default:throw new We(se.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))},s.prototype._getSettings=function(){return this._settings},s.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},s.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},s.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},s.prototype._terminate=function(){return(c=n_.get(this))&&(rn("ComponentProvider","Removing Datastore"),n_.delete(this),c.terminate()),Promise.resolve();var c},s}(),As=function(){function s(i,c,p){this.converter=c,this._key=p,this.type="document",this.firestore=i}return Object.defineProperty(s.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){return new Ac(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),s.prototype.withConverter=function(i){return new s(this.firestore,i,this._key)},s}(),ol=function(){function s(i,c,p){this.converter=c,this._query=p,this.type="query",this.firestore=i}return s.prototype.withConverter=function(i){return new s(this.firestore,i,this._query)},s}(),Ac=function(s){function i(c,p,b){var A=this;return(A=s.call(this,c,p,ga(b))||this)._path=b,A.type="collection",A}return(0,de.ZT)(i,s),Object.defineProperty(i.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var c=this._path.popLast();return c.isEmpty()?null:new As(this.firestore,null,new di(c))},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(c){return new i(this.firestore,c,this._path)},i}(ol);function Ig(s,i){for(var c,p=[],b=2;b<arguments.length;b++)p[b-2]=arguments[b];if(s=(0,Oe.m9)(s),Wf("collection","path",i),s instanceof kc)return cf(c=Bn.fromString.apply(Bn,(0,de.ev)([i],p))),new Ac(s,null,c);if(!(s instanceof As||s instanceof Ac))throw new We(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cf(c=Bn.fromString.apply(Bn,(0,de.ev)([s.path],p)).child(Bn.fromString(i))),new Ac(s.firestore,null,c)}function Zf(s,i){for(var c,p=[],b=2;b<arguments.length;b++)p[b-2]=arguments[b];if(s=(0,Oe.m9)(s),1===arguments.length&&(i=re.u()),Wf("doc","path",i),s instanceof kc)return wm(c=Bn.fromString.apply(Bn,(0,de.ev)([i],p))),new As(s,null,new di(c));if(!(s instanceof As||s instanceof Ac))throw new We(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wm(c=s._path.child(Bn.fromString.apply(Bn,(0,de.ev)([i],p)))),new As(s.firestore,s instanceof Ac?s.converter:null,new di(c))}function ja(s,i){return s=(0,Oe.m9)(s),i=(0,Oe.m9)(i),(s instanceof As||s instanceof Ac)&&(i instanceof As||i instanceof Ac)&&s.firestore===i.firestore&&s.path===i.path&&s.converter===i.converter}function El(s,i){return s=(0,Oe.m9)(s),i=(0,Oe.m9)(i),s instanceof ol&&i instanceof ol&&s.firestore===i.firestore&&Gu(s._query,i._query)&&s.converter===i.converter}var Gc=function(){function s(){var i=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new dg(this,"async_queue_retry"),this.Ic=function(){var p=Jh();p&&rn("AsyncQueue","Visibility state changed to "+p.visibilityState),i.Zi.Gi()};var c=Jh();c&&"function"==typeof c.addEventListener&&c.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(s.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),s.prototype.enqueueAndForget=function(i){this.enqueue(i)},s.prototype.enqueueAndForgetEvenWhileRestricted=function(i){this.Ac(),this.Rc(i)},s.prototype.enterRestrictedMode=function(i){if(!this._c){this._c=!0,this.Ec=i||!1;var c=Jh();c&&"function"==typeof c.removeEventListener&&c.removeEventListener("visibilitychange",this.Ic)}},s.prototype.enqueue=function(i){var c=this;if(this.Ac(),this._c)return new Promise(function(){});var p=new Pa;return this.Rc(function(){return c._c&&c.Ec?Promise.resolve():(i().then(p.resolve,p.reject),p.promise)}).then(function(){return p.promise})},s.prototype.enqueueRetryable=function(i){var c=this;this.enqueueAndForget(function(){return c.wc.push(i),c.bc()})},s.prototype.bc=function(){return(0,de.mG)(this,void 0,void 0,function(){var i,c=this;return(0,de.Jh)(this,function(p){switch(p.label){case 0:if(0===this.wc.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return p.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ah(i=p.sent()))throw i;return rn("AsyncQueue","Operation failed with retryable error: "+i),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return c.bc()}),p.label=5;case 5:return[2]}})})},s.prototype.Rc=function(i){var c=this,p=this.dc.then(function(){return c.gc=!0,i().catch(function(b){throw c.yc=b,c.gc=!1,Ir("INTERNAL UNHANDLED ERROR: ",(S=(A=b).message||"",A.stack&&(S=A.stack.includes(A.message)?A.stack:A.message+"\n"+A.stack),S)),b;var A,S}).then(function(b){return c.gc=!1,b})});return this.dc=p,p},s.prototype.enqueueAfterDelay=function(i,c,p){var b=this;this.Ac(),this.Tc.indexOf(i)>-1&&(c=0);var A=vg.createAndSchedule(this,i,c,p,function(S){return b.vc(S)});return this.mc.push(A),A},s.prototype.Ac=function(){this.yc&&In()},s.prototype.verifyOperationInProgress=function(){},s.prototype.Pc=function(){return(0,de.mG)(this,void 0,void 0,function(){var i;return(0,de.Jh)(this,function(c){switch(c.label){case 0:return[4,i=this.dc];case 1:c.sent(),c.label=2;case 2:if(i!==this.dc)return[3,0];c.label=3;case 3:return[2]}})})},s.prototype.Vc=function(i){for(var c=0,p=this.mc;c<p.length;c++)if(p[c].timerId===i)return!0;return!1},s.prototype.Sc=function(i){var c=this;return this.Pc().then(function(){c.mc.sort(function(S,j){return S.targetTimeMs-j.targetTimeMs});for(var p=0,b=c.mc;p<b.length;p++){var A=b[p];if(A.skipDelay(),"all"!==i&&A.timerId===i)break}return c.Pc()})},s.prototype.Dc=function(i){this.Tc.push(i)},s.prototype.vc=function(i){var c=this.mc.indexOf(i);this.mc.splice(c,1)},s}();function Nu(s){return function(i,c){if("object"!=typeof i||null===i)return!1;for(var p=i,b=0,A=["next","error","complete"];b<A.length;b++){var S=A[b];if(S in p&&"function"==typeof p[S])return!0}return!1}(s)}!function(){function s(){this._progressObserver={},this._taskCompletionResolver=new Pa,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}s.prototype.onProgress=function(i,c,p){this._progressObserver={next:i,error:c,complete:p}},s.prototype.catch=function(i){return this._taskCompletionResolver.promise.catch(i)},s.prototype.then=function(i,c){return this._taskCompletionResolver.promise.then(i,c)},s.prototype._completeWith=function(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)},s.prototype._failWith=function(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)},s.prototype._updateProgress=function(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}();var ua=function(s){function i(c,p){var b=this;return(b=s.call(this,c,p)||this).type="firestore",b._queue=new Gc,b._persistenceKey="name"in c?c.name:"[DEFAULT]",b}return(0,de.ZT)(i,s),i.prototype._terminate=function(){return this._firestoreClient||km(this),this._firestoreClient.terminate()},i}(kc);function Na(s){return s._firestoreClient||km(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function km(s){var i,A,j,c=s._freezeSettings(),p=(A=(null===(i=s._app)||void 0===i?void 0:i.options.appId)||"",new Ip(s._databaseId,A,s._persistenceKey,(j=c).host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,j.useFetchStreams));s._firestoreClient=new af(s._credentials,s._queue,p)}function Og(s,i,c){var p=this,b=new Pa;return s.asyncQueue.enqueue(function(){return(0,de.mG)(p,void 0,void 0,function(){var A;return(0,de.Jh)(this,function(S){switch(S.label){case 0:return S.trys.push([0,3,,4]),[4,Mg(s,c)];case 1:return S.sent(),[4,yh(s,i)];case 2:return S.sent(),b.resolve(),[3,4];case 3:if(!("FirebaseError"===(j=A=S.sent()).name?j.code===se.FAILED_PRECONDITION||j.code===se.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&j instanceof DOMException)||22===j.code||20===j.code||11===j.code))throw A;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+A),b.reject(A),[3,4];case 4:return[2]}var j})})}).then(function(){return b.promise})}function Ng(s){if(s._initialized||s._terminated)throw new We(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ru=function(){function s(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];for(var p=0;p<i.length;++p)if(0===i[p].length)throw new We(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hs(i)}return s.prototype.isEqual=function(i){return this._internalPath.isEqual(i._internalPath)},s}(),ad=function(){function s(i){this._byteString=i}return s.fromBase64String=function(i){try{return new s(to.fromBase64String(i))}catch(c){throw new We(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+c)}},s.fromUint8Array=function(i){return new s(to.fromUint8Array(i))},s.prototype.toBase64=function(){return this._byteString.toBase64()},s.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},s.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},s.prototype.isEqual=function(i){return this._byteString.isEqual(i._byteString)},s}(),kh=function(s){this._methodName=s},Ah=function(){function s(i,c){if(!isFinite(i)||i<-90||i>90)throw new We(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(c)||c<-180||c>180)throw new We(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+c);this._lat=i,this._long=c}return Object.defineProperty(s.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(i){return this._lat===i._lat&&this._long===i._long},s.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},s.prototype._compareTo=function(i){return ae(this._lat,i._lat)||ae(this._long,i._long)},s}(),i_=/^__.*__$/,jd=function(){function s(i,c,p){this.data=i,this.fieldMask=c,this.fieldTransforms=p}return s.prototype.toMutation=function(i,c){return null!==this.fieldMask?new Yl(i,this.data,this.fieldMask,c,this.fieldTransforms):new Yu(i,this.data,c,this.fieldTransforms)},s}(),Rg=function(){function s(i,c,p){this.data=i,this.fieldMask=c,this.fieldTransforms=p}return s.prototype.toMutation=function(i,c){return new Yl(i,this.data,this.fieldMask,c,this.fieldTransforms)},s}();function Am(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw In()}}var Fu=function(){function s(i,c,p,b,A,S){this.settings=i,this.databaseId=c,this.R=p,this.ignoreUndefinedProperties=b,void 0===A&&this.Cc(),this.fieldTransforms=A||[],this.fieldMask=S||[]}return Object.defineProperty(s.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),s.prototype.xc=function(i){return new s(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},s.prototype.kc=function(i){var c,p=null===(c=this.path)||void 0===c?void 0:c.child(i),b=this.xc({path:p,Fc:!1});return b.$c(i),b},s.prototype.Oc=function(i){var c,p=null===(c=this.path)||void 0===c?void 0:c.child(i),b=this.xc({path:p,Fc:!1});return b.Cc(),b},s.prototype.Mc=function(i){return this.xc({path:void 0,Fc:!0})},s.prototype.Lc=function(i){return df(i,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},s.prototype.contains=function(i){return void 0!==this.fieldMask.find(function(c){return i.isPrefixOf(c)})||void 0!==this.fieldTransforms.find(function(c){return i.isPrefixOf(c.field)})},s.prototype.Cc=function(){if(this.path)for(var i=0;i<this.path.length;i++)this.$c(this.path.get(i))},s.prototype.$c=function(i){if(0===i.length)throw this.Lc("Document fields must not be empty");if(Am(this.Nc)&&i_.test(i))throw this.Lc('Document fields cannot begin and end with "__"')},s}(),xm=function(){function s(i,c,p){this.databaseId=i,this.ignoreUndefinedProperties=c,this.R=p||Br(i)}return s.prototype.Uc=function(i,c,p,b){return void 0===b&&(b=!1),new Fu({Nc:i,methodName:c,qc:p,path:hs.emptyPath(),Fc:!1,Bc:b},this.databaseId,this.R,this.ignoreUndefinedProperties)},s}();function zd(s){var i=s._freezeSettings(),c=Br(s._databaseId);return new xm(s._databaseId,!!i.ignoreUndefinedProperties,c)}function Yf(s,i,c,p,b,A){void 0===A&&(A={});var S=s.Uc(A.merge||A.mergeFields?2:0,i,c,b);uf("Data must be an object, but it was:",S,p);var j,oe,Ee=Rp(p,S);if(A.merge)j=new ra(S.fieldMask),oe=S.fieldTransforms;else if(A.mergeFields){for(var Le=[],rt=0,pt=A.mergeFields;rt<pt.length;rt++){var Bt=Bg(i,pt[rt],c);if(!S.contains(Bt))throw new We(se.INVALID_ARGUMENT,"Field '"+Bt+"' is specified in your field mask but missing from your input data.");zg(Le,Bt)||Le.push(Bt)}j=new ra(Le),oe=S.fieldTransforms.filter(function(Ut){return j.covers(Ut.field)})}else j=null,oe=S.fieldTransforms;return new jd(new Aa(Ee),j,oe)}var Fg=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,de.ZT)(i,s),i.prototype._toFieldTransform=function(c){if(2!==c.Nc)throw c.Lc(1===c.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return c.fieldMask.push(c.path),null},i.prototype.isEqual=function(c){return c instanceof i},i}(kh);function $c(s,i,c){return new Fu({Nc:3,qc:i.settings.qc,methodName:s._methodName,Fc:c},i.databaseId,i.R,i.ignoreUndefinedProperties)}var Em=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,de.ZT)(i,s),i.prototype._toFieldTransform=function(c){return new Zl(c.path,new ku)},i.prototype.isEqual=function(c){return c instanceof i},i}(kh),r_=function(s){function i(c,p){var b=this;return(b=s.call(this,c)||this).Kc=p,b}return(0,de.ZT)(i,s),i.prototype._toFieldTransform=function(c){var p=$c(this,c,!0),b=this.Kc.map(function(S){return Vd(S,p)}),A=new Tc(b);return new Zl(c.path,A)},i.prototype.isEqual=function(c){return this===c},i}(kh),Mm=function(s){function i(c,p){var b=this;return(b=s.call(this,c)||this).Kc=p,b}return(0,de.ZT)(i,s),i.prototype._toFieldTransform=function(c){var p=$c(this,c,!0),b=this.Kc.map(function(S){return Vd(S,p)}),A=new Sc(b);return new Zl(c.path,A)},i.prototype.isEqual=function(c){return this===c},i}(kh),Dm=function(s){function i(c,p){var b=this;return(b=s.call(this,c)||this).Qc=p,b}return(0,de.ZT)(i,s),i.prototype._toFieldTransform=function(c){var p=new Rl(c.R,bl(c.R,this.Qc));return new Zl(c.path,p)},i.prototype.isEqual=function(c){return this===c},i}(kh);function Kf(s,i,c,p){var b=s.Uc(1,i,c);uf("Data must be an object, but it was:",b,p);var A=[],S=Aa.empty();mi(p,function(oe,Ee){var Le=Qf(i,oe,c);Ee=(0,Oe.m9)(Ee);var rt=b.Oc(Le);if(Ee instanceof Fg)A.push(Le);else{var pt=Vd(Ee,rt);null!=pt&&(A.push(Le),S.set(Le,pt))}});var j=new ra(A);return new Rg(S,j,b.fieldTransforms)}function Lg(s,i,c,p,b,A){var S=s.Uc(1,i,c),j=[Bg(i,p,c)],oe=[b];if(A.length%2!=0)throw new We(se.INVALID_ARGUMENT,"Function "+i+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var Ee=0;Ee<A.length;Ee+=2)j.push(Bg(i,A[Ee])),oe.push(A[Ee+1]);for(var Le=[],rt=Aa.empty(),pt=j.length-1;pt>=0;--pt)if(!zg(Le,j[pt])){var Bt=j[pt],Ut=oe[pt];Ut=(0,Oe.m9)(Ut);var Yt=S.Oc(Bt);if(Ut instanceof Fg)Le.push(Bt);else{var En=Vd(Ut,Yt);null!=En&&(Le.push(Bt),rt.set(Bt,En))}}var Vn=new ra(Le);return new Rg(rt,Vn,S.fieldTransforms)}function Tm(s,i,c,p){return void 0===p&&(p=!1),Vd(c,s.Uc(p?4:3,i))}function Vd(s,i){if(Sm(s=(0,Oe.m9)(s)))return uf("Unsupported field value:",i,s),Rp(s,i);if(s instanceof kh)return function(c,p){if(!Am(p.Nc))throw p.Lc(c._methodName+"() can only be used with update() and set()");if(!p.path)throw p.Lc(c._methodName+"() is not currently supported inside arrays");var b=c._toFieldTransform(p);b&&p.fieldTransforms.push(b)}(s,i),null;if(void 0===s&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),s instanceof Array){if(i.settings.Fc&&4!==i.Nc)throw i.Lc("Nested arrays are not supported");return function(c,p){for(var b=[],A=0,S=0,j=c;S<j.length;S++){var oe=Vd(j[S],p.Mc(A));null==oe&&(oe={nullValue:"NULL_VALUE"}),b.push(oe),A++}return{arrayValue:{values:b}}}(s,i)}return function(c,p){if(null===(c=(0,Oe.m9)(c)))return{nullValue:"NULL_VALUE"};if("number"==typeof c)return bl(p.R,c);if("boolean"==typeof c)return{booleanValue:c};if("string"==typeof c)return{stringValue:c};if(c instanceof Date){var b=ht.fromDate(c);return{timestampValue:iu(p.R,b)}}if(c instanceof ht)return b=new ht(c.seconds,1e3*Math.floor(c.nanoseconds/1e3)),{timestampValue:iu(p.R,b)};if(c instanceof Ah)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof ad)return{bytesValue:Bo(p.R,c._byteString)};if(c instanceof As){var A=c.firestore._databaseId;if(!A.isEqual(b=p.databaseId))throw p.Lc("Document reference is for database "+A.projectId+"/"+A.database+" but should be for database "+b.projectId+"/"+b.database);return{referenceValue:If(c.firestore._databaseId||p.databaseId,c._key.path)}}throw p.Lc("Unsupported field value: "+Np(c))}(s,i)}function Rp(s,i){var c={};return ei(s)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):mi(s,function(p,b){var A=Vd(b,i.kc(p));null!=A&&(c[p]=A)}),{mapValue:{fields:c}}}function Sm(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof ht||s instanceof Ah||s instanceof ad||s instanceof As||s instanceof kh)}function uf(s,i,c){if(!Sm(c)||"object"!=typeof(b=c)||null===b||Object.getPrototypeOf(b)!==Object.prototype&&null!==Object.getPrototypeOf(b)){var p=Np(c);throw i.Lc("an object"===p?s+" a custom object":s+" "+p)}var b}function Bg(s,i,c){if((i=(0,Oe.m9)(i))instanceof Ru)return i._internalPath;if("string"==typeof i)return Qf(s,i);throw df("Field path arguments must be of type string or FieldPath.",s,!1,void 0,c)}var jg=new RegExp("[~\\*/\\[\\]]");function Qf(s,i,c){if(i.search(jg)>=0)throw df("Invalid field path ("+i+"). Paths must not contain '~', '*', '/', '[', or ']'",s,!1,void 0,c);try{return(new(Ru.bind.apply(Ru,(0,de.ev)([void 0],i.split(".")))))._internalPath}catch(p){throw df("Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",s,!1,void 0,c)}}function df(s,i,c,p,b){var A=p&&!p.isEmpty(),S=void 0!==b,j="Function "+i+"() called with invalid data";c&&(j+=" (via `toFirestore()`)");var oe="";return(A||S)&&(oe+=" (found",A&&(oe+=" in field "+p),S&&(oe+=" in document "+b),oe+=")"),new We(se.INVALID_ARGUMENT,(j+=". ")+s+oe)}function zg(s,i){return s.some(function(c){return c.isEqual(i)})}var hf=function(){function s(i,c,p,b,A){this._firestore=i,this._userDataWriter=c,this._key=p,this._document=b,this._converter=A}return Object.defineProperty(s.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ref",{get:function(){return new As(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),s.prototype.exists=function(){return null!==this._document},s.prototype.data=function(){if(this._document){if(this._converter){var i=new Fp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}},s.prototype.get=function(i){if(this._document){var c=this._document.data.field(Lu("DocumentSnapshot.get",i));if(null!==c)return this._userDataWriter.convertValue(c)}},s}(),Fp=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,de.ZT)(i,s),i.prototype.data=function(){return s.prototype.data.call(this)},i}(hf);function Lu(s,i){return"string"==typeof i?Qf(s,i):i instanceof Ru?i._internalPath:i._delegate._internalPath}var xh=function(){function s(i,c){this.hasPendingWrites=i,this.fromCache=c}return s.prototype.isEqual=function(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache},s}(),Ml=function(s){function i(c,p,b,A,S,j){var oe=this;return(oe=s.call(this,c,p,b,A,j)||this)._firestore=c,oe._firestoreImpl=c,oe.metadata=S,oe}return(0,de.ZT)(i,s),i.prototype.exists=function(){return s.prototype.exists.call(this)},i.prototype.data=function(c){if(void 0===c&&(c={}),this._document){if(this._converter){var p=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(p,c)}return this._userDataWriter.convertValue(this._document.data.value,c.serverTimestamps)}},i.prototype.get=function(c,p){if(void 0===p&&(p={}),this._document){var b=this._document.data.field(Lu("DocumentSnapshot.get",c));if(null!==b)return this._userDataWriter.convertValue(b,p.serverTimestamps)}},i}(hf),Ud=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,de.ZT)(i,s),i.prototype.data=function(c){return void 0===c&&(c={}),s.prototype.data.call(this,c)},i}(Ml),Hd=function(){function s(i,c,p,b){this._firestore=i,this._userDataWriter=c,this._snapshot=b,this.metadata=new xh(b.hasPendingWrites,b.fromCache),this.query=p}return Object.defineProperty(s.prototype,"docs",{get:function(){var i=[];return this.forEach(function(c){return i.push(c)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),s.prototype.forEach=function(i,c){var p=this;this._snapshot.docs.forEach(function(b){i.call(c,new Ud(p._firestore,p._userDataWriter,b.key,b,new xh(p._snapshot.mutatedKeys.has(b.key),p._snapshot.fromCache),p.query.converter))})},s.prototype.docChanges=function(i){void 0===i&&(i={});var c=!!i.includeMetadataChanges;if(c&&this._snapshot.excludesMetadataChanges)throw new We(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===c||(this._cachedChanges=function(p,b){if(p._snapshot.oldDocs.isEmpty()){var A=0;return p._snapshot.docChanges.map(function(j){return{type:"added",doc:new Ud(p._firestore,p._userDataWriter,j.doc.key,j.doc,new xh(p._snapshot.mutatedKeys.has(j.doc.key),p._snapshot.fromCache),p.query.converter),oldIndex:-1,newIndex:A++}})}var S=p._snapshot.oldDocs;return p._snapshot.docChanges.filter(function(j){return b||3!==j.type}).map(function(j){var oe=new Ud(p._firestore,p._userDataWriter,j.doc.key,j.doc,new xh(p._snapshot.mutatedKeys.has(j.doc.key),p._snapshot.fromCache),p.query.converter),Ee=-1,Le=-1;return 0!==j.type&&(Ee=S.indexOf(j.doc.key),S=S.delete(j.doc.key)),1!==j.type&&(Le=(S=S.add(j.doc)).indexOf(j.doc.key)),{type:Vg(j.type),doc:oe,oldIndex:Ee,newIndex:Le}})}(this,c),this._cachedChangesIncludeMetadataChanges=c),this._cachedChanges},s}();function Vg(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return In()}}function Wc(s,i){return s instanceof Ml&&i instanceof Ml?s._firestore===i._firestore&&s._key.isEqual(i._key)&&(null===s._document?null===i._document:s._document.isEqual(i._document))&&s._converter===i._converter:s instanceof Hd&&i instanceof Hd&&s._firestore===i._firestore&&El(s.query,i.query)&&s.metadata.isEqual(i.metadata)&&s._snapshot.isEqual(i._snapshot)}function ff(s){if(eh(s)&&0===s.explicitOrderBy.length)throw new We(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rs=function(){};function Dl(s){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];for(var p=0,b=i;p<b.length;p++){var A=b[p];s=A._apply(s)}return s}var pf=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).jc=c,A.Wc=p,A.Gc=b,A.type="where",A}return(0,de.ZT)(i,s),i.prototype._apply=function(c){var A,j,p=zd(c.firestore),b=function(A,S,j,oe,Ee,Le,rt){var pt;if(Ee.isKeyField()){if("array-contains"===Le||"array-contains-any"===Le)throw new We(se.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+Le+"' queries on FieldPath.documentId().");if("in"===Le||"not-in"===Le){Dh(rt,Le);for(var Bt=[],Ut=0,Yt=rt;Ut<Yt.length;Ut++)Bt.push(Mh(oe,A,Yt[Ut]));pt={arrayValue:{values:Bt}}}else pt=Mh(oe,A,rt)}else"in"!==Le&&"not-in"!==Le&&"array-contains-any"!==Le||Dh(rt,Le),pt=Tm(j,"where",rt,"in"===Le||"not-in"===Le);var Vn=os.create(Ee,Le,pt);return function(xi,Ii){if(Ii.g()){var Pr=qu(xi);if(null!==Pr&&!Pr.isEqual(Ii.field))throw new We(se.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Pr.toString()+"' and '"+Ii.field.toString()+"'");var bo=Hu(xi);null!==bo&&Bu(0,Ii.field,bo)}var ms=function(al,Nm){for(var ip=0,Wg=al.filters;ip<Wg.length;ip++){var a_=Wg[ip];if(Nm.indexOf(a_.op)>=0)return a_.op}return null}(xi,function(al){switch(al){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ii.op));if(null!==ms)throw new We(se.INVALID_ARGUMENT,ms===Ii.op?"Invalid query. You cannot use more than one '"+Ii.op.toString()+"' filter.":"Invalid query. You cannot use '"+Ii.op.toString()+"' filters with '"+ms.toString()+"' filters.")}(A,Vn),Vn}(c._query,0,p,c.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ol(c.firestore,c.converter,(j=(A=c._query).filters.concat([b]),new Nl(A.path,A.collectionGroup,A.explicitOrderBy.slice(),j,A.limit,A.limitType,A.startAt,A.endAt)))},i}(Rs),xc=function(s){function i(c,p){var b=this;return(b=s.call(this)||this).jc=c,b.zc=p,b.type="orderBy",b}return(0,de.ZT)(i,s),i.prototype._apply=function(c){var b,S,p=function(b,A,S){if(null!==b.startAt)throw new We(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==b.endAt)throw new We(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var j=new Xc(A,S);return function(oe,Ee){if(null===Hu(oe)){var Le=qu(oe);null!==Le&&Bu(0,Le,Ee.field)}}(b,j),j}(c._query,this.jc,this.zc);return new ol(c.firestore,c.converter,(S=(b=c._query).explicitOrderBy.concat([p]),new Nl(b.path,b.collectionGroup,S,b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)))},i}(Rs),Ug=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).type=c,A.Hc=p,A.Jc=b,A}return(0,de.ZT)(i,s),i.prototype._apply=function(c){return new ol(c.firestore,c.converter,Gs(c._query,this.Hc,this.Jc))},i}(Rs),Eh=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).type=c,A.Yc=p,A.Xc=b,A}return(0,de.ZT)(i,s),i.prototype._apply=function(c){var b,A,p=ld(c,this.type,this.Yc,this.Xc);return new ol(c.firestore,c.converter,(A=p,new Nl((b=c._query).path,b.collectionGroup,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,A,b.endAt)))},i}(Rs),qd=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).type=c,A.Yc=p,A.Xc=b,A}return(0,de.ZT)(i,s),i.prototype._apply=function(c){var b,A,p=ld(c,this.type,this.Yc,this.Xc);return new ol(c.firestore,c.converter,(A=p,new Nl((b=c._query).path,b.collectionGroup,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,A)))},i}(Rs);function ld(s,i,c,p){if(c[0]=(0,Oe.m9)(c[0]),c[0]instanceof hf)return function(A,S,j,oe,Ee){if(!oe)throw new We(se.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+j+"().");for(var Le=[],rt=0,pt=Cu(A);rt<pt.length;rt++){var Bt=pt[rt];if(Bt.field.isKeyField())Le.push(Wl(S,oe.key));else{var Ut=oe.data.field(Bt.field);if(Pl(Ut))throw new We(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Bt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ut){var Yt=Bt.field.canonicalString();throw new We(se.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Yt+"' (used as the orderBy) does not exist.")}Le.push(Ut)}}return new Jc(Le,Ee)}(s._query,s.firestore._databaseId,i,c[0]._document,p);var b=zd(s.firestore);return function(A,S,j,oe,Ee,Le){var rt=A.explicitOrderBy;if(Ee.length>rt.length)throw new We(se.INVALID_ARGUMENT,"Too many arguments provided to "+oe+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var pt=[],Bt=0;Bt<Ee.length;Bt++){var Ut=Ee[Bt];if(rt[Bt].field.isKeyField()){if("string"!=typeof Ut)throw new We(se.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+oe+"(), but got a "+typeof Ut);if(!Ja(A)&&-1!==Ut.indexOf("/"))throw new We(se.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+oe+"() must be a plain document ID, but '"+Ut+"' contains a slash.");var Yt=A.path.child(Bn.fromString(Ut));if(!di.isDocumentKey(Yt))throw new We(se.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+oe+"() must result in a valid document path, but '"+Yt+"' is not because it contains an odd number of segments.");var En=new di(Yt);pt.push(Wl(S,En))}else{var Vn=Tm(j,oe,Ut);pt.push(Vn)}}return new Jc(pt,Le)}(s._query,s.firestore._databaseId,b,i,c,p)}function Mh(s,i,c){if("string"==typeof(c=(0,Oe.m9)(c))){if(""===c)throw new We(se.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ja(i)&&-1!==c.indexOf("/"))throw new We(se.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+c+"' contains a '/' character.");var p=i.path.child(Bn.fromString(c));if(!di.isDocumentKey(p))throw new We(se.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+p+"' is not because it has an odd number of segments ("+p.length+").");return Wl(s,new di(p))}if(c instanceof As)return Wl(s,c._key);throw new We(se.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Np(c)+".")}function Dh(s,i){if(!Array.isArray(s)||0===s.length)throw new We(se.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+i.toString()+"' filters.");if(s.length>10)throw new We(se.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bu(s,i,c){if(!c.isEqual(i))throw new We(se.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+i.toString()+"' and so you must also use '"+i.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+c.toString()+"' instead.")}var Ks=function(){function s(){}return s.prototype.convertValue=function(i,c){switch(void 0===c&&(c="none"),pd(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Me(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,c);case 5:return i.stringValue;case 6:return this.convertBytes(qa(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,c);case 10:return this.convertObject(i.mapValue,c);default:throw In()}},s.prototype.convertObject=function(i,c){var p=this,b={};return mi(i.fields,function(A,S){b[A]=p.convertValue(S,c)}),b},s.prototype.convertGeoPoint=function(i){return new Ah(Me(i.latitude),Me(i.longitude))},s.prototype.convertArray=function(i,c){var p=this;return(i.values||[]).map(function(b){return p.convertValue(b,c)})},s.prototype.convertServerTimestamp=function(i,c){switch(c){case"previous":var p=ka(i);return null==p?null:this.convertValue(p,c);case"estimate":return this.convertTimestamp(pr(i));default:return null}},s.prototype.convertTimestamp=function(i){var c=fs(i);return new ht(c.seconds,c.nanos)},s.prototype.convertDocumentKey=function(i,c){var p=Bn.fromString(i);H(jl(p));var b=new ro(p.get(1),p.get(3)),A=new di(p.popFirst(5));return b.isEqual(c)||Ir("Document "+A+" contains a document reference within a different database ("+b.projectId+"/"+b.database+") which is not supported. It will be treated as a reference in the current database ("+c.projectId+"/"+c.database+") instead."),A},s}();function Zc(s,i,c){return s?c&&(c.merge||c.mergeFields)?s.toFirestore(i,c):s.toFirestore(i):i}var Th=function(s){function i(c){var p=this;return(p=s.call(this)||this).firestore=c,p}return(0,de.ZT)(i,s),i.prototype.convertBytes=function(c){return new ad(c)},i.prototype.convertReference=function(c){var p=this.convertDocumentKey(c,this.firestore._databaseId);return new As(this.firestore,null,p)},i}(Ks),gu=function(){function s(i,c){this._firestore=i,this._commitHandler=c,this._mutations=[],this._committed=!1,this._dataReader=zd(i)}return s.prototype.set=function(i,c,p){this._verifyNotCommitted();var b=ju(i,this._firestore),A=Zc(b.converter,c,p),S=Yf(this._dataReader,"WriteBatch.set",b._key,A,null!==b.converter,p);return this._mutations.push(S.toMutation(b._key,Fa.none())),this},s.prototype.update=function(i,c,p){for(var b=[],A=3;A<arguments.length;A++)b[A-3]=arguments[A];this._verifyNotCommitted();var S,j=ju(i,this._firestore);return S="string"==typeof(c=(0,Oe.m9)(c))||c instanceof Ru?Lg(this._dataReader,"WriteBatch.update",j._key,c,p,b):Kf(this._dataReader,"WriteBatch.update",j._key,c),this._mutations.push(S.toMutation(j._key,Fa.exists(!0))),this},s.prototype.delete=function(i){this._verifyNotCommitted();var c=ju(i,this._firestore);return this._mutations=this._mutations.concat(new Ll(c._key,Fa.none())),this},s.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},s.prototype._verifyNotCommitted=function(){if(this._committed)throw new We(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},s}();function ju(s,i){if((s=(0,Oe.m9)(s)).firestore!==i)throw new We(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}var Gd=function(s){function i(c){var p=this;return(p=s.call(this)||this).firestore=c,p}return(0,de.ZT)(i,s),i.prototype.convertBytes=function(c){return new ad(c)},i.prototype.convertReference=function(c){var p=this.convertDocumentKey(c,this.firestore._databaseId);return new As(this.firestore,null,p)},i}(Ks);function gf(s,i,c){for(var p=[],b=3;b<arguments.length;b++)p[b-3]=arguments[b];s=po(s,As);var A=po(s.firestore,ua),S=zd(A);return cd(A,[("string"==typeof(i=(0,Oe.m9)(i))||i instanceof Ru?Lg(S,"updateDoc",s._key,i,c,p):Kf(S,"updateDoc",s._key,i)).toMutation(s._key,Fa.exists(!0))])}function Hg(s){for(var i,c,p,b=[],A=1;A<arguments.length;A++)b[A-1]=arguments[A];s=(0,Oe.m9)(s);var S={includeMetadataChanges:!1},j=0;"object"!=typeof b[j]||Nu(b[j])||(S=b[j],j++);var oe,Ee,Le,rt={includeMetadataChanges:S.includeMetadataChanges};if(Nu(b[j])){var pt=b[j];b[j]=null===(i=pt.next)||void 0===i?void 0:i.bind(pt),b[j+1]=null===(c=pt.error)||void 0===c?void 0:c.bind(pt),b[j+2]=null===(p=pt.complete)||void 0===p?void 0:p.bind(pt)}if(s instanceof As)Ee=po(s.firestore,ua),Le=ga(s._key.path),oe={next:function(Yt){b[j]&&b[j](Jf(Ee,s,Yt))},error:b[j+1],complete:b[j+2]};else{var Bt=po(s,ol);Ee=po(Bt.firestore,ua),Le=Bt._query;var Ut=new Gd(Ee);oe={next:function(Yt){b[j]&&b[j](new Hd(Ee,Ut,Bt,Yt))},error:b[j+1],complete:b[j+2]},ff(s._query)}return function(Yt,En,Vn,xi){var Ii=this,Pr=new Tp(xi),bo=new rf(En,Pr,Vn);return Yt.asyncQueue.enqueueAndForget(function(){return(0,de.mG)(Ii,void 0,void 0,function(){var ms;return(0,de.Jh)(this,function(al){switch(al.label){case 0:return ms=rd,[4,Ld(Yt)];case 1:return[2,ms.apply(void 0,[al.sent(),bo])]}})})}),function(){Pr.Wo(),Yt.asyncQueue.enqueueAndForget(function(){return(0,de.mG)(Ii,void 0,void 0,function(){var ms;return(0,de.Jh)(this,function(al){switch(al.label){case 0:return ms=od,[4,Ld(Yt)];case 1:return[2,ms.apply(void 0,[al.sent(),bo])]}})})})}}(Na(Ee),Le,rt,oe)}function cd(s,i){return function(c,p){var b=this,A=new Pa;return c.asyncQueue.enqueueAndForget(function(){return(0,de.mG)(b,void 0,void 0,function(){var S;return(0,de.Jh)(this,function(j){switch(j.label){case 0:return S=Ag,[4,or(c)];case 1:return[2,S.apply(void 0,[j.sent(),p,A])]}})})}),A.promise}(Na(s),i)}function Jf(s,i,c){var p=c.docs.get(i._key),b=new Gd(s);return new Ml(s,b,i._key,p,new xh(c.hasPendingWrites,c.fromCache),i.converter)}var qg=function(s){function i(c,p){var b=this;return(b=s.call(this,c,p)||this)._firestore=c,b}return(0,de.ZT)(i,s),i.prototype.get=function(c){var p=this,b=ju(c,this._firestore),A=new Gd(this._firestore);return s.prototype.get.call(this,c).then(function(S){return new Ml(p._firestore,A,b._key,S._document,new xh(!1,!1),b.converter)})},i}(function(){function s(i,c){this._firestore=i,this._transaction=c,this._dataReader=zd(i)}return s.prototype.get=function(i){var c=this,p=ju(i,this._firestore),b=new Th(this._firestore);return this._transaction.lookup([p._key]).then(function(A){if(!A||1!==A.length)return In();var S=A[0];if(S.isFoundDocument())return new hf(c._firestore,b,S.key,S,p.converter);if(S.isNoDocument())return new hf(c._firestore,b,p._key,null,p.converter);throw In()})},s.prototype.set=function(i,c,p){var b=ju(i,this._firestore),A=Zc(b.converter,c,p),S=Yf(this._dataReader,"Transaction.set",b._key,A,null!==b.converter,p);return this._transaction.set(b._key,S),this},s.prototype.update=function(i,c,p){for(var b=[],A=3;A<arguments.length;A++)b[A-3]=arguments[A];var S,j=ju(i,this._firestore);return S="string"==typeof(c=(0,Oe.m9)(c))||c instanceof Ru?Lg(this._dataReader,"Transaction.update",j._key,c,p,b):Kf(this._dataReader,"Transaction.update",j._key,c),this._transaction.update(j._key,S),this},s.prototype.delete=function(i){var c=ju(i,this._firestore);return this._transaction.delete(c._key),this},s}());function Lp(){if("undefined"==typeof Uint8Array)throw new We(se.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ud(){if("undefined"==typeof atob)throw new We(se.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var dd=function(){function s(i){this._delegate=i}return s.fromBase64String=function(i){return ud(),new s(ad.fromBase64String(i))},s.fromUint8Array=function(i){return Lp(),new s(ad.fromUint8Array(i))},s.prototype.toBase64=function(){return ud(),this._delegate.toBase64()},s.prototype.toUint8Array=function(){return Lp(),this._delegate.toUint8Array()},s.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},s.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},s}(),Xf=function(){function s(){}return s.prototype.enableIndexedDbPersistence=function(i,c){return function(p,b){Ng(p=po(p,ua));var A=Na(p),S=p._freezeSettings(),j=new pu;return Og(A,j,new Al(j,S.cacheSizeBytes,null==b?void 0:b.forceOwnership))}(i._delegate,{forceOwnership:c})},s.prototype.enableMultiTabIndexedDbPersistence=function(i){return function(c){Ng(c=po(c,ua));var p=Na(c),b=c._freezeSettings(),A=new pu;return Og(p,A,new Dp(A,b.cacheSizeBytes))}(i._delegate)},s.prototype.clearIndexedDbPersistence=function(i){return function(c){var p=this;if(c._initialized&&!c._terminated)throw new We(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var b=new Pa;return c._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,de.mG)(p,void 0,void 0,function(){var A;return(0,de.Jh)(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,function(j){return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(Ee){switch(Ee.label){case 0:return Xu.yt()?[4,Xu.delete(j+"main")]:[2,Promise.resolve()];case 1:return Ee.sent(),[2]}})})}(Id(c._databaseId,c._persistenceKey))];case 1:return S.sent(),b.resolve(),[3,3];case 2:return A=S.sent(),b.reject(A),[3,3];case 3:return[2]}})})}),b.promise}(i._delegate)},s}(),Bp=function(){function s(i,c,p){var b=this;this._delegate=c,this.Zc=p,this.INTERNAL={delete:function(){return b.terminate()}},i instanceof ro||(this.tu=i)}return Object.defineProperty(s.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),s.prototype.settings=function(i){var c=this._delegate._getSettings();i.merge||c.host===i.host||gl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},c),i)).merge,this._delegate._setSettings(i)},s.prototype.useEmulator=function(i,c,p){void 0===p&&(p={}),function(b,A,S,j){var oe;void 0===j&&(j={});var Ee=(b=po(b,kc))._getSettings();if("firestore.googleapis.com"!==Ee.host&&Ee.host!==A&&gl("Host has been set in both settings() and useEmulator(), emulator host will be used"),b._setSettings(Object.assign(Object.assign({},Ee),{host:A+":"+S,ssl:!1})),j.mockUserToken){var Le,rt;if("string"==typeof j.mockUserToken)Le=j.mockUserToken,rt=sa.MOCK_USER;else{Le=(0,Oe.Sg)(j.mockUserToken,null===(oe=b._app)||void 0===oe?void 0:oe.options.projectId);var pt=j.mockUserToken.sub||j.mockUserToken.user_id;if(!pt)throw new We(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");rt=new sa(pt)}b._credentials=new Dg(new Po(Le,rt))}}(this._delegate,i,c,p)},s.prototype.enableNetwork=function(){return function(i){var c=this;return i.asyncQueue.enqueue(function(){return(0,de.mG)(c,void 0,void 0,function(){var p,b;return(0,de.Jh)(this,function(A){switch(A.label){case 0:return[4,Ns(i)];case 1:return p=A.sent(),[4,Cc(i)];case 2:return b=A.sent(),[2,(p.setNetworkEnabled(!0),S=b,j=R(S),j.Or.delete(0),Xh(j))]}var S,j})})})}(Na(po(this._delegate,ua)))},s.prototype.disableNetwork=function(){return function(i){var c=this;return i.asyncQueue.enqueue(function(){return(0,de.mG)(c,void 0,void 0,function(){var p,b;return(0,de.Jh)(this,function(A){switch(A.label){case 0:return[4,Ns(i)];case 1:return p=A.sent(),[4,Cc(i)];case 2:return b=A.sent(),[2,(p.setNetworkEnabled(!1),function(S){return(0,de.mG)(this,void 0,void 0,function(){var j;return(0,de.Jh)(this,function(oe){switch(oe.label){case 0:return(j=R(S)).Or.add(0),[4,vc(j)];case 1:return oe.sent(),j.Br.set("Offline"),[2]}})})}(b))]}})})})}(Na(po(this._delegate,ua)))},s.prototype.enablePersistence=function(i){var c=!1,p=!1;return i&&Op("synchronizeTabs",c=!!i.synchronizeTabs,"experimentalForceOwningTab",p=!!i.experimentalForceOwningTab),c?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,p)},s.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},s.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},s.prototype.waitForPendingWrites=function(){return function(i){var c=this,p=new Pa;return i.asyncQueue.enqueueAndForget(function(){return(0,de.mG)(c,void 0,void 0,function(){var b;return(0,de.Jh)(this,function(A){switch(A.label){case 0:return b=rr,[4,or(i)];case 1:return[2,b.apply(void 0,[A.sent(),p])]}})})}),p.promise}(Na(po(this._delegate,ua)))},s.prototype.onSnapshotsInSync=function(i){return p=i,function(b,A){var S=this,j=new Tp(A);return b.asyncQueue.enqueueAndForget(function(){return(0,de.mG)(S,void 0,void 0,function(){var oe;return(0,de.Jh)(this,function(Ee){switch(Ee.label){case 0:return oe=function(Le,rt){R(Le).Gr.add(rt),rt.next()},[4,Ld(b)];case 1:return[2,oe.apply(void 0,[Ee.sent(),j])]}})})}),function(){j.Wo(),b.asyncQueue.enqueueAndForget(function(){return(0,de.mG)(S,void 0,void 0,function(){var oe;return(0,de.Jh)(this,function(Ee){switch(Ee.label){case 0:return oe=function(Le,rt){R(Le).Gr.delete(rt)},[4,Ld(b)];case 1:return[2,oe.apply(void 0,[Ee.sent(),j])]}})})})}}(Na(po(this._delegate,ua)),Nu(p)?p:{next:p});var p},Object.defineProperty(s.prototype,"app",{get:function(){if(!this.tu)throw new We(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),s.prototype.collection=function(i){try{return new Hp(this,Ig(this._delegate,i))}catch(c){throw sl(c,"collection()","Firestore.collection()")}},s.prototype.doc=function(i){try{return new hd(this,Zf(this._delegate,i))}catch(c){throw sl(c,"doc()","Firestore.doc()")}},s.prototype.collectionGroup=function(i){try{return new Sh(this,function(c,p){if(c=po(c,kc),Wf("collectionGroup","collection id",p),p.indexOf("/")>=0)throw new We(se.INVALID_ARGUMENT,"Invalid collection ID '"+p+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ol(c,null,(b=p,new Nl(Bn.emptyPath(),b)));var b}(this._delegate,i))}catch(c){throw sl(c,"collectionGroup()","Firestore.collectionGroup()")}},s.prototype.runTransaction=function(i){var p,c=this;return function(A,S){var j=this,oe=new Pa;return A.asyncQueue.enqueueAndForget(function(){return(0,de.mG)(j,void 0,void 0,function(){var Ee;return(0,de.Jh)(this,function(Le){switch(Le.label){case 0:return[4,(rt=A,$f(rt).then(function(pt){return pt.datastore}))];case 1:return Ee=Le.sent(),new xl(A.asyncQueue,Ee,S,oe).run(),[2]}var rt})})}),oe.promise}(Na(p=this._delegate),function(A){return function(p){return i(new jp(c,p))}(new qg(p,A))})},s.prototype.batch=function(){var i=this;return Na(this._delegate),new zp(new gu(this._delegate,function(c){return cd(i._delegate,c)}))},s.prototype.loadBundle=function(i){throw new We(se.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},s.prototype.namedQuery=function(i){throw new We(se.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},s}(),ep=function(s){function i(c){var p=this;return(p=s.call(this)||this).firestore=c,p}return(0,de.ZT)(i,s),i.prototype.convertBytes=function(c){return new dd(new ad(c))},i.prototype.convertReference=function(c){var p=this.convertDocumentKey(c,this.firestore._databaseId);return hd.eu(p,this.firestore,null)},i}(Ks),jp=function(){function s(i,c){this._firestore=i,this._delegate=c,this._userDataWriter=new ep(i)}return s.prototype.get=function(i){var c=this,p=mf(i);return this._delegate.get(p).then(function(b){return new $d(c._firestore,new Ml(c._firestore._delegate,c._userDataWriter,b._key,b._document,b.metadata,p.converter))})},s.prototype.set=function(i,c,p){var b=mf(i);return p?(Pp("Transaction.set",p),this._delegate.set(b,c,p)):this._delegate.set(b,c),this},s.prototype.update=function(i,c,p){for(var b,A=[],S=3;S<arguments.length;S++)A[S-3]=arguments[S];var j=mf(i);return 2===arguments.length?this._delegate.update(j,c):(b=this._delegate).update.apply(b,(0,de.ev)([j,c,p],A)),this},s.prototype.delete=function(i){var c=mf(i);return this._delegate.delete(c),this},s}(),zp=function(){function s(i){this._delegate=i}return s.prototype.set=function(i,c,p){var b=mf(i);return p?(Pp("WriteBatch.set",p),this._delegate.set(b,c,p)):this._delegate.set(b,c),this},s.prototype.update=function(i,c,p){for(var b,A=[],S=3;S<arguments.length;S++)A[S-3]=arguments[S];var j=mf(i);return 2===arguments.length?this._delegate.update(j,c):(b=this._delegate).update.apply(b,(0,de.ev)([j,c,p],A)),this},s.prototype.delete=function(i){var c=mf(i);return this._delegate.delete(c),this},s.prototype.commit=function(){return this._delegate.commit()},s}(),tp=function(){function s(i,c,p){this._firestore=i,this._userDataWriter=c,this._delegate=p}return s.prototype.fromFirestore=function(i,c){var p=new Ud(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new Wd(this._firestore,p),null!=c?c:{})},s.prototype.toFirestore=function(i,c){return c?this._delegate.toFirestore(i,c):this._delegate.toFirestore(i)},s.nu=function(i,c){var p=s.su,b=p.get(i);b||(b=new WeakMap,p.set(i,b));var A=b.get(c);return A||(A=new s(i,new ep(i),c),b.set(c,A)),A},s}();tp.su=new WeakMap;var hd=function(){function s(i,c){this.firestore=i,this._delegate=c,this._userDataWriter=new ep(i)}return s.iu=function(i,c,p){if(i.length%2!=0)throw new We(se.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i.canonicalString()+" has "+i.length);return new s(c,new As(c._delegate,p,new di(i)))},s.eu=function(i,c,p){return new s(c,new As(c._delegate,p,i))},Object.defineProperty(s.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){return new Hp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),s.prototype.collection=function(i){try{return new Hp(this.firestore,Ig(this._delegate,i))}catch(c){throw sl(c,"collection()","DocumentReference.collection()")}},s.prototype.isEqual=function(i){return(i=(0,Oe.m9)(i))instanceof As&&ja(this._delegate,i)},s.prototype.set=function(i,c){c=Pp("DocumentReference.set",c);try{return function(p,b,A){p=po(p,As);var S=po(p.firestore,ua),j=Zc(p.converter,b,A);return cd(S,[Yf(zd(S),"setDoc",p._key,j,null!==p.converter,A).toMutation(p._key,Fa.none())])}(this._delegate,i,c)}catch(p){throw sl(p,"setDoc()","DocumentReference.set()")}},s.prototype.update=function(i,c){for(var p=[],b=2;b<arguments.length;b++)p[b-2]=arguments[b];try{return 1===arguments.length?gf(this._delegate,i):gf.apply(void 0,(0,de.ev)([this._delegate,i,c],p))}catch(A){throw sl(A,"updateDoc()","DocumentReference.update()")}},s.prototype.delete=function(){return cd(po((i=this._delegate).firestore,ua),[new Ll(i._key,Fa.none())]);var i},s.prototype.onSnapshot=function(){for(var i=this,c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];var b=Vp(c),A=Up(c,function(S){return new $d(i.firestore,new Ml(i.firestore._delegate,i._userDataWriter,S._key,S._document,S.metadata,i._delegate.converter))});return Hg(this._delegate,b,A)},s.prototype.get=function(i){var c=this;return("cache"===(null==i?void 0:i.source)?function(p){p=po(p,As);var b=po(p.firestore,ua),A=Na(b),S=new Gd(b);return function(j,oe){var Ee=this,Le=new Pa;return j.asyncQueue.enqueueAndForget(function(){return(0,de.mG)(Ee,void 0,void 0,function(){var rt;return(0,de.Jh)(this,function(pt){switch(pt.label){case 0:return rt=function(Bt,Ut,Yt){return(0,de.mG)(this,void 0,void 0,function(){var En,Vn;return(0,de.Jh)(this,function(xi){switch(xi.label){case 0:return xi.trys.push([0,2,,3]),[4,(Ii=Bt,Pr=Ut,bo=R(Ii),bo.persistence.runTransaction("read document","readonly",function(ms){return bo.Mn.mn(ms,Pr)}))];case 1:return(Vn=xi.sent()).isFoundDocument()?Yt.resolve(Vn):Vn.isNoDocument()?Yt.resolve(null):Yt.reject(new We(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return En=xi.sent(),Vn=mh(En,"Failed to get document '"+Ut+" from cache"),Yt.reject(Vn),[3,3];case 3:return[2]}var Ii,Pr,bo})})},[4,wh(j)];case 1:return[2,rt.apply(void 0,[pt.sent(),oe,Le])]}})})}),Le.promise}(A,p._key).then(function(j){return new Ml(b,S,p._key,j,new xh(null!==j&&j.hasLocalMutations,!0),p.converter)})}(this._delegate):"server"===(null==i?void 0:i.source)?function(p){p=po(p,As);var b=po(p.firestore,ua);return ca(Na(b),p._key,{source:"server"}).then(function(A){return Jf(b,p,A)})}(this._delegate):function(p){p=po(p,As);var b=po(p.firestore,ua);return ca(Na(b),p._key).then(function(A){return Jf(b,p,A)})}(this._delegate)).then(function(p){return new $d(c.firestore,new Ml(c.firestore._delegate,c._userDataWriter,p._key,p._document,p.metadata,c._delegate.converter))})},s.prototype.withConverter=function(i){return new s(this.firestore,this._delegate.withConverter(i?tp.nu(this.firestore,i):null))},s}();function sl(s,i,c){return s.message=s.message.replace(i,c),s}function Vp(s){for(var i=0,c=s;i<c.length;i++){var p=c[i];if("object"==typeof p&&!Nu(p))return p}return{}}function Up(s,i){var c,p,b;return{next:function(A){b.next&&b.next(i(A))},error:null===(c=(b=Nu(s[0])?s[0]:Nu(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]}).error)||void 0===c?void 0:c.bind(b),complete:null===(p=b.complete)||void 0===p?void 0:p.bind(b)}}var $d=function(){function s(i,c){this._firestore=i,this._delegate=c}return Object.defineProperty(s.prototype,"ref",{get:function(){return new hd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),s.prototype.data=function(i){return this._delegate.data(i)},s.prototype.get=function(i,c){return this._delegate.get(i,c)},s.prototype.isEqual=function(i){return Wc(this._delegate,i._delegate)},s}(),Wd=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,de.ZT)(i,s),i.prototype.data=function(c){return this._delegate.data(c)},i}($d),Sh=function(){function s(i,c){this.firestore=i,this._delegate=c,this._userDataWriter=new ep(i)}return s.prototype.where=function(i,c,p){try{return new s(this.firestore,Dl(this._delegate,(S=p,j=c,oe=Lu("where",b=i),new pf(oe,j,S))))}catch(b){throw sl(b,/(orderBy|where)\(\)/,"Query.$1()")}var b,S,j,oe},s.prototype.orderBy=function(i,c){try{return new s(this.firestore,Dl(this._delegate,function(p,b){void 0===b&&(b="asc");var A=b,S=Lu("orderBy",p);return new xc(S,A)}(i,c)))}catch(p){throw sl(p,/(orderBy|where)\(\)/,"Query.$1()")}},s.prototype.limit=function(i){try{return new s(this.firestore,Dl(this._delegate,(Sg("limit",c=i),new Ug("limit",c,"F"))))}catch(c){throw sl(c,"limit()","Query.limit()")}var c},s.prototype.limitToLast=function(i){try{return new s(this.firestore,Dl(this._delegate,(Sg("limitToLast",c=i),new Ug("limitToLast",c,"L"))))}catch(c){throw sl(c,"limitToLast()","Query.limitToLast()")}var c},s.prototype.startAt=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];try{return new s(this.firestore,Dl(this._delegate,function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];return new Eh("startAt",p,!0)}.apply(void 0,i)))}catch(p){throw sl(p,"startAt()","Query.startAt()")}},s.prototype.startAfter=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];try{return new s(this.firestore,Dl(this._delegate,function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];return new Eh("startAfter",p,!1)}.apply(void 0,i)))}catch(p){throw sl(p,"startAfter()","Query.startAfter()")}},s.prototype.endBefore=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];try{return new s(this.firestore,Dl(this._delegate,function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];return new qd("endBefore",p,!0)}.apply(void 0,i)))}catch(p){throw sl(p,"endBefore()","Query.endBefore()")}},s.prototype.endAt=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];try{return new s(this.firestore,Dl(this._delegate,function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];return new qd("endAt",p,!1)}.apply(void 0,i)))}catch(p){throw sl(p,"endAt()","Query.endAt()")}},s.prototype.isEqual=function(i){return El(this._delegate,i._delegate)},s.prototype.get=function(i){var c=this;return("cache"===(null==i?void 0:i.source)?function(p){p=po(p,ol);var b=po(p.firestore,ua),A=Na(b),S=new Gd(b);return function(j,oe){var Ee=this,Le=new Pa;return j.asyncQueue.enqueueAndForget(function(){return(0,de.mG)(Ee,void 0,void 0,function(){var rt;return(0,de.Jh)(this,function(pt){switch(pt.label){case 0:return rt=function(Bt,Ut,Yt){return(0,de.mG)(this,void 0,void 0,function(){var En,Vn,xi,Ii,Pr;return(0,de.Jh)(this,function(bo){switch(bo.label){case 0:return bo.trys.push([0,2,,3]),[4,yp(Bt,Ut,!0)];case 1:return Pr=bo.sent(),En=new Cg(Ut,Pr.Bn),Vn=En._o(Pr.documents),xi=En.applyChanges(Vn,!1),Yt.resolve(xi.snapshot),[3,3];case 2:return Ii=bo.sent(),Pr=mh(Ii,"Failed to execute query '"+Ut+" against cache"),Yt.reject(Pr),[3,3];case 3:return[2]}})})},[4,wh(j)];case 1:return[2,rt.apply(void 0,[pt.sent(),oe,Le])]}})})}),Le.promise}(A,p._query).then(function(j){return new Hd(b,S,p,j)})}(this._delegate):"server"===(null==i?void 0:i.source)?function(p){p=po(p,ol);var b=po(p.firestore,ua),A=Na(b),S=new Gd(b);return lf(A,p._query,{source:"server"}).then(function(j){return new Hd(b,S,p,j)})}(this._delegate):function(p){p=po(p,ol);var b=po(p.firestore,ua),A=Na(b),S=new Gd(b);return ff(p._query),lf(A,p._query).then(function(j){return new Hd(b,S,p,j)})}(this._delegate)).then(function(p){return new Gg(c.firestore,new Hd(c.firestore._delegate,c._userDataWriter,c._delegate,p._snapshot))})},s.prototype.onSnapshot=function(){for(var i=this,c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];var b=Vp(c),A=Up(c,function(S){return new Gg(i.firestore,new Hd(i.firestore._delegate,i._userDataWriter,i._delegate,S._snapshot))});return Hg(this._delegate,b,A)},s.prototype.withConverter=function(i){return new s(this.firestore,this._delegate.withConverter(i?tp.nu(this.firestore,i):null))},s}(),o_=function(){function s(i,c){this._firestore=i,this._delegate=c}return Object.defineProperty(s.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"doc",{get:function(){return new Wd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),s}(),Gg=function(){function s(i,c){this._firestore=i,this._delegate=c}return Object.defineProperty(s.prototype,"query",{get:function(){return new Sh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"docs",{get:function(){var i=this;return this._delegate.docs.map(function(c){return new Wd(i._firestore,c)})},enumerable:!1,configurable:!0}),s.prototype.docChanges=function(i){var c=this;return this._delegate.docChanges(i).map(function(p){return new o_(c._firestore,p)})},s.prototype.forEach=function(i,c){var p=this;this._delegate.forEach(function(b){i.call(c,new Wd(p._firestore,b))})},s.prototype.isEqual=function(i){return Wc(this._delegate,i._delegate)},s}(),Hp=function(s){function i(c,p){var b=this;return(b=s.call(this,c,p)||this).firestore=c,b._delegate=p,b}return(0,de.ZT)(i,s),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var c=this._delegate.parent;return c?new hd(this.firestore,c):null},enumerable:!1,configurable:!0}),i.prototype.doc=function(c){try{return new hd(this.firestore,void 0===c?Zf(this._delegate):Zf(this._delegate,c))}catch(p){throw sl(p,"doc()","CollectionReference.doc()")}},i.prototype.add=function(c){var b,A,S,j,oe,p=this;return(b=this._delegate,A=c,S=po(b.firestore,ua),j=Zf(b),oe=Zc(b.converter,A),cd(S,[Yf(zd(b.firestore),"addDoc",j._key,oe,null!==b.converter,{}).toMutation(j._key,Fa.exists(!1))]).then(function(){return j})).then(function(b){return new hd(p.firestore,b)})},i.prototype.isEqual=function(c){return ja(this._delegate,c._delegate)},i.prototype.withConverter=function(c){return new i(this.firestore,this._delegate.withConverter(c?tp.nu(this.firestore,c):null))},i}(Sh);function mf(s){return po(s,As)}var s_=function(){function s(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._delegate=new(Ru.bind.apply(Ru,(0,de.ev)([void 0],i)))}return s.documentId=function(){return new s(hs.keyField().canonicalString())},s.prototype.isEqual=function(i){return(i=(0,Oe.m9)(i))instanceof Ru&&this._delegate._internalPath.isEqual(i._internalPath)},s}(),Im=function(){function s(i){this._delegate=i}return s.serverTimestamp=function(){var i=new Em("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new s(i)},s.delete=function(){var i=new Fg("deleteField");return i._methodName="FieldValue.delete",new s(i)},s.arrayUnion=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var p=function(){for(var b=[],A=0;A<arguments.length;A++)b[A]=arguments[A];return new r_("arrayUnion",b)}.apply(void 0,i);return p._methodName="FieldValue.arrayUnion",new s(p)},s.arrayRemove=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var p=function(){for(var b=[],A=0;A<arguments.length;A++)b[A]=arguments[A];return new Mm("arrayRemove",b)}.apply(void 0,i);return p._methodName="FieldValue.arrayRemove",new s(p)},s.increment=function(i){var c=new Dm("increment",i);return c._methodName="FieldValue.increment",new s(c)},s.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},s}(),mu=X(8391),Pm={Firestore:Bp,GeoPoint:Ah,Timestamp:ht,Blob:dd,Transaction:jp,WriteBatch:zp,DocumentReference:hd,DocumentSnapshot:$d,Query:Sh,QueryDocumentSnapshot:Wd,QuerySnapshot:Gg,CollectionReference:Hp,FieldPath:s_,FieldValue:Im,setLogLevel:function(s){$n.setLogLevel(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){s.INTERNAL.registerComponent(new mu.wA("firestore",function(p){return i=p.getProvider("app").getImmediate(),c=p.getProvider("auth-internal"),new Bp(i,new ua(i,c),new Xf);var i,c},"PUBLIC").setServiceProps(Object.assign({},Pm))),s.registerVersion("@firebase/firestore","2.4.0")}($e.Z);var Om=X(2008);function C(s,i){return function(s,i=B.z){return new he.y(c=>{let p;return null!=i?i.schedule(()=>{p=s.onSnapshot({includeMetadataChanges:!0},c)}):p=s.onSnapshot({includeMetadataChanges:!0},c),()=>{null!=p&&p()}})}(s,i)}function te(s,i){return C(s,i).pipe((0,ge.U)(c=>({payload:c,type:"query"})))}function xe(s,i){return te(s,i).pipe((0,fe.O)(void 0),De(),(0,ge.U)(([c,p])=>{const b=p.payload.docChanges(),A=b.map(S=>({type:S.type,payload:S}));return c&&JSON.stringify(c.payload.metadata)!==JSON.stringify(p.payload.metadata)&&p.payload.docs.forEach((S,j)=>{const oe=b.find(Le=>Le.doc.ref.isEqual(S.ref)),Ee=null==c?void 0:c.payload.docs.find(Le=>Le.ref.isEqual(S.ref));oe&&JSON.stringify(oe.doc.metadata)===JSON.stringify(S.metadata)||!oe&&Ee&&JSON.stringify(Ee.metadata)===JSON.stringify(S.metadata)||A.push({type:"modified",payload:{oldIndex:j,newIndex:j,type:"modified",doc:S}})}),A}))}function qe(s,i,c){return xe(s,c).pipe((0,_e.R)((p,b)=>function(s,i,c){return i.forEach(p=>{c.indexOf(p.type)>-1&&(s=function(s,i){switch(i.type){case"added":if(!s[i.newIndex]||!s[i.newIndex].doc.ref.isEqual(i.doc.ref))return kt(s,i.newIndex,0,i);break;case"modified":if(null==s[i.oldIndex]||s[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const c=s.slice();return c.splice(i.oldIndex,1),c.splice(i.newIndex,0,i),c}return kt(s,i.newIndex,1,i)}break;case"removed":if(s[i.oldIndex]&&s[i.oldIndex].doc.ref.isEqual(i.doc.ref))return kt(s,i.oldIndex,1)}return s}(s,p))}),s}(p,b.map(A=>A.payload),i),[]),(0,Te.x)(),(0,ge.U)(p=>p.map(b=>({type:b.type,payload:b}))))}function kt(s,i,c,...p){const b=s.slice();return b.splice(i,c,...p),b}function ln(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class hn{constructor(i,c,p){this.ref=i,this.query=c,this.afs=p}stateChanges(i){let c=xe(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(c=c.pipe((0,ge.U)(p=>p.filter(b=>i.indexOf(b.type)>-1)))),c.pipe((0,fe.O)(void 0),De(),(0,we.h)(([p,b])=>b.length>0||!p),(0,ge.U)(([p,b])=>b),this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe((0,_e.R)((c,p)=>[...c,...p],[]))}snapshotChanges(i){const c=ln(i);return qe(this.query,c,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return te(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(c=>c.payload.docs.map(p=>i.idField?Object.assign(Object.assign({},p.data()),{[i.idField]:p.id}):p.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,Ne.D)(this.query.get(i)).pipe((0,Ve.QV)(this.afs.schedulers.insideAngular))}add(i){return this.ref.add(i)}doc(i){return new bn(this.ref.doc(i),this.afs)}}class bn{constructor(i,c){this.ref=i,this.afs=c}set(i,c){return this.ref.set(i,c)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,c){const p=this.ref.collection(i),{ref:b,query:A}=zr(p,c);return new hn(b,A,this.afs)}snapshotChanges(){return function(s,i){return C(s,i).pipe((0,fe.O)(void 0),De(),(0,ge.U)(([c,p])=>p.exists?(null==c?void 0:c.exists)?{payload:p,type:"modified"}:{payload:p,type:"added"}:{payload:p,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:c})=>i.idField?Object.assign(Object.assign({},c.data()),{[i.idField]:c.id}):c.data()))}get(i){return(0,Ne.D)(this.ref.get(i)).pipe((0,Ve.QV)(this.afs.schedulers.insideAngular))}}class Wn{constructor(i,c){this.query=i,this.afs=c}stateChanges(i){return i&&0!==i.length?xe(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(c=>c.filter(p=>i.indexOf(p.type)>-1)),(0,we.h)(c=>c.length>0),this.afs.keepUnstableUntilFirst):xe(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe((0,_e.R)((c,p)=>[...c,...p],[]))}snapshotChanges(i){const c=ln(i);return qe(this.query,c,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return te(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(p=>p.payload.docs.map(b=>i.idField?Object.assign({[i.idField]:b.id},b.data()):b.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,Ne.D)(this.query.get(i)).pipe((0,Ve.QV)(this.afs.schedulers.insideAngular))}}const hi=new m.OlP("angularfire2.enableFirestorePersistence"),ti=new m.OlP("angularfire2.firestore.persistenceSettings"),lr=new m.OlP("angularfire2.firestore.settings"),zi=new m.OlP("angularfire2.firestore.use-emulator");function zr(s,i=(c=>c)){return{query:i(s),ref:s}}let Cr=(()=>{class s{constructor(c,p,b,A,S,j,oe,Ee,Le){this.schedulers=new Xe.HU(j),this.keepUnstableUntilFirst=(0,Xe.ss)(this.schedulers);const rt=(0,Xe.on)(c,j,p);!ct.Z.auth&&Le&&(0,Xe.yq)();const pt=Ee;[this.firestore,this.persistenceEnabled$]=(0,Xe.sI)(`${rt.name}.firestore`,"AngularFirestore",rt,()=>{const Bt=j.runOutsideAngular(()=>rt.firestore());if(A&&Bt.settings(A),pt&&Bt.useEmulator(...pt),b&&!(0,Se.PM)(S)){const Ut=()=>{try{return(0,Ne.D)(Bt.enablePersistence(oe||void 0).then(()=>!0,()=>!1))}catch(Yt){return"undefined"!=typeof console&&console.warn(Yt),(0,ce.of)(!1)}};return[Bt,j.runOutsideAngular(Ut)]}return[Bt,(0,ce.of)(!1)]},[A,pt,b])}collection(c,p){let b;b="string"==typeof c?this.firestore.collection(c):c;const{ref:A,query:S}=zr(b,p),j=this.schedulers.ngZone.run(()=>A);return new hn(j,S,this)}collectionGroup(c,p){const b=p||(S=>S),A=this.firestore.collectionGroup(c);return new Wn(b(A),this)}doc(c){let p;p="string"==typeof c?this.firestore.doc(c):c;const b=this.schedulers.ngZone.run(()=>p);return new bn(b,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(c){return new(c||s)(m.LFG(Xe.Dh),m.LFG(Xe.xv,8),m.LFG(hi,8),m.LFG(lr,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(ti,8),m.LFG(zi,8),m.LFG(Om.Qv,8))},s.\u0275prov=m.Yz7({factory:function(){return new s(m.LFG(Xe.Dh),m.LFG(Xe.xv,8),m.LFG(hi,8),m.LFG(lr,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(ti,8),m.LFG(zi,8),m.LFG(Om.Qv,8))},token:s,providedIn:"any"}),s})(),Ul=(()=>{class s{static enablePersistence(c){return{ngModule:s,providers:[{provide:hi,useValue:!0},{provide:ti,useValue:c}]}}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[Cr]}),s})()},9629:(Jt,vt,X)=>{"use strict";X.d(vt,{Q1:()=>ya,TE:()=>Er});var m=X(5548),B=X(2411),he=X(1915),Ne=X(5686),ce=X(8053),U=X(9254),De=X(9204),Y=X(9619),be=X(436),fe=X(417),ge=X(4762),_e=X(8305),Te=X(8391),we="firebasestorage.googleapis.com",Ve="storageBucket",ct=function(ie){function ne(Be,it){var V=ie.call(this,$e(Be),"Firebase Storage: "+it+" ("+$e(Be)+")")||this;return V.customData={serverResponse:null},V._baseMessage=V.message,Object.setPrototypeOf(V,ne.prototype),V}return(0,ge.ZT)(ne,ie),ne.prototype._codeEquals=function(Be){return $e(Be)===this.code},Object.defineProperty(ne.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(Be){this.customData.serverResponse=Be,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),ne}(_e.ZR);function $e(ie){return"storage/"+ie}function de(){return new ct("unknown","An unknown error occurred, please check the error payload for server response.")}function At(){return new ct("canceled","User canceled the upload/download.")}function ze(){return new ct("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Qe(ie){return new ct("invalid-argument",ie)}function It(){return new ct("app-deleted","The Firebase app was deleted.")}function Vt(ie){return new ct("invalid-root-operation","The operation '"+ie+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ht(ie,ne){return new ct("invalid-format","String does not match format '"+ie+"': "+ne)}function jt(ie){throw new ct("internal-error","Internal error: "+ie)}var lt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},$t=function(ne,Be){this.data=ne,this.contentType=Be||null};function _t(ie,ne){switch(ie){case lt.RAW:return new $t(Et(ne));case lt.BASE64:case lt.BASE64URL:return new $t(jn(ie,ne));case lt.DATA_URL:return new $t(function(ie){var ne=new Zi(ie);return ne.base64?jn(lt.BASE64,ne.rest):function(ie){var ne;try{ne=decodeURIComponent(ie)}catch(Be){throw Ht(lt.DATA_URL,"Malformed data URL.")}return Et(ne)}(ne.rest)}(ne),function(ie){return new Zi(ie).contentType}(ne))}throw de()}function Et(ie){for(var ne=[],Be=0;Be<ie.length;Be++){var it=ie.charCodeAt(Be);if(it<=127)ne.push(it);else if(it<=2047)ne.push(192|it>>6,128|63&it);else if(55296==(64512&it))if(Be<ie.length-1&&56320==(64512&ie.charCodeAt(Be+1))){var le=it,W=ie.charCodeAt(++Be);ne.push(240|(it=65536|(1023&le)<<10|1023&W)>>18,128|it>>12&63,128|it>>6&63,128|63&it)}else ne.push(239,191,189);else 56320==(64512&it)?ne.push(239,191,189):ne.push(224|it>>12,128|it>>6&63,128|63&it)}return new Uint8Array(ne)}function jn(ie,ne){switch(ie){case lt.BASE64:var Be=-1!==ne.indexOf("-"),it=-1!==ne.indexOf("_");if(Be||it)throw Ht(ie,"Invalid character '"+(Be?"-":"_")+"' found: is it base64url encoded?");break;case lt.BASE64URL:var le=-1!==ne.indexOf("+"),W=-1!==ne.indexOf("/");if(le||W)throw Ht(ie,"Invalid character '"+(le?"+":"/")+"' found: is it base64 encoded?");ne=ne.replace(/-/g,"+").replace(/_/g,"/")}var ve;try{ve=function(ie){return atob(ie)}(ne)}catch(G){throw Ht(ie,"Invalid character found")}for(var Ze=new Uint8Array(ve.length),z=0;z<ve.length;z++)Ze[z]=ve.charCodeAt(z);return Ze}var Zi=function(ne){this.base64=!1,this.contentType=null;var Be=ne.match(/^data:([^,]+)?,/);if(null===Be)throw Ht(lt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var it=Be[1]||null;null!=it&&(this.base64=function(ie,ne){return ie.length>=ne.length&&ie.substring(ie.length-ne.length)===ne}(it,";base64"),this.contentType=this.base64?it.substring(0,it.length-";base64".length):it),this.rest=ne.substring(ne.indexOf(",")+1)},Cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function si(ie){switch(ie){case"running":case"pausing":case"canceling":return Cn.RUNNING;case"paused":return Cn.PAUSED;case"success":return Cn.SUCCESS;case"canceled":return Cn.CANCELED;default:return Cn.ERROR}}var Zn=(()=>{return(ie=Zn||(Zn={}))[ie.NO_ERROR=0]="NO_ERROR",ie[ie.NETWORK_ERROR=1]="NETWORK_ERROR",ie[ie.ABORT=2]="ABORT",Zn;var ie})(),ai=function(){function ie(){var ne=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Zn.NO_ERROR,this.sendPromise_=new Promise(function(Be){ne.xhr_.addEventListener("abort",function(){ne.errorCode_=Zn.ABORT,Be()}),ne.xhr_.addEventListener("error",function(){ne.errorCode_=Zn.NETWORK_ERROR,Be()}),ne.xhr_.addEventListener("load",function(){Be()})})}return ie.prototype.send=function(ne,Be,it,V){if(this.sent_)throw jt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Be,ne,!0),void 0!==V)for(var le in V)V.hasOwnProperty(le)&&this.xhr_.setRequestHeader(le,V[le].toString());return void 0!==it?this.xhr_.send(it):this.xhr_.send(),this.sendPromise_},ie.prototype.getErrorCode=function(){if(!this.sent_)throw jt("cannot .getErrorCode() before sending");return this.errorCode_},ie.prototype.getStatus=function(){if(!this.sent_)throw jt("cannot .getStatus() before sending");try{return this.xhr_.status}catch(ne){return-1}},ie.prototype.getResponseText=function(){if(!this.sent_)throw jt("cannot .getResponseText() before sending");return this.xhr_.responseText},ie.prototype.abort=function(){this.xhr_.abort()},ie.prototype.getResponseHeader=function(ne){return this.xhr_.getResponseHeader(ne)},ie.prototype.addUploadProgressListener=function(ne){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",ne)},ie.prototype.removeUploadProgressListener=function(ne){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",ne)},ie}(),Di=function(){function ie(){}return ie.prototype.createConnection=function(){return new ai},ie}(),Ei=function(){function ie(ne,Be){this.bucket=ne,this.path_=Be}return Object.defineProperty(ie.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),ie.prototype.fullServerUrl=function(){var ne=encodeURIComponent;return"/b/"+ne(this.bucket)+"/o/"+ne(this.path)},ie.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},ie.makeFromBucketSpec=function(ne,Be){var it;try{it=ie.makeFromUrl(ne,Be)}catch(V){return new ie(ne,"")}if(""===it.path)return it;throw function(ie){return new ct("invalid-default-bucket","Invalid default bucket '"+ie+"'.")}(ne)},ie.makeFromUrl=function(ne,Be){var it=null,V="([A-Za-z0-9.\\-_]+)",ve=new RegExp("^gs://"+V+"(/(.*))?$","i");function z(mo){mo.path_=decodeURIComponent(mo.path)}for(var $=Be.replace(/[.]/g,"\\."),yr=[{regex:ve,indices:{bucket:1,path:3},postModify:function(mo){"/"===mo.path.charAt(mo.path.length-1)&&(mo.path_=mo.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+$+"/v[A-Za-z0-9_]+/b/"+V+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:z},{regex:new RegExp("^https?://"+(Be===we?"(?:storage.googleapis.com|storage.cloud.google.com)":Be)+"/"+V+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:z}],uo=0;uo<yr.length;uo++){var Sr=yr[uo],ho=Sr.regex.exec(ne);if(ho){var ri=ho[Sr.indices.path];ri||(ri=""),it=new ie(ho[Sr.indices.bucket],ri),Sr.postModify(it);break}}if(null==it)throw function(ie){return new ct("invalid-url","Invalid URL '"+ie+"'.")}(ne);return it},ie}(),Vo=function(){function ie(ne){this.promise_=Promise.reject(ne)}return ie.prototype.getPromise=function(){return this.promise_},ie.prototype.cancel=function(ne){},ie}();function Gn(ie){return"string"==typeof ie||ie instanceof String}function Hn(ie){return Vr()&&ie instanceof Blob}function Vr(){return"undefined"!=typeof Blob}function _i(ie,ne,Be,it){if(it<ne)throw Qe("Invalid value for '"+ie+"'. Expected "+ne+" or greater.");if(it>Be)throw Qe("Invalid value for '"+ie+"'. Expected "+Be+" or less.")}function cr(ie,ne){var Be=ne.match(/^(\w+):\/\/.+/),V=ne;return null==(null==Be?void 0:Be[1])&&(V="https://"+ne),V+"/v0"+ie}function Ni(ie){var ne=encodeURIComponent,Be="?";for(var it in ie)ie.hasOwnProperty(it)&&(Be=Be+(ne(it)+"=")+ne(ie[it])+"&");return Be.slice(0,-1)}var Ri=function(){function ie(ne,Be,it,V,le,W,ve,Ze,z,G,$){var Ce=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=ne,this.method_=Be,this.headers_=it,this.body_=V,this.successCodes_=le.slice(),this.additionalRetryCodes_=W.slice(),this.callback_=ve,this.errorCallback_=Ze,this.progressCallback_=G,this.timeout_=z,this.pool_=$,this.promise_=new Promise(function(xt,nn){Ce.resolve_=xt,Ce.reject_=nn,Ce.start_()})}return ie.prototype.start_=function(){var ne=this;function it(V,le){var W=ne.resolve_,ve=ne.reject_,Ze=le.connection;if(le.wasSuccessCode)try{var z=ne.callback_(Ze,Ze.getResponseText());!function(ie){return void 0!==ie}(z)?W():W(z)}catch($){ve($)}else if(null!==Ze)(G=de()).serverResponse=Ze.getResponseText(),ve(ne.errorCallback_?ne.errorCallback_(Ze,G):G);else if(le.canceled)ve(G=ne.appDelete_?It():At());else{var G;ve(G=new ct("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?it(0,new nr(!1,null,!0)):this.backoffId_=function(ie,ne,Be){var it=1,V=null,le=!1,W=0;function ve(){return 2===W}var Ze=!1;function z(){for(var nn=[],_n=0;_n<arguments.length;_n++)nn[_n]=arguments[_n];Ze||(Ze=!0,ne.apply(null,nn))}function G(nn){V=setTimeout(function(){V=null,ie($,ve())},nn)}function $(nn){for(var _n=[],ni=1;ni<arguments.length;ni++)_n[ni-1]=arguments[ni];if(!Ze){if(nn)return void z.call.apply(z,(0,ge.ev)([null,nn],_n));var Fi;if(ve()||le)return void z.call.apply(z,(0,ge.ev)([null,nn],_n));it<64&&(it*=2),1===W?(W=2,Fi=0):Fi=1e3*(it+Math.random()),G(Fi)}}var Ce=!1;function xt(nn){Ce||(Ce=!0,!Ze&&(null!==V?(nn||(W=2),clearTimeout(V),G(0)):nn||(W=1)))}return G(0),setTimeout(function(){le=!0,xt(!0)},Be),xt}(function(V,le){if(le)V(!1,new nr(!1,null,!0));else{var W=ne.pool_.createConnection();ne.pendingConnection_=W,null!==ne.progressCallback_&&W.addUploadProgressListener(ve),W.send(ne.url_,ne.method_,ne.body_,ne.headers_).then(function(){null!==ne.progressCallback_&&W.removeUploadProgressListener(ve),ne.pendingConnection_=null;var Ze=W.getErrorCode()===Zn.NO_ERROR,z=W.getStatus();if(Ze&&!ne.isRetryStatusCode_(z)){var $=-1!==ne.successCodes_.indexOf(z);V(!0,new nr($,W))}else{var G=W.getErrorCode()===Zn.ABORT;V(!1,new nr(!1,null,G))}})}function ve(Ze){null!==ne.progressCallback_&&ne.progressCallback_(Ze.loaded,Ze.lengthComputable?Ze.total:-1)}},it,this.timeout_)},ie.prototype.getPromise=function(){return this.promise_},ie.prototype.cancel=function(ne){this.canceled_=!0,this.appDelete_=ne||!1,null!==this.backoffId_&&function(ie){ie(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},ie.prototype.isRetryStatusCode_=function(ne){var Be=ne>=500&&ne<600,V=-1!==[408,429].indexOf(ne),le=-1!==this.additionalRetryCodes_.indexOf(ne);return Be||V||le},ie}(),nr=function(ne,Be,it){this.wasSuccessCode=ne,this.connection=Be,this.canceled=!!it};function Tt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function sn(){for(var ie=[],ne=0;ne<arguments.length;ne++)ie[ne]=arguments[ne];var Be=Tt();if(void 0!==Be){for(var it=new Be,V=0;V<ie.length;V++)it.append(ie[V]);return it.getBlob()}if(Vr())return new Blob(ie);throw new ct("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Qn=function(){function ie(ne,Be){var it=0,V="";Hn(ne)?(this.data_=ne,it=ne.size,V=ne.type):ne instanceof ArrayBuffer?(Be?this.data_=new Uint8Array(ne):(this.data_=new Uint8Array(ne.byteLength),this.data_.set(new Uint8Array(ne))),it=this.data_.length):ne instanceof Uint8Array&&(Be?this.data_=ne:(this.data_=new Uint8Array(ne.length),this.data_.set(ne)),it=ne.length),this.size_=it,this.type_=V}return ie.prototype.size=function(){return this.size_},ie.prototype.type=function(){return this.type_},ie.prototype.slice=function(ne,Be){if(Hn(this.data_)){var V=function(ie,ne,Be){return ie.webkitSlice?ie.webkitSlice(ne,Be):ie.mozSlice?ie.mozSlice(ne,Be):ie.slice?ie.slice(ne,Be):null}(this.data_,ne,Be);return null===V?null:new ie(V)}return new ie(new Uint8Array(this.data_.buffer,ne,Be-ne),!0)},ie.getBlob=function(){for(var ne=[],Be=0;Be<arguments.length;Be++)ne[Be]=arguments[Be];if(Vr()){var it=ne.map(function(Ze){return Ze instanceof ie?Ze.data_:Ze});return new ie(sn.apply(null,it))}var V=ne.map(function(Ze){return Gn(Ze)?_t(lt.RAW,Ze).data:Ze.data_}),le=0;V.forEach(function(Ze){le+=Ze.byteLength});var W=new Uint8Array(le),ve=0;return V.forEach(function(Ze){for(var z=0;z<Ze.length;z++)W[ve++]=Ze[z]}),new ie(W,!0)},ie.prototype.uploadData=function(){return this.data_},ie}();function Fn(ie){var ne;try{ne=JSON.parse(ie)}catch(Be){return null}return function(ie){return"object"==typeof ie&&!Array.isArray(ie)}(ne)?ne:null}function Lr(ie){var ne=ie.lastIndexOf("/",ie.length-2);return-1===ne?ie:ie.slice(ne+1)}function Qr(ie,ne){return ne}var hr=function(ne,Be,it,V){this.server=ne,this.local=Be||ne,this.writable=!!it,this.xform=V||Qr},Pt=null;function tt(){if(Pt)return Pt;var ie=[];ie.push(new hr("bucket")),ie.push(new hr("generation")),ie.push(new hr("metageneration")),ie.push(new hr("name","fullPath",!0));var Be=new hr("name");Be.xform=function(le,W){return function(ie){return!Gn(ie)||ie.length<2?ie:Lr(ie)}(W)},ie.push(Be);var V=new hr("size");return V.xform=function(le,W){return void 0!==W?Number(W):W},ie.push(V),ie.push(new hr("timeCreated")),ie.push(new hr("updated")),ie.push(new hr("md5Hash",null,!0)),ie.push(new hr("cacheControl",null,!0)),ie.push(new hr("contentDisposition",null,!0)),ie.push(new hr("contentEncoding",null,!0)),ie.push(new hr("contentLanguage",null,!0)),ie.push(new hr("contentType",null,!0)),ie.push(new hr("metadata","customMetadata",!0)),Pt=ie}function Tn(ie,ne,Be){var it=Fn(ne);return null===it?null:function(ie,ne,Be){for(var it={type:"file"},V=Be.length,le=0;le<V;le++){var W=Be[le];it[W.local]=W.xform(it,ne[W.server])}return function(ie,ne){Object.defineProperty(ie,"ref",{get:function(){var le=new Ei(ie.bucket,ie.fullPath);return ne._makeStorageReference(le)}})}(it,ie),it}(ie,it,Be)}function gi(ie,ne){for(var Be={},it=ne.length,V=0;V<it;V++){var le=ne[V];le.writable&&(Be[le.server]=ie[le.local])}return JSON.stringify(Be)}var Ar="prefixes";var fr=function(ne,Be,it,V){this.url=ne,this.method=Be,this.handler=it,this.timeout=V,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function xr(ie){if(!ie)throw de()}function mn(ie,ne){return function(it,V){var le=Tn(ie,V,ne);return xr(null!==le),le}}function Ki(ie){return function(Be,it){var V;return V=401===Be.getStatus()?Be.getResponseText().includes("Firebase App Check token is invalid")?new ct("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ct("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===Be.getStatus()?function(ie){return new ct("quota-exceeded","Quota for bucket '"+ie+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ie.bucket):403===Be.getStatus()?function(ie){return new ct("unauthorized","User does not have permission to access '"+ie+"'.")}(ie.path):it,V.serverResponse=it.serverResponse,V}}function yo(ie){var ne=Ki(ie);return function(it,V){var le=ne(it,V);return 404===it.getStatus()&&(le=function(ie){return new ct("object-not-found","Object '"+ie+"' does not exist.")}(ie.path)),le.serverResponse=V.serverResponse,le}}function qr(ie,ne,Be){var V=cr(ne.fullServerUrl(),ie.host),W=ie.maxOperationRetryTime,ve=new fr(V,"GET",mn(ie,Be),W);return ve.errorHandler=yo(ne),ve}function wo(ie,ne,Be,it,V){var le={};le.prefix=ne.isRoot?"":ne.path+"/",Be&&Be.length>0&&(le.delimiter=Be),it&&(le.pageToken=it),V&&(le.maxResults=V);var ve=cr(ne.bucketOnlyServerUrl(),ie.host),z=ie.maxOperationRetryTime,G=new fr(ve,"GET",function(ie,ne){return function(it,V){var le=function(ie,ne,Be){var it=Fn(Be);return null===it?null:function(ie,ne,Be){var it={prefixes:[],items:[],nextPageToken:Be.nextPageToken};if(Be[Ar])for(var V=0,le=Be[Ar];V<le.length;V++){var ve=le[V].replace(/\/$/,""),Ze=ie._makeStorageReference(new Ei(ne,ve));it.prefixes.push(Ze)}if(Be.items)for(var z=0,G=Be.items;z<G.length;z++)Ze=ie._makeStorageReference(new Ei(ne,G[z].name)),it.items.push(Ze);return it}(ie,ne,it)}(ie,ne,V);return xr(null!==le),le}}(ie,ne.bucket),z);return G.urlParams=le,G.errorHandler=Ki(ne),G}function gr(ie,ne,Be){var it=Object.assign({},Be);return it.fullPath=ie.path,it.size=ne.size(),it.contentType||(it.contentType=function(ie,ne){return ne&&ne.type()||"application/octet-stream"}(0,ne)),it}var Xo=function(ne,Be,it,V){this.current=ne,this.total=Be,this.finalized=!!it,this.metadata=V||null};function xs(ie,ne){var Be=null;try{Be=ie.getResponseHeader("X-Goog-Upload-Status")}catch(V){xr(!1)}return xr(!!Be&&-1!==(ne||["active"]).indexOf(Be)),Be}var Gi=function(ne,Be,it){var V=function(ie){return"function"==typeof ie}(ne)||null!=Be||null!=it;if(V)this.next=ne,this.error=Be,this.complete=it;else{var le=ne;this.next=le.next,this.error=le.error,this.complete=le.complete}};function cs(ie){return function(){for(var ne=[],Be=0;Be<arguments.length;Be++)ne[Be]=arguments[Be];Promise.resolve().then(function(){return ie.apply(void 0,ne)})}}var Oo=function(){function ie(ne,Be,it){var V=this;void 0===it&&(it=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=ne,this._blob=Be,this._metadata=it,this._mappings=tt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(le){V._request=void 0,V._chunkMultiplier=1,le._codeEquals("canceled")?(V._needToFetchStatus=!0,V.completeTransitions_()):(V._error=le,V._transition("error"))},this._metadataErrorHandler=function(le){V._request=void 0,le._codeEquals("canceled")?V.completeTransitions_():(V._error=le,V._transition("error"))},this._promise=new Promise(function(le,W){V._resolve=le,V._reject=W,V._start()}),this._promise.then(null,function(){})}return ie.prototype._makeProgressCallback=function(){var ne=this,Be=this._transferred;return function(it){return ne._updateProgress(Be+it)}},ie.prototype._shouldDoResumable=function(ne){return ne.size()>262144},ie.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},ie.prototype._resolveToken=function(ne){var Be=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(it){var V=it[0],le=it[1];switch(Be._state){case"running":ne(V,le);break;case"canceling":Be._transition("canceled");break;case"pausing":Be._transition("paused")}})},ie.prototype._createResumable=function(){var ne=this;this._resolveToken(function(Be,it){var V=function(ie,ne,Be,it,V){var le=ne.bucketOnlyServerUrl(),W=gr(ne,it,V),ve={name:W.fullPath},Ze=cr(le,ie.host),G={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+it.size(),"X-Goog-Upload-Header-Content-Type":W.contentType,"Content-Type":"application/json; charset=utf-8"},$=gi(W,Be),nn=new fr(Ze,"POST",function(_n){var ni;xs(_n);try{ni=_n.getResponseHeader("X-Goog-Upload-URL")}catch(li){xr(!1)}return xr(Gn(ni)),ni},ie.maxUploadRetryTime);return nn.urlParams=ve,nn.headers=G,nn.body=$,nn.errorHandler=Ki(ne),nn}(ne._ref.storage,ne._ref._location,ne._mappings,ne._blob,ne._metadata),le=ne._ref.storage._makeRequest(V,Be,it);ne._request=le,le.getPromise().then(function(W){ne._request=void 0,ne._uploadUrl=W,ne._needToFetchStatus=!1,ne.completeTransitions_()},ne._errorHandler)})},ie.prototype._fetchStatus=function(){var ne=this,Be=this._uploadUrl;this._resolveToken(function(it,V){var le=function(ie,ne,Be,it){var Ze=new fr(Be,"POST",function(z){var G=xs(z,["active","final"]),$=null;try{$=z.getResponseHeader("X-Goog-Upload-Size-Received")}catch(xt){xr(!1)}$||xr(!1);var Ce=Number($);return xr(!isNaN(Ce)),new Xo(Ce,it.size(),"final"===G)},ie.maxUploadRetryTime);return Ze.headers={"X-Goog-Upload-Command":"query"},Ze.errorHandler=Ki(ne),Ze}(ne._ref.storage,ne._ref._location,Be,ne._blob),W=ne._ref.storage._makeRequest(le,it,V);ne._request=W,W.getPromise().then(function(ve){ve=ve,ne._request=void 0,ne._updateProgress(ve.current),ne._needToFetchStatus=!1,ve.finalized&&(ne._needToFetchMetadata=!0),ne.completeTransitions_()},ne._errorHandler)})},ie.prototype._continueUpload=function(){var ne=this,Be=262144*this._chunkMultiplier,it=new Xo(this._transferred,this._blob.size()),V=this._uploadUrl;this._resolveToken(function(le,W){var ve;try{ve=function(ie,ne,Be,it,V,le,W,ve){var Ze=new Xo(0,0);if(W?(Ze.current=W.current,Ze.total=W.total):(Ze.current=0,Ze.total=it.size()),it.size()!==Ze.total)throw new ct("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var z=Ze.total-Ze.current,G=z;V>0&&(G=Math.min(G,V));var $=Ze.current,nn={"X-Goog-Upload-Command":G===z?"upload, finalize":"upload","X-Goog-Upload-Offset":""+Ze.current},_n=it.slice($,$+G);if(null===_n)throw ze();var yr=new fr(Be,"POST",function(uo,Sr){var mo,ho=xs(uo,["active","final"]),ys=Ze.current+G,ri=it.size();return mo="final"===ho?mn(ne,le)(uo,Sr):null,new Xo(ys,ri,"final"===ho,mo)},ne.maxUploadRetryTime);return yr.headers=nn,yr.body=_n.uploadData(),yr.progressCallback=ve||null,yr.errorHandler=Ki(ie),yr}(ne._ref._location,ne._ref.storage,V,ne._blob,Be,ne._mappings,it,ne._makeProgressCallback())}catch(z){return ne._error=z,void ne._transition("error")}var Ze=ne._ref.storage._makeRequest(ve,le,W);ne._request=Ze,Ze.getPromise().then(function(z){ne._increaseMultiplier(),ne._request=void 0,ne._updateProgress(z.current),z.finalized?(ne._metadata=z.metadata,ne._transition("success")):ne.completeTransitions_()},ne._errorHandler)})},ie.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},ie.prototype._fetchMetadata=function(){var ne=this;this._resolveToken(function(Be,it){var V=qr(ne._ref.storage,ne._ref._location,ne._mappings),le=ne._ref.storage._makeRequest(V,Be,it);ne._request=le,le.getPromise().then(function(W){ne._request=void 0,ne._metadata=W,ne._transition("success")},ne._metadataErrorHandler)})},ie.prototype._oneShotUpload=function(){var ne=this;this._resolveToken(function(Be,it){var V=function(ie,ne,Be,it,V){var le=ne.bucketOnlyServerUrl(),W={"X-Goog-Upload-Protocol":"multipart"},Ze=function(){for(var yr="",uo=0;uo<2;uo++)yr+=Math.random().toString().slice(2);return yr}();W["Content-Type"]="multipart/related; boundary="+Ze;var z=gr(ne,it,V),G=gi(z,Be),xt=Qn.getBlob("--"+Ze+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+G+"\r\n--"+Ze+"\r\nContent-Type: "+z.contentType+"\r\n\r\n",it,"\r\n--"+Ze+"--");if(null===xt)throw ze();var nn={name:z.fullPath},_n=cr(le,ie.host),li=ie.maxUploadRetryTime,Fi=new fr(_n,"POST",mn(ie,Be),li);return Fi.urlParams=nn,Fi.headers=W,Fi.body=xt.uploadData(),Fi.errorHandler=Ki(ne),Fi}(ne._ref.storage,ne._ref._location,ne._mappings,ne._blob,ne._metadata),le=ne._ref.storage._makeRequest(V,Be,it);ne._request=le,le.getPromise().then(function(W){ne._request=void 0,ne._metadata=W,ne._updateProgress(ne._blob.size()),ne._transition("success")},ne._errorHandler)})},ie.prototype._updateProgress=function(ne){var Be=this._transferred;this._transferred=ne,this._transferred!==Be&&this._notifyObservers()},ie.prototype._transition=function(ne){if(this._state!==ne)switch(ne){case"canceling":case"pausing":this._state=ne,void 0!==this._request&&this._request.cancel();break;case"running":var Be="paused"===this._state;this._state=ne,Be&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=ne,this._notifyObservers();break;case"canceled":this._error=At(),this._state=ne,this._notifyObservers()}},ie.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(ie.prototype,"snapshot",{get:function(){var ne=si(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:ne,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),ie.prototype.on=function(ne,Be,it,V){var le=this,W=new Gi(Be,it,V);return this._addObserver(W),function(){le._removeObserver(W)}},ie.prototype.then=function(ne,Be){return this._promise.then(ne,Be)},ie.prototype.catch=function(ne){return this.then(null,ne)},ie.prototype._addObserver=function(ne){this._observers.push(ne),this._notifyObserver(ne)},ie.prototype._removeObserver=function(ne){var Be=this._observers.indexOf(ne);-1!==Be&&this._observers.splice(Be,1)},ie.prototype._notifyObservers=function(){var ne=this;this._finishPromise(),this._observers.slice().forEach(function(it){ne._notifyObserver(it)})},ie.prototype._finishPromise=function(){if(void 0!==this._resolve){var ne=!0;switch(si(this._state)){case Cn.SUCCESS:cs(this._resolve.bind(null,this.snapshot))();break;case Cn.CANCELED:case Cn.ERROR:cs(this._reject.bind(null,this._error))();break;default:ne=!1}ne&&(this._resolve=void 0,this._reject=void 0)}},ie.prototype._notifyObserver=function(ne){switch(si(this._state)){case Cn.RUNNING:case Cn.PAUSED:ne.next&&cs(ne.next.bind(ne,this.snapshot))();break;case Cn.SUCCESS:ne.complete&&cs(ne.complete.bind(ne))();break;default:ne.error&&cs(ne.error.bind(ne,this._error))()}},ie.prototype.resume=function(){var ne="paused"===this._state||"pausing"===this._state;return ne&&this._transition("running"),ne},ie.prototype.pause=function(){var ne="running"===this._state;return ne&&this._transition("pausing"),ne},ie.prototype.cancel=function(){var ne="running"===this._state||"pausing"===this._state;return ne&&this._transition("canceling"),ne},ie}(),No=function(){function ie(ne,Be){this._service=ne,this._location=Be instanceof Ei?Be:Ei.makeFromUrl(Be,ne.host)}return ie.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},ie.prototype._newRef=function(ne,Be){return new ie(ne,Be)},Object.defineProperty(ie.prototype,"root",{get:function(){var ne=new Ei(this._location.bucket,"");return this._newRef(this._service,ne)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"name",{get:function(){return Lr(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"parent",{get:function(){var ne=function(ie){if(0===ie.length)return null;var ne=ie.lastIndexOf("/");return-1===ne?"":ie.slice(0,ne)}(this._location.path);if(null===ne)return null;var Be=new Ei(this._location.bucket,ne);return new ie(this._service,Be)},enumerable:!1,configurable:!0}),ie.prototype._throwIfRoot=function(ne){if(""===this._location.path)throw Vt(ne)},ie}();function Ho(ie){var ne={prefixes:[],items:[]};return es(ie,ne).then(function(){return ne})}function es(ie,ne,Be){return(0,ge.mG)(this,void 0,void 0,function(){var V,le,W;return(0,ge.Jh)(this,function(ve){switch(ve.label){case 0:return[4,qo(ie,{pageToken:Be})];case 1:return V=ve.sent(),(le=ne.prefixes).push.apply(le,V.prefixes),(W=ne.items).push.apply(W,V.items),null==V.nextPageToken?[3,3]:[4,es(ie,ne,V.nextPageToken)];case 2:ve.sent(),ve.label=3;case 3:return[2]}})})}function qo(ie,ne){return(0,ge.mG)(this,void 0,void 0,function(){var Be,it;return(0,ge.Jh)(this,function(V){switch(V.label){case 0:return null!=ne&&"number"==typeof ne.maxResults&&_i("options.maxResults",1,1e3,ne.maxResults),it=wo(ie.storage,ie._location,"/",(Be=ne||{}).pageToken,Be.maxResults),[4,ie.storage.makeRequestWithTokens(it)];case 1:return[2,V.sent().getPromise()]}})})}function lo(ie){return(0,ge.mG)(this,void 0,void 0,function(){var ne;return(0,ge.Jh)(this,function(Be){switch(Be.label){case 0:return ie._throwIfRoot("getDownloadURL"),ne=function(ie,ne,Be){var V=cr(ne.fullServerUrl(),ie.host),W=ie.maxOperationRetryTime,ve=new fr(V,"GET",function(ie,ne){return function(it,V){var le=Tn(ie,V,ne);return xr(null!==le),function(ie,ne,Be){var it=Fn(ne);if(null===it||!Gn(it.downloadTokens))return null;var V=it.downloadTokens;if(0===V.length)return null;var le=encodeURIComponent;return V.split(",").map(function(Ze){var G=ie.fullPath;return cr("/b/"+le(ie.bucket)+"/o/"+le(G),Be)+Ni({alt:"media",token:Ze})})[0]}(le,V,ie.host)}}(ie,Be),W);return ve.errorHandler=yo(ne),ve}(ie.storage,ie._location,tt()),[4,ie.storage.makeRequestWithTokens(ne)];case 1:return[2,Be.sent().getPromise().then(function(it){if(null===it)throw new ct("no-download-url","The given file does not have any download URLs.");return it})]}})})}function co(ie,ne){var Be=function(ie,ne){var Be=ne.split("/").filter(function(it){return it.length>0}).join("/");return 0===ie.length?Be:ie+"/"+Be}(ie._location.path,ne),it=new Ei(ie._location.bucket,Be);return new No(ie.storage,it)}function vr(ie){return/^[A-Za-z]+:\/\//.test(ie)}function Ur(ie,ne){if(ie instanceof ts){var Be=ie;if(null==Be._bucket)throw new ct("no-default-bucket","No default bucket found. Did you set the '"+Ve+"' property when initializing the app?");var it=new No(Be,Be._bucket);return null!=ne?Ur(it,ne):it}return void 0!==ne?co(ie,ne):ie}function bs(ie,ne){if(ne&&vr(ne)){if(ie instanceof ts)return function(ie,ne){return new No(ie,ne)}(ie,ne);throw Qe("To use ref(service, url), the first argument must be a Storage instance.")}return Ur(ie,ne)}function Ls(ie,ne){var Be=null==ne?void 0:ne[Ve];return null==Be?null:Ei.makeFromBucketSpec(Be,ie)}var ts=function(){function ie(ne,Be,it,V,le,W){this.app=ne,this._authProvider=Be,this._appCheckProvider=it,this._pool=V,this._url=le,this._firebaseVersion=W,this._bucket=null,this._host=we,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=le?Ei.makeFromBucketSpec(le,this._host):Ls(this._host,this.app.options)}return Object.defineProperty(ie.prototype,"host",{get:function(){return this._host},set:function(ne){this._host=ne,this._bucket=null!=this._url?Ei.makeFromBucketSpec(this._url,ne):Ls(ne,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(ne){_i("time",0,Number.POSITIVE_INFINITY,ne),this._maxUploadRetryTime=ne},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(ne){_i("time",0,Number.POSITIVE_INFINITY,ne),this._maxOperationRetryTime=ne},enumerable:!1,configurable:!0}),ie.prototype._getAuthToken=function(){return(0,ge.mG)(this,void 0,void 0,function(){var ne,Be;return(0,ge.Jh)(this,function(it){switch(it.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(ne=this._authProvider.getImmediate({optional:!0}))?[4,ne.getToken()]:[3,2];case 1:if(null!==(Be=it.sent()))return[2,Be.accessToken];it.label=2;case 2:return[2,null]}})})},ie.prototype._getAppCheckToken=function(){return(0,ge.mG)(this,void 0,void 0,function(){var ne;return(0,ge.Jh)(this,function(it){switch(it.label){case 0:return(ne=this._appCheckProvider.getImmediate({optional:!0}))?[4,ne.getToken()]:[3,2];case 1:return[2,it.sent().token];case 2:return[2,null]}})})},ie.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(ne){return ne.cancel()}),this._requests.clear()),Promise.resolve()},ie.prototype._makeStorageReference=function(ne){return new No(this,ne)},ie.prototype._makeRequest=function(ne,Be,it){var V=this;if(this._deleted)return new Vo(It());var le=function(ie,ne,Be,it,V,le){var W=Ni(ie.urlParams),ve=ie.url+W,Ze=Object.assign({},ie.headers);return function(ie,ne){ne&&(ie["X-Firebase-GMPID"]=ne)}(Ze,ne),function(ie,ne){null!==ne&&ne.length>0&&(ie.Authorization="Firebase "+ne)}(Ze,Be),function(ie,ne){ie["X-Firebase-Storage-Version"]="webjs/"+(null!=ne?ne:"AppManager")}(Ze,le),function(ie,ne){null!==ne&&(ie["X-Firebase-AppCheck"]=ne)}(Ze,it),new Ri(ve,ie.method,Ze,ie.body,ie.successCodes,ie.additionalRetryCodes,ie.handler,ie.errorHandler,ie.timeout,ie.progressCallback,V)}(ne,this._appId,Be,it,this._pool,this._firebaseVersion);return this._requests.add(le),le.getPromise().then(function(){return V._requests.delete(le)},function(){return V._requests.delete(le)}),le},ie.prototype.makeRequestWithTokens=function(ne){return(0,ge.mG)(this,void 0,void 0,function(){var Be;return(0,ge.Jh)(this,function(le){switch(le.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return Be=le.sent(),[2,this._makeRequest(ne,Be[0],Be[1])]}})})},ie}();function Bs(ie,ne){return bs(ie=(0,_e.m9)(ie),ne)}var ie,ne,$r=function(){function ie(ne,Be,it){this._delegate=ne,this.task=Be,this.ref=it}return Object.defineProperty(ie.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),ie}(),ea=function(){function ie(ne,Be){this._delegate=ne,this._ref=Be,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(ie.prototype,"snapshot",{get:function(){return new $r(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),ie.prototype.then=function(ne,Be){var it=this;return this._delegate.then(function(V){if(ne)return ne(new $r(V,it,it._ref))},Be)},ie.prototype.on=function(ne,Be,it,V){var le=this,W=void 0;return Be&&(W="function"==typeof Be?function(ve){return Be(new $r(ve,le,le._ref))}:{next:Be.next?function(ve){return Be.next(new $r(ve,le,le._ref))}:void 0,complete:Be.complete||void 0,error:Be.error||void 0}),this._delegate.on(ne,W,it||void 0,V||void 0)},ie}(),ta=function(){function ie(ne,Be){this._delegate=ne,this._service=Be}return Object.defineProperty(ie.prototype,"prefixes",{get:function(){var ne=this;return this._delegate.prefixes.map(function(Be){return new js(Be,ne._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"items",{get:function(){var ne=this;return this._delegate.items.map(function(Be){return new js(Be,ne._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),ie}(),js=function(){function ie(ne,Be){this._delegate=ne,this.storage=Be}return Object.defineProperty(ie.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),ie.prototype.toString=function(){return this._delegate.toString()},ie.prototype.child=function(ne){var Be=function(ie,ne){return co(ie,ne)}(this._delegate,ne);return new ie(Be,this.storage)},Object.defineProperty(ie.prototype,"root",{get:function(){return new ie(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"parent",{get:function(){var ne=this._delegate.parent;return null==ne?null:new ie(ne,this.storage)},enumerable:!1,configurable:!0}),ie.prototype.put=function(ne,Be){return this._throwIfRoot("put"),new ea(function(ie,ne,Be){return function(ie,ne,Be){return ie._throwIfRoot("uploadBytesResumable"),new Oo(ie,new Qn(ne),Be)}(ie=(0,_e.m9)(ie),ne,Be)}(this._delegate,ne,Be),this)},ie.prototype.putString=function(ne,Be,it){void 0===Be&&(Be=lt.RAW),this._throwIfRoot("putString");var V=_t(Be,ne),le=(0,ge.pi)({},it);return null==le.contentType&&null!=V.contentType&&(le.contentType=V.contentType),new ea(new Oo(this._delegate,new Qn(V.data,!0),le),this)},ie.prototype.listAll=function(){var ne=this;return function(ie){return Ho(ie=(0,_e.m9)(ie))}(this._delegate).then(function(Be){return new ta(Be,ne.storage)})},ie.prototype.list=function(ne){var Be=this;return function(ie,ne){return qo(ie=(0,_e.m9)(ie),ne)}(this._delegate,ne||void 0).then(function(it){return new ta(it,Be.storage)})},ie.prototype.getMetadata=function(){return function(ie){return function(ie){return(0,ge.mG)(this,void 0,void 0,function(){var ne;return(0,ge.Jh)(this,function(Be){switch(Be.label){case 0:return ie._throwIfRoot("getMetadata"),ne=qr(ie.storage,ie._location,tt()),[4,ie.storage.makeRequestWithTokens(ne)];case 1:return[2,Be.sent().getPromise()]}})})}(ie=(0,_e.m9)(ie))}(this._delegate)},ie.prototype.updateMetadata=function(ne){return function(ie,ne){return function(ie,ne){return(0,ge.mG)(this,void 0,void 0,function(){var Be;return(0,ge.Jh)(this,function(it){switch(it.label){case 0:return ie._throwIfRoot("updateMetadata"),Be=function(ie,ne,Be,it){var le=cr(ne.fullServerUrl(),ie.host),ve=gi(Be,it),z=ie.maxOperationRetryTime,G=new fr(le,"PATCH",mn(ie,it),z);return G.headers={"Content-Type":"application/json; charset=utf-8"},G.body=ve,G.errorHandler=yo(ne),G}(ie.storage,ie._location,ne,tt()),[4,ie.storage.makeRequestWithTokens(Be)];case 1:return[2,it.sent().getPromise()]}})})}(ie=(0,_e.m9)(ie),ne)}(this._delegate,ne)},ie.prototype.getDownloadURL=function(){return function(ie){return lo(ie=(0,_e.m9)(ie))}(this._delegate)},ie.prototype.delete=function(){return this._throwIfRoot("delete"),function(ie){return function(ie){return(0,ge.mG)(this,void 0,void 0,function(){var ne;return(0,ge.Jh)(this,function(Be){switch(Be.label){case 0:return ie._throwIfRoot("deleteObject"),ne=function(ie,ne){var it=cr(ne.fullServerUrl(),ie.host),ve=new fr(it,"DELETE",function(Ze,z){},ie.maxOperationRetryTime);return ve.successCodes=[200,204],ve.errorHandler=yo(ne),ve}(ie.storage,ie._location),[4,ie.storage.makeRequestWithTokens(ne)];case 1:return[2,Be.sent().getPromise()]}})})}(ie=(0,_e.m9)(ie))}(this._delegate)},ie.prototype._throwIfRoot=function(ne){if(""===this._delegate._location.path)throw Vt(ne)},ie}(),Ji=function(){function ie(ne,Be){this.app=ne,this._delegate=Be}return Object.defineProperty(ie.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),ie.prototype.ref=function(ne){if(vr(ne))throw Qe("ref() expected a child path but got a URL, use refFromURL instead.");return new js(Bs(this._delegate,ne),this)},ie.prototype.refFromURL=function(ne){if(!vr(ne))throw Qe("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ei.makeFromUrl(ne,this._delegate.host)}catch(Be){throw Qe("refFromUrl() expected a valid full URL but got an invalid one.")}return new js(Bs(this._delegate,ne),this)},ie.prototype.setMaxUploadRetryTime=function(ne){this._delegate.maxUploadRetryTime=ne},ie.prototype.setMaxOperationRetryTime=function(ne){this._delegate.maxOperationRetryTime=ne},ie.prototype.useEmulator=function(ne,Be,it){void 0===it&&(it={}),function(ie,ne,Be,it){void 0===it&&(it={}),function(ie,ne,Be,it){void 0===it&&(it={}),ie.host="http://"+ne+":"+Be;var V=it.mockUserToken;V&&(ie._overrideAuthToken="string"==typeof V?V:(0,_e.Sg)(V,ie.app.options.projectId))}(ie,ne,Be,it)}(this._delegate,ne,Be,it)},ie}();function $o(ie){const ne=function(ie){return new m.y(ne=>{const Be=W=>ne.next(W);Be(ie.snapshot);const le=ie.on("state_changed",Be);return ie.then(W=>{Be(W),ne.complete()},W=>{Be(ie.snapshot),(W=>{ne.error(W)})(W)}),function(){le()}}).pipe((0,Ne.b)(0))}(ie);return{task:ie,then:ie.then.bind(ie),catch:ie.catch.bind(ie),pause:ie.pause.bind(ie),cancel:ie.cancel.bind(ie),resume:ie.resume.bind(ie),snapshotChanges:()=>ne,percentageChanges:()=>ne.pipe((0,ce.U)(Be=>Be.bytesTransferred/Be.totalBytes*100))}}function Ms(ie,ne,Be){return{getDownloadURL:()=>(0,B.of)(void 0).pipe((0,U.QV)(ne.outsideAngular),(0,De.w)(()=>ie.getDownloadURL()),Be),getMetadata:()=>(0,B.of)(void 0).pipe((0,U.QV)(ne.outsideAngular),(0,De.w)(()=>ie.getMetadata()),Be),delete:()=>(0,he.D)(ie.delete()),child:it=>Ms(ie.child(it),ne,Be),updateMetadata:it=>(0,he.D)(ie.updateMetadata(it)),put:(it,V)=>$o(ie.put(it,V)),putString:(it,V,le)=>$o(ie.putString(it,V,le)),listAll:()=>(0,he.D)(ie.listAll())}}ne={TaskState:Cn,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:lt,Storage:ts,Reference:js},(ie=fe.Z).INTERNAL.registerComponent(new Te.wA("storage",function(ie,ne){var Be=ne.instanceIdentifier,it=ie.getProvider("app").getImmediate(),V=ie.getProvider("auth-internal"),le=ie.getProvider("app-check-internal");return new Ji(it,new ts(it,V,le,new Di,Be,fe.Z.SDK_VERSION))},"PUBLIC").setServiceProps(ne).setMultipleInstances(!0)),ie.registerVersion("@firebase/storage","0.7.0"),X(6019);const Fo=new Y.OlP("angularfire2.storageBucket"),Vs=new Y.OlP("angularfire2.storage.maxUploadRetryTime"),Rr=new Y.OlP("angularfire2.storage.maxOperationRetryTime");let ya=(()=>{class ie{constructor(Be,it,V,le,W,ve,Ze){this.schedulers=new be.HU(W),this.keepUnstableUntilFirst=(0,be.ss)(this.schedulers);const z=(0,be.on)(Be,W,it);this.storage=(0,be.sI)(`${z.name}.storage.${V}`,"AngularFireStorage",z,()=>{const G=W.runOutsideAngular(()=>z.storage(V||void 0));return ve&&G.setMaxUploadRetryTime(ve),Ze&&G.setMaxOperationRetryTime(Ze),G},[ve,Ze])}ref(Be){return Ms(this.storage.ref(Be),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(Be){return Ms(this.storage.refFromURL(Be),this.schedulers,this.keepUnstableUntilFirst)}upload(Be,it,V){return Ms(this.storage.ref(Be),this.schedulers,this.keepUnstableUntilFirst).put(it,V)}}return ie.\u0275fac=function(Be){return new(Be||ie)(Y.LFG(be.Dh),Y.LFG(be.xv,8),Y.LFG(Fo,8),Y.LFG(Y.Lbi),Y.LFG(Y.R0b),Y.LFG(Vs,8),Y.LFG(Rr,8))},ie.\u0275prov=Y.Yz7({factory:function(){return new ie(Y.LFG(be.Dh),Y.LFG(be.xv,8),Y.LFG(Fo,8),Y.LFG(Y.Lbi),Y.LFG(Y.R0b),Y.LFG(Vs,8),Y.LFG(Rr,8))},token:ie,providedIn:"any"}),ie})(),us=(()=>{class ie{}return ie.\u0275fac=function(Be){return new(Be||ie)},ie.\u0275mod=Y.oAB({type:ie}),ie.\u0275inj=Y.cJS({}),ie})(),Er=(()=>{class ie{}return ie.\u0275fac=function(Be){return new(Be||ie)},ie.\u0275mod=Y.oAB({type:ie}),ie.\u0275inj=Y.cJS({providers:[ya],imports:[us]}),ie})()},436:(Jt,vt,X)=>{"use strict";X.d(vt,{hO:()=>vn,xv:()=>Se,Dh:()=>Xe,HU:()=>ge,GT:()=>Ve,sI:()=>Xt,on:()=>de,ss:()=>_e,pX:()=>we,yq:()=>Oe});var m=X(7575),B=X(8178),he=X(5722),Ne=X(2635),ce=X(9254),U=X(9619),De=X(7713);function Y(){}Jt=X.hmd(Jt);class be{constructor(et,Ke=m.N){this.zone=et,this.delegate=Ke}now(){return this.delegate.now()}schedule(et,Ke,je){const ze=this.zone;return this.delegate.schedule(function(Fe){ze.runGuarded(()=>{et.apply(this,[Fe])})},Ke,je)}}class fe{constructor(et){this.zone=et,this.task=null}call(et,Ke){const je=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Y,{},Y,Y)),Ke.pipe((0,he.b)({next:je,complete:je,error:je})).subscribe(et).add(je)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ge{constructor(et){this.ngZone=et,this.outsideAngular=et.runOutsideAngular(()=>new be(Zone.current)),this.insideAngular=et.run(()=>new be(Zone.current,B.z))}}function _e(At){return function(Ke){return(Ke=Ke.lift(new fe(At.ngZone))).pipe((0,Ne.R)(At.outsideAngular),(0,ce.QV)(At.insideAngular))}}const Te=["ngOnDestroy"],we=(At,et,Ke,je={})=>new Proxy(At,{get:(ze,He)=>Ke.runOutsideAngular(()=>{var Fe;if(At[He])return(null===(Fe=null==je?void 0:je.spy)||void 0===Fe?void 0:Fe.get)&&je.spy.get(He,At[He]),At[He];if(Te.indexOf(He)>-1)return()=>{};const Qe=et.toPromise().then(It=>{const Vt=It&&It[He];return"function"==typeof Vt?Vt.bind(It):Vt&&Vt.then?Vt.then(Ht=>Ke.run(()=>Ht)):Ke.run(()=>Vt)});return new Proxy(()=>{},{get:(It,Vt)=>Qe[Vt],apply:(It,Vt,Ht)=>Qe.then(jt=>{var Kt;const lt=jt&&jt(...Ht);return(null===(Kt=null==je?void 0:je.spy)||void 0===Kt?void 0:Kt.apply)&&je.spy.apply(He,Ht,lt),lt})})})}),Ve=(At,et)=>{et.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(je=>{Object.defineProperty(At.prototype,je,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,je))})})},Xe=new U.OlP("angularfire2.app.options"),Se=new U.OlP("angularfire2.app.nameOrConfig"),$e=new U.GfV("6.1.5");function de(At,et,Ke){const ze="object"==typeof Ke&&Ke||{};ze.name=ze.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const Fe=De.Z.apps.filter(Qe=>Qe&&Qe.name===ze.name)[0]||et.runOutsideAngular(()=>De.Z.initializeApp(At,ze));try{JSON.stringify(At)!==JSON.stringify(Fe.options)&&Mt("error",`${Fe.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Qe){}return Fe}const Oe=()=>{Mt("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Mt=(At,...et)=>{(0,U.X6Q)()&&"undefined"!=typeof console&&console[At](...et)};function Xt(At,et,Ke,je,ze){const[He,...Fe]=globalThis.\u0275AngularfireInstanceCache.get(At)||[];if(He){try{ze.some((Qe,It)=>{const Vt=Fe[It];return Qe&&"object"==typeof Qe?JSON.stringify(Qe)!==JSON.stringify(Vt):Qe!==Vt})&&Mt("error",`${et} was already initialized on the ${Ke.name} Firebase App instance with different settings.${Jt.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Qe){}return He}{const Qe=je();return globalThis.\u0275AngularfireInstanceCache.set(At,[Qe,...ze]),Qe}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const qt={provide:class{},useFactory:de,deps:[Xe,U.R0b,[new U.FiY,Se]]};let vn=(()=>{class At{constructor(Ke){De.Z.registerVersion("angularfire",$e.full,Ke.toString()),De.Z.registerVersion("angular",U.q4F.full)}static initializeApp(Ke,je){return{ngModule:At,providers:[{provide:Xe,useValue:Ke},{provide:Se,useValue:je}]}}}return At.\u0275fac=function(Ke){return new(Ke||At)(U.LFG(U.Lbi))},At.\u0275mod=U.oAB({type:At}),At.\u0275inj=U.cJS({providers:[qt]}),At})()},2467:(Jt,vt,X)=>{"use strict";X.d(vt,{u:()=>If,d:()=>sh});var m=X(4762),B=X(9619);const Ne=function(ye){var Ye=typeof ye;return null!=ye&&("object"==Ye||"function"==Ye)},U="object"==typeof global&&global&&global.Object===Object&&global;var De="object"==typeof self&&self&&self.Object===Object&&self;const be=U||De||Function("return this")(),ge=function(){return be.Date.now()};var _e=/\s/;var Ve=/^\s+/;const Se=function(ye){return ye&&ye.slice(0,function(ye){for(var Ye=ye.length;Ye--&&_e.test(ye.charAt(Ye)););return Ye}(ye)+1).replace(Ve,"")},$e=be.Symbol;var de=Object.prototype,Oe=de.hasOwnProperty,Mt=de.toString,dt=$e?$e.toStringTag:void 0;var At=Object.prototype.toString;var He=$e?$e.toStringTag:void 0;const Qe=function(ye){return null==ye?void 0===ye?"[object Undefined]":"[object Null]":He&&He in Object(ye)?function(ye){var Ye=Oe.call(ye,dt),at=ye[dt];try{ye[dt]=void 0;var on=!0}catch(ki){}var vi=Mt.call(ye);return on&&(Ye?ye[dt]=at:delete ye[dt]),vi}(ye):function(ye){return At.call(ye)}(ye)},Vt=function(ye){return null!=ye&&"object"==typeof ye};var $t=/^[-+]0x[0-9a-f]+$/i,_t=/^0b[01]+$/i,Et=/^0o[0-7]+$/i,pn=parseInt;const Zi=function(ye){if("number"==typeof ye)return ye;if(function(ye){return"symbol"==typeof ye||Vt(ye)&&"[object Symbol]"==Qe(ye)}(ye))return NaN;if(Ne(ye)){var Ye="function"==typeof ye.valueOf?ye.valueOf():ye;ye=Ne(Ye)?Ye+"":Ye}if("string"!=typeof ye)return 0===ye?ye:+ye;ye=Se(ye);var at=_t.test(ye);return at||Et.test(ye)?pn(ye.slice(2),at?2:8):$t.test(ye)?NaN:+ye};var kr=Math.max,br=Math.min;const ai=function(ye,Ye,at){var on=!0,vi=!0;if("function"!=typeof ye)throw new TypeError("Expected a function");return Ne(at)&&(on="leading"in at?!!at.leading:on,vi="trailing"in at?!!at.trailing:vi),function(ye,Ye,at){var on,vi,ki,Yi,Oi,Yr,Un=0,La=!1,Sa=!1,$a=!0;if("function"!=typeof ye)throw new TypeError("Expected a function");function dc(Hr){var jl=on,ma=vi;return on=vi=void 0,Un=Hr,Yi=ye.apply(ma,jl)}function hc(Hr){return Un=Hr,Oi=setTimeout(Ql,Ye),La?dc(Hr):Yi}function Kl(Hr){var jl=Hr-Yr;return void 0===Yr||jl>=Ye||jl<0||Sa&&Hr-Un>=ki}function Ql(){var Hr=ge();if(Kl(Hr))return xu(Hr);Oi=setTimeout(Ql,function(Hr){var Uh=Ye-(Hr-Yr);return Sa?br(Uh,ki-(Hr-Un)):Uh}(Hr))}function xu(Hr){return Oi=void 0,$a&&on?dc(Hr):(on=vi=void 0,Yi)}function Qu(){var Hr=ge(),jl=Kl(Hr);if(on=arguments,vi=this,Yr=Hr,jl){if(void 0===Oi)return hc(Yr);if(Sa)return clearTimeout(Oi),Oi=setTimeout(Ql,Ye),dc(Yr)}return void 0===Oi&&(Oi=setTimeout(Ql,Ye)),Yi}return Ye=Zi(Ye)||0,Ne(at)&&(La=!!at.leading,ki=(Sa="maxWait"in at)?kr(Zi(at.maxWait)||0,Ye):ki,$a="trailing"in at?!!at.trailing:$a),Qu.cancel=function(){void 0!==Oi&&clearTimeout(Oi),Un=0,on=Yr=vi=Oi=void 0},Qu.flush=function(){return void 0===Oi?Yi:xu(ge())},Qu}(ye,Ye,{leading:on,maxWait:Ye,trailing:vi})},Vo=function(ye,Ye){return ye===Ye||ye!=ye&&Ye!=Ye},Or=function(ye,Ye){for(var at=ye.length;at--;)if(Vo(ye[at][0],Ye))return at;return-1};var oo=Array.prototype.splice;function nr(ye){var Ye=-1,at=null==ye?0:ye.length;for(this.clear();++Ye<at;){var on=ye[Ye];this.set(on[0],on[1])}}nr.prototype.clear=function(){this.__data__=[],this.size=0},nr.prototype.delete=function(ye){var Ye=this.__data__,at=Or(Ye,ye);return!(at<0||(at==Ye.length-1?Ye.pop():oo.call(Ye,at,1),--this.size,0))},nr.prototype.get=function(ye){var Ye=this.__data__,at=Or(Ye,ye);return at<0?void 0:Ye[at][1]},nr.prototype.has=function(ye){return Or(this.__data__,ye)>-1},nr.prototype.set=function(ye,Ye){var at=this.__data__,on=Or(at,ye);return on<0?(++this.size,at.push([ye,Ye])):at[on][1]=Ye,this};const Pi=nr,hr=function(ye){if(!Ne(ye))return!1;var Ye=Qe(ye);return"[object Function]"==Ye||"[object GeneratorFunction]"==Ye||"[object AsyncFunction]"==Ye||"[object Proxy]"==Ye};var ye,Pt=be["__core-js_shared__"],tt=(ye=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||""))?"Symbol(src)_1."+ye:"";var kn=Function.prototype.toString;const Ar=function(ye){if(null!=ye){try{return kn.call(ye)}catch(Ye){}try{return ye+""}catch(Ye){}}return""};var xo=/^\[object .+?Constructor\]$/,qn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ki=function(ye){return!(!Ne(ye)||function(ye){return!!tt&&tt in ye}(ye))&&(hr(ye)?qn:xo).test(Ar(ye))},Qi=function(ye,Ye){var at=function(ye,Ye){return null==ye?void 0:ye[Ye]}(ye,Ye);return Ki(at)?at:void 0},so=Qi(be,"Map"),gr=Qi(Object,"create");var Nr=Object.prototype.hasOwnProperty;var No=Object.prototype.hasOwnProperty;function Xr(ye){var Ye=-1,at=null==ye?0:ye.length;for(this.clear();++Ye<at;){var on=ye[Ye];this.set(on[0],on[1])}}Xr.prototype.clear=function(){this.__data__=gr?gr(null):{},this.size=0},Xr.prototype.delete=function(ye){var Ye=this.has(ye)&&delete this.__data__[ye];return this.size-=Ye?1:0,Ye},Xr.prototype.get=function(ye){var Ye=this.__data__;if(gr){var at=Ye[ye];return"__lodash_hash_undefined__"===at?void 0:at}return Nr.call(Ye,ye)?Ye[ye]:void 0},Xr.prototype.has=function(ye){var Ye=this.__data__;return gr?void 0!==Ye[ye]:No.call(Ye,ye)},Xr.prototype.set=function(ye,Ye){var at=this.__data__;return this.size+=this.has(ye)?0:1,at[ye]=gr&&void 0===Ye?"__lodash_hash_undefined__":Ye,this};const lo=Xr,bs=function(ye,Ye){var at=ye.__data__;return function(ye){var Ye=typeof ye;return"string"==Ye||"number"==Ye||"symbol"==Ye||"boolean"==Ye?"__proto__"!==ye:null===ye}(Ye)?at["string"==typeof Ye?"string":"hash"]:at.map};function ns(ye){var Ye=-1,at=null==ye?0:ye.length;for(this.clear();++Ye<at;){var on=ye[Ye];this.set(on[0],on[1])}}ns.prototype.clear=function(){this.size=0,this.__data__={hash:new lo,map:new(so||Pi),string:new lo}},ns.prototype.delete=function(ye){var Ye=bs(this,ye).delete(ye);return this.size-=Ye?1:0,Ye},ns.prototype.get=function(ye){return bs(this,ye).get(ye)},ns.prototype.has=function(ye){return bs(this,ye).has(ye)},ns.prototype.set=function(ye,Ye){var at=bs(this,ye),on=at.size;return at.set(ye,Ye),this.size+=at.size==on?0:1,this};const Xs=ns;function $r(ye){var Ye=this.__data__=new Pi(ye);this.size=Ye.size}$r.prototype.clear=function(){this.__data__=new Pi,this.size=0},$r.prototype.delete=function(ye){var Ye=this.__data__,at=Ye.delete(ye);return this.size=Ye.size,at},$r.prototype.get=function(ye){return this.__data__.get(ye)},$r.prototype.has=function(ye){return this.__data__.has(ye)},$r.prototype.set=function(ye,Ye){var at=this.__data__;if(at instanceof Pi){var on=at.__data__;if(!so||on.length<199)return on.push([ye,Ye]),this.size=++at.size,this;at=this.__data__=new Xs(on)}return at.set(ye,Ye),this.size=at.size,this};const ea=$r;var Ji=function(){try{var ye=Qi(Object,"defineProperty");return ye({},"",{}),ye}catch(Ye){}}();const Es=Ji,ur=function(ye,Ye,at){"__proto__"==Ye&&Es?Es(ye,Ye,{configurable:!0,enumerable:!0,value:at,writable:!0}):ye[Ye]=at};var zs=Object.prototype.hasOwnProperty;const go=function(ye,Ye,at){var on=ye[Ye];(!zs.call(ye,Ye)||!Vo(on,at)||void 0===at&&!(Ye in ye))&&ur(ye,Ye,at)},Ms=function(ye,Ye,at,on){var vi=!at;at||(at={});for(var ki=-1,Yi=Ye.length;++ki<Yi;){var Oi=Ye[ki],Yr=on?on(at[Oi],ye[Oi],Oi,at,ye):void 0;void 0===Yr&&(Yr=ye[Oi]),vi?ur(at,Oi,Yr):go(at,Oi,Yr)}return at},vs=function(ye){return Vt(ye)&&"[object Arguments]"==Qe(ye)};var us=Object.prototype,Er=us.hasOwnProperty,ie=us.propertyIsEnumerable,ne=vs(function(){return arguments}())?vs:function(ye){return Vt(ye)&&Er.call(ye,"callee")&&!ie.call(ye,"callee")};const Be=ne,V=Array.isArray;var ve="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ze=ve&&"object"==typeof module&&module&&!module.nodeType&&module,G=Ze&&Ze.exports===ve?be.Buffer:void 0;const xt=(G?G.isBuffer:void 0)||function(){return!1};var _n=/^(?:0|[1-9]\d*)$/;const li=function(ye,Ye){var at=typeof ye;return!!(Ye=null==Ye?9007199254740991:Ye)&&("number"==at||"symbol"!=at&&_n.test(ye))&&ye>-1&&ye%1==0&&ye<Ye},uo=function(ye){return"number"==typeof ye&&ye>-1&&ye%1==0&&ye<=9007199254740991};var $i={};$i["[object Float32Array]"]=$i["[object Float64Array]"]=$i["[object Int8Array]"]=$i["[object Int16Array]"]=$i["[object Int32Array]"]=$i["[object Uint8Array]"]=$i["[object Uint8ClampedArray]"]=$i["[object Uint16Array]"]=$i["[object Uint32Array]"]=!0,$i["[object Arguments]"]=$i["[object Array]"]=$i["[object ArrayBuffer]"]=$i["[object Boolean]"]=$i["[object DataView]"]=$i["[object Date]"]=$i["[object Error]"]=$i["[object Function]"]=$i["[object Map]"]=$i["[object Number]"]=$i["[object Object]"]=$i["[object RegExp]"]=$i["[object Set]"]=$i["[object String]"]=$i["[object WeakMap]"]=!1;const wr=function(ye){return function(Ye){return ye(Ye)}};var Gl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ua=Gl&&"object"==typeof module&&module&&!module.nodeType&&module,pl=Ua&&Ua.exports===Gl&&U.process;const I=function(){try{return Ua&&Ua.require&&Ua.require("util").types||pl&&pl.binding&&pl.binding("util")}catch(Ye){}}();var O=I&&I.isTypedArray;const ke=O?wr(O):function(ye){return Vt(ye)&&uo(ye.length)&&!!$i[Qe(ye)]};var ot=Object.prototype.hasOwnProperty;const Nt=function(ye,Ye){var at=V(ye),on=!at&&Be(ye),vi=!at&&!on&&xt(ye),ki=!at&&!on&&!vi&&ke(ye),Yi=at||on||vi||ki,Oi=Yi?function(ye,Ye){for(var at=-1,on=Array(ye);++at<ye;)on[at]=Ye(at);return on}(ye.length,String):[],Yr=Oi.length;for(var Un in ye)(Ye||ot.call(ye,Un))&&(!Yi||!("length"==Un||vi&&("offset"==Un||"parent"==Un)||ki&&("buffer"==Un||"byteLength"==Un||"byteOffset"==Un)||li(Un,Yr)))&&Oi.push(Un);return Oi};var Zt=Object.prototype;const wn=function(ye){var Ye=ye&&ye.constructor;return ye===("function"==typeof Ye&&Ye.prototype||Zt)},Lt=function(ye,Ye){return function(at){return ye(Ye(at))}},en=Lt(Object.keys,Object);var bi=Object.prototype.hasOwnProperty;const Hs=function(ye){return null!=ye&&uo(ye.length)&&!hr(ye)},eo=function(ye){return Hs(ye)?Nt(ye):function(ye){if(!wn(ye))return en(ye);var Ye=[];for(var at in Object(ye))bi.call(ye,at)&&"constructor"!=at&&Ye.push(at);return Ye}(ye)};var Zo=Object.prototype.hasOwnProperty;const Fr=function(ye){if(!Ne(ye))return function(ye){var Ye=[];if(null!=ye)for(var at in Object(ye))Ye.push(at);return Ye}(ye);var Ye=wn(ye),at=[];for(var on in ye)"constructor"==on&&(Ye||!Zo.call(ye,on))||at.push(on);return at},Xn=function(ye){return Hs(ye)?Nt(ye,!0):Fr(ye)};var Zr="object"==typeof exports&&exports&&!exports.nodeType&&exports,_o=Zr&&"object"==typeof module&&module&&!module.nodeType&&module,Yo=_o&&_o.exports===Zr?be.Buffer:void 0,Mr=Yo?Yo.allocUnsafe:void 0;const M=function(){return[]};var se=Object.prototype.propertyIsEnumerable,We=Object.getOwnPropertySymbols,$n=We?function(ye){return null==ye?[]:(ye=Object(ye),function(ye,Ye){for(var at=-1,on=null==ye?0:ye.length,vi=0,ki=[];++at<on;){var Yi=ye[at];Ye(Yi,at,ye)&&(ki[vi++]=Yi)}return ki}(We(ye),function(Ye){return se.call(ye,Ye)}))}:M;const ir=$n,ci=function(ye,Ye){for(var at=-1,on=Ye.length,vi=ye.length;++at<on;)ye[vi+at]=Ye[at];return ye},H=Lt(Object.getPrototypeOf,Object);var L=Object.getOwnPropertySymbols?function(ye){for(var Ye=[];ye;)ci(Ye,ir(ye)),ye=H(ye);return Ye}:M;const re=L,ht=function(ye,Ye,at){var on=Ye(ye);return V(ye)?on:ci(on,at(ye))},Sn=function(ye){return ht(ye,eo,ir)},ei=function(ye){return ht(ye,Xn,re)},Bn=Qi(be,"DataView"),hs=Qi(be,"Promise"),to=Qi(be,"Set"),fs=Qi(be,"WeakMap");var Me="[object Map]",Pl="[object Promise]",ka="[object Set]",pr="[object WeakMap]",no="[object DataView]",Nh=Ar(Bn),Bi=Ar(so),di=Ar(hs),pd=Ar(to),$l=Ar(fs),oc=Qe;(Bn&&oc(new Bn(new ArrayBuffer(1)))!=no||so&&oc(new so)!=Me||hs&&oc(hs.resolve())!=Pl||to&&oc(new to)!=ka||fs&&oc(new fs)!=pr)&&(oc=function(ye){var Ye=Qe(ye),at="[object Object]"==Ye?ye.constructor:void 0,on=at?Ar(at):"";if(on)switch(on){case Nh:return no;case Bi:return Me;case di:return Pl;case pd:return ka;case $l:return pr}return Ye});const bu=oc;var sc=Object.prototype.hasOwnProperty;const Kc=be.Uint8Array,io=function(ye){var Ye=new ye.constructor(ye.byteLength);return new Kc(Ye).set(new Kc(ye)),Ye};var Aa=/\w*$/;var wu=$e?$e.prototype:void 0,wf=wu?wu.valueOf:void 0;const qu=function(ye,Ye,at){var on=ye.constructor;switch(Ye){case"[object ArrayBuffer]":return io(ye);case"[object Boolean]":case"[object Date]":return new on(+ye);case"[object DataView]":return function(ye,Ye){var at=Ye?io(ye.buffer):ye.buffer;return new ye.constructor(at,ye.byteOffset,ye.byteLength)}(ye,at);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(ye,Ye){var at=Ye?io(ye.buffer):ye.buffer;return new ye.constructor(at,ye.byteOffset,ye.length)}(ye,at);case"[object Map]":case"[object Set]":return new on;case"[object Number]":case"[object String]":return new on(ye);case"[object RegExp]":return function(ye){var Ye=new ye.constructor(ye.source,Aa.exec(ye));return Ye.lastIndex=ye.lastIndex,Ye}(ye);case"[object Symbol]":return function(ye){return wf?Object(wf.call(ye)):{}}(ye)}};var Ja=Object.create,Cu=function(){function ye(){}return function(Ye){if(!Ne(Ye))return{};if(Ja)return Ja(Ye);ye.prototype=Ye;var at=new ye;return ye.prototype=void 0,at}}();const Ea=Cu;var Fh=I&&I.isMap;const Lh=Fh?wr(Fh):function(ye){return Vt(ye)&&"[object Map]"==bu(ye)};var Ss=I&&I.isSet;const xf=Ss?wr(Ss):function(ye){return Vt(ye)&&"[object Set]"==bu(ye)};var Sc="[object Arguments]",Zl="[object Function]",Mn="[object Object]",Lo={};Lo[Sc]=Lo["[object Array]"]=Lo["[object ArrayBuffer]"]=Lo["[object DataView]"]=Lo["[object Boolean]"]=Lo["[object Date]"]=Lo["[object Float32Array]"]=Lo["[object Float64Array]"]=Lo["[object Int8Array]"]=Lo["[object Int16Array]"]=Lo["[object Int32Array]"]=Lo["[object Map]"]=Lo["[object Number]"]=Lo[Mn]=Lo["[object RegExp]"]=Lo["[object Set]"]=Lo["[object String]"]=Lo["[object Symbol]"]=Lo["[object Uint8Array]"]=Lo["[object Uint8ClampedArray]"]=Lo["[object Uint16Array]"]=Lo["[object Uint32Array]"]=!0,Lo["[object Error]"]=Lo[Zl]=Lo["[object WeakMap]"]=!1;const nh=function ps(ye,Ye,at,on,vi,ki){var Yi,Oi=1&Ye,Yr=2&Ye,Un=4&Ye;if(at&&(Yi=vi?at(ye,on,vi,ki):at(ye)),void 0!==Yi)return Yi;if(!Ne(ye))return ye;var La=V(ye);if(La){if(Yi=function(ye){var Ye=ye.length,at=new ye.constructor(Ye);return Ye&&"string"==typeof ye[0]&&sc.call(ye,"index")&&(at.index=ye.index,at.input=ye.input),at}(ye),!Oi)return function(ye,Ye){var at=-1,on=ye.length;for(Ye||(Ye=Array(on));++at<on;)Ye[at]=ye[at];return Ye}(ye,Yi)}else{var Sa=bu(ye),$a=Sa==Zl||"[object GeneratorFunction]"==Sa;if(xt(ye))return function(ye,Ye){if(Ye)return ye.slice();var at=ye.length,on=Mr?Mr(at):new ye.constructor(at);return ye.copy(on),on}(ye,Oi);if(Sa==Mn||Sa==Sc||$a&&!vi){if(Yi=Yr||$a?{}:function(ye){return"function"!=typeof ye.constructor||wn(ye)?{}:Ea(H(ye))}(ye),!Oi)return Yr?function(ye,Ye){return Ms(ye,re(ye),Ye)}(ye,function(ye,Ye){return ye&&Ms(Ye,Xn(Ye),ye)}(Yi,ye)):function(ye,Ye){return Ms(ye,ir(ye),Ye)}(ye,function(ye,Ye){return ye&&Ms(Ye,eo(Ye),ye)}(Yi,ye))}else{if(!Lo[Sa])return vi?ye:{};Yi=qu(ye,Sa,Oi)}}ki||(ki=new ea);var dc=ki.get(ye);if(dc)return dc;ki.set(ye,Yi),xf(ye)?ye.forEach(function(Kl){Yi.add(ps(Kl,Ye,at,Kl,ye,ki))}):Lh(ye)&&ye.forEach(function(Kl,Ql){Yi.set(Ql,ps(Kl,Ye,at,Ql,ye,ki))});var Cd=La?void 0:(Un?Yr?ei:Sn:Yr?Xn:eo)(ye);return function(ye,Ye){for(var at=-1,on=null==ye?0:ye.length;++at<on&&!1!==Ye(ye[at],at,ye););}(Cd||ye,function(Kl,Ql){Cd&&(Kl=ye[Ql=Kl]),go(Yi,Ql,ps(Kl,Ye,at,Ql,ye,ki))}),Yi};var jh=Function.prototype.toString,rh=Object.prototype.hasOwnProperty,ap=jh.call(Object);const Au=function(ye){return Vt(ye)&&1===ye.nodeType&&!function(ye){if(!Vt(ye)||"[object Object]"!=Qe(ye))return!1;var Ye=H(ye);if(null===Ye)return!0;var at=rh.call(Ye,"constructor")&&Ye.constructor;return"function"==typeof at&&at instanceof at&&jh.call(at)==ap}(ye)};function wd(ye,Ye=new Set){const at=[ye],on=new Set;let vi=0;for(;at.length>vi;){const ki=at[vi++];if(!(on.has(ki)||Oc(ki)||Ye.has(ki)))if(on.add(ki),ki[Symbol.iterator])try{for(const Yi of ki)at.push(Yi)}catch(Yi){}else for(const Yi in ki)"defaultValue"!==Yi&&at.push(ki[Yi])}return on}function Oc(ye){const Ye=Object.prototype.toString.call(ye),at=typeof ye;return"number"===at||"boolean"===at||"string"===at||"symbol"===at||"function"===at||"[object Date]"===Ye||"[object RegExp]"===Ye||"[object Module]"===Ye||null==ye||ye instanceof EventTarget||ye instanceof Event}class Nc extends class{constructor(Ye){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof Ye.crashNumberLimit?Ye.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof Ye.minimumNonErrorTimePeriod?Ye.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=at=>{const on=at.error||at.reason;on instanceof Error&&this._handleError(on,at)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(Ye){this._creator=Ye}setDestructor(Ye){this._destructor=Ye}destroy(){this._stopErrorHandling(),this._listeners={}}on(Ye,at){this._listeners[Ye]||(this._listeners[Ye]=[]),this._listeners[Ye].push(at)}off(Ye,at){this._listeners[Ye]=this._listeners[Ye].filter(on=>on!==at)}_fire(Ye,...at){const on=this._listeners[Ye]||[];for(const vi of on)vi.apply(this,[null,...at])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(Ye,at){if(this._shouldReactToError(Ye)){this.crashes.push({message:Ye.message,stack:Ye.stack,filename:at.filename,lineno:at.lineno,colno:at.colno,date:this._now()});const on=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:Ye,causesRestart:on}),on?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(Ye){return Ye.is&&Ye.is("CKEditorError")&&null!=Ye.context&&"ready"===this.state&&this._isErrorComingFromThisItem(Ye)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(Ye,at={}){super(at),this._editor=null,this._throttledSave=ai(this._save.bind(this),"number"==typeof at.saveInterval?at.saveInterval:5e3),this._creator=(on,vi)=>Ye.create(on,vi),this._destructor=on=>on.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(Ye=>{console.error("An error happened during the editor destroying.",Ye)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const Ye=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,Ye,Ye.context)}}).then(()=>{this._fire("restart")})}create(Ye=this._elementOrData,at=this._config,on){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=Ye,this._config=this._cloneEditorConfiguration(at)||{},this._config.context=on,this._creator(Ye,this._config))).then(vi=>{this._editor=vi,vi.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=vi.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const Ye=this._editor;return this._editor=null,Ye.model.document.off("change:data",this._throttledSave),this._destructor(Ye)})}_save(){const Ye=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=Ye}catch(at){console.error(at,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(Ye){this._excludedProps=Ye}_getData(){const Ye={};for(const at of this._editor.model.document.getRootNames())Ye[at]=this._editor.data.get({rootName:at});return Ye}_isErrorComingFromThisItem(Ye){return function(ye,Ye,at=new Set){if(ye===Ye&&function(ye){return"object"==typeof ye&&null!==ye}(ye))return!0;const on=wd(ye,at),vi=wd(Ye,at);for(const ki of on)if(vi.has(ki))return!0;return!1}(this._editor,Ye.context,this._excludedProps)}_cloneEditorConfiguration(Ye){return function(ye,Ye){return nh(ye,5,Ye="function"==typeof Ye?Ye:void 0)}(Ye,(at,on)=>{if(Au(at)||"context"===on)return at})}}var oh=X(739),Sf=X(9010),cp=X(6019);function up(ye,Ye){}const Bo=new Array(256).fill(0).map((ye,Ye)=>("0"+Ye.toString(16)).slice(-2)),jo="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let If=(()=>{class ye{constructor(at,on){this.config={},this.data="",this.tagName="div",this.ready=new B.vpe,this.change=new B.vpe,this.blur=new B.vpe,this.focus=new B.vpe,this.error=new B.vpe,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function(){const ye=4294967296*Math.random()>>>0,Ye=4294967296*Math.random()>>>0,at=4294967296*Math.random()>>>0,on=4294967296*Math.random()>>>0;return"e"+Bo[ye>>0&255]+Bo[ye>>8&255]+Bo[ye>>16&255]+Bo[ye>>24&255]+Bo[Ye>>0&255]+Bo[Ye>>8&255]+Bo[Ye>>16&255]+Bo[Ye>>24&255]+Bo[at>>0&255]+Bo[at>>8&255]+Bo[at>>16&255]+Bo[at>>24&255]+Bo[on>>0&255]+Bo[on>>8&255]+Bo[on>>16&255]+Bo[on>>24&255]}(),this.ngZone=on,this.elementRef=at;const{CKEDITOR_VERSION:vi}=window;if(vi){const[ki]=vi.split(".").map(Number);ki<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(at){this.setDisabledState(at)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let at=this.editorWatchdog;return this.watchdog&&(at=this.watchdog._watchdogs.get(this.id)),at?at.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return(0,m.mG)(this,void 0,void 0,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(at){null===at&&(at=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(at),this.isEditorSettingData=!1):(this.data=at,this.ready.pipe((0,oh.P)()).subscribe(on=>{on.setData(this.data)}))}registerOnChange(at){this.cvaOnChange=at}registerOnTouched(at){this.cvaOnTouched=at}setDisabledState(at){this.editorInstance&&(at?this.editorInstance.enableReadOnlyMode(jo):this.editorInstance.disableReadOnlyMode(jo)),this.initiallyDisabled=at}attachToWatchdog(){const at=(Oi,Yr)=>(0,m.mG)(this,void 0,void 0,function*(){return this.ngZone.runOutsideAngular(()=>(0,m.mG)(this,void 0,void 0,function*(){this.elementRef.nativeElement.appendChild(Oi);const Un=yield this.editor.create(Oi,Yr);return this.initiallyDisabled&&Un.enableReadOnlyMode(jo),this.ngZone.run(()=>{this.ready.emit(Un)}),this.setUpEditorEvents(Un),Un}))}),on=Oi=>(0,m.mG)(this,void 0,void 0,function*(){yield Oi.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),vi=()=>{this.ngZone.run(()=>{this.error.emit()})},ki=document.createElement(this.tagName),Yi=this.getConfig();if(this.editorElement=ki,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:at,destructor:on,sourceElementOrData:ki,config:Yi}),this.watchdog.on("itemError",(Oi,{itemId:Yr})=>{Yr===this.id&&vi()});else{const Oi=new Nc(this.editor);Oi.setCreator(at),Oi.setDestructor(on),Oi.on("error",vi),this.editorWatchdog=Oi,this.editorWatchdog.create(ki,Yi)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const at=Object.assign({},this.config),on=this.config.initialData||this.data;return on&&(at.initialData=on),at}setUpEditorEvents(at){const vi=at.editing.view.document;at.model.document.on("change:data",ki=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const Yi=at.getData();this.cvaOnChange(Yi)}this.change.emit({event:ki,editor:at})})}),vi.on("focus",ki=>{this.ngZone.run(()=>{this.focus.emit({event:ki,editor:at})})}),vi.on("blur",ki=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:ki,editor:at})})})}}return ye.\u0275fac=function(at){return new(at||ye)(B.Y36(B.SBq),B.Y36(B.R0b))},ye.\u0275cmp=B.Xpm({type:ye,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[B._Bn([{provide:Sf.JU,useExisting:(0,B.Gpc)(()=>ye),multi:!0}])],decls:1,vars:0,template:function(at,on){1&at&&B.YNc(0,up,0,0,"ng-template")},encapsulation:2}),ye})(),sh=(()=>{class ye{}return ye.\u0275fac=function(at){return new(at||ye)},ye.\u0275mod=B.oAB({type:ye}),ye.\u0275inj=B.cJS({imports:[[Sf.u5,cp.ez]]}),ye})()},9217:(Jt,vt,X)=>{Jt=X.nmd(Jt);var m=X(1052).default;(function(B){const he=B.en=B.en||{};he.dictionary=Object.assign(he.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),self,Jt.exports=(()=>(()=>{"use strict";var B={3062:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const Te=_e},903:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t// Horizontal drop target (between blocks).\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 0;\n\t\tmargin: 0;\n\t\ttext-align: initial;\n\n\t\t& .ck-clipboard-drop-target__line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-top: -1px;\n\n\t\t\t&::before {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n'],sourceRoot:""}]);const Te=_e},3143:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-modal);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-toolbar {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\n\t\t& .ck-sticky-panel__content_sticky .ck-toolbar {\n\t\t\tborder-bottom-width: 1px;\n\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},4717:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},9315:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const Te=_e},8733:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},3508:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\n\t/*\n\t * Make sure the selected inline image always stays on top of its siblings.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t */\n\t& .image.ck-widget_selected {\n\t\tz-index: 1;\n\t}\n\n\t& .image-inline.ck-widget_selected {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the native browser selection style is not displayed.\n\t\t * Inline image widgets have their own styles for the selected state and\n\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t */\n\t\t& ::selection {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Te=_e},2640:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highligted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},5083:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},4036:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);const Te=_e},3773:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},3689:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);const Te=_e},1905:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},9773:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const Te=_e},2347:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Te=_e},7754:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Te=_e},4652:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);const Te=_e},7442:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read\u2013only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Te=_e},9292:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},1613:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const Te=_e},6306:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);const Te=_e},3881:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},6945:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},4906:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const Te=_e},5332:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const Te=_e},6781:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);const Te=_e},5485:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},3949:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},7686:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* Make sure the divider stretches 100% height of the button\n\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\n\t& > .ck-splitbutton__arrow:not(:focus) {\n\t\tborder-top-width: 0px;\n\t\tborder-bottom-width: 0px;\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t/* Make sure the divider between the buttons looks fine when the button is focused */\n\t\t& > .ck-splitbutton__arrow:focus::after {\n\t\t\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},7339:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const Te=_e},9688:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Te=_e},8847:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},6574:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Te=_e},4879:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Te=_e},3662:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const Te=_e},2577:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},1046:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},8793:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Te=_e},4650:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},7676:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Te=_e},5868:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Te=_e},6764:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Te=_e},9695:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const Te=_e},5542:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},3332:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t/* Keep tooltips transparent for any interactions. */\n\tpointer-events: none;\n\n\tz-index: calc( var(--ck-z-modal) + 100 );\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);const Te=_e},4793:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const Te=_e},3488:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Te=_e},8506:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const Te=_e},4921:(U,De,Y)=>{Y.d(De,{Z:()=>Te});var be=Y(1799),fe=Y.n(be),ge=Y(2609),_e=Y.n(ge)()(fe());_e.push([U.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const Te=_e},2609:U=>{U.exports=function(De){var Y=[];return Y.toString=function(){return this.map(function(be){var fe=De(be);return be[2]?"@media ".concat(be[2]," {").concat(fe,"}"):fe}).join("")},Y.i=function(be,fe,ge){"string"==typeof be&&(be=[[null,be,""]]);var _e={};if(ge)for(var Te=0;Te<this.length;Te++){var we=this[Te][0];null!=we&&(_e[we]=!0)}for(var Ve=0;Ve<be.length;Ve++){var Xe=[].concat(be[Ve]);ge&&_e[Xe[0]]||(fe&&(Xe[2]=Xe[2]?"".concat(fe," and ").concat(Xe[2]):fe),Y.push(Xe))}},Y}},1799:U=>{function Y(be,fe){(null==fe||fe>be.length)&&(fe=be.length);for(var ge=0,_e=new Array(fe);ge<fe;ge++)_e[ge]=be[ge];return _e}U.exports=function(be){var fe=function(be,fe){return function(ge){if(Array.isArray(ge))return ge}(be)||function(ge,_e){var Te=ge&&("undefined"!=typeof Symbol&&ge[Symbol.iterator]||ge["@@iterator"]);if(null!=Te){var we,Ve,Xe=[],Se=!0,ct=!1;try{for(Te=Te.call(ge);!(Se=(we=Te.next()).done)&&(Xe.push(we.value),4!==Xe.length);Se=!0);}catch($e){ct=!0,Ve=$e}finally{try{Se||null==Te.return||Te.return()}finally{if(ct)throw Ve}}return Xe}}(be)||function(ge,_e){if(ge){if("string"==typeof ge)return Y(ge,4);var Te=Object.prototype.toString.call(ge).slice(8,-1);if("Object"===Te&&ge.constructor&&(Te=ge.constructor.name),"Map"===Te||"Set"===Te)return Array.from(ge);if("Arguments"===Te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Te))return Y(ge,4)}}(be)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(be),ge=fe[1],_e=fe[3];if(!_e)return ge;if("function"==typeof btoa){var Te=btoa(unescape(encodeURIComponent(JSON.stringify(_e)))),we="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(Te),Ve="/*# ".concat(we," */"),Xe=_e.sources.map(function(Se){return"/*# sourceURL=".concat(_e.sourceRoot||"").concat(Se," */")});return[ge].concat(Xe).concat([Ve]).join("\n")}return[ge].join("\n")}},6062:(U,De,Y)=>{var be,dt,ge=(dt={},function(Xt){if(void 0===dt[Xt]){var qt=document.querySelector(Xt);if(window.HTMLIFrameElement&&qt instanceof window.HTMLIFrameElement)try{qt=qt.contentDocument.head}catch(vn){qt=null}dt[Xt]=qt}return dt[Xt]}),_e=[];function Te(dt){for(var Xt=-1,qt=0;qt<_e.length;qt++)if(_e[qt].identifier===dt){Xt=qt;break}return Xt}function we(dt,Xt){for(var qt={},vn=[],At=0;At<dt.length;At++){var et=dt[At],Ke=Xt.base?et[0]+Xt.base:et[0],je=qt[Ke]||0,ze="".concat(Ke," ").concat(je);qt[Ke]=je+1;var He=Te(ze),Fe={css:et[1],media:et[2],sourceMap:et[3]};-1!==He?(_e[He].references++,_e[He].updater(Fe)):_e.push({identifier:ze,updater:Mt(Fe,Xt),references:1}),vn.push(ze)}return vn}function Ve(dt){var Xt=document.createElement("style"),qt=dt.attributes||{};if(void 0===qt.nonce){var vn=Y.nc;vn&&(qt.nonce=vn)}if(Object.keys(qt).forEach(function(et){Xt.setAttribute(et,qt[et])}),"function"==typeof dt.insert)dt.insert(Xt);else{var At=ge(dt.insert||"head");if(!At)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");At.appendChild(Xt)}return Xt}var Xe,Se=(Xe=[],function(dt,Xt){return Xe[dt]=Xt,Xe.filter(Boolean).join("\n")});function ct(dt,Xt,qt,vn){var At=qt?"":vn.media?"@media ".concat(vn.media," {").concat(vn.css,"}"):vn.css;if(dt.styleSheet)dt.styleSheet.cssText=Se(Xt,At);else{var et=document.createTextNode(At),Ke=dt.childNodes;Ke[Xt]&&dt.removeChild(Ke[Xt]),Ke.length?dt.insertBefore(et,Ke[Xt]):dt.appendChild(et)}}function $e(dt,Xt,qt){var vn=qt.css,At=qt.media,et=qt.sourceMap;if(At?dt.setAttribute("media",At):dt.removeAttribute("media"),et&&"undefined"!=typeof btoa&&(vn+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(et))))," */")),dt.styleSheet)dt.styleSheet.cssText=vn;else{for(;dt.firstChild;)dt.removeChild(dt.firstChild);dt.appendChild(document.createTextNode(vn))}}var de=null,Oe=0;function Mt(dt,Xt){var qt,vn,At;if(Xt.singleton){var et=Oe++;qt=de||(de=Ve(Xt)),vn=ct.bind(null,qt,et,!1),At=ct.bind(null,qt,et,!0)}else qt=Ve(Xt),vn=$e.bind(null,qt,Xt),At=function(){!function(Ke){if(null===Ke.parentNode)return!1;Ke.parentNode.removeChild(Ke)}(qt)};return vn(dt),function(Ke){if(Ke){if(Ke.css===dt.css&&Ke.media===dt.media&&Ke.sourceMap===dt.sourceMap)return;vn(dt=Ke)}else At()}}U.exports=function(dt,Xt){(Xt=Xt||{}).singleton||"boolean"==typeof Xt.singleton||(Xt.singleton=(void 0===be&&(be=Boolean(window&&document&&document.all&&!window.atob)),be));var qt=we(dt=dt||[],Xt);return function(vn){if(vn=vn||[],"[object Array]"===Object.prototype.toString.call(vn)){for(var At=0;At<qt.length;At++){var et=Te(qt[At]);_e[et].references--}for(var Ke=we(vn,Xt),je=0;je<qt.length;je++){var ze=Te(qt[je]);0===_e[ze].references&&(_e[ze].updater(),_e.splice(ze,1))}qt=Ke}}}}},he={};function Ne(U){var De=he[U];if(void 0!==De)return De.exports;var Y=he[U]={id:U,exports:{}};return B[U](Y,Y.exports,Ne),Y.exports}Ne.n=U=>{var De=U&&U.__esModule?()=>U.default:()=>U;return Ne.d(De,{a:De}),De},Ne.d=(U,De)=>{for(var Y in De)Ne.o(De,Y)&&!Ne.o(U,Y)&&Object.defineProperty(U,Y,{enumerable:!0,get:De[Y]})},Ne.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(U){if("object"==typeof window)return window}}(),Ne.o=(U,De)=>Object.prototype.hasOwnProperty.call(U,De),Ne.nc=void 0;var ce={};return(()=>{Ne.d(ce,{default:()=>x_});const U=function(){try{return navigator.userAgent.toLowerCase()}catch(d){return""}}(),Y_isMac=be(U),Y_isGecko=(U.indexOf("windows"),function(d){return!!d.match(/gecko\/\d+/)}(U)),Y_isSafari=function(d){return d.indexOf(" applewebkit/")>-1&&-1===d.indexOf("chrome")}(U),Y_isAndroid=(function(d){!!d.match(/iphone|ipad/i)||be(d)&&navigator}(U),function(d){return d.indexOf("android")>-1}(U)),Y_isBlink=function(d){return d.indexOf("chrome/")>-1&&d.indexOf("edge/")<0}(U);!function(){let d=!1;try{d=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(e){}}();function be(d){return d.indexOf("macintosh")>-1}function fe(d,e,t,o){t=t||function(k,E){return k===E};const a=Array.isArray(d)?d:Array.prototype.slice.call(d),h=Array.isArray(e)?e:Array.prototype.slice.call(e),g=function(k,E,D){const F=ge(k,E,D);if(-1===F)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const Ae=ge(_e(k,F),_e(E,F),D);return{firstIndex:F,lastIndexOld:k.length-Ae,lastIndexNew:E.length-Ae}}(a,h,t);return o?function(k,E){const{firstIndex:D,lastIndexOld:F,lastIndexNew:Z}=k;if(-1===D)return Array(E).fill("equal");let ue=[];return D>0&&(ue=ue.concat(Array(D).fill("equal"))),Z-D>0&&(ue=ue.concat(Array(Z-D).fill("insert"))),F-D>0&&(ue=ue.concat(Array(F-D).fill("delete"))),Z<E&&(ue=ue.concat(Array(E-Z).fill("equal"))),ue}(g,h.length):function(k,E){const D=[],{firstIndex:F,lastIndexOld:Z,lastIndexNew:ue}=E;return ue-F>0&&D.push({index:F,type:"insert",values:k.slice(F,ue)}),Z-F>0&&D.push({index:F+(ue-F),type:"delete",howMany:Z-F}),D}(h,g)}function ge(d,e,t){for(let o=0;o<Math.max(d.length,e.length);o++)if(void 0===d[o]||void 0===e[o]||!t(d[o],e[o]))return o;return-1}function _e(d,e){return d.slice(e).reverse()}function Te(d,e,t){t=t||function(Pe,Ge){return Pe===Ge};const o=d.length,a=e.length;if(o>200||a>200||o+a>300)return Te.fastDiff(d,e,t,!0);let h,g;if(a<o){const Pe=d;d=e,e=Pe,h="delete",g="insert"}else h="insert",g="delete";const y=d.length,k=e.length,E=k-y,D={},F={};function Z(Pe){const Ge=(void 0!==F[Pe-1]?F[Pe-1]:-1)+1,mt=void 0!==F[Pe+1]?F[Pe+1]:-1,Ot=Ge>mt?-1:1;D[Pe+Ot]&&(D[Pe]=D[Pe+Ot].slice(0)),D[Pe]||(D[Pe]=[]),D[Pe].push(Ge>mt?h:g);let tn=Math.max(Ge,mt),Pn=tn-Pe;for(;Pn<y&&tn<k&&t(d[Pn],e[tn]);)Pn++,tn++,D[Pe].push("equal");return tn}let ue,Ae=0;do{for(ue=-Ae;ue<E;ue++)F[ue]=Z(ue);for(ue=E+Ae;ue>E;ue--)F[ue]=Z(ue);F[E]=Z(E),Ae++}while(F[E]!==k);return D[E].slice(1)}function we(d,...e){e.forEach(t=>{const o=Object.getOwnPropertyNames(t),a=Object.getOwnPropertySymbols(t);o.concat(a).forEach(h=>{if(h in d.prototype||"function"==typeof t&&("length"==h||"name"==h||"prototype"==h))return;const g=Object.getOwnPropertyDescriptor(t,h);g.enumerable=!1,Object.defineProperty(d.prototype,h,g)})})}Te.fastDiff=fe;class Xe{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=function d(){d.called=!0},this.off=function d(){d.called=!0}}}const Se=new Array(256).fill("").map((d,e)=>("0"+e.toString(16)).slice(-2));function ct(){const d=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0;return"e"+Se[d>>0&255]+Se[d>>8&255]+Se[d>>16&255]+Se[d>>24&255]+Se[e>>0&255]+Se[e>>8&255]+Se[e>>16&255]+Se[e>>24&255]+Se[t>>0&255]+Se[t>>8&255]+Se[t>>16&255]+Se[t>>24&255]+Se[o>>0&255]+Se[o>>8&255]+Se[o>>16&255]+Se[o>>24&255]}const $e={get(d="normal"){return"number"!=typeof d?this[d]||this.normal:d},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function de(d,e){const t=$e.get(e.priority);for(let o=0;o<d.length;o++)if($e.get(d[o].priority)<t)return void d.splice(o,0,e);d.push(e)}class Oe extends Error{constructor(e,t,o){super(function(a,h){const g=new WeakSet;return a+(h?` ${JSON.stringify(h,(D,F)=>{if("object"==typeof F&&null!==F){if(g.has(F))return`[object ${F.constructor.name}]`;g.add(F)}return F})}`:"")+Xt(a)}(e,o)),this.name="CKEditorError",this.context=t,this.data=o}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const o=new Oe(e.message,t);throw o.stack=e.stack,o}}function Mt(d,e){console.warn(...qt(d,e))}function dt(d,e){console.error(...qt(d,e))}function Xt(d){return`\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${d}`}function qt(d,e){const t=Xt(d);return e?[d,e,t]:[d,t]}const At="object"==typeof window?window:Ne.g;if(At.CKEDITOR_VERSION)throw new Oe("ckeditor-duplicated-modules",null);At.CKEDITOR_VERSION="35.4.0";const et=Symbol("listeningTo"),Ke=Symbol("emitterId"),je=Symbol("delegations"),ze=He(Object);function He(d){return d?class extends d{on(e,t,o){this.listenTo(this,e,t,o)}once(e,t,o){let a=!1;this.listenTo(this,e,(h,...g)=>{a||(a=!0,h.off(),t.call(this,h,...g))},o)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,o,a={}){let h,g;this[et]||(this[et]={});const y=this[et];Qe(e)||Fe(e);const k=Qe(e);var D,F,Z,ue;(h=y[k])||(h=y[k]={emitter:e,callbacks:{}}),(g=h.callbacks[t])||(g=h.callbacks[t]=[]),g.push(o),F=t,Z=o,ue=a,(D=e)._addEventListener?D._addEventListener(F,Z,ue):this._addEventListener.call(D,F,Z,ue)}stopListening(e,t,o){const a=this[et];let h=e&&Qe(e);const g=a&&h?a[h]:void 0,y=g&&t?g.callbacks[t]:void 0;if(!(!a||e&&!g||t&&!y))if(o)Kt(this,e,t,o),-1!==y.indexOf(o)&&(1===y.length?delete g.callbacks[t]:Kt(this,e,t,o));else if(y){for(;o=y.pop();)Kt(this,e,t,o);delete g.callbacks[t]}else if(g){for(t in g.callbacks)this.stopListening(e,t);delete a[h]}else{for(h in a)this.stopListening(a[h].emitter);delete this[et]}}fire(e,...t){try{const o=e instanceof Xe?e:new Xe(this,e),a=o.name;let h=Ht(this,a);if(o.path.push(this),h){const y=[o,...t];h=Array.from(h);for(let k=0;k<h.length&&(h[k].callback.apply(this,y),o.off.called&&(delete o.off.called,this._removeEventListener(a,h[k].callback)),!o.stop.called);k++);}const g=this[je];if(g){const y=g.get(a),k=g.get("*");y&&jt(y,o,t),k&&jt(k,o,t)}return o.return}catch(o){Oe.rethrowUnexpectedError(o,this)}}delegate(...e){return{to:(t,o)=>{this[je]||(this[je]=new Map),e.forEach(a=>{const h=this[je].get(a);h?h.set(t,o):this[je].set(a,new Map([[t,o]]))})}}}stopDelegating(e,t){if(this[je])if(e)if(t){const o=this[je].get(e);o&&o.delete(t)}else this[je].delete(e);else this[je].clear()}_addEventListener(e,t,o){!function(g,y){const k=It(g);if(k[y])return;let E=y,D=null;const F=[];for(;""!==E&&!k[E];)k[E]={callbacks:[],childEvents:[]},F.push(k[E]),D&&k[E].childEvents.push(D),D=E,E=E.substr(0,E.lastIndexOf(":"));if(""!==E){for(const Z of F)Z.callbacks=k[E].callbacks.slice();k[E].childEvents.push(D)}}(this,e);const a=Vt(this,e),h={callback:t,priority:$e.get(o.priority)};for(const g of a)de(g,h)}_removeEventListener(e,t){const o=Vt(this,e);for(const a of o)for(let h=0;h<a.length;h++)a[h].callback==t&&(a.splice(h,1),h--)}}:ze}function Fe(d,e){d[Ke]||(d[Ke]=e||ct())}function Qe(d){return d[Ke]}function It(d){return d._events||Object.defineProperty(d,"_events",{value:{}}),d._events}function Vt(d,e){const t=It(d)[e];if(!t)return[];let o=[t.callbacks];for(let a=0;a<t.childEvents.length;a++){const h=Vt(d,t.childEvents[a]);o=o.concat(h)}return o}function Ht(d,e){let t;return d._events&&(t=d._events[e])&&t.callbacks.length?t.callbacks:e.indexOf(":")>-1?Ht(d,e.substr(0,e.lastIndexOf(":"))):null}function jt(d,e,t){for(let[o,a]of d){a?"function"==typeof a&&(a=a(e.name)):a=e.name;const h=new Xe(e.source,a);h.path=[...e.path],o.fire(h,...t)}}function Kt(d,e,t,o){e._removeEventListener?e._removeEventListener(t,o):d._removeEventListener.call(e,t,o)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(d=>{He[d]=ze.prototype[d]});const lt=function(d){var e=typeof d;return null!=d&&("object"==e||"function"==e)},$t=Symbol("observableProperties"),_t=Symbol("boundObservables"),Et=Symbol("boundProperties"),pn=Symbol("decoratedMethods"),jn=Symbol("decoratedOriginal"),Zi=Dn(He());function Dn(d){return d?class extends d{set(e,t){if(lt(e))return void Object.keys(e).forEach(a=>{this.set(a,e[a])},this);kr(this);const o=this[$t];if(e in this&&!o.has(e))throw new Oe("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>o.get(e),set(a){const h=o.get(e);let g=this.fire(`set:${e}`,e,a,h);void 0===g&&(g=a),h===g&&o.has(e)||(o.set(e,g),this.fire(`change:${e}`,e,g,h))}}),this[e]=t}bind(...e){if(!e.length||!Cn(e))throw new Oe("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new Oe("observable-bind-duplicate-properties",this);kr(this);const t=this[Et];e.forEach(a=>{if(t.has(a))throw new Oe("observable-bind-rebind",this)});const o=new Map;return e.forEach(a=>{const h={property:a,to:[]};t.set(a,h),o.set(a,h)}),{to:br,toMany:Nn,_observable:this,_bindProperties:e,_to:[],_bindings:o}}unbind(...e){if(!this[$t])return;const t=this[Et],o=this[_t];if(e.length){if(!Cn(e))throw new Oe("observable-unbind-wrong-properties",this);e.forEach(a=>{const h=t.get(a);h&&(h.to.forEach(([g,y])=>{const k=o.get(g),E=k[y];E.delete(h),E.size||delete k[y],Object.keys(k).length||(o.delete(g),this.stopListening(g,"change"))}),t.delete(a))})}else o.forEach((a,h)=>{this.stopListening(h,"change")}),o.clear(),t.clear()}decorate(e){kr(this);const t=this[e];if(!t)throw new Oe("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(o,a)=>{o.return=t.apply(this,a)}),this[e]=function(...o){return this.fire(e,o)},this[e][jn]=t,this[pn]||(this[pn]=[]),this[pn].push(e)}stopListening(e,t,o){if(!e&&this[pn]){for(const a of this[pn])this[a]=this[a][jn];delete this[pn]}super.stopListening(e,t,o)}}:Zi}function kr(d){d[$t]||(Object.defineProperty(d,$t,{value:new Map}),Object.defineProperty(d,_t,{value:new Map}),Object.defineProperty(d,Et,{value:new Map}))}function br(...d){const e=function(...h){if(!h.length)throw new Oe("observable-bind-to-parse-error",null);const g={to:[]};let y;return"function"==typeof h[h.length-1]&&(g.callback=h.pop()),h.forEach(k=>{if("string"==typeof k)y.properties.push(k);else{if("object"!=typeof k)throw new Oe("observable-bind-to-parse-error",null);y={observable:k,properties:[]},g.to.push(y)}}),g}(...d),t=Array.from(this._bindings.keys()),o=t.length;if(!e.callback&&e.to.length>1)throw new Oe("observable-bind-to-no-callback",this);if(o>1&&e.callback)throw new Oe("observable-bind-to-extra-callback",this);var a;e.to.forEach(h=>{if(h.properties.length&&h.properties.length!==o)throw new Oe("observable-bind-to-properties-length",this);h.properties.length||(h.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),a=this._observable,this._to.forEach(h=>{const g=a[_t];let y;g.get(h.observable)||a.listenTo(h.observable,"change",(k,E)=>{y=g.get(h.observable)[E],y&&y.forEach(D=>{si(a,D.property)})})}),function(h){let g;h._bindings.forEach((y,k)=>{h._to.forEach(E=>{g=E.properties[y.callback?0:h._bindProperties.indexOf(k)],y.to.push([E.observable,g]),function(D,F,Z,ue){const Ae=D[_t],Pe=Ae.get(Z),Ge=Pe||{};Ge[ue]||(Ge[ue]=new Set),Ge[ue].add(F),Pe||Ae.set(Z,Ge)}(h._observable,y,E.observable,g)})})}(this),this._bindProperties.forEach(h=>{si(this._observable,h)})}function Nn(d,e,t){if(this._bindings.size>1)throw new Oe("observable-bind-to-many-not-one-binding",this);this.to(...function(o,a){const h=o.map(g=>[g,a]);return Array.prototype.concat.apply([],h)}(d,e),t)}function Cn(d){return d.every(e=>"string"==typeof e)}function si(d,e){const t=d[Et].get(e);let o;t.callback?o=t.callback.apply(d,t.to.map(a=>a[0][a[1]])):(o=t.to[0],o=o[0][o[1]]),Object.prototype.hasOwnProperty.call(d,e)?d[e]=o:d.set(e,o)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(d=>{Dn[d]=Zi.prototype[d]});class Zn{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}function ai(d){let e=0;for(const t of d)e++;return e}function fi(d,e){const t=Math.min(d.length,e.length);for(let o=0;o<t;o++)if(d[o]!=e[o])return o;return d.length==e.length?"same":d.length<e.length?"prefix":"extension"}function Di(d){return!(!d||!d[Symbol.iterator])}const Ei="object"==typeof global&&global&&global.Object===Object&&global;var Vo="object"==typeof self&&self&&self.Object===Object&&self;const Rn=Ei||Vo||Function("return this")(),Or=Rn.Symbol;var vo=Object.prototype,oo=vo.hasOwnProperty,Ui=vo.toString,Gn=Or?Or.toStringTag:void 0,Vr=Object.prototype.toString,cr=Or?Or.toStringTag:void 0;const Ni=function(d){return null==d?void 0===d?"[object Undefined]":"[object Null]":cr&&cr in Object(d)?function(d){var e=oo.call(d,Gn),t=d[Gn];try{d[Gn]=void 0;var o=!0}catch(h){}var a=Ui.call(d);return o&&(e?d[Gn]=t:delete d[Gn]),a}(d):function(d){return Vr.call(d)}(d)},Ri=Array.isArray,nr=function(d){return null!=d&&"object"==typeof d},Pi=function(d){return"string"==typeof d||!Ri(d)&&nr(d)&&"[object String]"==Ni(d)};function bt(d,e,t={},o=[]){const a=t&&t.xmlns,h=a?d.createElementNS(a,e):d.createElement(e);for(const g in t)h.setAttribute(g,t[g]);!Pi(o)&&Di(o)||(o=[o]);for(let g of o)Pi(g)&&(g=d.createTextNode(g)),h.appendChild(g);return h}const nt=function(d,e){return function(t){return d(e(t))}},Dt=nt(Object.getPrototypeOf,Object);var sn=Function.prototype.toString,zn=Object.prototype.hasOwnProperty,Qn=sn.call(Object);const Fn=function(d){if(!nr(d)||"[object Object]"!=Ni(d))return!1;var e=Dt(d);if(null===e)return!0;var t=zn.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&sn.call(t)==Qn},Hi=function(d,e){return d===e||d!=d&&e!=e},Lr=function(d,e){for(var t=d.length;t--;)if(Hi(d[t][0],e))return t;return-1};var Qr=Array.prototype.splice;function St(d){var e=-1,t=null==d?0:d.length;for(this.clear();++e<t;){var o=d[e];this.set(o[0],o[1])}}St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(d){var e=this.__data__,t=Lr(e,d);return!(t<0||(t==e.length-1?e.pop():Qr.call(e,t,1),--this.size,0))},St.prototype.get=function(d){var e=this.__data__,t=Lr(e,d);return t<0?void 0:e[t][1]},St.prototype.has=function(d){return Lr(this.__data__,d)>-1},St.prototype.set=function(d,e){var t=this.__data__,o=Lr(t,d);return o<0?(++this.size,t.push([d,e])):t[o][1]=e,this};const Qt=St,Ai=function(d){if(!lt(d))return!1;var e=Ni(d);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},xo=Rn["__core-js_shared__"];var as=function(){var d=/[^.]+$/.exec(xo&&xo.keys&&xo.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),xr=Function.prototype.toString;const mn=function(d){if(null!=d){try{return xr.call(d)}catch(e){}try{return d+""}catch(e){}}return""};var qn=/^\[object .+?Constructor\]$/,wo=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const so=function(d,e){var t=function(d,e){return null==d?void 0:d[e]}(d,e);return function(d){return!(!lt(d)||function(d){return!!as&&as in d}(d))&&(Ai(d)?wo:qn).test(mn(d))}(t)?t:void 0},Yn=so(Rn,"Map"),gr=so(Object,"create");var xs=Object.prototype.hasOwnProperty,ls=Object.prototype.hasOwnProperty;function Gi(d){var e=-1,t=null==d?0:d.length;for(this.clear();++e<t;){var o=d[e];this.set(o[0],o[1])}}Gi.prototype.clear=function(){this.__data__=gr?gr(null):{},this.size=0},Gi.prototype.delete=function(d){var e=this.has(d)&&delete this.__data__[d];return this.size-=e?1:0,e},Gi.prototype.get=function(d){var e=this.__data__;if(gr){var t=e[d];return"__lodash_hash_undefined__"===t?void 0:t}return xs.call(e,d)?e[d]:void 0},Gi.prototype.has=function(d){var e=this.__data__;return gr?void 0!==e[d]:ls.call(e,d)},Gi.prototype.set=function(d,e){var t=this.__data__;return this.size+=this.has(d)?0:1,t[d]=gr&&void 0===e?"__lodash_hash_undefined__":e,this};const cs=Gi,Eo=function(d,e){var t=d.__data__;return function(d){var e=typeof d;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==d:null===d}(e)?t["string"==typeof e?"string":"hash"]:t.map};function Xr(d){var e=-1,t=null==d?0:d.length;for(this.clear();++e<t;){var o=d[e];this.set(o[0],o[1])}}Xr.prototype.clear=function(){this.size=0,this.__data__={hash:new cs,map:new(Yn||Qt),string:new cs}},Xr.prototype.delete=function(d){var e=Eo(this,d).delete(d);return this.size-=e?1:0,e},Xr.prototype.get=function(d){return Eo(this,d).get(d)},Xr.prototype.has=function(d){return Eo(this,d).has(d)},Xr.prototype.set=function(d,e){var t=Eo(this,d),o=t.size;return t.set(d,e),this.size+=t.size==o?0:1,this};const lo=Xr;function co(d){var e=this.__data__=new Qt(d);this.size=e.size}co.prototype.clear=function(){this.__data__=new Qt,this.size=0},co.prototype.delete=function(d){var e=this.__data__,t=e.delete(d);return this.size=e.size,t},co.prototype.get=function(d){return this.__data__.get(d)},co.prototype.has=function(d){return this.__data__.has(d)},co.prototype.set=function(d,e){var t=this.__data__;if(t instanceof Qt){var o=t.__data__;if(!Yn||o.length<199)return o.push([d,e]),this.size=++t.size,this;t=this.__data__=new lo(o)}return t.set(d,e),this.size=t.size,this};const vr=co,Ur=function(){try{var d=so(Object,"defineProperty");return d({},"",{}),d}catch(e){}}(),bs=function(d,e,t){"__proto__"==e&&Ur?Ur(d,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):d[e]=t};var Ls=Object.prototype.hasOwnProperty;const Gr=function(d,e,t){var o=d[e];Ls.call(d,e)&&Hi(o,t)&&(void 0!==t||e in d)||bs(d,e,t)},ts=function(d,e,t,o){var a=!t;t||(t={});for(var h=-1,g=e.length;++h<g;){var y=e[h],k=o?o(t[y],d[y],y,t,d):void 0;void 0===k&&(k=d[y]),a?bs(t,y,k):Gr(t,y,k)}return t},Qs=function(d){return nr(d)&&"[object Arguments]"==Ni(d)};var Js=Object.prototype,za=Js.hasOwnProperty,Mo=Js.propertyIsEnumerable;const ns=Qs(function(){return arguments}())?Qs:function(d){return nr(d)&&za.call(d,"callee")&&!Mo.call(d,"callee")};var Bs=vt&&!vt.nodeType&&vt,Qa=Bs&&Jt&&!Jt.nodeType&&Jt,cl=Qa&&Qa.exports===Bs?Rn.Buffer:void 0;const $r=(cl?cl.isBuffer:void 0)||function(){return!1};var ea=/^(?:0|[1-9]\d*)$/;const ta=function(d,e){var t=typeof d;return!!(e=null==e?9007199254740991:e)&&("number"==t||"symbol"!=t&&ea.test(d))&&d>-1&&d%1==0&&d<e},js=function(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=9007199254740991};var Ji={};Ji["[object Float32Array]"]=Ji["[object Float64Array]"]=Ji["[object Int8Array]"]=Ji["[object Int16Array]"]=Ji["[object Int32Array]"]=Ji["[object Uint8Array]"]=Ji["[object Uint8ClampedArray]"]=Ji["[object Uint16Array]"]=Ji["[object Uint32Array]"]=!0,Ji["[object Arguments]"]=Ji["[object Array]"]=Ji["[object ArrayBuffer]"]=Ji["[object Boolean]"]=Ji["[object DataView]"]=Ji["[object Date]"]=Ji["[object Error]"]=Ji["[object Function]"]=Ji["[object Map]"]=Ji["[object Number]"]=Ji["[object Object]"]=Ji["[object RegExp]"]=Ji["[object Set]"]=Ji["[object String]"]=Ji["[object WeakMap]"]=!1;const Xi=function(d){return function(e){return d(e)}};var ur=vt&&!vt.nodeType&&vt,na=ur&&Jt&&!Jt.nodeType&&Jt,zs=na&&na.exports===ur&&Ei.process;const Wr=function(){try{return na&&na.require&&na.require("util").types||zs&&zs.binding&&zs.binding("util")}catch(e){}}();var go=Wr&&Wr.isTypedArray;const $o=go?Xi(go):function(d){return nr(d)&&js(d.length)&&!!Ji[Ni(d)]};var Ms=Object.prototype.hasOwnProperty;const Fo=function(d,e){var t=Ri(d),o=!t&&ns(d),a=!t&&!o&&$r(d),h=!t&&!o&&!a&&$o(d),g=t||o||a||h,y=g?function(d,e){for(var t=-1,o=Array(d);++t<d;)o[t]=e(t);return o}(d.length,String):[],k=y.length;for(var E in d)!e&&!Ms.call(d,E)||g&&("length"==E||a&&("offset"==E||"parent"==E)||h&&("buffer"==E||"byteLength"==E||"byteOffset"==E)||ta(E,k))||y.push(E);return y};var Vs=Object.prototype;const Rr=function(d){var e=d&&d.constructor;return d===("function"==typeof e&&e.prototype||Vs)},ya=nt(Object.keys,Object);var vs=Object.prototype.hasOwnProperty;const Er=function(d){return null!=d&&js(d.length)&&!Ai(d)},ie=function(d){return Er(d)?Fo(d):function(d){if(!Rr(d))return ya(d);var e=[];for(var t in Object(d))vs.call(d,t)&&"constructor"!=t&&e.push(t);return e}(d)};var it=Object.prototype.hasOwnProperty;const le=function(d){return Er(d)?Fo(d,!0):function(d){if(!lt(d))return function(d){var e=[];if(null!=d)for(var t in Object(d))e.push(t);return e}(d);var e=Rr(d),t=[];for(var o in d)("constructor"!=o||!e&&it.call(d,o))&&t.push(o);return t}(d)};var ve=vt&&!vt.nodeType&&vt,Ze=ve&&Jt&&!Jt.nodeType&&Jt,z=Ze&&Ze.exports===ve?Rn.Buffer:void 0,G=z?z.allocUnsafe:void 0;const $=function(d,e){if(e)return d.slice();var t=d.length,o=G?G(t):new d.constructor(t);return d.copy(o),o},Ce=function(d,e){var t=-1,o=d.length;for(e||(e=Array(o));++t<o;)e[t]=d[t];return e},nn=function(){return[]};var _n=Object.prototype.propertyIsEnumerable,ni=Object.getOwnPropertySymbols;const li=ni?function(d){return null==d?[]:(d=Object(d),function(d,e){for(var t=-1,o=null==d?0:d.length,a=0,h=[];++t<o;){var g=d[t];e(g)&&(h[a++]=g)}return h}(ni(d),function(e){return _n.call(d,e)}))}:nn,yr=function(d,e){for(var t=-1,o=e.length,a=d.length;++t<o;)d[a+t]=e[t];return d},uo=Object.getOwnPropertySymbols?function(d){for(var e=[];d;)yr(e,li(d)),d=Dt(d);return e}:nn,ho=function(d,e,t){var o=e(d);return Ri(d)?o:yr(o,t(d))},ys=function(d){return ho(d,ie,li)},ri=function(d){return ho(d,le,uo)},mo=so(Rn,"DataView"),Tl=so(Rn,"Promise"),nc=so(Rn,"Set"),Mc=so(Rn,"WeakMap");var ql="[object Map]",Sl="[object Promise]",ic="[object Set]",dn="[object WeakMap]",Ti="[object DataView]",ul=mn(mo),Co=mn(Yn),Ra=mn(Tl),Wo=mn(nc),Ds=mn(Mc),Us=Ni;(mo&&Us(new mo(new ArrayBuffer(1)))!=Ti||Yn&&Us(new Yn)!=ql||Tl&&Us(Tl.resolve())!=Sl||nc&&Us(new nc)!=ic||Mc&&Us(new Mc)!=dn)&&(Us=function(d){var e=Ni(d),t="[object Object]"==e?d.constructor:void 0,o=t?mn(t):"";if(o)switch(o){case ul:return Ti;case Co:return ql;case Ra:return Sl;case Wo:return ic;case Ds:return dn}return e});const dl=Us;var hl=Object.prototype.hasOwnProperty;const wa=Rn.Uint8Array,Va=function(d){var e=new d.constructor(d.byteLength);return new wa(e).set(new wa(d)),e};var ia=/\w*$/,fa=Or?Or.prototype:void 0,wr=fa?fa.valueOf:void 0;const Ua=function(d,e){var t=e?Va(d.buffer):d.buffer;return new d.constructor(t,d.byteOffset,d.length)};var pl=Object.create;const me=function(){function d(){}return function(e){if(!lt(e))return{};if(pl)return pl(e);d.prototype=e;var t=new d;return d.prototype=void 0,t}}(),I=function(d){return"function"!=typeof d.constructor||Rr(d)?{}:me(Dt(d))};var Q=Wr&&Wr.isMap;const ke=Q?Xi(Q):function(d){return nr(d)&&"[object Map]"==dl(d)};var ot=Wr&&Wr.isSet;const gt=ot?Xi(ot):function(d){return nr(d)&&"[object Set]"==dl(d)};var Nt="[object Arguments]",Zt="[object Function]",xn="[object Object]",wn={};wn[Nt]=wn["[object Array]"]=wn["[object ArrayBuffer]"]=wn["[object DataView]"]=wn["[object Boolean]"]=wn["[object Date]"]=wn["[object Float32Array]"]=wn["[object Float64Array]"]=wn["[object Int8Array]"]=wn["[object Int16Array]"]=wn["[object Int32Array]"]=wn["[object Map]"]=wn["[object Number]"]=wn[xn]=wn["[object RegExp]"]=wn["[object Set]"]=wn["[object String]"]=wn["[object Symbol]"]=wn["[object Uint8Array]"]=wn["[object Uint8ClampedArray]"]=wn["[object Uint16Array]"]=wn["[object Uint32Array]"]=!0,wn["[object Error]"]=wn[Zt]=wn["[object WeakMap]"]=!1;const ft=function d(e,t,o,a,h,g){var y,k=1&t,E=2&t,D=4&t;if(o&&(y=h?o(e,a,h,g):o(e)),void 0!==y)return y;if(!lt(e))return e;var F=Ri(e);if(F){if(y=function(d){var e=d.length,t=new d.constructor(e);return e&&"string"==typeof d[0]&&hl.call(d,"index")&&(t.index=d.index,t.input=d.input),t}(e),!k)return Ce(e,y)}else{var Z=dl(e),ue=Z==Zt||"[object GeneratorFunction]"==Z;if($r(e))return $(e,k);if(Z==xn||Z==Nt||ue&&!h){if(y=E||ue?{}:I(e),!k)return E?function(d,e){return ts(d,uo(d),e)}(e,function(d,e){return d&&ts(e,le(e),d)}(y,e)):function(d,e){return ts(d,li(d),e)}(e,function(d,e){return d&&ts(e,ie(e),d)}(y,e))}else{if(!wn[Z])return h?e:{};y=function(d,e,t){var o=d.constructor;switch(e){case"[object ArrayBuffer]":return Va(d);case"[object Boolean]":case"[object Date]":return new o(+d);case"[object DataView]":return function(d,e){var t=e?Va(d.buffer):d.buffer;return new d.constructor(t,d.byteOffset,d.byteLength)}(d,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ua(d,t);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(d);case"[object RegExp]":return function(d){var e=new d.constructor(d.source,ia.exec(d));return e.lastIndex=d.lastIndex,e}(d);case"[object Symbol]":return function(d){return wr?Object(wr.call(d)):{}}(d)}}(e,Z,k)}}g||(g=new vr);var Ae=g.get(e);if(Ae)return Ae;g.set(e,y),gt(e)?e.forEach(function(Ge){y.add(d(Ge,t,o,Ge,e,g))}):ke(e)&&e.forEach(function(Ge,mt){y.set(mt,d(Ge,t,o,mt,e,g))});var Pe=F?void 0:(D?E?ri:ys:E?le:ie)(e);return function(d,e){for(var t=-1,o=null==d?0:d.length;++t<o&&!1!==e(d[t],t););}(Pe||e,function(Ge,mt){Pe&&(Ge=e[mt=Ge]),Gr(y,mt,d(Ge,t,o,mt,e,g))}),y},Lt=function(d,e){return ft(d,5,e="function"==typeof e?e:void 0)},wt=function(d){return nr(d)&&1===d.nodeType&&!Fn(d)};class en{constructor(e,t){this._config={},t&&this.define(gn(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,o,a=!1){if(Fn(t))return void this._setObjectToTarget(e,t,a);const h=t.split(".");t=h.pop();for(const g of h)Fn(e[g])||(e[g]={}),e=e[g];if(Fn(o))return Fn(e[t])||(e[t]={}),void this._setObjectToTarget(e=e[t],o,a);a&&void 0!==e[t]||(e[t]=o)}_getFromSource(e,t){const o=t.split(".");t=o.pop();for(const a of o){if(!Fn(e[a])){e=null;break}e=e[a]}return e?gn(e[t]):void 0}_setObjectToTarget(e,t,o){Object.keys(t).forEach(a=>{this._setToTarget(e,a,t[a],o)})}}function gn(d){return Lt(d,bi)}function bi(d){return wt(d)?d:void 0}function wi(d){if(d){if(d.defaultView)return d instanceof d.defaultView.Document;if(d.ownerDocument&&d.ownerDocument.defaultView)return d instanceof d.ownerDocument.defaultView.Node}return!1}function Ci(d){const e=Object.prototype.toString.apply(d);return"[object Window]"==e||"[object global]"==e}const Do=Hs(He());function Hs(d){return d?class extends d{listenTo(e,t,o,a={}){if(wi(e)||Ci(e)){const h={capture:!!a.useCapture,passive:!!a.usePassive},g=this._getProxyEmitter(e,h)||new To(e,h);this.listenTo(g,t,o,a)}else super.listenTo(e,t,o,a)}stopListening(e,t,o){if(wi(e)||Ci(e)){const a=this._getAllProxyEmitters(e);for(const h of a)this.stopListening(h,t,o)}else super.stopListening(e,t,o)}_getProxyEmitter(e,t){return function(o,a){const h=o[et];return h&&h[a]?h[a].emitter:null}(this,eo(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(t=>!!t)}}:Do}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(d=>{Hs[d]=Do.prototype[d]});class To extends(He()){constructor(e,t){super(),Fe(this,eo(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,o){this.attach(e),He().prototype._addEventListener.call(this,e,t,o)}_removeEventListener(e,t){He().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=o=>{this.fire(e,o)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function eo(d,e){let t=(o=d)["data-ck-expando"]||(o["data-ck-expando"]=ct());var o;for(const o of Object.keys(e).sort())e[o]&&(t+="-"+o);return t}let ws;try{ws={window,document}}catch(d){ws={window:{},document:{}}}const ui=ws;function Cs(d){const e=[];let t=d;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}function qi(d){return"[object Text]"==Object.prototype.toString.call(d)}function Li(d){return"[object Range]"==Object.prototype.toString.apply(d)}function Zo(d){const e=d.ownerDocument.defaultView.getComputedStyle(d);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const pa=["top","right","bottom","left","width","height"];class Fr{constructor(e){const t=Li(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),oi(e)||t)if(t){const o=Fr.getDomRangeRects(e);Ln(this,Fr.getBoundingRect(o))}else Ln(this,e.getBoundingClientRect());else if(Ci(e)){const{innerWidth:o,innerHeight:a}=e;Ln(this,{top:0,right:o,bottom:a,left:0,width:o,height:a})}else Ln(this,e)}clone(){return new Fr(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0?null:new Fr(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(!Xn(e)){let o=e.parentNode||e.commonAncestorContainer;for(;o&&!Xn(o);){const a=new Fr(o),h=t.getIntersection(a);if(!h)return null;h.getArea()<t.getArea()&&(t=h),o=o.parentNode}}return t}isEqual(e){for(const t of pa)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,o,a;if(Ci(e))t=e.innerWidth-e.document.documentElement.clientWidth,o=e.innerHeight-e.document.documentElement.clientHeight,a=e.getComputedStyle(e.document.documentElement).direction;else{const h=Zo(e);t=e.offsetWidth-e.clientWidth-h.left-h.right,o=e.offsetHeight-e.clientHeight-h.top-h.bottom,a=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=h.left,this.top+=h.top,this.right-=h.right,this.bottom-=h.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,"ltr"===a?this.right-=t:this.left+=t,this.height-=o,this.bottom-=o,this}static getDomRangeRects(e){const t=[],o=Array.from(e.getClientRects());if(o.length)for(const a of o)t.push(new Fr(a));else{let a=e.startContainer;qi(a)&&(a=a.parentNode);const h=new Fr(a.getBoundingClientRect());h.right=h.left,h.width=0,t.push(h)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let o=0;for(const a of e)o++,t.left=Math.min(t.left,a.left),t.top=Math.min(t.top,a.top),t.right=Math.max(t.right,a.right),t.bottom=Math.max(t.bottom,a.bottom);return 0==o?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new Fr(t))}}function Ln(d,e){for(const t of pa)d[t]=e[t]}function Xn(d){return!!oi(d)&&d===d.ownerDocument.body}function oi(d){return null!==d&&"object"==typeof d&&1===d.nodeType&&"function"==typeof d.getBoundingClientRect}class ii{constructor(e,t){ii._observerInstance||ii._createObserver(),this._element=e,this._callback=t,ii._addElementCallback(e,t),ii._observerInstance.observe(e)}destroy(){ii._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){ii._elementCallbacks||(ii._elementCallbacks=new Map);let o=ii._elementCallbacks.get(e);o||(o=new Set,ii._elementCallbacks.set(e,o)),o.add(t)}static _deleteElementCallback(e,t){const o=ii._getElementCallbacks(e);o&&(o.delete(t),o.size||(ii._elementCallbacks.delete(e),ii._observerInstance.unobserve(e))),ii._elementCallbacks&&!ii._elementCallbacks.size&&(ii._observerInstance=null,ii._elementCallbacks=null)}static _getElementCallbacks(e){return ii._elementCallbacks?ii._elementCallbacks.get(e):null}static _createObserver(){ii._observerInstance=new ui.window.ResizeObserver(e=>{for(const t of e){const o=ii._getElementCallbacks(t.target);if(o)for(const a of o)a(t)}})}}function _o(d){return e=>e+d}function ds(d){let e=0;for(;d.previousSibling;)d=d.previousSibling,e++;return e}function Yo(d,e,t){d.insertBefore(t,d.childNodes[e]||null)}function Mr(d){return d&&d.nodeType===Node.COMMENT_NODE}function is(d){return!!(d&&d.getClientRects&&d.getClientRects().length)}function rs({element:d,target:e,positions:t,limiter:o,fitInViewport:a,viewportOffsetConfig:h}){Ai(e)&&(e=e()),Ai(o)&&(o=o());const g=(Z=d)&&Z.parentNode?Z.offsetParent===ui.document.body?null:Z.offsetParent:null,y=new Fr(d),k=new Fr(e);var Z;let E;const D=a&&function(Z){Z=Object.assign({top:0,bottom:0,left:0,right:0},Z);const ue=new Fr(ui.window);return ue.top+=Z.top,ue.height-=Z.top,ue.bottom-=Z.bottom,ue.height-=Z.bottom,ue}(h)||null,F={targetRect:k,elementRect:y,positionedElementAncestor:g,viewportRect:D};if(o||a){const Z=o&&new Fr(o).getVisible();Object.assign(F,{limiterRect:Z,viewportRect:D}),E=function(ue,Ae){const{elementRect:Pe}=Ae,Ge=Pe.getArea(),mt=ue.map(Pn=>new Ca(Pn,Ae)).filter(Pn=>!!Pn.name);let Ot=0,tn=null;for(const Pn of mt){const{limiterIntersectionArea:tr,viewportIntersectionArea:_r}=Pn;if(tr===Ge)return Pn;const Jo=_r**2+tr**2;Jo>Ot&&(Ot=Jo,tn=Pn)}return tn}(t,F)||new Ca(t[0],F)}else E=new Ca(t[0],F);return E}function Ha(d){const{scrollX:e,scrollY:t}=ui.window;return d.clone().moveBy(e,t)}ii._observerInstance=null,ii._elementCallbacks=null;class Ca{constructor(e,t){const o=e(t.targetRect,t.elementRect,t.viewportRect);if(!o)return;const{left:a,top:h,name:g,config:y}=o;this.name=g,this.config=y,this._positioningFunctionCorrdinates={left:a,top:h},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const t=this._options.viewportRect;if(!t)return e.getIntersectionArea(this._rect);{const o=e.getIntersection(t);if(o)return o.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=Ha(this._rect),this._options.positionedElementAncestor&&function(e,t){const o=Ha(new Fr(t)),a=Zo(t);let h=0,g=0;h-=o.left,g-=o.top,h+=t.scrollLeft,g+=t.scrollTop,h-=a.left,g-=a.top,e.moveBy(h,g)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function So(d){const e=d.parentNode;e&&e.removeChild(d)}function K(d,e,t){const o=e.clone().moveBy(0,t),a=e.clone().moveBy(0,-t),h=new Fr(d).excludeScrollbarsAndBorders();if(![a,o].every(g=>h.contains(g))){let{scrollX:g,scrollY:y}=d;ee(a,h)?y-=h.top-e.top+t:M(o,h)&&(y+=e.bottom-h.bottom+t),se(e,h)?g-=h.left-e.left+t:We(e,h)&&(g+=e.right-h.right+t),d.scrollTo(g,y)}}function T(d,e){const t=$n(d);let o,a;for(;d!=t.document.body;)a=e(),o=new Fr(d).excludeScrollbarsAndBorders(),o.contains(a)||(ee(a,o)?d.scrollTop-=o.top-a.top:M(a,o)&&(d.scrollTop+=a.bottom-o.bottom),se(a,o)?d.scrollLeft-=o.left-a.left:We(a,o)&&(d.scrollLeft+=a.right-o.right)),d=d.parentNode}function M(d,e){return d.bottom>e.bottom}function ee(d,e){return d.top<e.top}function se(d,e){return d.left<e.left}function We(d,e){return d.right>e.right}function $n(d){return Li(d)?d.startContainer.ownerDocument.defaultView:d.ownerDocument.defaultView}function ir(d){if(Li(d)){let e=d.commonAncestorContainer;return qi(e)&&(e=e.parentNode),e}return d.parentNode}function rn(d,e){const t=$n(d),o=new Fr(d);if(t===e)return o;{let a=t;for(;a!=e;){const g=new Fr(a.frameElement).excludeScrollbarsAndBorders();o.moveBy(g.left,g.top),a=a.parent}}return o}const Ir={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},gl={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},ci=function(){const d={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)d[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)d[e-48]=e;for(let e=112;e<=123;e++)d["f"+(e-111)]=e;for(const e of"`-=[];',./\\")d[e]=e.charCodeAt(0);return d}(),In=Object.fromEntries(Object.entries(ci).map(([d,e])=>[e,d.charAt(0).toUpperCase()+d.slice(1)]));function H(d){let e;if("string"==typeof d){if(e=ci[d.toLowerCase()],!e)throw new Oe("keyboard-unknown-key",null,{key:d})}else e=d.keyCode+(d.altKey?ci.alt:0)+(d.ctrlKey?ci.ctrl:0)+(d.shiftKey?ci.shift:0)+(d.metaKey?ci.cmd:0);return e}function R(d){return"string"==typeof d&&(d=d.split("+").map(t=>t.trim())),d.map(e=>"string"==typeof e?function(t){if(t.endsWith("!"))return H(t.slice(0,-1));const o=H(t);return Y_isMac&&o==ci.ctrl?ci.cmd:o}(e):e).reduce((e,t)=>t+e,0)}function L(d){let e=R(d);return Object.entries(Y_isMac?Ir:gl).reduce((t,[o,a])=>(0!=(e&ci[o])&&(e&=~ci[o],t+=a),t),"")+(e?In[e]:"")}function re(d,e){const t="ltr"===e;switch(d){case ci.arrowleft:return t?"left":"right";case ci.arrowright:return t?"right":"left";case ci.arrowup:return"up";case ci.arrowdown:return"down"}}function ae(d){return Array.isArray(d)?d:[d]}ui.window.CKEDITOR_TRANSLATIONS||(ui.window.CKEDITOR_TRANSLATIONS={});const st=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function ht(d){return st.includes(d)?"rtl":"ltr"}class Ft{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=ht(this.uiLanguage),this.contentLanguageDirection=ht(this.contentLanguage),this.t=(o,a)=>this._t(o,a)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){return t=ae(t),"string"==typeof e&&(e={string:e}),a=function(d,e,t=1){if("number"!=typeof t)throw new Oe("translation-service-quantity-not-a-number",null,{quantity:t});const o=Object.keys(ui.window.CKEDITOR_TRANSLATIONS).length;1===o&&(d=Object.keys(ui.window.CKEDITOR_TRANSLATIONS)[0]);const a=e.id||e.string;if(0===o||(!ui.window.CKEDITOR_TRANSLATIONS[k=d]||!ui.window.CKEDITOR_TRANSLATIONS[k].dictionary[a]))return 1!==t?e.plural:e.string;var k;const g=ui.window.CKEDITOR_TRANSLATIONS[d].getPluralForm||(k=>1===k?0:1),y=ui.window.CKEDITOR_TRANSLATIONS[d].dictionary[a];return"string"==typeof y?y:y[Number(g(t))]}(this.uiLanguage,e,e.plural?t[0]:1),h=t,a.replace(/%(\d+)/g,(g,y)=>y<h.length?h[y]:g);var a,h}}class Sn extends(He()){constructor(e={},t={}){super();const o=Di(e);if(o||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],o)for(const a of e)this._items.push(a),this._itemMap.set(this._getItemIdBeforeAdding(a),a)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new Oe("collection-add-item-invalid-index",this);let o=0;for(const a of e){const h=this._getItemIdBeforeAdding(a),g=t+o;this._items.splice(g,0,a),this._itemMap.set(h,a),this.fire("add",a,g),o++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new Oe("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if("string"==typeof e)return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t="string"==typeof e?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,o]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:o}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new Oe("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(o=>new t(o))},using:t=>{this._setUpBindToBinding("function"==typeof t?t:o=>o[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,o=(a,h,g)=>{const y=t._bindToCollection==this,k=t._bindToInternalToExternalMap.get(h);if(y&&k)this._bindToExternalToInternalMap.set(h,k),this._bindToInternalToExternalMap.set(k,h);else{const E=e(h);if(!E)return void this._skippedIndexesFromExternal.push(g);let D=g;for(const F of this._skippedIndexesFromExternal)g>F&&D--;for(const F of t._skippedIndexesFromExternal)D>=F&&D++;this._bindToExternalToInternalMap.set(h,E),this._bindToInternalToExternalMap.set(E,h),this.add(E,D);for(let F=0;F<t._skippedIndexesFromExternal.length;F++)D<=t._skippedIndexesFromExternal[F]&&t._skippedIndexesFromExternal[F]++}};for(const a of t)o(0,a,t.getIndex(a));this.listenTo(t,"add",o),this.listenTo(t,"remove",(a,h,g)=>{const y=this._bindToExternalToInternalMap.get(h);y&&this.remove(y),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((k,E)=>(g<E&&k.push(E-1),g>E&&k.push(E),k),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let o;if(t in e){if(o=e[t],"string"!=typeof o)throw new Oe("collection-add-invalid-id",this);if(this.get(o))throw new Oe("collection-add-item-already-exists",this)}else e[t]=o=ct();return o}_remove(e){let t,o,a,h=!1;const g=this._idProperty;if("string"==typeof e?(o=e,a=this._itemMap.get(o),h=!a,a&&(t=this._items.indexOf(a))):"number"==typeof e?(t=e,a=this._items[t],h=!a,a&&(o=a[g])):(a=e,o=a[g],t=this._items.indexOf(a),h=-1==t||!this._itemMap.get(o)),h)throw new Oe("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(o);const y=this._bindToInternalToExternalMap.get(a);return this._bindToInternalToExternalMap.delete(a),this._bindToExternalToInternalMap.delete(y),this.fire("remove",a,t),[a,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function mi(d){const e=d.next();return e.done?null:e.value}class ei extends(Hs(Dn())){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new Oe("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class ar{constructor(){this._listener=new(Hs())}listenTo(e){this._listener.listenTo(e,"keydown",(t,o)=>{this._listener.fire("_keydown:"+H(o),o)})}set(e,t,o={}){const a=R(e);this._listener.listenTo(this._listener,"_keydown:"+a,(g,y)=>{t(y,()=>{y.preventDefault(),y.stopPropagation(),g.stop()}),g.return=!0},{priority:o.priority})}press(e){return!!this._listener.fire("_keydown:"+H(e),e)}destroy(){this._listener.stopListening()}}function Bn(d){return Di(d)?new Map(d):function(e){const t=new Map;for(const o in e)t.set(o,e[o]);return t}(d)}function Il(d,e){return!!(t=d.charAt(e-1))&&1==t.length&&/[\ud800-\udbff]/.test(t)&&!!(o=d.charAt(e))&&1==o.length&&/[\udc00-\udfff]/.test(o);var o,t}function hs(d,e){return!!(t=d.charAt(e))&&1==t.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);var t}const ra=function(){const d=/\p{Regional_Indicator}{2}/u.source,e="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(t=>t.source).join("|")+")";return new RegExp(`${d}|${e}(?:\u200d${e})*`,"ug")}();function to(d,e){const t=String(d).matchAll(ra);return Array.from(t).some(o=>o.index<e&&e<o.index+o[0].length)}class fn extends(Dn()){constructor(e){super(),this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",fs,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",fs),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function fs(d){d.return=!1,d.stop()}class Me extends(Dn()){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(t,o,a)=>{a&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",qa,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",qa),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function qa(d){d.return=!1,d.stop()}class Pl extends Me{constructor(e){super(e),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){de(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class ka extends(He()){constructor(e,t=[],o=[]){super(),this._context=e,this._plugins=new Map,this._availablePlugins=new Map;for(const a of t)a.pluginName&&this._availablePlugins.set(a.pluginName,a);this._contextPlugins=new Map;for(const[a,h]of o)this._contextPlugins.set(a,h),this._contextPlugins.set(h,a),a.pluginName&&this._availablePlugins.set(a.pluginName,a)}*[Symbol.iterator](){for(const e of this._plugins)"function"==typeof e[0]&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let o=e;throw"function"==typeof e&&(o=e.pluginName||e.name),new Oe("plugincollection-plugin-not-loaded",this._context,{plugin:o})}return t}has(e){return this._plugins.has(e)}init(e,t=[],o=[]){const a=this,h=this._context;(function Ae(Pe,Ge=new Set){Pe.forEach(mt=>{k(mt)&&(Ge.has(mt)||(Ge.add(mt),mt.pluginName&&!a._availablePlugins.has(mt.pluginName)&&a._availablePlugins.set(mt.pluginName,mt),mt.requires&&Ae(mt.requires,Ge)))})})(e),Z(e);const g=[...function Ae(Pe,Ge=new Set){return Pe.map(mt=>k(mt)?mt:a._availablePlugins.get(mt)).reduce((mt,Ot)=>Ge.has(Ot)?mt:(Ge.add(Ot),Ot.requires&&(Z(Ot.requires,Ot),Ae(Ot.requires,Ge).forEach(tn=>mt.add(tn))),mt.add(Ot)),new Set)}(e.filter(Ae=>!D(Ae,t)))];!function(Ae,Pe){for(const Ge of Pe){if("function"!=typeof Ge)throw new Oe("plugincollection-replace-plugin-invalid-type",null,{pluginItem:Ge});const mt=Ge.pluginName;if(!mt)throw new Oe("plugincollection-replace-plugin-missing-name",null,{pluginItem:Ge});if(Ge.requires&&Ge.requires.length)throw new Oe("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:mt});const Ot=a._availablePlugins.get(mt);if(!Ot)throw new Oe("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:mt});const tn=Ae.indexOf(Ot);if(-1===tn){if(a._contextPlugins.has(Ot))return;throw new Oe("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:mt})}if(Ot.requires&&Ot.requires.length)throw new Oe("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:mt});Ae.splice(tn,1,Ge),a._availablePlugins.set(mt,Ge)}}(g,o);const y=g.map(Pe=>{let Ge=a._contextPlugins.get(Pe);return Ge=Ge||new Pe(h),a._add(Pe,Ge),Ge});return ue(y,"init").then(()=>ue(y,"afterInit")).then(()=>y);function k(Ae){return"function"==typeof Ae}function E(Ae){return k(Ae)&&Ae.isContextPlugin}function D(Ae,Pe){return Pe.some(Ge=>Ge===Ae||F(Ae)===Ge||F(Ge)===Ae)}function F(Ae){return k(Ae)?Ae.pluginName||Ae.name:Ae}function Z(Ae,Pe=null){Ae.map(Ge=>k(Ge)?Ge:a._availablePlugins.get(Ge)||Ge).forEach(Ge=>{(function(mt,Ot){if(!k(mt))throw Ot?new Oe("plugincollection-soft-required",h,{missingPlugin:mt,requiredBy:F(Ot)}):new Oe("plugincollection-plugin-not-found",h,{plugin:mt})})(Ge,Pe),function(mt,Ot){if(E(Ot)&&!E(mt))throw new Oe("plugincollection-context-required",h,{plugin:F(mt),requiredBy:F(Ot)})}(Ge,Pe),function(mt,Ot){if(Ot&&D(mt,t))throw new Oe("plugincollection-required",h,{plugin:F(mt),requiredBy:F(Ot)})}(Ge,Pe)})}function ue(Ae,Pe){return Ae.reduce((Ge,mt)=>mt[Pe]?a._contextPlugins.has(mt)?Ge:Ge.then(mt[Pe].bind(mt)):Ge,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)"function"!=typeof t.destroy||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const o=e.pluginName;if(o){if(this._plugins.has(o))throw new Oe("plugincollection-plugin-name-conflict",null,{pluginName:o,plugin1:this._plugins.get(o).constructor,plugin2:e});this._plugins.set(o,t)}}}class pr{constructor(e){this.config=new en(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new ka(this,t);const o=this.config.get("language")||{};this.locale=new Ft({uiLanguage:"string"==typeof o?o:o.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Sn,this._contextOwner=null}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const o of e.concat(t)){if("function"!=typeof o)throw new Oe("context-initplugins-constructor-only",null,{Plugin:o});if(!0!==o.isContextPlugin)throw new Oe("context-initplugins-invalid-plugin",null,{Plugin:o})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new Oe("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const o=new this(e);t(o.initPlugins().then(()=>o))})}}class no extends(Dn()){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var Nh=Ne(6062),Bi=Ne.n(Nh),di=Ne(4717);Bi()(di.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const $l=new WeakMap;function oc(d){const{view:e,element:t,text:o,isDirectHost:a=!0,keepOnFocus:h=!1}=d,g=e.document;$l.has(g)||($l.set(g,new Map),g.registerPostFixer(y=>vu(g,y)),g.on("change:isComposing",()=>{e.change(y=>vu(g,y))},{priority:"high"})),$l.get(g).set(t,{text:o,isDirectHost:a,keepOnFocus:h,hostElement:a?t:null}),e.change(y=>vu(g,y))}function vu(d,e){const t=$l.get(d),o=[];let a=!1;for(const[h,g]of t)g.isDirectHost&&(o.push(h),sc(e,h,g)&&(a=!0));for(const[h,g]of t){if(g.isDirectHost)continue;const y=qs(h);y&&(o.includes(y)||(g.hostElement=y,sc(e,h,g)&&(a=!0)))}return a}function sc(d,e,t){const{text:o,isDirectHost:a,hostElement:h}=t;let g=!1;return h.getAttribute("data-placeholder")!==o&&(d.setAttribute("data-placeholder",o,h),g=!0),(a||1==e.childCount)&&function(y,k){if(!y.isAttached()||Array.from(y.getChildren()).some(Z=>!Z.is("uiElement")))return!1;const D=y.document,F=D.selection.anchor;return!(D.isComposing&&F&&F.parent===y||!k&&D.isFocused&&(!F||F.parent===y))}(h,t.keepOnFocus)?(y=d,!(k=h).hasClass("ck-placeholder")&&(y.addClass("ck-placeholder",k),!0)&&(g=!0)):function(d,e){return!!e.hasClass("ck-placeholder")&&(d.removeClass("ck-placeholder",e),!0)}(d,h)&&(g=!0),g;var y,k}function qs(d){if(d.childCount){const e=d.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Wl{is(){throw new Error("is() method is abstract")}}const yu=function(d){return ft(d,4)};class Kc extends(He(Wl)){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new Oe("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let o=e.includeSelf?this:this.parent;for(;o;)t[e.parentFirst?"push":"unshift"](o),o=o.parent;return t}getCommonAncestor(e,t={}){const o=this.getAncestors(t),a=e.getAncestors(t);let h=0;for(;o[h]==a[h]&&o[h];)h++;return 0===h?null:o[h-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),o=e.getPath(),a=fi(t,o);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<o[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=yu(this);return delete e.parent,e}}Kc.prototype.is=function(d){return"node"===d||"view:node"===d};class ko extends Kc{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof ko&&(this===e||this.data===e.data)}_clone(){return new ko(this.document,this.data)}}ko.prototype.is=function(d){return"$text"===d||"view:$text"===d||"text"===d||"view:text"===d||"node"===d||"view:node"===d};class io extends Wl{constructor(e,t,o){if(super(),this.textNode=e,t<0||t>e.data.length)throw new Oe("view-textproxy-wrong-offsetintext",this);if(o<0||t+o>e.data.length)throw new Oe("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+o),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let o=e.includeSelf?this.textNode:this.parent;for(;null!==o;)t[e.parentFirst?"push":"unshift"](o),o=o.parent;return t}}io.prototype.is=function(d){return"$textProxy"===d||"view:$textProxy"===d||"textProxy"===d||"view:textProxy"===d};class Ts{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)("string"==typeof t||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const o of this._patterns){const a=Uu(t,o);if(a)return{element:t,pattern:o,match:a}}return null}matchAll(...e){const t=[];for(const o of e)for(const a of this._patterns){const h=Uu(o,a);h&&t.push({element:o,pattern:a,match:h})}return t.length>0?t:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}function Uu(d,e){if("function"==typeof e)return e(d);const t={};return e.name&&(t.name=(a=d.name,(o=e.name)instanceof RegExp?!!a.match(o):o===a),!t.name)||e.attributes&&(t.attributes=function(o,a){const h=new Set(a.getAttributeKeys());return Fn(o)?(void 0!==o.style&&Mt("matcher-pattern-deprecated-attributes-style-key",o),void 0!==o.class&&Mt("matcher-pattern-deprecated-attributes-class-key",o)):(h.delete("style"),h.delete("class")),Aa(o,h,g=>a.getAttribute(g))}(e.attributes,d),!t.attributes)||e.classes&&(t.classes=function(o,a){return Aa(o,a.getClassNames(),()=>{})}(e.classes,d),!t.classes)||e.styles&&(t.styles=function(o,a){return Aa(o,a.getStyleNames(!0),h=>a.getStyle(h))}(e.styles,d),!t.styles)?null:t;var o,a}function Aa(d,e,t){const o=(g=d,Array.isArray(g)?g.map(y=>Fn(y)?(void 0!==y.key&&void 0!==y.value||Mt("matcher-pattern-missing-key-or-value",y),[y.key,y.value]):[y,!0]):Fn(g)?Object.entries(g):[[g,!0]]),a=Array.from(e),h=[];var g;if(o.forEach(([g,y])=>{a.forEach(k=>{var E,D;D=k,(!0===(E=g)||E===D||E instanceof RegExp&&D.match(E))&&function(E,D,F){if(!0===E)return!0;const Z=F(D);return E===Z||E instanceof RegExp&&!!String(Z).match(E)}(y,k,t)&&h.push(k)})}),o.length&&!(h.length<o.length))return h}const Qc=function(d){return"symbol"==typeof d||nr(d)&&"[object Symbol]"==Ni(d)};var xa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wu=/^\w*$/;function gd(d,e){if("function"!=typeof d||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var o=arguments,a=e?e.apply(this,o):o[0],h=t.cache;if(h.has(a))return h.get(a);var g=d.apply(this,o);return t.cache=h.set(a,g)||h,g};return t.cache=new(gd.Cache||lo),t}gd.Cache=lo;var e,t,Qd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,os=/\\(\\)?/g,Cf=(e=gd(function(d){var e=[];return 46===d.charCodeAt(0)&&e.push(""),d.replace(Qd,function(t,o,a,h){e.push(a?h.replace(os,"$1"):o||t)}),e},function(o){return 500===t.size&&t.clear(),o}),t=e.cache,e);const md=Cf;var Jd=Or?Or.prototype:void 0,kf=Jd?Jd.toString:void 0;const $p=function d(e){if("string"==typeof e)return e;if(Ri(e))return function(d,e){for(var t=-1,o=null==d?0:d.length,a=Array(o);++t<o;)a[t]=e(d[t],t,d);return a}(e,d)+"";if(Qc(e))return kf?kf.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Af=function(d){return null==d?"":$p(d)},Xd=function(d,e){return Ri(d)?d:function(d,e){if(Ri(d))return!1;var t=typeof d;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=d&&!Qc(d))||wu.test(d)||!xa.test(d)||null!=e&&d in Object(e)}(d,e)?[d]:md(Af(d))},Dc=function(d){if("string"==typeof d||Qc(d))return d;var e=d+"";return"0"==e&&1/d==-1/0?"-0":e},Xc=function(d,e){for(var t=0,o=(e=Xd(e,d)).length;null!=d&&t<o;)d=d[Dc(e[t++])];return t&&t==o?d:void 0},_d=function(d,e,t){var o=-1,a=d.length;e<0&&(e=-e>a?0:a+e),(t=t>a?a:t)<0&&(t+=a),a=e>t?0:t-e>>>0,e>>>=0;for(var h=Array(a);++o<a;)h[o]=d[o+e];return h},_l=function(d,e,t){var o=null==d?void 0:Xc(d,e);return void 0===o?t:o},ga=function(d,e,t){(void 0!==t&&!Hi(d[e],t)||void 0===t&&!(e in d))&&bs(d,e,t)},Hu=function(d,e){if(("constructor"!==e||"function"!=typeof d[e])&&"__proto__"!=e)return d[e]},Cu=function d(e,t,o,a,h){e!==t&&function(e,t,o){for(var a=-1,h=Object(e),g=o(e),y=g.length;y--;){var k=g[++a];if(!1===t(h[k],k,h))break}}(t,function(g,y){if(h||(h=new vr),lt(g))!function(d,e,t,o,a,h,g){var y=Hu(d,t),k=Hu(e,t),E=g.get(k);if(E)ga(d,t,E);else{var D=h?h(y,k,t+"",d,e,g):void 0,F=void 0===D;if(F){var Z=Ri(k),ue=!Z&&$r(k),Ae=!Z&&!ue&&$o(k);D=k,Z||ue||Ae?Ri(y)?D=y:function(d){return nr(d)&&Er(d)}(y)?D=Ce(y):ue?(F=!1,D=$(k,!0)):Ae?(F=!1,D=Ua(k,!0)):D=[]:Fn(k)||ns(k)?(D=y,ns(y)?D=function(d){return ts(d,le(d))}(y):lt(y)&&!Ai(y)||(D=I(k))):F=!1}F&&(g.set(k,D),a(D,k,o,h,g),g.delete(k)),ga(d,t,D)}}(e,t,y,o,d,a,h);else{var k=a?a(Hu(e,y),g,y+"",e,t,h):void 0;void 0===k&&(k=g),ga(e,y,k)}},le)},Ea=function(d){return d},Gs=function(d,e,t){switch(t.length){case 0:return d.call(e);case 1:return d.call(e,t[0]);case 2:return d.call(e,t[0],t[1]);case 3:return d.call(e,t[0],t[1],t[2])}return d.apply(e,t)};var Gu=Math.max;const $s=function(d){return function(){return d}},ac=Ur?function(d,e){return Ur(d,"toString",{configurable:!0,enumerable:!1,value:$s(e),writable:!0})}:Ea;var Fh=Date.now;const Lh=function(d){var e=0,t=0;return function(){var o=Fh(),a=16-(o-t);if(t=o,a>0){if(++e>=800)return arguments[0]}else e=0;return d.apply(void 0,arguments)}}(ac),$u=function(d){return function(d,e){return Lh(function(d,e,t){return e=Gu(void 0===e?d.length-1:e,0),function(){for(var o=arguments,a=-1,h=Gu(o.length-e,0),g=Array(h);++a<h;)g[a]=o[e+a];a=-1;for(var y=Array(e+1);++a<e;)y[a]=o[a];return y[e]=t(g),Gs(d,this,y)}}(d,e,Ea),d+"")}(function(e,t){var o=-1,a=t.length,h=a>1?t[a-1]:void 0,g=a>2?t[2]:void 0;for(h=d.length>3&&"function"==typeof h?(a--,h):void 0,g&&function(d,e,t){if(!lt(t))return!1;var o=typeof e;return!!("number"==o?Er(t)&&ta(e,t.length):"string"==o&&e in t)&&Hi(t[e],d)}(t[0],t[1],g)&&(h=a<3?void 0:h,a=1),e=Object(e);++o<a;){var y=t[o];y&&d(e,y,o,h)}return e})},Ss=$u(function(d,e,t){Cu(d,e,t)});class ku{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(function(o){let a=null,h=0,g=0,y=null;const k=new Map;if(""===o)return k;";"!=o.charAt(o.length-1)&&(o+=";");for(let E=0;E<o.length;E++){const D=o.charAt(E);if(null===a)switch(D){case":":y||(y=o.substr(h,E-h),g=E+1);break;case'"':case"'":a=D;break;case";":{const F=o.substr(g,E-g);y&&k.set(y.trim(),F.trim()),y=null,h=E+1;break}}else D===a&&(a=null)}return k}(e).entries());for(const[o,a]of t)this._styleProcessor.toNormalizedForm(o,a,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(t)}set(e,t){if(lt(e))for(const[o,a]of Object.entries(e))this._styleProcessor.toNormalizedForm(o,a,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=Wu(e);(function(d,e){null==d||function(d,e){null==(d=function(d,e){return e.length<2?d:Xc(d,_d(e,0,-1))}(d,e=Xd(e,d)))||delete d[Dc(function(d){var e=null==d?0:d.length;return e?d[e-1]:void 0}(e))]}(d,e)})(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!lt(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const o of t)e.push(...this._styleProcessor.getReducedForm(o,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const o=t.splice(0,t.length-1).join("."),a=_l(this._styles,o);!a||!Array.from(Object.keys(a)).length&&this.remove(o)}}class Tc{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,o){if(lt(t))Sc(o,Wu(e),t);else if(this._normalizers.has(e)){const a=this._normalizers.get(e),{path:h,value:g}=a(t);Sc(o,h,g)}else Sc(o,e,t)}getNormalized(e,t){if(!e)return Ss({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){const o=this._extractors.get(e);if("string"==typeof o)return _l(t,o);const a=o(e,t);if(a)return a}return _l(t,Wu(e))}getReducedForm(e,t){const o=this.getNormalized(e,t);return void 0===o?[]:this._reducers.has(e)?this._reducers.get(e)(o):[[e,o]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(a=>{const h=this.getNormalized(a,e);return h&&"object"==typeof h?Object.keys(h).length:h}),o=new Set([...t,...Object.keys(e)]);return Array.from(o.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const o of t)this._mapStyleNames(o,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function Wu(d){return d.replace("-",".")}function Sc(d,e,t){let o=t;lt(t)&&(o=Ss({},_l(d,e),t)),function(d,e,t){null==d||function(d,e,t,o){if(!lt(d))return d;for(var a=-1,h=(e=Xd(e,d)).length,g=h-1,y=d;null!=y&&++a<h;){var k=Dc(e[a]),E=t;if("__proto__"===k||"constructor"===k||"prototype"===k)return d;if(a!=g){var D=y[k];void 0===(E=void 0)&&(E=lt(D)?D:ta(e[a+1])?[]:{})}Gr(y,k,E),y=y[k]}}(d,e,t)}(d,e,o)}class Ma extends Kc{constructor(e,t,o,a){if(super(e),this.name=t,this._attrs=function(h){const g=Bn(h);for(const[y,k]of g)null===k?g.delete(y):"string"!=typeof k&&g.set(y,String(k));return g}(o),this._children=[],a&&this._insertChild(0,a),this._classes=new Set,this._attrs.has("class")){const h=this._attrs.get("class");Rl(this._classes,h),this._attrs.delete("class")}this._styles=new ku(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if("class"==e)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==e){const t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(e)}hasAttribute(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Ma))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,o]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==o)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Ts(...e);let o=this.parent;for(;o&&!o.is("documentFragment");){if(t.match(o))return o;o=o.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),o=Array.from(this._attrs).map(a=>`${a[0]}="${a[1]}"`).sort().join(" ");return this.name+(""==e?"":` class="${e}"`)+(t?` style="${t}"`:"")+(""==o?"":` ${o}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const a of this.getChildren())t.push(a._clone(e));const o=new this.constructor(this.document,this.name,this._attrs,t);return o._classes=new Set(this._classes),o._styles.set(this._styles.getNormalized()),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o._unsafeAttributesToRender=this._unsafeAttributesToRender,o}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let o=0;const a=(h=this.document,"string"==typeof(g=t)?[new ko(h,g)]:(Di(g)||(g=[g]),Array.from(g).map(y=>"string"==typeof y?new ko(h,y):y instanceof io?new ko(h,y.data):y)));var h,g;for(const h of a)null!==h.parent&&h._remove(),h.parent=this,h.document=this.document,this._children.splice(e,0,h),e++,o++;return o}_removeChildren(e,t=1){this._fireChange("children",this);for(let o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){t=String(t),this._fireChange("attributes",this),"class"==e?Rl(this._classes,t):"style"==e?this._styles.setTo(t):this._attrs.set(e,t)}_removeAttribute(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of ae(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of ae(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),Fn(e)?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of ae(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Rl(d,e){const t=e.split(/\s+/);d.clear(),t.forEach(o=>d.add(o))}Ma.prototype.is=function(d,e){return e?e===this.name&&("element"===d||"view:element"===d):"element"===d||"view:element"===d||"node"===d||"view:node"===d};class Ic extends Ma{constructor(...e){super(...e),this.getFillerOffset=Ef}}function Ef(){const d=[...this.getChildren()],e=d[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of d)if(!t.is("uiElement"))return null;return this.childCount}Ic.prototype.is=function(d,e){return e?e===this.name&&("containerElement"===d||"view:containerElement"===d||"element"===d||"view:element"===d):"containerElement"===d||"view:containerElement"===d||"element"===d||"view:element"===d||"node"===d||"view:node"===d};class Zl extends(Dn(Ic)){constructor(...e){super(...e);const t=e[0];this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",o=>o&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}Zl.prototype.is=function(d,e){return e?e===this.name&&("editableElement"===d||"view:editableElement"===d||"containerElement"===d||"view:containerElement"===d||"element"===d||"view:element"===d):"editableElement"===d||"view:editableElement"===d||"containerElement"===d||"view:containerElement"===d||"element"===d||"view:element"===d||"node"===d||"view:node"===d};const Mf=Symbol("rootName");class Fa extends Zl{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(Mf)}set rootName(e){this._setCustomProperty(Mf,e)}set _name(e){this.name=e}}Fa.prototype.is=function(d,e){return e?e===this.name&&("rootElement"===d||"view:rootElement"===d||"editableElement"===d||"view:editableElement"===d||"containerElement"===d||"view:containerElement"===d||"element"===d||"view:element"===d):"rootElement"===d||"view:rootElement"===d||"editableElement"===d||"view:editableElement"===d||"containerElement"===d||"view:containerElement"===d||"element"===d||"view:element"===d||"node"===d||"view:node"===d};class lc{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new Oe("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new Oe("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,this.position=Mn._createAt(e.startPosition?e.startPosition:e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(e){let t,o,a;do{a=this.position,({done:t,value:o}=this.next())}while(!t&&e(o));t||(this.position=a)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,o=e.parent;if(null===o.parent&&e.offset===o.childCount)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let a;if(o instanceof ko){if(e.isAtEnd)return this.position=Mn._createAfter(o),this._next();a=o.data[e.offset]}else a=o.getChild(e.offset);if(a instanceof Ma)return this.shallow?e.offset++:e=new Mn(a,0),this.position=e,this._formatReturnValue("elementStart",a,t,e,1);if(a instanceof ko){if(this.singleCharacters)return e=new Mn(a,0),this.position=e,this._next();{let h,g=a.data.length;return a==this._boundaryEndParent?(g=this.boundaries.end.offset,h=new io(a,0,g),e=Mn._createAfter(h)):(h=new io(a,0,a.data.length),e.offset++),this.position=e,this._formatReturnValue("text",h,t,e,g)}}if("string"==typeof a){let h;h=this.singleCharacters?1:(o===this._boundaryEndParent?this.boundaries.end.offset:o.data.length)-e.offset;const g=new io(o,e.offset,h);return e.offset+=h,this.position=e,this._formatReturnValue("text",g,t,e,h)}return e=Mn._createAfter(o),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",o,t,e)}_previous(){let e=this.position.clone();const t=this.position,o=e.parent;if(null===o.parent&&0===e.offset)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let a;if(o instanceof ko){if(e.isAtStart)return this.position=Mn._createBefore(o),this._previous();a=o.data[e.offset-1]}else a=o.getChild(e.offset-1);if(a instanceof Ma)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",a,t,e,1)):(e=new Mn(a,a.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",a,t,e));if(a instanceof ko){if(this.singleCharacters)return e=new Mn(a,a.data.length),this.position=e,this._previous();{let h,g=a.data.length;if(a==this._boundaryStartParent){const y=this.boundaries.start.offset;h=new io(a,y,a.data.length-y),g=h.data.length,e=Mn._createBefore(h)}else h=new io(a,0,a.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",h,t,e,g)}}if("string"==typeof a){let h;h=this.singleCharacters?1:e.offset-(o===this._boundaryStartParent?this.boundaries.start.offset:0),e.offset-=h;const g=new io(o,e.offset,h);return this.position=e,this._formatReturnValue("text",g,t,e,h)}return e=Mn._createBefore(o),this.position=e,this._formatReturnValue("elementStart",o,t,e,1)}_formatReturnValue(e,t,o,a,h){return t instanceof io&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?o=Mn._createAfter(t.textNode):(a=Mn._createAfter(t.textNode),this.position=a)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?o=Mn._createBefore(t.textNode):(a=Mn._createBefore(t.textNode),this.position=a))),{done:!1,value:{type:e,item:t,previousPosition:o,nextPosition:a,length:h}}}}class Mn extends Wl{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Zl);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=Mn._createAt(this),o=t.offset+e;return t.offset=o<0?0:o,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const o=new lc(t);return o.skip(e),o.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),o=e.getAncestors();let a=0;for(;t[a]==o[a]&&t[a];)a++;return 0===a?null:t[a-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return"before"==this.compareWith(e)}isAfter(e){return"after"==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],o=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),o.push(e.offset);const a=fi(t,o);switch(a){case"prefix":return"before";case"extension":return"after";default:return t[a]<o[a]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new lc(e)}clone(){return new Mn(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Mn)return new this(e.parent,e.offset);{const o=e;if("end"==t)t=o.is("$text")?o.data.length:o.childCount;else{if("before"==t)return this._createBefore(o);if("after"==t)return this._createAfter(o);if(0!==t&&!t)throw new Oe("view-createpositionat-offset-required",o)}return new Mn(o,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Mn(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new Oe("view-position-after-root",e,{root:e});return new Mn(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Mn(e.textNode,e.offsetInText);if(!e.parent)throw new Oe("view-position-before-root",e,{root:e});return new Mn(e.parent,e.index)}}Mn.prototype.is=function(d){return"position"===d||"view:position"===d};class ji extends Wl{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new lc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(bd,{direction:"backward"}),t=this.end.getLastMatchingPosition(bd);return e.parent.is("$text")&&e.isAtStart&&(e=Mn._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Mn._createAfter(t.parent)),new ji(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(bd);if(e.isAfter(this.end)||e.isEqual(this.end))return new ji(e,e);let t=this.end.getLastMatchingPosition(bd,{direction:"backward"});const o=e.nodeAfter,a=t.nodeBefore;return o&&o.is("$text")&&(e=new Mn(o,0)),a&&a.is("$text")&&(t=new Mn(a,a.data.length)),new ji(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&a}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ji(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ji(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,o=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(o=e.end),new ji(t,o)}return null}getWalker(e={}){return e.boundaries=this,new lc(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new ji(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new lc(e);for(const o of t)yield o.item}*getPositions(e={}){e.boundaries=this;const t=new lc(e);yield t.position;for(const o of t)yield o.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,o,a){return new this(new Mn(e,t),new Mn(o,a))}static _createFromPositionAndShift(e,t){const o=e,a=e.getShiftedBy(t);return t>0?new this(o,a):new this(a,o)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Mn._createBefore(e),t)}}function bd(d){return!(!d.item.is("attributeElement")&&!d.item.is("uiElement"))}ji.prototype.is=function(d){return"range"===d||"view:range"===d};class Fl extends(He(Wl)){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let o=!1;for(const a of e._ranges)if(t.isEqual(a)){o=!0;break}if(!o)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=ai(this.getRanges());if(t!=ai(e.getRanges()))return!1;if(0==t)return!0;for(let o of this.getRanges()){o=o.getTrimmed();let a=!1;for(let h of e.getRanges())if(h=h.getTrimmed(),o.start.isEqual(h.start)&&o.end.isEqual(h.end)){a=!0;break}if(!a)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,o,a]=e;if("object"==typeof o&&(a=o,o=void 0),null===t)this._setRanges([]),this._setFakeOptions(a);else if(t instanceof Fl||t instanceof Zu)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ji)this._setRanges([t],a&&a.backward),this._setFakeOptions(a);else if(t instanceof Mn)this._setRanges([new ji(t)]),this._setFakeOptions(a);else if(t instanceof Kc){const h=!!a&&!!a.backward;let g;if(void 0===o)throw new Oe("view-selection-setto-required-second-parameter",this);g="in"==o?ji._createIn(t):"on"==o?ji._createOn(t):new ji(Mn._createAt(t,o)),this._setRanges([g],h),this._setFakeOptions(a)}else{if(!Di(t))throw new Oe("view-selection-setto-not-selectable",this);this._setRanges(t,a&&a.backward),this._setFakeOptions(a)}this.fire("change")}setFocus(e,t){if(null===this.anchor)throw new Oe("view-selection-setfocus-no-ranges",this);const o=Mn._createAt(e,t);if("same"==o.compareWith(this.focus))return;const a=this.anchor;this._ranges.pop(),"before"==o.compareWith(a)?this._addRange(new ji(o,a),!0):this._addRange(new ji(a,o)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const o of e)this._addRange(o);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof ji))throw new Oe("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new Oe("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new ji(e.start,e.end))}}Fl.prototype.is=function(d){return"selection"===d||"view:selection"===d};class Zu extends(He(Wl)){constructor(...e){super(),this._selection=new Fl,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}Zu.prototype.is=function(d){return"selection"===d||"documentSelection"==d||"view:selection"==d||"view:documentSelection"==d};class vl extends Xe{constructor(e,t,o){super(e,t),this.startRange=o,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Yu=Symbol("bubbling contexts");function Yl(d){return class extends d{fire(e,...t){try{const o=e instanceof Xe?e:new Xe(this,e),a=Ko(this);if(!a.size)return;if(vd(o,"capturing",this),cc(a,"$capture",o,...t))return o.return;const h=o.startRange||this.selection.getFirstRange(),g=h?h.getContainedElement():null,y=!!g&&Boolean(yd(a,g));let k=g||function(E){if(!E)return null;const D=E.start.parent,F=E.end.parent,Z=D.getPath(),ue=F.getPath();return Z.length>ue.length?D:F}(h);if(vd(o,"atTarget",k),!y){if(cc(a,"$text",o,...t))return o.return;vd(o,"bubbling",k)}for(;k;){if(k.is("rootElement")){if(cc(a,"$root",o,...t))return o.return}else if(k.is("element")&&cc(a,k.name,o,...t))return o.return;if(cc(a,k,o,...t))return o.return;k=k.parent,vd(o,"bubbling",k)}return vd(o,"bubbling",this),cc(a,"$document",o,...t),o.return}catch(o){Oe.rethrowUnexpectedError(o,this)}}_addEventListener(e,t,o){const a=ae(o.context||"$document"),h=Ko(this);for(const g of a){let y=h.get(g);y||(y=new(He()),h.set(g,y)),this.listenTo(y,e,t,o)}}_removeEventListener(e,t){const o=Ko(this);for(const a of o.values())this.stopListening(a,e,t)}}}{const d=Yl(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Yl[e]=d.prototype[e]})}function vd(d,e,t){d instanceof vl&&(d._eventPhase=e,d._currentTarget=t)}function cc(d,e,t,...o){const a="string"==typeof e?d.get(e):yd(d,e);return!!a&&(a.fire(t,...o),t.stop.called)}function yd(d,e){for(const[t,o]of d)if("function"==typeof t&&t(e))return o;return null}function Ko(d){return d[Yu]||(d[Yu]=new Map),d[Yu]}class Dr extends(Yl(Dn())){constructor(e){super(),this.selection=new Zu,this.roots=new Sn({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("_isFocusChanging",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do{for(const o of this._postFixers)if(t=o(e),t)break}while(t)}}class Ll extends Ma{constructor(...e){super(...e),this.getFillerOffset=Pc,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new Oe("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function Pc(){if(Df(this))return null;let d=this.parent;for(;d&&d.is("attributeElement");){if(Df(d)>1)return null;d=d.parent}return!d||Df(d)>1?null:this.childCount}function Df(d){return Array.from(d.getChildren()).filter(e=>!e.is("uiElement")).length}Ll.DEFAULT_PRIORITY=10,Ll.prototype.is=function(d,e){return e?e===this.name&&("attributeElement"===d||"view:attributeElement"===d||"element"===d||"view:element"===d):"attributeElement"===d||"view:attributeElement"===d||"element"===d||"view:element"===d||"node"===d||"view:node"===d};class th extends Ma{constructor(e,t,o,a){super(e,t,o,a),this.getFillerOffset=Lo}_insertChild(e,t){if(t&&(t instanceof Kc||Array.from(t).length>0))throw new Oe("view-emptyelement-cannot-add",[this,t]);return 0}}function Lo(){return null}th.prototype.is=function(d,e){return e?e===this.name&&("emptyElement"===d||"view:emptyElement"===d||"element"===d||"view:element"===d):"emptyElement"===d||"view:emptyElement"===d||"element"===d||"view:element"===d||"node"===d||"view:node"===d};class ps extends Ma{constructor(...e){super(...e),this.getFillerOffset=Da}_insertChild(e,t){if(t&&(t instanceof Kc||Array.from(t).length>0))throw new Oe("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const o of this.getAttributeKeys())t.setAttribute(o,this.getAttribute(o));return t}}function Da(){return null}ps.prototype.is=function(d,e){return e?e===this.name&&("uiElement"===d||"view:uiElement"===d||"element"===d||"view:element"===d):"uiElement"===d||"view:uiElement"===d||"element"===d||"view:element"===d||"node"===d||"view:node"===d};class Qo extends Ma{constructor(...e){super(...e),this.getFillerOffset=ih}_insertChild(e,t){if(t&&(t instanceof Kc||Array.from(t).length>0))throw new Oe("view-rawelement-cannot-add",[this,t]);return 0}render(){}}function ih(){return null}Qo.prototype.is=function(d,e){return e?e===this.name&&("rawElement"===d||"view:rawElement"===d||"element"===d||"view:element"===d):"rawElement"===d||"view:rawElement"===d||d===this.name||d==="view:"+this.name||"element"===d||"view:element"===d||"node"===d||"view:node"===d};class er extends(He(Wl)){constructor(e,t){super(),this.document=e,this._children=[],t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let o=0;const a=(h=this.document,"string"==typeof(g=t)?[new ko(h,g)]:(Di(g)||(g=[g]),Array.from(g).map(y=>"string"==typeof y?new ko(h,y):y instanceof io?new ko(h,y.data):y)));var h,g;for(const h of a)null!==h.parent&&h._remove(),h.parent=this,this._children.splice(e,0,h),e++,o++;return o}_removeChildren(e,t=1){this._fireChange("children",this);for(let o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}}er.prototype.is=function(d){return"documentFragment"===d||"view:documentFragment"===d};class Bl{constructor(e){this.document=e,this._cloneGroups=new Map,this._slotFactory=null}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(...e){this.document.selection._setFocus(...e)}createDocumentFragment(e){return new er(this.document,e)}createText(e){return new ko(this.document,e)}createAttributeElement(e,t,o={}){const a=new Ll(this.document,e,t);return"number"==typeof o.priority&&(a._priority=o.priority),o.id&&(a._id=o.id),o.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),a}createContainerElement(e,t,o={},a={}){let h=null;Fn(o)?a=o:h=o;const g=new Ic(this.document,e,t,h);return a.renderUnsafeAttributes&&g._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),g}createEditableElement(e,t,o={}){const a=new Zl(this.document,e,t);return o.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),a}createEmptyElement(e,t,o={}){const a=new th(this.document,e,t);return o.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),a}createUIElement(e,t,o){const a=new ps(this.document,e,t);return o&&(a.render=o),a}createRawElement(e,t,o,a={}){const h=new Qo(this.document,e,t);return o&&(h.render=o),a.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),h}setAttribute(e,t,o){o._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,o){Fn(e)&&void 0===o?t._setStyle(e):o._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,o){o._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Mn?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new Oe("view-writer-break-non-container-element",this.document);if(!t.parent)throw new Oe("view-writer-break-root",this.document);if(e.isAtStart)return Mn._createBefore(t);if(!e.isAtEnd){const o=t._clone(!1);this.insert(Mn._createAfter(t),o);const a=new ji(e,Mn._createAt(t,"end")),h=new Mn(o,0);this.move(a,h)}return Mn._createAfter(t)}mergeAttributes(e){const t=e.offset,o=e.parent;if(o.is("$text"))return e;if(o.is("attributeElement")&&0===o.childCount){const g=o.parent,y=o.index;return o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new Mn(g,y))}const a=o.getChild(t-1),h=o.getChild(t);if(!a||!h)return e;if(a.is("$text")&&h.is("$text"))return ap(a,h);if(a.is("attributeElement")&&h.is("attributeElement")&&a.isSimilar(h)){const g=a.childCount;return a._appendChild(h.getChildren()),h._remove(),this._removeFromClonedElementsGroup(h),this.mergeAttributes(new Mn(a,g))}return e}mergeContainers(e){const t=e.nodeBefore,o=e.nodeAfter;if(!(t&&o&&t.is("containerElement")&&o.is("containerElement")))throw new Oe("view-writer-merge-containers-invalid-position",this.document);const a=t.getChild(t.childCount-1),h=Mn._createAt(a instanceof ko?a:t,"end");return this.move(ji._createIn(o),Mn._createAt(t,"end")),this.remove(ji._createOn(o)),h}insert(e,t){lp(t=Di(t)?[...t]:[t],this.document);const o=t.reduce((g,y)=>{const k=g[g.length-1],E=!y.is("uiElement");return k&&k.breakAttributes==E?k.nodes.push(y):g.push({breakAttributes:E,nodes:[y]}),g},[]);let a=null,h=e;for(const{nodes:g,breakAttributes:y}of o){const k=this._insertNodes(h,g,y);a||(a=k.start),h=k.end}return a?new ji(a,h):new ji(e)}remove(e){const t=e instanceof ji?e:ji._createOn(e);if(Au(t,this.document),t.isCollapsed)return new er(this.document);const{start:o,end:a}=this._breakAttributesRange(t,!0),y=o.parent._removeChildren(o.offset,a.offset-o.offset);for(const E of y)this._removeFromClonedElementsGroup(E);const k=this.mergeAttributes(o);return t.start=k,t.end=k.clone(),new er(this.document,y)}clear(e,t){Au(e,this.document);const o=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const a of o){const h=a.item;let g;if(h.is("element")&&t.isSimilar(h))g=ji._createOn(h);else if(!a.nextPosition.isAfter(e.start)&&h.is("$textProxy")){const y=h.getAncestors().find(k=>k.is("element")&&t.isSimilar(k));y&&(g=ji._createIn(y))}g&&(g.end.isAfter(e.end)&&(g.end=e.end),g.start.isBefore(e.start)&&(g.start=e.start),this.remove(g))}}move(e,t){let o;if(t.isAfter(e.end)){const a=(t=this._breakAttributes(t,!0)).parent,h=a.childCount;e=this._breakAttributesRange(e,!0),o=this.remove(e),t.offset+=a.childCount-h}else o=this.remove(e);return this.insert(t,o)}wrap(e,t){if(!(t instanceof Ll))throw new Oe("view-writer-wrap-invalid-attribute",this.document);if(Au(e,this.document),e.isCollapsed){let a=e.start;a.parent.is("element")&&!Array.from(a.parent.getChildren()).some(g=>!g.is("uiElement"))&&(a=a.getLastMatchingPosition(g=>g.item.is("uiElement"))),a=this._wrapPosition(a,t);const h=this.document.selection;return h.isCollapsed&&h.getFirstPosition().isEqual(e.start)&&this.setSelection(a),new ji(a)}return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof Ll))throw new Oe("view-writer-unwrap-invalid-attribute",this.document);if(Au(e,this.document),e.isCollapsed)return e;const{start:o,end:a}=this._breakAttributesRange(e,!0),g=this._unwrapChildren(o.parent,o.offset,a.offset,t),y=this.mergeAttributes(g.start);y.isEqual(g.start)||g.end.offset--;const k=this.mergeAttributes(g.end);return new ji(y,k)}rename(e,t){const o=new Ic(this.document,e,t.getAttributes());return this.insert(Mn._createAfter(t),o),this.move(ji._createIn(t),Mn._createAt(o,0)),this.remove(ji._createOn(t)),o}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Mn._createAt(e,t)}createPositionAfter(e){return Mn._createAfter(e)}createPositionBefore(e){return Mn._createBefore(e)}createRange(...e){return new ji(...e)}createRangeOn(e){return ji._createOn(e)}createRangeIn(e){return ji._createIn(e)}createSelection(...e){return new Fl(...e)}createSlot(e){if(!this._slotFactory)throw new Oe("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,o){let a,h;if(a=o?Tf(e):e.parent.is("$text")?e.parent.parent:e.parent,!a)throw new Oe("view-writer-invalid-position-container",this.document);h=o?this._breakAttributes(e,!0):e.parent.is("$text")?rh(e):e;const g=a._insertChild(h.offset,t);for(const D of t)this._addToClonedElementsGroup(D);const y=h.getShiftedBy(g),k=this.mergeAttributes(h);k.isEqual(h)||y.offset--;const E=this.mergeAttributes(y);return new ji(k,E)}_wrapChildren(e,t,o,a){let h=t;const g=[];for(;h<o;){const k=e.getChild(h),E=k.is("$text"),D=k.is("attributeElement");if(D&&this._wrapAttributeElement(a,k))g.push(new Mn(e,h));else if(E||!D||Ku(a,k)){const F=a._clone();k._remove(),F._appendChild(k),e._insertChild(h,F),this._addToClonedElementsGroup(F),g.push(new Mn(e,h))}else this._wrapChildren(k,0,k.childCount,a);h++}let y=0;for(const k of g)k.offset-=y,k.offset!=t&&(this.mergeAttributes(k).isEqual(k)||(y++,o--));return ji._createFromParentsAndOffsets(e,t,e,o)}_unwrapChildren(e,t,o,a){let h=t;const g=[];for(;h<o;){const k=e.getChild(h);if(k.is("attributeElement"))if(k.isSimilar(a)){const E=k.getChildren(),D=k.childCount;k._remove(),e._insertChild(h,E),this._removeFromClonedElementsGroup(k),g.push(new Mn(e,h),new Mn(e,h+D)),h+=D,o+=D-1}else this._unwrapAttributeElement(a,k)?(g.push(new Mn(e,h),new Mn(e,h+1)),h++):(this._unwrapChildren(k,0,k.childCount,a),h++);else h++}let y=0;for(const k of g)k.offset-=y,k.offset!=t&&k.offset!=o&&(this.mergeAttributes(k).isEqual(k)||(y++,o--));return ji._createFromParentsAndOffsets(e,t,e,o)}_wrapRange(e,t){const{start:o,end:a}=this._breakAttributesRange(e,!0),g=this._wrapChildren(o.parent,o.offset,a.offset,t),y=this.mergeAttributes(g.start);y.isEqual(g.start)||g.end.offset--;const k=this.mergeAttributes(g.end);return new ji(y,k)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return jh(e.clone());e.parent.is("$text")&&(e=rh(e));const o=this.createAttributeElement("_wrapPosition-fake-element");o._priority=Number.POSITIVE_INFINITY,o.isSimilar=()=>!1,e.parent._insertChild(e.offset,o);const a=new ji(e,e.getShiftedBy(1));this.wrap(a,t);const h=new Mn(o.parent,o.index);o._remove();const g=h.nodeBefore,y=h.nodeAfter;return g instanceof ko&&y instanceof ko?ap(g,y):jh(h)}_wrapAttributeElement(e,t){if(!wd(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const o of e.getAttributeKeys())if("class"!==o&&"style"!==o&&t.hasAttribute(o)&&t.getAttribute(o)!==e.getAttribute(o))return!1;for(const o of e.getStyleNames())if(t.hasStyle(o)&&t.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())"class"!==o&&"style"!==o&&(t.hasAttribute(o)||this.setAttribute(o,e.getAttribute(o),t));for(const o of e.getStyleNames())t.hasStyle(o)||this.setStyle(o,e.getStyle(o),t);for(const o of e.getClassNames())t.hasClass(o)||this.addClass(o,t);return!0}_unwrapAttributeElement(e,t){if(!wd(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const o of e.getAttributeKeys())if("class"!==o&&"style"!==o&&(!t.hasAttribute(o)||t.getAttribute(o)!==e.getAttribute(o)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const o of e.getStyleNames())if(!t.hasStyle(o)||t.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())"class"!==o&&"style"!==o&&this.removeAttribute(o,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const o=e.start,a=e.end;if(Au(e,this.document),e.isCollapsed){const k=this._breakAttributes(e.start,t);return new ji(k,k)}const h=this._breakAttributes(a,t),g=h.parent.childCount,y=this._breakAttributes(o,t);return h.offset+=h.parent.childCount-g,new ji(y,h)}_breakAttributes(e,t=!1){const o=e.offset,a=e.parent;if(e.parent.is("emptyElement"))throw new Oe("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new Oe("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new Oe("view-writer-cannot-break-raw-element",this.document);if(!t&&a.is("$text")&&nu(a.parent)||nu(a))return e.clone();if(a.is("$text"))return this._breakAttributes(rh(e),t);if(o==a.childCount){const h=new Mn(a.parent,a.index+1);return this._breakAttributes(h,t)}if(0===o){const h=new Mn(a.parent,a.index);return this._breakAttributes(h,t)}{const h=a.index+1,g=a._clone();a.parent._insertChild(h,g),this._addToClonedElementsGroup(g);const k=a._removeChildren(o,a.childCount-o);g._appendChild(k);const E=new Mn(a.parent,h);return this._breakAttributes(E,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const a of e.getChildren())this._addToClonedElementsGroup(a);const t=e.id;if(!t)return;let o=this._cloneGroups.get(t);o||(o=new Set,this._cloneGroups.set(t,o)),o.add(e),e._clonesGroup=o}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const a of e.getChildren())this._removeFromClonedElementsGroup(a);const t=e.id;if(!t)return;const o=this._cloneGroups.get(t);o&&o.delete(e)}}function Tf(d){let e=d.parent;for(;!nu(e);){if(!e)return;e=e.parent}return e}function Ku(d,e){return d.priority<e.priority||!(d.priority>e.priority)&&d.getIdentity()<e.getIdentity()}function jh(d){const e=d.nodeBefore;if(e&&e.is("$text"))return new Mn(e,e.data.length);const t=d.nodeAfter;return t&&t.is("$text")?new Mn(t,0):d}function rh(d){if(d.offset==d.parent.data.length)return new Mn(d.parent.parent,d.parent.index+1);if(0===d.offset)return new Mn(d.parent.parent,d.parent.index);const e=d.parent.data.slice(d.offset);return d.parent._data=d.parent.data.slice(0,d.offset),d.parent.parent._insertChild(d.parent.index+1,new ko(d.root.document,e)),new Mn(d.parent.parent,d.parent.index+1)}function ap(d,e){const t=d.data.length;return d._data+=e.data,e._remove(),new Mn(d,t)}const mr=[ko,Ll,Ic,th,Qo,ps];function lp(d,e){for(const t of d){if(!mr.some(o=>t instanceof o))throw new Oe("view-writer-insert-invalid-node-type",e);t.is("$text")||lp(t.getChildren(),e)}}function nu(d){return d&&(d.is("containerElement")||d.is("documentFragment"))}function Au(d,e){const t=Tf(d.start),o=Tf(d.end);if(!t||!o||t!==o)throw new Oe("view-writer-invalid-range-container",e)}function wd(d,e){return null===d.id&&null===e.id}const Oc=d=>d.createTextNode("\xa0"),Ga=d=>{const e=d.createElement("span");return e.dataset.ckeFiller="true",e.innerText="\xa0",e},Ta=d=>{const e=d.createElement("br");return e.dataset.ckeFiller="true",e},uc="\u2060".repeat(7);function Xa(d){return qi(d)&&d.data.substr(0,7)===uc}function Nc(d){return 7==d.data.length&&Xa(d)}function oh(d){return Xa(d)?d.data.slice(7):d.data}function Sf(d,e){if(e.keyCode==ci.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const o=t.getRangeAt(0).startContainer,a=t.getRangeAt(0).startOffset;Xa(o)&&a<=7&&t.collapse(o,0)}}}var cp=Ne(9315);Bi()(cp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class iu extends(Dn()){constructor(e,t){super(),this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=t,this.set("isFocused",!1),this.set("_isFocusChanging",!1),this.set("isSelecting",!1),Y_isBlink&&!Y_isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new Oe("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!Y_isAndroid)return;let e=null;const t=!(Y_isBlink&&!Y_isAndroid&&this.isSelecting);for(const o of this.markedChildren)this._updateChildrenMappings(o);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Mn._createBefore(e.parent)));for(const o of this.markedAttributes)this._updateAttrs(o);for(const o of this.markedChildren)this._updateChildren(o,{inlineFillerPosition:e});for(const o of this.markedTexts)!this.markedChildren.has(o.parent)&&this.domConverter.mapViewToDom(o.parent)&&this._updateText(o,{inlineFillerPosition:e});if(t)if(e){const o=this.domConverter.viewPositionToDom(e),a=o.parent.ownerDocument;this._inlineFiller=Xa(o.parent)?o.parent:Bo(a,o.parent,o.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const t=Array.from(this.domConverter.mapViewToDom(e).childNodes),o=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),a=this._diffNodeLists(t,o),h=this._findReplaceActions(a,t,o);if(-1!==h.indexOf("replace")){const g={equal:0,insert:0,delete:0};for(const y of h)if("replace"===y){const k=g.equal+g.insert,E=g.equal+g.delete,D=e.getChild(k);!D||D.is("uiElement")||D.is("rawElement")||this._updateElementMappings(D,t[E]),So(o[k]),g.equal++}else g[y]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Mn._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&qi(t.parent)&&Xa(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Xa(e))throw new Oe("view-renderer-filler-was-lost",this);Nc(e)?e.remove():e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,o=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(g){if("false"==g.getAttribute("contenteditable"))return!1;const y=g.findAncestor(k=>k.hasAttribute("contenteditable"));return!y||"true"==y.getAttribute("contenteditable")}(t)||o===t.getFillerOffset())return!1;const a=e.nodeBefore,h=e.nodeAfter;return!(a instanceof ko||h instanceof ko||Y_isAndroid&&(a||h))}_updateText(e,t){const o=this.domConverter.findCorrespondingDomText(e);let a=this.domConverter.viewToDom(e).data;const h=t.inlineFillerPosition;h&&h.parent==e.parent&&h.offset==e.index&&(a=uc+a),sh(o,a)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const o=Array.from(t.attributes).map(h=>h.name),a=e.getAttributeKeys();for(const h of a)this.domConverter.setDomElementAttribute(t,h,e.getAttribute(h),e);for(const h of o)e.hasAttribute(h)||this.domConverter.removeDomElementAttribute(t,h)}_updateChildren(e,t){const o=this.domConverter.mapViewToDom(e);if(!o)return;if(Y_isAndroid){let F=null;for(const Z of Array.from(o.childNodes)){if(F&&qi(F)&&qi(Z)){o.normalize();break}F=Z}}const a=t.inlineFillerPosition,h=o.childNodes,g=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));a&&a.parent===e&&Bo(o.ownerDocument,g,a.offset);const y=this._diffNodeLists(h,g),k=Y_isAndroid?this._findReplaceActions(y,h,g,{replaceText:!0}):y;let E=0;const D=new Set;for(const F of k)"delete"===F?(D.add(h[E]),So(h[E])):"equal"!==F&&"replace"!==F||E++;E=0;for(const F of k)"insert"===F?(Yo(o,E,g[E]),E++):"replace"===F?(sh(h[E],g[E].data),E++):"equal"===F&&(this._markDescendantTextToSync(this.domConverter.domToView(g[E])),E++);for(const F of D)F.parentNode||this.domConverter.unbindDomElement(F)}_diffNodeLists(e,t){return Te(e=function(o,a){const h=Array.from(o);return 0==h.length||!a||h[h.length-1]==a&&h.pop(),h}(e,this._fakeSelectionContainer),t,If.bind(null,this.domConverter))}_findReplaceActions(e,t,o,a={}){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;let h=[],g=[],y=[];const k={equal:0,insert:0,delete:0};for(const E of e)"insert"===E?y.push(o[k.equal+k.insert]):"delete"===E?g.push(t[k.equal+k.delete]):(h=h.concat(Te(g,y,a.replaceText?jo:zh).map(D=>"equal"===D?"replace":D)),h.push("equal"),g=[],y=[]),k[E]++;return h.concat(Te(g,y,a.replaceText?jo:zh).map(E=>"equal"===E?"replace":E))}_markDescendantTextToSync(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}_updateSelection(){if(Y_isBlink&&!Y_isAndroid&&this.isSelecting&&!this.markedChildren.size||this._isFocusChanging)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&Y_isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(g){const y=g.createElement("div");return y.className="ck-fake-selection-container",Object.assign(y.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),y.textContent="\xa0",y}(t));const o=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(o,this.selection),!this._fakeSelectionNeedsUpdate(e))return;o.parentElement&&o.parentElement==e||e.appendChild(o),o.textContent=this.selection.fakeSelectionLabel||"\xa0";const a=t.getSelection(),h=t.createRange();a.removeAllRanges(),h.selectNodeContents(o),a.addRange(h)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const o=this.domConverter.viewPositionToDom(this.selection.anchor),a=this.domConverter.viewPositionToDom(this.selection.focus);t.collapse(o.parent,o.offset),t.extend(a.parent,a.offset),Y_isGecko&&function(h,g){const y=h.parent;if(y.nodeType!=Node.ELEMENT_NODE||h.offset!=y.childNodes.length-1)return;const k=y.childNodes[h.offset];k&&"BR"==k.tagName&&g.addRange(g.getRangeAt(0))}(a,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,o=e.ownerDocument.getSelection();return!t||t.parentElement!==e||o.anchorNode!==t&&!t.contains(o.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const o=e.activeElement,a=this.domConverter.mapDomToView(o);o&&a&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Bo(d,e,t){const o=e instanceof Array?e:e.childNodes,a=o[t];if(qi(a))return a.data=uc+a.data,a;{const h=d.createTextNode(uc);return Array.isArray(e)?o.splice(t,0,h):Yo(e,t,h),h}}function zh(d,e){return wi(d)&&wi(e)&&!qi(d)&&!qi(e)&&!Mr(d)&&!Mr(e)&&d.tagName.toLowerCase()===e.tagName.toLowerCase()}function jo(d,e){return wi(d)&&wi(e)&&qi(d)&&qi(e)}function If(d,e,t){return e===t||(qi(e)&&qi(t)?e.data===t.data:!(!d.isBlockFiller(e)||!d.isBlockFiller(t)))}function sh(d,e){const t=d.data;if(t==e)return;const o=fe(t,e);for(const a of o)"insert"===a.type?d.insertData(a.index,a.values.join("")):d.deleteData(a.index,a.howMany)}const ye=Ta(ui.document),Ye=Oc(ui.document),at=Ga(ui.document),on="data-ck-unsafe-attribute-",vi="data-ck-unsafe-element";class ki{constructor(e,t={}){this.document=e,this.renderingMode=t.renderingMode||"editing",this.blockFillerMode=t.blockFillerMode||("editing"===this.renderingMode?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?ui.document:ui.document.implementation.createHTMLDocument(""),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Ts,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Fl(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const o of Array.from(e.children))this.unbindDomElement(o)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,o){return"data"===this.renderingMode||!(e=e.toLowerCase()).startsWith("on")&&("srcdoc"!==e||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===o&&("src"===e||"srcset"===e)||"source"===o&&"srcset"===e||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if("data"===this.renderingMode)return void(e.innerHTML=t);const o=(new DOMParser).parseFromString(t,"text/html"),a=o.createDocumentFragment(),h=o.body.childNodes;for(;h.length>0;)a.appendChild(h[0]);const g=o.createTreeWalker(a,NodeFilter.SHOW_ELEMENT),y=[];let k;for(;k=g.nextNode();)y.push(k);for(const E of y){for(const F of E.getAttributeNames())this.setDomElementAttribute(E,F,E.getAttribute(F));const D=E.tagName.toLowerCase();this._shouldRenameElement(D)&&(Yr(D),E.replaceWith(this._createReplacementDomElement(D,E)))}for(;e.firstChild;)e.firstChild.remove();e.append(a)}viewToDom(e,t={}){if(e.is("$text")){const o=this._processDataFromViewText(e);return this._domDocument.createTextNode(o)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let o;if(e.is("documentFragment"))o=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(o,e);else{if(e.is("uiElement"))return o="$comment"===e.name?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),t.bind&&this.bindElements(o,e),o;this._shouldRenameElement(e.name)?(Yr(e.name),o=this._createReplacementDomElement(e.name)):o=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(o,this),t.bind&&this.bindElements(o,e);for(const a of e.getAttributeKeys())this.setDomElementAttribute(o,a,e.getAttribute(a),e)}if(!1!==t.withChildren)for(const a of this.viewChildrenToDom(e,t))o.appendChild(a);return o}}setDomElementAttribute(e,t,o,a){const h=this.shouldRenderAttribute(t,o,e.tagName.toLowerCase())||a&&a.shouldRenderUnsafeAttribute(t);h||Mt("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:o}),e.hasAttribute(t)&&!h?e.removeAttribute(t):e.hasAttribute(on+t)&&h&&e.removeAttribute(on+t),e.setAttribute(h?t:on+t,o)}removeDomElementAttribute(e,t){t!=vi&&(e.removeAttribute(t),e.removeAttribute(on+t))}*viewChildrenToDom(e,t={}){const o=e.getFillerOffset&&e.getFillerOffset();let a=0;for(const h of e.getChildren()){o===a&&(yield this._getBlockFiller());const g=h.is("element")&&h.getCustomProperty("dataPipeline:transparentRendering");g&&"data"==this.renderingMode?yield*this.viewChildrenToDom(h,t):(g&&Mt("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:h}),yield this.viewToDom(h,t)),a++}o===a&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),o=this.viewPositionToDom(e.end),a=this._domDocument.createRange();return a.setStart(t.parent,t.offset),a.setEnd(o.parent,o.offset),a}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const o=this.findCorrespondingDomText(t);if(!o)return null;let a=e.offset;return Xa(o)&&(a+=7),{parent:o,offset:a}}{let o,a,h;if(0===e.offset){if(o=this.mapViewToDom(t),!o)return null;h=o.childNodes[0]}else{const g=e.nodeBefore;if(a=g.is("$text")?this.findCorrespondingDomText(g):this.mapViewToDom(g),!a)return null;o=a.parentNode,h=a.nextSibling}return qi(h)&&Xa(h)?{parent:h,offset:7}:{parent:o,offset:a?ds(a)+1:0}}}domToView(e,t={}){if(this.isBlockFiller(e))return null;const o=this.getHostViewElement(e);if(o)return o;if(Mr(e)&&t.skipComments)return null;if(qi(e)){if(Nc(e))return null;{const a=this._processDataFromDomText(e);return""===a?null:new ko(this.document,a)}}{if(this.mapDomToView(e))return this.mapDomToView(e);let a;if(this.isDocumentFragment(e))a=new er(this.document),t.bind&&this.bindDocumentFragments(e,a);else{a=this._createViewElement(e,t),t.bind&&this.bindElements(e,a);const h=e.attributes;if(h)for(let g=h.length,y=0;y<g;y++)a._setAttribute(h[y].name,h[y].value);if(this._isViewElementWithRawContent(a,t)||Mr(e)){const g=Mr(e)?e.data:e.innerHTML;return a._setCustomProperty("$rawContent",g),this._encounteredRawContentDomNodes.add(e),a}}if(!1!==t.withChildren)for(const h of this.domChildrenToView(e,t))a._appendChild(h);return a}}*domChildrenToView(e,t){for(let o=0;o<e.childNodes.length;o++){const h=this.domToView(e.childNodes[o],t);null!==h&&(yield h)}}domSelectionToView(e){if(1===e.rangeCount){let a=e.getRangeAt(0).startContainer;qi(a)&&(a=a.parentNode);const h=this.fakeSelectionToView(a);if(h)return h}const t=this.isDomSelectionBackward(e),o=[];for(let a=0;a<e.rangeCount;a++){const h=e.getRangeAt(a),g=this.domRangeToView(h);g&&o.push(g)}return new Fl(o,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),o=this.domPositionToView(e.endContainer,e.endOffset);return t&&o?new ji(t,o):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,ds(e));const o=this.mapDomToView(e);if(o&&(o.is("uiElement")||o.is("rawElement")))return Mn._createBefore(o);if(qi(e)){if(Nc(e))return this.domPositionToView(e.parentNode,ds(e));const a=this.findCorrespondingViewText(e);let h=t;return a?(Xa(e)&&(h-=7,h=h<0?0:h),new Mn(a,h)):null}if(0===t){const a=this.mapDomToView(e);if(a)return new Mn(a,0)}else{const a=e.childNodes[t-1];if(qi(a)&&Nc(a))return this.domPositionToView(a.parentNode,ds(a));const h=qi(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(h&&h.parent)return new Mn(h.parent,h.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Nc(e))return null;const t=this.getHostViewElement(e);if(t)return t;const o=e.previousSibling;if(o){if(!this.isElement(o))return null;const a=this.mapDomToView(o);if(a){const h=a.nextSibling;return h instanceof ko?h:null}}else{const a=this.mapDomToView(e.parentNode);if(a){const h=a.getChild(0);return h instanceof ko?h:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:o,scrollY:a}=ui.window,h=[];Yi(t,g=>{const{scrollLeft:y,scrollTop:k}=g;h.push([y,k])}),t.focus(),Yi(t,g=>{const[y,k]=h.shift();g.scrollLeft=y,g.scrollTop=k}),ui.window.scrollTo(o,a)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return"br"==this.blockFillerMode?e.isEqualNode(ye):!("BR"!==e.tagName||!Oi(e,this.blockElements)||1!==e.parentNode.childNodes.length)||e.isEqualNode(at)||function(t,o){return t.isEqualNode(Ye)&&Oi(t,o)&&1===t.parentNode.childNodes.length}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch(a){return!1}const o=t.collapsed;return t.detach(),o}getHostViewElement(e){const t=Cs(e);for(t.pop();t.length;){const o=t.pop(),a=this._domToViewMapping.get(o);if(a&&(a.is("uiElement")||a.is("rawElement")))return a}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Oc(this._domDocument);case"markedNbsp":return Ga(this._domDocument);case"br":return Ta(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(qi(e)&&Xa(e)&&t<7||this.isElement(e)&&Xa(e.childNodes[t]))return!1;const o=this.mapDomToView(e);return!o||!o.is("uiElement")&&!o.is("rawElement")}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(o=>this.preElements.includes(o.name)))return t;if(" "==t.charAt(0)){const o=this._getTouchingInlineViewNode(e,!1);!(o&&o.is("$textProxy")&&this._nodeEndsWithSpace(o))&&o||(t="\xa0"+t.substr(1))}if(" "==t.charAt(t.length-1)){const o=this._getTouchingInlineViewNode(e,!0),a=o&&o.is("$textProxy")&&" "==o.data.charAt(0);" "!=t.charAt(t.length-2)&&o&&!a||(t=t.substr(0,t.length-1)+"\xa0")}return t.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(e){if(e.getAncestors().some(o=>this.preElements.includes(o.name)))return!1;const t=this._processDataFromViewText(e);return" "==t.charAt(t.length-1)}_processDataFromDomText(e){let t=e.data;if(D=this.preElements,Cs(e).some(Z=>Z.tagName&&D.includes(Z.tagName.toLowerCase())))return oh(e);var D;t=t.replace(/[ \n\t\r]{1,}/g," ");const o=this._getTouchingInlineDomNode(e,!1),a=this._getTouchingInlineDomNode(e,!0),h=this._checkShouldLeftTrimDomText(e,o),g=this._checkShouldRightTrimDomText(e,a);h&&(t=t.replace(/^ /,"")),g&&(t=t.replace(/ $/,"")),t=oh(new Text(t)),t=t.replace(/ \u00A0/g,"  ");const y=a&&this.isElement(a)&&"BR"!=a.tagName,k=a&&qi(a)&&" "==a.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(t)||!a||y||k)&&(t=t.replace(/\u00A0$/," ")),(h||o&&this.isElement(o)&&"BR"!=o.tagName)&&(t=t.replace(/^\u00A0/," ")),t}_checkShouldLeftTrimDomText(e,t){return!t||(this.isElement(t)?"BR"===t.tagName:!this._encounteredRawContentDomNodes.has(e.previousSibling)&&/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)))}_checkShouldRightTrimDomText(e,t){return!t&&!Xa(e)}_getTouchingInlineViewNode(e,t){const o=new lc({startPosition:t?Mn._createAfter(e):Mn._createBefore(e),direction:t?"forward":"backward"});for(const a of o){if(a.item.is("element")&&this.inlineObjectElements.includes(a.item.name))return a.item;if(a.item.is("containerElement")||a.item.is("element","br"))return null;if(a.item.is("$textProxy"))return a.item}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode)return null;const o=t?"firstChild":"lastChild",a=t?"nextSibling":"previousSibling";let h=!0,g=e;do{if(!h&&g[o]?g=g[o]:g[a]?(g=g[a],h=!1):(g=g.parentNode,h=!0),!g||this._isBlockElement(g))return null}while(!qi(g)&&"BR"!=g.tagName&&!this._isInlineObjectElement(g));return g}_isBlockElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isInlineObjectElement(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}_createViewElement(e,t){if(Mr(e))return new ps(this.document,"$comment");const o=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Ma(this.document,o)}_isViewElementWithRawContent(e,t){return!1!==t.withChildren&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const o=this._domDocument.createElement("span");if(o.setAttribute(vi,e),t){for(;t.firstChild;)o.appendChild(t.firstChild);for(const a of t.getAttributeNames())o.setAttribute(a,t.getAttribute(a))}return o}}function Yi(d,e){let t=d;for(;t;)e(t),t=t.parentElement}function Oi(d,e){const t=d.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Yr(d){"script"===d&&Mt("domconverter-unsafe-script-element-detected"),"style"===d&&Mt("domconverter-unsafe-style-element-detected")}class Un extends(Hs()){constructor(e){super(),this.view=e,this.document=e.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&3===e.nodeType&&(e=e.parentNode),!(!e||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const La=$u(function(d,e){ts(e,le(e),d)});class Sa{constructor(e,t,o){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,La(this,o)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class $a extends Un{constructor(e){super(e),this.useCapture=!1}observe(e){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(o,a)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(a.target)&&this.onDomEvent(a)},{useCapture:this.useCapture})})}fire(e,t,o){this.isEnabled&&this.document.fire(e,new Sa(this.view,t,o))}}class dc extends $a{constructor(e){super(e),this.domEventType=["keydown","keyup"]}onDomEvent(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return H(this)}})}}const hc=function(){return Rn.Date.now()};var Cd=/\s/,Ql=/^\s+/;var Rc=/^[-+]0x[0-9a-f]+$/i,Vh=/^0b[01]+$/i,Qu=/^0o[0-7]+$/i,Hr=parseInt;const jl=function(d){if("number"==typeof d)return d;if(Qc(d))return NaN;if(lt(d)){var e="function"==typeof d.valueOf?d.valueOf():d;d=lt(e)?e+"":e}if("string"!=typeof d)return 0===d?d:+d;d=function(d){return d&&d.slice(0,function(d){for(var e=d.length;e--&&Cd.test(d.charAt(e)););return e}(d)+1).replace(Ql,"")}(d);var t=Vh.test(d);return t||Qu.test(d)?Hr(d.slice(2),t?2:8):Rc.test(d)?NaN:+d};var ma=Math.max,Uh=Math.min;const Is=function(d,e,t){var o,a,h,g,y,k,E=0,D=!1,F=!1,Z=!0;if("function"!=typeof d)throw new TypeError("Expected a function");function ue(tn){var Pn=o,tr=a;return o=a=void 0,E=tn,g=d.apply(tr,Pn)}function Ae(tn){return E=tn,y=setTimeout(Ge,e),D?ue(tn):g}function Pe(tn){var Pn=tn-k;return void 0===k||Pn>=e||Pn<0||F&&tn-E>=h}function Ge(){var Pn,tr,tn=hc();if(Pe(tn))return mt(tn);y=setTimeout(Ge,(tr=e-((Pn=tn)-k),F?Uh(tr,h-(Pn-E)):tr))}function mt(tn){return y=void 0,Z&&o?ue(tn):(o=a=void 0,g)}function Ot(){var tn=hc(),Pn=Pe(tn);if(o=arguments,a=this,k=tn,Pn){if(void 0===y)return Ae(k);if(F)return clearTimeout(y),y=setTimeout(Ge,e),ue(k)}return void 0===y&&(y=setTimeout(Ge,e)),g}return e=jl(e)||0,lt(t)&&(D=!!t.leading,h=(F="maxWait"in t)?ma(jl(t.maxWait)||0,e):h,Z="trailing"in t?!!t.trailing:Z),Ot.cancel=function(){void 0!==y&&clearTimeout(y),E=0,o=k=a=y=void 0},Ot.flush=function(){return void 0===y?g:mt(hc())},Ot};class zl extends Un{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Is(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,o)=>{e.selection.isFake&&this.isEnabled&&o.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,o)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(o.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,o=new Fl(t.getRanges(),{backward:t.isBackward,fake:!1});e!=ci.arrowleft&&e!=ci.arrowup||o.setTo(o.getFirstPosition()),e!=ci.arrowright&&e!=ci.arrowdown||o.setTo(o.getLastPosition());const a={oldSelection:t,newSelection:o,domSelection:null};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}function Fc(d){var e=-1,t=null==d?0:d.length;for(this.__data__=new lo;++e<t;)this.add(d[e])}Fc.prototype.add=Fc.prototype.push=function(d){return this.__data__.set(d,"__lodash_hash_undefined__"),this},Fc.prototype.has=function(d){return this.__data__.has(d)};const zo=Fc,el=function(d,e){for(var t=-1,o=null==d?0:d.length;++t<o;)if(e(d[t],t,d))return!0;return!1},dp=function(d,e){return d.has(e)},im=function(d,e,t,o,a,h){var g=1&t,y=d.length,k=e.length;if(y!=k&&!(g&&k>y))return!1;var E=h.get(d),D=h.get(e);if(E&&D)return E==e&&D==d;var F=-1,Z=!0,ue=2&t?new zo:void 0;for(h.set(d,e),h.set(e,d);++F<y;){var Ae=d[F],Pe=e[F];if(o)var Ge=g?o(Pe,Ae,F,e,d,h):o(Ae,Pe,F,d,e,h);if(void 0!==Ge){if(Ge)continue;Z=!1;break}if(ue){if(!el(e,function(mt,Ot){if(!dp(ue,Ot)&&(Ae===mt||a(Ae,mt,t,o,h)))return ue.push(Ot)})){Z=!1;break}}else if(Ae!==Pe&&!a(Ae,Pe,t,o,h)){Z=!1;break}}return h.delete(d),h.delete(e),Z},Ps=function(d){var e=-1,t=Array(d.size);return d.forEach(function(o,a){t[++e]=[a,o]}),t},Wa=function(d){var e=-1,t=Array(d.size);return d.forEach(function(o){t[++e]=o}),t};var yl=Or?Or.prototype:void 0,Ia=yl?yl.valueOf:void 0,kd=Object.prototype.hasOwnProperty,qh="[object Arguments]",tl="[object Array]",Gh="[object Object]",Pf=Object.prototype.hasOwnProperty;const Pa=function d(e,t,o,a,h){return e===t||(null==e||null==t||!nr(e)&&!nr(t)?e!=e&&t!=t:function(d,e,t,o,a,h){var g=Ri(d),y=Ri(e),k=g?tl:dl(d),E=y?tl:dl(e),D=(k=k==qh?Gh:k)==Gh,F=(E=E==qh?Gh:E)==Gh,Z=k==E;if(Z&&$r(d)){if(!$r(e))return!1;g=!0,D=!1}if(Z&&!D)return h||(h=new vr),g||$o(d)?im(d,e,t,o,a,h):function(d,e,t,o,a,h,g){switch(t){case"[object DataView]":if(d.byteLength!=e.byteLength||d.byteOffset!=e.byteOffset)return!1;d=d.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(d.byteLength!=e.byteLength||!h(new wa(d),new wa(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Hi(+d,+e);case"[object Error]":return d.name==e.name&&d.message==e.message;case"[object RegExp]":case"[object String]":return d==e+"";case"[object Map]":var y=Ps;case"[object Set]":if(y||(y=Wa),d.size!=e.size&&!(1&o))return!1;var E=g.get(d);if(E)return E==e;o|=2,g.set(d,e);var D=im(y(d),y(e),o,a,h,g);return g.delete(d),D;case"[object Symbol]":if(Ia)return Ia.call(d)==Ia.call(e)}return!1}(d,e,k,t,o,a,h);if(!(1&t)){var ue=D&&Pf.call(d,"__wrapped__"),Ae=F&&Pf.call(e,"__wrapped__");if(ue||Ae){var Pe=ue?d.value():d,Ge=Ae?e.value():e;return h||(h=new vr),a(Pe,Ge,t,o,h)}}return!!Z&&(h||(h=new vr),function(d,e,t,o,a,h){var g=1&t,y=ys(d),k=y.length;if(k!=ys(e).length&&!g)return!1;for(var E=k;E--;){var D=y[E];if(!(g?D in e:kd.call(e,D)))return!1}var F=h.get(d),Z=h.get(e);if(F&&Z)return F==e&&Z==d;var ue=!0;h.set(d,e),h.set(e,d);for(var Ae=g;++E<k;){var Pe=d[D=y[E]],Ge=e[D];if(o)var mt=g?o(Ge,Pe,D,e,d,h):o(Pe,Ge,D,d,e,h);if(!(void 0===mt?Pe===Ge||a(Pe,Ge,t,o,h):mt)){ue=!1;break}Ae||(Ae="constructor"==D)}if(ue&&!Ae){var Ot=d.constructor,tn=e.constructor;Ot==tn||!("constructor"in d)||!("constructor"in e)||"function"==typeof Ot&&Ot instanceof Ot&&"function"==typeof tn&&tn instanceof tn||(ue=!1)}return h.delete(d),h.delete(e),ue}(d,e,t,o,a,h))}(e,t,o,a,d,h))},An=function(d,e,t){var o=(t="function"==typeof t?t:void 0)?t(d,e):void 0;return void 0===o?Pa(d,e,void 0,t):!!o};class Si extends Un{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(0===e.length)return;const t=this.domConverter,o=new Set,a=new Set;for(const g of e){const y=t.mapDomToView(g.target);y&&(y.is("uiElement")||y.is("rawElement")||"childList"!==g.type||this._isBogusBrMutation(g)||a.add(y))}for(const g of e){const y=t.mapDomToView(g.target);if((!y||!y.is("uiElement")&&!y.is("rawElement"))&&"characterData"===g.type){const k=t.findCorrespondingViewText(g.target);k&&!a.has(k.parent)?o.add(k):!k&&Xa(g.target)&&a.add(t.mapDomToView(g.target.parentNode))}}let h=!1;for(const g of o)h=!0,this.renderer.markToSync("text",g);for(const g of a){const y=t.mapViewToDom(g),k=Array.from(g.getChildren()),E=Array.from(t.domChildrenToView(y,{withChildren:!1}));An(k,E,Xu)||(h=!0,this.renderer.markToSync("children",g))}h&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function Xu(d,e){if(!Array.isArray(d))return d===e||!(!d.is("$text")||!e.is("$text"))&&d.data===e.data}class Zp extends Un{constructor(e){super(e),this.mutationObserver=e.getObserver(Si),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Is(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Is(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,o=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",o,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",o,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",o,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(a,h)=>{this.document.isComposing&&!Y_isAndroid||(this._handleSelectionChange(h,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(e,t){if(!this.isEnabled)return;const o=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(o.anchorNode))return;this.mutationObserver.flush();const a=this.domConverter.domSelectionToView(o);if(0!=a.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(a)&&this.domConverter.isDomSelectionCorrect(o)||++this._loopbackCounter>60))if(this.selection.isSimilar(a))this.view.forceRender();else{const h={oldSelection:this.selection,newSelection:a,domSelection:o};this.document._isFocusChanging=!1,this.document.fire("selectionChange",h),this._fireSelectionChangeDoneDebounced(h)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Lc extends $a{constructor(e){super(e),this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{t.isFocused=!0,t._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{t._isFocusChanging=!1,e.change(()=>{})},50)}),t.on("blur",(o,a)=>{const h=t.selection.editableElement;null!==h&&h!==a.target||(t.isFocused=!1,e.change(()=>{}))})}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class ah extends $a{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class hp{constructor(e){this.files=function(t){const o=Array.from(t.files||[]),a=Array.from(t.items||[]);return o.length?o:a.filter(h=>"file"===h.kind).map(h=>h.getAsFile())}(e),this._native=e}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}class xd extends $a{constructor(e){super(e),this.domEventType=["beforeinput"]}onDomEvent(e){const t=e.getTargetRanges(),o=this.view,a=o.document;let h=null,g=null,y=[];if(e.dataTransfer&&(h=new hp(e.dataTransfer)),null!==e.data?g=e.data:h&&(g=h.getData("text/plain")),a.selection.isFake)y=Array.from(a.selection.getRanges());else if(t.length)y=t.map(k=>o.domConverter.domRangeToView(k));else if(Y_isAndroid){const k=e.target.ownerDocument.defaultView.getSelection();y=Array.from(o.domConverter.domSelectionToView(k).getRanges())}if(Y_isAndroid&&"insertCompositionText"==e.inputType&&g&&g.endsWith("\n"))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[o.createRange(y[0].end)]});else if("insertText"==e.inputType&&g&&g.includes("\n")){const k=g.split(/\n{1,2}/g);let E=y;for(let D=0;D<k.length;D++){const F=k[D];""!=F&&(this.fire(e.type,e,{data:F,dataTransfer:h,targetRanges:E,inputType:e.inputType,isComposing:e.isComposing}),E=[a.selection.getFirstRange()]),D+1<k.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:E}),E=[a.selection.getFirstRange()])}}else this.fire(e.type,e,{data:g,dataTransfer:h,targetRanges:y,inputType:e.inputType,isComposing:e.isComposing})}}class nl extends Un{constructor(e){super(e),this.document.on("keydown",(t,o)=>{if(this.isEnabled&&((a=o.keyCode)==ci.arrowright||a==ci.arrowleft||a==ci.arrowup||a==ci.arrowdown)){const h=new vl(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(h,o),h.stop.called&&t.stop()}var a})}observe(){}}class fp extends Un{constructor(e){super(e);const t=this.document;t.on("keydown",(o,a)=>{if(!this.isEnabled||a.keyCode!=ci.tab||a.ctrlKey)return;const h=new vl(t,"tab",t.selection.getFirstRange());t.fire(h,a),h.stop.called&&o.stop()})}observe(){}}class rm extends(Dn()){constructor(e){super(),this.document=new Dr(e),this.domConverter=new ki(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new iu(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing","_isFocusChanging").to(this.document,"isFocused","isSelecting","isComposing","_isFocusChanging"),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Bl(this.document),this.addObserver(Si),this.addObserver(Zp),this.addObserver(Lc),this.addObserver(dc),this.addObserver(zl),this.addObserver(ah),this.addObserver(nl),this.addObserver(xd),this.addObserver(fp),this.document.on("arrowKey",Sf,{priority:"low"}),function(d){d.document.on("arrowKey",(e,t)=>function(o,a,h){if(a.keyCode==ci.arrowright){const g=a.domTarget.ownerDocument.defaultView.getSelection(),y=1==g.rangeCount&&g.getRangeAt(0).collapsed;if(y||a.shiftKey){const D=h.domPositionToView(g.focusNode,g.focusOffset);if(null===D)return;let F=!1;const Z=D.getLastMatchingPosition(ue=>(ue.item.is("uiElement")&&(F=!0),!(!ue.item.is("uiElement")&&!ue.item.is("attributeElement"))));if(F){const ue=h.viewPositionToDom(Z);y?g.collapse(ue.parent,ue.offset):g.extend(ue.parent,ue.offset)}}}}(0,t,d.domConverter),{priority:"low"})}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,t="main"){const o=this.document.getRoot(t);o._name=e.tagName.toLowerCase();const a={};for(const{name:g,value:y}of Array.from(e.attributes))a[g]=y,"class"===g?this._writer.addClass(y.split(" "),o):this._writer.setAttribute(g,y,o);this._initialDomRootAttributes.set(e,a);const h=()=>{this._writer.setAttribute("contenteditable",(!o.isReadOnly).toString(),o),o.isReadOnly?this._writer.addClass("ck-read-only",o):this._writer.removeClass("ck-read-only",o)};h(),this.domRoots.set(t,e),this.domConverter.bindElements(e,o),this._renderer.markToSync("children",o),this._renderer.markToSync("attributes",o),this._renderer.domDocuments.add(e.ownerDocument),o.on("change:children",(g,y)=>this._renderer.markToSync("children",y)),o.on("change:attributes",(g,y)=>this._renderer.markToSync("attributes",y)),o.on("change:text",(g,y)=>this._renderer.markToSync("text",y)),o.on("change:isReadOnly",()=>this.change(h)),o.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const g of this._observers.values())g.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:a})=>t.removeAttribute(a));const o=this._initialDomRootAttributes.get(t);for(const a in o)t.setAttribute(a,o[a]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[o,a]of this.domRoots)t.observe(a,o);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){const e=this.document.selection.getFirstRange();e&&function({target:t,viewportOffset:o=0}){const a=$n(t);let h=a,g=null;for(;h;){let y;y=ir(h==a?t:g),T(y,()=>rn(t,h));const k=rn(t,h);if(K(h,k,o),h.parent!=h){if(g=h.frameElement,h=h.parent,!g)return}else h=null}}({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new Oe("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){Oe.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.document._isFocusChanging=!1,this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Mn._createAt(e,t)}createPositionAfter(e){return Mn._createAfter(e)}createPositionBefore(e){return Mn._createBefore(e)}createRange(...e){return new ji(...e)}createRangeOn(e){return ji._createOn(e)}createRangeIn(e){return ji._createIn(e)}createSelection(...e){return new Fl(...e)}_disableRendering(e){this._renderingDisabled=e,0==e&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Ws{is(){throw new Error("is() method is abstract")}}class Eu extends Ws{constructor(e){super(),this.parent=null,this._attrs=Bn(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new Oe("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new Oe("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let o=e.includeSelf?this:this.parent;for(;o;)t[e.parentFirst?"push":"unshift"](o),o=o.parent;return t}getCommonAncestor(e,t={}){const o=this.getAncestors(t),a=e.getAncestors(t);let h=0;for(;o[h]==a[h]&&o[h];)h++;return 0===h?null:o[h-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),o=e.getPath(),a=fi(t,o);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<o[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,o)=>(t[o[0]]=o[1],t),{})),e}_clone(e){return new Eu(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Bn(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Eu.prototype.is=function(d){return"node"===d||"model:node"===d};class ru{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return-1==t?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce((o,a)=>o+a.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new Oe("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const o of this._nodes){if(e>=t&&e<t+o.offsetSize)return this.getNodeIndex(o);t+=o.offsetSize}if(t!=e)throw new Oe("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const o of t)if(!(o instanceof Eu))throw new Oe("model-nodelist-insertnodes-not-node",this);this._nodes=function(o,a,h,g){if(Math.max(a.length,o.length)>1e4)return o.slice(0,h).concat(a).concat(o.slice(h+0,o.length));{const y=Array.from(o);return y.splice(h,0,...a),y}}(this._nodes,Array.from(t),e)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Tr extends Eu{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Tr(this.data,this.getAttributes())}static fromJSON(e){return new Tr(e.data,e.attributes)}}Tr.prototype.is=function(d){return"$text"===d||"model:$text"===d||"text"===d||"model:text"===d||"node"===d||"model:node"===d};class ou extends Ws{constructor(e,t,o){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new Oe("model-textproxy-wrong-offsetintext",this);if(o<0||t+o>e.offsetSize)throw new Oe("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+o),this.offsetInText=t}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let o=e.includeSelf?this:this.parent;for(;o;)t[e.parentFirst?"push":"unshift"](o),o=o.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ou.prototype.is=function(d){return"$textProxy"===d||"model:$textProxy"===d||"textProxy"===d||"model:textProxy"===d};class Io extends Eu{constructor(e,t,o){super(t),this.name=e,this._children=new ru,o&&this._insertChild(0,o)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const o of e)t=t.getChild(t.offsetToIndex(o));return t}findAncestor(e,t={}){let o=t.includeSelf?this:this.parent;for(;o;){if(o.name===e)return o;o=o.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(o=>o._clone(!0)):void 0;return new Io(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const o="string"==typeof(a=t)?[new Tr(a)]:(Di(a)||(a=[a]),Array.from(a).map(h=>"string"==typeof h?new Tr(h):h instanceof ou?new Tr(h.data,h.getAttributes()):h));var a;for(const a of o)null!==a.parent&&a._remove(),a.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,t=1){const o=this._children._removeNodes(e,t);for(const a of o)a.parent=null;return o}static fromJSON(e){let t;if(e.children){t=[];for(const o of e.children)t.push(o.name?Io.fromJSON(o):Tr.fromJSON(o))}return new Io(e.name,e.attributes,t)}}Io.prototype.is=function(d,e){return e?e===this.name&&("element"===d||"model:element"===d):"element"===d||"model:element"===d||"node"===d||"model:node"===d};class Oa{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new Oe("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if("forward"!=t&&"backward"!=t)throw new Oe("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,this.position=e.startPosition?e.startPosition.clone():cn._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(e){let t,o,a,h;do{a=this.position,h=this._visitedParent,({done:t,value:o}=this.next())}while(!t&&e(o));t||(this.position=a,this._visitedParent=h)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),o=this._visitedParent;if(null===o.parent&&t.offset===o.maxOffset)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const a=Bc(t,o),h=a||su(t,o,a);if(h instanceof Io)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=h),this.position=t,oa("elementStart",h,e,t,1);if(h instanceof Tr){let g;if(this.singleCharacters)g=1;else{let E=h.endOffset;this._boundaryEndParent==o&&this.boundaries.end.offset<E&&(E=this.boundaries.end.offset),g=E-t.offset}const k=new ou(h,t.offset-h.startOffset,g);return t.offset+=g,this.position=t,oa("text",k,e,t,g)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=o.parent,this.ignoreElementEnd?this._next():oa("elementEnd",o,e,t)}_previous(){const e=this.position,t=this.position.clone(),o=this._visitedParent;if(null===o.parent&&0===t.offset)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const a=t.parent,h=Bc(t,a),g=h||lh(t,a,h);if(g instanceof Io)return t.offset--,this.shallow?(this.position=t,oa("elementStart",g,e,t,1)):(t.path.push(g.maxOffset),this.position=t,this._visitedParent=g,this.ignoreElementEnd?this._previous():oa("elementEnd",g,e,t));if(g instanceof Tr){let y;if(this.singleCharacters)y=1;else{let D=g.startOffset;this._boundaryStartParent==o&&this.boundaries.start.offset>D&&(D=this.boundaries.start.offset),y=t.offset-D}const E=new ou(g,t.offset-g.startOffset-y,y);return t.offset-=y,this.position=t,oa("text",E,e,t,y)}return t.path.pop(),this.position=t,this._visitedParent=o.parent,oa("elementStart",o,e,t,1)}}function oa(d,e,t,o,a){return{done:!1,value:{type:d,item:e,previousPosition:t,nextPosition:o,length:a}}}class cn extends Ws{constructor(e,t,o="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new Oe("model-position-root-invalid",e);if(!(t instanceof Array)||0===t.length)throw new Oe("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=o}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new Oe("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new Oe("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Bc(this,this.parent)}get nodeAfter(){const e=this.parent;return su(this,e,Bc(this,e))}get nodeBefore(){const e=this.parent;return lh(this,e,Bc(this,e))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=fi(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const o=new Oa(t);return o.skip(e),o.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=fi(this.path,e.path),o="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,o)}getCommonAncestor(e){const t=this.getAncestors(),o=e.getAncestors();let a=0;for(;t[a]==o[a]&&t[a];)a++;return 0===a?null:t[a-1]}getShiftedBy(e){const t=this.clone(),o=t.offset+e;return t.offset=o<0?0:o,t}isAfter(e){return"after"==this.compareWith(e)}isBefore(e){return"before"==this.compareWith(e)}isEqual(e){return"same"==this.compareWith(e)}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let o=0;o<t;o++){const a=this.path[o]-e.path[o];if(a<-1||a>1)return!1;if(1===a)return ch(e,this,o);if(-1===a)return ch(this,e,o)}return this.path.length===e.path.length||jc(this.path.length>e.path.length?this.path:e.path,t)}hasSameParentAs(e){return this.root===e.root&&"same"==fi(this.getParentPath(),e.getParentPath())}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=cn._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let o;return t.containsPosition(this)||t.start.isEqual(this)?(o=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(o=o._getTransformedByDeletion(e.deletionPosition,1))):o=this.isEqual(e.deletionPosition)?cn._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),o}_getTransformedByDeletion(e,t){const o=cn._createAt(this);if(this.root!=e.root)return o;if("same"==fi(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;o.offset-=t}}else if("prefix"==fi(e.getParentPath(),this.getParentPath())){const a=e.path.length-1;if(e.offset<=this.path[a]){if(e.offset+t>this.path[a])return null;o.path[a]-=t}}return o}_getTransformedByInsertion(e,t){const o=cn._createAt(this);if(this.root!=e.root)return o;if("same"==fi(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(o.offset+=t);else if("prefix"==fi(e.getParentPath(),this.getParentPath())){const a=e.path.length-1;e.offset<=this.path[a]&&(o.path[a]+=t)}return o}_getTransformedByMove(e,t,o){if(t=t._getTransformedByDeletion(e,o),e.isEqual(t))return cn._createAt(this);const a=this._getTransformedByDeletion(e,o);return null===a||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(o).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):a._getTransformedByInsertion(t,o)}_getCombined(e,t){const o=e.path.length-1,a=cn._createAt(t);return a.stickiness=this.stickiness,a.offset=a.offset+this.path[o]-e.offset,a.path=[...a.path,...this.path.slice(o+1)],a}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,o="toNone"){if(e instanceof cn)return new cn(e.root,e.path,e.stickiness);{const a=e;if("end"==t)t=a.maxOffset;else{if("before"==t)return this._createBefore(a,o);if("after"==t)return this._createAfter(a,o);if(0!==t&&!t)throw new Oe("model-createpositionat-offset-required",[this,e])}if(!a.is("element")&&!a.is("documentFragment"))throw new Oe("model-position-parent-incorrect",[this,e]);const h=a.getPath();return h.push(t),new this(a.root,h,o)}}static _createAfter(e,t){if(!e.parent)throw new Oe("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new Oe("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if("$graveyard"===e.root){const o=new cn(t.graveyard,e.path);return o.stickiness=e.stickiness,o}if(!t.getRoot(e.root))throw new Oe("model-position-fromjson-no-root",t,{rootName:e.root});return new cn(t.getRoot(e.root),e.path,e.stickiness)}}function Bc(d,e){const t=e.getChild(e.offsetToIndex(d.offset));return t&&t.is("$text")&&t.startOffset<d.offset?t:null}function su(d,e,t){return null!==t?null:e.getChild(e.offsetToIndex(d.offset))}function lh(d,e,t){return null!==t?null:e.getChild(e.offsetToIndex(d.offset)-1)}function ch(d,e,t){return t+1!==d.path.length&&!!jc(e.path,t+1)&&!!function(o,a){let h=o.parent,g=o.path.length-1,y=0;for(;g>=a;){if(o.path[g]+y!==h.maxOffset)return!1;y=1,g--,h=h.parent}return!0}(d,t+1)}function jc(d,e){for(;e<d.length;){if(0!==d[e])return!1;e++}return!0}cn.prototype.is=function(d){return"position"===d||"model:position"===d};class Wt extends Ws{constructor(e,t){super(),this.start=cn._createAt(e),this.end=cn._createAt(t||e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Oa({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==fi(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&a}containsItem(e){const t=cn._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Wt(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Wt(e.end,this.end))):t.push(new Wt(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,o=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(o=e.end),new Wt(t,o)}return null}getJoined(e,t=!1){let o=this.isIntersecting(e);if(o||(o=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!o)return null;let a=this.start,h=this.end;return e.start.isBefore(a)&&(a=e.start),e.end.isAfter(h)&&(h=e.end),new Wt(a,h)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,o=cn._createAt(this.start);let a=o.parent;for(;o.path.length>t+1;){const h=a.maxOffset-o.offset;0!==h&&e.push(new Wt(o,o.getShiftedBy(h))),o.path=o.path.slice(0,-1),o.offset++,a=a.parent}for(;o.path.length<=this.end.path.length;){const h=this.end.path[o.path.length-1],g=h-o.offset;0!==g&&e.push(new Wt(o,o.getShiftedBy(g))),o.offset=h,o.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Oa(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Oa(e);for(const o of t)yield o.item}*getPositions(e={}){e.boundaries=this;const t=new Oa(e);yield t.position;for(const o of t)yield o.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Wt(this.start,this.end)]}getTransformedByOperations(e){const t=[new Wt(this.start,this.end)];for(const o of e)for(let a=0;a<t.length;a++){const h=t[a].getTransformedByOperation(o);t.splice(a,1,...h),a+=h.length-1}for(let o=0;o<t.length;o++){const a=t[o];for(let h=o+1;h<t.length;h++){const g=t[h];(a.containsRange(g)||g.containsRange(a)||a.isEqual(g))&&t.splice(h,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let o=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(o=this.end.getShiftedBy(1)),t.root!=o.root&&(o=this.end.getShiftedBy(-1)),new Wt(t,o)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Wt(this.start);let t=this.start._getTransformedByMergeOperation(e),o=this.end._getTransformedByMergeOperation(e);return t.root!=o.root&&(o=this.end.getShiftedBy(-1)),t.isAfter(o)?(e.sourcePosition.isBefore(e.targetPosition)?(t=cn._createAt(o),t.offset=0):(e.deletionPosition.isEqual(t)||(o=e.deletionPosition),t=e.targetPosition),new Wt(t,o)):new Wt(t,o)}_getTransformedByInsertion(e,t,o=!1){if(o&&this.containsPosition(e))return[new Wt(this.start,e),new Wt(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const a=new Wt(this.start,this.end);return a.start=a.start._getTransformedByInsertion(e,t),a.end=a.end._getTransformedByInsertion(e,t),[a]}}_getTransformedByMove(e,t,o,a=!1){if(this.isCollapsed){const F=this.start._getTransformedByMove(e,t,o);return[new Wt(F)]}const h=Wt._createFromPositionAndShift(e,o),g=t._getTransformedByDeletion(e,o);if(this.containsPosition(t)&&!a&&(h.containsPosition(this.start)||h.containsPosition(this.end))){const F=this.start._getTransformedByMove(e,t,o),Z=this.end._getTransformedByMove(e,t,o);return[new Wt(F,Z)]}let y;const k=this.getDifference(h);let E=null;const D=this.getIntersection(h);if(1==k.length?E=new Wt(k[0].start._getTransformedByDeletion(e,o),k[0].end._getTransformedByDeletion(e,o)):2==k.length&&(E=new Wt(this.start,this.end._getTransformedByDeletion(e,o))),y=E?E._getTransformedByInsertion(g,o,null!==D||a):[],D){const F=new Wt(D.start._getCombined(h.start,g),D.end._getCombined(h.start,g));2==y.length?y.splice(1,0,F):y.push(F)}return y}_getTransformedByDeletion(e,t){let o=this.start._getTransformedByDeletion(e,t),a=this.end._getTransformedByDeletion(e,t);return null==o&&null==a?null:(null==o&&(o=e),null==a&&(a=e),new Wt(o,a))}static _createFromPositionAndShift(e,t){const o=e,a=e.getShiftedBy(t);return t>0?new this(o,a):new this(a,o)}static _createIn(e){return new this(cn._createAt(e,0),cn._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(cn._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(0===e.length)throw new Oe("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();const t=e[0];e.sort((h,g)=>h.start.isAfter(g.start)?1:-1);const o=e.indexOf(t),a=new this(t.start,t.end);if(o>0)for(let h=o-1;e[h].end.isEqual(a.start);h++)a.start=cn._createAt(e[h].start);for(let h=o+1;h<e.length&&e[h].start.isEqual(a.end);h++)a.end=cn._createAt(e[h].end);return a}static fromJSON(e,t){return new this(cn.fromJSON(e.start,t),cn.fromJSON(e.end,t))}}Wt.prototype.is=function(d){return"range"===d||"model:range"===d};class pp extends(He()){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const o=this._modelToViewMapping.get(t.modelPosition.parent);if(!o)throw new Oe("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(o,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const o=this.findMappedViewAncestor(t.viewPosition),a=this._viewToModelMapping.get(o),h=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,o);t.modelPosition=cn._createAt(a,h)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const o=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const a of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(a);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(o)==e&&this._modelToViewMapping.delete(o))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const o=this._markerNameToElements.get(t)||new Set;o.add(e);const a=this._elementToMarkerNames.get(e)||new Set;a.add(t),this._markerNameToElements.set(t,o),this._elementToMarkerNames.set(e,a)}unbindElementFromMarkerName(e,t){const o=this._markerNameToElements.get(t);o&&(o.delete(e),0==o.size&&this._markerNameToElements.delete(t));const a=this._elementToMarkerNames.get(e);a&&(a.delete(t),0==a.size&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Wt(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ji(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const o={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",o),o.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const o=new Set;for(const a of t)if(a.is("attributeElement"))for(const h of a.getElementsWithSameId())o.add(h);else o.add(a);return o}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,o){if(o!=e)return this._toModelOffset(e.parent,e.index,o)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let a=0;for(let h=0;h<t;h++)a+=this.getModelLength(e.getChild(h));return a}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const o of e.getChildren())t+=this.getModelLength(o);return t}}findPositionIn(e,t){let o,a=0,h=0,g=0;if(e.is("$text"))return new Mn(e,t);for(;h<t;)o=e.getChild(g),a=this.getModelLength(o),h+=a,g++;return h==t?this._moveViewPositionToTextNode(new Mn(e,g)):this.findPositionIn(o,t-(h-a))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,o=e.nodeAfter;return t instanceof ko?new Mn(t,t.data.length):o instanceof ko?new Mn(o,0):e}}class gp{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=uh(t),e instanceof ou&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=uh(t),e instanceof ou&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=uh(t),e instanceof ou&&(e=this._getSymbolForTextProxy(e));const o=this._consumable.get(e);if(void 0===o)return null;const a=o.get(t);return void 0===a?null:a}revert(e,t){t=uh(t),e instanceof ou&&(e=this._getSymbolForTextProxy(e));const o=this.test(e,t);return!1===o?(this._consumable.get(e).set(t,!0),!0):!0!==o&&null}verifyAllConsumed(e){const t=[];for(const[o,a]of this._consumable)for(const[h,g]of a){const y=h.split(":")[0];g&&e==y&&t.push({event:h,item:o.name||o.description})}if(t.length)throw new Oe("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const o=this._textProxyRegistry.get(e.startOffset);if(o){const a=o.get(e.endOffset);a&&(t=a.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,o=e.endOffset,a=e.parent,h=Symbol("$textProxy:"+e.data);let g,y;return g=this._textProxyRegistry.get(t),g||(g=new Map,this._textProxyRegistry.set(t,g)),y=g.get(o),y||(y=new Map,g.set(o,y)),y.set(a,h),h}}function uh(d){const e=d.split(":");return"insert"==e[0]?e[0]:"addMarker"==e[0]||"removeMarker"==e[0]?d:e.length>1?e[0]+":"+e[1]:e[0]}class Yp extends(He()){constructor(e){super(),this._conversionApi=un({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,o){const a=this._createConversionApi(o,e.getRefreshedItems());for(const g of e.getMarkersToRemove())this._convertMarkerRemove(g.name,g.range,a);const h=this._reduceChanges(e.getChanges());for(const g of h)"insert"===g.type?this._convertInsert(Wt._createFromPositionAndShift(g.position,g.length),a):"reinsert"===g.type?this._convertReinsert(Wt._createFromPositionAndShift(g.position,g.length),a):"remove"===g.type?this._convertRemove(g.position,g.length,g.name,a):this._convertAttribute(g.range,g.attributeKey,g.attributeOldValue,g.attributeNewValue,a);for(const g of a.mapper.flushUnboundMarkerNames()){const y=t.get(g).getRange();this._convertMarkerRemove(g,y,a),this._convertMarkerAdd(g,y,a)}for(const g of e.getMarkersToAdd())this._convertMarkerAdd(g.name,g.range,a);a.mapper.flushDeferredBindings(),a.consumable.verifyAllConsumed("insert")}convert(e,t,o,a={}){const h=this._createConversionApi(o,void 0,a);this._convertInsert(e,h);for(const[g,y]of t)this._convertMarkerAdd(g,y,h);h.consumable.verifyAllConsumed("insert")}convertSelection(e,t,o){const a=Array.from(t.getMarkersAtPosition(e.getFirstPosition())),h=this._createConversionApi(o);if(this._addConsumablesForSelection(h.consumable,e,a),this.fire("selection",{selection:e},h),e.isCollapsed){for(const g of a){const y=g.getRange();if(!om(e.getFirstPosition(),g,h.mapper))continue;const k={item:e,markerName:g.name,markerRange:y};h.consumable.test(e,"addMarker:"+g.name)&&this.fire(`addMarker:${g.name}`,k,h)}for(const g of e.getAttributeKeys()){const y={item:e,range:e.getFirstRange(),attributeKey:g,attributeOldValue:null,attributeNewValue:e.getAttribute(g)};h.consumable.test(e,"attribute:"+y.attributeKey)&&this.fire(`attribute:${y.attributeKey}:$text`,y,h)}}}_convertInsert(e,t,o={}){o.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const a of Array.from(e.getWalker({shallow:!0})).map(Ed))this._testAndFire("insert",a,t)}_convertRemove(e,t,o,a){this.fire(`remove:${o}`,{position:e,length:t},a)}_convertAttribute(e,t,o,a,h){this._addConsumablesForRange(h.consumable,e,`attribute:${t}`);for(const g of e){const y={item:g.item,range:Wt._createFromPositionAndShift(g.previousPosition,g.length),attributeKey:t,attributeOldValue:o,attributeNewValue:a};this._testAndFire(`attribute:${t}`,y,h)}}_convertReinsert(e,t){const o=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,o);for(const a of o.map(Ed))this._testAndFire("insert",_s(un({},a),{reconversion:!0}),t)}_convertMarkerAdd(e,t,o){if("$graveyard"==t.root.rootName)return;const a=`addMarker:${e}`;if(o.consumable.add(t,a),this.fire(a,{markerName:e,markerRange:t},o),o.consumable.consume(t,a)){this._addConsumablesForRange(o.consumable,t,a);for(const h of t.getItems()){if(!o.consumable.test(h,a))continue;const g={item:h,range:Wt._createOn(h),markerName:e,markerRange:t};this.fire(a,g,o)}}}_convertMarkerRemove(e,t,o){"$graveyard"!=t.root.rootName&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},o)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const o of t){const a=o.item;if(null===e.test(a,"insert")){e.add(a,"insert");for(const h of a.getAttributeKeys())e.add(a,"attribute:"+h)}}return e}_addConsumablesForRange(e,t,o){for(const a of t.getItems())e.add(a,o);return e}_addConsumablesForSelection(e,t,o){e.add(t,"selection");for(const a of o)e.add(t,"addMarker:"+a.name);for(const a of t.getAttributeKeys())e.add(t,"attribute:"+a);return e}_testAndFire(e,t,o){const a=`${e}:${(E=t).item.is("element")?E.item.name:"$text"}`,h=t.item.is("$textProxy")?o.consumable._getSymbolForTextProxy(t.item):t.item,g=this._firedEventsMap.get(o),y=g.get(h);var E;if(y){if(y.has(a))return;y.add(a)}else g.set(h,new Set([a]));this.fire(a,t,o)}_testAndFireAddAttributes(e,t){const o={item:e,range:Wt._createOn(e)};for(const a of o.item.getAttributeKeys())o.attributeKey=a,o.attributeOldValue=null,o.attributeNewValue=o.item.getAttribute(a),this._testAndFire(`attribute:${a}`,o,t)}_createConversionApi(e,t=new Set,o={}){const a=_s(un({},this._conversionApi),{consumable:new gp,writer:e,options:o,convertItem:h=>this._convertInsert(Wt._createOn(h),a),convertChildren:h=>this._convertInsert(Wt._createIn(h),a,{doNotAddConsumables:!0}),convertAttributes:h=>this._testAndFireAddAttributes(h,a),canReuseView:h=>!t.has(a.mapper.toModelElement(h))});return this._firedEventsMap.set(a,new Map),a}}function om(d,e,t){const o=e.getRange(),a=Array.from(d.getAncestors());return a.shift(),a.reverse(),!a.some(h=>{if(o.containsItem(h))return!!t.toViewElement(h).getCustomProperty("addHighlight")})}function Ed(d){return{item:d.item,range:Wt._createFromPositionAndShift(d.previousPosition,d.length)}}class Jl extends(He(Ws)){constructor(...e){super(),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let o=!1;for(const a of e._ranges)if(t.isEqual(a)){o=!0;break}if(!o)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Wt(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Wt(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Wt(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,o,a]=e;if("object"==typeof o&&(a=o,o=void 0),null===t)this._setRanges([]);else if(t instanceof Jl)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Wt)this._setRanges([t],!!a&&!!a.backward);else if(t instanceof cn)this._setRanges([new Wt(t)]);else if(t instanceof Eu){const h=!!a&&!!a.backward;let g;if("in"==o)g=Wt._createIn(t);else if("on"==o)g=Wt._createOn(t);else{if(void 0===o)throw new Oe("model-selection-setto-required-second-parameter",[this,t]);g=new Wt(cn._createAt(t,o))}this._setRanges([g],h)}else{if(!Di(t))throw new Oe("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,a&&!!a.backward)}}_setRanges(e,t=!1){const o=Array.from(e),a=o.some(h=>{if(!(h instanceof Wt))throw new Oe("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(g=>!g.isEqual(h))});(o.length!==this._ranges.length||a)&&(this._replaceAllRanges(o),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(null===this.anchor)throw new Oe("model-selection-setfocus-no-ranges",[this,e]);const o=cn._createAt(e,t);if("same"==o.compareWith(this.focus))return;const a=this.anchor;this._ranges.length&&this._popRange(),"before"==o.compareWith(a)?(this._pushRange(new Wt(o,a)),this._lastRangeBackward=!0):(this._pushRange(new Wt(a,o)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const o=$h(t.start,e);o&&Mu(o,t)&&(yield o);for(const h of t.getWalker()){const g=h.item;"elementEnd"==h.type&&zc(g,e,t)&&(yield g)}const a=$h(t.end,e);a&&!t.end.isTouching(cn._createAt(a,0))&&Mu(a,t)&&(yield a)}}containsEntireContent(e=this.anchor.root){const t=cn._createAt(e,0),o=cn._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&o.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Wt(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new Oe("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function mp(d,e){return!e.has(d)&&(e.add(d),d.root.document.model.schema.isBlock(d)&&!!d.parent)}function zc(d,e,t){return mp(d,e)&&Mu(d,t)}function $h(d,e){const t=d.parent.root.document.model.schema,o=d.parent.getAncestors({parentFirst:!0,includeSelf:!0});let a=!1;const h=o.find(g=>!a&&(a=t.isLimit(g),!a&&mp(g,e)));return o.forEach(g=>e.add(g)),h}function Mu(d,e){const t=function(o){const a=o.root.document.model.schema;let h=o.parent;for(;h;){if(a.isBlock(h))return h;h=h.parent}}(d);return!t||!e.containsRange(Wt._createOn(t),!0)}Jl.prototype.is=function(d){return"selection"===d||"model:selection"===d};class pc extends(He(Wt)){constructor(e,t){super(e,t),Kp.call(this)}detach(){this.stopListening()}toRange(){return new Wt(this.start,this.end)}static fromRange(e){return new pc(e.start,e.end)}}function Kp(){this.listenTo(this.root.document.model,"applyOperation",(d,e)=>{const t=e[0];t.isDocumentOperation&&ed.call(this,t)},{priority:"low"})}function ed(d){const e=this.getTransformedByOperation(d),t=Wt._createFromRanges(e),o=!t.isEqual(this),a=function(g,y){switch(y.type){case"insert":return g.containsPosition(y.position);case"move":case"remove":case"reinsert":case"merge":return g.containsPosition(y.sourcePosition)||g.start.isEqual(y.sourcePosition)||g.containsPosition(y.targetPosition);case"split":return g.containsPosition(y.splitPosition)||g.containsPosition(y.insertionPosition)}return!1}(this,d);let h=null;if(o){"$graveyard"==t.root.rootName&&(h="remove"==d.type?d.sourcePosition:d.deletionPosition);const g=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",g,{deletionPosition:h})}else a&&this.fire("change:content",this.toRange(),{deletionPosition:h})}pc.prototype.is=function(d){return"liveRange"===d||"model:liveRange"===d||"range"==d||"model:range"===d};const gc="selection:";class Xl extends(He(Ws)){constructor(e){super(),this._selection=new ec(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return gc+e}static _isStoreAttributeKey(e){return e.startsWith(gc)}}Xl.prototype.is=function(d){return"selection"===d||"model:selection"==d||"documentSelection"==d||"model:documentSelection"==d};class ec extends Jl{constructor(e){super(),this.markers=new Sn({idProperty:"name"}),this._model=e.model,this._document=e,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this.listenTo(this._model,"applyOperation",(t,o)=>{const a=o[0];a.isDocumentOperation&&"marker"!=a.type&&"rename"!=a.type&&"noop"!=a.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,o,a,h)=>{this._updateMarker(o,h)}),this.listenTo(this._document,"change",(t,o)=>{!function(a,h){const g=a.document.differ;for(const y of g.getChanges()){if("insert"!=y.type)continue;const k=y.position.parent;y.length===k.maxOffset&&a.enqueueChange(h,E=>{const D=Array.from(k.getAttributeKeys()).filter(F=>F.startsWith(gc));for(const F of D)E.removeAttribute(F,k)})}}(this._model,o)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){this._setAttribute(e,t)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}removeAttribute(e){this._removeAttribute(e)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}overrideGravity(){const e=ct();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new Oe("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new Oe("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=pc.fromRange(e);return t.on("change:range",(o,a,h)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=h.deletionPosition;const g=this._ranges.indexOf(t);this._ranges.splice(g,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const a of this._model.markers){const h=a.name.split(":",1)[0];if(!this._observedMarkers.has(h))continue;const g=a.getRange();for(const y of this.getRanges())g.containsRange(y,!y.isCollapsed)&&e.push(a)}const o=Array.from(this.markers);for(const a of e)this.markers.has(a)||(this.markers.add(a),t=!0);for(const a of Array.from(this.markers))e.includes(a)||(this.markers.remove(a),t=!0);t&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateMarker(e,t){const o=e.name.split(":",1)[0];if(!this._observedMarkers.has(o))return;let a=!1;const h=Array.from(this.markers),g=this.markers.has(e);if(t){let y=!1;for(const k of this.getRanges())if(t.containsRange(k,!k.isCollapsed)){y=!0;break}y&&!g?(this.markers.add(e),a=!0):!y&&g&&(this.markers.remove(e),a=!0)}else g&&(this.markers.remove(e),a=!0);a&&this.fire("change:marker",{oldMarkers:h,directChange:!1})}_updateAttributes(e){const t=Bn(this._getSurroundingAttributes()),o=Bn(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[h,g]of this._attributePriority)"low"==g&&(this._attrs.delete(h),this._attributePriority.delete(h));this._setAttributesTo(t);const a=[];for(const[h,g]of this.getAttributes())o.has(h)&&o.get(h)===g||a.push(h);for(const[h]of o)this.hasAttribute(h)||a.push(h);a.length>0&&this.fire("change:attribute",{attributeKeys:a,directChange:!1})}_setAttribute(e,t,o=!0){const a=o?"normal":"low";return("low"!=a||"normal"!=this._attributePriority.get(e))&&super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,a),!0)}_removeAttribute(e,t=!0){const o=t?"normal":"low";return!("low"==o&&"normal"==this._attributePriority.get(e)||(this._attributePriority.set(e,o),!super.hasAttribute(e)||(this._attrs.delete(e),0)))}_setAttributesTo(e){const t=new Set;for(const[o,a]of this.getAttributes())e.get(o)!==a&&this._removeAttribute(o,!1);for(const[o,a]of e)this._setAttribute(o,a,!1)&&t.add(o);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(gc)&&(yield[t.substr(gc.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;let o=null;if(this.isCollapsed){const a=e.textNode?e.textNode:e.nodeBefore,h=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(o=Vc(a)),o||(o=Vc(h)),!this.isGravityOverridden&&!o){let g=a;for(;g&&!t.isInline(g)&&!o;)g=g.previousSibling,o=Vc(g)}if(!o){let g=h;for(;g&&!t.isInline(g)&&!o;)g=g.nextSibling,o=Vc(g)}o||(o=this.getStoredAttributes())}else{const a=this.getFirstRange();for(const h of a){if(h.item.is("element")&&t.isObject(h.item))break;if("text"==h.type){o=h.item.getAttributes();break}}}return o}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function Vc(d){return d instanceof ou||d instanceof Tr?d.getAttributes():null}class Md{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}const au=function(d){return ft(d,5)};class Dd extends Md{elementToElement(e){return this.add(function(t){const o=Qp(t.model),a=lu(t.view,"container");return o.attributes.length&&(o.children=!0),h=>{h.on(`insert:${o.name}`,function(g,y=bp){return(k,E,D)=>{if(!y(E.item,D.consumable,{preflight:!0}))return;const F=g(E.item,D,E);if(!F)return;y(E.item,D.consumable);const Z=D.mapper.toViewPosition(E.range.start);D.mapper.bindElements(E.item,F),D.writer.insert(Z,F),D.convertAttributes(E.item),tg(F,E.item.getChildren(),D,{reconversion:E.reconversion})}}(a,eg(o)),{priority:t.converterPriority||"normal"}),(o.children||o.attributes.length)&&h.on("reduceChanges",Du(o),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const o=Qp(t.model),a=lu(t.view,"container");return o.children=!0,h=>{if(h._conversionApi.schema.checkChild(o.name,"$text"))throw new Oe("conversion-element-to-structure-disallowed-text",h,{elementName:o.name});var g,y;h.on(`insert:${o.name}`,(g=a,y=eg(o),(k,E,D)=>{if(!y(E.item,D.consumable,{preflight:!0}))return;const F=new Map;var Ae,Pe,Ge;D.writer._registerSlotFactory((Ae=E.item,Pe=F,Ge=D,(mt,Ot="children")=>{const tn=mt.createContainerElement("$slot");let Pn=null;if("children"===Ot)Pn=Array.from(Ae.getChildren());else{if("function"!=typeof Ot)throw new Oe("conversion-slot-mode-unknown",Ge.dispatcher,{modeOrFilter:Ot});Pn=Array.from(Ae.getChildren()).filter(tr=>Ot(tr))}return Pe.set(tn,Pn),tn}));const Z=g(E.item,D,E);if(D.writer._clearSlotFactory(),!Z)return;(function(Ae,Pe,Ge){const mt=Array.from(Pe.values()).flat(),Ot=new Set(mt);if(Ot.size!=mt.length)throw new Oe("conversion-slot-filter-overlap",Ge.dispatcher,{element:Ae});if(Ot.size!=Ae.childCount)throw new Oe("conversion-slot-filter-incomplete",Ge.dispatcher,{element:Ae})})(E.item,F,D),y(E.item,D.consumable);const ue=D.mapper.toViewPosition(E.range.start);D.mapper.bindElements(E.item,Z),D.writer.insert(ue,Z),D.convertAttributes(E.item),function(Ae,Pe,Ge,mt){Ge.mapper.on("modelToViewPosition",Pn,{priority:"highest"});let Ot=null,tn=null;for([Ot,tn]of Pe)tg(Ae,tn,Ge,mt),Ge.writer.move(Ge.writer.createRangeIn(Ot),Ge.writer.createPositionBefore(Ot)),Ge.writer.remove(Ot);function Pn(tr,_r){const ll=tn.indexOf(_r.modelPosition.nodeAfter);ll<0||(_r.viewPosition=_r.mapper.findPositionIn(Ot,ll))}Ge.mapper.off("modelToViewPosition",Pn)}(Z,F,D,{reconversion:E.reconversion})}),{priority:t.converterPriority||"normal"}),h.on("reduceChanges",Du(o),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){let o=(t=au(t)).model;"string"==typeof o&&(o={key:o});let a=`attribute:${o.key}`;if(o.name&&(a+=":"+o.name),o.values)for(const g of o.values)t.view[g]=lu(t.view[g],"attribute");else t.view=lu(t.view,"attribute");const h=Jp(t);return g=>{var y;g.on(a,(y=h,(k,E,D)=>{if(!D.consumable.test(E.item,k.name))return;const F=y(E.attributeOldValue,D,E),Z=y(E.attributeNewValue,D,E);if(!F&&!Z)return;D.consumable.consume(E.item,k.name);const ue=D.writer;if(E.item instanceof Jl||E.item instanceof Xl)ue.wrap(ue.document.selection.getFirstRange(),Z);else{let Pe=D.mapper.toViewRange(E.range);null!==E.attributeOldValue&&F&&(Pe=ue.unwrap(Pe,F)),null!==E.attributeNewValue&&Z&&ue.wrap(Pe,Z)}}),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){let o=(t=au(t)).model;"string"==typeof o&&(o={key:o});let a=`attribute:${o.key}`;if(o.name&&(a+=":"+o.name),o.values)for(const g of o.values)t.view[g]=Xp(t.view[g]);else t.view=Xp(t.view);const h=Jp(t);return g=>{var y;g.on(a,(y=h,(k,E,D)=>{if(!D.consumable.test(E.item,k.name))return;const F=y(E.attributeOldValue,D,E),Z=y(E.attributeNewValue,D,E);if(!F&&!Z)return;D.consumable.consume(E.item,k.name);const ue=D.mapper.toViewElement(E.item),Ae=D.writer;if(!ue)throw new Oe("conversion-attribute-to-attribute-on-text",D.dispatcher,E);if(null!==E.attributeOldValue&&F)if("class"==F.key){const Pe=ae(F.value);for(const Ge of Pe)Ae.removeClass(Ge,ue)}else if("style"==F.key){const Pe=Object.keys(F.value);for(const Ge of Pe)Ae.removeStyle(Ge,ue)}else Ae.removeAttribute(F.key,ue);if(null!==E.attributeNewValue&&Z)if("class"==Z.key){const Pe=ae(Z.value);for(const Ge of Pe)Ae.addClass(Ge,ue)}else if("style"==Z.key){const Pe=Object.keys(Z.value);for(const Ge of Pe)Ae.setStyle(Ge,Z.value[Ge],ue)}else Ae.setAttribute(Z.key,Z.value,ue)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const o=lu(t.view,"ui");return a=>{var h;a.on(`addMarker:${t.model}`,(h=o,(g,y,k)=>{y.isOpening=!0;const E=h(y,k);y.isOpening=!1;const D=h(y,k);if(!E||!D)return;const F=y.markerRange;if(F.isCollapsed&&!k.consumable.consume(F,g.name))return;for(const Ae of F)if(!k.consumable.consume(Ae.item,g.name))return;const Z=k.mapper,ue=k.writer;ue.insert(Z.toViewPosition(F.start),E),k.mapper.bindElementToMarker(E,y.markerName),F.isCollapsed||(ue.insert(Z.toViewPosition(F.end),D),k.mapper.bindElementToMarker(D,y.markerName)),g.stop()}),{priority:t.converterPriority||"normal"}),a.on(`removeMarker:${t.model}`,(g,y,k)=>{const E=k.mapper.markerNameToElements(y.markerName);if(E){for(const D of E)k.mapper.unbindElementFromMarkerName(D,y.markerName),k.writer.clear(k.writer.createRangeOn(D),D);k.writer.clearClonedElementsGroup(y.markerName),g.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return o=>{var a,h;o.on(`addMarker:${t.model}`,(a=t.view,(h,g,y)=>{if(!g.item||!(g.item instanceof Jl||g.item instanceof Xl||g.item.is("$textProxy")))return;const k=Wh(a,g,y);if(!k||!y.consumable.consume(g.item,h.name))return;const E=y.writer,D=Td(E,k);if(g.item instanceof Jl||g.item instanceof Xl)E.wrap(E.document.selection.getFirstRange(),D);else{const Z=y.mapper.toViewRange(g.range),ue=E.wrap(Z,D);for(const Ae of ue.getItems())if(Ae.is("attributeElement")&&Ae.isSimilar(D)){y.mapper.bindElementToMarker(Ae,g.markerName);break}}}),{priority:t.converterPriority||"normal"}),o.on(`addMarker:${t.model}`,(h=t.view,(g,y,k)=>{if(!(y.item&&y.item instanceof Io))return;const E=Wh(h,y,k);if(!E||!k.consumable.test(y.item,g.name))return;const D=k.mapper.toViewElement(y.item);if(D&&D.getCustomProperty("addHighlight")){k.consumable.consume(y.item,g.name);for(const F of Wt._createIn(y.item))k.consumable.consume(F.item,g.name);D.getCustomProperty("addHighlight")(D,E,k.writer),k.mapper.bindElementToMarker(D,y.markerName)}}),{priority:t.converterPriority||"normal"}),o.on(`removeMarker:${t.model}`,function(h){return(g,y,k)=>{if(y.markerRange.isCollapsed)return;const E=Wh(h,y,k);if(!E)return;const D=Td(k.writer,E),F=k.mapper.markerNameToElements(y.markerName);if(F){for(const Z of F)k.mapper.unbindElementFromMarkerName(Z,y.markerName),Z.is("attributeElement")?k.writer.unwrap(k.writer.createRangeOn(Z),D):Z.getCustomProperty("removeHighlight")(Z,E.id,k.writer);k.writer.clearClonedElementsGroup(y.markerName),g.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){const o=(t=au(t)).model;let a=t.view;return a||(a=h=>({group:o,name:h.substr(t.model.length+1)})),h=>{var g,y;h.on(`addMarker:${o}`,(g=a,(y,k,E)=>{const D=g(k.markerName,E);if(!D)return;const F=k.markerRange;E.consumable.consume(F,y.name)&&(_p(F,!1,E,k,D),_p(F,!0,E,k,D),y.stop())}),{priority:t.converterPriority||"normal"}),h.on(`removeMarker:${o}`,(y=a,(k,E,D)=>{const F=y(E.markerName,D);if(!F)return;const Z=D.mapper.markerNameToElements(E.markerName);if(Z){for(const Ae of Z)D.mapper.unbindElementFromMarkerName(Ae,E.markerName),Ae.is("containerElement")?(ue(`data-${F.group}-start-before`,Ae),ue(`data-${F.group}-start-after`,Ae),ue(`data-${F.group}-end-before`,Ae),ue(`data-${F.group}-end-after`,Ae)):D.writer.clear(D.writer.createRangeOn(Ae),Ae);D.writer.clearClonedElementsGroup(E.markerName),k.stop()}function ue(Ae,Pe){if(Pe.hasAttribute(Ae)){const Ge=new Set(Pe.getAttribute(Ae).split(","));Ge.delete(F.name),0==Ge.size?D.writer.removeAttribute(Ae,Pe):D.writer.setAttribute(Ae,Array.from(Ge).join(","),Pe)}}}),{priority:t.converterPriority||"normal"})}}(e))}}function Td(d,e){const t=d.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),"number"==typeof e.priority&&(t._priority=e.priority),t._id=e.id,t}function _p(d,e,t,o,a){const h=e?d.start:d.end,g=h.nodeAfter&&h.nodeAfter.is("element")?h.nodeAfter:null,y=h.nodeBefore&&h.nodeBefore.is("element")?h.nodeBefore:null;if(g||y){let k,E;e&&g||!e&&!y?(k=g,E=!0):(k=y,E=!1);const D=t.mapper.toViewElement(k);if(D)return void function(F,Z,ue,Ae,Pe,Ge){const mt=`data-${Ge.group}-${Z?"start":"end"}-${ue?"before":"after"}`,Ot=F.hasAttribute(mt)?F.getAttribute(mt).split(","):[];Ot.unshift(Ge.name),Ae.writer.setAttribute(mt,Ot.join(","),F),Ae.mapper.bindElementToMarker(F,Pe.markerName)}(D,e,E,t,o,a)}!function(k,E,D,F,Z){const Pe=D.writer.createUIElement(`${Z.group}-${E?"start":"end"}`,Z.name?{name:Z.name}:null);D.writer.insert(k,Pe),D.mapper.bindElementToMarker(Pe,F.markerName)}(t.mapper.toViewPosition(h),e,t,o,a)}function Qp(d){return"string"==typeof d&&(d={name:d}),d.attributes?Array.isArray(d.attributes)||(d.attributes=[d.attributes]):d.attributes=[],d.children=!!d.children,d}function lu(d,e){return"function"==typeof d?d:(t,o)=>function(a,h,g){let y;"string"==typeof a&&(a={name:a});const k=h.writer,E=Object.assign({},a.attributes);if(y="container"==g?k.createContainerElement(a.name,E):"attribute"==g?k.createAttributeElement(a.name,E,{priority:a.priority||Ll.DEFAULT_PRIORITY}):k.createUIElement(a.name,E),a.styles){const D=Object.keys(a.styles);for(const F of D)k.setStyle(F,a.styles[F],y)}if(a.classes){const D=a.classes;if("string"==typeof D)k.addClass(D,y);else for(const F of D)k.addClass(F,y)}return y}(d,o,e)}function Jp(d){return d.model.values?(e,t,o)=>{const a=d.view[e];return a?a(e,t,o):null}:d.view}function Xp(d){return"string"==typeof d?e=>({key:d,value:e}):"object"==typeof d?d.value?()=>d:e=>({key:d.key,value:e}):d}function Wh(d,e,t){const o="function"==typeof d?d(e,t):d;return o?(o.priority||(o.priority=10),o.id||(o.id=e.markerName),o):null}function Du(d){const e=function(t){return(o,a)=>{if(!o.is("element",t.name))return!1;if("attribute"==a.type){if(t.attributes.includes(a.attributeKey))return!0}else if(t.children)return!0;return!1}}(d);return(t,o)=>{const a=[];o.reconvertedElements||(o.reconvertedElements=new Set);for(const h of o.changes){const g="attribute"==h.type?h.range.start.nodeAfter:h.position.parent;if(g&&e(g,h)){if(!o.reconvertedElements.has(g)){o.reconvertedElements.add(g);const y=cn._createBefore(g);a.push({type:"remove",name:g.name,position:y,length:1},{type:"reinsert",name:g.name,position:y,length:1})}}else a.push(h)}o.changes=a}}function eg(d){return(e,t,o={})=>{const a=["insert"];for(const h of d.attributes)e.hasAttribute(h)&&a.push(`attribute:${h}`);return!!a.every(h=>t.test(e,h))&&(o.preflight||a.forEach(h=>t.consume(e,h)),!0)}}function tg(d,e,t,o){for(const a of e)ng(d.root,a,t,o)||t.convertItem(a)}function ng(d,e,t,o){const{writer:a,mapper:h}=t;if(!o.reconversion)return!1;const g=h.toViewElement(e);return!(!g||g.root==d||!t.canReuseView(g)||(a.move(a.createRangeOn(g),h.toViewPosition(cn._createBefore(e))),0))}function bp(d,e,{preflight:t}={}){return t?e.test(d,"insert"):e.consume(d,"insert")}function Uc(d){const{schema:e,document:t}=d.model;for(const o of t.getRootNames()){const a=t.getRoot(o);if(a.isEmpty&&!e.checkChild(a,"$text")&&e.checkChild(a,"paragraph"))return d.insertElement("paragraph",a),!0}return!1}function Zh(d,e,t){const o=t.createContext(d);return!!t.checkChild(o,"paragraph")&&!!t.checkChild(o.push("paragraph"),e)}function Of(d,e){const t=e.createElement("paragraph");return e.insert(t,d),e.createPositionAt(t,0)}class Nf extends Md{elementToElement(e){return this.add(Yh(e))}elementToAttribute(e){return this.add(function(t){dh(t=au(t));const o=Id(t,!1),a=Rf(t.view),h=a?`element:${a}`:"element";return g=>{g.on(h,o,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){let o=null;("string"==typeof(t=au(t)).view||t.view.key)&&(o=function(h){"string"==typeof h.view&&(h.view={key:h.view});const g=h.view.key;let y;return y="class"==g||"style"==g?{["class"==g?"classes":"styles"]:h.view.value}:{attributes:{[g]:void 0===h.view.value?/[\s\S]*/:h.view.value}},h.view.name&&(y.name=h.view.name),h.view=y,g}(t)),dh(t,o);const a=Id(t,!0);return h=>{h.on("element",a,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const o=(a=t.model,(h,g)=>{const y="string"==typeof a?a:a(h,g);return g.writer.createElement("$marker",{"data-name":y})});var a;return Yh(_s(un({},t),{model:o}))}(e))}dataToMarker(e){return this.add(function(t){(t=au(t)).model||(t.model=g=>g?t.view+":"+g:t.view);const o={view:t.view,model:t.model},a=Sd(sm(o,"start")),h=Sd(sm(o,"end"));return g=>{g.on(`element:${t.view}-start`,a,{priority:t.converterPriority||"normal"}),g.on(`element:${t.view}-end`,h,{priority:t.converterPriority||"normal"});const y=$e.get("low"),k=$e.get("highest"),E=$e.get(t.converterPriority)/k;var D;g.on("element",(D=o,(F,Z,ue)=>{const Ae=`data-${D.view}`;function Pe(Ge,mt){for(const Ot of mt){const tn=D.model(Ot,ue),Pn=ue.writer.createElement("$marker",{"data-name":tn});ue.writer.insert(Pn,Ge),Z.modelCursor=Z.modelCursor.isEqual(Ge)?Z.modelCursor.getShiftedBy(1):Z.modelCursor._getTransformedByInsertion(Ge,1),Z.modelRange=Z.modelRange._getTransformedByInsertion(Ge,1)[0]}}(ue.consumable.test(Z.viewItem,{attributes:Ae+"-end-after"})||ue.consumable.test(Z.viewItem,{attributes:Ae+"-start-after"})||ue.consumable.test(Z.viewItem,{attributes:Ae+"-end-before"})||ue.consumable.test(Z.viewItem,{attributes:Ae+"-start-before"}))&&(Z.modelRange||Object.assign(Z,ue.convertChildren(Z.viewItem,Z.modelCursor)),ue.consumable.consume(Z.viewItem,{attributes:Ae+"-end-after"})&&Pe(Z.modelRange.end,Z.viewItem.getAttribute(Ae+"-end-after").split(",")),ue.consumable.consume(Z.viewItem,{attributes:Ae+"-start-after"})&&Pe(Z.modelRange.end,Z.viewItem.getAttribute(Ae+"-start-after").split(",")),ue.consumable.consume(Z.viewItem,{attributes:Ae+"-end-before"})&&Pe(Z.modelRange.start,Z.viewItem.getAttribute(Ae+"-end-before").split(",")),ue.consumable.consume(Z.viewItem,{attributes:Ae+"-start-before"})&&Pe(Z.modelRange.start,Z.viewItem.getAttribute(Ae+"-start-before").split(",")))}),{priority:y+E})}}(e))}}function Yh(d){const e=Sd(d=au(d)),t=Rf(d.view),o=t?`element:${t}`:"element";return a=>{a.on(o,e,{priority:d.converterPriority||"normal"})}}function Rf(d){return"string"==typeof d?d:"object"==typeof d&&"string"==typeof d.name?d.name:null}function Sd(d){const e=new Ts(d.view);return(t,o,a)=>{const h=e.match(o.viewItem);if(!h)return;const g=h.match;if(g.name=!0,!a.consumable.test(o.viewItem,g))return;const y=(D=a,(k=d.model)instanceof Function?k(o.viewItem,D):D.writer.createElement(k));var k,D;y&&a.safeInsert(y,o.modelCursor)&&(a.consumable.consume(o.viewItem,g),a.convertChildren(o.viewItem,y),a.updateConversionResult(y,o))}}function dh(d,e=null){d.model={key:"object"!=typeof d.model?d.model:d.model.key,value:"object"!=typeof d.model||void 0===d.model.value?null===e||(h=>h.getAttribute(e)):d.model.value}}function Id(d,e){const t=new Ts(d.view);return(o,a,h)=>{if(!a.modelRange&&e)return;const g=t.match(a.viewItem);if(!g||(function(D,F){const Z="function"==typeof D?D(F):D;return!("object"==typeof Z&&!Rf(Z)||Z.classes||Z.attributes||Z.styles)}(d.view,a.viewItem)?g.match.name=!0:delete g.match.name,!h.consumable.test(a.viewItem,g.match)))return;const y=d.model.key,k="function"==typeof d.model.value?d.model.value(a.viewItem,h):d.model.value;null!==k&&(a.modelRange||Object.assign(a,h.convertChildren(a.viewItem,a.modelCursor)),function(D,F,Z,ue){let Ae=!1;for(const Pe of Array.from(D.getItems({shallow:Z})))ue.schema.checkAttribute(Pe,F.key)&&(Ae=!0,Pe.hasAttribute(F.key)||ue.writer.setAttribute(F.key,F.value,Pe));return Ae}(a.modelRange,{key:y,value:k},e,h)&&(h.consumable.test(a.viewItem,{name:!0})&&(g.match.name=!0),h.consumable.consume(a.viewItem,g.match)))}}function sm(d,e){return{view:`${d.view}-${e}`,model:(t,o)=>{const a=t.getAttribute("name"),h=d.model(a,o);return o.writer.createElement("$marker",{"data-name":h})}}}class ig extends(Dn()){constructor(e,t){super(),this.model=e,this.view=new rm(t),this.mapper=new pp,this.downcastDispatcher=new Yp({mapper:this.mapper,schema:e.schema});const o=this.model.document,a=o.selection,h=this.model.markers;var g,y;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(o,"change",()=>{this.view.change(g=>{this.downcastDispatcher.convertChanges(o.differ,h,g),this.downcastDispatcher.convertSelection(a,h,g)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(g=this.model,y=this.mapper,(k,E)=>{const D=E.newSelection,F=[];for(const ue of D.getRanges())F.push(y.toModelRange(ue));const Z=g.createSelection(F,{backward:D.isBackward});Z.isEqual(g.document.selection)||g.change(ue=>{ue.setSelection(Z)})})),this.downcastDispatcher.on("insert:$text",(g,y,k)=>{if(!k.consumable.consume(y.item,g.name))return;const E=k.writer,D=k.mapper.toViewPosition(y.range.start),F=E.createText(y.item.data);E.insert(D,F)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(g,y,k)=>{k.convertAttributes(y.item),y.reconversion||!y.item.is("element")||y.item.isEmpty||k.convertChildren(y.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(g,y,k)=>{const E=k.mapper.toViewPosition(y.position),D=y.position.getShiftedBy(y.length),F=k.mapper.toViewPosition(D,{isPhantom:!0}),Z=k.writer.createRange(E,F),ue=k.writer.remove(Z.getTrimmed());for(const Ae of k.writer.createRangeIn(ue).getItems())k.mapper.unbindViewElement(Ae,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(g,y,k)=>{const E=k.writer,D=E.document.selection;for(const F of D.getRanges())F.isCollapsed&&F.end.parent.isAttached()&&k.writer.mergeAttributes(F.start);E.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(g,y,k)=>{const E=y.selection;if(E.isCollapsed||!k.consumable.consume(E,"selection"))return;const D=[];for(const F of E.getRanges())D.push(k.mapper.toViewRange(F));k.writer.setSelection(D,{backward:E.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(g,y,k)=>{const E=y.selection;if(!E.isCollapsed||!k.consumable.consume(E,"selection"))return;const D=k.writer,F=E.getFirstPosition(),Z=k.mapper.toViewPosition(F),ue=D.breakAttributes(Z);D.setSelection(ue)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(g=>{if("$graveyard"==g.rootName)return null;const y=new Fa(this.view.document,g.name);return y.rootName=g.rootName,this.mapper.bindElements(g,y),y})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t="string"==typeof e?e:e.name,o=this.model.markers.get(t);if(!o)throw new Oe("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(o)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class wl{constructor(){this._consumables=new Map}add(e,t){let o;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?o=this._consumables.get(e):(o=new am(e),this._consumables.set(e,o)),o.add(t))}test(e,t){const o=this._consumables.get(e);return void 0===o?null:e.is("$text")||e.is("documentFragment")?o:o.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const o=this._consumables.get(e);void 0!==o&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):o.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},o=e.getAttributeKeys();for(const g of o)"style"!=g&&"class"!=g&&t.attributes.push(g);const a=e.getClassNames();for(const g of a)t.classes.push(g);const h=e.getStyleNames();for(const g of h)t.styles.push(g);return t}static createFrom(e,t){if(t||(t=new wl),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,wl.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const o of e.getChildren())t=wl.createFrom(o,t);return t}}const Ff=["attributes","classes","styles"];class am{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Ff)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Ff)if(t in e){const o=this._test(t,e[t]);if(!0!==o)return o}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Ff)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Ff)t in e&&this._revert(t,e[t])}_add(e,t){const o=Ri(t)?t:[t],a=this._consumables[e];for(const h of o){if("attributes"===e&&("class"===h||"style"===h))throw new Oe("viewconsumable-invalid-attribute",this);if(a.set(h,!0),"styles"===e)for(const g of this.element.document.stylesProcessor.getRelatedStyles(h))a.set(g,!0)}}_test(e,t){const o=Ri(t)?t:[t],a=this._consumables[e];for(const h of o)if("attributes"!==e||"class"!==h&&"style"!==h){const g=a.get(h);if(void 0===g)return null;if(!g)return!1}else{const g="class"==h?"classes":"styles",y=this._test(g,[...this._consumables[g].keys()]);if(!0!==y)return y}return!0}_consume(e,t){const o=Ri(t)?t:[t],a=this._consumables[e];for(const h of o)if("attributes"!==e||"class"!==h&&"style"!==h){if(a.set(h,!1),"styles"==e)for(const g of this.element.document.stylesProcessor.getRelatedStyles(h))a.set(g,!1)}else{const g="class"==h?"classes":"styles";this._consume(g,[...this._consumables[g].keys()])}}_revert(e,t){const o=Ri(t)?t:[t],a=this._consumables[e];for(const h of o)if("attributes"!==e||"class"!==h&&"style"!==h)!1===a.get(h)&&a.set(h,!0);else{const g="class"==h?"classes":"styles";this._revert(g,[...this._consumables[g].keys()])}}}class vp extends(Dn()){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Tu(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Tu(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new Oe("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new Oe("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t="string"==typeof e?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!(!t||!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!(!t||!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!(!t||!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const o=this.getDefinition(e.last);return!!o&&o.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof cn){const o=e.nodeBefore,a=e.nodeAfter;if(!(o instanceof Io))throw new Oe("schema-check-merge-no-element-before",this);if(!(a instanceof Io))throw new Oe("schema-check-merge-no-element-after",this);return this.checkMerge(o,a)}for(const o of t.getChildren())if(!this.checkChild(e,o))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[o,a])=>{if(!a)return;const h=e(o,a);"boolean"==typeof h&&(t.stop(),t.return=h)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[o,a])=>{const h=e(o,a);"boolean"==typeof h&&(t.stop(),t.return=h)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(t=e instanceof cn?e.parent:(e instanceof Wt?[e]:Array.from(e.getRanges())).reduce((o,a)=>{const h=a.getCommonAncestor();return o?o.getCommonAncestor(h,{includeSelf:!0}):h},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const o=[...e.getFirstPosition().getAncestors(),new Tr("",e.getAttributes())];return this.checkAttribute(o,t)}{const o=e.getRanges();for(const a of o)for(const h of a)if(this.checkAttribute(h.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(o){for(const a of o)yield*a.getMinimalFlatRanges()}(e);for(const o of e)yield*this._getValidRangesForRange(o,t)}getNearestSelectionRange(e,t="both"){if(this.checkChild(e,"$text"))return new Wt(e);let o,a;const h=e.getAncestors().reverse().find(g=>this.isLimit(g))||e.root;"both"!=t&&"backward"!=t||(o=new Oa({boundaries:Wt._createIn(h),startPosition:e,direction:"backward"})),"both"!=t&&"forward"!=t||(a=new Oa({boundaries:Wt._createIn(h),startPosition:e}));for(const g of function*(y,k){let E=!1;for(;!E;){if(E=!0,y){const D=y.next();D.done||(E=!1,yield{walker:y,value:D.value})}if(k){const D=k.next();D.done||(E=!1,yield{walker:k,value:D.value})}}}(o,a)){const k=g.value;if(k.type==(g.walker==o?"elementEnd":"elementStart")&&this.isObject(k.item))return Wt._createOn(k.item);if(this.checkChild(k.nextPosition,"$text"))return new Wt(k.nextPosition)}return null}findAllowedParent(e,t){let o=e.parent;for(;o;){if(this.checkChild(o,t))return o;if(this.isLimit(o))return null;o=o.parent}return null}setAllowedAttributes(e,t,o){const a=o.model;for(const[h,g]of Object.entries(t))a.schema.checkAttribute(e,h)&&o.setAttribute(h,g,e)}removeDisallowedAttributes(e,t){for(const o of e)if(o.is("$text"))lm(this,o,t);else{const a=Wt._createIn(o).getPositions();for(const h of a)lm(this,h.nodeBefore||h.parent,t)}}getAttributesWithProperty(e,t,o){const a={};for(const[h,g]of e.getAttributes()){const y=this.getAttributeProperties(h);void 0!==y[t]&&(void 0!==o&&o!==y[t]||(a[h]=g))}return a}createContext(e){return new Tu(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,o=Object.keys(t);for(const a of o)e[a]=D_(t[a],a);for(const a of o)rg(e,a);for(const a of o)Gm(e,a);for(const a of o)og(e,a);for(const a of o)sg(e,a),Kh(e,a);for(const a of o)Cl(e,a),yp(e,a),ag(e,a);this._compiledDefinitions=e}_checkContextMatch(e,t,o=t.length-1){const a=t.getItem(o);if(e.allowIn.includes(a.name)){if(0==o)return!0;{const h=this.getDefinition(a);return this._checkContextMatch(h,t,o-1)}}return!1}*_getValidRangesForRange(e,t){let o=e.start,a=e.start;for(const h of e.getItems({shallow:!0}))h.is("element")&&(yield*this._getValidRangesForRange(Wt._createIn(h),t)),this.checkAttribute(h,t)||(o.isEqual(a)||(yield new Wt(o,a)),o=cn._createAfter(h)),a=cn._createAfter(h);o.isEqual(a)||(yield new Wt(o,a))}}class Tu{constructor(e){if(e instanceof Tu)return e;let t;t="string"==typeof e?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(Wm)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Tu([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function D_(d,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(o,a){for(const h of o){const g=Object.keys(h).filter(y=>y.startsWith("is"));for(const y of g)a[y]=!!h[y]}}(d,t),Pd(d,t,"allowIn"),Pd(d,t,"allowContentOf"),Pd(d,t,"allowWhere"),Pd(d,t,"allowAttributes"),Pd(d,t,"allowAttributesOf"),Pd(d,t,"allowChildren"),Pd(d,t,"inheritTypesFrom"),function(o,a){for(const h of o){const g=h.inheritAllFrom;g&&(a.allowContentOf.push(g),a.allowWhere.push(g),a.allowAttributesOf.push(g),a.inheritTypesFrom.push(g))}}(d,t),t}function rg(d,e){const t=d[e];for(const o of t.allowChildren){const a=d[o];a&&a.allowIn.push(e)}t.allowChildren.length=0}function Gm(d,e){for(const t of d[e].allowContentOf)d[t]&&$m(d,t).forEach(o=>{o.allowIn.push(e)});delete d[e].allowContentOf}function og(d,e){for(const t of d[e].allowWhere){const o=d[t];o&&d[e].allowIn.push(...o.allowIn)}delete d[e].allowWhere}function sg(d,e){for(const t of d[e].allowAttributesOf){const o=d[t];o&&d[e].allowAttributes.push(...o.allowAttributes)}delete d[e].allowAttributesOf}function Kh(d,e){const t=d[e];for(const o of t.inheritTypesFrom){const a=d[o];if(a){const h=Object.keys(a).filter(g=>g.startsWith("is"));for(const g of h)g in t||(t[g]=a[g])}}delete t.inheritTypesFrom}function Cl(d,e){const t=d[e],o=t.allowIn.filter(a=>d[a]);t.allowIn=Array.from(new Set(o))}function yp(d,e){const t=d[e];for(const o of t.allowIn)d[o].allowChildren.push(e)}function ag(d,e){const t=d[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function Pd(d,e,t){for(const o of d){const a=o[t];"string"==typeof a?e[t].push(a):Array.isArray(a)&&e[t].push(...a)}}function $m(d,e){const t=d[e];return(o=d,Object.keys(o).map(a=>o[a])).filter(a=>a.allowIn.includes(t.name));var o}function Wm(d){return"string"==typeof d||d.is("documentFragment")?{name:"string"==typeof d?d:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:d.is("element")?d.name:"$text",*getAttributeKeys(){yield*d.getAttributeKeys()},getAttribute:e=>d.getAttribute(e)}}function lm(d,e,t){for(const o of e.getAttributeKeys())d.checkAttribute(e,o)||t.removeAttribute(o,e)}class cm extends(He()){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=_s(un({},e),{consumable:null,writer:null,store:null,convertItem:(t,o)=>this._convertItem(t,o),convertChildren:(t,o)=>this._convertChildren(t,o),safeInsert:(t,o)=>this._safeInsert(t,o),updateConversionResult:(t,o)=>this._updateConversionResult(t,o),splitToAllowedParent:(t,o)=>this._splitToAllowedParent(t,o),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)})}convert(e,t,o=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(g,y){let k;for(const E of new Tu(g)){const D={};for(const Z of E.getAttributeKeys())D[Z]=E.getAttribute(Z);const F=y.createElement(E.name,D);k&&y.insert(F,k),k=cn._createAt(F,0)}return k}(o,t),this.conversionApi.writer=t,this.conversionApi.consumable=wl.createFrom(e),this.conversionApi.store={};const{modelRange:a}=this._convertItem(e,this._modelCursor),h=t.createDocumentFragment();if(a){this._removeEmptyElements();for(const g of Array.from(this._modelCursor.parent.getChildren()))t.append(g,h);h.markers=function(g,y){const k=new Set,E=new Map,D=Wt._createIn(g).getItems();for(const F of D)F.is("element","$marker")&&k.add(F);for(const F of k){const Z=F.getAttribute("data-name"),ue=y.createPositionBefore(F);E.has(Z)?E.get(Z).end=ue.clone():E.set(Z,new Wt(ue.clone())),y.remove(F)}return E}(h,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,h}_convertItem(e,t){const o={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,o,this.conversionApi):e.is("$text")?this.fire("text",o,this.conversionApi):this.fire("documentFragment",o,this.conversionApi),o.modelRange&&!(o.modelRange instanceof Wt))throw new Oe("view-conversion-dispatcher-incorrect-result",this);return{modelRange:o.modelRange,modelCursor:o.modelCursor}}_convertChildren(e,t){let o=t.is("position")?t:cn._createAt(t,0);const a=new Wt(o);for(const h of Array.from(e.getChildren())){const g=this._convertItem(h,o);g.modelRange instanceof Wt&&(a.end=g.modelRange.end,o=g.modelCursor)}return{modelRange:a,modelCursor:o}}_safeInsert(e,t){const o=this._splitToAllowedParent(e,t);return!!o&&(this.conversionApi.writer.insert(e,o.position),!0)}_updateConversionResult(e,t){const o=this._getSplitParts(e),a=this.conversionApi.writer;t.modelRange||(t.modelRange=a.createRange(a.createPositionBefore(e),a.createPositionAfter(o[o.length-1])));const h=this._cursorParents.get(e);t.modelCursor=h?a.createPositionAt(h,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:o,writer:a}=this.conversionApi;let h=o.findAllowedParent(t,e);if(h){if(h===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(h)&&(h=null)}if(!h)return Zh(t,e,o)?{position:Of(t,a)}:null;const g=this.conversionApi.writer.split(t,h),y=[];for(const E of g.range.getWalker())if("elementEnd"==E.type)y.push(E.item);else{const D=y.pop();this._registerSplitPair(D,E.item)}const k=g.range.end.parent;return this._cursorParents.set(e,k),{position:g.position,cursorParent:k}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const o=this._splitParts.get(e);this._splitParts.set(t,o),o.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class lg{getHtml(e){const t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class Za{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new ki(e,{renderingMode:"data"}),this.htmlWriter=new lg}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode="marked"==e?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),o=t.createDocumentFragment(),a=t.body.childNodes;for(;a.length>0;)o.appendChild(a[0]);return o}}class Zm extends(He()){constructor(e,t){super(),this.model=e,this.mapper=new pp,this.downcastDispatcher=new Yp({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(o,a,h)=>{if(!h.consumable.consume(a.item,o.name))return;const g=h.writer,y=h.mapper.toViewPosition(a.range.start),k=g.createText(a.item.data);g.insert(y,k)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(o,a,h)=>{h.convertAttributes(a.item),a.reconversion||!a.item.is("element")||a.item.isEmpty||h.convertChildren(a.item)},{priority:"lowest"}),this.upcastDispatcher=new cm({schema:e.schema}),this.viewDocument=new Dr(t),this.stylesProcessor=t,this.htmlProcessor=new Za(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Bl(this.viewDocument),this.upcastDispatcher.on("text",(o,a,{schema:h,consumable:g,writer:y})=>{let k=a.modelCursor;if(!g.test(a.viewItem))return;if(!h.checkChild(k,"$text")){if(!Zh(k,"$text",h)||0==a.viewItem.data.trim().length)return;k=Of(k,y)}g.consume(a.viewItem);const E=y.createText(a.viewItem.data);y.insert(E,k),a.modelRange=y.createRange(k,k.getShiftedBy(E.offsetSize)),a.modelCursor=a.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(o,a,h)=>{if(!a.modelRange&&h.consumable.consume(a.viewItem,{name:!0})){const{modelRange:g,modelCursor:y}=h.convertChildren(a.viewItem,a.modelCursor);a.modelRange=g,a.modelCursor=y}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(o,a,h)=>{if(!a.modelRange&&h.consumable.consume(a.viewItem,{name:!0})){const{modelRange:g,modelCursor:y}=h.convertChildren(a.viewItem,a.modelCursor);a.modelRange=g,a.modelCursor=y}},{priority:"lowest"}),Dn().prototype.decorate.call(this,"init"),Dn().prototype.decorate.call(this,"set"),Dn().prototype.decorate.call(this,"get"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Uc)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:o="empty"}=e;if(!this._checkIfRootsExists([t]))throw new Oe("datacontroller-get-non-existent-root",this);const a=this.model.document.getRoot(t);return"empty"!==o||this.model.hasContent(a,{ignoreWhitespaces:!0})?this.stringify(a,e):""}stringify(e,t={}){const o=this.toView(e,t);return this.processor.toData(o)}toView(e,t={}){const o=this.viewDocument,a=this._viewWriter;this.mapper.clearBindings();const h=Wt._createIn(e),g=new er(o);this.mapper.bindElements(e,g);const y=e.is("documentFragment")?e.markers:function(k){const E=[],D=k.root.document;if(!D)return new Map;const F=Wt._createIn(k);for(const Z of D.model.markers){const ue=Z.getRange(),Ae=ue.isCollapsed,Pe=ue.start.isEqual(F.start)||ue.end.isEqual(F.end);if(Ae&&Pe)E.push([Z.name,ue]);else{const Ge=F.getIntersection(ue);Ge&&E.push([Z.name,Ge])}}return E.sort(([Z,ue],[Ae,Pe])=>{if("after"!==ue.end.compareWith(Pe.start))return 1;if("before"!==ue.start.compareWith(Pe.end))return-1;switch(ue.start.compareWith(Pe.start)){case"before":return 1;case"after":return-1;default:switch(ue.end.compareWith(Pe.end)){case"before":return 1;case"after":return-1;default:return Ae.localeCompare(Z)}}}),new Map(E)}(e);return this.downcastDispatcher.convert(h,y,a,t),g}init(e){if(this.model.document.version)throw new Oe("datacontroller-init-document-not-empty",this);let t={};if("string"==typeof e?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new Oe("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},o=>{for(const a of Object.keys(t)){const h=this.model.document.getRoot(a);o.insert(this.parse(t[a],h),h,0)}}),Promise.resolve()}set(e,t={}){let o={};if("string"==typeof e?o.main=e:o=e,!this._checkIfRootsExists(Object.keys(o)))throw new Oe("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},a=>{a.setSelection(null),a.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const h of Object.keys(o)){const g=this.model.document.getRoot(h);a.remove(a.createRangeIn(g)),a.insert(this.parse(o[h],g),g,0)}})}parse(e,t="$root"){const o=this.processor.toView(e);return this.toModel(o,t)}toModel(e,t="$root"){return this.model.change(o=>this.upcastDispatcher.convert(e,o,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRootNames().includes(t))return!1;return!0}}class dr{constructor(e,t){this._helpers=new Map,this._downcast=ae(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=ae(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const o=this._downcast.includes(t);if(!this._upcast.includes(t)&&!o)throw new Oe("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:o})}for(e){if(!this._helpers.has(e))throw new Oe("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:o}of wp(e))this.for("upcast").elementToElement({model:t,view:o,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:o}of wp(e))this.for("upcast").elementToAttribute({view:o,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:o}of wp(e))this.for("upcast").attributeToAttribute({view:o,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:o}){if(this._helpers.has(e))throw new Oe("conversion-group-exists",this);const a=o?new Dd(t):new Nf(t);this._helpers.set(e,a)}}function*wp(d){if(d.model.values)for(const e of d.model.values){const t={key:d.model.key,value:e},o=d.view[e],a=d.upcastAlso?d.upcastAlso[e]:void 0;yield*cg(t,o,a)}else yield*cg(d.model,d.view,d.upcastAlso)}function*cg(d,e,t){if(yield{model:d,view:e},t)for(const o of ae(t))yield{model:d,view:o}}class mc{constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Qh(d,e){const t=ug(e),o=t.reduce((g,y)=>g+y.offsetSize,0),a=d.parent;kl(d);const h=d.index;return a._insertChild(h,t),Su(a,h+t.length),Su(a,h),new Wt(d,d.getShiftedBy(o))}function Hc(d){if(!d.isFlat)throw new Oe("operation-utils-remove-range-not-flat",this);const e=d.start.parent;kl(d.start),kl(d.end);const t=e._removeChildren(d.start.index,d.end.index-d.start.index);return Su(e,d.start.index),t}function sa(d,e){if(!d.isFlat)throw new Oe("operation-utils-move-range-not-flat",this);const t=Hc(d);return Qh(e=e._getTransformedByDeletion(d.start,d.end.offset-d.start.offset),t)}function ug(d){const e=[];!function t(o){if("string"==typeof o)e.push(new Tr(o));else if(o instanceof ou)e.push(new Tr(o.data,o.getAttributes()));else if(o instanceof Eu)e.push(o);else if(Di(o))for(const a of o)t(a)}(d);for(let t=1;t<e.length;t++){const o=e[t],a=e[t-1];o instanceof Tr&&a instanceof Tr&&Lf(o,a)&&(e.splice(t-1,2,new Tr(a.data+o.data,a.getAttributes())),t--)}return e}function Su(d,e){const t=d.getChild(e-1),o=d.getChild(e);if(t&&o&&t.is("$text")&&o.is("$text")&&Lf(t,o)){const a=new Tr(t.data+o.data,t.getAttributes());d._removeChildren(e-1,2),d._insertChild(e-1,a)}}function kl(d){const e=d.textNode,t=d.parent;if(e){const o=d.offset-e.startOffset,a=e.index;t._removeChildren(a,1);const h=new Tr(e.data.substr(0,o),e.getAttributes()),g=new Tr(e.data.substr(o),e.getAttributes());t._insertChild(a,[h,g])}}function Lf(d,e){const t=d.getAttributes(),o=e.getAttributes();for(const a of t){if(a[1]!==e.getAttribute(a[0]))return!1;o.next()}return o.next().done}class Kr extends mc{constructor(e,t,o,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new Kr(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Kr(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,o=this.sourcePosition.offset,a=this.targetPosition.offset;if(o+this.howMany>e.maxOffset)throw new Oe("move-operation-nodes-do-not-exist",this);if(e===t&&o<a&&a<o+this.howMany)throw new Oe("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==fi(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const h=this.sourcePosition.path.length-1;if(this.targetPosition.path[h]>=o&&this.targetPosition.path[h]<o+this.howMany)throw new Oe("move-operation-node-into-itself",this)}}_execute(){sa(Wt._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const o=cn.fromJSON(e.sourcePosition,t),a=cn.fromJSON(e.targetPosition,t);return new this(o,e.howMany,a,e.baseVersion)}}class _a extends mc{constructor(e,t,o){super(o),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new ru(ug(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new ru([...this.nodes].map(o=>o._clone(!0))),t=new _a(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const t=new cn(this.position.root.document.graveyard,[0]);return new Kr(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new Oe("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new ru([...e].map(t=>t._clone(!0))),Qh(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const o=[];for(const h of e.nodes)o.push(h.name?Io.fromJSON(h):Tr.fromJSON(h));const a=new _a(cn.fromJSON(e.position,t),o,e.baseVersion);return a.shouldReceiveAttributes=e.shouldReceiveAttributes,a}}class _c extends mc{constructor(e,t,o,a,h,g){super(g),this.name=e,this.oldRange=t?t.clone():null,this.newRange=o?o.clone():null,this.affectsData=h,this._markers=a}get type(){return"marker"}clone(){return new _c(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new _c(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new _c(e.name,e.oldRange?Wt.fromJSON(e.oldRange,t):null,e.newRange?Wt.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const Bf=function(d,e){return Pa(d,e)};class aa extends mc{constructor(e,t,o,a,h){super(h),this.range=e.clone(),this.key=t,this.oldValue=void 0===o?null:o,this.newValue=void 0===a?null:a}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new aa(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new aa(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new Oe("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!Bf(e.getAttribute(this.key),this.oldValue))throw new Oe("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new Oe("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Bf(this.oldValue,this.newValue)||function(e,t,o){kl(e.start),kl(e.end);for(const a of e.getItems({shallow:!0})){const h=a.is("$textProxy")?a.textNode:a;null!==o?h._setAttribute(t,o):h._removeAttribute(t),Su(h.parent,h.index)}Su(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new aa(Wt.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class la extends mc{get type(){return"noop"}clone(){return new la(this.baseVersion)}getReversed(){return new la(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class il extends mc{constructor(e,t,o,a){super(a),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=o}get type(){return"rename"}clone(){return new il(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new il(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Io))throw new Oe("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new Oe("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new il(cn.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class bc extends mc{constructor(e,t,o,a,h){super(h),this.root=e,this.key=t,this.oldValue=o,this.newValue=a}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new bc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new bc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new Oe("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new Oe("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new Oe("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new Oe("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new bc(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Os extends mc{constructor(e,t,o,a,h){super(h),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=a.clone()}get type(){return"merge"}get deletionPosition(){return new cn(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Wt(this.sourcePosition,e)}clone(){return new Os(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),o=new cn(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new fo(e,this.howMany,o,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new Oe("merge-operation-source-position-invalid",this);if(!t.parent)throw new Oe("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new Oe("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;sa(Wt._createIn(e),this.targetPosition),sa(Wt._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const o=cn.fromJSON(e.sourcePosition,t),a=cn.fromJSON(e.targetPosition,t),h=cn.fromJSON(e.graveyardPosition,t);return new this(o,e.howMany,a,h,e.baseVersion)}}class fo extends mc{constructor(e,t,o,a,h){super(h),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=o,this.graveyardPosition=a?a.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new cn(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Wt(this.splitPosition,e)}clone(){return new fo(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=new cn(this.splitPosition.root.document.graveyard,[0]);return new Os(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent;if(!e||e.maxOffset<this.splitPosition.offset)throw new Oe("split-operation-position-invalid",this);if(!e.parent)throw new Oe("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new Oe("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new Oe("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)sa(Wt._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Qh(this.insertionPosition,t)}sa(new Wt(cn._createAt(e,this.splitPosition.offset),cn._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new cn(e.root,t,"toPrevious")}static fromJSON(e,t){const o=cn.fromJSON(e.splitPosition,t),a=cn.fromJSON(e.insertionPosition,t),h=e.graveyardPosition?cn.fromJSON(e.graveyardPosition,t):null;return new this(o,e.howMany,a,h,e.baseVersion)}}const Iu={};Iu[aa.className]=aa,Iu[_a.className]=_a,Iu[_c.className]=_c,Iu[Kr.className]=Kr,Iu[la.className]=la,Iu[mc.className]=mc,Iu[il.className]=il,Iu[bc.className]=bc,Iu[fo.className]=fo,Iu[Os.className]=Os;const Jh=new Map;function Br(d,e,t){let o=Jh.get(d);o||(o=new Map,Jh.set(d,o)),o.set(e,t)}function dg(d){return[d]}function Cp(d,e,t={}){const o=function(a,h){const g=Jh.get(a);return g&&g.has(h)?g.get(h):dg}(d.constructor,e.constructor);try{return o(d=d.clone(),e,t)}catch(a){throw a}}function T_(d,e,t){d=d.slice(),e=e.slice();const o=new Ym(t.document,t.useRelations,t.forceWeakRemove);o.setOriginalOperations(d),o.setOriginalOperations(e);const a=o.originalOperations;if(0==d.length||0==e.length)return{operationsA:d,operationsB:e,originalOperations:a};const h=new WeakMap;for(const k of d)h.set(k,0);const g={nextBaseVersionA:d[d.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:d.length,originalOperationsBCount:e.length};let y=0;for(;y<d.length;){const k=d[y],E=h.get(k);if(E==e.length){y++;continue}const D=e[E],F=Cp(k,D,o.getContext(k,D,!0)),Z=Cp(D,k,o.getContext(D,k,!1));o.updateRelation(k,D),o.setOriginalOperations(F,k),o.setOriginalOperations(Z,D);for(const ue of F)h.set(ue,E+Z.length);d.splice(y,1,...F),e.splice(E,1,...Z)}if(t.padWithNoOps){const k=d.length-g.originalOperationsACount,E=e.length-g.originalOperationsBCount;hg(d,E-k),hg(e,k-E)}return Km(d,g.nextBaseVersionB),Km(e,g.nextBaseVersionA),{operationsA:d,operationsB:e,originalOperations:a}}class Ym{constructor(e,t,o=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!o,this._relations=new Map}setOriginalOperations(e,t=null){const o=t?this.originalOperations.get(t):null;for(const a of e)this.originalOperations.set(a,o||a)}updateRelation(e,t){if(e instanceof Kr)t instanceof Os?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Kr&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof fo){if(t instanceof Os)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Kr)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const o=Wt._createFromPositionAndShift(t.sourcePosition,t.howMany);e.splitPosition.hasSameParentAs(t.sourcePosition)&&o.containsPosition(e.splitPosition)&&this._setRelation(e,t,{howMany:o.end.offset-e.splitPosition.offset,offset:e.splitPosition.offset-o.start.offset})}}else if(e instanceof Os)t instanceof Os?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof fo&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof _c){const o=e.newRange;if(!o)return;if(t instanceof Kr){const a=Wt._createFromPositionAndShift(t.sourcePosition,t.howMany),h=a.containsPosition(o.start)||a.start.isEqual(o.start),g=a.containsPosition(o.end)||a.end.isEqual(o.end);!h&&!g||a.containsRange(o)||this._setRelation(e,t,{side:h?"left":"right",path:h?o.start.path.slice():o.end.path.slice()})}else if(t instanceof Os){const a=o.start.isEqual(t.targetPosition),h=o.start.isEqual(t.deletionPosition),g=o.end.isEqual(t.deletionPosition),y=o.end.isEqual(t.sourcePosition);(a||h||g||y)&&this._setRelation(e,t,{wasInLeftElement:a,wasStartBeforeMergedElement:h,wasEndBeforeMergedElement:g,wasInRightElement:y})}}}getContext(e,t,o){return{aIsStrong:o,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const o=this.originalOperations.get(t),a=this._history.getUndoneOperation(o);if(!a)return null;const h=this.originalOperations.get(e),g=this._relations.get(h);return g&&g.get(a)||null}_setRelation(e,t,o){const a=this.originalOperations.get(e),h=this.originalOperations.get(t);let g=this._relations.get(a);g||(g=new Map,this._relations.set(a,g)),g.set(h,o)}}function Km(d,e){for(const t of d)t.baseVersion=e++}function hg(d,e){for(let t=0;t<e;t++)d.push(new la(0))}function fg(d,e,t){const o=d.nodes.getNode(0).getAttribute(e);if(o==t)return null;const a=new Wt(d.position,d.position.getShiftedBy(d.howMany));return new aa(a,e,o,t,0)}function Xh(d,e){return null===d.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function vc(d,e){const t=[];for(let o=0;o<d.length;o++){const a=d[o],h=new Kr(a.start,a.end.offset-a.start.offset,e,0);t.push(h);for(let g=o+1;g<d.length;g++)d[g]=d[g]._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)[0];e=e._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)}return t}Br(aa,aa,(d,e,t)=>{if(d.key===e.key&&d.range.start.hasSameParentAs(e.range.start)){const o=d.range.getDifference(e.range).map(h=>new aa(h,d.key,d.oldValue,d.newValue,0)),a=d.range.getIntersection(e.range);return a&&t.aIsStrong&&o.push(new aa(a,e.key,e.newValue,d.newValue,0)),0==o.length?[new la(0)]:o}return[d]}),Br(aa,_a,(d,e)=>{if(d.range.start.hasSameParentAs(e.position)&&d.range.containsPosition(e.position)){const t=d.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(o=>new aa(o,d.key,d.oldValue,d.newValue,d.baseVersion));if(e.shouldReceiveAttributes){const o=fg(e,d.key,d.oldValue);o&&t.unshift(o)}return t}return d.range=d.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[d]}),Br(aa,Os,(d,e)=>{const t=[];d.range.start.hasSameParentAs(e.deletionPosition)&&(d.range.containsPosition(e.deletionPosition)||d.range.start.isEqual(e.deletionPosition))&&t.push(Wt._createFromPositionAndShift(e.graveyardPosition,1));const o=d.range._getTransformedByMergeOperation(e);return o.isCollapsed||t.push(o),t.map(a=>new aa(a,d.key,d.oldValue,d.newValue,d.baseVersion))}),Br(aa,Kr,(d,e)=>function(o,a){const h=Wt._createFromPositionAndShift(a.sourcePosition,a.howMany);let g=null,y=[];h.containsRange(o,!0)?g=o:o.start.hasSameParentAs(h.start)?(y=o.getDifference(h),g=o.getIntersection(h)):y=[o];const k=[];for(let E of y){E=E._getTransformedByDeletion(a.sourcePosition,a.howMany);const D=a.getMovedRangeStart(),F=E.start.hasSameParentAs(D),Z=E._getTransformedByInsertion(D,a.howMany,F);k.push(...Z)}return g&&k.push(g._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany,!1)[0]),k}(d.range,e).map(o=>new aa(o,d.key,d.oldValue,d.newValue,d.baseVersion))),Br(aa,fo,(d,e)=>{if(d.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||d.range.end.offset++,[d];if(d.range.start.hasSameParentAs(e.splitPosition)&&d.range.containsPosition(e.splitPosition)){const t=d.clone();return t.range=new Wt(e.moveTargetPosition.clone(),d.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),d.range.end=e.splitPosition.clone(),d.range.end.stickiness="toPrevious",[d,t]}return d.range=d.range._getTransformedBySplitOperation(e),[d]}),Br(_a,aa,(d,e)=>{const t=[d];if(d.shouldReceiveAttributes&&d.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(d.position)){const o=fg(d,e.key,e.newValue);o&&t.push(o)}return t}),Br(_a,_a,(d,e,t)=>(d.position.isEqual(e.position)&&t.aIsStrong||(d.position=d.position._getTransformedByInsertOperation(e)),[d])),Br(_a,Kr,(d,e)=>(d.position=d.position._getTransformedByMoveOperation(e),[d])),Br(_a,fo,(d,e)=>(d.position=d.position._getTransformedBySplitOperation(e),[d])),Br(_a,Os,(d,e)=>(d.position=d.position._getTransformedByMergeOperation(e),[d])),Br(_c,_a,(d,e)=>(d.oldRange&&(d.oldRange=d.oldRange._getTransformedByInsertOperation(e)[0]),d.newRange&&(d.newRange=d.newRange._getTransformedByInsertOperation(e)[0]),[d])),Br(_c,_c,(d,e,t)=>{if(d.name==e.name){if(!t.aIsStrong)return[new la(0)];d.oldRange=e.newRange?e.newRange.clone():null}return[d]}),Br(_c,Os,(d,e)=>(d.oldRange&&(d.oldRange=d.oldRange._getTransformedByMergeOperation(e)),d.newRange&&(d.newRange=d.newRange._getTransformedByMergeOperation(e)),[d])),Br(_c,Kr,(d,e,t)=>{if(d.oldRange&&(d.oldRange=Wt._createFromRanges(d.oldRange._getTransformedByMoveOperation(e))),d.newRange){if(t.abRelation){const o=Wt._createFromRanges(d.newRange._getTransformedByMoveOperation(e));if("left"==t.abRelation.side&&e.targetPosition.isEqual(d.newRange.start))return d.newRange.end=o.end,d.newRange.start.path=t.abRelation.path,[d];if("right"==t.abRelation.side&&e.targetPosition.isEqual(d.newRange.end))return d.newRange.start=o.start,d.newRange.end.path=t.abRelation.path,[d]}d.newRange=Wt._createFromRanges(d.newRange._getTransformedByMoveOperation(e))}return[d]}),Br(_c,fo,(d,e,t)=>{if(d.oldRange&&(d.oldRange=d.oldRange._getTransformedBySplitOperation(e)),d.newRange){if(t.abRelation){const o=d.newRange._getTransformedBySplitOperation(e);return d.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?d.newRange.start=cn._createAt(e.insertionPosition):d.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(d.newRange.start=cn._createAt(e.moveTargetPosition)),d.newRange.end=d.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?cn._createAt(e.moveTargetPosition):d.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?cn._createAt(e.insertionPosition):o.end,[d]}d.newRange=d.newRange._getTransformedBySplitOperation(e)}return[d]}),Br(Os,_a,(d,e)=>(d.sourcePosition.hasSameParentAs(e.position)&&(d.howMany+=e.howMany),d.sourcePosition=d.sourcePosition._getTransformedByInsertOperation(e),d.targetPosition=d.targetPosition._getTransformedByInsertOperation(e),[d])),Br(Os,Os,(d,e,t)=>{if(d.sourcePosition.isEqual(e.sourcePosition)&&d.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const o=e.graveyardPosition.path.slice();return o.push(0),d.sourcePosition=new cn(e.graveyardPosition.root,o),d.howMany=0,[d]}return[new la(0)]}if(d.sourcePosition.isEqual(e.sourcePosition)&&!d.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&"splitAtSource"!=t.abRelation){const o="$graveyard"==d.targetPosition.root.rootName,a="$graveyard"==e.targetPosition.root.rootName;if(a&&!o||(!o||a)&&t.aIsStrong){const h=e.targetPosition._getTransformedByMergeOperation(e),g=d.targetPosition._getTransformedByMergeOperation(e);return[new Kr(h,d.howMany,g,0)]}return[new la(0)]}return d.sourcePosition.hasSameParentAs(e.targetPosition)&&(d.howMany+=e.howMany),d.sourcePosition=d.sourcePosition._getTransformedByMergeOperation(e),d.targetPosition=d.targetPosition._getTransformedByMergeOperation(e),d.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(d.graveyardPosition=d.graveyardPosition._getTransformedByMergeOperation(e)),[d]}),Br(Os,Kr,(d,e,t)=>{const o=Wt._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!t.bWasUndone&&!t.forceWeakRemove&&d.deletionPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(d.sourcePosition)?[new la(0)]:(d.sourcePosition.hasSameParentAs(e.targetPosition)&&(d.howMany+=e.howMany),d.sourcePosition.hasSameParentAs(e.sourcePosition)&&(d.howMany-=e.howMany),d.sourcePosition=d.sourcePosition._getTransformedByMoveOperation(e),d.targetPosition=d.targetPosition._getTransformedByMoveOperation(e),d.graveyardPosition.isEqual(e.targetPosition)||(d.graveyardPosition=d.graveyardPosition._getTransformedByMoveOperation(e)),[d])}),Br(Os,fo,(d,e,t)=>{if(e.graveyardPosition&&(d.graveyardPosition=d.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),d.deletionPosition.isEqual(e.graveyardPosition)&&(d.howMany=e.howMany)),d.targetPosition.isEqual(e.splitPosition)){const o=0!=e.howMany,a=e.graveyardPosition&&d.deletionPosition.isEqual(e.graveyardPosition);if(o||a||"mergeTargetNotMoved"==t.abRelation)return d.sourcePosition=d.sourcePosition._getTransformedBySplitOperation(e),[d]}if(d.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==t.abRelation)return d.howMany=0,d.targetPosition=d.targetPosition._getTransformedBySplitOperation(e),[d];if("mergeSameElement"==t.abRelation||d.sourcePosition.offset>0)return d.sourcePosition=e.moveTargetPosition.clone(),d.targetPosition=d.targetPosition._getTransformedBySplitOperation(e),[d]}return d.sourcePosition.hasSameParentAs(e.splitPosition)&&(d.howMany=e.splitPosition.offset),d.sourcePosition=d.sourcePosition._getTransformedBySplitOperation(e),d.targetPosition=d.targetPosition._getTransformedBySplitOperation(e),[d]}),Br(Kr,_a,(d,e)=>{const t=Wt._createFromPositionAndShift(d.sourcePosition,d.howMany)._getTransformedByInsertOperation(e,!1)[0];return d.sourcePosition=t.start,d.howMany=t.end.offset-t.start.offset,d.targetPosition.isEqual(e.position)||(d.targetPosition=d.targetPosition._getTransformedByInsertOperation(e)),[d]}),Br(Kr,Kr,(d,e,t)=>{const o=Wt._createFromPositionAndShift(d.sourcePosition,d.howMany),a=Wt._createFromPositionAndShift(e.sourcePosition,e.howMany);let h,g=t.aIsStrong,y=!t.aIsStrong;if("insertBefore"==t.abRelation||"insertAfter"==t.baRelation?y=!0:"insertAfter"!=t.abRelation&&"insertBefore"!=t.baRelation||(y=!1),h=d.targetPosition.isEqual(e.targetPosition)&&y?d.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):d.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Xh(d,e)&&Xh(e,d))return[e.getReversed()];if(o.containsPosition(e.targetPosition)&&o.containsRange(a,!0))return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),vc([o],h);if(a.containsPosition(d.targetPosition)&&a.containsRange(o,!0))return o.start=o.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),o.end=o.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),vc([o],h);const k=fi(d.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==k||"extension"==k)return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),vc([o],h);"remove"!=d.type||"remove"==e.type||t.aWasUndone||t.forceWeakRemove?"remove"==d.type||"remove"!=e.type||t.bWasUndone||t.forceWeakRemove||(g=!1):g=!0;const E=[],D=o.getDifference(a);for(const Z of D){Z.start=Z.start._getTransformedByDeletion(e.sourcePosition,e.howMany),Z.end=Z.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const ue="same"==fi(Z.start.getParentPath(),e.getMovedRangeStart().getParentPath()),Ae=Z._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,ue);E.push(...Ae)}const F=o.getIntersection(a);return null!==F&&g&&(F.start=F.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),F.end=F.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===E.length?E.push(F):1==E.length?a.start.isBefore(o.start)||a.start.isEqual(o.start)?E.unshift(F):E.push(F):E.splice(1,0,F)),0===E.length?[new la(d.baseVersion)]:vc(E,h)}),Br(Kr,fo,(d,e,t)=>{let o=d.targetPosition.clone();d.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=t.abRelation||(o=d.targetPosition._getTransformedBySplitOperation(e));const a=Wt._createFromPositionAndShift(d.sourcePosition,d.howMany);if(a.end.isEqual(e.insertionPosition))return e.graveyardPosition||d.howMany++,d.targetPosition=o,[d];if(a.start.hasSameParentAs(e.splitPosition)&&a.containsPosition(e.splitPosition)){let g=new Wt(e.splitPosition,a.end);return g=g._getTransformedBySplitOperation(e),vc([new Wt(a.start,e.splitPosition),g],o)}d.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==t.abRelation&&(o=e.moveTargetPosition),d.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==t.abRelation&&(o=d.targetPosition);const h=[a._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const g=a.start.isEqual(e.graveyardPosition)||a.containsPosition(e.graveyardPosition);d.howMany>1&&g&&!t.aWasUndone&&h.push(Wt._createFromPositionAndShift(e.insertionPosition,1))}return vc(h,o)}),Br(Kr,Os,(d,e,t)=>{const o=Wt._createFromPositionAndShift(d.sourcePosition,d.howMany);if(e.deletionPosition.hasSameParentAs(d.sourcePosition)&&o.containsPosition(e.sourcePosition))if("remove"!=d.type||t.forceWeakRemove){if(1==d.howMany)return t.bWasUndone?(d.sourcePosition=e.graveyardPosition.clone(),d.targetPosition=d.targetPosition._getTransformedByMergeOperation(e),[d]):[new la(0)]}else if(!t.aWasUndone){const h=[];let g=e.graveyardPosition.clone(),y=e.targetPosition._getTransformedByMergeOperation(e);d.howMany>1&&(h.push(new Kr(d.sourcePosition,d.howMany-1,d.targetPosition,0)),g=g._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany-1),y=y._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany-1));const k=e.deletionPosition._getCombined(d.sourcePosition,d.targetPosition),E=new Kr(g,1,k,0),D=E.getMovedRangeStart().path.slice();D.push(0);const F=new cn(E.targetPosition.root,D);y=y._getTransformedByMove(g,k,1);const Z=new Kr(y,e.howMany,F,0);return h.push(E),h.push(Z),h}const a=Wt._createFromPositionAndShift(d.sourcePosition,d.howMany)._getTransformedByMergeOperation(e);return d.sourcePosition=a.start,d.howMany=a.end.offset-a.start.offset,d.targetPosition=d.targetPosition._getTransformedByMergeOperation(e),[d]}),Br(il,_a,(d,e)=>(d.position=d.position._getTransformedByInsertOperation(e),[d])),Br(il,Os,(d,e)=>d.position.isEqual(e.deletionPosition)?(d.position=e.graveyardPosition.clone(),d.position.stickiness="toNext",[d]):(d.position=d.position._getTransformedByMergeOperation(e),[d])),Br(il,Kr,(d,e)=>(d.position=d.position._getTransformedByMoveOperation(e),[d])),Br(il,il,(d,e,t)=>{if(d.position.isEqual(e.position)){if(!t.aIsStrong)return[new la(0)];d.oldName=e.newName}return[d]}),Br(il,fo,(d,e)=>{if("same"==fi(d.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){const t=new il(d.position.getShiftedBy(1),d.oldName,d.newName,0);return[d,t]}return d.position=d.position._getTransformedBySplitOperation(e),[d]}),Br(bc,bc,(d,e,t)=>{if(d.root===e.root&&d.key===e.key){if(!t.aIsStrong||d.newValue===e.newValue)return[new la(0)];d.oldValue=e.newValue}return[d]}),Br(fo,_a,(d,e)=>(d.splitPosition.hasSameParentAs(e.position)&&d.splitPosition.offset<e.position.offset&&(d.howMany+=e.howMany),d.splitPosition=d.splitPosition._getTransformedByInsertOperation(e),d.insertionPosition=d.insertionPosition._getTransformedByInsertOperation(e),[d])),Br(fo,Os,(d,e,t)=>{if(!d.graveyardPosition&&!t.bWasUndone&&d.splitPosition.hasSameParentAs(e.sourcePosition)){const o=e.graveyardPosition.path.slice();o.push(0);const a=new cn(e.graveyardPosition.root,o),h=fo.getInsertionPosition(new cn(e.graveyardPosition.root,o)),g=new fo(a,0,h,null,0);return d.splitPosition=d.splitPosition._getTransformedByMergeOperation(e),d.insertionPosition=fo.getInsertionPosition(d.splitPosition),d.graveyardPosition=g.insertionPosition.clone(),d.graveyardPosition.stickiness="toNext",[g,d]}return d.splitPosition.hasSameParentAs(e.deletionPosition)&&!d.splitPosition.isAfter(e.deletionPosition)&&d.howMany--,d.splitPosition.hasSameParentAs(e.targetPosition)&&(d.howMany+=e.howMany),d.splitPosition=d.splitPosition._getTransformedByMergeOperation(e),d.insertionPosition=fo.getInsertionPosition(d.splitPosition),d.graveyardPosition&&(d.graveyardPosition=d.graveyardPosition._getTransformedByMergeOperation(e)),[d]}),Br(fo,Kr,(d,e,t)=>{const o=Wt._createFromPositionAndShift(e.sourcePosition,e.howMany);if(d.graveyardPosition){const h=o.start.isEqual(d.graveyardPosition)||o.containsPosition(d.graveyardPosition);if(!t.bWasUndone&&h){const g=d.splitPosition._getTransformedByMoveOperation(e),y=d.graveyardPosition._getTransformedByMoveOperation(e),k=y.path.slice();k.push(0);const E=new cn(y.root,k);return[new Kr(g,d.howMany,E,0)]}d.graveyardPosition=d.graveyardPosition._getTransformedByMoveOperation(e)}const a=d.splitPosition.isEqual(e.targetPosition);if(a&&("insertAtSource"==t.baRelation||"splitBefore"==t.abRelation))return d.howMany+=e.howMany,d.splitPosition=d.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),d.insertionPosition=fo.getInsertionPosition(d.splitPosition),[d];if(a&&t.abRelation&&t.abRelation.howMany){const{howMany:h,offset:g}=t.abRelation;return d.howMany+=h,d.splitPosition=d.splitPosition.getShiftedBy(g),[d]}return d.splitPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(d.splitPosition)?(d.howMany-=e.howMany-(d.splitPosition.offset-e.sourcePosition.offset),d.splitPosition.hasSameParentAs(e.targetPosition)&&d.splitPosition.offset<e.targetPosition.offset&&(d.howMany+=e.howMany),d.splitPosition=e.sourcePosition.clone(),d.insertionPosition=fo.getInsertionPosition(d.splitPosition),[d]):(e.sourcePosition.isEqual(e.targetPosition)||(d.splitPosition.hasSameParentAs(e.sourcePosition)&&d.splitPosition.offset<=e.sourcePosition.offset&&(d.howMany-=e.howMany),d.splitPosition.hasSameParentAs(e.targetPosition)&&d.splitPosition.offset<e.targetPosition.offset&&(d.howMany+=e.howMany)),d.splitPosition.stickiness="toNone",d.splitPosition=d.splitPosition._getTransformedByMoveOperation(e),d.splitPosition.stickiness="toNext",d.insertionPosition=d.graveyardPosition?d.insertionPosition._getTransformedByMoveOperation(e):fo.getInsertionPosition(d.splitPosition),[d])}),Br(fo,fo,(d,e,t)=>{if(d.splitPosition.isEqual(e.splitPosition)){if(!d.graveyardPosition&&!e.graveyardPosition)return[new la(0)];if(d.graveyardPosition&&e.graveyardPosition&&d.graveyardPosition.isEqual(e.graveyardPosition))return[new la(0)];if("splitBefore"==t.abRelation)return d.howMany=0,d.graveyardPosition=d.graveyardPosition._getTransformedBySplitOperation(e),[d]}if(d.graveyardPosition&&e.graveyardPosition&&d.graveyardPosition.isEqual(e.graveyardPosition)){const o="$graveyard"==d.splitPosition.root.rootName,a="$graveyard"==e.splitPosition.root.rootName;if(a&&!o||(!o||a)&&t.aIsStrong){const h=[];return e.howMany&&h.push(new Kr(e.moveTargetPosition,e.howMany,e.splitPosition,0)),d.howMany&&h.push(new Kr(d.splitPosition,d.howMany,d.moveTargetPosition,0)),h}return[new la(0)]}if(d.graveyardPosition&&(d.graveyardPosition=d.graveyardPosition._getTransformedBySplitOperation(e)),d.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==t.abRelation)return d.howMany++,[d];if(e.splitPosition.isEqual(d.insertionPosition)&&"splitBefore"==t.baRelation){const o=e.insertionPosition.path.slice();o.push(0);const a=new cn(e.insertionPosition.root,o);return[d,new Kr(d.insertionPosition,1,a,0)]}return d.splitPosition.hasSameParentAs(e.splitPosition)&&d.splitPosition.offset<e.splitPosition.offset&&(d.howMany-=e.howMany),d.splitPosition=d.splitPosition._getTransformedBySplitOperation(e),d.insertionPosition=fo.getInsertionPosition(d.splitPosition),[d]});class Ba extends(He(cn)){constructor(e,t,o="toNone"){if(super(e,t,o),!this.root.is("rootElement"))throw new Oe("model-liveposition-root-not-rootelement",e);kp.call(this)}detach(){this.stopListening()}toPosition(){return new cn(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function kp(){this.listenTo(this.root.document.model,"applyOperation",(d,e)=>{const t=e[0];t.isDocumentOperation&&dm.call(this,t)},{priority:"low"})}function dm(d){const e=this.getTransformedByOperation(d);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Ba.prototype.is=function(d){return"livePosition"===d||"model:livePosition"===d||"position"==d||"model:position"===d};class hh{constructor(e={}){"string"==typeof e&&(e="transparent"===e?{isUndoable:!1}:{},Mt("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:o=!0,isUndo:a=!1,isTyping:h=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=o,this.isUndo=a,this.isTyping=h}get type(){return Mt("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(null!==e.baseVersion)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class pg{constructor(e){this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const o of t.range.getItems({shallow:!0}))this._isInInsertedElement(o.parent)||this._markAttribute(o);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const o=this._isInInsertedElement(t.sourcePosition.parent),a=this._isInInsertedElement(t.targetPosition.parent);o||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),a||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const o=Wt._createFromPositionAndShift(t.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(o)){const h=a.getData();this.bufferMarkerChange(a.name,h,h)}break}case"split":{const o=t.splitPosition.parent;this._isInInsertedElement(o)||this._markRemove(o,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const o=t.sourcePosition.parent;this._isInInsertedElement(o.parent)||this._markRemove(o.parent,o.startOffset,1),this._markInsert(t.graveyardPosition.parent,t.graveyardPosition.offset,1);const h=t.targetPosition.parent;this._isInInsertedElement(h)||this._markInsert(h,t.targetPosition.offset,o.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(e,t,o){const a=this._changedMarkers.get(e);a?(a.newMarkerData=o,null==a.oldMarkerData.range&&null==o.range&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{newMarkerData:o,oldMarkerData:t})}getMarkersToRemove(){const e=[];for(const[t,o]of this._changedMarkers)null!=o.oldMarkerData.range&&e.push({name:t,range:o.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,o]of this._changedMarkers)null!=o.newMarkerData.range&&e.push({name:t,range:o.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const o=e.range&&!t.range,a=!e.range&&t.range,h=e.range&&t.range&&!e.range.isEqual(t.range);if(o||a||h)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const o of this._changesInElement.keys()){const a=this._changesInElement.get(o).sort((D,F)=>D.offset===F.offset?D.type!=F.type?"remove"==D.type?-1:1:0:D.offset<F.offset?-1:1),h=this._elementSnapshots.get(o),g=gg(o.getChildren()),y=fh(h.length,a);let k=0,E=0;for(const D of y)if("i"===D)t.push(this._getInsertDiff(o,k,g[k])),k++;else if("r"===D)t.push(this._getRemoveDiff(o,k,h[E])),E++;else if("a"===D){const F=g[k].attributes,Z=h[E].attributes;let ue;if("$text"==g[k].name)ue=new Wt(cn._createAt(o,k),cn._createAt(o,k+1));else{const Ae=o.offsetToIndex(k);ue=new Wt(cn._createAt(o,k),cn._createAt(o.getChild(Ae),0))}t.push(...this._getAttributesDiff(ue,Z,F)),k++,E++}else k++,E++}t.sort((o,a)=>o.position.root!=a.position.root?o.position.root.rootName<a.position.root.rootName?-1:1:o.position.isEqual(a.position)?o.changeCount-a.changeCount:o.position.isBefore(a.position)?-1:1);for(let o=1,a=0;o<t.length;o++){const h=t[a],g=t[o],y="remove"==h.type&&"remove"==g.type&&"$text"==h.name&&"$text"==g.name&&h.position.isEqual(g.position),k="insert"==h.type&&"insert"==g.type&&"$text"==h.name&&"$text"==g.name&&h.position.parent==g.position.parent&&h.position.offset+h.length==g.position.offset,E="attribute"==h.type&&"attribute"==g.type&&h.position.parent==g.position.parent&&h.range.isFlat&&g.range.isFlat&&h.position.offset+h.length==g.position.offset&&h.attributeKey==g.attributeKey&&h.attributeOldValue==g.attributeOldValue&&h.attributeNewValue==g.attributeNewValue;y||k||E?(h.length++,E&&(h.range.end=h.range.end.getShiftedBy(1)),t[o]=null):a=o}t=t.filter(o=>o);for(const o of t)delete o.changeCount,"attribute"==o.type&&(delete o.position,delete o.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(Qm),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Wt._createOn(e);for(const o of this._markerCollection.getMarkersIntersectingRange(t)){const a=o.getData();this.bufferMarkerChange(o.name,a,a)}this._cachedChanges=null}_markInsert(e,t,o){const a={type:"insert",offset:t,howMany:o,count:this._changeCount++};this._markChange(e,a)}_markRemove(e,t,o){const a={type:"remove",offset:t,howMany:o,count:this._changeCount++};this._markChange(e,a),this._removeAllNestedChanges(e,t,o)}_markAttribute(e){const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const o=this._getChangesForElement(e);this._handleChange(t,o),o.push(t);for(let a=0;a<o.length;a++)o[a].howMany<1&&(o.splice(a,1),a--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,gg(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const o of t){const a=e.offset+e.howMany,h=o.offset+o.howMany;if("insert"==e.type&&("insert"==o.type&&(e.offset<=o.offset?o.offset+=e.howMany:e.offset<h&&(o.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==o.type&&e.offset<o.offset&&(o.offset+=e.howMany),"attribute"==o.type))if(e.offset<=o.offset)o.offset+=e.howMany;else if(e.offset<h){const g=o.howMany;o.howMany=e.offset-o.offset,t.unshift({type:"attribute",offset:a,howMany:g-o.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==o.type)if(a<=o.offset)o.offset-=e.howMany;else if(a<=h)if(e.offset<o.offset){const g=a-o.offset;o.offset=e.offset,o.howMany-=g,e.nodesToHandle-=g}else o.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=o.offset)e.nodesToHandle-=o.howMany,o.howMany=0;else if(e.offset<h){const g=h-e.offset;o.howMany-=g,e.nodesToHandle-=g}if("remove"==o.type&&(a<=o.offset?o.offset-=e.howMany:e.offset<o.offset&&(e.nodesToHandle+=o.howMany,o.howMany=0)),"attribute"==o.type)if(a<=o.offset)o.offset-=e.howMany;else if(e.offset<o.offset){const g=a-o.offset;o.offset=e.offset,o.howMany-=g}else if(e.offset<h)if(a<=h){const g=o.howMany;o.howMany=e.offset-o.offset,t.unshift({type:"attribute",offset:e.offset,howMany:g-o.howMany-e.nodesToHandle,count:this._changeCount++})}else o.howMany-=h-e.offset}if("attribute"==e.type){if("insert"==o.type)if(e.offset<o.offset&&a>o.offset){if(a>h){const g={type:"attribute",offset:h,howMany:a-h,count:this._changeCount++};this._handleChange(g,t),t.push(g)}e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=o.offset&&e.offset<h&&(a>h?(e.nodesToHandle=a-h,e.offset=h):e.nodesToHandle=0);if("remove"==o.type&&e.offset<o.offset&&a>o.offset){const g={type:"attribute",offset:o.offset,howMany:a-o.offset,count:this._changeCount++};this._handleChange(g,t),t.push(g),e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==o.type&&(e.offset>=o.offset&&a<=h?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=o.offset&&a>=h&&(o.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,o){return{type:"insert",position:cn._createAt(e,t),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,o){return{type:"remove",position:cn._createAt(e,t),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,o){const a=[];o=new Map(o);for(const[h,g]of t){const y=o.has(h)?o.get(h):null;y!==g&&a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:h,attributeOldValue:g,attributeNewValue:y,changeCount:this._changeCount++}),o.delete(h)}for(const[h,g]of o)a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:h,attributeOldValue:null,attributeNewValue:g,changeCount:this._changeCount++});return a}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const o=this._changesInElement.get(t),a=e.startOffset;if(o)for(const h of o)if("insert"==h.type&&a>=h.offset&&a<h.offset+h.howMany)return!0;return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,o){const a=new Wt(cn._createAt(e,t),cn._createAt(e,t+o));for(const h of a.getItems({shallow:!0}))h.is("element")&&(this._elementSnapshots.delete(h),this._changesInElement.delete(h),this._removeAllNestedChanges(h,0,h.maxOffset))}}function gg(d){const e=[];for(const t of d)if(t.is("$text"))for(let o=0;o<t.data.length;o++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function fh(d,e){const t=[];let o=0,a=0;for(const h of e){if(h.offset>o){for(let g=0;g<h.offset-o;g++)t.push("e");a+=h.offset-o}if("insert"==h.type){for(let g=0;g<h.howMany;g++)t.push("i");o=h.offset+h.howMany}else if("remove"==h.type){for(let g=0;g<h.howMany;g++)t.push("r");o=h.offset,a+=h.howMany}else t.push(..."a".repeat(h.howMany).split("")),o=h.offset+h.howMany,a+=h.howMany}if(a<d)for(let h=0;h<d-a-o;h++)t.push("e");return t}function Qm(d){return!("position"in d&&"$graveyard"==d.position.root.rootName||"range"in d&&"$graveyard"==d.range.root.rootName)}class S_{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new Oe("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const o=this._operations[0];void 0===e&&(e=o.baseVersion);let a=t-1;for(const[y,k]of this._gaps)e>y&&e<k&&(e=k),a>y&&a<k&&(a=y-1);if(a<o.baseVersion||e>this.lastOperation.baseVersion)return[];let h=this._baseVersionToOperationIndex.get(e);void 0===h&&(h=0);let g=this._baseVersionToOperationIndex.get(a);return void 0===g&&(g=this._operations.length-1),this._operations.slice(h,g+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(void 0!==t)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class ef extends Io{constructor(e,t,o="main"){super(t),this._document=e,this.rootName=o}get document(){return this._document}toJSON(){return this.rootName}}ef.prototype.is=function(d,e){return e?e===this.name&&("rootElement"===d||"model:rootElement"===d||"element"===d||"model:element"===d):"rootElement"===d||"model:rootElement"===d||"element"===d||"model:element"===d||"node"===d||"model:node"===d};const Pu="$graveyard";class tf extends(He()){constructor(e){super(),this.model=e,this.history=new S_,this.selection=new Xl(this),this.roots=new Sn({idProperty:"rootName"}),this.differ=new pg(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Pu),this.listenTo(e,"applyOperation",(t,o)=>{const a=o[0];a.isDocumentOperation&&this.differ.bufferOperation(a)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,o)=>{const a=o[0];a.isDocumentOperation&&this.history.addOperation(a)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,o,a,h,g)=>{const y=_s(un({},o.getData()),{range:h});this.differ.bufferMarkerChange(o.name,g,y),null===a&&o.on("change",(k,E)=>{const D=o.getData();this.differ.bufferMarkerChange(o.name,_s(un({},D),{range:E}),D)})})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Pu)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new Oe("model-document-createroot-name-exists",this,{name:t});const o=new ef(this,e,t);return this.roots.add(o),o}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,e=>e.rootName).filter(e=>e!=Pu)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=yu(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,o=t.schema,a=t.createPositionFromPath(e,[0]);return o.getNearestSelectionRange(a)||t.createRange(a)}_validateSelectionRange(e){return mg(e.start)&&mg(e.end)}_callPostFixers(e){let t=!1;do{for(const o of this._postFixers)if(this.selection.refresh(),t=o(e),t)break}while(t)}}function mg(d){const e=d.textNode;if(e){const t=e.data,o=d.offset-e.startOffset;return!Il(t,o)&&!hs(t,o)}return!0}class ph extends(He()){constructor(){super(),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){return this._markers.has(e instanceof td?e.name:e)}get(e){return this._markers.get(e)||null}_set(e,t,o=!1,a=!1){const h=e instanceof td?e.name:e;if(h.includes(","))throw new Oe("markercollection-incorrect-marker-name",this);const g=this._markers.get(h);if(g){const E=g.getData(),D=g.getRange();let F=!1;return D.isEqual(t)||(g._attachLiveRange(pc.fromRange(t)),F=!0),o!=g.managedUsingOperations&&(g._managedUsingOperations=o,F=!0),"boolean"==typeof a&&a!=g.affectsData&&(g._affectsData=a,F=!0),F&&this.fire(`update:${h}`,g,D,t,E),g}const y=pc.fromRange(t),k=new td(h,y,o,a);return this._markers.set(h,k),this.fire(`update:${h}`,k,null,t,_s(un({},k.getData()),{range:null})),k}_remove(e){const t=e instanceof td?e.name:e,o=this._markers.get(t);return!!o&&(this._markers.delete(t),this.fire(`update:${t}`,o,o.getRange(),null,o.getData()),this._destroyMarker(o),!0)}_refresh(e){const t=e instanceof td?e.name:e,o=this._markers.get(t);if(!o)throw new Oe("markercollection-refresh-marker-not-exists",this);const a=o.getRange();this.fire(`update:${t}`,o,a,a,o.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)null!==t.getRange().getIntersection(e)&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class td extends(He(Ws)){constructor(e,t,o,a){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=o,this._affectsData=a}get managedUsingOperations(){if(!this._liveRange)throw new Oe("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new Oe("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new Oe("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new Oe("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new Oe("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}td.prototype.is=function(d){return"marker"===d||"model:marker"===d};class _g extends mc{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new Oe("detach-operation-on-document-node",this)}_execute(){Hc(Wt._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class cu extends Ws{constructor(e){super(),this.markers=new Map,this._children=new ru,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const o of e)t=t.getChild(t.offsetToIndex(o));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const o of e)t.push(o.name?Io.fromJSON(o):Tr.fromJSON(o));return new cu(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const o="string"==typeof(a=t)?[new Tr(a)]:(Di(a)||(a=[a]),Array.from(a).map(h=>"string"==typeof h?new Tr(h):h instanceof ou?new Tr(h.data,h.getAttributes()):h));var a;for(const a of o)null!==a.parent&&a._remove(),a.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,t=1){const o=this._children._removeNodes(e,t);for(const a of o)a.parent=null;return o}}cu.prototype.is=function(d){return"documentFragment"===d||"model:documentFragment"===d};class Jm{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Tr(e,t)}createElement(e,t){return new Io(e,t)}createDocumentFragment(){return new cu}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,o=0){if(this._assertWriterUsedCorrectly(),e instanceof Tr&&""==e.data)return;const a=cn._createAt(t,o);if(e.parent){if(id(e.root,a.root))return void this.move(Wt._createOn(e),a);if(e.root.document)throw new Oe("model-writer-insert-forbidden-move",this);this.remove(e)}const g=new _a(a,e,a.root.document?a.root.document.version:null);if(e instanceof Tr&&(g.shouldReceiveAttributes=!0),this.batch.addOperation(g),this.model.applyOperation(g),e instanceof cu)for(const[y,k]of e.markers){const E=cn._createAt(k.root,0),D={range:new Wt(k.start._getCombined(E,a),k.end._getCombined(E,a)),usingOperation:!0,affectsData:!0};this.model.markers.has(y)?this.updateMarker(y,D):this.addMarker(y,D)}}insertText(e,t,o,a){t instanceof cu||t instanceof Io||t instanceof cn?this.insert(this.createText(e),t,o):this.insert(this.createText(e,t),o,a)}insertElement(e,t,o,a){t instanceof cu||t instanceof Io||t instanceof cn?this.insert(this.createElement(e),t,o):this.insert(this.createElement(e,t),o,a)}append(e,t){this.insert(e,t,"end")}appendText(e,t,o){t instanceof cu||t instanceof Io?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),o,"end")}appendElement(e,t,o){t instanceof cu||t instanceof Io?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),o,"end")}setAttribute(e,t,o){if(this._assertWriterUsedCorrectly(),o instanceof Wt){const a=o.getMinimalFlatRanges();for(const h of a)nd(this,e,t,h)}else bg(this,e,t,o)}setAttributes(e,t){for(const[o,a]of Bn(e))this.setAttribute(o,a,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Wt){const o=t.getMinimalFlatRanges();for(const a of o)nd(this,e,null,a)}else bg(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=o=>{for(const a of o.getAttributeKeys())this.removeAttribute(a,o)};if(e instanceof Wt)for(const o of e.getItems())t(o);else t(e)}move(e,t,o){if(this._assertWriterUsedCorrectly(),!(e instanceof Wt))throw new Oe("writer-move-invalid-range",this);if(!e.isFlat)throw new Oe("writer-move-range-not-flat",this);const a=cn._createAt(t,o);if(a.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!id(e.root,a.root))throw new Oe("writer-move-different-document",this);const g=new Kr(e.start,e.end.offset-e.start.offset,a,e.root.document?e.root.document.version:null);this.batch.addOperation(g),this.model.applyOperation(g)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Wt?e:Wt._createOn(e)).getMinimalFlatRanges().reverse();for(const o of t)this._addOperationForAffectedMarkers("move",o),uu(o.start,o.end.offset-o.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,o=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Io))throw new Oe("writer-merge-no-element-before",this);if(!(o instanceof Io))throw new Oe("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,o){return this.model.createPositionFromPath(e,t,o)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,o=e.nodeAfter;this.move(Wt._createIn(o),cn._createAt(t,"end")),this.remove(o)}_merge(e){const t=cn._createAt(e.nodeBefore,"end"),o=cn._createAt(e.nodeAfter,0),h=new cn(e.root.document.graveyard,[0]),y=new Os(o,e.nodeAfter.maxOffset,t,h,e.root.document.version);this.batch.addOperation(y),this.model.applyOperation(y)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Io))throw new Oe("writer-rename-not-element-instance",this);const o=e.root.document?e.root.document.version:null,a=new il(cn._createBefore(e),e.name,t,o);this.batch.addOperation(a),this.model.applyOperation(a)}split(e,t){this._assertWriterUsedCorrectly();let o,a,h=e.parent;if(!h.parent)throw new Oe("writer-split-element-no-parent",this);if(t||(t=h.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new Oe("writer-split-invalid-limit-element",this);do{const g=h.root.document?h.root.document.version:null,y=h.maxOffset-e.offset,k=fo.getInsertionPosition(e),E=new fo(e,y,k,null,g);this.batch.addOperation(E),this.model.applyOperation(E),o||a||(o=h,a=e.parent.nextSibling),h=(e=this.createPositionAfter(e.parent)).parent}while(h!==t);return{position:e,range:new Wt(cn._createAt(o,"end"),cn._createAt(a,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new Oe("writer-wrap-range-not-flat",this);const o=t instanceof Io?t:new Io(t);if(o.childCount>0)throw new Oe("writer-wrap-element-not-empty",this);if(null!==o.parent)throw new Oe("writer-wrap-element-attached",this);this.insert(o,e.start);const a=new Wt(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(a,cn._createAt(o,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new Oe("writer-unwrap-element-no-parent",this);this.move(Wt._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new Oe("writer-addmarker-no-usingoperation",this);const o=t.usingOperation,a=t.range,h=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new Oe("writer-addmarker-marker-exists",this);if(!a)throw new Oe("writer-addmarker-no-range",this);return o?(gh(this,e,null,a,h),this.model.markers.get(e)):this.model.markers._set(e,a,o,h)}updateMarker(e,t){this._assertWriterUsedCorrectly();const o="string"==typeof e?e:e.name,a=this.model.markers.get(o);if(!a)throw new Oe("writer-updatemarker-marker-not-exists",this);if(!t)return Mt("writer-updatemarker-reconvert-using-editingcontroller",{markerName:o}),void this.model.markers._refresh(a);const h="boolean"==typeof t.usingOperation,g="boolean"==typeof t.affectsData,y=g?t.affectsData:a.affectsData;if(!h&&!t.range&&!g)throw new Oe("writer-updatemarker-wrong-options",this);const k=a.getRange(),E=t.range?t.range:k;h&&t.usingOperation!==a.managedUsingOperations?t.usingOperation?gh(this,o,null,E,y):(gh(this,o,k,null,y),this.model.markers._set(o,E,void 0,y)):a.managedUsingOperations?gh(this,o,k,E,y):this.model.markers._set(o,E,void 0,y)}removeMarker(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new Oe("writer-removemarker-no-marker",this);const o=this.model.markers.get(t);o.managedUsingOperations?gh(this,t,o.getRange(),null,o.affectsData):this.model.markers._remove(t)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else for(const[o,a]of Bn(e))this._setSelectionAttribute(o,a)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const a=Xl._getStoreAttributeKey(e);this.setAttribute(a,t,o.anchor.parent)}o._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const o=Xl._getStoreAttributeKey(e);this.removeAttribute(o,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new Oe("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const o of this.model.markers){if(!o.managedUsingOperations)continue;const a=o.getRange();let h=!1;if("move"===e){const g=t;h=g.containsPosition(a.start)||g.start.isEqual(a.start)||g.containsPosition(a.end)||g.end.isEqual(a.end)}else{const k=t.nodeAfter,D=a.end.parent==k&&0==a.end.offset,F=a.end.nodeAfter==k,Z=a.start.nodeAfter==k;h=a.start.parent==t.nodeBefore&&a.start.isAtEnd||D||F||Z}h&&this.updateMarker(o.name,{range:a})}}}function nd(d,e,t,o){const a=d.model,h=a.document;let g,y,k,E=o.start;for(const F of o.getWalker({shallow:!0}))k=F.item.getAttribute(e),g&&y!=k&&(y!=t&&D(),E=g),g=F.nextPosition,y=k;function D(){const F=new Wt(E,g),ue=new aa(F,e,y,t,F.root.document?h.version:null);d.batch.addOperation(ue),a.applyOperation(ue)}g instanceof cn&&g!=E&&y!=t&&D()}function bg(d,e,t,o){const a=d.model,h=a.document,g=o.getAttribute(e);let y,k;g!=t&&(o.root===o?k=new bc(o,e,g,t,o.document?h.version:null):(y=new Wt(cn._createBefore(o),d.createPositionAfter(o)),k=new aa(y,e,g,t,y.root.document?h.version:null)),d.batch.addOperation(k),a.applyOperation(k))}function gh(d,e,t,o,a){const h=d.model,y=new _c(e,t,o,h.markers,!!a,h.document.version);d.batch.addOperation(y),h.applyOperation(y)}function uu(d,e,t,o){let a;if(d.root.document){const h=o.document,g=new cn(h.graveyard,[0]);a=new Kr(d,e,g,h.version)}else a=new _g(d,e);t.addOperation(a),o.applyOperation(a)}function id(d,e){return d===e||d instanceof ef&&e instanceof ef}function mh(d,e){return d.isCollapsed?function(t,o){const a=t.start,h=o.getNearestSelectionRange(a);if(!h){const y=a.getAncestors().reverse().find(k=>o.isObject(k));return y?Wt._createOn(y):null}if(!h.isCollapsed)return h;const g=h.start;return a.isEqual(g)?null:new Wt(g)}(d,e):function(t,o){const{start:a,end:h}=t,g=o.checkChild(a,"$text"),y=o.checkChild(h,"$text"),k=o.getLimitElement(a),E=o.getLimitElement(h);if(k===E){if(g&&y)return null;if(function(Z,ue,Ae){const Pe=Z.nodeAfter&&!Ae.isLimit(Z.nodeAfter)||Ae.checkChild(Z,"$text"),Ge=ue.nodeBefore&&!Ae.isLimit(ue.nodeBefore)||Ae.checkChild(ue,"$text");return Pe||Ge}(a,h,o)){const Z=a.nodeAfter&&o.isSelectable(a.nodeAfter)?null:o.getNearestSelectionRange(a,"forward"),ue=h.nodeBefore&&o.isSelectable(h.nodeBefore)?null:o.getNearestSelectionRange(h,"backward");return new Wt(Z?Z.start:a,ue?ue.end:h)}}const D=k&&!k.is("rootElement"),F=E&&!E.is("rootElement");if(D||F){const Z=a.nodeAfter&&h.nodeBefore&&a.nodeAfter.parent===h.nodeBefore.parent,ue=D&&(!Z||!Od(a.nodeAfter,o)),Ae=F&&(!Z||!Od(h.nodeBefore,o));let Pe=a,Ge=h;return ue&&(Pe=cn._createBefore(jf(k,o))),Ae&&(Ge=cn._createAfter(jf(E,o))),new Wt(Pe,Ge)}return null}(d,e)}function jf(d,e){let t=d,o=t;for(;e.isLimit(o)&&o.parent;)t=o,o=o.parent;return t}function Od(d,e){return d&&e.isSelectable(d)}function Ou(d,e,t={}){if(e.isCollapsed)return;const o=e.getFirstRange();if("$graveyard"==o.root.rootName)return;const a=d.schema;d.change(h=>{if(!t.doNotResetEntireContent&&function(E,D){const F=E.getLimitElement(D);if(!D.containsEntireContent(F))return!1;const Z=D.getFirstRange();return Z.start.parent!=Z.end.parent&&E.checkChild(F,"paragraph")}(a,e))return void function(E,D){const F=E.model.schema.getLimitElement(D);E.remove(E.createRangeIn(F)),od(E,E.createPositionAt(F,0),D)}(h,e);const g={};if(!t.doNotAutoparagraph){const E=e.getSelectedElement();E&&Object.assign(g,a.getAttributesWithProperty(E,"copyOnReplace",!0))}const[y,k]=function(E){const D=E.root.document.model,F=E.start;let Z=E.end;if(D.hasContent(E,{ignoreMarkers:!0})){const ue=function(Ae){const Pe=Ae.parent,Ge=Pe.root.document.model.schema,mt=Pe.getAncestors({parentFirst:!0,includeSelf:!0});for(const Ot of mt){if(Ge.isLimit(Ot))return null;if(Ge.isBlock(Ot))return Ot}}(Z);if(ue&&Z.isTouching(D.createPositionAt(ue,0))){const Ae=D.createSelection(E);D.modifySelection(Ae,{direction:"backward"});const Pe=Ae.getLastPosition(),Ge=D.createRange(Pe,Z);D.hasContent(Ge,{ignoreMarkers:!0})||(Z=Pe)}}return[Ba.fromPosition(F,"toPrevious"),Ba.fromPosition(Z,"toNext")]}(o);y.isTouching(k)||h.remove(h.createRange(y,k)),t.leaveUnmerged||(function(E,D,F){const Z=E.model;if(!rd(E.model.schema,D,F))return;const[ue,Ae]=function(Pe,Ge){const mt=Pe.getAncestors(),Ot=Ge.getAncestors();let tn=0;for(;mt[tn]&&mt[tn]==Ot[tn];)tn++;return[mt[tn],Ot[tn]]}(D,F);!ue||!Ae||(!Z.hasContent(ue,{ignoreMarkers:!0})&&Z.hasContent(Ae,{ignoreMarkers:!0})?Nd(E,D,F,ue.parent):zf(E,D,F,ue.parent))}(h,y,k),a.removeDisallowedAttributes(y.parent.getChildren(),h)),hm(h,e,y),!t.doNotAutoparagraph&&function(E,D){const F=E.checkChild(D,"$text"),Z=E.checkChild(D,"paragraph");return!F&&Z}(a,y)&&od(h,y,e,g),y.detach(),k.detach()})}function zf(d,e,t,o){const a=e.parent,h=t.parent;if(a!=o&&h!=o){for(e=d.createPositionAfter(a),(t=d.createPositionBefore(h)).isEqual(e)||d.insert(h,e),d.merge(e);t.parent.isEmpty;){const g=t.parent;t=d.createPositionBefore(g),d.remove(g)}rd(d.model.schema,e,t)&&zf(d,e,t,o)}}function Nd(d,e,t,o){const a=e.parent,h=t.parent;if(a!=o&&h!=o){for(e=d.createPositionAfter(a),(t=d.createPositionBefore(h)).isEqual(e)||d.insert(a,t);e.parent.isEmpty;){const g=e.parent;e=d.createPositionBefore(g),d.remove(g)}t=d.createPositionBefore(h),function(g,y){const k=y.nodeBefore,E=y.nodeAfter;k.name!=E.name&&g.rename(k,E.name),g.clearAttributes(k),g.setAttributes(Object.fromEntries(E.getAttributes()),k),g.merge(y)}(d,t),rd(d.model.schema,e,t)&&Nd(d,e,t,o)}}function rd(d,e,t){const o=e.parent,a=t.parent;return o!=a&&!d.isLimit(o)&&!d.isLimit(a)&&function(h,g,y){const k=new Wt(h,g);for(const E of k.getWalker())if(y.isLimit(E.item))return!1;return!0}(e,t,d)}function od(d,e,t,o={}){const a=d.createElement("paragraph");d.model.schema.setAllowedAttributes(a,o,d),d.insert(a,e),hm(d,t,d.createPositionAt(a,0))}function hm(d,e,t){e instanceof Xl?d.setSelection(t):e.setTo(t)}function nf(d,e){const t=[];Array.from(d.getItems({direction:"backward"})).map(o=>e.createRangeOn(o)).filter(o=>(o.start.isAfter(d.start)||o.start.isEqual(d.start))&&(o.end.isBefore(d.end)||o.end.isEqual(d.end))).forEach(o=>{t.push(o.start.parent),e.remove(o)}),t.forEach(o=>{let a=o;for(;a.parent&&a.isEmpty;){const h=e.createRangeOn(a);a=a.parent,e.remove(h)}})}class _h{constructor(e,t,o){this.model=e,this.writer=t,this.position=o,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),o=this.writer.createPositionAfter(e);if(o.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new Oe("insertcontent-invalid-insertion-position",this);this.position=o,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Wt._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Wt(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Ba.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new Oe("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this._nodeToSelect=this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?e:null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Ba.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Ba.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Io&&this._canMergeLeft(e)))return;const t=Ba._createBefore(e);t.stickiness="toNext";const o=Ba.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Ba._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Ba._createAt(t.nodeBefore,"end","toNext")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Io&&this._canMergeRight(e)))return;const t=Ba._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new Oe("insertcontent-invalid-insertion-position",this);this.position=cn._createAt(t.nodeBefore,"end");const o=Ba.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Ba._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Ba._createAt(t.nodeBefore,0,"toPrevious")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Io&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Io&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const o=this.position.parent;this.position=this.writer.createPositionBefore(o),o.isEmpty&&o.parent===t&&this.writer.remove(o)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const o=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=o,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function rf(d,e,t="auto"){const o=d.getSelectedElement();if(o&&e.schema.isObject(o)&&!e.schema.isInline(o))return"before"==t||"after"==t?e.createRange(e.createPositionAt(o,t)):e.createRangeOn(o);const a=mi(d.getSelectedBlocks());if(!a)return e.createRange(d.focus);if(a.isEmpty)return e.createRange(e.createPositionAt(a,0));const h=e.createPositionAfter(a);return d.focus.isTouching(h)?e.createRange(h):e.createRange(e.createPositionBefore(a))}function Vf(d,e){const{isForward:t,walker:o,unit:a,schema:h,treatEmojiAsSingleUnit:g}=d,{type:y,item:k,nextPosition:E}=e;if("text"==y)return"word"===d.unit?function(D,F){let Z=D.position.textNode;for(Z||(Z=F?D.position.nodeAfter:D.position.nodeBefore);Z&&Z.is("$text");){const ue=D.position.offset-Z.startOffset;if(wg(Z,ue,F))Z=F?D.position.nodeAfter:D.position.nodeBefore;else{if(fm(Z.data,ue,F))break;D.next()}}return D.position}(o,t):function(D,F,Z){const ue=D.position.textNode;if(ue){const Ae=ue.data;let Pe=D.position.offset-ue.startOffset;for(;Il(Ae,Pe)||"character"==F&&hs(Ae,Pe)||Z&&to(Ae,Pe);)D.next(),Pe=D.position.offset-ue.startOffset}return D.position}(o,a,g);if(y==(t?"elementStart":"elementEnd")){if(h.isSelectable(k))return cn._createAt(k,t?"after":"before");if(h.checkChild(E,"$text"))return E}else{if(h.isLimit(k))return void o.skip(()=>!0);if(h.checkChild(E,"$text"))return E}}function Uf(d,e){const o=cn._createAt(d.root,e?"end":0);return e?new Wt(d,o):new Wt(o,d)}function fm(d,e,t){return' ,.?!:;"-()'.includes(d.charAt(e+(t?0:-1)))}function wg(d,e,t){return e===(t?d.offsetSize:0)}class Xm extends(Dn()){constructor(){super(),this.markers=new ph,this.document=new tf(this),this.schema=new vp,this._pendingChanges=[],this._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if("$marker"===t.name)return!0}),function(d){d.document.registerPostFixer(e=>function(t,o){const a=o.document.selection,h=o.schema,g=[];let y=!1;for(const k of a.getRanges()){const E=mh(k,h);E&&!E.isEqual(k)?(g.push(E),y=!0):g.push(k)}return y&&t.setSelection(function(k){const E=[...k],D=new Set;let F=1;for(;F<E.length;){const Z=E[F],ue=E.slice(0,F);for(const[Ae,Pe]of ue.entries())if(!D.has(Ae))if(Z.isEqual(Pe))D.add(Ae);else if(Z.isIntersecting(Pe)){D.add(Ae),D.add(F);const Ge=Z.getJoined(Pe);E.push(Ge)}F++}return E.filter((Z,ue)=>!D.has(ue))}(g),{backward:a.isBackward}),!1}(e,d))}(this),this.document.registerPostFixer(Uc)}change(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new hh,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){Oe.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?"function"==typeof e?(t=e,e=new hh):e instanceof hh||(e=new hh(e)):e=new hh,this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(o){Oe.rethrowUnexpectedError(o,this)}}applyOperation(e){e._execute()}insertContent(e,t,o){return h=e,g=t,y=o,(a=this).change(k=>{let E;E=g?g instanceof Jl||g instanceof Xl?g:k.createSelection(g,y):a.document.selection,E.isCollapsed||a.deleteContent(E,{doNotAutoparagraph:!0});const D=new _h(a,k,E.anchor),F=[];let Z;if(h.is("documentFragment")){if(h.markers.size){const Pe=[];for(const[Ge,mt]of h.markers){const{start:Ot,end:tn}=mt,Pn=Ot.isEqual(tn);Pe.push({position:Ot,name:Ge,isCollapsed:Pn},{position:tn,name:Ge,isCollapsed:Pn})}Pe.sort(({position:Ge},{position:mt})=>Ge.isBefore(mt)?1:-1);for(const{position:Ge,name:mt,isCollapsed:Ot}of Pe){let tn=null,Pn=null;const tr=Ge.parent===h&&Ge.isAtStart,_r=Ge.parent===h&&Ge.isAtEnd;tr||_r?Ot&&(Pn=tr?"start":"end"):(tn=k.createElement("$marker"),k.insert(tn,Ge)),F.push({name:mt,element:tn,collapsed:Pn})}}Z=h.getChildren()}else Z=[h];D.handleNodes(Z);let ue=D.getSelectionRange();if(h.is("documentFragment")&&F.length){const Pe=ue?pc.fromRange(ue):null,Ge={};for(let mt=F.length-1;mt>=0;mt--){const{name:Ot,element:tn,collapsed:Pn}=F[mt],tr=!Ge[Ot];if(tr&&(Ge[Ot]=[]),tn){const _r=k.createPositionAt(tn,"before");Ge[Ot].push(_r),k.remove(tn)}else{const _r=D.getAffectedRange();if(!_r){Pn&&Ge[Ot].push(D.position);continue}Ge[Ot].push(Pn?_r[Pn]:tr?_r.start:_r.end)}}for(const[mt,[Ot,tn]]of Object.entries(Ge))Ot&&tn&&Ot.root===tn.root&&k.addMarker(mt,{usingOperation:!0,affectsData:!0,range:new Wt(Ot,tn)});Pe&&(ue=Pe.toRange(),Pe.detach())}ue&&(E instanceof Xl?k.setSelection(ue):E.setTo(ue));const Ae=D.getAffectedRange()||a.createRange(E.anchor);return D.destroy(),Ae});var a,h,g,y}insertObject(e,t,o,a){return function(d,e,t,o,a={}){if(!d.schema.isObject(e))throw new Oe("insertobject-element-not-an-object",d,{object:e});let h;h=t?t instanceof Jl||t instanceof Xl?t:d.createSelection(t,o):d.document.selection;let g=h;a.findOptimalPosition&&d.schema.isBlock(e)&&(g=d.createSelection(rf(h,d,a.findOptimalPosition)));const y=mi(h.getSelectedBlocks()),k={};return y&&Object.assign(k,d.schema.getAttributesWithProperty(y,"copyOnReplace",!0)),d.change(E=>{g.isCollapsed||d.deleteContent(g,{doNotAutoparagraph:!0});let D=e;const F=g.anchor.parent;!d.schema.checkChild(F,e)&&d.schema.checkChild(F,"paragraph")&&d.schema.checkChild("paragraph",e)&&(D=E.createElement("paragraph"),E.insert(e,D)),d.schema.setAllowedAttributes(D,k,E);const Z=d.insertContent(D,g);return Z.isCollapsed||a.setSelection&&function(ue,Ae,Pe,Ge){const mt=ue.model;if("on"==Pe)return void ue.setSelection(Ae,"on");if("after"!=Pe)throw new Oe("insertobject-invalid-place-parameter-value",mt);let Ot=Ae.nextSibling;mt.schema.isInline(Ae)?ue.setSelection(Ae,"after"):(!(Ot&&mt.schema.checkChild(Ot,"$text"))&&mt.schema.checkChild(Ae.parent,"paragraph")&&(Ot=ue.createElement("paragraph"),mt.schema.setAllowedAttributes(Ot,Ge,ue),mt.insertContent(Ot,ue.createPositionAfter(Ae))),Ot&&ue.setSelection(Ot,0))}(E,e,a.setSelection,k),Z})}(this,e,t,o,a)}deleteContent(e,t){Ou(this,e,t)}modifySelection(e,t){!function(o,a,h={}){const g=o.schema,y="backward"!=h.direction,k=h.unit?h.unit:"character",E=!!h.treatEmojiAsSingleUnit,F=new Oa({boundaries:Uf(a.focus,y),singleCharacters:!0,direction:y?"forward":"backward"}),Z={walker:F,schema:g,isForward:y,unit:k,treatEmojiAsSingleUnit:E};let ue;for(;ue=F.next();){if(ue.done)return;const Ae=Vf(Z,ue.value);if(Ae)return void(a instanceof Xl?o.change(Pe=>{Pe.setSelectionFocus(Ae)}):a.setFocus(Ae))}}(this,e,t)}getSelectedContent(e){return function(t,o){return t.change(a=>{const h=a.createDocumentFragment(),g=o.getFirstRange();if(!g||g.isCollapsed)return h;const y=g.start.root,k=g.start.getCommonPath(g.end),E=y.getNodeByPath(k);let D;D=g.start.parent==g.end.parent?g:a.createRange(a.createPositionAt(E,g.start.path[k.length]),a.createPositionAt(E,g.end.path[k.length]+1));const F=D.end.offset-D.start.offset;for(const Z of D.getItems({shallow:!0}))Z.is("$textProxy")?a.appendText(Z.data,Z.getAttributes(),h):a.append(a.cloneElement(Z,!0),h);if(D!=g){const Z=g._getTransformedByMove(D.start,a.createPositionAt(h,0),F)[0],ue=a.createRange(a.createPositionAt(h,0),Z.start);nf(a.createRange(Z.end,a.createPositionAt(h,"end")),a),nf(ue,a)}return h})}(this,e)}hasContent(e,t={}){const o=e instanceof Wt?e:Wt._createIn(e);if(o.isCollapsed)return!1;const{ignoreWhitespaces:a=!1,ignoreMarkers:h=!1}=t;if(!h)for(const g of this.markers.getMarkersIntersectingRange(o))if(g.affectsData)return!0;for(const g of o.getItems())if(this.schema.isContent(g)&&(!g.is("$textProxy")||!a||-1!==g.data.search(/\S/)))return!0;return!1}createPositionFromPath(e,t,o){return new cn(e,t,o)}createPositionAt(e,t){return cn._createAt(e,t)}createPositionAfter(e){return cn._createAfter(e)}createPositionBefore(e){return cn._createBefore(e)}createRange(e,t){return new Wt(e,t)}createRangeIn(e){return Wt._createIn(e)}createRangeOn(e){return Wt._createOn(e)}createSelection(...e){return new Jl(...e)}createBatch(e){return new hh(e)}createOperationFromJSON(e){return class{static fromJSON(e,t){return Iu[e.__className].fromJSON(e,t)}}.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){this._currentWriter=new Jm(this,this._pendingChanges[0].batch);const o=this._pendingChanges[0].callback(this._currentWriter);e.push(o),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}class Cg extends $a{constructor(e){super(e),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Ap extends $a{constructor(e){super(e),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class of{constructor(e){this.document=e}createDocumentFragment(e){return new er(this.document,e)}createElement(e,t,o){return new Ma(this.document,e,t,o)}createText(e){return new ko(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,o){return o._insertChild(e,t)}removeChildren(e,t,o){return o._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const o=e.parent;if(o){const a=o.getChildIndex(e);return this.removeChildren(a,1,o),this.insertChild(a,t,o),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const o=t.getChildIndex(e);this.remove(e),this.insertChild(o,e.getChildren(),t)}}rename(e,t){const o=new Ma(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,o)?o:null}setAttribute(e,t,o){o._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,o){Fn(e)&&void 0===o?t._setStyle(e):o._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,o){o._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Mn._createAt(e,t)}createPositionAfter(e){return Mn._createAfter(e)}createPositionBefore(e){return Mn._createBefore(e)}createRange(e,t){return new ji(e,t)}createRangeOn(e){return ji._createOn(e)}createRangeIn(e){return ji._createIn(e)}createSelection(...e){return new Fl(...e)}}new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);class pm{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const o=this.get(e);if(!o)throw new Oe("commandcollection-command-not-found",this,{commandName:e});return o.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class e_ extends ar{constructor(e){super(),this.editor=e}set(e,t,o={}){if("string"==typeof t){const a=t;t=(h,g)=>{this.editor.execute(a),g()}}super.set(e,t,o)}}class kg extends(Dn()){constructor(e={}){super();const t=this.constructor;this._context=e.context||new pr({language:e.language||t.defaultConfig&&t.defaultConfig.language}),this._context._addEditor(this,!e.context);const a=Array.from(t.builtinPlugins||[]);this.config=new en(e,t.defaultConfig),this.config.define("plugins",a),this.config.define(this._context._getEditorConfig()),this.plugins=new ka(this,a,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new pm,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Xm;const h=new Tc;this.data=new Zm(this.model,h),this.editing=new ig(this.model,h),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new dr([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new e_(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new Oe("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new Oe("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new Oe("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),o=e.get("removePlugins")||[],a=e.get("extraPlugins")||[],h=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(a),o,h)}destroy(){let e=Promise.resolve();return"initializing"==this.state&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(o){Oe.rethrowUnexpectedError(o,this)}}focus(){this.editing.view.focus()}}class yc{constructor(e){this.editor=e,this._components=new Map}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Ag(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new Oe("componentfactory-item-missing",this,{name:e});return this._components.get(Ag(e)).callback(this.editor.locale)}has(e){return this._components.has(Ag(e))}}function Ag(d){return String(d).toLowerCase()}class Rd extends Sn{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,o,a)=>{this._renderViewIntoCollectionParent(o,a)}),this.on("remove",(t,o)=>{o.element&&this._parentElement&&o.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every(t=>"string"==typeof t))throw new Oe("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const o of this)for(const a of e)o.delegate(a).to(t);this.on("add",(o,a)=>{for(const h of e)a.delegate(h).to(t)}),this.on("remove",(o,a)=>{for(const h of e)a.stopDelegating(h,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}}class ba extends(He()){constructor(e){super(),Object.assign(this,xg(du(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new Oe("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const o of t.children)Hf(o)?yield o:fu(o)&&(yield*e(o))}(this)}static bind(e,t){return{to:(o,a)=>new gm({eventNameOrFunction:o,attribute:o,observable:e,emitter:t,callback:a}),if:(o,a,h)=>new bh({observable:e,emitter:t,attribute:o,valueIfTrue:a,callback:h})}}static extend(e,t){if(e._isRendered)throw new Oe("template-extend-render",[this,e]);bm(e,xg(du(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new Oe("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),rr(this.text)?this._bindToObservable({schema:this.text,updater:rl(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,o=e.revertData;for(const a in this.attributes){const h=t.getAttribute(a),g=this.attributes[a];o&&(o.attributes[a]=h);const y=Fd(g)?g[0].ns:null;if(rr(g)){const k=Fd(g)?g[0].value:g;o&&ks(a)&&k.unshift(h),this._bindToObservable({schema:k,updater:gs(t,a,y),data:e})}else if("style"==a&&"string"!=typeof g[0])this._renderStyleAttribute(g[0],e);else{o&&h&&ks(a)&&g.unshift(h);const k=g.map(E=>E&&E.value||E).reduce((E,D)=>E.concat(D),[]).reduce(hu,"");sd(k)||t.setAttributeNS(y,a,k)}}}_renderStyleAttribute(e,t){const o=t.node;for(const a in e){const h=e[a];rr(h)?this._bindToObservable({schema:[h],updater:mm(o,a),data:t}):o.style[a]=h}}_renderElementChildren(e){const t=e.node,o=e.intoFragment?document.createDocumentFragment():t,a=e.isApplying;let h=0;for(const g of this.children)if(wc(g)){if(!a){g.setParent(t);for(const y of g)o.appendChild(y.element)}}else if(Hf(g))a||(g.isRendered||g.render(),o.appendChild(g.element));else if(wi(g))o.appendChild(g);else if(a){const y={children:[],bindings:[],attributes:{}};e.revertData.children.push(y),g._renderNode({intoFragment:!1,node:o.childNodes[h++],isApplying:!0,revertData:y})}else o.appendChild(g.render());e.intoFragment&&t.appendChild(o)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const o=this.eventListeners[t].map(a=>{const[h,g]=t.split("@");return a.activateDomEventListener(h,g,e)});e.revertData&&e.revertData.bindings.push(o)}}_bindToObservable({schema:e,updater:t,data:o}){const a=o.revertData;sf(e,t,o);const h=e.filter(g=>!sd(g)).filter(g=>g.observable).map(g=>g.activateAttributeListener(e,t,o));a&&a.bindings.push(h)}_revertTemplateFromNode(e,t){for(const a of t.bindings)for(const h of a)h();if(t.text)return void(e.textContent=t.text);const o=e;for(const a in t.attributes){const h=t.attributes[a];null===h?o.removeAttribute(a):o.setAttribute(a,h)}for(let a=0;a<t.children.length;++a)this._revertTemplateFromNode(o.childNodes[a],t.children[a])}}class xp{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,o){const a=()=>sf(e,t,o);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,a),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,a)}}}class gm extends xp{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,o){const a=(h,g)=>{t&&!g.target.matches(t)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(g):this.observable.fire(this.eventNameOrFunction,g))};return this.emitter.listenTo(o.node,e,a),()=>{this.emitter.stopListening(o.node,e,a)}}}class bh extends xp{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!sd(super.getValue(e))&&(this.valueIfTrue||!0)}}function rr(d){return!!d&&(d.value&&(d=d.value),Array.isArray(d)?d.some(rr):d instanceof xp)}function sf(d,e,{node:t}){const o=(g=t,d.map(y=>y instanceof xp?y.getValue(g):y));var g;let a;a=1==d.length&&d[0]instanceof bh?o[0]:o.reduce(hu,""),sd(a)?e.remove():e.set(a)}function rl(d){return{set(e){d.textContent=e},remove(){d.textContent=""}}}function gs(d,e,t){return{set(o){d.setAttributeNS(t,e,o)},remove(){d.removeAttributeNS(t,e)}}}function mm(d,e){return{set(t){d.style[e]=t},remove(){d.style[e]=null}}}function du(d){return Lt(d,e=>{if(e&&(e instanceof xp||fu(e)||Hf(e)||wc(e)))return e})}function xg(d){if("string"==typeof d?d=function(e){return{text:[e]}}(d):d.text&&function(e){e.text=ae(e.text)}(d),d.on&&(d.eventListeners=function(e){for(const t in e)Ep(e,t);return e}(d.on),delete d.on),!d.text){d.attributes&&function(t){for(const o in t)t[o].value&&(t[o].value=ae(t[o].value)),Ep(t,o)}(d.attributes);const e=[];if(d.children)if(wc(d.children))e.push(d.children);else for(const t of d.children)fu(t)||Hf(t)||wi(t)?e.push(t):e.push(new ba(t));d.children=e}return d}function Ep(d,e){d[e]=ae(d[e])}function hu(d,e){return sd(e)?d:sd(d)?e:`${d} ${e}`}function _m(d,e){for(const t in e)d[t]?d[t].push(...e[t]):d[t]=e[t]}function bm(d,e){if(e.attributes&&(d.attributes||(d.attributes={}),_m(d.attributes,e.attributes)),e.eventListeners&&(d.eventListeners||(d.eventListeners={}),_m(d.eventListeners,e.eventListeners)),e.text&&d.text.push(...e.text),e.children&&e.children.length){if(d.children.length!=e.children.length)throw new Oe("ui-template-extend-children-mismatch",d);let t=0;for(const o of e.children)bm(d.children[t++],o)}}function sd(d){return!d&&0!==d}function Hf(d){return d instanceof jr}function fu(d){return d instanceof ba}function wc(d){return d instanceof Rd}function Fd(d){return lt(d[0])&&d[0].ns}function ks(d){return"class"==d||"style"==d}var Zs=Ne(4793);Bi()(Zs.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class jr extends(Hs(Dn())){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Sn,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,o)=>{o.locale=e,o.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ba.bind(this,this)}createCollection(e){const t=new Rd(e);return this._viewCollections.add(t),t}registerChild(e){Di(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Di(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new ba(e)}extendTemplate(e){ba.extend(this.template,e)}render(){if(this.isRendered)throw new Oe("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}var Mp=Ne(8793);Bi()(Mp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const vm=_o("px"),qf=ui.document.body;class Al extends jr{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",o=>`ck-balloon-panel_${o}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",vm),left:t.to("left",vm)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=Al.defaultPositions,o=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:qf,fitInViewport:!0},e),a=Al._getOptimalPosition(o),h=parseInt(a.left),g=parseInt(a.top),y=a.name,k=a.config||{},{withArrow:E=!0}=k;this.top=g,this.left=h,this.position=y,this.withArrow=E}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=Dp(e.target),o=e.limiter?Dp(e.limiter):qf;this.listenTo(ui.document,"scroll",(a,h)=>{const g=h.target,y=t&&g.contains(t),k=o&&g.contains(o);!y&&!k&&t&&o||this.attachTo(e)},{useCapture:!0}),this.listenTo(ui.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(ui.document,"scroll"),this.stopListening(ui.window,"resize")}}function Dp(d){return wt(d)?d:Li(d)?d.commonAncestorContainer:"function"==typeof d?Dp(d()):null}function pu(d={}){const{sideOffset:e=Al.arrowSideOffset,heightOffset:t=Al.arrowHeightOffset,stickyVerticalOffset:o=Al.stickyVerticalOffset,config:a}=d;return{northWestArrowSouthWest:(y,k)=>un({top:h(y,k),left:y.left-e,name:"arrow_sw"},a&&{config:a}),northWestArrowSouthMiddleWest:(y,k)=>un({top:h(y,k),left:y.left-.25*k.width-e,name:"arrow_smw"},a&&{config:a}),northWestArrowSouth:(y,k)=>un({top:h(y,k),left:y.left-k.width/2,name:"arrow_s"},a&&{config:a}),northWestArrowSouthMiddleEast:(y,k)=>un({top:h(y,k),left:y.left-.75*k.width+e,name:"arrow_sme"},a&&{config:a}),northWestArrowSouthEast:(y,k)=>un({top:h(y,k),left:y.left-k.width+e,name:"arrow_se"},a&&{config:a}),northArrowSouthWest:(y,k)=>un({top:h(y,k),left:y.left+y.width/2-e,name:"arrow_sw"},a&&{config:a}),northArrowSouthMiddleWest:(y,k)=>un({top:h(y,k),left:y.left+y.width/2-.25*k.width-e,name:"arrow_smw"},a&&{config:a}),northArrowSouth:(y,k)=>un({top:h(y,k),left:y.left+y.width/2-k.width/2,name:"arrow_s"},a&&{config:a}),northArrowSouthMiddleEast:(y,k)=>un({top:h(y,k),left:y.left+y.width/2-.75*k.width+e,name:"arrow_sme"},a&&{config:a}),northArrowSouthEast:(y,k)=>un({top:h(y,k),left:y.left+y.width/2-k.width+e,name:"arrow_se"},a&&{config:a}),northEastArrowSouthWest:(y,k)=>un({top:h(y,k),left:y.right-e,name:"arrow_sw"},a&&{config:a}),northEastArrowSouthMiddleWest:(y,k)=>un({top:h(y,k),left:y.right-.25*k.width-e,name:"arrow_smw"},a&&{config:a}),northEastArrowSouth:(y,k)=>un({top:h(y,k),left:y.right-k.width/2,name:"arrow_s"},a&&{config:a}),northEastArrowSouthMiddleEast:(y,k)=>un({top:h(y,k),left:y.right-.75*k.width+e,name:"arrow_sme"},a&&{config:a}),northEastArrowSouthEast:(y,k)=>un({top:h(y,k),left:y.right-k.width+e,name:"arrow_se"},a&&{config:a}),southWestArrowNorthWest:y=>un({top:g(y),left:y.left-e,name:"arrow_nw"},a&&{config:a}),southWestArrowNorthMiddleWest:(y,k)=>un({top:g(y),left:y.left-.25*k.width-e,name:"arrow_nmw"},a&&{config:a}),southWestArrowNorth:(y,k)=>un({top:g(y),left:y.left-k.width/2,name:"arrow_n"},a&&{config:a}),southWestArrowNorthMiddleEast:(y,k)=>un({top:g(y),left:y.left-.75*k.width+e,name:"arrow_nme"},a&&{config:a}),southWestArrowNorthEast:(y,k)=>un({top:g(y),left:y.left-k.width+e,name:"arrow_ne"},a&&{config:a}),southArrowNorthWest:y=>un({top:g(y),left:y.left+y.width/2-e,name:"arrow_nw"},a&&{config:a}),southArrowNorthMiddleWest:(y,k)=>un({top:g(y),left:y.left+y.width/2-.25*k.width-e,name:"arrow_nmw"},a&&{config:a}),southArrowNorth:(y,k)=>un({top:g(y),left:y.left+y.width/2-k.width/2,name:"arrow_n"},a&&{config:a}),southArrowNorthMiddleEast:(y,k)=>un({top:g(y),left:y.left+y.width/2-.75*k.width+e,name:"arrow_nme"},a&&{config:a}),southArrowNorthEast:(y,k)=>un({top:g(y),left:y.left+y.width/2-k.width+e,name:"arrow_ne"},a&&{config:a}),southEastArrowNorthWest:y=>un({top:g(y),left:y.right-e,name:"arrow_nw"},a&&{config:a}),southEastArrowNorthMiddleWest:(y,k)=>un({top:g(y),left:y.right-.25*k.width-e,name:"arrow_nmw"},a&&{config:a}),southEastArrowNorth:(y,k)=>un({top:g(y),left:y.right-k.width/2,name:"arrow_n"},a&&{config:a}),southEastArrowNorthMiddleEast:(y,k)=>un({top:g(y),left:y.right-.75*k.width+e,name:"arrow_nme"},a&&{config:a}),southEastArrowNorthEast:(y,k)=>un({top:g(y),left:y.right-k.width+e,name:"arrow_ne"},a&&{config:a}),westArrowEast:(y,k)=>un({top:y.top+y.height/2-k.height/2,left:y.left-k.width-t,name:"arrow_e"},a&&{config:a}),eastArrowWest:(y,k)=>un({top:y.top+y.height/2-k.height/2,left:y.right+t,name:"arrow_w"},a&&{config:a}),viewportStickyNorth:(y,k,E)=>y.getIntersection(E)?{top:E.top+o,left:y.left+y.width/2-k.width/2,name:"arrowless",config:un({withArrow:!1},a)}:null};function h(y,k){return y.top-k.height-t}function g(y){return y.bottom+t}}Al.arrowSideOffset=25,Al.arrowHeightOffset=10,Al.stickyVerticalOffset=20,Al._getOptimalPosition=rs,Al.defaultPositions=pu();var vh=Ne(3332);Bi()(vh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Gf="ck-tooltip";class Ys extends(Hs()){constructor(e){if(super(),Ys._editors.add(e),Ys._instance)return Ys._instance;Ys._instance=this,this.tooltipTextView=new jr(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Al(e.locale),this.balloonPanelView.class=Gf,this.balloonPanelView.content.add(this.tooltipTextView),this._resizeObserver=null,this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._pinTooltipDebounced=Is(this._pinTooltip,600),this.listenTo(ui.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ui.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ui.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ui.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ui.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;Ys._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),Ys._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Ys._instance=null)}static getPositioningFunctions(e){const t=Ys.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const o=xl(t);var a;o&&o!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(o,{text:(a=o).dataset.ckeTooltipText,position:a.dataset.ckeTooltipPosition||"s",cssClass:a.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(e,{target:t,relatedTarget:o}){if("mouseleave"===e.name){if(!wt(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const a=xl(t),h=xl(o);a&&a!==h&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:o,cssClass:a}){const h=mi(Ys._editors.values()).ui.view.body;h.has(this.balloonPanelView)||h.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:Ys.getPositioningFunctions(o)}),this._resizeObserver=new ii(e,()=>{is(e)||this._unpinTooltip()}),this.balloonPanelView.class=[Gf,a].filter(g=>g).join(" ");for(const g of Ys._editors)this.listenTo(g.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=o}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of Ys._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){is(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Ys.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function xl(d){return wt(d)?d.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}Ys.defaultBalloonPositions=pu({heightOffset:5,sideOffset:13}),Ys._editors=new Set,Ys._instance=null;class af extends(Dn()){constructor(e){super(),this.editor=e,this.componentFactory=new yc(e),this.focusTracker=new ei,this.tooltipManager=new Ys(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.isReady=!1,this.once("ready",()=>{this.isReady=!0}),this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const e of this._editableElementsMap.values())e.ckeditorInstance=null;this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const o=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?o():this.once("ready",o)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const o=e.config.get("toolbar.viewportTopOffset");return o?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:o}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let o,a;e.keystrokes.set("Alt+F10",(h,g)=>{const y=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(y)&&!Array.from(t.domRoots.values()).includes(y)&&(o=y);const k=this._getCurrentFocusedToolbarDefinition();k&&a||(a=this._getFocusableCandidateToolbarDefinitions());for(let E=0;E<a.length;E++){const D=a.shift();if(a.push(D),D!==k&&this._focusFocusableCandidateToolbar(D)){k&&k.options.afterBlur&&k.options.afterBlur();break}}g()}),e.keystrokes.set("Esc",(h,g)=>{const y=this._getCurrentFocusedToolbarDefinition();y&&(o?(o.focus(),o=null):e.editing.view.focus(),y.options.afterBlur&&y.options.afterBlur(),g())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:o,options:a}=t;(is(o.element)||a.beforeFocus)&&e.push(t)}return e.sort((t,o)=>Mg(t)-Mg(o)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:o}}=e;return o&&o(),!!is(t.element)&&(t.focus(),!0)}}function Mg(d){const{toolbarView:e,options:t}=d;let o=10;return is(e.element)&&o--,t.isContextual&&o--,o}function yh(d){return class extends d{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const d=yh(Object);yh.setData=d.prototype.setData,yh.getData=d.prototype.getData}function Sp(d){return class extends d{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new Oe("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),o=this.sourceElement instanceof HTMLTextAreaElement;!function(d,e){d instanceof HTMLTextAreaElement&&(d.value=e),d.innerHTML=e}(this.sourceElement,t||o?e:"")}}}Sp.updateSourceElement=Sp(Object).prototype.updateSourceElement;class $f extends no{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Sn({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if("string"!=typeof e)throw new Oe("pendingactions-add-invalid-message",this);const t=new(Dn());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Ns={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};function wh({emitter:d,activator:e,callback:t,contextElements:o}){d.listenTo(document,"mousedown",(a,h)=>{if(!e())return;const g="function"==typeof h.composedPath?h.composedPath():[];for(const y of o)if(y.contains(h.target)||g.includes(y))return;t()})}function Cc(d){const e=d;e.set("_isCssTransitionsDisabled",!1),e.disableCssTransitions=()=>{e._isCssTransitionsDisabled=!0},e.enableCssTransitions=()=>{e._isCssTransitionsDisabled=!1},e.extendTemplate({attributes:{class:[e.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function or({view:d}){d.listenTo(d.element,"submit",(e,t)=>{t.preventDefault(),d.fire("submit")},{useCapture:!0})}class Ld extends Rd{constructor(e,t=[]){super(t),this.locale=e}attachToDom(){this._bodyCollectionContainer=new ba({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=bt(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}var ca=Ne(6574);Bi()(ca.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});let Ip=(()=>{class d extends jr{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),o=t.getAttribute("viewBox");o&&(this.viewBox=o);for(const{name:a,value:h}of Array.from(t.attributes))d.presentationalAttributeNames.includes(a)&&this.element.setAttribute(a,h);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}return d.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"],d})();var ro=Ne(4906);Bi()(ro.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Po extends jr{constructor(e){super(e);const t=this.bindTemplate,o=ct();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(o),this.iconView=new Ip,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const a={tag:"button",attributes:{class:["ck","ck-button",t.to("class"),t.if("isEnabled","ck-disabled",h=>!h),t.if("isVisible","ck-hidden",h=>!h),t.to("isOn",h=>h?"ck-on":"ck-off"),t.if("withText","ck-button_with-text"),t.if("withKeystroke","ck-button_with-keystroke")],type:t.to("type",h=>h||"button"),tabindex:t.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${o}`,"aria-disabled":t.if("isEnabled",!0,h=>!h),"aria-pressed":t.to("isOn",h=>!!this.isToggleable&&String(!!h)),"data-cke-tooltip-text":t.to("_tooltipString"),"data-cke-tooltip-position":t.to("tooltipPosition")},children:this.children,on:{click:t.to(h=>{this.isEnabled?this.fire("execute"):h.preventDefault()})}};Y_isSafari&&(a.on.mousedown=t.to(h=>{this.focus(),h.preventDefault()})),this.setTemplate(a)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(e){const t=new jr;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:this.bindTemplate.to("label")}]}),t}_createKeystrokeView(){const e=new jr;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>L(t))}]}),e}_getTooltipString(e,t,o){return e?"string"==typeof e?e:(o&&(o=L(o)),e instanceof Function?e(t,o):`${t}${o?` (${o})`:""}`):""}}var Ch=Ne(5332);Bi()(Ch.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Bd extends Po{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new jr;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var ym=Ne(6781);Bi()(ym.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Wf='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Pp extends Po{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Ip;return e.content=Wf,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}var Op=Ne(7686);Bi()(Op.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class cf extends jr{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new ar,this.focusTracker=new ei,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",o=>!o),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new Po;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new Po,t=e.bindTemplate;return e.icon=Wf,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",o=>String(o))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}class Np extends jr{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",o=>`ck-dropdown__panel_${o}`),t.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:t.to(o=>o.preventDefault())}})}focus(){if(this.children.length){const e=this.children.first;"function"==typeof e.focus?e.focus():Mt("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}var po=Ne(5485);Bi()(po.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class qc extends jr{constructor(e,t,o){super(e);const a=this.bindTemplate;this.buttonView=t,this.panelView=o,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new ar,this.focusTracker=new ei,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",h=>!h)],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[t,o]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":a.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,o,a)=>{a&&(this.panelView.position="auto"===this.panelPosition?qc._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element);const e=(t,o)=>{this.isOpen&&(this.isOpen=!1,o())};this.keystrokes.set("arrowdown",(t,o)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,o())}),this.keystrokes.set("arrowright",(t,o)=>{this.isOpen&&o()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:o,southWest:a,northEast:h,northWest:g,southMiddleEast:y,southMiddleWest:k,northMiddleEast:E,northMiddleWest:D}=qc.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[o,a,y,k,e,h,g,E,D,t]:[a,o,k,y,e,g,h,D,E,t]}}qc.defaultPanelPositions={south:(d,e)=>({top:d.bottom,left:d.left-(e.width-d.width)/2,name:"s"}),southEast:d=>({top:d.bottom,left:d.left,name:"se"}),southWest:(d,e)=>({top:d.bottom,left:d.left-e.width+d.width,name:"sw"}),southMiddleEast:(d,e)=>({top:d.bottom,left:d.left-(e.width-d.width)/4,name:"sme"}),southMiddleWest:(d,e)=>({top:d.bottom,left:d.left-3*(e.width-d.width)/4,name:"smw"}),north:(d,e)=>({top:d.top-e.height,left:d.left-(e.width-d.width)/2,name:"n"}),northEast:(d,e)=>({top:d.top-e.height,left:d.left,name:"ne"}),northWest:(d,e)=>({top:d.top-e.height,left:d.left-e.width+d.width,name:"nw"}),northMiddleEast:(d,e)=>({top:d.top-e.height,left:d.left-(e.width-d.width)/4,name:"nme"}),northMiddleWest:(d,e)=>({top:d.top-e.height,left:d.left-3*(e.width-d.width)/4,name:"nmw"})},qc._getOptimalPosition=rs;class kc{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let o=e.actions[t];"string"==typeof o&&(o=[o]);for(const a of o)e.keystrokeHandler.set(a,(h,g)=>{this[t](),g()})}}get first(){return this.focusables.find(As)||null}get last(){return this.focusables.filter(As).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((t,o)=>{const a=t.element===this.focusTracker.focusedElement;return a&&(e=o),a}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const t=this.current,o=this.focusables.length;if(!o)return null;if(null===t)return this[1===e?"first":"last"];let a=(t+o+e)%o;do{const h=this.focusables.get(a);if(As(h))return h;a=(a+o+e)%o}while(a!==t);return null}}function As(d){return!(!d.focus||!is(d.element))}class ol extends jr{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Ac extends jr{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Ig(d){return Array.isArray(d)?{items:d,removeItems:[]}:d?Object.assign({items:[],removeItems:[]},d):{items:[],removeItems:[]}}var Zf=Ne(5542);Bi()(Zf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const{threeVerticalDots:El}=Ns,Gc={alignLeft:Ns.alignLeft,bold:Ns.bold,importExport:Ns.importExport,paragraph:Ns.paragraph,plus:Ns.plus,text:Ns.text,threeVerticalDots:Ns.threeVerticalDots};class Nu extends jr{constructor(e,t){super(e);const o=this.bindTemplate,a=this.t;this.options=t||{},this.set("ariaLabel",a("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new ei,this.keystrokes=new ar,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Cm(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const h="rtl"===e.uiLanguageDirection;this._focusCycler=new kc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[h?"arrowright":"arrowleft","arrowup"],focusNext:[h?"arrowleft":"arrowright","arrowdown"]}});const g=["ck","ck-toolbar",o.to("class"),o.if("isCompact","ck-toolbar_compact")];var y;this.options.shouldGroupWhenFull&&this.options.isFloating&&g.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:g,role:"toolbar","aria-label":o.to("ariaLabel"),style:{maxWidth:o.to("maxWidth")}},children:this.children,on:{mousedown:(y=this,y.bindTemplate.to(k=>{k.target===y.element&&k.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new ua(this):new Pg(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,o){const a=Ig(e),h=o||a.removeItems,g=this._cleanItemsConfiguration(a.items,t,h).map(y=>lt(y)?this._createNestedToolbarDropdown(y,t,h):"|"===y?new ol:"-"===y?new Ac:t.create(y)).filter(y=>!!y);this.items.addMany(g)}_cleanItemsConfiguration(e,t,o){const a=e.filter((h,g,y)=>"|"===h||-1===o.indexOf(h)&&("-"===h?!this.options.shouldGroupWhenFull||(Mt("toolbarview-line-break-ignored-when-grouping-items",y),!1):!(!lt(h)&&!t.has(h)&&(Mt("toolbarview-item-unavailable",{item:h}),1))));return this._cleanSeparatorsAndLineBreaks(a)}_cleanSeparatorsAndLineBreaks(e){const t=g=>"-"!==g&&"|"!==g,o=e.length,a=e.findIndex(t);if(-1===a)return[];const h=o-e.slice().reverse().findIndex(t);return e.slice(a,h).filter((g,y,k)=>!!t(g)||!(y>0&&k[y-1]===g))}_createNestedToolbarDropdown(e,t,o){let{label:a,icon:h,items:g,tooltip:y=!0,withText:k=!1}=e;if(g=this._cleanItemsConfiguration(g,t,o),!g.length)return null;const E=jd(this.locale);return a||Mt("toolbarview-nested-toolbar-dropdown-missing-label",e),E.class="ck-toolbar__nested-toolbar-dropdown",E.buttonView.set({label:a,tooltip:y,withText:!!k}),!1!==h?E.buttonView.icon=Gc[h]||h||El:E.buttonView.withText=!0,Rg(E,[]),E.toolbarView.fillFromConfig(g,t,o),E}}class Cm extends jr{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Pg{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(o=>o),e.focusables.bindTo(e.items).using(o=>o),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class ua{constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,o)=>{const a=o.index,h=Array.from(o.added);for(const g of o.removed)a>=this.ungroupedItems.length?this.groupedItems.remove(g):this.ungroupedItems.remove(g);for(let g=a;g<a+h.length;g++){const y=h[g-a];g>this.ungroupedItems.length?this.groupedItems.add(y,g-this.ungroupedItems.length):this.ungroupedItems.add(y,g)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!is(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,o=new Fr(e.lastChild),a=new Fr(e);if(!this.cachedPadding){const h=ui.window.getComputedStyle(e);this.cachedPadding=Number.parseInt(h["ltr"===t?"paddingRight":"paddingLeft"])}return"ltr"===t?o.right>a.right-this.cachedPadding:o.left<a.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new ii(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new ol),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,o=jd(e);return o.class="ck-toolbar__grouped-dropdown",o.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",Rg(o,[]),o.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:"rtl"===e.uiLanguageDirection?"se":"sw",icon:El}),o.toolbarView.items.bindTo(this.groupedItems).using(a=>a),o}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var Na=Ne(1046);Bi()(Na.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Og extends jr{constructor(e){super(e),this.items=this.createCollection(),this.focusTracker=new ei,this.keystrokes=new ar,this._focusCycler=new kc({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Ng extends jr{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",o=>!o)]},children:this.children})}focus(){this.children.first.focus()}}class Ru extends jr{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var ad=Ne(7339);Bi()(ad.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Ah=Ne(3949);function jd(d,e=Pp){const t=new e(d),o=new Np(d),a=new qc(d,t,o);return t.bind("isEnabled").to(a),t instanceof cf?t.arrowView.bind("isOn").to(a,"isOpen"):t.bind("isOn").to(a,"isOpen"),(g=h=a).on("render",()=>{wh({emitter:g,activator:()=>g.isOpen,callback:()=>{g.isOpen=!1},contextElements:[g.element]})}),function(g){g.on("execute",y=>{y.source instanceof Bd||(g.isOpen=!1)})}(h),function(g){g.focusTracker.on("change:isFocused",(y,k,E)=>{g.isOpen&&!E&&(g.isOpen=!1)})}(h),function(g){g.keystrokes.set("arrowdown",(y,k)=>{g.isOpen&&(g.panelView.focus(),k())}),g.keystrokes.set("arrowup",(y,k)=>{g.isOpen&&(g.panelView.focusLast(),k())})}(h),function(g){g.on("change:isOpen",(y,k,E)=>{E||g.panelView.element.contains(ui.document.activeElement)&&g.buttonView.focus()})}(h),function(g){g.on("change:isOpen",(y,k,E)=>{E&&g.panelView.focus()},{priority:"low"})}(h),a;var h,g}function Rg(d,e,t={}){const o=d.locale,a=o.t,h=d.toolbarView=new Nu(o);h.set("ariaLabel",a("Dropdown toolbar")),d.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.map(g=>h.items.add(g)),t.enableActiveItemFocusOnDropdownOpen&&Fu(d,()=>h.items.find(g=>g.isOn)),d.panelView.children.add(h),h.items.delegate("execute").to(d)}function Am(d,e){const t=d.locale,o=d.listView=new Og(t);o.items.bindTo(e).using(a=>{if("separator"===a.type)return new Ru(t);if("button"===a.type||"switchbutton"===a.type){const h=new Ng(t);let g;return g="button"===a.type?new Po(t):new Bd(t),g.bind(...Object.keys(a.model)).to(a.model),g.delegate("execute").to(h),h.children.add(g),h}return null}),d.panelView.children.add(o),o.items.delegate("execute").to(d),Fu(d,()=>o.items.find(a=>a instanceof Ng&&a.children.first.isOn))}function Fu(d,e){d.on("change:isOpen",()=>{if(!d.isOpen)return;const t=e();t&&("function"==typeof t.focus?t.focus():Mt("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:$e.low-10})}Bi()(Ah.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var xm=Ne(9688);Bi()(xm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Yf extends jr{constructor(e){super(e),this.body=new Ld(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var Fg=Ne(3662);Bi()(Fg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Em extends jr{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ct()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class r_ extends Yf{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new Em;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class Mm extends jr{constructor(e,t,o){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=o,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const e=this._editingView;function t(o){e.change(a=>{const h=e.document.getRoot(o.name);a.addClass(o.isFocused?"ck-focused":"ck-blurred",h),a.removeClass(o.isFocused?"ck-blurred":"ck-focused",h)})}e.isRenderingInProgress?function o(a){e.once("change:isRenderingInProgress",(h,g,y)=>{y?o(a):t(a)})}(this):t(this)}}class Dm extends Mm{constructor(e,t,o,a={}){super(e,t,o);const h=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=a.label||(()=>h("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const o=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),o)})}}var Kf=Ne(8847);Bi()(Kf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Tm=Ne(4879);Bi()(Tm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Rp extends jr{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new ei,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),inputmode:t.to("inputMode"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...o)=>{this.fire("input",...o),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,o)=>{this._setDomElementValue(o),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||0===e?e:""}}class Sm extends Rp{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var uf=Ne(2577);Bi()(uf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class jg extends jr{constructor(e,t){super(e);const o=`ck-labeled-field-view-${ct()}`,a=`ck-labeled-field-view-status-${ct()}`;this.fieldView=t(this,o,a),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(o),this.statusView=this._createStatusView(a),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(g,y)=>g||y);const h=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",h.to("class"),h.if("isEnabled","ck-disabled",g=>!g),h.if("isEmpty","ck-labeled-field-view_empty"),h.if("isFocused","ck-labeled-field-view_focused"),h.if("placeholder","ck-labeled-field-view_placeholder"),h.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new Em(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new jr(this.locale),o=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",o.if("errorText","ck-labeled-field-view__status_error"),o.if("_statusText","ck-hidden",a=>!a)],id:e,role:o.if("errorText","alert")},children:[{text:o.to("_statusText")}]}),t}focus(){this.fieldView.focus()}}function Qf(d,e,t){const o=new Sm(d.locale);return o.set({id:e,ariaDescribedById:t}),o.bind("isReadOnly").to(d,"isEnabled",a=>!a),o.bind("hasError").to(d,"errorText",a=>!!a),o.on("input",()=>{d.errorText=null}),d.bind("isEmpty","isFocused","placeholder").to(o),o}class df extends no{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){this.fire(e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`,{message:e.message,type:e.type,title:e.title||""})}}class zg extends(Dn()){constructor(e,t){super(),t&&La(this,t),e&&this.set(e)}}var hf=Ne(4650);Bi()(hf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Lu=Ne(7676);Bi()(Lu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Ml=_o("px");class Ud extends fn{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this.positionLimiter=()=>{const t=this.editor.editing.view,o=t.document.selection.editableElement;return o?t.domConverter.mapViewToDom(o.root):null},this.set("visibleView",null),this.view=new Al(e.locale),e.ui.view.body.add(this.view),e.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}destroy(){super.destroy(),this.view.destroy(),this._rotatorView.destroy(),this._fakePanelsView.destroy()}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this.hasView(e.view))throw new Oe("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const o=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),o.set(e.view,e),this._viewToStack.set(e.view,o),o===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new Oe("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new Oe("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new Hd(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(o,a)=>!a&&o>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(o,a)=>{if(a<2)return"";const h=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[h,a])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new Vg(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,o)=>!o&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:o=!0,singleViewMode:a=!1}){this.view.class=t,this.view.withArrow=o,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),a&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class Hd extends jr{constructor(e){super(e);const t=e.t,o=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new ei,this.buttonPrevView=this._createButtonView(t("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(t("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",a=>a?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const o=new Po(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o}}class Vg extends jr{constructor(e,t){super(e);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",a=>a?"":"ck-hidden")],style:{top:o.to("top",Ml),left:o.to("left",Ml),width:o.to("width",Ml),height:o.to("height",Ml)}},children:this.content}),this.on("change:numberOfPanels",(a,h,g,y)=>{g>y?this._addPanels(g-y):this._removePanels(y-g),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new jr;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:o,height:a}=new Fr(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:o,height:a})}}}var Wc=Ne(5868);Bi()(Wc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Rs=_o("px");class Dl extends jr{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new ba({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",o=>o?"block":"none"),height:t.to("isSticky",o=>o?Rs(this._panelRect.height):null)}}}).render(),this._contentPanel=new ba({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",o=>o?Rs(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_hasViewportTopOffset",o=>o?Rs(this.viewportTopOffset):null),bottom:t.to("_isStickyToTheLimiter",o=>o?Rs(this.limiterBottomOffset):null),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(ui.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Rs(-ui.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}_o("px");var pf=Ne(9695);Bi()(pf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),_o("px"),_o("px");class Eh extends af{constructor(e,t){super(e),this.view=t,this._toolbarConfig=Ig(e.config.get("toolbar")),this._elementReplacer=new Zn}get element(){return this.view.element}init(e){const o=this.view,a=this.editor.editing.view,h=o.editable,g=a.document.getRoot();h.name=g.rootName,o.render();const y=h.element;this.setEditableElement(h.name,y),o.editable.bind("isFocused").to(this.focusTracker),a.attachDomRoot(y),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,o=t.document.getRoot(),a=e.sourceElement,h=e.config.get("placeholder")||a&&"textarea"===a.tagName.toLowerCase()&&a.getAttribute("placeholder");h&&oc({view:t,element:o,text:h,isDirectHost:!1,keepOnFocus:!0})}}var qd=Ne(3143);Bi()(qd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Mh extends r_{constructor(e,t,o={}){super(e),this.stickyPanel=new Dl(e),this.toolbar=new Nu(e,{shouldGroupWhenFull:o.shouldToolbarGroupWhenFull}),this.editable=new Dm(e,t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Dh extends(yh(Sp(kg))){constructor(e,t={}){if(!Bu(e)&&void 0!==t.initialData)throw new Oe("editor-create-initial-data",null);var h,g;super(t),void 0===this.config.get("initialData")&&this.config.set("initialData",Bu(h=e)?(g=h)instanceof HTMLTextAreaElement?g.value:g.innerHTML:h),Bu(e)&&(this.sourceElement=e),this.model.document.createRoot();const o=!this.config.get("toolbar.shouldNotGroupWhenFull"),a=new Mh(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:o});this.ui=new Eh(this,a),function(h){if(!Ai(h.updateSourceElement))throw new Oe("attachtoform-missing-elementapi-interface",h);const g=h.sourceElement;if((y=g)&&"textarea"===y.tagName.toLowerCase()&&g.form){let y;const k=g.form,E=()=>h.updateSourceElement();Ai(k.submit)&&(y=k.submit,k.submit=()=>{E(),y.apply(k)}),k.addEventListener("submit",E),h.on("destroy",()=>{k.removeEventListener("submit",E),y&&(k.submit=y)})}var y}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(o=>{const a=new this(e,t);o(a.initPlugins().then(()=>a.ui.init(Bu(e)?e:null)).then(()=>a.data.init(a.config.get("initialData"))).then(()=>a.fire("ready")).then(()=>a))})}}function Bu(d){return wt(d)}class Ks extends $a{constructor(e){super(e);const t=this.document;function o(a){return(h,g)=>{g.preventDefault();const y=g.dropRange?[g.dropRange]:null,k=new Xe(t,a);t.fire(k,{dataTransfer:g.dataTransfer,method:h.name,targetRanges:y,target:g.target}),k.stop.called&&g.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(t,"paste",o("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",o("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",o("dragging"),{priority:"low"})}onDomEvent(e){const t={dataTransfer:new hp("clipboardData"in e?e.clipboardData:e.dataTransfer)};"drop"!=e.type&&"dragover"!=e.type||(t.dropRange=function(o,a){const h=a.target.ownerDocument,g=a.clientX,y=a.clientY;let k;return h.caretRangeFromPoint&&h.caretRangeFromPoint(g,y)?k=h.caretRangeFromPoint(g,y):a.rangeParent&&(k=h.createRange(),k.setStart(a.rangeParent,a.rangeOffset),k.collapse(!0)),k?o.domConverter.domRangeToView(k):null}(this.view,e)),this.fire(e.type,e,t)}}const Zc=["figcaption","li"];function Th(d){let e="";if(d.is("$text")||d.is("$textProxy"))e=d.data;else if(d.is("element","img")&&d.hasAttribute("alt"))e=d.getAttribute("alt");else if(d.is("element","br"))e="\n";else{let t=null;for(const o of d.getChildren()){const a=Th(o);t&&(t.is("containerElement")||o.is("containerElement"))&&(Zc.includes(t.name)||Zc.includes(o.name)?e+="\n":e+="\n\n"),e+=a,t=o}}return e}class gu extends fn{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Ks),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,t=e.model,o=e.editing.view,a=o.document;this.listenTo(a,"clipboardInput",h=>{e.isReadOnly&&h.stop()},{priority:"highest"}),this.listenTo(a,"clipboardInput",(h,g)=>{const y=g.dataTransfer;let k;if(g.content)k=g.content;else{let F="";y.getData("text/html")?F=y.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(ue,Ae)=>1==Ae.length?" ":Ae).replace(/<!--[\s\S]*?-->/g,""):y.getData("text/plain")&&(((E=(E=y.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||E.includes("<br>"))&&(E=`<p>${E}</p>`),F=E),k=this.editor.data.htmlProcessor.toView(F)}var E;const D=new Xe(this,"inputTransformation");this.fire(D,{content:k,dataTransfer:y,targetRanges:g.targetRanges,method:g.method}),D.stop.called&&h.stop(),o.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(h,g)=>{if(g.content.isEmpty)return;const y=this.editor.data.toModel(g.content,"$clipboardHolder");0!=y.childCount&&(h.stop(),t.change(()=>{this.fire("contentInsertion",{content:y,method:g.method,dataTransfer:g.dataTransfer,targetRanges:g.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(h,g)=>{g.resultRange=t.insertContent(g.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,o=e.editing.view.document,a=(h,g)=>{const y=g.dataTransfer;g.preventDefault();const k=e.data.toView(e.model.getSelectedContent(t.selection));o.fire("clipboardOutput",{dataTransfer:y,content:k,method:h.name})};this.listenTo(o,"copy",a,{priority:"low"}),this.listenTo(o,"cut",(h,g)=>{e.isReadOnly?g.preventDefault():a(h,g)},{priority:"low"}),this.listenTo(o,"clipboardOutput",(h,g)=>{g.content.isEmpty||(g.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(g.content)),g.dataTransfer.setData("text/plain",Th(g.content))),"cut"==g.method&&e.model.deleteContent(t.selection)},{priority:"low"})}}class ju{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(o,a)=>{a.isLocal&&a.isUndoable&&a!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class Gd extends Me{constructor(e,t){super(e),this._buffer=new ju(e.model,t)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,o=t.document,a=e.text||"",h=a.length;let g=o.selection;e.selection?g=e.selection:e.range&&(g=t.createSelection(e.range));const y=e.resultRange;t.enqueueChange(this._buffer.batch,k=>{this._buffer.lock(),t.deleteContent(g),a&&t.insertContent(k.createText(a,o.selection.getAttributes()),g),y?k.setSelection(y):g.is("documentSelection")||k.setSelection(g),this._buffer.unlock(),this._buffer.input(h)})}}const gf=["insertText","insertReplacementText"];class Hg extends Un{constructor(e){super(e),Y_isAndroid&&gf.push("insertCompositionText");const t=e.document;t.on("beforeinput",(o,a)=>{if(!this.isEnabled)return;const{data:h,targetRanges:g,inputType:y,domEvent:k}=a;if(!gf.includes(y))return;const E=new Xe(t,"insertText");t.fire(E,new Sa(e,k,{text:h,selection:e.createSelection(g)})),E.stop.called&&o.stop()}),t.on("compositionend",(o,{data:a,domEvent:h})=>{this.isEnabled&&!Y_isAndroid&&a&&t.fire("insertText",new Sa(e,h,{text:a,selection:t.selection}))},{priority:"lowest"})}observe(){}}class cd extends fn{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,o=e.editing.view,a=t.document.selection;o.addObserver(Hg);const h=new Gd(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",h),e.commands.add("input",h),this.listenTo(o.document,"insertText",(g,y)=>{o.document.isComposing||y.preventDefault();const{text:k,selection:E,resultRange:D}=y,F=Array.from(E.getRanges()).map(Ae=>e.editing.mapper.toModelRange(Ae));let Z=k;if(Y_isAndroid){const Ae=Array.from(F[0].getItems()).reduce((Pe,Ge)=>Pe+(Ge.is("$textProxy")?Ge.data:""),"");Ae&&(Ae.length<=Z.length?Z.startsWith(Ae)&&(Z=Z.substring(Ae.length),F[0].start=F[0].start.getShiftedBy(Ae.length)):Ae.startsWith(Z)&&(F[0].start=F[0].start.getShiftedBy(Z.length),Z=""))}const ue={text:Z,selection:t.createSelection(F)};D&&(ue.resultRange=e.editing.mapper.toModelRange(D)),e.execute("insertText",ue)}),Y_isAndroid?this.listenTo(o.document,"keydown",(g,y)=>{!a.isCollapsed&&229==y.keyCode&&o.document.isComposing&&Jf(t,h)}):this.listenTo(o.document,"compositionstart",()=>{a.isCollapsed||Jf(t,h)})}}function Jf(d,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),d.enqueueChange(t.batch,()=>{d.deleteContent(d.document.selection)}),t.unlock()}class qg extends Me{constructor(e,t){super(e),this.direction=t,this._buffer=new ju(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,o=t.document;t.enqueueChange(this._buffer.batch,a=>{this._buffer.lock();const h=a.createSelection(e.selection||o.selection),g=e.sequence||1,y=h.isCollapsed;if(h.isCollapsed&&t.modifySelection(h,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(g))return void this._replaceEntireContentWithParagraph(a);if(this._shouldReplaceFirstBlockWithParagraph(h,g))return void this.editor.execute("paragraph",{selection:h});if(h.isCollapsed)return;let k=0;h.getFirstRange().getMinimalFlatRanges().forEach(E=>{k+=ai(E.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(h,{doNotResetEntireContent:y,direction:this.direction}),this._buffer.input(k),a.setSelection(h),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,o=t.document.selection,a=t.schema.getLimitElement(o);if(!o.isCollapsed||!o.containsEntireContent(a)||!t.schema.checkChild(a,"paragraph"))return!1;const h=a.getChild(0);return!h||!h.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,a=t.schema.getLimitElement(t.document.selection),h=e.createElement("paragraph");e.remove(e.createRangeIn(a)),e.insert(h,a),e.setSelection(h,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const o=this.editor.model;if(t>1||"backward"!=this.direction||!e.isCollapsed)return!1;const a=e.getFirstPosition(),h=o.schema.getLimitElement(a),g=h.getChild(0);return a.parent==g&&!!e.containsEntireContent(g)&&!!o.schema.checkChild(h,"paragraph")&&"paragraph"!=g.name}}const ud="selection",dd="backward",Xf="forward",Bp={deleteContent:{unit:ud,direction:dd},deleteContentBackward:{unit:"codePoint",direction:dd},deleteWordBackward:{unit:"word",direction:dd},deleteHardLineBackward:{unit:ud,direction:dd},deleteSoftLineBackward:{unit:ud,direction:dd},deleteContentForward:{unit:"character",direction:Xf},deleteWordForward:{unit:"word",direction:Xf},deleteHardLineForward:{unit:ud,direction:Xf},deleteSoftLineForward:{unit:ud,direction:Xf}};class ep extends Un{constructor(e){super(e);const t=e.document;let o=0;t.on("keydown",()=>{o++}),t.on("keyup",()=>{o=0}),t.on("beforeinput",(a,h)=>{if(!this.isEnabled)return;const{targetRanges:g,domEvent:y,inputType:k}=h,E=Bp[k];if(!E)return;const D={direction:E.direction,unit:E.unit,sequence:o};D.unit==ud&&(D.selectionToRemove=e.createSelection(g[0])),Y_isAndroid&&"deleteContentBackward"===k&&(D.sequence=1,1!=g.length||g[0].start.parent==g[0].end.parent&&g[0].start.offset+1==g[0].end.offset||(D.unit=ud,D.selectionToRemove=e.createSelection(g)));const F=new vl(t,"delete",g[0]);t.fire(F,new Sa(e,y,D)),F.stop.called&&a.stop()}),Y_isBlink&&function(a){const h=a.view,g=h.document;let y=null,k=!1;function E(F){return F==ci.backspace||F==ci.delete}function D(F){return F==ci.backspace?dd:Xf}g.on("keydown",(F,{keyCode:Z})=>{y=Z,k=!1}),g.on("keyup",(F,{keyCode:Z,domEvent:ue})=>{const Ae=g.selection,Pe=a.isEnabled&&Z==y&&E(Z)&&!Ae.isCollapsed&&!k;if(y=null,Pe){const Ge=Ae.getFirstRange(),mt=new vl(g,"delete",Ge),Ot={unit:ud,direction:D(Z),selectionToRemove:Ae};g.fire(mt,new Sa(h,ue,Ot))}}),g.on("beforeinput",(F,{inputType:Z})=>{const ue=Bp[Z];E(y)&&ue&&ue.direction==D(y)&&(k=!0)},{priority:"high"}),g.on("beforeinput",(F,{inputType:Z,data:ue})=>{y==ci.delete&&"insertText"==Z&&"\x7f"==ue&&F.stop()},{priority:"high"})}(this)}observe(){}}class zu extends fn{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,o=t.document,a=e.model.document;t.addObserver(ep),this._undoOnBackspace=!1;const h=new qg(e,"forward");e.commands.add("deleteForward",h),e.commands.add("forwardDelete",h),e.commands.add("delete",new qg(e,"backward")),this.listenTo(o,"delete",(g,y)=>{o.isComposing||y.preventDefault();const{direction:k,sequence:E,selectionToRemove:D,unit:F}=y,Z="forward"===k?"deleteForward":"delete",ue={sequence:E};if("selection"==F){const Ae=Array.from(D.getRanges()).map(Pe=>e.editing.mapper.toModelRange(Pe));ue.selection=e.model.createSelection(Ae)}else ue.unit=F;e.execute(Z,ue),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(o,"delete",(g,y)=>{this._undoOnBackspace&&"backward"==y.direction&&1==y.sequence&&"codePoint"==y.unit&&(this._undoOnBackspace=!1,e.execute("undo"),y.preventDefault(),g.stop())},{context:"$capture"}),this.listenTo(a,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class jp extends fn{static get requires(){return[cd,zu]}static get pluginName(){return"Typing"}}function zp(d,e){let t=d.start;return{text:Array.from(d.getItems()).reduce((o,a)=>a.is("$text")||a.is("$textProxy")?o+a.data:(t=e.createPositionAfter(a),""),""),range:e.createRange(t,d.end)}}class tp extends(Dn()){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:o})=>{o&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(t,o)=>{!o.isUndo&&o.isLocal&&this._evaluateTextBeforeSelection("data",{batch:o})})}_evaluateTextBeforeSelection(e,t={}){const o=this.model,a=o.document.selection,h=o.createRange(o.createPositionAt(a.focus.parent,0),a.focus),{text:g,range:y}=zp(h,o),k=this.testCallback(g);if(!k&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!k,k){const E=Object.assign(t,{text:g,range:y});"object"==typeof k&&Object.assign(E,k),this.fire(`matched:${e}`,E)}}}class hd extends fn{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,a=e.locale,h=e.model.document.selection;this.listenTo(e.editing.view.document,"arrowKey",(g,y)=>{if(!h.isCollapsed||y.shiftKey||y.altKey||y.ctrlKey)return;const k=y.keyCode==ci.arrowright,E=y.keyCode==ci.arrowleft;if(!k&&!E)return;const D=a.contentLanguageDirection;let F=!1;F="ltr"===D&&k||"rtl"===D&&E?this._handleForwardMovement(y):this._handleBackwardMovement(y),!0===F&&g.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(h,"change:range",(g,y)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!y.directChange&&$d(h.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,o=this.editor.model.document.selection,a=o.getFirstPosition();return!(this._isGravityOverridden||a.isAtStart&&sl(o,t)||!$d(a,t)||(Up(e),this._overrideGravity(),0))}_handleBackwardMovement(e){const t=this.attributes,o=this.editor.model,a=o.document.selection,h=a.getFirstPosition();return this._isGravityOverridden?(Up(e),this._restoreGravity(),Vp(o,t,h),!0):h.isAtStart?!!sl(a,t)&&(Up(e),Vp(o,t,h),!0):(y=t,!(!$d(h.getShiftedBy(-1),y)||(h.isAtEnd&&!sl(a,t)&&$d(h,t)?(Up(e),Vp(o,t,h),0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),1))));var y}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function sl(d,e){for(const t of e)if(d.hasAttribute(t))return!0;return!1}function Vp(d,e,t){const o=t.nodeBefore;d.change(a=>{o?a.setSelectionAttribute(o.getAttributes()):a.removeSelectionAttribute(e)})}function Up(d){d.preventDefault()}function $d(d,e){const{nodeBefore:t,nodeAfter:o}=d;for(const a of e){const h=t?t.getAttribute(a):void 0;if((o?o.getAttribute(a):void 0)!==h)return!0}return!1}var Wd=/[\\^$.*+?()[\]{}|]/g,Sh=RegExp(Wd.source);const Gg={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:np('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:np("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:np("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:np('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:np('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:np("'"),to:[null,"\u201a",null,"\u2019"]}},Hp={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},mf=["symbols","mathematical","typography","quotes"];function s_(d){return"string"==typeof d?new RegExp(`(${function(d){return(d=Af(d))&&Sh.test(d)?d.replace(Wd,"\\$&"):d}(d)})$`):d}function Im(d){return"string"==typeof d?()=>[d]:d instanceof Array?()=>d:d}function rb(d){return(d.textNode?d.textNode:d.nodeAfter).getAttributes()}function np(d){return new RegExp(`(^|\\s)(${d})([^${d}]*)(${d})$`)}function mu(d,e,t,o){return o.createRange(Pm(d,e,t,!0,o),Pm(d,e,t,!1,o))}function Pm(d,e,t,o,a){let h=d.textNode||(o?d.nodeBefore:d.nodeAfter),g=null;for(;h&&h.getAttribute(e)==t;)g=h,h=o?h.previousSibling:h.nextSibling;return g?a.createPositionAt(g,o?"before":"after"):d}function*$g(d,e){for(const t of e)t&&d.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class Om extends Me{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,o=t.document.selection,a=t.schema,h=o.isCollapsed,g=o.getFirstRange(),y=g.start.parent,k=g.end.parent;if(a.isLimit(y)||a.isLimit(k))return h||y!=k||t.deleteContent(o),!1;if(h){const E=$g(e.model.schema,o.getAttributes());return _(e,g.start),e.setSelectionAttribute(E),!0}{const E=!(g.start.isAtStart&&g.end.isAtEnd),D=y==k;if(t.deleteContent(o,{leaveUnmerged:E}),E){if(D)return _(e,o.focus),!0;e.setSelection(k,0)}}return!1}}function _(d,e){d.split(e),d.setSelection(e.parent.nextSibling,0)}const C={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class P extends Un{constructor(e){super(e);const t=this.document;t.on("beforeinput",(o,a)=>{if(!this.isEnabled)return;const h=a.domEvent,g=C[a.inputType];if(!g)return;const y=new vl(t,"enter",a.targetRanges[0]);t.fire(y,new Sa(e,h,{isSoft:g.isSoft})),y.stop.called&&o.stop()})}observe(){}}class te extends fn{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,o=t.document;t.addObserver(P),e.commands.add("enter",new Om(e)),this.listenTo(o,"enter",(a,h)=>{o.isComposing||h.preventDefault(),h.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}class xe extends Me{execute(){const e=this.editor.model,t=e.document;e.change(o=>{(function(a,h,g){const y=g.isCollapsed,k=g.getFirstRange(),D=k.end.parent,F=k.start.parent==D;if(y){const Z=$g(a.schema,g.getAttributes());qe(a,h,k.end),h.removeSelectionAttribute(g.getAttributeKeys()),h.setSelectionAttribute(Z)}else{const Z=!(k.start.isAtStart&&k.end.isAtEnd);a.deleteContent(g,{leaveUnmerged:Z}),F?qe(a,h,g.focus):Z&&h.setSelection(D,0)}})(e,o,t.selection),this.fire("afterExecute",{writer:o})})}refresh(){const e=this.editor.model;this.isEnabled=function(o,a){if(a.rangeCount>1)return!1;const h=a.anchor;if(!h||!o.checkChild(h,"softBreak"))return!1;const g=a.getFirstRange(),y=g.start.parent,k=g.end.parent;return!((ut(y,o)||ut(k,o))&&y!==k)}(e.schema,e.document.selection)}}function qe(d,e,t){const o=e.createElement("softBreak");d.insertContent(o,t),e.setSelection(o,"after")}function ut(d,e){return!d.is("rootElement")&&(e.isLimit(d)||ut(d.parent,e))}class kt extends fn{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,o=e.conversion,a=e.editing.view,h=a.document;e.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),o.for("upcast").elementToElement({model:"softBreak",view:"br"}),o.for("downcast").elementToElement({model:"softBreak",view:(g,{writer:y})=>y.createEmptyElement("br")}),a.addObserver(P),e.commands.add("shiftEnter",new xe(e)),this.listenTo(h,"enter",(g,y)=>{h.isComposing||y.preventDefault(),y.isSoft&&(e.execute("shiftEnter"),a.scrollToTheSelection())},{priority:"low"})}}class Rt extends(He()){constructor(){super(),this._stack=[]}add(e,t){const o=this._stack,a=o[0];this._insertDescriptor(e);const h=o[0];a===h||ln(a,h)||this.fire("change:top",{oldDescriptor:a,newDescriptor:h,writer:t})}remove(e,t){const o=this._stack,a=o[0];this._removeDescriptor(e);const h=o[0];a===h||ln(a,h)||this.fire("change:top",{oldDescriptor:a,newDescriptor:h,writer:t})}_insertDescriptor(e){const t=this._stack,o=t.findIndex(h=>h.id===e.id);if(ln(e,t[o]))return;o>-1&&t.splice(o,1);let a=0;for(;t[a]&&hn(t[a],e);)a++;t.splice(a,0,e)}_removeDescriptor(e){const t=this._stack,o=t.findIndex(a=>a.id===e);o>-1&&t.splice(o,1)}}function ln(d,e){return d&&e&&d.priority==e.priority&&bn(d.classes)==bn(e.classes)}function hn(d,e){return d.priority>e.priority||!(d.priority<e.priority)&&bn(d.classes)>bn(e.classes)}function bn(d){return Array.isArray(d)?d.sort().join(","):d}const hi="ck-widget_selected";function ti(d){return!!d.is("element")&&!!d.getCustomProperty("widget")}function lr(d,e,t={}){if(!d.is("containerElement"))throw new Oe("widget-to-widget-wrong-element-type",null,{element:d});return e.setAttribute("contenteditable","false",d),e.addClass("ck-widget",d),e.setCustomProperty("widget",!0,d),d.getFillerOffset=i,e.setCustomProperty("widgetLabel",[],d),t.label&&(a=t.label,d.getCustomProperty("widgetLabel").push(a)),t.hasSelectionHandle&&function(o,a){const h=a.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(g){const y=this.toDomElement(g),k=new Ip;return k.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),k.render(),y.appendChild(k.element),y});a.insert(a.createPositionAt(o,0),h),a.addClass(["ck-widget_with-selection-handle"],o)}(d,e),Cr(d,e),d;var a}function zi(d,e,t){if(e.classes&&t.addClass(ae(e.classes),d),e.attributes)for(const o in e.attributes)t.setAttribute(o,e.attributes[o],d)}function zr(d,e,t){if(e.classes&&t.removeClass(ae(e.classes),d),e.attributes)for(const o in e.attributes)t.removeAttribute(o,d)}function Cr(d,e,t=zi,o=zr){const a=new Rt;a.on("change:top",(h,g)=>{g.oldDescriptor&&o(d,g.oldDescriptor,g.writer),g.newDescriptor&&t(d,g.newDescriptor,g.writer)}),e.setCustomProperty("addHighlight",(h,g,y)=>a.add(g,y),d),e.setCustomProperty("removeHighlight",(h,g,y)=>a.remove(g,y),d)}function Ul(d,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],d),e.setAttribute("role","textbox",d),t.label&&e.setAttribute("aria-label",t.label,d),e.setAttribute("contenteditable",d.isReadOnly?"false":"true",d),d.on("change:isReadOnly",(o,a,h)=>{e.setAttribute("contenteditable",h?"false":"true",d)}),d.on("change:isFocused",(o,a,h)=>{h?e.addClass("ck-editor__nested-editable_focused",d):e.removeClass("ck-editor__nested-editable_focused",d)}),Cr(d,e),d}function s(d,e){const t=d.getSelectedElement();if(t){const o=b(d);if(o)return e.createRange(e.createPositionAt(t,o))}return rf(d,e)}function i(){return null}const c="widget-type-around";function p(d,e,t){return!!d&&ti(d)&&!t.isInline(e)}function b(d){return d.getAttribute(c)}var A=Ne(4921);Bi()(A.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const j=["before","after"],oe=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Ee="ck-widget__type-around_disabled";class Le extends fn{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[te,zu]}constructor(e){super(e),this._currentFakeCaretModelElement=null}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(o,a,h)=>{t.change(g=>{for(const y of t.document.roots)h?g.removeClass(Ee,y):g.addClass(Ee,y)}),h||e.model.change(g=>{g.removeSelectionAttribute(c)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const o=this.editor,a=o.editing.view,h=o.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);o.execute("insertParagraph",{position:o.model.createPositionAt(e,t),attributes:h}),a.focus(),a.scrollToTheSelection()}_listenToIfEnabled(e,t,o,a){this.listenTo(e,t,(...h)=>{this.isEnabled&&o(...h)},a)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=b(e);if(!t)return!1;const o=e.getSelectedElement();return this._insertParagraph(o,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,o=e.locale.t,a={before:o("Insert paragraph before block"),after:o("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(h,g,y)=>{const k=y.mapper.toViewElement(g.item);k&&p(k,g.item,t)&&(function(E,D,F){const Z=E.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(ue){const Ae=this.toDomElement(ue);return function(Pe,Ge){for(const mt of j){const Ot=new ba({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${mt}`],title:Ge[mt],"aria-hidden":"true"},children:[Pe.ownerDocument.importNode(oe,!0)]});Pe.appendChild(Ot.render())}}(Ae,D),function(Pe){const Ge=new ba({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});Pe.appendChild(Ge.render())}(Ae),Ae});E.insert(E.createPositionAt(F,"end"),Z)}(y.writer,a,k),k.getCustomProperty("widgetLabel").push(()=>this.isEnabled?o("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,o=t.document.selection,a=t.schema;function g(y){return`ck-widget_type-around_show-fake-caret_${y}`}this._listenToIfEnabled(e.editing.view.document,"arrowKey",(y,k)=>{this._handleArrowKeyPress(y,k)},{context:[ti,"$text"],priority:"high"}),this._listenToIfEnabled(o,"change:range",(y,k)=>{k.directChange&&e.model.change(E=>{E.removeSelectionAttribute(c)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const y=o.getSelectedElement();y&&p(e.editing.mapper.toViewElement(y),y,a)||e.model.change(k=>{k.removeSelectionAttribute(c)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(y,k,E)=>{const D=E.writer;if(this._currentFakeCaretModelElement){const Ae=E.mapper.toViewElement(this._currentFakeCaretModelElement);Ae&&(D.removeClass(j.map(g),Ae),this._currentFakeCaretModelElement=null)}const F=k.selection.getSelectedElement();if(!F)return;const Z=E.mapper.toViewElement(F);if(!p(Z,F,a))return;const ue=b(k.selection);ue&&(D.addClass(g(ue),Z),this._currentFakeCaretModelElement=F)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(y,k,E)=>{E||e.model.change(D=>{D.removeSelectionAttribute(c)})})}_handleArrowKeyPress(e,t){const o=this.editor,a=o.model,h=a.document.selection,g=a.schema,y=o.editing.view,k=function(F,Z){const ue=re(F,Z);return"down"===ue||"right"===ue}(t.keyCode,o.locale.contentLanguageDirection),E=y.document.selection.getSelectedElement();let D;p(E,o.editing.mapper.toModelElement(E),g)?D=this._handleArrowKeyPressOnSelectedWidget(k):h.isCollapsed?D=this._handleArrowKeyPressWhenSelectionNextToAWidget(k):t.shiftKey||(D=this._handleArrowKeyPressWhenNonCollapsedSelection(k)),D&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,o=b(t.document.selection);return t.change(a=>o?o!==(e?"after":"before")&&(a.removeSelectionAttribute(c),!0):(a.setSelectionAttribute(c,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,o=t.model,a=o.schema,h=t.plugins.get("Widget"),g=h._getObjectElementNextToSelection(e);return!!p(t.editing.mapper.toViewElement(g),g,a)&&(o.change(y=>{h._setSelectionOverElement(g),y.setSelectionAttribute(c,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,o=t.model,a=o.schema,h=t.editing.mapper,g=o.document.selection,y=e?g.getLastPosition().nodeBefore:g.getFirstPosition().nodeAfter;return!!p(h.toViewElement(y),y,a)&&(o.change(k=>{k.setSelection(y,"on"),k.setSelectionAttribute(c,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(o,a)=>{const h=a.domTarget.closest(".ck-widget__type-around__button");if(!h)return;const g=h.classList.contains("ck-widget__type-around__button_before")?"before":"after",y=function(E,D){const F=E.closest(".ck-widget");return D.mapDomToView(F)}(h,t.domConverter),k=e.editing.mapper.toModelElement(y);this._insertParagraph(k,g),a.preventDefault(),o.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection;this._listenToIfEnabled(e.editing.view.document,"enter",(a,h)=>{if("atTarget"!=a.eventPhase)return;const g=t.getSelectedElement(),y=e.editing.mapper.toViewElement(g),k=e.model.schema;let E;this._insertParagraphAccordingToFakeCaretPosition()?E=!0:p(y,g,k)&&(this._insertParagraph(g,h.isSoft?"before":"after"),E=!0),E&&(h.preventDefault(),a.stop())},{context:ti})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,o)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(o.selection=e.selection)},{priority:"high"}),Y_isAndroid?this._listenToIfEnabled(e,"keydown",(t,o)=>{229==o.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,o=e.model,a=o.schema;this._listenToIfEnabled(e.editing.view.document,"delete",(h,g)=>{if("atTarget"!=h.eventPhase)return;const y=b(o.document.selection);if(!y)return;const k=g.direction,E=o.document.selection.getSelectedElement(),D="forward"==k;if("before"===y===D)e.execute("delete",{selection:o.createSelection(E,"on")});else{const F=a.getNearestSelectionRange(o.createPositionAt(E,y),k);if(F)if(F.isCollapsed){const Z=o.createSelection(F.start);if(o.modifySelection(Z,{direction:k}),Z.focus.isEqual(F.start)){const ue=function(Ae,Pe){let Ge=Pe;for(const mt of Pe.getAncestors({parentFirst:!0})){if(mt.childCount>1||Ae.isLimit(mt))break;Ge=mt}return Ge}(a,F.start.parent);o.deleteContent(o.createSelection(ue,"on"),{doNotAutoparagraph:!0})}else o.change(ue=>{ue.setSelection(F),e.execute(D?"deleteForward":"delete")})}else o.change(Z=>{Z.setSelection(F),e.execute(D?"deleteForward":"delete")})}g.preventDefault(),h.stop()},{context:ti})}_enableInsertContentIntegration(){const t=this.editor.model,o=t.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(a,[h,g])=>{if(g&&!g.is("documentSelection"))return;const y=b(o);return y?(a.stop(),t.change(k=>{const E=o.getSelectedElement(),D=t.createPositionAt(E,y),F=k.createSelection(D),Z=t.insertContent(h,F);return k.setSelection(F),Z})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"insertObject",(o,a)=>{const[,h,,g={}]=a;if(h&&!h.is("documentSelection"))return;const y=b(t);y&&(g.findOptimalPosition=y,a[3]=g)},{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",(o,[a])=>{a&&!a.is("documentSelection")||b(t)&&o.stop()},{priority:"high"})}}function pt(d,e,t){const o=d.schema,a=d.createRangeIn(e.root),h="forward"==t?"elementStart":"elementEnd";for(const{previousPosition:g,item:y,type:k}of a.getWalker({startPosition:e,direction:t})){if(o.isLimit(y)&&!o.isInline(y))return g;if(k==h&&o.isBlock(y))return null}return null}function Bt(d,e,t){const o="backward"==t?e.end:e.start;if(d.checkChild(o,"$text"))return o;for(const{nextPosition:a}of e.getWalker({direction:t}))if(d.checkChild(a,"$text"))return a;return null}var Ut=Ne(3488);Bi()(Ut.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class En extends fn{static get pluginName(){return"Widget"}static get requires(){return[Le,zu]}init(){const e=this.editor,t=e.editing.view,o=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(a,h,g)=>{const y=g.writer,k=h.selection;if(k.isCollapsed)return;const E=k.getSelectedElement();if(!E)return;const D=e.editing.mapper.toViewElement(E);var F;ti(D)&&g.consumable.consume(k,"selection")&&y.setSelection(y.createRangeOn(D),{fake:!0,label:(F=D,F.getCustomProperty("widgetLabel").reduce((Z,ue)=>"function"==typeof ue?Z?Z+". "+ue():ue():Z?Z+". "+ue:ue,""))})}),this.editor.editing.downcastDispatcher.on("selection",(a,h,g)=>{this._clearPreviouslySelectedWidgets(g.writer);const y=g.writer,k=y.document.selection;let E=null;for(const D of k.getRanges())for(const F of D){const Z=F.item;ti(Z)&&!Vn(Z,E)&&(y.addClass(hi,Z),this._previouslySelected.add(Z),E=Z)}},{priority:"low"}),t.addObserver(Ap),this.listenTo(o,"mousedown",(...a)=>this._onMousedown(...a)),this.listenTo(o,"arrowKey",(...a)=>{this._handleSelectionChangeOnArrowKeyPress(...a)},{context:[ti,"$text"]}),this.listenTo(o,"arrowKey",(...a)=>{this._preventDefaultOnArrowKeyPress(...a)},{context:"$root"}),this.listenTo(o,"arrowKey",function(d){const e=d.model;return(t,o)=>{const h=o.keyCode==ci.arrowdown,g=o.shiftKey,y=e.document.selection;if(o.keyCode!=ci.arrowup&&!h)return;const k=h;if(g&&!(D=y).isCollapsed&&D.isBackward==k)return;var D;const E=function(D,F,Z){const ue=D.model;if(Z){const Ae=F.isCollapsed?F.focus:F.getLastPosition(),Pe=pt(ue,Ae,"forward");if(!Pe)return null;const Ge=ue.createRange(Ae,Pe),mt=Bt(ue.schema,Ge,"backward");return mt?ue.createRange(Ae,mt):null}{const Ae=F.isCollapsed?F.focus:F.getFirstPosition(),Pe=pt(ue,Ae,"backward");if(!Pe)return null;const Ge=ue.createRange(Pe,Ae),mt=Bt(ue.schema,Ge,"forward");return mt?ue.createRange(mt,Ae):null}}(d,y,k);if(E){if(E.isCollapsed&&(y.isCollapsed||g))return;(E.isCollapsed||function(D,F,Z){const ue=D.model,Ae=D.view.domConverter;if(Z){const tn=ue.createSelection(F.start);ue.modifySelection(tn),tn.focus.isAtEnd||F.start.isEqual(tn.focus)||(F=ue.createRange(tn.focus,F.end))}const Pe=D.mapper.toViewRange(F),Ge=Ae.viewRangeToDom(Pe),mt=Fr.getDomRangeRects(Ge);let Ot;for(const tn of mt)if(void 0!==Ot){if(Math.round(tn.top)>=Ot)return!1;Ot=Math.max(Ot,Math.round(tn.bottom))}else Ot=Math.round(tn.bottom);return!0}(d,E,k))&&(e.change(D=>{const F=k?E.end:E.start;if(g){const Z=e.createSelection(y.anchor);Z.setFocus(F),D.setSelection(Z)}else D.setSelection(F)}),t.stop(),o.preventDefault(),o.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(o,"delete",(a,h)=>{this._handleDelete("forward"==h.direction)&&(h.preventDefault(),a.stop())},{context:"$root"})}_onMousedown(e,t){const o=this.editor,a=o.editing.view,h=a.document;let g=t.target;if(function(k){let E=k;for(;E;){if(E.is("editableElement")&&!E.is("rootElement"))return!0;if(ti(E))return!1;E=E.parent}return!1}(g)){if((Y_isSafari||Y_isGecko)&&t.domEvent.detail>=3){const k=o.editing.mapper,E=g.is("attributeElement")?g.findAncestor(F=>!F.is("attributeElement")):g,D=k.toModelElement(E);t.preventDefault(),this.editor.model.change(F=>{F.setSelection(D,"in")})}return}if(!ti(g)&&(g=g.findAncestor(ti),!g))return;Y_isAndroid&&t.preventDefault(),h.isFocused||a.focus();const y=o.editing.mapper.toModelElement(g);this._setSelectionOverElement(y)}_handleSelectionChangeOnArrowKeyPress(e,t){const o=t.keyCode,a=this.editor.model,h=a.schema,g=a.document.selection,y=g.getSelectedElement(),k=re(o,this.editor.locale.contentLanguageDirection),E="down"==k||"right"==k,D="up"==k||"down"==k;if(y&&h.isObject(y)){const Z=E?g.getLastPosition():g.getFirstPosition(),ue=h.getNearestSelectionRange(Z,E?"forward":"backward");return void(ue&&(a.change(Ae=>{Ae.setSelection(ue)}),t.preventDefault(),e.stop()))}if(!g.isCollapsed&&!t.shiftKey){const Z=g.getFirstPosition(),ue=g.getLastPosition(),Ae=Z.nodeAfter,Pe=ue.nodeBefore;return void((Ae&&h.isObject(Ae)||Pe&&h.isObject(Pe))&&(a.change(Ge=>{Ge.setSelection(E?ue:Z)}),t.preventDefault(),e.stop()))}if(!g.isCollapsed)return;const F=this._getObjectElementNextToSelection(E);if(F&&h.isObject(F)){if(h.isInline(F)&&D)return;this._setSelectionOverElement(F),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const o=this.editor.model,a=o.schema,h=o.document.selection.getSelectedElement();h&&a.isObject(h)&&(t.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const t=this.editor.model.document.selection;if(!t.isCollapsed)return;const o=this._getObjectElementNextToSelection(e);return o?(this.editor.model.change(a=>{let h=t.anchor.parent;for(;h.isEmpty;){const g=h;h=g.parent,a.remove(g)}this._setSelectionOverElement(o)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,o=t.schema,a=t.document.selection,h=t.createSelection(a);if(t.modifySelection(h,{direction:e?"forward":"backward"}),h.isEqual(a))return null;const g=e?h.focus.nodeBefore:h.focus.nodeAfter;return g&&o.isObject(g)?g:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(hi,t);this._previouslySelected.clear()}}function Vn(d,e){return!!e&&Array.from(d.getAncestors()).includes(e)}class xi extends fn{static get requires(){return[Ud]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",o=>{(function(a){const h=a.getSelectedElement();return!(!h||!ti(h))})(e.editing.view.document.selection)&&o.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:o,getRelatedElement:a,balloonClassName:h="ck-toolbar-container"}){if(!o.length)return void Mt("widget-toolbar-no-items",{toolbarId:e});const g=this.editor,y=g.t,k=new Nu(g.locale);if(k.ariaLabel=t||y("Widget toolbar"),this._toolbarDefinitions.has(e))throw new Oe("widget-toolbar-duplicated",this,{toolbarId:e});k.fillFromConfig(o,g.ui.componentFactory);const E={view:k,getRelatedElement:a,balloonClassName:h};g.ui.addToolbar(k,{isContextual:!0,beforeFocus:()=>{const D=a(g.editing.view.document.selection);D&&this._showToolbar(E,D)},afterBlur:()=>{this._hideToolbar(E)}}),this._toolbarDefinitions.set(e,E)}_updateToolbarsVisibility(){let e=0,t=null,o=null;for(const a of this._toolbarDefinitions.values()){const h=a.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&h)if(this.editor.ui.focusTracker.isFocused){const g=h.getAncestors().length;g>e&&(e=g,t=h,o=a)}else this._isToolbarVisible(a)&&this._hideToolbar(a);else this._isToolbarInBalloon(a)&&this._hideToolbar(a)}o&&this._showToolbar(o,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?Ii(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:Pr(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const o of this._toolbarDefinitions.values())if(this._isToolbarVisible(o)){const a=o.getRelatedElement(this.editor.editing.view.document.selection);Ii(this.editor,a)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function Ii(d,e){const t=d.plugins.get("ContextualBalloon"),o=Pr(d,e);t.updatePosition(o)}function Pr(d,e){const o=Al.defaultPositions;return{target:d.editing.view.domConverter.mapViewToDom(e),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}Dn(),Dn();var al=Ne(8506);Bi()(al.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Wg=Ne(903);Bi()(Wg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ov extends fn{static get pluginName(){return"DragDrop"}static get requires(){return[gu,En]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=function(d,e,t){var o=!0,a=!0;return lt(t)&&(o="leading"in t?!!t.leading:o,a="trailing"in t?!!t.trailing:a),Is(d,40,{leading:o,maxWait:40,trailing:a})}(o=>this._updateDropMarker(o)),this._removeDropMarkerDelayed=ab(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=ab(()=>this._clearDraggableAttributes(),40),t.addObserver(Ks),t.addObserver(Ap),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(o,a,h)=>{h?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(o,a,h)=>{h||this._finalizeDragging(!1)}),Y_isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,o=t.document,a=e.editing.view,h=a.document;this.listenTo(h,"dragstart",(g,y)=>{const k=o.selection;if(y.target&&y.target.is("editableElement"))return void y.preventDefault();const E=y.target?lb(y.target):null;if(E){const Z=e.editing.mapper.toModelElement(E);this._draggedRange=pc.fromRange(t.createRangeOn(Z)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!h.selection.isCollapsed){const Z=h.selection.getSelectedElement();Z&&ti(Z)||(this._draggedRange=pc.fromRange(k.getFirstRange()))}if(!this._draggedRange)return void y.preventDefault();this._draggingUid=ct(),y.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",y.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const D=t.createSelection(this._draggedRange.toRange()),F=e.data.toView(t.getSelectedContent(D));h.fire("clipboardOutput",{dataTransfer:y.dataTransfer,content:F,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(h,"dragend",(g,y)=>{this._finalizeDragging(!y.dataTransfer.isCanceled&&"move"==y.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(h,"dragenter",()=>{this.isEnabled&&a.focus()}),this.listenTo(h,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(h,"dragging",(g,y)=>{if(!this.isEnabled)return void(y.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const k=ob(e,y.targetRanges,y.target);this._draggedRange||(y.dataTransfer.dropEffect="copy"),Y_isGecko||("copy"==y.dataTransfer.effectAllowed?y.dataTransfer.dropEffect="copy":["all","copyMove"].includes(y.dataTransfer.effectAllowed)&&(y.dataTransfer.dropEffect="move")),k&&this._updateDropMarkerThrottled(k)},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"clipboardInput",(o,a)=>{if("drop"!=a.method)return;const h=ob(e,a.targetRanges,a.target);return this._removeDropMarker(),h?(this._draggedRange&&this._draggingUid!=a.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==sb(a.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(h,!0)?(this._finalizeDragging(!1),void o.stop()):void(a.targetRanges=[e.editing.mapper.toViewRange(h)])):(this._finalizeDragging(!1),void o.stop())},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(gu);e.on("contentInsertion",(t,o)=>{if(!this.isEnabled||"drop"!==o.method)return;const a=o.targetRanges.map(h=>this.editor.editing.mapper.toModelRange(h));this.editor.model.change(h=>h.setSelection(a))},{priority:"high"}),e.on("contentInsertion",(t,o)=>{if(!this.isEnabled||"drop"!==o.method)return;const a="move"==sb(o.dataTransfer);this._finalizeDragging((!o.resultRange||!o.resultRange.isCollapsed)&&a)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,o=t.document;this.listenTo(o,"mousedown",(a,h)=>{if(Y_isAndroid||!h)return;this._clearDraggableAttributesDelayed.cancel();let g=lb(h.target);if(Y_isBlink&&!e.isReadOnly&&!g&&!o.selection.isCollapsed){const y=o.selection.getSelectedElement();y&&ti(y)||(g=o.selection.editableElement)}g&&(t.change(y=>{y.setAttribute("draggable","true",g)}),this._draggableElement=e.editing.mapper.toModelElement(g))}),this.listenTo(o,"mouseup",()=>{Y_isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:o})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return o.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(a){const h=this.toDomElement(a);return h.append("\u2060",a.createElement("span"),"\u2060"),h})}})}_updateDropMarker(e){const t=this.editor,o=t.model.markers;t.model.change(a=>{o.has("drop-target")?o.get("drop-target").getRange().isEqual(e)||a.updateMarker("drop-target",{range:e}):a.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_finalizeDragging(e){const t=this.editor,o=t.model;this._removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&o.deleteContent(o.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function ob(d,e,t){const o=d.model,a=d.editing.mapper;let h=null;const g=e?e[0].start:null;if(t.is("uiElement")&&(t=t.parent),h=function(E,D){const F=E.model,Z=E.editing.mapper;if(ti(D))return F.createRangeOn(Z.toModelElement(D));if(!D.is("editableElement")){const ue=D.findAncestor(Ae=>ti(Ae)||Ae.is("editableElement"));if(ti(ue))return F.createRangeOn(Z.toModelElement(ue))}return null}(d,t),h)return h;const y=function(E,D){const F=E.editing.mapper,Z=E.editing.view,ue=F.toModelElement(D);if(ue)return ue;const Ae=Z.createPositionBefore(D),Pe=F.findMappedViewAncestor(Ae);return F.toModelElement(Pe)}(d,t),k=g?a.toModelPosition(g):null;return k?(h=function(E,D,F){const Z=E.model;if(!Z.schema.checkChild(F,"$block"))return null;const ue=Z.createPositionAt(F,0),Ae=D.path.slice(0,ue.path.length),Ge=Z.createPositionFromPath(D.root,Ae).nodeAfter;return Ge&&Z.schema.isObject(Ge)?Z.createRangeOn(Ge):null}(d,k,y),h||(h=o.schema.getNearestSelectionRange(k,Y_isGecko?"forward":"backward"),h||function(E,D){const F=E.model;let Z=D;for(;Z;){if(F.schema.isObject(Z))return F.createRangeOn(Z);Z=Z.parent}return null}(d,k.parent))):function(E,D){const F=E.model,Z=F.schema,ue=F.createPositionAt(D,0);return Z.getNearestSelectionRange(ue,"forward")}(d,y)}function sb(d){return Y_isGecko?d.dropEffect:["all","copyMove"].includes(d.effectAllowed)?"move":"copy"}function ab(d,e){let t;function o(...a){o.cancel(),t=setTimeout(()=>d(...a),e)}return o.cancel=()=>{clearTimeout(t)},o}function lb(d){if(d.is("editableElement"))return null;if(d.hasClass("ck-widget__selection-handle"))return d.findAncestor(ti);if(ti(d))return d;const e=d.findAncestor(t=>ti(t)||t.is("editableElement"));return ti(e)?e:null}class Nv extends fn{static get pluginName(){return"PastePlainText"}static get requires(){return[gu]}init(){const e=this.editor,t=e.model,o=e.editing.view,a=o.document,h=t.document.selection;let g=!1;o.addObserver(Ks),this.listenTo(a,"keydown",(y,k)=>{g=k.shiftKey}),e.plugins.get(gu).on("contentInsertion",(y,k)=>{(g||function(E,D){if(E.childCount>1)return!1;const F=E.getChild(0);return!D.isObject(F)&&0==Array.from(F.getAttributeKeys()).length}(k.content,t.schema))&&t.change(E=>{const D=Array.from(h.getAttributes()).filter(([Z])=>t.schema.getAttributeProperties(Z).isFormatting);h.isCollapsed||t.deleteContent(h,{doNotAutoparagraph:!0}),D.push(...h.getAttributes());const F=E.createRangeIn(k.content);for(const Z of F.getItems())Z.is("$textProxy")&&E.setAttributes(D,Z)})})}}class cb extends fn{static get pluginName(){return"Clipboard"}static get requires(){return[gu,Ov,Nv]}}class OC extends Me{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let o=e.schema.getLimitElement(t);if(t.containsEntireContent(o)||!Rv(e.schema,o))do{if(o=o.parent,!o)return}while(!Rv(e.schema,o));e.change(a=>{a.setSelection(o,"in")})}}function Rv(d,e){return d.isLimit(e)&&(d.checkChild(e,"$text")||d.checkChild(e,"paragraph"))}const jw=R("Ctrl+A");class Fv extends fn{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.editing.view.document;e.commands.add("selectAll",new OC(e)),this.listenTo(t,"keydown",(o,a)=>{H(a)===jw&&(e.execute("selectAll"),a.preventDefault())})}}class zw extends fn{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const o=e.commands.get("selectAll"),a=new Po(t);return a.set({label:(0,t.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),a.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),a})}}class Hl extends fn{static get requires(){return[Fv,zw]}static get pluginName(){return"SelectAll"}}class ub extends Me{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(e.data,"set",(t,o)=>{o[1]=un({},o[1]);const a=o[1];a.batchType||(a.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,o)=>{o[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(e){const t=this.editor.model.document.selection,o={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:o}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,o){const a=this.editor.model,h=a.document,g=[],y=e.map(E=>E.getTransformedByOperations(o)),k=y.flat();for(const E of y){const D=E.filter(F=>F.root!=h.graveyard).filter(F=>!Uw(F,k));D.length&&(Vw(D),g.push(D[0]))}g.length&&a.change(E=>{E.setSelection(g,{backward:t})})}_undo(e,t){const o=this.editor.model,a=o.document;this._createdBatches.add(t);const h=e.operations.slice().filter(g=>g.isDocumentOperation);h.reverse();for(const g of h){const k=Array.from(a.history.getOperations(g.baseVersion+1)),E=T_([g.getReversed()],k,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const D of E)t.addOperation(D),o.applyOperation(D),a.history.setOperationAsUndone(g,D)}}}function Vw(d){d.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<d.length;e++){const t=d[e-1].getJoined(d[e],!0);t&&(e--,d.splice(e,2,t))}}function Uw(d,e){return e.some(t=>t!==d&&t.containsRange(d,!0))}class Lv extends ub{execute(e=null){const t=e?this._stack.findIndex(h=>h.batch==e):this._stack.length-1,o=this._stack.splice(t,1)[0],a=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(a,()=>{this._undo(o.batch,a);const h=this.editor.model.document.history.getOperations(o.batch.baseVersion);this._restoreSelection(o.selection.ranges,o.selection.isBackward,h),this.fire("revert",o.batch,a)}),this.refresh()}}class Hw extends ub{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const a=this.editor.model.document.history.getOperations(e.batch.operations[e.batch.operations.length-1].baseVersion+1);this._restoreSelection(e.selection.ranges,e.selection.isBackward,a),this._undo(e.batch,t)}),this.refresh()}}class Bv extends fn{static get pluginName(){return"UndoEditing"}constructor(e){super(e),this._batchRegistry=new WeakSet}init(){const e=this.editor;this._undoCommand=new Lv(e),this._redoCommand=new Hw(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,o)=>{const a=o[0];if(!a.isDocumentOperation)return;const h=a.batch,g=this._redoCommand._createdBatches.has(h),y=this._undoCommand._createdBatches.has(h);this._batchRegistry.has(h)||(this._batchRegistry.add(h),h.isUndoable&&(g?this._undoCommand.addBatch(h):y||(this._undoCommand.addBatch(h),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,o,a)=>{this._redoCommand.addBatch(a)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const db='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Zg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class qw extends fn{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,o=e.t,a="ltr"==t.uiLanguageDirection?db:Zg,h="ltr"==t.uiLanguageDirection?Zg:db;this._addButton("undo",o("Undo"),"CTRL+Z",a),this._addButton("redo",o("Redo"),"CTRL+Y",h)}_addButton(e,t,o,a){const h=this.editor;h.ui.componentFactory.add(e,g=>{const y=h.commands.get(e),k=new Po(g);return k.set({label:t,icon:a,keystroke:o,tooltip:!0}),k.bind("isEnabled").to(y,"isEnabled"),this.listenTo(k,"execute",()=>{h.execute(e),h.editing.view.focus()}),k})}}class jv extends fn{static get requires(){return[Bv,qw]}static get pluginName(){return"Undo"}}class zv extends(Dn()){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((o,a)=>{t.onload=()=>{const h=t.result;this._data=h,o(h)},t.onerror=()=>{a("error")},t.onabort=()=>{a("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Ih extends fn{static get pluginName(){return"FileRepository"}static get requires(){return[$f]}init(){this.loaders=new Sn,this.loaders.on("change",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return Mt("filerepository-no-upload-adapter"),null;const t=new hb(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(o=>{this._loadersMap.set(o,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let o=0;for(const a of this.loaders)o+=a.uploaded;this.uploaded=o}),t.on("change:uploadTotal",()=>{let o=0;for(const a of this.loaders)a.uploadTotal&&(o+=a.uploadTotal);this.uploadTotal=o}),t}destroyLoader(e){const t=e instanceof hb?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((o,a)=>{o===t&&this._loadersMap.delete(a)})}_updatePendingAction(){const e=this.editor.plugins.get($f);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,o=a=>`${t("Upload in progress")} ${parseInt(a)}%.`;this._pendingAction=e.add(o(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",o)}}else e.remove(this._pendingAction),this._pendingAction=null}}class hb extends(Dn()){constructor(e,t){super(),this.id=ct(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new zv,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(o,a)=>a?o/a*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new Oe("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if("reading"!==this.status)throw this.status;return this.status="idle",e}).catch(e=>{throw"aborted"===e?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if("idle"!=this.status)throw new Oe("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw"aborted"===this.status?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((o,a)=>{t.rejecter=a,t.isFulfilled=!1,e.then(h=>{t.isFulfilled=!0,o(h)}).catch(h=>{t.isFulfilled=!0,a(h)})}),t}}class NC extends jr{constructor(e){super(e),this.buttonView=new Po(e),this._fileInputView=new fb(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class fb extends jr{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Ph="abcdefghijklmnopqrstuvwxyz0123456789";class Vv{constructor(e,t,o){this.loader=e,this.url=t,this.t=o}upload(){return this.loader.file.then(e=>new Promise((t,o)=>{this._initRequest(),this._initListeners(t,o,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,t,o){const a=this.xhr,h=this.loader,g=(0,this.t)("Cannot upload file:")+` ${o.name}.`;a.addEventListener("error",()=>t(g)),a.addEventListener("abort",()=>t()),a.addEventListener("load",()=>{const y=a.response;if(!y||!y.uploaded)return t(y&&y.error&&y.error.message?y.error.message:g);e({default:y.url})}),a.upload&&a.upload.addEventListener("progress",y=>{y.lengthComputable&&(h.uploadTotal=y.total,h.uploaded=y.loaded)})}_sendRequest(e){const t=new FormData;t.append("upload",e),t.append("ckCsrfToken",function(){let d=function(o){o=o.toLowerCase();const a=document.cookie.split(";");for(const h of a){const g=h.split("=");if(decodeURIComponent(g[0].trim().toLowerCase())===o)return decodeURIComponent(g[1])}return null}("ckCsrfToken");var t;return d&&40==d.length||(d=function(o){let a="";const h=new Uint8Array(40);window.crypto.getRandomValues(h);for(let g=0;g<h.length;g++){const y=Ph.charAt(h[g]%Ph.length);a+=Math.random()>.5?y.toUpperCase():y}return a}(),t=d,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(t)+";path=/"),d}()),this.xhr.send(t)}}function Ec(d,e,t,o){let a,h=null;"function"==typeof o?a=o:(h=d.commands.get(o),a=()=>{d.execute(o)}),d.model.document.on("change:data",(g,y)=>{if(h&&!h.isEnabled||!e.isEnabled)return;const k=mi(d.model.document.selection.getRanges());if(!k.isCollapsed||y.isUndo||!y.isLocal)return;const E=Array.from(d.model.document.differ.getChanges()),D=E[0];if(1!=E.length||"insert"!==D.type||"$text"!=D.name||1!=D.length)return;const F=D.position.parent;if(F.is("element","codeBlock")||F.is("element","listItem")&&"function"!=typeof o&&!["numberedList","bulletedList","todoList"].includes(o)||h&&!0===h.value)return;const Z=F.getChild(0),ue=d.model.createRangeOn(Z);if(!ue.containsRange(k)&&!k.end.isEqual(ue.end))return;const Ae=t.exec(Z.data.substr(0,k.end.offset));Ae&&d.model.enqueueChange(Pe=>{const Ge=Pe.createPositionAt(F,0),mt=Pe.createPositionAt(F,Ae[0].length),Ot=new pc(Ge,mt);if(!1!==a({match:Ae})){Pe.remove(Ot);const tn=d.model.document.selection.getFirstRange(),Pn=Pe.createRangeIn(F);!F.isEmpty||Pn.isEqual(tn)||Pn.containsRange(tn,!0)||Pe.remove(F)}Ot.detach(),d.model.enqueueChange(()=>{d.plugins.get("Delete").requestUndoOnBackspace()})})})}function Yc(d,e,t,o){let a,h;t instanceof RegExp?a=t:h=t,h=h||(g=>{let y;const k=[],E=[];for(;null!==(y=a.exec(g))&&!(y&&y.length<4);){let{index:D,1:F,2:Z,3:ue}=y;D+=y[0].length-(F+Z+ue).length;const Ge=[D+F.length+Z.length,D+F.length+Z.length+ue.length];k.push([D,D+F.length]),k.push(Ge),E.push([D+F.length,D+F.length+Z.length])}return{remove:k,format:E}}),d.model.document.on("change:data",(g,y)=>{if(y.isUndo||!y.isLocal||!e.isEnabled)return;const k=d.model,E=k.document.selection;if(!E.isCollapsed)return;const D=Array.from(k.document.differ.getChanges()),F=D[0];if(1!=D.length||"insert"!==F.type||"$text"!=F.name||1!=F.length)return;const Z=E.focus,ue=Z.parent,{text:Ae,range:Pe}=function(tn,Pn){let tr=tn.start;return{text:Array.from(tn.getItems()).reduce((Jo,ll)=>!ll.is("$text")&&!ll.is("$textProxy")||ll.getAttribute("code")?(tr=Pn.createPositionAfter(ll),""):Jo+ll.data,""),range:Pn.createRange(tr,tn.end)}}(k.createRange(k.createPositionAt(ue,0),Z),k),Ge=h(Ae),mt=Zd(Pe.start,Ge.format,k),Ot=Zd(Pe.start,Ge.remove,k);mt.length&&Ot.length&&k.enqueueChange(tn=>{if(!1!==o(tn,mt)){for(const Pn of Ot.reverse())tn.remove(Pn);k.enqueueChange(()=>{d.plugins.get("Delete").requestUndoOnBackspace()})}})})}function Zd(d,e,t){return e.filter(o=>void 0!==o[0]&&void 0!==o[1]).map(o=>t.createRange(d.getShiftedBy(o[0]),d.getShiftedBy(o[1])))}function l_(d,e){return(t,o)=>{if(!d.commands.get(e).isEnabled)return!1;const a=d.model.schema.getValidRanges(o,e);for(const h of a)t.setAttribute(e,!0,h);t.removeSelectionAttribute(e)}}class pb extends Me{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,o=t.document.selection,a=void 0===e.forceValue?!this.value:e.forceValue;t.change(h=>{if(o.isCollapsed)a?h.setSelectionAttribute(this.attributeKey,!0):h.removeSelectionAttribute(this.attributeKey);else{const g=t.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const y of g)a?h.setAttribute(this.attributeKey,a,y):h.removeAttribute(this.attributeKey,y)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,o=e.document.selection;if(o.isCollapsed)return o.hasAttribute(this.attributeKey);for(const a of o.getRanges())for(const h of a.getItems())if(t.checkAttribute(h,this.attributeKey))return h.hasAttribute(this.attributeKey);return!1}}const Rm="bold";class $w extends fn{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Rm}),e.model.schema.setAttributeProperties(Rm,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Rm,view:"strong",upcastAlso:["b",t=>{const o=t.getStyle("font-weight");return o?"bold"==o||Number(o)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add(Rm,new pb(e,Rm)),e.keystrokes.set("CTRL+B",Rm)}}const gb="bold";class Ww extends fn{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(gb,o=>{const a=e.commands.get(gb),h=new Po(o);return h.set({label:t("Bold"),icon:Ns.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(h,"execute",()=>{e.execute(gb),e.editing.view.focus()}),h})}}const qp="italic";class c_ extends fn{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:qp}),e.model.schema.setAttributeProperties(qp,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:qp,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(qp,new pb(e,qp)),e.keystrokes.set("CTRL+I",qp)}}const mb="italic";class Uv extends fn{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(mb,o=>{const a=e.commands.get(mb),h=new Po(o);return h.set({label:t("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(h,"execute",()=>{e.execute(mb),e.editing.view.focus()}),h})}}class Zw extends Me{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,o=t.schema,h=Array.from(t.document.selection.getSelectedBlocks()),g=void 0===e.forceValue?!this.value:e.forceValue;t.change(y=>{if(g){const k=h.filter(E=>u_(E)||d_(o,E));this._applyQuote(y,k)}else this._removeQuote(y,h.filter(u_))})}_getValue(){const e=mi(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!u_(e))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.schema,o=mi(this.editor.model.document.selection.getSelectedBlocks());return!!o&&d_(t,o)}_removeQuote(e,t){_b(e,t).reverse().forEach(o=>{if(o.start.isAtStart&&o.end.isAtEnd)return void e.unwrap(o.start.parent);if(o.start.isAtStart){const h=e.createPositionBefore(o.start.parent);return void e.move(o,h)}o.end.isAtEnd||e.split(o.end);const a=e.createPositionAfter(o.end.parent);e.move(o,a)})}_applyQuote(e,t){const o=[];_b(e,t).reverse().forEach(a=>{let h=u_(a.start);h||(h=e.createElement("blockQuote"),e.wrap(a,h)),o.push(h)}),o.reverse().reduce((a,h)=>a.nextSibling==h?(e.merge(e.createPositionAfter(a)),a):h)}}function u_(d){return"blockQuote"==d.parent.name?d.parent:null}function _b(d,e){let t,o=0;const a=[];for(;o<e.length;){const h=e[o],g=e[o+1];t||(t=d.createPositionBefore(h)),g&&h.nextSibling==g||(a.push(d.createRange(t,d.createPositionAfter(h))),t=null),o++}return a}function d_(d,e){const t=d.checkChild(e.parent,"blockQuote"),o=d.checkChild(["$root","blockQuote"],e);return t&&o}class Yw extends fn{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[te,zu]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new Zw(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(g=>{const y=e.model.document.differ.getChanges();for(const k of y)if("insert"==k.type){const E=k.position.nodeAfter;if(!E)continue;if(E.is("element","blockQuote")&&E.isEmpty)return g.remove(E),!0;if(E.is("element","blockQuote")&&!t.checkChild(k.position,E))return g.unwrap(E),!0;if(E.is("element")){const D=g.createRangeIn(E);for(const F of D.getItems())if(F.is("element","blockQuote")&&!t.checkChild(g.createPositionBefore(F),F))return g.unwrap(F),!0}}else if("remove"==k.type){const E=k.position.parent;if(E.is("element","blockQuote")&&E.isEmpty)return g.remove(E),!0}return!1});const o=this.editor.editing.view.document,a=e.model.document.selection,h=e.commands.get("blockQuote");this.listenTo(o,"enter",(g,y)=>{!a.isCollapsed||!h.value||a.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),y.preventDefault(),g.stop())},{context:"blockquote"}),this.listenTo(o,"delete",(g,y)=>{if("backward"!=y.direction||!a.isCollapsed||!h.value)return;const k=a.getLastPosition().parent;k.isEmpty&&!k.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),y.preventDefault(),g.stop())},{context:"blockquote"})}}var bb=Ne(3062);Bi()(bb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class vb extends fn{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",o=>{const a=e.commands.get("blockQuote"),h=new Po(o);return h.set({label:t("Block quote"),icon:Ns.quote,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(h,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),h})}}class P_ extends fn{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const t=e.t;e.ui.componentFactory.add("ckbox",o=>{const a=e.commands.get("ckbox"),h=new Po(o);return h.set({label:t("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),h.bind("isOn","isEnabled").to(a,"value","isEnabled"),h.on("execute",()=>{e.execute("ckbox")}),h})}}function yb({token:d,id:e,origin:t,width:o,extension:a}){const h=wb(d),g=function(k){const D=Math.floor(Math.max(10*k/100,80)),F=[Math.min(k,4e3)];let Z=F[0];for(;Z-D>=D;)Z-=D,F.unshift(Z);return F}(o),y="bmp"===(k=a)||"tiff"===k||"jpg"===k?"jpeg":k;var k;return{imageFallbackUrl:Cb({environmentId:h,id:e,origin:t,width:o,extension:y}),imageSources:[{srcset:g.map(k=>`${Cb({environmentId:h,id:e,origin:t,width:k,extension:"webp"})} ${k}w`).join(","),sizes:`(max-width: ${o}px) 100vw, ${o}px`,type:"image/webp"}]}}function wb(d){const[,e]=d.value.split(".");return JSON.parse(atob(e)).aud}function Cb({environmentId:d,id:e,origin:t,width:o,extension:a}){return new URL(`${d}/assets/${e}/images/${o}.${a}`,t).toString()}class qv extends Me{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return null!==this._wrapper}_checkEnabled(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");return!(!e.isEnabled&&!t.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,assetsOrigin:e.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:t=>this.fire("ckbox:choose",t)}}}_initListeners(){const e=this.editor,t=e.model,o=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=bt(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(a,h)=>{if(!this.isEnabled)return;const g=e.commands.get("insertImage"),y=e.commands.get("link"),k=e.plugins.get("CKBoxEditing"),E=function({assets:D,origin:F,token:Z,isImageAllowed:ue,isLinkAllowed:Ae}){return D.map(Pe=>({id:Pe.data.id,type:kb(Pe)?"image":"link",attributes:Gv(Pe,Z,F)})).filter(Pe=>"image"===Pe.type?ue:Ae)}({assets:h,origin:e.config.get("ckbox.assetsOrigin"),token:k.getToken(),isImageAllowed:g.isEnabled,isLinkAllowed:y.isEnabled});0!==E.length&&t.change(D=>{for(const F of E)this._insertAsset(F,F===E[E.length-1],D),o&&(setTimeout(()=>this._chosenAssets.delete(F),1e3),this._chosenAssets.add(F))})}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,t,o){const a=this.editor.model.document.selection;o.removeSelectionAttribute("linkHref"),"image"===e.type?this._insertImage(e):this._insertLink(e,o),t||o.setSelection(a.getLastPosition())}_insertImage(e){const t=this.editor,{imageFallbackUrl:o,imageSources:a,imageTextAlternative:h}=e.attributes;t.execute("insertImage",{source:{src:o,sources:a,alt:h}})}_insertLink(e,t){const o=this.editor,a=o.model,h=a.document.selection,{linkName:g,linkHref:y}=e.attributes;if(h.isCollapsed){const k=Bn(h.getAttributes()),E=t.createText(g,k),D=a.insertContent(E);t.setSelection(D)}o.execute("link",y)}}function Gv(d,e,t){if(kb(d)){const{imageFallbackUrl:o,imageSources:a}=yb({token:e,origin:t,id:d.data.id,width:d.data.metadata.width,extension:d.data.extension});return{imageFallbackUrl:o,imageSources:a,imageTextAlternative:d.data.metadata.description||""}}return{linkName:d.data.name,linkHref:$v(d,e,t)}}function kb(d){const e=d.data.metadata;return!!e&&e.width&&e.height}function $v(d,e,t){const o=wb(e),a=new URL(`${o}/assets/${d.data.id}/file`,t);return a.searchParams.set("download","true"),a.toString()}class Wv extends fn{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Ih,Ab]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){var e=this;return m(function*(){const t=e.editor,o=!!t.config.get("ckbox"),a=!!window.CKBox;if(!o&&!a)return;const h=t.plugins.get(Ih),g=t.plugins.get(Ab);h.createUploadAdapter=E=>new Zv(E,g.getToken(),t);const y=!t.config.get("ckbox.ignoreDataId"),k=t.plugins.get("ImageUploadEditing");y&&k.on("uploadComplete",(E,{imageElement:D,data:F})=>{t.model.change(Z=>{Z.setAttribute("ckboxImageId",F.ckboxImageId,D)})})})()}}class Zv{constructor(e,t,o){this.loader=e,this.token=t,this.editor=o,this.controller=new AbortController,this.serviceOrigin=o.config.get("ckbox.serviceOrigin"),this.assetsOrigin=o.config.get("ckbox.assetsOrigin")}getAvailableCategories(e=0){var t=this;return m(function*(){const o=new URL("categories",t.serviceOrigin);return o.searchParams.set("limit",50..toString()),o.searchParams.set("offset",e.toString()),t._sendHttpRequest({url:o}).then(function(){var a=m(function*(h){if(h.totalCount-(e+50)>0){const g=yield t.getAvailableCategories(e+50);return[...h.items,...g]}return h.items});return function(h){return a.apply(this,arguments)}}()).catch(()=>{t.controller.signal.throwIfAborted(),dt("ckbox-fetch-category-http-error")})})()}getCategoryIdForFile(e){var t=this;return m(function*(){const o=Yv(e.name),a=yield t.getAvailableCategories();if(!a)return null;const h=t.editor.config.get("ckbox.defaultUploadCategories");if(h){const y=Object.keys(h).find(k=>h[k].includes(o));if(y){const k=a.find(E=>E.id===y||E.name===y);return k?k.id:null}}const g=a.find(y=>y.extensions.includes(o));return g?g.id:null})()}upload(){var e=this;return m(function*(){const t=e.editor.t,o=t("Cannot determine a category for the uploaded file."),a=yield e.loader.file,h=yield e.getCategoryIdForFile(a);if(!h)return Promise.reject(o);const g=new URL("assets",e.serviceOrigin),y=new FormData;y.append("categoryId",h),y.append("file",a);const k={method:"POST",url:g,data:y,onUploadProgress:E=>{E.lengthComputable&&(e.loader.uploadTotal=E.total,e.loader.uploaded=E.loaded)}};return e._sendHttpRequest(k).then(function(){var E=m(function*(D){const F=yield e._getImageWidth(),Z=Yv(a.name),ue=yb({token:e.token,id:D.id,origin:e.assetsOrigin,width:F,extension:Z});return{ckboxImageId:D.id,default:ue.imageFallbackUrl,sources:ue.imageSources}});return function(D){return E.apply(this,arguments)}}()).catch(()=>{const E=t("Cannot upload file:")+` ${a.name}.`;return Promise.reject(E)})})()}abort(){this.controller.abort()}_sendHttpRequest(e){const{url:t,data:o,onUploadProgress:a}=e,h=e.method||"GET",g=this.controller.signal,y=new XMLHttpRequest;y.open(h,t.toString(),!0),y.setRequestHeader("Authorization",this.token.value),y.setRequestHeader("CKBox-Version","CKEditor 5"),y.responseType="json";const k=()=>{y.abort()};return new Promise((E,D)=>{g.addEventListener("abort",k),y.addEventListener("loadstart",()=>{g.addEventListener("abort",k)}),y.addEventListener("loadend",()=>{g.removeEventListener("abort",k)}),y.addEventListener("error",()=>{D()}),y.addEventListener("abort",()=>{D()}),y.addEventListener("load",m(function*(){const F=y.response;return!F||F.statusCode>=400?D(F&&F.message):E(F)})),a&&y.upload.addEventListener("progress",F=>{a(F)}),y.send(o)})}_getImageWidth(){return new Promise(e=>{const t=new Image;t.onload=()=>{URL.revokeObjectURL(t.src),e(t.width)},t.src=this.loader.data})}}function Yv(d){return d.match(/\.(?<ext>[^.]+)$/).groups.ext}class Ab extends fn{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",Wv]}init(){var e=this;return m(function*(){const t=e.editor,o=!!t.config.get("ckbox"),a=!!window.CKBox;if(!o&&!a)return;e._initConfig();const h=t.plugins.get("CloudServicesCore"),g=t.config.get("ckbox.tokenUrl"),y=t.config.get("cloudServices.tokenUrl");e._token=g===y?t.plugins.get("CloudServices").token:yield h.createToken(g).init(),t.config.get("ckbox.ignoreDataId")||(e._initSchema(),e._initConversion(),e._initFixers()),a&&t.commands.add("ckbox",new qv(t))})()}getToken(){return this._token}_initConfig(){const e=this.editor;if(e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")}),!e.config.get("ckbox.tokenUrl"))throw new Oe("ckbox-plugin-missing-token-url",this);e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||dt("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((t,o)=>{if(!t.last.getAttribute("linkHref")&&"ckboxLinkId"===o)return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(t=>{t.on("attribute:ckboxLinkId:imageBlock",(o,a,h)=>{const{writer:g,mapper:y,consumable:k}=h;if(!k.consume(a.item,o.name))return;const E=[...y.toViewElement(a.item).getChildren()].find(D=>"a"===D.name);E&&(a.item.hasAttribute("ckboxLinkId")?g.setAttribute("data-ckbox-resource-id",a.item.getAttribute("ckboxLinkId"),E):g.removeAttribute("data-ckbox-resource-id",E))},{priority:"low"}),t.on("attribute:ckboxLinkId",(o,a,h)=>{const{writer:g,mapper:y,consumable:k}=h;if(k.consume(a.item,o.name)){if(a.attributeOldValue){const E=Kv(g,a.attributeOldValue);g.unwrap(y.toViewRange(a.range),E)}if(a.attributeNewValue){const E=Kv(g,a.attributeNewValue);a.item.is("selection")?g.wrap(g.document.selection.getFirstRange(),E):g.wrap(y.toViewRange(a.range),E)}}},{priority:"low"})}),e.conversion.for("upcast").add(t=>{t.on("element:a",(o,a,h)=>{const{writer:g,consumable:y}=h;if(!a.viewItem.getAttribute("href")||!y.consume(a.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const k=a.viewItem.getAttribute("data-ckbox-resource-id");if(k)if(a.modelRange)for(let E of a.modelRange.getItems())E.is("$textProxy")&&(E=E.textNode),Qw(E)&&g.setAttribute("ckboxLinkId",k,E);else g.setAttribute("ckboxLinkId",k,a.modelCursor.nodeBefore||a.modelCursor.parent)},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:t=>t.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const e=this.editor,t=e.model,o=t.document.selection;var a;t.document.registerPostFixer((a=e,h=>{let g=!1;const y=a.model,k=a.commands.get("ckbox");if(!k)return g;for(const E of y.document.differ.getChanges()){if("insert"!==E.type&&"attribute"!==E.type)continue;const D="insert"===E.type?new Wt(E.position,E.position.getShiftedBy(E.length)):E.range,F="attribute"===E.type&&"linkHref"===E.attributeKey&&null===E.attributeNewValue;for(const Z of D.getItems()){if(F&&Z.hasAttribute("ckboxLinkId")){h.removeAttribute("ckboxLinkId",Z),g=!0;continue}const ue=Kw(Z,k._chosenAssets);for(const Ae of ue){const Pe="image"===Ae.type?"ckboxImageId":"ckboxLinkId";Ae.id!==Z.getAttribute(Pe)&&(h.setAttribute(Pe,Ae.id,Z),g=!0)}}}return g})),t.document.registerPostFixer(function(a){return h=>{!a.hasAttribute("linkHref")&&a.hasAttribute("ckboxLinkId")&&h.removeSelectionAttribute("ckboxLinkId")}}(o))}}function Kw(d,e){const t=d.is("element","imageInline")||d.is("element","imageBlock"),o=d.hasAttribute("linkHref");return[...e].filter(a=>"image"===a.type&&t?a.attributes.imageFallbackUrl===d.getAttribute("src"):"link"===a.type&&o?a.attributes.linkHref===d.getAttribute("linkHref"):void 0)}function Kv(d,e){const t=d.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return d.setCustomProperty("link",!0,t),t}function Qw(d){return!!d.is("$text")||!(!d.is("element","imageInline")&&!d.is("element","imageBlock"))}class Jw extends fn{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,o=e.t;e.ui.componentFactory.add("ckfinder",a=>{const h=e.commands.get("ckfinder"),g=new Po(a);return g.set({label:o("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),g.bind("isEnabled").to(h),g.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),g})}}class Xw extends Me{constructor(e){super(e),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=t&&"modal"!=t)throw new Oe("ckfinder-unknown-openermethod",e);const o=this.editor.config.get("ckfinder.options")||{};o.chooseFiles=!0;const a=o.onInit;o.language||(o.language=e.locale.uiLanguage),o.onInit=h=>{a&&a(h),h.on("files:choose",g=>{const y=g.data.files.toArray(),k=y.filter(F=>!F.isImage()),E=y.filter(F=>F.isImage());for(const F of k)e.execute("link",F.getUrl());const D=[];for(const F of E){const Z=F.getUrl();D.push(Z||h.request("file:getProxyUrl",{file:F}))}D.length&&Qv(e,D)}),h.on("file:choose:resizedImage",g=>{const y=g.data.resizedUrl;if(y)Qv(e,[y]);else{const k=e.plugins.get("Notification"),E=e.locale.t;k.showWarning(E("Could not obtain resized image URL."),{title:E("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[t](o)}}function Qv(d,e){if(d.commands.get("insertImage").isEnabled)d.execute("insertImage",{source:e});else{const t=d.plugins.get("Notification"),o=d.locale.t;t.showWarning(o("Could not insert image at the current position."),{title:o("Inserting image failed"),namespace:"ckfinder"})}}class e0 extends fn{static get pluginName(){return"CKFinderEditing"}static get requires(){return[df,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new Oe("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new Xw(e))}}class t0 extends fn{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Ih]}init(){const e=this.editor,t=e.plugins.get("CloudServices"),o=t.token,a=t.uploadUrl;o&&(this._uploadGateway=e.plugins.get("CloudServicesCore").createUploadGateway(o,a),e.plugins.get(Ih).createUploadAdapter=h=>new n0(this._uploadGateway,h))}}class n0{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(t,o)=>{this.loader.uploadTotal=o.total,this.loader.uploaded=o.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class r0 extends Me{refresh(){const e=this.editor.model,t=mi(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&Jv(t,e.schema)}execute(e={}){const t=this.editor.model,o=t.document;t.change(a=>{const h=(e.selection||o.selection).getSelectedBlocks();for(const g of h)!g.is("element","paragraph")&&Jv(g,t.schema)&&a.rename(g,"paragraph")})}}function Jv(d,e){return e.checkChild(d.parent,"paragraph")&&!e.isObject(d)}class o0 extends Me{execute(e){const t=this.editor.model,o=e.attributes;let a=e.position;t.change(h=>{const g=h.createElement("paragraph");if(o&&t.schema.setAllowedAttributes(g,o,h),!t.schema.checkChild(a.parent,g)){const y=t.schema.findAllowedParent(a,g);if(!y)return;a=h.split(a,y).position}t.insertContent(g,a),h.setSelection(g,"in")})}}class h_ extends fn{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new r0(e)),e.commands.add("insertParagraph",new o0(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(o,{writer:a})=>h_.paragraphLikeElements.has(o.name)?o.isEmpty?null:a.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}h_.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class s0 extends Me{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=mi(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>Xv(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,o=t.document,a=e.value;t.change(h=>{const g=Array.from(o.selection.getSelectedBlocks()).filter(y=>Xv(y,a,t.schema));for(const y of g)y.is("element",a)||h.rename(y,a)})}}function Xv(d,e,t){return t.checkChild(d.parent,e)&&!t.isObject(d)}const O_="paragraph";class ey extends fn{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[h_]}init(){const e=this.editor,t=e.config.get("heading.options"),o=[];for(const a of t)a.model!==O_&&(e.model.schema.register(a.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(a),o.push(a.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new s0(e,o))}afterInit(){const e=this.editor,t=e.commands.get("enter"),o=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(a,h)=>{const g=e.model.document.selection.getFirstPosition().parent;o.some(y=>g.is("element",y.model))&&!g.is("element",O_)&&0===g.childCount&&h.writer.rename(g,O_)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:$e.get("low")+1})}}var xb=Ne(8733);Bi()(xb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ny extends fn{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,o=function(g){const y=g.t,k={Paragraph:y("Paragraph"),"Heading 1":y("Heading 1"),"Heading 2":y("Heading 2"),"Heading 3":y("Heading 3"),"Heading 4":y("Heading 4"),"Heading 5":y("Heading 5"),"Heading 6":y("Heading 6")};return g.config.get("heading.options").map(E=>{const D=k[E.title];return D&&D!=E.title&&(E.title=D),E})}(e),a=t("Choose heading"),h=t("Heading");e.ui.componentFactory.add("heading",g=>{const y={},k=new Sn,E=e.commands.get("heading"),D=e.commands.get("paragraph"),F=[E];for(const ue of o){const Ae={type:"button",model:new zg({label:ue.title,class:ue.class,withText:!0})};"paragraph"===ue.model?(Ae.model.bind("isOn").to(D,"value"),Ae.model.set("commandName","paragraph"),F.push(D)):(Ae.model.bind("isOn").to(E,"value",Pe=>Pe===ue.model),Ae.model.set({commandName:"heading",commandValue:ue.model})),k.add(Ae),y[ue.model]=ue.title}const Z=jd(g);return Am(Z,k),Z.buttonView.set({isOn:!1,withText:!0,tooltip:h}),Z.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),Z.bind("isEnabled").toMany(F,"isEnabled",(...ue)=>ue.some(Ae=>Ae)),Z.buttonView.bind("label").to(E,"value",D,"value",(ue,Ae)=>{const Pe=ue||Ae&&"paragraph";return y[Pe]?y[Pe]:a}),this.listenTo(Z,"execute",ue=>{e.execute(ue.source.commandName,ue.source.commandValue?{value:ue.source.commandValue}:void 0),e.editing.view.focus()}),Z})}}class iy extends Me{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.value=!(!this.isEnabled||!e.hasAttribute("alt"))&&e.getAttribute("alt")}execute(e){const t=this.editor,o=t.plugins.get("ImageUtils"),a=t.model,h=o.getClosestSelectedImageElement(a.document.selection);a.change(g=>{g.setAttribute("alt",e.newValue,h)})}}function Eb(d){return d.createContainerElement("figure",{class:"image"},[d.createEmptyElement("img"),d.createSlot()])}function Mb(d,e){const t=d.plugins.get("ImageUtils"),o=d.plugins.has("ImageInlineEditing")&&d.plugins.has("ImageBlockEditing");return h=>t.isInlineImageView(h)?o&&("block"==h.getStyle("display")||h.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:function(h){const g={name:!0};return h.hasAttribute("src")&&(g.attributes=["src"]),g}(h):null}function N_(d,e){const t=mi(e.getSelectedBlocks());return!t||d.isObject(t)||t.isEmpty&&"listItem"!=t.name?"imageBlock":"imageInline"}class Yd extends fn{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,o=null){const a=this.editor,h=a.model,g=h.document.selection;o=R_(a,t||g,o),e=un(un({},Object.fromEntries(g.getAttributes())),e);for(const y in e)h.schema.checkAttribute(o,y)||delete e[y];return h.change(y=>{const k=y.createElement(o,e);return h.insertObject(k,t,null,{setSelection:"on",findOptimalPosition:!t&&"imageInline"!=o}),k.parent?k:null})}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const o=e.getSelectedElement();if(o&&this.isImageWidget(o))return o;let a=t.parent;for(;a;){if(a.is("element")&&this.isImageWidget(a))return a;a=a.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model.document.selection;return function(t,o){if("imageBlock"==R_(t,o)){const h=function(g,y){const E=s(g,y).start.parent;return E.isEmpty&&!E.is("element","$root")?E.parent:E}(o,t.model);if(t.model.schema.checkChild(h,"imageBlock"))return!0}else if(t.model.schema.checkChild(o.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(t){return[...t.focus.getAncestors()].every(o=>!o.is("element","imageBlock"))}(e)}toImageWidget(e,t,o){return t.setCustomProperty("image",!0,e),lr(e,t,{label:()=>{const a=this.findViewImgElement(e).getAttribute("alt");return a?`${a} ${o}`:o}})}isImageWidget(e){return!!e.getCustomProperty("image")&&ti(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:o}of t.createRangeIn(e))if(this.isInlineImageView(o))return o}}function R_(d,e,t){const o=d.model.schema,a=d.config.get("image.insert.type");return d.plugins.has("ImageBlockEditing")?d.plugins.has("ImageInlineEditing")?t||("inline"===a?"imageInline":"block"===a?"imageBlock":e.is("selection")?N_(o,e):o.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Yg extends fn{static get requires(){return[Yd]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new iy(this.editor))}}var ry=Ne(1905);Bi()(ry.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Kg=Ne(6764);Bi()(Kg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Db extends jr{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new ei,this.keystrokes=new ar,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Ns.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),Ns.cancel,"ck-button-cancel","cancel"),this._focusables=new Rd,this._focusCycler=new kc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),Cc(this)}render(){super.render(),this.keystrokes.listenTo(this.element),or({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,o,a){const h=new Po(this.locale);return h.set({label:e,icon:t,tooltip:!0}),h.extendTemplate({attributes:{class:o}}),a&&h.delegate("execute").to(this,a),h}_createLabeledInputView(){const e=this.locale.t,t=new jg(this.locale,Qf);return t.label=e("Text alternative"),t}}function l0(d){const e=d.editing.view,t=Al.defaultPositions,o=d.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(o.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class oy extends fn{static get requires(){return[Ud]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",o=>{const a=e.commands.get("imageTextAlternative"),h=new Po(o);return h.set({label:t("Change image text alternative"),icon:Ns.lowVision,tooltip:!0}),h.bind("isEnabled").to(a,"isEnabled"),h.bind("isOn").to(a,"value",g=>!!g),this.listenTo(h,"execute",()=>{this._showForm()}),h})}_createForm(){const e=this.editor,t=e.editing.view.document,o=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Db(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(a,h)=>{this._hideForm(!0),h()}),this.listenTo(e.ui,"update",()=>{o.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(a){const h=a.plugins.get("ContextualBalloon");if(a.plugins.get("ImageUtils").getClosestSelectedImageWidget(a.editing.view.document.selection)){const g=l0(a);h.updatePosition(g)}}(e):this._hideForm(!0)}),wh({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const e=this.editor,t=e.commands.get("imageTextAlternative"),o=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:l0(e)}),o.fieldView.value=o.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class Tb extends fn{static get requires(){return[Yg,oy]}static get pluginName(){return"ImageTextAlternative"}}function c0(d,e){return o=>{o.on(`attribute:srcset:${e}`,t)};function t(o,a,h){if(!h.consumable.consume(a.item,o.name))return;const g=h.writer,y=h.mapper.toViewElement(a.item),k=d.findViewImgElement(y);if(null===a.attributeNewValue){const E=a.attributeOldValue;E.data&&(g.removeAttribute("srcset",k),g.removeAttribute("sizes",k),E.width&&g.removeAttribute("width",k))}else{const E=a.attributeNewValue;E.data&&(g.setAttribute("srcset",E.data,k),g.setAttribute("sizes","100vw",k),E.width&&g.setAttribute("width",E.width,k))}}}function Vi(d,e,t){return a=>{a.on(`attribute:${t}:${e}`,o)};function o(a,h,g){if(!g.consumable.consume(h.item,a.name))return;const y=g.writer,k=g.mapper.toViewElement(h.item),E=d.findViewImgElement(k);y.setAttribute(h.attributeKey,h.attributeNewValue||"",E)}}class u0 extends Un{observe(e){this.listenTo(e,"load",(t,o)=>{const a=o.target;this.checkShouldIgnoreEventFromTarget(a)||"IMG"==a.tagName&&this._fireEvents(o)},{useCapture:!0})}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class d0 extends Me{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||"block"===t&&Mt("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||"inline"===t&&Mt("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(e){const t=ae(e.source),o=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(o.getAttributes());t.forEach((g,y)=>{const k=o.getSelectedElement();if("string"==typeof g&&(g={src:g}),y&&k&&a.isImage(k)){const E=this.editor.model.createPositionAfter(k);a.insertImage(un(un({},g),h),E)}else a.insertImage(un(un({},g),h))})}}class Sb extends fn{static get requires(){return[Yd]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(u0),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:a=>{const h={data:a.getAttribute("srcset")};return a.hasAttribute("width")&&(h.width=a.getAttribute("width")),h}}});const o=new d0(e);e.commands.add("insertImage",o),e.commands.add("imageInsert",o)}}class f_ extends Me{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled="imageBlock"===this._modelElementName?e.isInlineImage(t):e.isBlockImage(t)}execute(){const t=this.editor.model,o=this.editor.plugins.get("ImageUtils"),a=o.getClosestSelectedImageElement(t.document.selection),h=Object.fromEntries(a.getAttributes());return h.src||h.uploadId?t.change(g=>{const y=Array.from(t.markers).filter(D=>D.getRange().containsItem(a)),k=o.insertImage(h,t.createSelection(a,"on"),this._modelElementName);if(!k)return null;const E=g.createRangeOn(k);for(const D of y){const F=D.getRange(),Z="$graveyard"!=F.root.rootName?F.getJoined(E,!0):E;g.updateMarker(D,{range:Z})}return{oldElement:a,newElement:k}}):null}}class sy extends fn{static get requires(){return[Sb,Yd,gu]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new f_(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,o=e.conversion,a=e.plugins.get("ImageUtils");o.for("dataDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:g})=>Eb(g)}),o.for("editingDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:g})=>a.toImageWidget(Eb(g),g,t("image widget"))}),o.for("downcast").add(Vi(a,"imageBlock","src")).add(Vi(a,"imageBlock","alt")).add(c0(a,"imageBlock")),o.for("upcast").elementToElement({view:Mb(e,"imageBlock"),model:(h,{writer:g})=>g.createElement("imageBlock",h.hasAttribute("src")?{src:h.getAttribute("src")}:null)}).add(function(h){return y=>{y.on("element:figure",g)};function g(y,k,E){if(!E.consumable.test(k.viewItem,{name:!0,classes:"image"}))return;const D=h.findViewImgElement(k.viewItem);if(!D||!E.consumable.test(D,{name:!0}))return;E.consumable.consume(k.viewItem,{name:!0,classes:"image"});const F=mi(E.convertItem(D,k.modelCursor).modelRange.getItems());F?(E.convertChildren(k.viewItem,F),E.updateConversionResult(F,k)):E.consumable.revert(k.viewItem,{name:!0,classes:"image"})}}(a))}_setupClipboardIntegration(){const e=this.editor,t=e.model,o=e.editing.view,a=e.plugins.get("ImageUtils");this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(h,g)=>{const y=Array.from(g.content.getChildren());let k;if(!y.every(a.isInlineImageView))return;k=g.targetRanges?e.editing.mapper.toModelRange(g.targetRanges[0]):t.document.selection.getFirstRange();const E=t.createSelection(k);if("imageBlock"===N_(t.schema,E)){const D=new of(o.document),F=y.map(Z=>D.createElement("figure",{class:"image"},Z));g.content=D.createDocumentFragment(F)}})}}var p_=Ne(3508);Bi()(p_.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ya extends fn{static get requires(){return[sy,En,Tb]}static get pluginName(){return"ImageBlock"}}class FC extends fn{static get requires(){return[Sb,Yd,gu]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((o,a)=>{if(o.endsWith("caption")&&"imageInline"===a.name)return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new f_(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,o=e.conversion,a=e.plugins.get("ImageUtils");o.for("dataDowncast").elementToElement({model:"imageInline",view:(h,{writer:g})=>g.createEmptyElement("img")}),o.for("editingDowncast").elementToStructure({model:"imageInline",view:(h,{writer:g})=>{return a.toImageWidget((y=g).createContainerElement("span",{class:"image-inline"},y.createEmptyElement("img")),g,t("image widget"));var y}}),o.for("downcast").add(Vi(a,"imageInline","src")).add(Vi(a,"imageInline","alt")).add(c0(a,"imageInline")),o.for("upcast").elementToElement({view:Mb(e,"imageInline"),model:(h,{writer:g})=>g.createElement("imageInline",h.hasAttribute("src")?{src:h.getAttribute("src")}:null)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,o=e.editing.view,a=e.plugins.get("ImageUtils");this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(h,g)=>{const y=Array.from(g.content.getChildren());let k;if(!y.every(a.isBlockImageView))return;k=g.targetRanges?e.editing.mapper.toModelRange(g.targetRanges[0]):t.document.selection.getFirstRange();const E=t.createSelection(k);if("imageInline"===N_(t.schema,E)){const D=new of(o.document),F=y.map(Z=>1===Z.childCount?(Array.from(Z.getAttributes()).forEach(ue=>D.setAttribute(...ue,a.findViewImgElement(Z))),Z.getChild(0)):Z);g.content=D.createDocumentFragment(F)}})}}class ay extends fn{static get requires(){return[FC,En,Tb]}static get pluginName(){return"ImageInline"}}class h0 extends Me{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils");if(!e.plugins.has(sy))return this.isEnabled=!1,void(this.value=!1);const o=e.model.document.selection,a=o.getSelectedElement();if(!a){const h=t.getCaptionFromModelSelection(o);return this.isEnabled=!!h,void(this.value=!!h)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(a),this.value=!!this.isEnabled&&!!t.getCaptionFromImageModelElement(a)}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(o=>{this.value?this._hideImageCaption(o):this._showImageCaption(o,t)})}_showImageCaption(e,t){const o=this.editor.model.document.selection,a=this.editor.plugins.get("ImageCaptionEditing");let h=o.getSelectedElement();const g=a._getSavedCaption(h);this.editor.plugins.get("ImageUtils").isInlineImage(h)&&(this.editor.execute("imageTypeBlock"),h=o.getSelectedElement());const y=g||e.createElement("caption");e.append(y,h),t&&e.setSelection(y,"in")}_hideImageCaption(e){const t=this.editor,o=t.model.document.selection,a=t.plugins.get("ImageCaptionEditing"),h=t.plugins.get("ImageCaptionUtils");let g,y=o.getSelectedElement();y?g=h.getCaptionFromImageModelElement(y):(g=h.getCaptionFromModelSelection(o),y=g.parent),a._saveCaption(y,g),e.setSelection(y,"on"),e.remove(g)}}class ly extends fn{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Yd]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),o=e.getFirstPosition().findAncestor("caption");return o&&t.isBlockImage(o.parent)?o:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return"figcaption"==e.name&&t.isBlockImageView(e.parent)?{name:!0}:null}}class cy extends fn{static get requires(){return[Yd,ly]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new h0(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,o=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),h=e.t;e.conversion.for("upcast").elementToElement({view:g=>a.matchImageCaptionViewElement(g),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(g,{writer:y})=>o.isBlockImage(g.parent)?y.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(g,{writer:y})=>{if(!o.isBlockImage(g.parent))return null;const k=y.createEditableElement("figcaption");y.setCustomProperty("imageCaption",!0,k),oc({view:t,element:k,text:h("Enter image caption"),keepOnFocus:!0});const E=g.parent.getAttribute("alt");return Ul(k,y,{label:E?h("Caption for image: %0",[E]):h("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),o=e.plugins.get("ImageCaptionUtils"),a=e.commands.get("imageTypeInline"),h=e.commands.get("imageTypeBlock"),g=y=>{if(!y.return)return;const{oldElement:k,newElement:E}=y.return;if(!k)return;if(t.isBlockImage(k)){const F=o.getCaptionFromImageModelElement(k);if(F)return void this._saveCaption(E,F)}const D=this._getSavedCaption(k);D&&this._saveCaption(E,D)};a&&this.listenTo(a,"execute",g,{priority:"low"}),h&&this.listenTo(h,"execute",g,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?Io.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,o=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const h=t.document.differ.getChanges();for(const g of h){if("alt"!==g.attributeKey)continue;const y=g.range.start.nodeAfter;if(o.isBlockImage(y)){const k=a.getCaptionFromImageModelElement(y);if(!k)return;e.editing.reconvertItem(k)}}})}}class uy extends fn{static get requires(){return[ly]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,o=e.plugins.get("ImageCaptionUtils"),a=e.t;e.ui.componentFactory.add("toggleImageCaption",h=>{const g=e.commands.get("toggleImageCaption"),y=new Po(h);return y.set({icon:Ns.caption,tooltip:!0,isToggleable:!0}),y.bind("isOn","isEnabled").to(g,"value","isEnabled"),y.bind("label").to(g,"value",k=>a(k?"Toggle caption off":"Toggle caption on")),this.listenTo(y,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const k=o.getCaptionFromModelSelection(e.model.document.selection);if(k){const E=e.editing.mapper.toViewElement(k);t.scrollToTheSelection(),t.change(D=>{D.addClass("image__caption_highlighted",E)})}e.editing.view.focus()}),y})}}var Ib=Ne(2640);Bi()(Ib.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class f0 extends Me{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(o=>{if(o.isDefault)for(const a of o.modelElements)this._defaultStyles[a]=o.name;return[o.name,o]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.value=!!this.isEnabled&&(e.hasAttribute("imageStyle")?e.getAttribute("imageStyle"):this._defaultStyles[e.name])}execute(e={}){const t=this.editor,o=t.model,a=t.plugins.get("ImageUtils");o.change(h=>{const g=e.value;let y=a.getClosestSelectedImageElement(o.document.selection);g&&this.shouldConvertImageType(g,y)&&(this.editor.execute(a.isBlockImage(y)?"imageTypeInline":"imageTypeBlock"),y=a.getClosestSelectedImageElement(o.document.selection)),!g||this._styles.get(g).isDefault?h.removeAttribute("imageStyle",y):h.setAttribute("imageStyle",g,y)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const{objectFullWidth:p0,objectInline:hy,objectLeft:Fm,objectRight:Pb,objectCenter:Ob,objectBlockLeft:fy,objectBlockRight:g_}=Ns,m_={get inline(){return{name:"inline",title:"In line",icon:hy,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Fm,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:fy,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Ob,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Pb,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:g_,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Ob,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Pb,modelElements:["imageBlock"],className:"image-style-side"}}},Nb={full:p0,left:fy,right:g_,center:Ob,inlineLeft:Fm,inlineRight:Pb,inline:hy},Rb=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function py(d){Mt("image-style-configuration-definition-invalid",d)}const Qg={normalizeStyles:function(d){return(d.configuredStyles.options||[]).map(e=>function(t){return"string"==typeof(t="string"==typeof t?m_[t]?un({},m_[t]):{name:t}:function(o,a){const h=un({},a);for(const g in o)Object.prototype.hasOwnProperty.call(a,g)||(h[g]=o[g]);return h}(m_[t.name],t)).icon&&(t.icon=Nb[t.icon]||t.icon),t}(e)).filter(e=>function(t,{isBlockPluginLoaded:o,isInlinePluginLoaded:a}){const{modelElements:h,name:g}=t;if(!(h&&h.length&&g))return py({style:t}),!1;{const y=[o?"imageBlock":null,a?"imageInline":null];if(!h.some(k=>y.includes(k)))return Mt("image-style-missing-dependency",{style:t,missingPlugins:h.map(k=>"imageBlock"===k?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,d))},getDefaultStylesConfiguration:function(d,e){return d&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:d?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(d){return d.has("ImageBlockEditing")&&d.has("ImageInlineEditing")?[...Rb]:[]},warnInvalidStyle:py,DEFAULT_OPTIONS:m_,DEFAULT_ICONS:Nb,DEFAULT_DROPDOWN_DEFINITIONS:Rb};function Lm(d,e){for(const t of e)if(t.name===d)return t}class gy extends fn{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Yd]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=Qg,o=this.editor,a=o.plugins.has("ImageBlockEditing"),h=o.plugins.has("ImageInlineEditing");o.config.define("image.styles",t(a,h)),this.normalizedStyles=e({configuredStyles:o.config.get("image.styles"),isBlockPluginLoaded:a,isInlinePluginLoaded:h}),this._setupConversion(a,h),this._setupPostFixer(),o.commands.add("imageStyle",new f0(o,this.normalizedStyles))}_setupConversion(e,t){const o=this.editor,a=o.model.schema,h=(g=this.normalizedStyles,(k,E,D)=>{if(!D.consumable.consume(E.item,k.name))return;const F=Lm(E.attributeNewValue,g),Z=Lm(E.attributeOldValue,g),ue=D.mapper.toViewElement(E.item),Ae=D.writer;Z&&Ae.removeClass(Z.className,ue),F&&Ae.addClass(F.className,ue)});var g;const y=function(k){const E={imageInline:k.filter(D=>!D.isDefault&&D.modelElements.includes("imageInline")),imageBlock:k.filter(D=>!D.isDefault&&D.modelElements.includes("imageBlock"))};return(D,F,Z)=>{if(!F.modelRange)return;const ue=F.viewItem,Ae=mi(F.modelRange.getItems());if(Ae&&Z.schema.checkAttribute(Ae,"imageStyle"))for(const Pe of E[Ae.name])Z.consumable.consume(ue,{classes:Pe.className})&&Z.writer.setAttribute("imageStyle",Pe.name,Ae)}}(this.normalizedStyles);o.editing.downcastDispatcher.on("attribute:imageStyle",h),o.data.downcastDispatcher.on("attribute:imageStyle",h),e&&(a.extend("imageBlock",{allowAttributes:"imageStyle"}),o.data.upcastDispatcher.on("element:figure",y,{priority:"low"})),t&&(a.extend("imageInline",{allowAttributes:"imageStyle"}),o.data.upcastDispatcher.on("element:img",y,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,o=e.plugins.get(Yd),a=new Map(this.normalizedStyles.map(h=>[h.name,h]));t.registerPostFixer(h=>{let g=!1;for(const y of t.differ.getChanges())if("insert"==y.type||"attribute"==y.type&&"imageStyle"==y.attributeKey){let k="insert"==y.type?y.position.nodeAfter:y.range.start.nodeAfter;if(k&&k.is("element","paragraph")&&k.childCount>0&&(k=k.getChild(0)),!o.isImage(k))continue;const E=k.getAttribute("imageStyle");if(!E)continue;const D=a.get(E);D&&D.modelElements.includes(k.name)||(h.removeAttribute("imageStyle",k),g=!0)}return g})}}var my=Ne(5083);Bi()(my.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class _y extends fn{static get requires(){return[gy]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],o=Fb(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const h of o)this._createButton(h);const a=Fb([...t.filter(lt),...Qg.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const h of a)this._createDropdown(h,o)}_createDropdown(e,t){const o=this.editor.ui.componentFactory;o.add(e.name,a=>{let h;const{defaultItem:g,items:y,title:k}=e,E=y.filter(ue=>t.find(({name:Ae})=>Lb(Ae)===ue)).map(ue=>{const Ae=o.create(ue);return ue===g&&(h=Ae),Ae});y.length!==E.length&&Qg.warnInvalidStyle({dropdown:e});const D=jd(a,cf),F=D.buttonView,Z=F.arrowView;return Rg(D,E,{enableActiveItemFocusOnDropdownOpen:!0}),F.set({label:by(k,h.label),class:null,tooltip:!0}),Z.unbind("label"),Z.set({label:k}),F.bind("icon").toMany(E,"isOn",(...ue)=>{const Ae=ue.findIndex(Ea);return Ae<0?h.icon:E[Ae].icon}),F.bind("label").toMany(E,"isOn",(...ue)=>{const Ae=ue.findIndex(Ea);return by(k,Ae<0?h.label:E[Ae].label)}),F.bind("isOn").toMany(E,"isOn",(...ue)=>ue.some(Ea)),F.bind("class").toMany(E,"isOn",(...ue)=>ue.some(Ea)?"ck-splitbutton_flatten":null),F.on("execute",()=>{E.some(({isOn:ue})=>ue)?D.isOpen=!D.isOpen:h.fire("execute")}),D.bind("isEnabled").toMany(E,"isEnabled",(...ue)=>ue.some(Ea)),this.listenTo(D,"execute",()=>{this.editor.editing.view.focus()}),D})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(Lb(t),o=>{const a=this.editor.commands.get("imageStyle"),h=new Po(o);return h.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),h.bind("isEnabled").to(a,"isEnabled"),h.bind("isOn").to(a,"value",g=>g===t),h.on("execute",this._executeCommand.bind(this,t)),h})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function Fb(d,e){for(const t of d)e[t.title]&&(t.title=e[t.title]);return d}function Lb(d){return`imageStyle:${d}`}function by(d,e){return(d?d+": ":"")+e}function Bb(d){const e=d.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function m0(d){return new Promise((e,t)=>{const o=d.getAttribute("src");fetch(o).then(a=>a.blob()).then(a=>{const h=vy(a,o),g=h.replace("image/",""),y=new File([a],`image.${g}`,{type:h});e(y)}).catch(a=>{return a&&"TypeError"===a.name?(h=o,(g=h,new Promise((y,k)=>{const E=ui.document.createElement("img");E.addEventListener("load",()=>{const D=ui.document.createElement("canvas");D.width=E.width,D.height=E.height,D.getContext("2d").drawImage(E,0,0),D.toBlob(F=>F?y(F):k())}),E.addEventListener("error",()=>k()),E.src=g})).then(g=>{const y=vy(g,h),k=y.replace("image/","");return new File([g],`image.${k}`,{type:y})})).then(e).catch(t):t(a);var h,g})})}function vy(d,e){return d.type?d.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class LC extends fn{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,o=a=>{const h=new NC(a),g=e.commands.get("uploadImage"),y=e.config.get("image.upload.types"),k=Bb(y);return h.set({acceptedType:y.map(E=>`image/${E}`).join(","),allowMultipleFiles:!0}),h.buttonView.set({label:t("Insert image"),icon:Ns.image,tooltip:!0}),h.buttonView.bind("isEnabled").to(g),h.on("done",(E,D)=>{const F=Array.from(D).filter(Z=>k.test(Z.type));F.length&&(e.execute("uploadImage",{file:F}),e.editing.view.focus())}),h};e.ui.componentFactory.add("uploadImage",o),e.ui.componentFactory.add("imageUpload",o)}}var _0=Ne(3689);Bi()(_0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var b0=Ne(4036);Bi()(b0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var __=Ne(3773);Bi()(__.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class y0 extends fn{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...t)=>this.uploadStatusChange(...t)),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(e,t,o){const a=this.editor,h=t.item,g=h.getAttribute("uploadId");if(!o.consumable.consume(t.item,e.name))return;const y=a.plugins.get("ImageUtils"),k=a.plugins.get(Ih),E=g?t.attributeNewValue:null,D=this.placeholder,F=a.editing.mapper.toViewElement(h),Z=o.writer;if("reading"==E)return jb(F,Z),void Bm(y,D,F,Z);if("uploading"==E){const ue=k.loaders.get(g);return jb(F,Z),void(ue?(wy(F,Z),function(Ae,Pe,Ge,mt){const Ot=function(tn){const Pn=tn.createUIElement("div",{class:"ck-progress-bar"});return tn.setCustomProperty("progressBar",!0,Pn),Pn}(Pe);Pe.insert(Pe.createPositionAt(Ae,"end"),Ot),Ge.on("change:uploadedPercent",(tn,Pn,tr)=>{mt.change(_r=>{_r.setStyle("width",tr+"%",Ot)})})}(F,Z,ue,a.editing.view),function(Ae,Pe,Ge,mt){if(mt.data){const Ot=Ae.findViewImgElement(Pe);Ge.setAttribute("src",mt.data,Ot)}}(y,F,Z,ue)):Bm(y,D,F,Z))}"complete"==E&&k.loaders.get(g)&&function(ue,Ae,Pe){const Ge=Ae.createUIElement("div",{class:"ck-image-upload-complete-icon"});Ae.insert(Ae.createPositionAt(ue,"end"),Ge),setTimeout(()=>{Pe.change(mt=>mt.remove(mt.createRangeOn(Ge)))},3e3)}(F,Z,a.editing.view),ky(F,Z,"progressBar"),wy(F,Z),Z.removeClass("ck-appear",F)}}function jb(d,e){d.hasClass("ck-appear")||e.addClass("ck-appear",d)}function Bm(d,e,t,o){t.hasClass("ck-image-upload-placeholder")||o.addClass("ck-image-upload-placeholder",t);const a=d.findViewImgElement(t);a.getAttribute("src")!==e&&o.setAttribute("src",e,a),Cy(t,"placeholder")||o.insert(o.createPositionAfter(a),function(h){const g=h.createUIElement("div",{class:"ck-upload-placeholder-loader"});return h.setCustomProperty("placeholder",!0,g),g}(o))}function wy(d,e){d.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",d),ky(d,e,"placeholder")}function Cy(d,e){for(const t of d.getChildren())if(t.getCustomProperty(e))return t}function ky(d,e,t){const o=Cy(d,t);o&&e.remove(e.createRangeOn(o))}class w0 extends Me{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),o=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(o)}execute(e){const t=ae(e.file),o=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(o.getAttributes());t.forEach((g,y)=>{const k=o.getSelectedElement();if(y&&k&&a.isImage(k)){const E=this.editor.model.createPositionAfter(k);this._uploadImage(g,h,E)}else this._uploadImage(g,h)})}_uploadImage(e,t,o){const a=this.editor,h=a.plugins.get(Ih).createLoader(e),g=a.plugins.get("ImageUtils");h&&g.insertImage(_s(un({},t),{uploadId:h.id}),o)}}class C0 extends fn{static get requires(){return[Ih,df,gu,Yd]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,o=e.conversion,a=e.plugins.get(Ih),h=e.plugins.get("ImageUtils"),g=Bb(e.config.get("image.upload.types")),y=new w0(e);e.commands.add("uploadImage",y),e.commands.add("imageUpload",y),o.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(k,E)=>{if(D=E.dataTransfer,Array.from(D.types).includes("text/html")&&""!==D.getData("text/html"))return;var D;const F=Array.from(E.dataTransfer.files).filter(Z=>!!Z&&g.test(Z.type));F.length&&(k.stop(),e.model.change(Z=>{E.targetRanges&&Z.setSelection(E.targetRanges.map(ue=>e.editing.mapper.toModelRange(ue))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:F})})}))}),this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(k,E)=>{const D=Array.from(e.editing.view.createRangeIn(E.content)).filter(Z=>{return!(!h.isInlineImageView(Ae=Z.item)||!Ae.getAttribute("src"))&&(Ae.getAttribute("src").match(/^data:image\/\w+;base64,/g)||Ae.getAttribute("src").match(/^blob:/g))&&!Z.item.getAttribute("uploadProcessed");var Ae}).map(Z=>({promise:m0(Z.item),imageElement:Z.item}));if(!D.length)return;const F=new of(e.editing.view.document);for(const Z of D){F.setAttribute("uploadProcessed",!0,Z.imageElement);const ue=a.createLoader(Z.promise);ue&&(F.setAttribute("src","",Z.imageElement),F.setAttribute("uploadId",ue.id,Z.imageElement))}}),e.editing.view.document.on("dragover",(k,E)=>{E.preventDefault()}),t.on("change",()=>{const k=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),E=new Set;for(const D of k)if("insert"==D.type&&"$text"!=D.name){const F=D.position.nodeAfter,Z="$graveyard"==D.position.root.rootName;for(const ue of Ay(e,F)){const Ae=ue.getAttribute("uploadId");if(!Ae)continue;const Pe=a.loaders.get(Ae);Pe&&(Z?E.has(Ae)||Pe.abort():(E.add(Ae),this._uploadImageElements.set(Ae,ue),"idle"==Pe.status&&this._readAndUpload(Pe)))}}}),this.on("uploadComplete",(k,{imageElement:E,data:D})=>{const F=D.urls?D.urls:D;this.editor.model.change(Z=>{Z.setAttribute("src",F.default,E),this._parseAndSetSrcsetAttributeOnImage(F,E,Z)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,o=t.model,a=t.locale.t,h=t.plugins.get(Ih),g=t.plugins.get(df),y=t.plugins.get("ImageUtils"),k=this._uploadImageElements;return o.enqueueChange({isUndoable:!1},D=>{D.setAttribute("uploadStatus","reading",k.get(e.id))}),e.read().then(()=>{const D=e.upload(),F=k.get(e.id);if(Y_isSafari){const Z=t.editing.mapper.toViewElement(F),ue=y.findViewImgElement(Z);t.editing.view.once("render",()=>{if(!ue.parent)return;const Ae=t.editing.view.domConverter.mapViewToDom(ue.parent);if(!Ae)return;const Pe=Ae.style.display;Ae.style.display="none",Ae._ckHack=Ae.offsetHeight,Ae.style.display=Pe})}return o.enqueueChange({isUndoable:!1},Z=>{Z.setAttribute("uploadStatus","uploading",F)}),D}).then(D=>{o.enqueueChange({isUndoable:!1},F=>{const Z=k.get(e.id);F.setAttribute("uploadStatus","complete",Z),this.fire("uploadComplete",{data:D,imageElement:Z})}),E()}).catch(D=>{if("error"!==e.status&&"aborted"!==e.status)throw D;"error"==e.status&&D&&g.showWarning(D,{title:a("Upload failed"),namespace:"upload"}),o.enqueueChange({isUndoable:!1},F=>{F.remove(k.get(e.id))}),E()});function E(){o.enqueueChange({isUndoable:!1},D=>{const F=k.get(e.id);D.removeAttribute("uploadId",F),D.removeAttribute("uploadStatus",F),k.delete(e.id)}),h.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,o){let a=0;const h=Object.keys(e).filter(g=>{const y=parseInt(g,10);if(!isNaN(y))return a=Math.max(a,y),!0}).map(g=>`${e[g]} ${g}w`).join(", ");""!=h&&o.setAttribute("srcset",{data:h,width:a},t)}}function Ay(d,e){const t=d.plugins.get("ImageUtils");return Array.from(d.model.createRangeOn(e)).filter(o=>t.isImage(o.item)).map(o=>o.item)}class k0 extends fn{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Pl(e)),e.commands.add("outdent",new Pl(e))}}const xy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Jg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class A0 extends fn{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,o=e.t,a="ltr"==t.uiLanguageDirection?xy:Jg,h="ltr"==t.uiLanguageDirection?Jg:xy;this._defineButton("indent",o("Increase indent"),a),this._defineButton("outdent",o("Decrease indent"),h)}_defineButton(e,t,o){const a=this.editor;a.ui.componentFactory.add(e,h=>{const g=a.commands.get(e),y=new Po(h);return y.set({label:t,icon:o,tooltip:!0}),y.bind("isOn","isEnabled").to(g,"value","isEnabled"),this.listenTo(y,"execute",()=>{a.execute(e),a.editing.view.focus()}),y})}}class Ey{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,o,a)=>{if(!a.consumable.test(o.item,"attribute:linkHref")||!o.item.is("selection")&&!a.schema.isInline(o.item))return;const h=a.writer,g=h.document.selection;for(const y of this._definitions){const k=h.createAttributeElement("a",y.attributes,{priority:5});y.classes&&h.addClass(y.classes,k);for(const E in y.styles)h.setStyle(E,y.styles[E],k);h.setCustomProperty("link",!0,k),y.callback(o.attributeNewValue)?o.item.is("selection")?h.wrap(g.getFirstRange(),k):h.wrap(a.mapper.toViewRange(o.range),k):h.unwrap(a.mapper.toViewRange(o.range),k)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,o,{writer:a,mapper:h})=>{const g=h.toViewElement(o.item),y=Array.from(g.getChildren()).find(k=>"a"===k.name);for(const k of this._definitions){const E=Bn(k.attributes);if(k.callback(o.attributeNewValue)){for(const[D,F]of E)"class"===D?a.addClass(F,y):a.setAttribute(D,F,y);k.classes&&a.addClass(k.classes,y);for(const D in k.styles)a.setStyle(D,k.styles[D],y)}else{for(const[D,F]of E)"class"===D?a.removeClass(F,y):a.removeAttribute(D,y);k.classes&&a.removeClass(k.classes,y);for(const D in k.styles)a.removeStyle(D,y)}}})}}}var My=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Dy=function(d){return My.test(d)};var Sy="\\ud800-\\udfff",zb="["+Sy+"]",Vb="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",L_="\\ud83c[\\udffb-\\udfff]",Ub="[^"+Sy+"]",Iy="(?:\\ud83c[\\udde6-\\uddff]){2}",Py="[\\ud800-\\udbff][\\udc00-\\udfff]",Oy="(?:"+Vb+"|"+L_+")?",B_="[\\ufe0e\\ufe0f]?",E0=B_+Oy+"(?:\\u200d(?:"+[Ub,Iy,Py].join("|")+")"+B_+Oy+")*",Ny="(?:"+[Ub+Vb+"?",Vb,Iy,Py,zb].join("|")+")",M0=RegExp(L_+"(?="+L_+")|"+Ny+E0,"g");const S0=function(e){e=Af(e);var t=Dy(e)?function(d){return Dy(d)?function(d){return d.match(M0)||[]}(d):function(d){return d.split("")}(d)}(e):void 0,o=t?t[0]:e.charAt(0),a=t?function(d,e,t){var o=d.length;return _d(d,1,t=void 0===t?o:t)}(t).join(""):e.slice(1);return o.toUpperCase()+a},I0=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,P0=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,O0=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,N0=/^((\w+:(\/{2,})?)|(\W))/i,j_="Ctrl+K";function Hb(d,{writer:e}){const t=e.createAttributeElement("a",{href:d},{priority:5});return e.setCustomProperty("link",!0,t),t}function Ry(d){return function(e){return e.replace(I0,"").match(P0)}(d=String(d))?d:"#"}function qb(d,e){return!!d&&e.checkAttribute(d.name,"linkHref")}function Gb(d,e){const t=O0.test(d)?"mailto:":e,a=!!t&&!Fy(d);return d&&a?t+d:d}function Fy(d){return N0.test(d)}function Ly(d){window.open(d,"_blank","noopener")}class R0 extends Me{constructor(e){super(e),this.manualDecorators=new Sn,this.automaticDecorators=new Ey}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,o=t.getSelectedElement()||mi(t.getSelectedBlocks());qb(o,e.schema)?(this.value=o.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(o,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const a of this.manualDecorators)a.value=this._getDecoratorStateFromModel(a.id)}execute(e,t={}){const o=this.editor.model,a=o.document.selection,h=[],g=[];for(const y in t)t[y]?h.push(y):g.push(y);o.change(y=>{if(a.isCollapsed){const k=a.getFirstPosition();if(a.hasAttribute("linkHref")){const E=mu(k,"linkHref",a.getAttribute("linkHref"),o);y.setAttribute("linkHref",e,E),h.forEach(D=>{y.setAttribute(D,!0,E)}),g.forEach(D=>{y.removeAttribute(D,E)}),y.setSelection(y.createPositionAfter(E.end.nodeBefore))}else if(""!==e){const E=Bn(a.getAttributes());E.set("linkHref",e),h.forEach(F=>{E.set(F,!0)});const{end:D}=o.insertContent(y.createText(e,E),k);y.setSelection(D)}["linkHref",...h,...g].forEach(E=>{y.removeSelectionAttribute(E)})}else{const k=o.schema.getValidRanges(a.getRanges(),"linkHref"),E=[];for(const F of a.getSelectedBlocks())o.schema.checkAttribute(F,"linkHref")&&E.push(y.createRangeOn(F));const D=E.slice();for(const F of k)this._isRangeToUpdate(F,E)&&D.push(F);for(const F of D)y.setAttribute("linkHref",e,F),h.forEach(Z=>{y.setAttribute(Z,!0,F)}),g.forEach(Z=>{y.removeAttribute(Z,F)})}})}_getDecoratorStateFromModel(e){const t=this.editor.model,o=t.document.selection,a=o.getSelectedElement();return qb(a,t.schema)?a.getAttribute(e):o.getAttribute(e)}_isRangeToUpdate(e,t){for(const o of t)if(o.containsRange(e))return!1;return!0}}class $b extends Me{refresh(){const e=this.editor.model,t=e.document.selection,o=t.getSelectedElement();this.isEnabled=qb(o,e.schema)?e.schema.checkAttribute(o,"linkHref"):e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const t=this.editor.model,o=t.document.selection,a=this.editor.commands.get("link");t.change(h=>{const g=o.isCollapsed?[mu(o.getFirstPosition(),"linkHref",o.getAttribute("linkHref"),t)]:t.schema.getValidRanges(o.getRanges(),"linkHref");for(const y of g)if(h.removeAttribute("linkHref",y),a)for(const k of a.manualDecorators)h.removeAttribute(k.id,y)})}}class z_{constructor({id:e,label:t,attributes:o,classes:a,styles:h,defaultValue:g}){this.id=e,this.set("value"),this.defaultValue=g,this.label=t,this.attributes=o,this.classes=a,this.styles=h}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}we(z_,Dn);var Wb=Ne(9773);Bi()(Wb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const By="automatic",F0=/^(https?:)?\/\//;class Yb extends fn{static get pluginName(){return"LinkEditing"}static get requires(){return[hd,cd,gu]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Hb}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(o,a)=>Hb(Ry(o),a)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:o=>o.getAttribute("href")}}),e.commands.add("link",new R0(e)),e.commands.add("unlink",new $b(e));const t=function(o,a){const h={"Open in a new tab":o("Open in a new tab"),Downloadable:o("Downloadable")};return a.forEach(g=>(g.label&&h[g.label]&&(g.label=h[g.label]),g)),a}(e.t,function(o){const a=[];if(o)for(const[h,g]of Object.entries(o)){const y=Object.assign({},g,{id:`link${S0(h)}`});a.push(y)}return a}(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(o=>o.mode===By)),this._enableManualDecorators(t.filter(o=>"manual"===o.mode)),e.plugins.get(hd).registerAttribute("linkHref"),function(o,a,h,g){const y=o.editing.view,k=new Set;y.document.registerPostFixer(E=>{const D=o.model.document.selection;let F=!1;if(D.hasAttribute(a)){const Z=mu(D.getFirstPosition(),a,D.getAttribute(a),o.model),ue=o.editing.mapper.toViewRange(Z);for(const Ae of ue.getItems())Ae.is("element","a")&&!Ae.hasClass(g)&&(E.addClass(g,Ae),k.add(Ae),F=!0)}return F}),o.conversion.for("editingDowncast").add(E=>{function D(){y.change(F=>{for(const Z of k.values())F.removeClass(g,Z),k.delete(Z)})}E.on("insert",D,{priority:"highest"}),E.on("remove",D,{priority:"highest"}),E.on("attribute",D,{priority:"highest"}),E.on("selection",D,{priority:"highest"})})}(e,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(e){const t=this.editor,o=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&o.add({id:"linkIsExternal",mode:By,callback:a=>F0.test(a),attributes:{target:"_blank",rel:"noopener noreferrer"}}),o.add(e),o.length&&t.conversion.for("downcast").add(o.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,o=t.commands.get("link").manualDecorators;e.forEach(a=>{t.model.schema.extend("$text",{allowAttributes:a.id}),a=new z_(a),o.add(a),t.conversion.for("downcast").attributeToElement({model:a.id,view:(h,{writer:g,schema:y},{item:k})=>{if((k.is("selection")||y.isInline(k))&&h){const E=g.createAttributeElement("a",a.attributes,{priority:5});a.classes&&g.addClass(a.classes,E);for(const D in a.styles)g.setStyle(D,a.styles[D],E);return g.setCustomProperty("link",!0,E),E}}}),t.conversion.for("upcast").elementToAttribute({view:un({name:"a"},a._createPattern()),model:{key:a.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(o,a)=>{if(!(Y_isMac?a.domEvent.metaKey:a.domEvent.ctrlKey))return;let h=a.domTarget;if("a"!=h.tagName.toLowerCase()&&(h=h.closest("a")),!h)return;const g=h.getAttribute("href");g&&(o.stop(),a.preventDefault(),Ly(g))},{context:"$capture"}),this.listenTo(t,"keydown",(o,a)=>{const h=e.commands.get("link").value;h&&a.keyCode===ci.enter&&a.altKey&&(o.stop(),Ly(h))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(e,"insertContent",()=>{const o=t.anchor.nodeBefore,a=t.anchor.nodeAfter;t.hasAttribute("linkHref")&&o&&o.hasAttribute("linkHref")&&(a&&a.hasAttribute("linkHref")||e.change(h=>{Kb(h,Jb(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(Ap);let o=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{o=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!o)return;o=!1;const a=t.document.selection;if(!a.isCollapsed||!a.hasAttribute("linkHref"))return;const h=a.getFirstPosition(),g=mu(h,"linkHref",a.getAttribute("linkHref"),t);(h.isTouching(g.start)||h.isTouching(g.end))&&t.change(y=>{Kb(y,Jb(t.schema))})})}_enableTypingOverLink(){const e=this.editor;let o,a;this.listenTo(e.editing.view.document,"delete",()=>{a=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const h=e.model.document.selection;h.isCollapsed||(a?a=!1:Qb(e)&&function(g){const y=g.document.selection,k=y.getFirstPosition(),E=y.getLastPosition(),D=k.nodeAfter;return!!(D&&D.is("$text")&&D.hasAttribute("linkHref"))&&(D===(E.textNode||E.nodeBefore)||mu(k,"linkHref",D.getAttribute("linkHref"),g).containsRange(g.createRange(k,E),!0))}(e.model)&&(o=h.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(h,[g])=>{a=!1,Qb(e)&&o&&(e.model.change(y=>{for(const[k,E]of o)y.setAttribute(k,E,g)}),o=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,o=t.document.selection;let h=!1,g=!1;this.listenTo(e.editing.view.document,"delete",(y,k)=>{g="backward"===k.direction},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{h=!1;const y=o.getFirstPosition(),k=o.getAttribute("linkHref");if(!k)return;const E=mu(y,"linkHref",k,t);h=E.containsPosition(y)||E.end.isEqual(y)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{g&&(g=!1,h||e.model.enqueueChange(y=>{Kb(y,Jb(t.schema))}))},{priority:"low"})}}function Kb(d,e){d.removeSelectionAttribute("linkHref");for(const t of e)d.removeSelectionAttribute(t)}function Qb(d){return d.model.change(e=>e.batch).isTyping}function Jb(d){return d.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var Xb=Ne(7754);Bi()(Xb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class jy extends jr{constructor(e,t){super(e);const o=e.t;this.focusTracker=new ei,this.keystrokes=new ar,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),Ns.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),Ns.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusables=new Rd,this._focusCycler=new kc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const a=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&a.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:a,tabindex:"-1"},children:this.children}),Cc(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),or({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new jg(this.locale,Qf);return t.label=e("Link URL"),t}_createButton(e,t,o,a){const h=new Po(this.locale);return h.set({label:e,icon:t,tooltip:!0}),h.extendTemplate({attributes:{class:o}}),a&&h.delegate("execute").to(this,a),h}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const o of e.manualDecorators){const a=new Bd(this.locale);a.set({name:o.id,label:o.label,withText:!0}),a.bind("isOn").toMany([o,e],"value",(h,g)=>void 0===g&&void 0===h?o.defaultValue:h),a.on("execute",()=>{o.set("value",!a.isOn)}),t.add(a)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const o=new jr;o.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(a=>({tag:"li",children:[a],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(o)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}var B0=Ne(2347);Bi()(B0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class b_ extends jr{constructor(e){super(e);const t=e.t;this.focusTracker=new ei,this.keystrokes=new ar,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(t("Edit link"),Ns.pencil,"edit"),this.set("href"),this._focusables=new Rd,this._focusCycler=new kc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,o){const a=new Po(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.delegate("execute").to(this,o),a}_createPreviewButton(){const e=new Po(this.locale),t=this.bindTemplate,o=this.t;return e.set({withText:!0,tooltip:o("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",a=>a&&Ry(a)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",a=>a||o("This link has no URL")),e.bind("isEnabled").to(this,"href",a=>!!a),e.template.tag="a",e.template.eventListeners={},e}}const _f="link-ui";class jm extends fn{static get requires(){return[Ud]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(Cg),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(Ud),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("editingDowncast").markerToHighlight({model:_f,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:_f,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const e=this.editor,t=new b_(e.locale),o=e.commands.get("link"),a=e.commands.get("unlink");return t.bind("href").to(o,"value"),t.editButtonView.bind("isEnabled").to(o),t.unlinkButtonView.bind("isEnabled").to(a),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(h,g)=>{this._hideUI(),g()}),t.keystrokes.set(j_,(h,g)=>{this._addFormView(),g()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),o=e.config.get("link.defaultProtocol"),a=new jy(e.locale,t);return a.urlInputView.fieldView.bind("value").to(t,"value"),a.urlInputView.bind("isReadOnly").to(t,"isEnabled",h=>!h),a.saveButtonView.bind("isEnabled").to(t),this.listenTo(a,"submit",()=>{const{value:h}=a.urlInputView.fieldView.element,g=Gb(h,o);e.execute("link",g,a.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(a,"cancel",()=>{this._closeFormView()}),a.keystrokes.set("Esc",(h,g)=>{this._closeFormView(),g()}),a}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),o=e.t;e.keystrokes.set(j_,(a,h)=>{h(),t.isEnabled&&this._showUI(!0)}),e.ui.componentFactory.add("link",a=>{const h=new Po(a);return h.isEnabled=!0,h.label=o("Link"),h.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',h.keystroke=j_,h.tooltip=!0,h.isToggleable=!0,h.bind("isEnabled").to(t,"isEnabled"),h.bind("isOn").to(t,"value",g=>!!g),this.listenTo(h,"execute",()=>this._showUI(!0)),h})}_enableUserBalloonInteractions(){this.listenTo(this.editor.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(t,o)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),o())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,o)=>{this._isUIVisible&&(this._hideUI(),o())}),wh({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let o=this._getSelectedLinkElement(),a=g();const h=()=>{const y=this._getSelectedLinkElement(),k=g();o&&!y||!o&&k!==a?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),o=y,a=k};function g(){return t.selection.focus.getAncestors().reverse().find(y=>y.is("element"))}this.listenTo(e.ui,"update",h),this.listenTo(this._balloon,"change:visibleView",h)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,o=e.document;let a=null;if(this.editor.model.markers.has(_f)){const h=Array.from(this.editor.editing.mapper.markerNameToElements(_f)),g=e.createRange(e.createPositionBefore(h[0]),e.createPositionAfter(h[h.length-1]));a=e.domConverter.viewRangeToDom(g)}else a=()=>{const h=this._getSelectedLinkElement();return h?e.domConverter.mapViewToDom(h):e.domConverter.viewRangeToDom(o.selection.getFirstRange())};return{target:a}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,o=t.getSelectedElement();if(t.isCollapsed||o&&ti(o))return Xg(t.getFirstPosition());{const a=t.getFirstRange().getTrimmed(),h=Xg(a.start),g=Xg(a.end);return h&&h==g&&e.createRangeIn(h).getTrimmed().isEqual(a)?h:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const o=e.document.selection.getFirstRange();if(e.markers.has(_f))t.updateMarker(_f,{range:o});else if(o.start.isAtEnd){const a=o.start.getLastMatchingPosition(({item:h})=>!e.schema.isContent(h),{boundaries:o});t.addMarker(_f,{usingOperation:!1,affectsData:!1,range:t.createRange(a,o.end)})}else t.addMarker(_f,{usingOperation:!1,affectsData:!1,range:o})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(_f)&&e.change(t=>{t.removeMarker(_f)})}}function Xg(d){return d.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})}const z0=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class jC extends fn{static get requires(){return[zu]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new tp(e.model,o=>{if(!((h=o).length>4&&" "===h[h.length-1]&&" "!==h[h.length-2]))return;var h;const a=ev(o.substr(0,o.length-1));return a?{url:a}:void 0});t.on("matched:data",(o,a)=>{const{batch:h,range:g,url:y}=a;if(!h.isTyping)return;const k=g.end.getShiftedBy(-1),E=k.getShiftedBy(-y.length),D=e.model.createRange(E,k);this._applyAutoLink(y,D)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,o=e.commands.get("enter");o&&o.on("execute",()=>{const a=t.document.selection.getFirstPosition();if(!a.parent.previousSibling)return;const h=t.createRangeIn(a.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(h)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,o=e.commands.get("shiftEnter");o&&o.on("execute",()=>{const a=t.document.selection.getFirstPosition(),h=t.createRange(t.createPositionAt(a.parent,0),a.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(h)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:o,range:a}=zp(e,t),h=ev(o);if(h){const g=t.createRange(a.end.getShiftedBy(-h.length),a.end);this._applyAutoLink(h,g)}}_applyAutoLink(e,t){const o=this.editor.model,a=Gb(e,this.editor.config.get("link.defaultProtocol"));var g;this.isEnabled&&(g=o).schema.checkAttributeInSelection(g.createSelection(t),"linkHref")&&Fy(a)&&!function(h){const g=h.start.nodeAfter;return g&&g.hasAttribute("linkHref")}(t)&&this._persistAutoLink(a,t)}_persistAutoLink(e,t){const o=this.editor.model,a=this.editor.plugins.get("Delete");o.enqueueChange(h=>{h.setAttribute("linkHref",e,t),o.enqueueChange(()=>{a.requestUndoOnBackspace()})})}}function ev(d){const e=z0.exec(d);return e?e[2]:null}class zy extends Me{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,a=Array.from(t.document.selection.getSelectedBlocks()).filter(g=>Uy(g,t.schema)),h=void 0!==e.forceValue?!e.forceValue:this.value;t.change(g=>{if(h){let y=a[a.length-1].nextSibling,k=Number.POSITIVE_INFINITY,E=[];for(;y&&"listItem"==y.name&&0!==y.getAttribute("listIndent");){const D=y.getAttribute("listIndent");D<k&&(k=D),E.push({element:y,listIndent:D-k}),y=y.nextSibling}E=E.reverse();for(const D of E)g.setAttribute("listIndent",D.listIndent,D.element)}if(!h){let y=Number.POSITIVE_INFINITY;for(const k of a)k.is("element","listItem")&&k.getAttribute("listIndent")<y&&(y=k.getAttribute("listIndent"));y=0===y?1:y,Vy(a,!0,y),Vy(a,!1,y)}for(const y of a.reverse())h&&"listItem"==y.name?g.rename(y,"paragraph"):h||"listItem"==y.name?h||"listItem"!=y.name||y.getAttribute("listType")==this.type||g.setAttribute("listType",this.type,y):(g.setAttributes({listType:this.type,listIndent:0},y),g.rename(y,"listItem"));this.fire("_executeCleanup",a)})}_getValue(){const e=mi(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.schema,o=mi(this.editor.model.document.selection.getSelectedBlocks());return!!o&&Uy(o,t)}}function Vy(d,e,t){const o=e?d[0]:d[d.length-1];if(o.is("element","listItem")){let a=o[e?"previousSibling":"nextSibling"],h=o.getAttribute("listIndent");for(;a&&a.is("element","listItem")&&a.getAttribute("listIndent")>=t;)h>a.getAttribute("listIndent")&&(h=a.getAttribute("listIndent")),a.getAttribute("listIndent")==h&&d[e?"unshift":"push"](a),a=a[e?"previousSibling":"nextSibling"]}}function Uy(d,e){return e.checkChild(d.parent,"listItem")&&!e.isObject(d)}class Hy extends Me{constructor(e,t){super(e),this._indentBy="forward"==t?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model;let o=Array.from(e.document.selection.getSelectedBlocks());e.change(a=>{const h=o[o.length-1];let g=h.nextSibling;for(;g&&"listItem"==g.name&&g.getAttribute("listIndent")>h.getAttribute("listIndent");)o.push(g),g=g.nextSibling;this._indentBy<0&&(o=o.reverse());for(const y of o){const k=y.getAttribute("listIndent")+this._indentBy;k<0?a.rename(y,"paragraph"):a.setAttribute("listIndent",k,y)}this.fire("_executeCleanup",o)})}_checkEnabled(){const e=mi(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),o=e.getAttribute("listType");let a=e.previousSibling;for(;a&&a.is("element","listItem")&&a.getAttribute("listIndent")>=t;){if(a.getAttribute("listIndent")==t)return a.getAttribute("listType")==o;a=a.previousSibling}return!1}return!0}}function tv(d,e,t,o){const a=e.parent,h=t.mapper,g=t.writer;let y=h.toViewPosition(o.createPositionBefore(d));const k=zm(d.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:d.getAttribute("listIndent")}),E=d.previousSibling;if(k&&k.getAttribute("listIndent")==d.getAttribute("listIndent")){const D=h.toViewElement(k);y=g.breakContainer(g.createPositionAfter(D))}else if(E&&"listItem"==E.name){y=h.toViewPosition(o.createPositionAt(E,"end"));const D=h.findMappedViewAncestor(y),F=function(Z){for(const ue of Z.getChildren())if("ul"==ue.name||"ol"==ue.name)return ue;return null}(D);y=F?g.createPositionBefore(F):g.createPositionAt(D,"end")}else y=h.toViewPosition(o.createPositionBefore(d));if(y=v_(y),g.insert(y,a),E&&"listItem"==E.name){const D=h.toViewElement(E),F=g.createRange(g.createPositionAt(D,0),y).getWalker({ignoreElementEnd:!0});for(const Z of F)if(Z.item.is("element","li")){const ue=g.breakContainer(g.createPositionBefore(Z.item)),Ae=Z.item.parent,Pe=g.createPositionAt(e,"end");Vu(g,Pe.nodeBefore,Pe.nodeAfter),g.move(g.createRangeOn(Ae),Pe),F.position=ue}}else{const D=a.nextSibling;if(D&&(D.is("element","ul")||D.is("element","ol"))){let F=null;for(const Z of D.getChildren()){const ue=h.toModelElement(Z);if(!(ue&&ue.getAttribute("listIndent")>d.getAttribute("listIndent")))break;F=Z}F&&(g.breakContainer(g.createPositionAfter(F)),g.move(g.createRangeOn(F.parent),g.createPositionAt(e,"end")))}}Vu(g,a,a.nextSibling),Vu(g,a.previousSibling,a)}function Vu(d,e,t){return!e||!t||"ul"!=e.name&&"ol"!=e.name||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:d.mergeContainers(d.createPositionAfter(e))}function v_(d){return d.getLastMatchingPosition(e=>e.item.is("uiElement"))}function zm(d,e){const t=!!e.sameIndent,o=!!e.smallerIndent,a=e.listIndent;let h=d;for(;h&&"listItem"==h.name;){const g=h.getAttribute("listIndent");if(t&&a==g||o&&a>g)return h;h="forward"===e.direction?h.nextSibling:h.previousSibling}return null}function Gy(d,e,t,o){d.ui.componentFactory.add(e,a=>{const h=d.commands.get(e),g=new Po(a);return g.set({label:t,icon:o,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(h,"value","isEnabled"),g.on("execute",()=>{d.execute(e),d.editing.view.focus()}),g})}function V_(d,e){const t=[],o=d.parent,a={ignoreElementEnd:!1,startPosition:d,shallow:!0,direction:e},h=o.getAttribute("listIndent"),g=[...new Oa(a)].filter(y=>y.item.is("element")).map(y=>y.item);for(const y of g){if(!y.is("element","listItem")||y.getAttribute("listIndent")<h)break;if(!(y.getAttribute("listIndent")>h)){if(y.getAttribute("listType")!==o.getAttribute("listType")||y.getAttribute("listStyle")!==o.getAttribute("listStyle")||y.getAttribute("listReversed")!==o.getAttribute("listReversed")||y.getAttribute("listStart")!==o.getAttribute("listStart"))break;"backward"===e?t.unshift(y):t.push(y)}}return t}const $y=["disc","circle","square"],V0=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function U0(){const d=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||d?0:Ef.call(this)}class H0 extends fn{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return function(t){return $y.includes(t)?"bulleted":V0.includes(t)?"numbered":null}(e)}getSelectedListItems(e){return function(t){let o=[...t.document.selection.getSelectedBlocks()].filter(a=>a.is("element","listItem")).map(a=>{const h=t.change(g=>g.createPositionAt(a,0));return[...V_(h,"backward"),...V_(h,"forward")]}).flat();return o=[...new Set(o)],o}(e)}getSiblingNodes(e,t){return V_(e,t)}}function U_(d){return(e,t,o)=>{const a=o.consumable;if(!a.test(t.item,"insert")||!a.test(t.item,"attribute:listType")||!a.test(t.item,"attribute:listIndent"))return;a.consume(t.item,"insert"),a.consume(t.item,"attribute:listType"),a.consume(t.item,"attribute:listIndent");const h=t.item;tv(h,function(d,e){const t=e.mapper,o=e.writer,a="numbered"==d.getAttribute("listType")?"ol":"ul",h=function(y){const k=y.createContainerElement("li");return k.getFillerOffset=U0,k}(o),g=o.createContainerElement(a,null);return o.insert(o.createPositionAt(g,0),h),t.bindElements(d,h),h}(h,o),o,d)}}function q0(d,e,t){if(!t.consumable.test(e.item,d.name))return;const o=t.mapper.toViewElement(e.item),a=t.writer;a.breakContainer(a.createPositionBefore(o)),a.breakContainer(a.createPositionAfter(o)),a.rename("numbered"==e.attributeNewValue?"ol":"ul",o.parent)}function zC(d,e,t){t.consumable.consume(e.item,d.name);const o=t.mapper.toViewElement(e.item).parent,a=t.writer;Vu(a,o,o.nextSibling),Vu(a,o.previousSibling,o)}function Wy(d,e,t){if(t.consumable.test(e.item,d.name)&&"listItem"!=e.item.name){let o=t.mapper.toViewPosition(e.range.start);const a=t.writer,h=[];for(;("ul"==o.parent.name||"ol"==o.parent.name)&&(o=a.breakContainer(o),"li"==o.parent.name);){const g=o,y=a.createPositionAt(o.parent,"end");if(!g.isEqual(y)){const k=a.remove(a.createRange(g,y));h.push(k)}o=a.createPositionAfter(o.parent)}if(h.length>0){for(let g=0;g<h.length;g++){const y=o.nodeBefore;if(o=a.insert(o,h[g]).end,g>0){const k=Vu(a,y,y.nextSibling);k&&k.parent==y&&o.offset--}}Vu(a,o.nodeBefore,o.nodeAfter)}}}function G0(d,e,t){const o=t.mapper.toViewPosition(e.position);Vu(t.writer,o.nodeBefore,o.nodeAfter)}function Vm(d,e,t){if(t.consumable.consume(e.viewItem,{name:!0})){const o=t.writer,a=o.createElement("listItem"),h=function(k){let E=0,D=k.parent;for(;D;){if(D.is("element","li"))E++;else{const F=D.previousSibling;F&&F.is("element","li")&&E++}D=D.parent}return E}(e.viewItem);if(o.setAttribute("listIndent",h,a),o.setAttribute("listType",e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted",a),!t.safeInsert(a,e.modelCursor))return;const y=function(k,E,D){const{writer:F,schema:Z}=D;let ue=F.createPositionAfter(k);for(const Ae of E)if("ul"==Ae.name||"ol"==Ae.name)ue=D.convertItem(Ae,ue).modelCursor;else{const Pe=D.convertItem(Ae,F.createPositionAt(k,"end")),Ge=Pe.modelRange.start.nodeAfter;Ge&&Ge.is("element")&&!Z.checkChild(k,Ge.name)&&(k=Pe.modelCursor.parent.is("element","listItem")?Pe.modelCursor.parent:W0(Pe.modelCursor),ue=F.createPositionAfter(k))}return ue}(a,e.viewItem.getChildren(),t);e.modelRange=o.createRange(e.modelCursor,y),t.updateConversionResult(a,e)}}function nv(d,e,t){if(t.consumable.test(e.viewItem,{name:!0})){const o=Array.from(e.viewItem.getChildren());for(const a of o)!a.is("element","li")&&!em(a)&&a._remove()}}function Um(d,e,t){if(t.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const o=[...e.viewItem.getChildren()];let a=!1;for(const h of o)a&&!em(h)&&h._remove(),em(h)&&(a=!0)}}function $0(d){return(e,t)=>{if(t.isPhantom)return;const o=t.modelPosition.nodeBefore;if(o&&o.is("element","listItem")){const a=t.mapper.toViewElement(o),h=a.getAncestors().find(em),g=d.createPositionAt(a,0).getWalker();for(const y of g){if("elementStart"==y.type&&y.item.is("element","li")){t.viewPosition=y.previousPosition;break}if("elementEnd"==y.type&&y.item==h){t.viewPosition=y.nextPosition;break}}}}}function Zy(d,[e,t,o]){let a,h=e.is("documentFragment")?e.getChild(0):e;if(a=t?this.createSelection(t,o):this.document.selection,h&&h.is("element","listItem")){const g=a.getFirstPosition();let y=null;if(g.parent.is("element","listItem")?y=g.parent:g.nodeBefore&&g.nodeBefore.is("element","listItem")&&(y=g.nodeBefore),y){const k=y.getAttribute("listIndent");if(k>0)for(;h&&h.is("element","listItem");)h._setAttribute("listIndent",h.getAttribute("listIndent")+k),h=h.nextSibling}}}function W0(d){const e=new Oa({startPosition:d});let t;do{t=e.next()}while(!t.value.item.is("element","listItem"));return t.value.item}function Z0(d,e,t,o,a,h){const g=zm(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:d,foo:"b"}),y=a.mapper,k=a.writer,E=g?g.getAttribute("listIndent"):null;let D;if(g)if(E==d){const F=y.toViewElement(g).parent;D=k.createPositionAfter(F)}else{const F=h.createPositionAt(g,"end");D=y.toViewPosition(F)}else D=t;D=v_(D);for(const F of[...o.getChildren()])em(F)&&(D=k.move(k.createRangeOn(F),D).end,Vu(k,F,F.nextSibling),Vu(k,F.previousSibling,F))}function em(d){return d.is("element","ol")||d.is("element","ul")}class VC extends fn{static get pluginName(){return"ListEditing"}static get requires(){return[te,zu,H0]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,o=e.editing;var a;e.model.document.registerPostFixer(g=>function(y,k){const E=y.document.differ.getChanges(),D=new Map;let F=!1;for(const Pe of E)if("insert"==Pe.type&&"listItem"==Pe.name)Z(Pe.position);else if("insert"==Pe.type&&"listItem"!=Pe.name){if("$text"!=Pe.name){const Ge=Pe.position.nodeAfter;Ge.hasAttribute("listIndent")&&(k.removeAttribute("listIndent",Ge),F=!0),Ge.hasAttribute("listType")&&(k.removeAttribute("listType",Ge),F=!0),Ge.hasAttribute("listStyle")&&(k.removeAttribute("listStyle",Ge),F=!0),Ge.hasAttribute("listReversed")&&(k.removeAttribute("listReversed",Ge),F=!0),Ge.hasAttribute("listStart")&&(k.removeAttribute("listStart",Ge),F=!0);for(const mt of Array.from(y.createRangeIn(Ge)).filter(Ot=>Ot.item.is("element","listItem")))Z(mt.previousPosition)}Z(Pe.position.getShiftedBy(Pe.length))}else"remove"==Pe.type&&"listItem"==Pe.name?Z(Pe.position):("attribute"==Pe.type&&"listIndent"==Pe.attributeKey||"attribute"==Pe.type&&"listType"==Pe.attributeKey)&&Z(Pe.range.start);for(const Pe of D.values())ue(Pe),Ae(Pe);return F;function Z(Pe){const Ge=Pe.nodeBefore;if(Ge&&Ge.is("element","listItem")){let mt=Ge;if(D.has(mt))return;for(let Ot=mt.previousSibling;Ot&&Ot.is("element","listItem");Ot=mt.previousSibling)if(mt=Ot,D.has(mt))return;D.set(Ge,mt)}else{const mt=Pe.nodeAfter;mt&&mt.is("element","listItem")&&D.set(mt,mt)}}function ue(Pe){let Ge=0,mt=null;for(;Pe&&Pe.is("element","listItem");){const Ot=Pe.getAttribute("listIndent");if(Ot>Ge){let tn;null===mt?(mt=Ot-Ge,tn=Ge):(mt>Ot&&(mt=Ot),tn=Ot-mt),k.setAttribute("listIndent",tn,Pe),F=!0}else mt=null,Ge=Pe.getAttribute("listIndent")+1;Pe=Pe.nextSibling}}function Ae(Pe){let Ge=[],mt=null;for(;Pe&&Pe.is("element","listItem");){const Ot=Pe.getAttribute("listIndent");if(mt&&mt.getAttribute("listIndent")>Ot&&(Ge=Ge.slice(0,Ot+1)),0!=Ot)if(Ge[Ot]){const tn=Ge[Ot];Pe.getAttribute("listType")!=tn&&(k.setAttribute("listType",tn,Pe),F=!0)}else Ge[Ot]=Pe.getAttribute("listType");mt=Pe,Pe=Pe.nextSibling}}}(e.model,g)),o.mapper.registerViewToModelLength("li",H_),t.mapper.registerViewToModelLength("li",H_),o.mapper.on("modelToViewPosition",$0(o.view)),o.mapper.on("viewToModelPosition",(a=e.model,(g,y)=>{const k=y.viewPosition,E=k.parent,D=y.mapper;if("ul"==E.name||"ol"==E.name){if(k.isAtEnd){const F=D.toModelElement(k.nodeBefore),Z=D.getModelLength(k.nodeBefore);y.modelPosition=a.createPositionBefore(F).getShiftedBy(Z)}else{const F=D.toModelElement(k.nodeAfter);y.modelPosition=a.createPositionBefore(F)}g.stop()}else if("li"==E.name&&k.nodeBefore&&("ul"==k.nodeBefore.name||"ol"==k.nodeBefore.name)){const F=D.toModelElement(E);let Z=1,ue=k.nodeBefore;for(;ue&&em(ue);)Z+=D.getModelLength(ue),ue=ue.previousSibling;y.modelPosition=a.createPositionBefore(F).getShiftedBy(Z),g.stop()}})),t.mapper.on("modelToViewPosition",$0(o.view)),e.conversion.for("editingDowncast").add(g=>{var y;g.on("insert",Wy,{priority:"high"}),g.on("insert:listItem",U_(e.model)),g.on("attribute:listType:listItem",q0,{priority:"high"}),g.on("attribute:listType:listItem",zC,{priority:"low"}),g.on("attribute:listIndent:listItem",(y=e.model,(k,E,D)=>{if(!D.consumable.consume(E.item,"attribute:listIndent"))return;const F=D.mapper.toViewElement(E.item),Z=D.writer;Z.breakContainer(Z.createPositionBefore(F)),Z.breakContainer(Z.createPositionAfter(F));const ue=F.parent,Ae=ue.previousSibling,Pe=Z.createRangeOn(ue);Z.remove(Pe),Ae&&Ae.nextSibling&&Vu(Z,Ae,Ae.nextSibling),Z0(E.attributeOldValue+1,E.range.start,Pe.start,F,D,y),tv(E.item,F,D,y);for(const Ge of E.item.getChildren())D.consumable.consume(Ge,"insert")})),g.on("remove:listItem",function(y){return(k,E,D)=>{const F=D.mapper.toViewPosition(E.position).getLastMatchingPosition(mt=>!mt.item.is("element","li")).nodeAfter,Z=D.writer;Z.breakContainer(Z.createPositionBefore(F)),Z.breakContainer(Z.createPositionAfter(F));const ue=F.parent,Ae=ue.previousSibling,Pe=Z.createRangeOn(ue),Ge=Z.remove(Pe);Ae&&Ae.nextSibling&&Vu(Z,Ae,Ae.nextSibling),Z0(D.mapper.toModelElement(F).getAttribute("listIndent")+1,E.position,Pe.start,F,D,y);for(const mt of Z.createRangeIn(Ge).getItems())D.mapper.unbindViewElement(mt);k.stop()}}(e.model)),g.on("remove",G0,{priority:"low"})}),e.conversion.for("dataDowncast").add(g=>{g.on("insert",Wy,{priority:"high"}),g.on("insert:listItem",U_(e.model))}),e.conversion.for("upcast").add(g=>{g.on("element:ul",nv,{priority:"high"}),g.on("element:ol",nv,{priority:"high"}),g.on("element:li",Um,{priority:"high"}),g.on("element:li",Vm)}),e.model.on("insertContent",Zy,{priority:"high"}),e.commands.add("numberedList",new zy(e,"numbered")),e.commands.add("bulletedList",new zy(e,"bulleted")),e.commands.add("indentList",new Hy(e,"forward")),e.commands.add("outdentList",new Hy(e,"backward"));const h=o.view.document;this.listenTo(h,"enter",(g,y)=>{const k=this.editor.model.document,E=k.selection.getLastPosition().parent;k.selection.isCollapsed&&"listItem"==E.name&&E.isEmpty&&(this.editor.execute("outdentList"),y.preventDefault(),g.stop())},{context:"li"}),this.listenTo(h,"delete",(g,y)=>{if("backward"!==y.direction)return;const k=this.editor.model.document.selection;if(!k.isCollapsed)return;const E=k.getFirstPosition();if(!E.isAtStart)return;const D=E.parent;"listItem"===D.name&&(D.previousSibling&&"listItem"===D.previousSibling.name||(this.editor.execute("outdentList"),y.preventDefault(),g.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(g,y)=>{const k=y.shiftKey?"outdentList":"indentList";this.editor.commands.get(k).isEnabled&&(e.execute(k),y.stopPropagation(),y.preventDefault(),g.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),o=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),o&&o.registerChildCommand(e.get("outdentList"))}}function H_(d){let e=1;for(const t of d.getChildren())if("ul"==t.name||"ol"==t.name)for(const o of t.getChildren())e+=H_(o);return e}class iv extends fn{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;Gy(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Gy(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function rv(d,e){return o=>{o.on("attribute:url:media",t)};function t(o,a,h){if(!h.consumable.consume(a.item,o.name))return;const g=a.attributeNewValue,y=h.writer,k=h.mapper.toViewElement(a.item),E=[...k.getChildren()].find(F=>F.getCustomProperty("media-content"));y.remove(E);const D=d.getMediaViewElement(y,g,e);y.insert(y.createPositionAt(k,0),D)}}function ov(d,e,t,o){return d.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(d,t,o),d.createSlot()])}function sv(d){const e=d.getSelectedElement();return e&&e.is("element","media")?e:null}function Yy(d,e,t,o){d.change(a=>{const h=a.createElement("media",{url:e});d.insertObject(h,t,null,{setSelection:"on",findOptimalPosition:o})})}class Y0 extends Me{refresh(){const e=this.editor.model,t=e.document.selection,o=sv(t);this.value=o?o.getAttribute("url"):null,this.isEnabled=function(a){const h=a.getSelectedElement();return!!h&&"media"===h.name}(t)||function(a,h){let y=s(a,h).start.parent;return y.isEmpty&&!h.schema.isLimit(y)&&(y=y.parent),h.schema.checkChild(y,"media")}(t,e)}execute(e){const t=this.editor.model,o=t.document.selection,a=sv(o);a?t.change(h=>{h.setAttribute("url",e,a)}):Yy(t,e,o,!0)}}class K0{constructor(e,t){const o=t.providers,a=t.extraProviders||[],h=new Set(t.removeProviders),g=o.concat(a).filter(y=>{const k=y.name;return k?!h.has(k):(Mt("media-embed-no-provider-name",{provider:y}),!1)});this.locale=e,this.providerDefinitions=g}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,o){return this._getMedia(t).getViewElement(e,o)}_getMedia(e){if(!e)return new Ky(this.locale);e=e.trim();for(const t of this.providerDefinitions){const o=t.html,a=ae(t.url);for(const h of a){const g=this._getUrlMatches(e,h);if(g)return new Ky(this.locale,e,g,o)}}return null}_getUrlMatches(e,t){let o=e.match(t);if(o)return o;let a=e.replace(/^https?:\/\//,"");return o=a.match(t),o||(a=a.replace(/^www\./,""),o=a.match(t),o||null)}}class Ky{constructor(e,t,o,a){this.url=this._getValidUrl(t),this._locale=e,this._match=o,this._previewRenderer=a}getViewElement(e,t){const o={};let a;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(o["data-oembed-url"]=this.url),t.renderForEditingView&&(o.class="ck-media__wrapper");const h=this._getPreviewHtml(t);a=e.createRawElement("div",o,(g,y)=>{y.setContentOf(g,h)})}else this.url&&(o.url=this.url),a=e.createEmptyElement(t.elementName,o);return e.setCustomProperty("media-content",!0,a),a}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Ip,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new ba({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var Qy=Ne(7442);Bi()(Qy.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class q_ extends fn{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const a=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${t[1]}${a?`?start=${a}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new K0(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,o=e.t,a=e.conversion,h=e.config.get("mediaEmbed.previewsInData"),g=e.config.get("mediaEmbed.elementName"),y=this.registry;e.commands.add("mediaEmbed",new Y0(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),a.for("dataDowncast").elementToStructure({model:"media",view:(k,{writer:E})=>{const D=k.getAttribute("url");return ov(E,y,D,{elementName:g,renderMediaPreview:D&&h})}}),a.for("dataDowncast").add(rv(y,{elementName:g,renderMediaPreview:h})),a.for("editingDowncast").elementToStructure({model:"media",view:(k,{writer:E})=>{const D=k.getAttribute("url");return F=ov(E,y,D,{elementName:g,renderForEditingView:!0}),Z=E,ue=o("media widget"),Z.setCustomProperty("media",!0,F),lr(F,Z,{label:ue});var F,Z,ue}}),a.for("editingDowncast").add(rv(y,{elementName:g,renderForEditingView:!0})),a.for("upcast").elementToElement({view:k=>["oembed",g].includes(k.name)&&k.getAttribute("url")?{name:!0}:null,model:(k,{writer:E})=>{const D=k.getAttribute("url");if(y.hasMedia(D))return E.createElement("media",{url:D})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(k,{writer:E})=>{const D=k.getAttribute("data-oembed-url");if(y.hasMedia(D))return E.createElement("media",{url:D})}}).add(k=>{k.on("element:figure",function(E,D,F){if(!F.consumable.consume(D.viewItem,{name:!0,classes:"media"}))return;const{modelRange:Z,modelCursor:ue}=F.convertChildren(D.viewItem,D.modelCursor);D.modelRange=Z,D.modelCursor=ue,mi(Z.getItems())||F.consumable.revert(D.viewItem,{name:!0,classes:"media"})})})}}const y_=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Jy extends fn{static get requires(){return[cb,zu,jv]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document;this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const o=t.selection.getFirstRange(),a=Ba.fromPosition(o.start);a.stickiness="toPrevious";const h=Ba.fromPosition(o.end);h.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(a,h),a.detach(),h.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(ui.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const o=this.editor,a=o.plugins.get(q_).registry,h=new pc(e,t),g=h.getWalker({ignoreElementEnd:!0});let y="";for(const k of g)k.item.is("$textProxy")&&(y+=k.item.data);y=y.trim(),y.match(y_)&&a.hasMedia(y)&&o.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Ba.fromPosition(e),this._timeoutId=ui.window.setTimeout(()=>{o.model.change(k=>{let E;this._timeoutId=null,k.remove(h),h.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(E=this._positionToInsert),Yy(o.model,y,E,!1),this._positionToInsert.detach(),this._positionToInsert=null}),o.plugins.get("Delete").requestUndoOnBackspace()},100)):h.detach()}}var av=Ne(9292);Bi()(av.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ew extends jr{constructor(e,t){super(t);const o=t.t;this.focusTracker=new ei,this.keystrokes=new ar,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),Ns.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",a=>!!a),this.cancelButtonView=this._createButton(o("Cancel"),Ns.cancel,"ck-button-cancel","cancel"),this._focusables=new Rd,this._focusCycler=new kc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),Cc(this)}render(){super.render(),or({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(this.urlInputView.element,"selectstart",(t,o)=>{o.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new jg(this.locale,Qf),o=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,o.on("input",()=>{t.infoText=o.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=o.element.value.trim()}),t}_createButton(e,t,o,a){const h=new Po(this.locale);return h.set({label:e,icon:t,tooltip:!0}),h.extendTemplate({attributes:{class:o}}),a&&h.delegate("execute").to(this,a),h}}class tw extends fn{static get requires(){return[q_]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed"),o=e.plugins.get(q_).registry;e.ui.componentFactory.add("mediaEmbed",a=>{const h=jd(a),g=new ew((y=e.t,k=o,[E=>{if(!E.url.length)return y("The URL must not be empty.")},E=>{if(!k.hasMedia(E.url))return y("This media URL is not supported.")}]),e.locale);var y,k;return this._setUpDropdown(h,g,t,e),this._setUpForm(h,g,t),h})}_setUpDropdown(e,t,o){const a=this.editor,h=a.t,g=e.buttonView;e.bind("isEnabled").to(o),e.panelView.children.add(t),g.set({label:h("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),g.on("open",()=>{t.disableCssTransitions(),t.url=o.value||"",t.urlInputView.fieldView.select(),t.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{t.isValid()&&(a.execute("mediaEmbed",t.url),a.editing.view.focus())}),e.on("change:isOpen",()=>t.resetFormStatus()),e.on("cancel",()=>{a.editing.view.focus()})}_setUpForm(e,t,o){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(o,"value"),t.urlInputView.bind("isReadOnly").to(o,"isEnabled",a=>!a)}}var lv=Ne(4652);function cv(d,e,t,{blockElements:o,inlineObjectElements:a}){let h=t.createPositionAt(d,"forward"==e?"after":"before");return h=h.getLastMatchingPosition(({item:g})=>g.is("element")&&!o.includes(g.name)&&!a.includes(g.name),{direction:e}),"forward"==e?h.nodeAfter:h.nodeBefore}function nw(d,e){return!!d&&d.is("element")&&e.includes(d.name)}function eC(d){if(d.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(d){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return d;default:return null}}function iw(d,e,t){const o=e.parent,a=t.createElement(d.type),h=o.getChildIndex(e)+1;return t.insertChild(h,a,o),d.style&&t.setStyle("list-style-type",d.style,a),d.startIndex&&d.startIndex>1&&t.setAttribute("start",d.startIndex,a),a}function w_(d){const e={},t=d.getStyle("mso-list");if(t){const o=t.match(/(^|\s{1,100})l(\d+)/i),a=t.match(/\s{0,100}lfo(\d+)/i),h=t.match(/\s{0,100}level(\d+)/i);o&&a&&h&&(e.id=o[2],e.order=a[1],e.indent=h[1])}return e}Bi()(lv.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const tC=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class uv{constructor(e){this.document=e}isActive(e){return tC.test(e)}execute(e){const t=new of(this.document),{body:o}=e._parsedData;(function(a,h){for(const g of a.getChildren())if(g.is("element","b")&&"normal"===g.getStyle("font-weight")){const y=a.getChildIndex(g);h.remove(g),h.insertChild(y,g.getChildren(),a)}})(o,t),function(a,h){for(const g of h.createRangeIn(a)){const y=g.item;if(y.is("element","li")){const k=y.getChild(0);k&&k.is("element","p")&&h.unwrapElement(k)}}}(o,t),function(a,h){const g=new Dr(h.document.stylesProcessor),y=new ki(g,{renderingMode:"data"}),k=y.blockElements,E=y.inlineObjectElements,D=[];for(const F of h.createRangeIn(a)){const Z=F.item;if(Z.is("element","br")){const ue=cv(Z,"forward",h,{blockElements:k,inlineObjectElements:E}),Ae=cv(Z,"backward",h,{blockElements:k,inlineObjectElements:E}),Pe=nw(ue,k);(nw(Ae,k)||Pe)&&D.push(Z)}}for(const F of D)F.hasClass("Apple-interchange-newline")?h.remove(F):h.replace(F,h.createElement("p"))}(o,t),e.content=o}}function nC(d){return btoa(d.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const dv=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,C_=/xmlns:o="urn:schemas-microsoft-com/i;class iC{constructor(e){this.document=e}isActive(e){return dv.test(e)||C_.test(e)}execute(e){const{body:t,stylesString:o}=e._parsedData;(function(d,e){if(!d.childCount)return;const t=new of(d.document),o=function(g,y){const k=y.createRangeIn(g),E=new Ts({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),D=[];for(const F of k)if("elementStart"===F.type&&E.match(F.item)){const Z=w_(F.item);D.push({element:F.item,id:Z.id,order:Z.order,indent:Z.indent})}return D}(d,t);if(!o.length)return;let a=null,h=1;o.forEach((g,y)=>{const k=function(Ae,Pe){if(!Ae)return!0;if(Ae.id!==Pe.id)return Pe.indent-Ae.indent!=1;const Ge=Pe.element.previousSibling;return!Ge||!((mt=Ge).is("element","ol")||mt.is("element","ul"));var mt}(o[y-1],g),D=(Z=g,(F=k?null:o[y-1])?Z.indent-F.indent:Z.indent-1);var F,Z;if(k&&(a=null,h=1),!a||0!==D){const Ae=function(Pe,Ge){const Ot=/mso-level-number-format:([^;]{0,100});/gi,tn=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,Pn=new RegExp(`@list l${Pe.id}:level${Pe.indent}\\s*({[^}]*)`,"gi").exec(Ge);let tr="decimal",_r="ol",Jo=null;if(Pn&&Pn[1]){const ll=Ot.exec(Pn[1]);if(ll&&ll[1]&&(tr=ll[1].trim(),_r="bullet"!==tr&&"image"!==tr?"ol":"ul"),"bullet"===tr){const tc=function(qm){const Kd=function(yf){if(yf.getChild(0).is("$text"))return null;for(const rp of yf.getChildren()){if(!rp.is("element","span"))continue;const tm=rp.getChild(0);return tm.is("$text")?tm:tm.getChild(0)}}(qm);if(!Kd)return null;const fd=Kd._data;return"o"===fd?"circle":"\xb7"===fd?"disc":"\xa7"===fd?"square":null}(Pe.element);tc&&(tr=tc)}else{const tc=tn.exec(Pn[1]);tc&&tc[1]&&(Jo=parseInt(tc[1]))}}return{type:_r,startIndex:Jo,style:eC(tr)}}(g,e);if(a)if(g.indent>h){const Pe=a.getChild(a.childCount-1),Ge=Pe.getChild(Pe.childCount-1);a=iw(Ae,Ge,t),h+=1}else g.indent<h&&(a=function(Ge,mt){const Ot=Ge.getAncestors({parentFirst:!0});let tn=null,Pn=0;for(const tr of Ot)if("ul"!==tr.name&&"ol"!==tr.name||Pn++,Pn===mt){tn=tr;break}return tn}(a,h-g.indent),h=parseInt(g.indent));else a=iw(Ae,g.element,t);g.indent<=h&&(a.is("element",Ae.type)||(a=t.rename(Ae.type,a)))}const ue=(function(Ge,mt){const Ot=new Ts({name:"span",styles:{"mso-list":"Ignore"}}),tn=mt.createRangeIn(Ge);for(const Pn of tn)"elementStart"===Pn.type&&Ot.match(Pn.item)&&mt.remove(Pn.item)}(Ae=g.element,Pe=t),Pe.rename("li",Ae));var Ae,Pe;t.appendChild(ue,a)})})(t,o),function(d,e){if(!d.childCount)return;const t=new of;(function(h,g,y){const k=y.createRangeIn(g),E=new Ts({name:"img"}),D=[];for(const F of k)if(E.match(F.item)){const Z=F.item,ue=Z.getAttribute("v:shapes")?Z.getAttribute("v:shapes").split(" "):[];ue.length&&ue.every(Ae=>h.indexOf(Ae)>-1)?D.push(Z):Z.getAttribute("src")||D.push(Z)}for(const F of D)y.remove(F)})(function(h,g){const y=g.createRangeIn(h),k=new Ts({name:/v:(.+)/}),E=[];for(const D of y){if("elementStart"!=D.type)continue;const F=D.item,Z=F.previousSibling&&F.previousSibling.name||null;k.match(F)&&F.getAttribute("o:gfxdata")&&"v:shapetype"!==Z&&E.push(D.item.getAttribute("id"))}return E}(d,t),d,t),function(h,g){const y=g.createRangeIn(h),k=new Ts({name:/v:(.+)/}),E=[];for(const D of y)"elementStart"==D.type&&k.match(D.item)&&E.push(D.item);for(const D of E)g.remove(D)}(d,t);const a=function(h,g){const y=g.createRangeIn(h),k=new Ts({name:"img"}),E=[];for(const D of y)k.match(D.item)&&D.item.getAttribute("src").startsWith("file://")&&E.push(D.item);return E}(d,t);a.length&&function(h,g,y){if(h.length===g.length)for(let k=0;k<h.length;k++){const E=`data:${g[k].type};base64,${nC(g[k].hex)}`;y.setAttribute("src",E,h[k])}}(a,function(h){if(!h)return[];const g=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,y=new RegExp("(?:("+g.source+"))([\\da-fA-F\\s]+)\\}","g"),k=h.match(y),E=[];if(k)for(const D of k){let F=!1;D.includes("\\pngblip")?F="image/png":D.includes("\\jpegblip")&&(F="image/jpeg"),F&&E.push({hex:D.replace(g,"").replace(/[^\da-fA-F]/g,""),type:F})}return E}(e),t)}(t,e.dataTransfer.getData("text/rtf")),e.content=t}}function rw(d){return d.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>1===t.length?" ":Array(t.length+1).join("\xa0 ").substr(0,t.length))}function va(d,e,t,o,a=1){e>a?o.setAttribute(d,e,t):o.removeAttribute(d,t)}function vf(d,e,t={}){const o=d.createElement("tableCell",t);return d.insertElement("paragraph",o),d.insert(o,e),o}function hv(d,e){const o=parseInt(e.parent.parent.getAttribute("headingColumns")||0),{column:a}=d.getCellLocation(e);return!!o&&a<o}function fv(d){return e=>{e.on(`element:${d}`,(t,o,a)=>{if(o.modelRange&&o.viewItem.isEmpty){const g=a.writer.createPositionAt(o.modelRange.start.nodeAfter,0);a.writer.insertElement("paragraph",g)}},{priority:"low"})}}function ow(d){let e=0,t=0;const o=Array.from(d.getChildren()).filter(a=>"th"===a.name||"td"===a.name);for(;t<o.length&&"th"===o[t].name;)e+=parseInt(o[t].getAttribute("colspan")||1),t++;return e}class ss{constructor(e,t={}){this._table=e,this._startRow=void 0!==t.row?t.row:t.startRow||0,this._endRow=void 0!==t.row?t.row:t.endRow,this._startColumn=void 0!==t.column?t.column:t.startColumn||0,this._endColumn=void 0!==t.column?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const o=this._getSpanned();if(o)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(o.cell,o.row,o.column));else{const a=e.getChild(this._cellIndex);if(!a)return this._advanceToNextRow();const h=parseInt(a.getAttribute("colspan")||1),g=parseInt(a.getAttribute("rowspan")||1);(h>1||g>1)&&this._recordSpans(a,g,h),this._shouldSkipSlot()||(t=this._formatOutValue(a)),this._nextCellAtColumn=this._column+h}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(e,t=this._row,o=this._column){return{done:!1,value:new sw(this,e,t,o)}}_shouldSkipSlot(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,o){const a={cell:e,row:this._row,column:this._column};for(let h=this._row;h<this._row+t;h++)for(let g=this._column;g<this._column+o;g++)h==this._row&&g==this._column||this._markSpannedCell(h,g,a)}_markSpannedCell(e,t,o){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,o)}}class sw{constructor(e,t,o,a){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=o,this.cellAnchorColumn=a,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function aw(d,e={}){return(t,{writer:o})=>{const a=t.getAttribute("headingRows")||0,h=[];a>0&&h.push(o.createContainerElement("thead",null,o.createSlot(y=>y.is("element","tableRow")&&y.index<a))),a<d.getRows(t)&&h.push(o.createContainerElement("tbody",null,o.createSlot(y=>y.is("element","tableRow")&&y.index>=a)));const g=o.createContainerElement("figure",{class:"table"},[o.createContainerElement("table",null,h),o.createSlot(y=>!y.is("element","tableRow"))]);return e.asWidget?((k=o).setCustomProperty("table",!0,y=g),lr(y,k,{hasSelectionHandle:!0})):g;var y,k}}function lw(d={}){return(e,{writer:t})=>{const o=e.parent,a=o.parent,h=a.getChildIndex(o),g=new ss(a,{row:h}),y=a.getAttribute("headingRows")||0,k=a.getAttribute("headingColumns")||0;for(const E of g)if(E.cell==e){const D=E.row<y||E.column<k?"th":"td";return d.asWidget?Ul(t.createEditableElement(D),t):t.createContainerElement(D)}}}function sC(d={}){return(e,{writer:t,consumable:o,mapper:a})=>{if(e.parent.is("element","tableCell")&&G_(e))return d.asWidget?t.createContainerElement("span",{class:"ck-table-bogus-paragraph"}):(o.consume(e,"insert"),void a.bindElements(e,a.toViewElement(e.parent)))}}function G_(d){return 1==d.parent.childCount&&![...d.getAttributeKeys()].length}class pv extends Me{refresh(){const e=this.editor.model;this.isEnabled=function(a,h){const g=a.getFirstPosition().parent;return h.checkChild(g===g.root?g:g.parent,"table")}(e.document.selection,e.schema)}execute(e={}){const t=this.editor.model,o=this.editor.plugins.get("TableUtils"),a=this.editor.config.get("table"),h=a.defaultHeadings.rows,g=a.defaultHeadings.columns;void 0===e.headingRows&&h&&(e.headingRows=h),void 0===e.headingColumns&&g&&(e.headingColumns=g),t.change(y=>{const k=o.createTable(y,e);t.insertObject(k,null,null,{findOptimalPosition:"auto"}),y.setSelection(y.createPositionAt(k.getNodeByPath([0,0,0]),0))})}}class gv extends Me{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,o=e.plugins.get("TableUtils"),a="above"===this.order,h=o.getSelectionAffectedTableCells(t),g=o.getRowIndexes(h),y=a?g.first:g.last,k=h[0].findAncestor("table");o.insertRows(k,{at:a?y:y+1,copyStructureFromAbove:!a})}}class $_ extends Me{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,o=e.plugins.get("TableUtils"),a="left"===this.order,h=o.getSelectionAffectedTableCells(t),g=o.getColumnIndexes(h),y=a?g.first:g.last,k=h[0].findAncestor("table");o.insertColumns(k,{columns:1,at:a?y:y+1})}}class W_ extends Me{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===e.length}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function cw(d,e,t){const{startRow:o,startColumn:a,endRow:h,endColumn:g}=e,y=t.createElement("table"),k=h-o+1;for(let D=0;D<k;D++)t.insertElement("tableRow",y,"end");const E=[...new ss(d,{startRow:o,endRow:h,startColumn:a,endColumn:g,includeAllSlots:!0})];for(const{row:D,column:F,cell:Z,isAnchor:ue,cellAnchorRow:Ae,cellAnchorColumn:Pe}of E){const mt=y.getChild(D-o);if(ue){const Ot=t.cloneElement(Z);t.append(Ot,mt),Z_(Ot,D,F,h,g,t)}else(Ae<o||Pe<a)&&vf(t,t.createPositionAt(mt,"end"))}return function(D,F,Z,ue,Ae){const Pe=parseInt(F.getAttribute("headingRows")||0);Pe>0&&va("headingRows",Pe-Z,D,Ae,0);const Ge=parseInt(F.getAttribute("headingColumns")||0);Ge>0&&va("headingColumns",Ge-ue,D,Ae,0)}(y,d,o,a,t),y}function uw(d,e,t=0){const o=[],a=new ss(d,{startRow:t,endRow:e-1});for(const h of a){const{row:g,cellHeight:y}=h;g<e&&e<=g+y-1&&o.push(h)}return o}function dw(d,e,t){const o=d.parent,a=o.parent,h=o.index,g=e-h,y={},k=parseInt(d.getAttribute("rowspan"))-g;k>1&&(y.rowspan=k);const E=parseInt(d.getAttribute("colspan")||1);E>1&&(y.colspan=E);const D=h+g,F=[...new ss(a,{startRow:h,endRow:D,includeAllSlots:!0})];let Z,ue=null;for(const Ae of F){const{row:Pe,column:Ge,cell:mt}=Ae;mt===d&&void 0===Z&&(Z=Ge),void 0!==Z&&Z===Ge&&Pe===D&&(ue=vf(t,Ae.getPositionBefore(),y))}return va("rowspan",g,d,t),ue}function hw(d,e){const t=[],o=new ss(d);for(const a of o){const{column:h,cellWidth:g}=a;h<e&&e<=h+g-1&&t.push(a)}return t}function mv(d,e,t,o){const a=t-e,h={},g=parseInt(d.getAttribute("colspan"))-a;g>1&&(h.colspan=g);const y=parseInt(d.getAttribute("rowspan")||1);y>1&&(h.rowspan=y);const k=vf(o,o.createPositionAfter(d),h);return va("colspan",a,d,o),k}function Z_(d,e,t,o,a,h){const g=parseInt(d.getAttribute("colspan")||1),y=parseInt(d.getAttribute("rowspan")||1);t+g-1>a&&va("colspan",a-t+1,d,h,1),e+y-1>o&&va("rowspan",o-e+1,d,h,1)}function Y_(d,e){const t=e.getColumns(d),o=new Array(t).fill(0);for(const{column:h}of new ss(d))o[h]++;const a=o.reduce((h,g,y)=>g?h:[...h,y],[]);return a.length>0&&(e.removeColumns(d,{at:a[a.length-1]}),!0)}function K_(d,e){const t=[],o=e.getRows(d);for(let a=0;a<o;a++)d.getChild(a).isEmpty&&t.push(a);return t.length>0&&(e.removeRows(d,{at:t[t.length-1]}),!0)}function Q_(d,e){Y_(d,e)||K_(d,e)}function _v(d,e){const t=Array.from(new ss(d,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));return t.every(({cellHeight:a})=>1===a)?e.lastRow:e.lastRow+(t[0].cellHeight-1)}function fw(d,e){const t=Array.from(new ss(d,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));return t.every(({cellWidth:a})=>1===a)?e.lastColumn:e.lastColumn+(t[0].cellWidth-1)}class k_ extends Me{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,o=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],a=this.value,h=this.direction;e.change(g=>{const y="right"==h||"down"==h,k=y?o:a,E=y?a:o,D=E.parent;var Pe,Ge,mt;Ge=k,mt=g,bv(Pe=E)||(bv(Ge)&&mt.remove(mt.createRangeIn(Ge)),mt.move(mt.createRangeIn(Pe),mt.createPositionAt(Ge,"end"))),mt.remove(Pe);const F=this.isHorizontal?"colspan":"rowspan",Z=parseInt(o.getAttribute(F)||1),ue=parseInt(a.getAttribute(F)||1);g.setAttribute(F,Z+ue,k),g.setSelection(g.createRangeIn(k));const Ae=this.editor.plugins.get("TableUtils");Q_(D.findAncestor("table"),Ae)})}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),o=t.getTableCellsContainingSelection(e.selection)[0];if(!o)return;const a=this.isHorizontal?function(y,k,E){const Z="right"==k?y.nextSibling:y.previousSibling,ue=(y.parent.parent.getAttribute("headingColumns")||0)>0;if(!Z)return;const Ae="right"==k?y:Z,Pe="right"==k?Z:y,{column:Ge}=E.getCellLocation(Ae),{column:mt}=E.getCellLocation(Pe),Ot=parseInt(Ae.getAttribute("colspan")||1),tn=hv(E,Ae),Pn=hv(E,Pe);return ue&&tn!=Pn?void 0:Ge+Ot===mt?Z:void 0}(o,this.direction,t):function(y,k,E){const D=y.parent,F=D.parent,Z=F.getChildIndex(D);if("down"==k&&Z===E.getRows(F)-1||"up"==k&&0===Z)return;const ue=parseInt(y.getAttribute("rowspan")||1),Ae=F.getAttribute("headingRows")||0;if(Ae&&("down"==k&&Z+ue===Ae||"up"==k&&Z===Ae))return;const mt=parseInt(y.getAttribute("rowspan")||1),Ot="down"==k?Z+mt:Z,tn=[...new ss(F,{endRow:Ot})],tr=tn.find(Jo=>Jo.cell===y).column,_r=tn.find(({row:Jo,cellHeight:ll,column:tc})=>tc===tr&&("down"==k?Jo===Ot:Ot===Jo+ll));return _r&&_r.cell}(o,this.direction,t);if(!a)return;const h=this.isHorizontal?"rowspan":"colspan",g=parseInt(o.getAttribute(h)||1);return parseInt(a.getAttribute(h)||1)===g?a:void 0}}function bv(d){return 1==d.childCount&&d.getChild(0).is("element","paragraph")&&d.getChild(0).isEmpty}class aC extends Me{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),o=t[0];if(o){const a=o.findAncestor("table"),h=this.editor.plugins.get("TableUtils").getRows(a)-1,g=e.getRowIndexes(t);this.isEnabled=!(0===g.first&&g.last===h)}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),o=t.getSelectionAffectedTableCells(e.document.selection),a=t.getRowIndexes(o),h=o[0],g=h.findAncestor("table"),y=t.getCellLocation(h).column;e.change(k=>{t.removeRows(g,{at:a.first,rows:a.last-a.first+1});const D=function(F,Z,ue,Ae){const Pe=F.getChild(Math.min(Z,Ae-1));let Ge=Pe.getChild(0),mt=0;for(const Ot of Pe.getChildren()){if(mt>ue)return Ge;Ge=Ot,mt+=parseInt(Ot.getAttribute("colspan")||1)}return Ge}(g,a.first,y,t.getRows(g));k.setSelection(k.createPositionAt(D,0))})}}class pw extends Me{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),o=t[0];if(o){const a=o.findAncestor("table"),h=e.getColumns(a),{first:g,last:y}=e.getColumnIndexes(t);this.isEnabled=y-g<h-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,o]=function(k,E){const D=E.getSelectionAffectedTableCells(k),F=D[0],Z=D.pop(),ue=[F,Z];return F.isBefore(Z)?ue:ue.reverse()}(this.editor.model.document.selection,e),a=t.parent.parent,h=[...new ss(a)],g={first:h.find(k=>k.cell===t).column,last:h.find(k=>k.cell===o).column},y=(k=h,E=t,D=o,F=g,parseInt(D.getAttribute("colspan")||1)>1?D:E.previousSibling||D.nextSibling?D.nextSibling||E.previousSibling:F.first?k.reverse().find(({column:ue})=>ue<F.first).cell:k.reverse().find(({column:ue})=>ue>F.last).cell);var k,E,D,F;this.editor.model.change(k=>{const E=g.last-g.first+1;this.editor.plugins.get("TableUtils").removeColumns(a,{at:g.first,columns:E}),k.setSelection(k.createPositionAt(y,0))})}}class gw extends Me{refresh(){const o=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection),a=o.length>0;this.isEnabled=a,this.value=a&&o.every(h=>this._isInHeading(h,h.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),o=this.editor.model,a=t.getSelectionAffectedTableCells(o.document.selection),h=a[0].findAncestor("table"),{first:g,last:y}=t.getRowIndexes(a),k=this.value?g:y+1,E=h.getAttribute("headingRows")||0;o.change(D=>{if(k){const F=uw(h,k,k>E?E:0);for(const{cell:Z}of F)dw(Z,k,D)}va("headingRows",k,h,D,0)})}_isInHeading(e,t){const o=parseInt(t.getAttribute("headingRows")||0);return!!o&&e.parent.index<o}}class _u extends Me{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),o=t.getSelectionAffectedTableCells(e.document.selection),a=o.length>0;this.isEnabled=a,this.value=a&&o.every(h=>hv(t,h))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),o=this.editor.model,a=t.getSelectionAffectedTableCells(o.document.selection),h=a[0].findAncestor("table"),{first:g,last:y}=t.getColumnIndexes(a),k=this.value?g:y+1;o.change(E=>{if(k){const D=hw(h,k);for(const{cell:F,column:Z}of D)mv(F,Z,k,E)}va("headingColumns",k,h,E,0)})}}class Ka extends fn{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,o=t.parent,a=o.getChildIndex(t),h=new ss(o,{row:a});for(const{cell:g,row:y,column:k}of h)if(g===e)return{row:y,column:k}}createTable(e,t){const o=e.createElement("table"),a=parseInt(t.rows)||2,h=parseInt(t.columns)||2;return vv(e,o,0,a,h),t.headingRows&&va("headingRows",Math.min(t.headingRows,a),o,e,0),t.headingColumns&&va("headingColumns",Math.min(t.headingColumns,h),o,e,0),o}insertRows(e,t={}){const o=this.editor.model,a=t.at||0,h=t.rows||1,g=void 0!==t.copyStructureFromAbove,y=t.copyStructureFromAbove?a-1:a,k=this.getRows(e),E=this.getColumns(e);if(a>k)throw new Oe("tableutils-insertrows-insert-out-of-range",this,{options:t});o.change(D=>{const F=e.getAttribute("headingRows")||0;if(F>a&&va("headingRows",F+h,e,D,0),!g&&(0===a||a===k))return void vv(D,e,a,h,E);const Z=g?Math.max(a,y):a,ue=new ss(e,{endRow:Z}),Ae=new Array(E).fill(1);for(const{row:Pe,column:Ge,cellHeight:mt,cellWidth:Ot,cell:tn}of ue){const Pn=Pe+mt-1,tr=Pe<=y&&y<=Pn;Pe<a&&a<=Pn?(D.setAttribute("rowspan",mt+h,tn),Ae[Ge]=-Ot):g&&tr&&(Ae[Ge]=Ot)}for(let Pe=0;Pe<h;Pe++){const Ge=D.createElement("tableRow");D.insert(Ge,e,a);for(let mt=0;mt<Ae.length;mt++){const Ot=Ae[mt],tn=D.createPositionAt(Ge,"end");Ot>0&&vf(D,tn,Ot>1?{colspan:Ot}:null),mt+=Math.abs(Ot)-1}}})}insertColumns(e,t={}){const a=t.at||0,h=t.columns||1;this.editor.model.change(g=>{const y=e.getAttribute("headingColumns");a<y&&g.setAttribute("headingColumns",y+h,e);const k=this.getColumns(e);if(0===a||k===a){for(const D of e.getChildren())D.is("element","tableRow")&&Hm(h,g,g.createPositionAt(D,a?"end":0));return}const E=new ss(e,{column:a,includeAllSlots:!0});for(const D of E){const{row:F,cell:Z,cellAnchorColumn:ue,cellAnchorRow:Ae,cellWidth:Pe,cellHeight:Ge}=D;if(ue<a){g.setAttribute("colspan",Pe+h,Z);const mt=Ae+Ge-1;for(let Ot=F;Ot<=mt;Ot++)E.skipRow(Ot)}else Hm(h,g,D.getPositionBefore())}})}removeRows(e,t){const o=this.editor.model,a=t.rows||1,h=this.getRows(e),g=t.at,y=g+a-1;if(y>h-1)throw new Oe("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});o.change(k=>{const{cellsToMove:E,cellsToTrim:D}=function(F,Z,ue){const Ae=new Map,Pe=[];for(const{row:Ge,column:mt,cellHeight:Ot,cell:tn}of new ss(F,{endRow:ue})){const Pn=Ge+Ot-1;if(Ge>=Z&&Ge<=ue&&Pn>ue&&Ae.set(mt,{cell:tn,rowspan:Ot-(ue-Ge+1)}),Ge<Z&&Pn>=Z){let tr;tr=Pn>=ue?ue-Z+1:Pn-Z+1,Pe.push({cell:tn,rowspan:Ot-tr})}}return{cellsToMove:Ae,cellsToTrim:Pe}}(e,g,y);E.size&&function(F,Z,ue,Ae){const Ge=[...new ss(F,{includeAllSlots:!0,row:Z})],mt=F.getChild(Z);let Ot;for(const{column:tn,cell:Pn,isAnchor:tr}of Ge)if(ue.has(tn)){const{cell:_r,rowspan:Jo}=ue.get(tn),ll=Ot?Ae.createPositionAfter(Ot):Ae.createPositionAt(mt,0);Ae.move(Ae.createRangeOn(_r),ll),va("rowspan",Jo,_r,Ae),Ot=_r}else tr&&(Ot=Pn)}(e,y+1,E,k);for(let F=y;F>=g;F--)k.remove(e.getChild(F));for(const{rowspan:F,cell:Z}of D)va("rowspan",F,Z,k);(function(F,Z,ue,Ae){const Pe=F.getAttribute("headingRows")||0;Z<Pe&&va("headingRows",ue<Pe?Pe-(ue-Z+1):Z,F,Ae,0)})(e,g,y,k),Y_(e,this)||K_(e,this)})}removeColumns(e,t){const a=t.at,g=t.at+(t.columns||1)-1;this.editor.model.change(y=>{!function(k,E,D){const F=k.getAttribute("headingColumns")||0;if(F&&E.first<F){const Z=Math.min(F-1,E.last)-E.first+1;D.setAttribute("headingColumns",F-Z,k)}}(e,{first:a,last:g},y);for(let k=g;k>=a;k--)for(const{cell:E,column:D,cellWidth:F}of[...new ss(e)])D<=k&&F>1&&D+F>k?va("colspan",F-1,E,y):D===k&&y.remove(E);K_(e,this)||Y_(e,this)})}splitCellVertically(e,t=2){const o=this.editor.model,a=e.parent.parent,h=parseInt(e.getAttribute("rowspan")||1),g=parseInt(e.getAttribute("colspan")||1);o.change(y=>{if(g>1){const{newCellsSpan:k,updatedSpan:E}=lC(g,t);va("colspan",E,e,y);const D={};k>1&&(D.colspan=k),h>1&&(D.rowspan=h),Hm(g>t?t-1:g-1,y,y.createPositionAfter(e),D)}if(g<t){const k=t-g,E=[...new ss(a)],{column:D}=E.find(({cell:Ae})=>Ae===e),F=E.filter(({cell:Ae,cellWidth:Pe,column:Ge})=>Ae!==e&&Ge===D||Ge<D&&Ge+Pe>D);for(const{cell:Ae,cellWidth:Pe}of F)y.setAttribute("colspan",Pe+k,Ae);const Z={};h>1&&(Z.rowspan=h),Hm(k,y,y.createPositionAfter(e),Z);const ue=a.getAttribute("headingColumns")||0;ue>D&&va("headingColumns",ue+k,a,y)}})}splitCellHorizontally(e,t=2){const o=this.editor.model,a=e.parent,h=a.parent,g=h.getChildIndex(a),y=parseInt(e.getAttribute("rowspan")||1),k=parseInt(e.getAttribute("colspan")||1);o.change(E=>{if(y>1){const D=[...new ss(h,{startRow:g,endRow:g+y-1,includeAllSlots:!0})],{newCellsSpan:F,updatedSpan:Z}=lC(y,t);va("rowspan",Z,e,E);const{column:ue}=D.find(({cell:Pe})=>Pe===e),Ae={};F>1&&(Ae.rowspan=F),k>1&&(Ae.colspan=k);for(const Pe of D){const{column:Ge,row:mt}=Pe;mt>=g+Z&&Ge===ue&&(mt+g+Z)%F==0&&Hm(1,E,Pe.getPositionBefore(),Ae)}}if(y<t){const D=t-y,F=[...new ss(h,{startRow:0,endRow:g})];for(const{cell:Ae,cellHeight:Pe,row:Ge}of F)Ae!==e&&Ge+Pe>g&&E.setAttribute("rowspan",Pe+D,Ae);const Z={};k>1&&(Z.colspan=k),vv(E,h,g+1,D,1,Z);const ue=h.getAttribute("headingRows")||0;ue>g&&va("headingRows",ue+D,h,E)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((t,o)=>t+parseInt(o.getAttribute("colspan")||1),0)}getRows(e){return Array.from(e.getChildren()).reduce((t,o)=>o.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new ss(e,t)}getSelectedTableCells(e){const t=[];for(const o of this.sortRanges(e.getRanges())){const a=o.getContainedElement();a&&a.is("element","tableCell")&&t.push(a)}return t}getTableCellsContainingSelection(e){const t=[];for(const o of e.getRanges()){const a=o.start.findAncestor("tableCell");a&&t.push(a)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(o=>o.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),o=[...new ss(t)].filter(a=>e.includes(a.cell)).map(a=>a.column);return this._getFirstLastIndexesObject(o)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,o=new Set;let a=0;for(const g of e){const{row:y,column:k}=this.getCellLocation(g),E=parseInt(g.getAttribute("rowspan")||1),D=parseInt(g.getAttribute("colspan")||1);t.add(y),o.add(k),E>1&&t.add(y+E-1),D>1&&o.add(k+D-1),a+=E*D}return function(g,y){const k=Array.from(g.values()),E=Array.from(y.values());return(Math.max(...k)-Math.min(...k)+1)*(Math.max(...E)-Math.min(...E)+1)}(t,o)==a}sortRanges(e){return Array.from(e).sort(A_)}_getFirstLastIndexesObject(e){const t=e.sort((o,a)=>o-a);return{first:t[0],last:t[t.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),o=this.getRowIndexes(e),a=parseInt(t.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(o,a))return!1;const h=parseInt(t.getAttribute("headingColumns")||0),g=this.getColumnIndexes(e);return this._areIndexesInSameSection(g,h)}_areIndexesInSameSection({first:e,last:t},o){return e<o==t<o}}function vv(d,e,t,o,a,h={}){for(let g=0;g<o;g++){const y=d.createElement("tableRow");d.insert(y,e,t),Hm(a,d,d.createPositionAt(y,"end"),h)}}function Hm(d,e,t,o={}){for(let a=0;a<d;a++)vf(e,t,o)}function lC(d,e){if(d<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(d/e);return{newCellsSpan:t,updatedSpan:d-t*e+t}}function A_(d,e){return d.start.isBefore(e.start)?-1:1}class cC extends Me{refresh(){const e=this.editor.plugins.get(Ka),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t,this.editor.plugins.get(Ka))}execute(){const e=this.editor.model,t=this.editor.plugins.get(Ka);e.change(o=>{const a=t.getSelectedTableCells(e.document.selection),h=a.shift(),{mergeWidth:g,mergeHeight:y}=function(k,E,D){let F=0,Z=0;for(const mt of E){const{row:Ot,column:tn}=D.getCellLocation(mt);F=wv(mt,tn,F,"colspan"),Z=wv(mt,Ot,Z,"rowspan")}const{row:ue,column:Ae}=D.getCellLocation(k);return{mergeWidth:F-Ae,mergeHeight:Z-ue}}(h,a,t);va("colspan",g,h,o),va("rowspan",y,h,o);for(const k of a)yv(k,h,o);Q_(h.findAncestor("table"),t),o.setSelection(h,"in")})}}function yv(d,e,t){mw(d)||(mw(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(d),t.createPositionAt(e,"end"))),t.remove(d)}function mw(d){return 1==d.childCount&&d.getChild(0).is("element","paragraph")&&d.getChild(0).isEmpty}function wv(d,e,t,o){const a=parseInt(d.getAttribute(o)||1);return Math.max(t,e+a)}class uC extends Me{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),o=t.getSelectionAffectedTableCells(e.document.selection),a=t.getRowIndexes(o),h=o[0].findAncestor("table"),g=[];for(let y=a.first;y<=a.last;y++)for(const k of h.getChild(y).getChildren())g.push(e.createRangeOn(k));e.change(y=>{y.setSelection(g)})}}class dC extends Me{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,o=e.getSelectionAffectedTableCells(t.document.selection),a=o[0],h=o.pop(),g=a.findAncestor("table"),y=e.getCellLocation(a),k=e.getCellLocation(h),E=Math.min(y.column,k.column),D=Math.max(y.column,k.column),F=[];for(const Z of new ss(g,{startColumn:E,endColumn:D}))F.push(t.createRangeOn(Z.cell));t.change(Z=>{Z.setSelection(F)})}}function _w(d,e){let t=!1;const o=function(a){const h=parseInt(a.getAttribute("headingRows")||0),g=Array.from(a.getChildren()).reduce((k,E)=>E.is("element","tableRow")?k+1:k,0),y=[];for(const{row:k,cell:E,cellHeight:D}of new ss(a)){if(D<2)continue;const F=k<h?h:g;k+D>F&&y.push({cell:E,rowspan:F-k})}return y}(d);if(o.length){t=!0;for(const a of o)va("rowspan",a.rowspan,a.cell,e,1)}return t}function bw(d,e){let t=!1;const o=function(y){const k=new Array(y.childCount).fill(0);for(const{rowIndex:E}of new ss(y,{includeAllSlots:!0}))k[E]++;return k}(d),a=[];for(const[y,k]of o.entries())!k&&d.getChild(y).is("element","tableRow")&&a.push(y);if(a.length){t=!0;for(const y of a.reverse())e.remove(d.getChild(y)),o.splice(y,1)}const h=o.filter((y,k)=>d.getChild(k).is("element","tableRow")),g=h[0];if(!h.every(y=>y===g)){const y=h.reduce((k,E)=>E>k?E:k,0);for(const[k,E]of h.entries()){const D=y-E;if(D){for(let F=0;F<D;F++)vf(e,e.createPositionAt(d.getChild(k),"end"));t=!0}}}return t}function J_(d){const t=d.attributeKey;return"attribute"===d.type&&("headingRows"===t||"colspan"===t||"rowspan"===t)}function UC(d,e){let t=!1;for(const o of d.getChildren())o.is("element","tableRow")&&(t=Av(o,e)||t);return t}function Av(d,e){let t=!1;for(const o of d.getChildren())t=xv(o,e)||t;return t}function xv(d,e){if(0==d.childCount)return e.insertElement("paragraph",d),!0;const t=Array.from(d.getChildren()).filter(o=>o.is("$text"));for(const o of t)e.wrap(e.createRangeOn(o),"paragraph");return!!t.length}function vw(d){return!(!d.position||!d.position.parent.is("element","tableCell"))&&("insert"==d.type&&"$text"==d.name||"remove"==d.type)}function X_(d,e){if(!d.is("element","paragraph"))return!1;const t=e.toViewElement(d);return!!t&&G_(d)!==t.is("element","span")}var Ev=Ne(3881);Bi()(Ev.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Mv extends fn{static get pluginName(){return"TableEditing"}static get requires(){return[Ka]}init(){const e=this.editor,t=e.model,o=t.schema,a=e.conversion,h=e.plugins.get(Ka);o.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),o.register("tableRow",{allowIn:"table",isLimit:!0}),o.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),a.for("upcast").add(g=>{g.on("element:figure",(y,k,E)=>{if(!E.consumable.test(k.viewItem,{name:!0,classes:"table"}))return;const D=function(Z){for(const ue of Z.getChildren())if(ue.is("element","table"))return ue}(k.viewItem);if(!D||!E.consumable.test(D,{name:!0}))return;E.consumable.consume(k.viewItem,{name:!0,classes:"table"});const F=mi(E.convertItem(D,k.modelCursor).modelRange.getItems());F?(E.convertChildren(k.viewItem,E.writer.createPositionAt(F,"end")),E.updateConversionResult(F,k)):E.consumable.revert(k.viewItem,{name:!0,classes:"table"})})}),a.for("upcast").add(d=>{d.on("element:table",(e,t,o)=>{const a=t.viewItem;if(!o.consumable.test(a,{name:!0}))return;const{rows:h,headingRows:g,headingColumns:y}=function(D){const F={headingRows:0,headingColumns:0},Z=[],ue=[];let Ae;for(const Pe of Array.from(D.getChildren()))if("tbody"===Pe.name||"thead"===Pe.name||"tfoot"===Pe.name){"thead"!==Pe.name||Ae||(Ae=Pe);const Ge=Array.from(Pe.getChildren()).filter(mt=>mt.is("element","tr"));for(const mt of Ge)if("thead"===mt.parent.name&&mt.parent===Ae)F.headingRows++,Z.push(mt);else{ue.push(mt);const Ot=ow(mt);Ot>F.headingColumns&&(F.headingColumns=Ot)}}return F.rows=[...Z,...ue],F}(a),k={};y&&(k.headingColumns=y),g&&(k.headingRows=g);const E=o.writer.createElement("table",k);if(o.safeInsert(E,t.modelCursor)){if(o.consumable.consume(a,{name:!0}),h.forEach(D=>o.convertItem(D,o.writer.createPositionAt(E,"end"))),o.convertChildren(a,o.writer.createPositionAt(E,"end")),E.isEmpty){const D=o.writer.createElement("tableRow");o.writer.insert(D,o.writer.createPositionAt(E,"end")),vf(o.writer,o.writer.createPositionAt(D,"end"))}o.updateConversionResult(E,t)}})}),a.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:aw(h,{asWidget:!0})}),a.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:aw(h)}),a.for("upcast").elementToElement({model:"tableRow",view:"tr"}),a.for("upcast").add(g=>{g.on("element:tr",(y,k)=>{k.viewItem.isEmpty&&0==k.modelCursor.index&&y.stop()},{priority:"high"})}),a.for("downcast").elementToElement({model:"tableRow",view:(g,{writer:y})=>g.isEmpty?y.createEmptyElement("tr"):y.createContainerElement("tr")}),a.for("upcast").elementToElement({model:"tableCell",view:"td"}),a.for("upcast").elementToElement({model:"tableCell",view:"th"}),a.for("upcast").add(fv("td")),a.for("upcast").add(fv("th")),a.for("editingDowncast").elementToElement({model:"tableCell",view:lw({asWidget:!0})}),a.for("dataDowncast").elementToElement({model:"tableCell",view:lw()}),a.for("editingDowncast").elementToElement({model:"paragraph",view:sC({asWidget:!0}),converterPriority:"high"}),a.for("dataDowncast").elementToElement({model:"paragraph",view:sC(),converterPriority:"high"}),a.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),a.for("upcast").attributeToAttribute({model:{key:"colspan",value:eb("colspan")},view:"colspan"}),a.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),a.for("upcast").attributeToAttribute({model:{key:"rowspan",value:eb("rowspan")},view:"rowspan"}),e.data.mapper.on("modelToViewPosition",(g,y)=>{const k=y.modelPosition.parent,E=y.modelPosition.nodeBefore;if(!k.is("element","tableCell")||!E||!E.is("element","paragraph"))return;const D=y.mapper.toViewElement(E),F=y.mapper.toViewElement(k);D===F&&(y.viewPosition=y.mapper.findPositionIn(F,E.maxOffset))}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new pv(e)),e.commands.add("insertTableRowAbove",new gv(e,{order:"above"})),e.commands.add("insertTableRowBelow",new gv(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new $_(e,{order:"left"})),e.commands.add("insertTableColumnRight",new $_(e,{order:"right"})),e.commands.add("removeTableRow",new aC(e)),e.commands.add("removeTableColumn",new pw(e)),e.commands.add("splitTableCellVertically",new W_(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new W_(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new cC(e)),e.commands.add("mergeTableCellRight",new k_(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new k_(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new k_(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new k_(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new _u(e)),e.commands.add("setTableRowHeader",new gw(e)),e.commands.add("selectTableRow",new uC(e)),e.commands.add("selectTableColumn",new dC(e)),function(d){d.document.registerPostFixer(e=>function(t,o){const a=o.document.differ.getChanges();let h=!1;const g=new Set;for(const y of a){let k;"table"==y.name&&"insert"==y.type&&(k=y.position.nodeAfter),"tableRow"!=y.name&&"tableCell"!=y.name||(k=y.position.findAncestor("table")),J_(y)&&(k=y.range.start.findAncestor("table")),k&&!g.has(k)&&(h=_w(k,t)||h,h=bw(k,t)||h,g.add(k))}return h}(e,d))}(t),function(d){d.document.registerPostFixer(e=>function(t,o){const a=o.document.differ.getChanges();let h=!1;for(const g of a)"insert"==g.type&&"table"==g.name&&(h=UC(g.position.nodeAfter,t)||h),"insert"==g.type&&"tableRow"==g.name&&(h=Av(g.position.nodeAfter,t)||h),"insert"==g.type&&"tableCell"==g.name&&(h=xv(g.position.nodeAfter,t)||h),vw(g)&&(h=xv(g.position.parent,t)||h);return h}(e,d))}(t),this.listenTo(t.document,"change:data",()=>{(function(g,y){const k=g.document.differ;for(const E of k.getChanges()){let D,F=!1;if("attribute"==E.type){const Pe=E.range.start.nodeAfter;if(!Pe||!Pe.is("element","table")||"headingRows"!=E.attributeKey&&"headingColumns"!=E.attributeKey)continue;D=Pe,F="headingRows"==E.attributeKey}else"tableRow"!=E.name&&"tableCell"!=E.name||(D=E.position.findAncestor("table"),F="tableRow"==E.name);if(!D)continue;const Z=D.getAttribute("headingRows")||0,ue=D.getAttribute("headingColumns")||0,Ae=new ss(D);for(const Pe of Ae){const Ge=Pe.row<Z||Pe.column<ue?"th":"td",mt=y.mapper.toViewElement(Pe.cell);mt&&mt.is("element")&&mt.name!=Ge&&y.reconvertItem(F?Pe.cell.parent:Pe.cell)}}})(t,e.editing),function(g,y){const k=g.document.differ,E=new Set;for(const D of k.getChanges()){const F="attribute"==D.type?D.range.start.parent:D.position.parent;F.is("element","tableCell")&&E.add(F)}for(const D of E.values()){const F=Array.from(D.getChildren()).filter(Z=>X_(Z,y.mapper));for(const Z of F)y.reconvertItem(Z)}}(t,e.editing)})}}function eb(d){return e=>{const t=parseInt(e.getAttribute(d));return Number.isNaN(t)||t<=0?null:t}}var yw=Ne(1613);Bi()(yw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ww extends jr{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new ar,this.focusTracker=new ei,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(o,a)=>`${a} \xd7 ${o}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(o=>{o.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(o,a)=>{const{row:h,column:g}=a.target.dataset;this.items.get(10*(parseInt(h,10)-1)+(parseInt(g,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(o,a,h)=>{if(!h)return;const{row:g,column:y}=h.dataset;this.set({rows:parseInt(g),columns:parseInt(y)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:e,focusTracker:t,gridItems:o,numberOfColumns:a,uiLanguageDirection:h}){const g="number"==typeof a?()=>a:a;function y(D){return F=>{const Z=o.find(Pe=>Pe.element===t.focusedElement),ue=o.getIndex(Z),Ae=D(ue,o);o.get(Ae).focus(),F.stopPropagation(),F.preventDefault()}}function k(D,F){return D===F-1?0:D+1}function E(D,F){return 0===D?F-1:D-1}e.set("arrowright",y((D,F)=>"rtl"===h?E(D,F.length):k(D,F.length))),e.set("arrowleft",y((D,F)=>"rtl"===h?k(D,F.length):E(D,F.length))),e.set("arrowup",y((D,F)=>{let Z=D-g();return Z<0&&(Z=D+g()*Math.floor(F.length/g()),Z>F.length-1&&(Z-=g())),Z})),e.set("arrowdown",y((D,F)=>{let Z=D+g();return Z>F.length-1&&(Z=D%g()),Z}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((o,a)=>{const h=Math.floor(a/10)<e&&a%10<t;o.set("isOn",h)})}_createGridButton(e,t,o,a){const h=new Po(e);return h.set({label:a,class:"ck-insert-table-dropdown-grid-box"}),h.extendTemplate({attributes:{"data-row":t,"data-column":o}}),h}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const o=Math.floor(t/10),a=t%10;e.push(this._createGridButton(this.locale,o+1,a+1,`${o+1} \xd7 ${a+1}`))}return this.createCollection(e)}}class Cw extends fn{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,o="ltr"===e.locale.contentLanguageDirection;e.ui.componentFactory.add("insertTable",a=>{const h=e.commands.get("insertTable"),g=jd(a);let y;return g.bind("isEnabled").to(h),g.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:t("Insert table"),tooltip:!0}),g.on("change:isOpen",()=>{y||(y=new ww(a),g.panelView.children.add(y),y.delegate("execute").to(g),g.on("execute",()=>{e.execute("insertTable",{rows:y.rows,columns:y.columns}),e.editing.view.focus()}))}),g}),e.ui.componentFactory.add("tableColumn",a=>{const h=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:o?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:o?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',h,a)}),e.ui.componentFactory.add("tableRow",a=>{const h=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',h,a)}),e.ui.componentFactory.add("mergeTableCells",a=>{const h=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:o?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:o?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',h,a)})}_prepareDropdown(e,t,o,a){const h=this.editor,g=jd(a),y=this._fillDropdownWithListOptions(g,o);return g.buttonView.set({label:e,icon:t,tooltip:!0}),g.bind("isEnabled").toMany(y,"isEnabled",(...k)=>k.some(E=>E)),this.listenTo(g,"execute",k=>{h.execute(k.source.commandName),k.source instanceof Bd||h.editing.view.focus()}),g}_prepareMergeSplitButtonDropdown(e,t,o,a){const h=this.editor,g=jd(a,cf),y="mergeTableCells",k=h.commands.get(y),E=this._fillDropdownWithListOptions(g,o);return g.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),g.bind("isEnabled").toMany([k,...E],"isEnabled",(...D)=>D.some(F=>F)),this.listenTo(g.buttonView,"execute",()=>{h.execute(y),h.editing.view.focus()}),this.listenTo(g,"execute",D=>{h.execute(D.source.commandName),h.editing.view.focus()}),g}_fillDropdownWithListOptions(e,t){const o=this.editor,a=[],h=new Sn;for(const g of t)kw(g,o,a,h);return Am(e,h),a}}function kw(d,e,t,o){const a=d.model=new zg(d.model),{commandName:h,bindIsOn:g}=d.model;if("button"===d.type||"switchbutton"===d.type){const y=e.commands.get(h);t.push(y),a.set({commandName:h}),a.bind("isEnabled").to(y),g&&a.bind("isOn").to(y,"value")}a.set({withText:!0}),o.add(d)}var Aw=Ne(6945);Bi()(Aw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Gp extends fn{static get pluginName(){return"TableSelection"}static get requires(){return[Ka,Ka]}init(){const e=this.editor,o=e.editing.view;this.listenTo(e.model,"deleteContent",(a,h)=>this._handleDeleteContent(a,h),{priority:"high"}),this.listenTo(o.document,"insertText",(a,h)=>this._handleInsertTextEvent(a,h),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const o=this.editor.plugins.get(Ka).getSelectedTableCells(this.editor.model.document.selection);return 0==o.length?null:o}getSelectionAsFragment(){const e=this.editor.plugins.get(Ka),t=this.getSelectedTableCells();return t?this.editor.model.change(o=>{const a=o.createDocumentFragment(),{first:h,last:g}=e.getColumnIndexes(t),{first:y,last:k}=e.getRowIndexes(t),E=t[0].findAncestor("table");let D=k,F=g;if(e.isSelectionRectangular(t)){const ue={firstColumn:h,lastColumn:g,firstRow:y,lastRow:k};D=_v(E,ue),F=fw(E,ue)}const Z=cw(E,{startRow:y,startColumn:h,endRow:D,endColumn:F},o);return o.insert(Z,a,0),a}):null}setCellSelection(e,t){const o=this._getCellsToSelect(e,t);this.editor.model.change(a=>{a.setSelection(o.cells.map(h=>a.createRangeOn(h)),{backward:o.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=mi(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(o=>o.on("selection",(a,h,g)=>{const y=g.writer;!function(D){for(const F of t)D.removeClass("ck-editor__editable_selected",F);t.clear()}(y);const k=this.getSelectedTableCells();if(!k)return;for(const D of k){const F=g.mapper.toViewElement(D);y.addClass("ck-editor__editable_selected",F),t.add(F)}const E=g.mapper.toViewElement(k[k.length-1]);y.setSelection(E,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(o=>{const a=o.createPositionAt(t[0],0),h=e.model.schema.getNearestSelectionRange(a);o.setSelection(h)})}})}_handleDeleteContent(e,t){const o=this.editor.plugins.get(Ka),[a,h]=t,g=this.editor.model,y=!h||"backward"==h.direction,k=o.getSelectedTableCells(a);k.length&&(e.stop(),g.change(E=>{const D=k[y?k.length-1:0];g.change(Z=>{for(const ue of k)g.deleteContent(Z.createSelection(ue,"in"))});const F=g.schema.getNearestSelectionRange(E.createPositionAt(D,0));a.is("documentSelection")?E.setSelection(F):a.setTo(F)}))}_handleInsertTextEvent(e,t){const o=this.editor,h=this.getSelectedTableCells(o.model.document.selection);if(!h)return;const g=o.editing.view,y=o.editing.mapper,k=h.map(E=>g.createRangeOn(y.toViewElement(E)));t.selection=g.createSelection(k)}_getCellsToSelect(e,t){const o=this.editor.plugins.get("TableUtils"),a=o.getCellLocation(e),h=o.getCellLocation(t),g=Math.min(a.row,h.row),y=Math.max(a.row,h.row),k=Math.min(a.column,h.column),E=Math.max(a.column,h.column),D=new Array(y-g+1).fill(null).map(()=>[]),F={startRow:g,endRow:y,startColumn:k,endColumn:E};for(const{row:Ae,cell:Pe}of new ss(e.findAncestor("table"),F))D[Ae-g].push(Pe);const Z=h.row<a.row,ue=h.column<a.column;return Z&&D.reverse(),ue&&D.forEach(Ae=>Ae.reverse()),{cells:D.flat(),backward:Z||ue}}}class pC extends fn{static get pluginName(){return"TableClipboard"}static get requires(){return[Gp,Ka]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(o,a)=>this._onCopyCut(o,a)),this.listenTo(t,"cut",(o,a)=>this._onCopyCut(o,a)),this.listenTo(e.model,"insertContent",(o,a)=>this._onInsertContent(o,...a),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const o=this.editor.plugins.get(Gp);if(!o.getSelectedTableCells()||"cut"==e.name&&this.editor.isReadOnly)return;t.preventDefault(),e.stop();const h=this.editor.editing.view.document,g=this.editor.data.toView(o.getSelectionAsFragment());h.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:g,method:e.name})}_onInsertContent(e,t,o){if(o&&!o.is("documentSelection"))return;const a=this.editor.model,h=this.editor.plugins.get(Ka);let g=Ew(t,a);if(!g)return;const y=h.getSelectionAffectedTableCells(a.document.selection);y.length?(e.stop(),a.change(k=>{const E={width:h.getColumns(g),height:h.getRows(g)},D=function(Ge,mt,Ot,tn){const Pn=Ge[0].findAncestor("table"),tr=tn.getColumnIndexes(Ge),_r=tn.getRowIndexes(Ge),Jo={firstColumn:tr.first,lastColumn:tr.last,firstRow:_r.first,lastRow:_r.last},ll=1===Ge.length;return ll&&(Jo.lastRow+=mt.height-1,Jo.lastColumn+=mt.width-1,function(tc,qm,Kd,fd){const yf=fd.getColumns(tc),rp=fd.getRows(tc);Kd>yf&&fd.insertColumns(tc,{at:yf,columns:Kd-yf}),qm>rp&&fd.insertRows(tc,{at:rp,rows:qm-rp})}(Pn,Jo.lastRow+1,Jo.lastColumn+1,tn)),ll||!tn.isSelectionRectangular(Ge)?function(tc,qm,Kd){const{firstRow:fd,lastRow:yf,firstColumn:rp,lastColumn:tm}=qm,Iv={first:fd,last:yf},Rw={first:rp,last:tm};Dv(tc,rp,Iv,Kd),Dv(tc,tm+1,Iv,Kd),tb(tc,fd,Rw,Kd),tb(tc,yf+1,Rw,Kd,fd)}(Pn,Jo,Ot):(Jo.lastRow=_v(Pn,Jo),Jo.lastColumn=fw(Pn,Jo)),Jo}(y,E,k,h),Z=D.lastColumn-D.firstColumn+1,ue={startRow:0,startColumn:0,endRow:Math.min(D.lastRow-D.firstRow+1,E.height)-1,endColumn:Math.min(Z,E.width)-1};g=cw(g,ue,k);const Ae=y[0].findAncestor("table"),Pe=this._replaceSelectedCellsWithPasted(g,E,Ae,D,k);if(this.editor.plugins.get("TableSelection").isEnabled){const Ge=h.sortRanges(Pe.map(mt=>k.createRangeOn(mt)));k.setSelection(Ge)}else k.setSelection(Pe[0],0)})):Q_(g,h)}_replaceSelectedCellsWithPasted(e,t,o,a,h){const{width:g,height:y}=t,k=function(Ge,mt,Ot){const tn=new Array(Ot).fill(null).map(()=>new Array(mt).fill(null));for(const{column:Pn,row:tr,cell:_r}of new ss(Ge))tn[tr][Pn]=_r;return tn}(e,g,y),E=[...new ss(o,{startRow:a.firstRow,endRow:a.lastRow,startColumn:a.firstColumn,endColumn:a.lastColumn,includeAllSlots:!0})],D=[];let F;for(const Ge of E){const{row:mt,column:Ot}=Ge;Ot===a.firstColumn&&(F=Ge.getPositionBefore());const tr=k[(mt-a.firstRow)%y][(Ot-a.firstColumn)%g],_r=tr?h.cloneElement(tr):null,Jo=this._replaceTableSlotCell(Ge,_r,F,h);Jo&&(Z_(Jo,mt,Ot,a.lastRow,a.lastColumn,h),D.push(Jo),F=h.createPositionAfter(Jo))}const Z=parseInt(o.getAttribute("headingRows")||0),ue=parseInt(o.getAttribute("headingColumns")||0),Pe=a.firstColumn<ue&&ue<=a.lastColumn;if(a.firstRow<Z&&Z<=a.lastRow){const Ge=tb(o,Z,{first:a.firstColumn,last:a.lastColumn},h,a.firstRow);D.push(...Ge)}if(Pe){const Ge=Dv(o,ue,{first:a.firstRow,last:a.lastRow},h);D.push(...Ge)}return D}_replaceTableSlotCell(e,t,o,a){const{cell:h,isAnchor:g}=e;return g&&a.remove(h),t?(a.insert(t,o),t):null}getTableIfOnlyTableInContent(e,t){return Ew(e,t)}}function Ew(d,e){if(!d.is("documentFragment")&&!d.is("element"))return null;if(d.is("element","table"))return d;if(1==d.childCount&&d.getChild(0).is("element","table"))return d.getChild(0);const t=e.createRangeIn(d);for(const o of t.getItems())if(o.is("element","table")){const a=e.createRange(t.start,e.createPositionBefore(o));if(e.hasContent(a,{ignoreWhitespaces:!0}))return null;const h=e.createRange(e.createPositionAfter(o),t.end);return e.hasContent(h,{ignoreWhitespaces:!0})?null:o}return null}function tb(d,e,t,o,a=0){if(!(e<1))return uw(d,e,a).filter(({column:h,cellWidth:g})=>Tv(h,g,t)).map(({cell:h})=>dw(h,e,o))}function Dv(d,e,t,o){if(!(e<1))return hw(d,e).filter(({row:a,cellHeight:h})=>Tv(a,h,t)).map(({cell:a,column:h})=>mv(a,h,e,o))}function Tv(d,e,t){const o=d+e-1,{first:a,last:h}=t;return d>=a&&d<=h||d<a&&o>=a}class Mw extends fn{static get pluginName(){return"TableKeyboard"}static get requires(){return[Gp,Ka]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...t)=>this._onArrowKey(...t),{context:"table"}),this.listenTo(e,"tab",(...t)=>this._handleTabOnSelectedTable(...t),{context:"figure"}),this.listenTo(e,"tab",(...t)=>this._handleTab(...t),{context:["th","td"]})}_handleTabOnSelectedTable(e,t){const o=this.editor,a=o.model.document.selection.getSelectedElement();a&&a.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),o.model.change(h=>{h.setSelection(h.createRangeIn(a.getChild(0).getChild(0)))}))}_handleTab(e,t){const o=this.editor,a=this.editor.plugins.get(Ka),g=!t.shiftKey;let y=a.getTableCellsContainingSelection(o.model.document.selection)[0];if(y||(y=this.editor.plugins.get("TableSelection").getFocusCell()),!y)return;t.preventDefault(),t.stopPropagation(),e.stop();const k=y.parent,E=k.parent,D=E.getChildIndex(k),F=k.getChildIndex(y),Z=0===F;if(!g&&Z&&0===D)return void o.model.change(Ge=>{Ge.setSelection(Ge.createRangeOn(E))});const ue=F===k.childCount-1,Ae=D===a.getRows(E)-1;if(g&&Ae&&ue&&(o.execute("insertTableRowBelow"),D===a.getRows(E)-1))return void o.model.change(Ge=>{Ge.setSelection(Ge.createRangeOn(E))});let Pe;if(g&&ue)Pe=E.getChild(D+1).getChild(0);else if(!g&&Z){const Ge=E.getChild(D-1);Pe=Ge.getChild(Ge.childCount-1)}else Pe=k.getChild(F+(g?1:-1));o.model.change(Ge=>{Ge.setSelection(Ge.createRangeIn(Pe))})}_onArrowKey(e,t){const a=re(t.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(a,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const o=this.editor.plugins.get(Ka),a=this.editor.model,h=a.document.selection,g=["right","down"].includes(e),y=o.getSelectedTableCells(h);if(y.length){let E;return E=t?this.editor.plugins.get("TableSelection").getFocusCell():g?y[y.length-1]:y[0],this._navigateFromCellInDirection(E,e,t),!0}const k=h.focus.findAncestor("tableCell");if(!k)return!1;if(!h.isCollapsed)if(t){if(h.isBackward==g&&!h.containsEntireContent(k))return!1}else{const E=h.getSelectedElement();if(!E||!a.schema.isObject(E))return!1}return!!this._isSelectionAtCellEdge(h,k,g)&&(this._navigateFromCellInDirection(k,e,t),!0)}_isSelectionAtCellEdge(e,t,o){const a=this.editor.model,h=this.editor.model.schema,g=o?e.getLastPosition():e.getFirstPosition();if(!h.getLimitElement(g).is("element","tableCell"))return a.createPositionAt(t,o?"end":0).isTouching(g);const y=a.createSelection(g);return a.modifySelection(y,{direction:o?"forward":"backward"}),g.isEqual(y.focus)}_navigateFromCellInDirection(e,t,o=!1){const a=this.editor.model,h=e.findAncestor("table"),g=[...new ss(h,{includeAllSlots:!0})],{row:y,column:k}=g[g.length-1],E=g.find(({cell:Pe})=>Pe==e);let{row:D,column:F}=E;switch(t){case"left":F--;break;case"up":D--;break;case"right":F+=E.cellWidth;break;case"down":D+=E.cellHeight}if(D<0||D>y||F<0&&D<=0||F>k&&D>=y)return void a.change(Pe=>{Pe.setSelection(Pe.createRangeOn(h))});F<0?(F=o?0:k,D--):F>k&&(F=o?k:0,D++);const Z=g.find(Pe=>Pe.row==D&&Pe.column==F).cell,ue=["right","down"].includes(t),Ae=this.editor.plugins.get("TableSelection");if(o&&Ae.isEnabled){const Pe=Ae.getAnchorCell()||e;Ae.setCellSelection(Pe,Z)}else{const Pe=a.createPositionAt(Z,ue?0:"end");a.change(Ge=>{Ge.setSelection(Pe)})}}}class Dw extends $a{constructor(e){super(e),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class Tw extends fn{static get pluginName(){return"TableMouse"}static get requires(){return[Gp,Ka]}init(){this.editor.editing.view.addObserver(Dw),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(Ka);let o=!1;const a=e.plugins.get(Gp);this.listenTo(e.editing.view.document,"mousedown",(h,g)=>{const y=e.model.document.selection;if(!this.isEnabled||!a.isEnabled||!g.domEvent.shiftKey)return;const k=a.getAnchorCell()||t.getTableCellsContainingSelection(y)[0];if(!k)return;const E=this._getModelTableCellFromDomEvent(g);E&&Sw(k,E)&&(o=!0,a.setCellSelection(k,E),g.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{o=!1}),this.listenTo(e.editing.view.document,"selectionChange",h=>{o&&h.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,o,a=!1,h=!1;const g=e.plugins.get(Gp);this.listenTo(e.editing.view.document,"mousedown",(y,k)=>{this.isEnabled&&g.isEnabled&&(k.domEvent.shiftKey||k.domEvent.ctrlKey||k.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(k)))}),this.listenTo(e.editing.view.document,"mousemove",(y,k)=>{if(!k.domEvent.buttons||!t)return;const E=this._getModelTableCellFromDomEvent(k);E&&Sw(t,E)&&(o=E,a||o==t||(a=!0)),a&&(h=!0,g.setCellSelection(t,o),k.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1,h=!1,t=null,o=null}),this.listenTo(e.editing.view.document,"selectionChange",y=>{h&&y.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const o=this.editor.editing.view.createPositionAt(e.target,0);return this.editor.editing.mapper.toModelPosition(o).parent.findAncestor("tableCell",{includeSelf:!0})}}function Sw(d,e){return d.parent.parent==e.parent.parent}var Iw=Ne(6306);function Pw(d){const e=d.getSelectedElement();return e&&mC(e)?e:null}function HC(d){const e=d.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&mC(t))return t;t=t.parent}return null}function mC(d){return!!d.getCustomProperty("table")&&ti(d)}Bi()(Iw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Ow={autoRefresh:!0};class nb{constructor(e,t=Ow){if(!e)throw new Oe("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),this._refresh="function"==typeof e?e:()=>{return o=e,new Promise((a,h)=>{const g=new XMLHttpRequest;g.open("GET",o),g.addEventListener("load",()=>{const y=g.status,k=g.response;return y<200||y>299?h(new Oe("token-cannot-download-new-token",null)):a(k)}),g.addEventListener("error",()=>h(new Error("Network Error"))),g.addEventListener("abort",()=>h(new Error("Abort"))),g.send()});var o},this._options=Object.assign({},Ow,t)}init(){return new Promise((e,t)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(t)})}refreshToken(){return this._refresh().then(e=>{this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t="string"==typeof e,o=!/^".*"$/.test(e),a=t&&3===e.split(".").length;if(!o||!a)throw new Oe("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?Math.floor((1e3*t-Date.now())/2):36e5}catch(e){return 36e5}}static create(e,t=Ow){return new nb(e,t).init()}}we(nb,Dn);const qC=nb,Sv=/^data:(\S*?);base64,/;class _C{constructor(e,t,o){if(!e)throw new Oe("fileuploader-missing-file",null);if(!t)throw new Oe("fileuploader-missing-token",null);if(!o)throw new Oe("fileuploader-missing-api-address",null);this.file=function(a){if("string"!=typeof a)return!1;const h=a.match(Sv);return!(!h||!h.length)}(e)?function(a,h=512){try{const g=a.match(Sv)[1],y=atob(a.replace(Sv,"")),k=[];for(let E=0;E<y.length;E+=h){const D=y.slice(E,E+h),F=new Array(D.length);for(let Z=0;Z<D.length;Z++)F[Z]=D.charCodeAt(Z);k.push(new Uint8Array(F))}return new Blob(k,{type:g})}catch(g){throw new Oe("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=o}onProgress(e){return this.on("progress",(t,o)=>e(o)),this}onError(e){return this.once("error",(t,o)=>e(o)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this,t=this.xhr;function o(a){return()=>e.fire("error",a)}t.addEventListener("error",o("Network Error")),t.addEventListener("abort",o("Abort")),t.upload&&t.upload.addEventListener("progress",a=>{a.lengthComputable&&this.fire("progress",{total:a.total,uploaded:a.loaded})}),t.addEventListener("load",()=>{const a=t.status,h=t.response;if(a<200||a>299)return this.fire("error",h.message||h.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((o,a)=>{t.addEventListener("load",()=>{const h=t.status,g=t.response;return h<200||h>299?a(g.message?new Oe("fileuploader-uploading-data-failed",this,{message:g.message}):g.error):o(g)}),t.addEventListener("error",()=>a(new Error("Network Error"))),t.addEventListener("abort",()=>a(new Error("Abort"))),t.send(e)})}}we(_C,He);class ib{constructor(e,t){if(!e)throw new Oe("uploadgateway-missing-token",null);if(!t)throw new Oe("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new _C(e,this._token,this._apiAddress)}}class GC extends no{static get pluginName(){return"CloudServicesCore"}createToken(e,t){return new qC(e,t)}createUploadGateway(e,t){return new ib(e,t)}}class x_ extends Dh{}x_.builtinPlugins=[class extends fn{static get requires(){return[cb,te,Hl,kt,jp,jv]}static get pluginName(){return"Essentials"}},class extends fn{static get requires(){return[Ih]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const d=this.editor.config.get("ckfinder.uploadUrl");d&&(this.editor.plugins.get(Ih).createUploadAdapter=e=>new Vv(e,d,this.editor.t))}},class extends fn{static get requires(){return[zu]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const d=this.editor.commands;d.get("bulletedList")&&Ec(this.editor,this,/^[*-]\s$/,"bulletedList"),d.get("numberedList")&&Ec(this.editor,this,/^1[.|)]\s$/,"numberedList"),d.get("todoList")&&Ec(this.editor,this,/^\[\s?\]\s$/,"todoList"),d.get("checkTodoList")&&Ec(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const d=this.editor.commands;if(d.get("bold")){const e=l_(this.editor,"bold");Yc(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Yc(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(d.get("italic")){const e=l_(this.editor,"italic");Yc(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Yc(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(d.get("code")){const e=l_(this.editor,"code");Yc(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(d.get("strikethrough")){const e=l_(this.editor,"strikethrough");Yc(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const d=this.editor.commands.get("heading");d&&d.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const o=new RegExp(`^(#{${e[7]}})\\s$`);Ec(this.editor,this,o,()=>{if(!d.isEnabled||d.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Ec(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const d=this.editor,e=d.model.document.selection;d.commands.get("codeBlock")&&Ec(d,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Ec(this.editor,this,/^---$/,"horizontalLine")}},class extends fn{static get requires(){return[$w,Ww]}static get pluginName(){return"Bold"}},class extends fn{static get requires(){return[c_,Uv]}static get pluginName(){return"Italic"}},class extends fn{static get requires(){return[Yw,vb]}static get pluginName(){return"BlockQuote"}},class extends fn{static get pluginName(){return"CKBox"}static get requires(){return[Ab,P_]}},class extends fn{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",e0,Jw]}},class extends no{static get pluginName(){return"CloudServices"}static get requires(){return[GC]}init(){const d=this.context.config.get("cloudServices")||{};for(const e in d)this[e]=d[e];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}registerTokenUrl(d){if(this._tokens.has(d))return Promise.resolve(this.getTokenFor(d));const e=this.context.plugins.get("CloudServicesCore").createToken(d);return this._tokens.set(d,e),e.init()}getTokenFor(d){const e=this._tokens.get(d);if(!e)throw new Oe("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const d of this._tokens.values())d.destroy()}},class extends fn{static get requires(){return[t0,"ImageUpload"]}init(){const d=this.editor;d.plugins.has("ImageBlockEditing")||d.plugins.has("ImageInlineEditing")||Mt("easy-image-image-feature-missing",d)}static get pluginName(){return"EasyImage"}},class extends fn{static get requires(){return[ey,ny]}static get pluginName(){return"Heading"}},class extends fn{static get requires(){return[Ya,ay]}static get pluginName(){return"Image"}},class extends fn{static get requires(){return[cy,uy]}static get pluginName(){return"ImageCaption"}},class extends fn{static get requires(){return[gy,_y]}static get pluginName(){return"ImageStyle"}},class extends fn{static get requires(){return[xi,Yd]}static get pluginName(){return"ImageToolbar"}afterInit(){const d=this.editor,e=d.t,t=d.plugins.get(xi),o=d.plugins.get("ImageUtils");var a;t.register("image",{ariaLabel:e("Image toolbar"),items:(a=d.config.get("image.toolbar")||[],a.map(h=>lt(h)?h.name:h)),getRelatedElement:h=>o.getClosestSelectedImageWidget(h)})}},class extends fn{static get pluginName(){return"ImageUpload"}static get requires(){return[C0,LC,y0]}},class extends fn{static get pluginName(){return"Indent"}static get requires(){return[k0,A0]}},class extends fn{static get requires(){return[Yb,jm,jC]}static get pluginName(){return"Link"}},class extends fn{static get requires(){return[VC,iv]}static get pluginName(){return"List"}},class extends fn{static get requires(){return[q_,tw,Jy,En]}static get pluginName(){return"MediaEmbed"}},h_,class extends fn{static get pluginName(){return"PasteFromOffice"}static get requires(){return[gu]}init(){const d=this.editor,e=d.editing.view.document,t=[];t.push(new iC(e)),t.push(new uv(e)),d.plugins.get("ClipboardPipeline").on("inputTransformation",(o,a)=>{if(a._isTransformedWithPasteFromOffice||d.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const h=a.dataTransfer.getData("text/html"),g=t.find(y=>y.isActive(h));g&&(a._parsedData=function(d,e){const t=new DOMParser,o=rw(rw(function(k){const E="</body>",F=k.indexOf(E);if(F<0)return k;const Z=k.indexOf("</html>",F+E.length);return k.substring(0,F+E.length)+(Z>=0?k.substring(Z):"")}(d=d.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><"),a=t.parseFromString(o,"text/html");a.querySelectorAll("span[style*=spacerun]").forEach(E=>{const D=E.innerText.length||0;E.innerText=Array(D+1).join("\xa0 ").substr(0,D)});const h=a.body.innerHTML,g=function(k,E){const D=new Dr(E),F=new ki(D,{renderingMode:"data"}),Z=k.createDocumentFragment(),ue=k.body.childNodes;for(;ue.length>0;)Z.appendChild(ue[0]);return F.domToView(Z,{skipComments:!0})}(a,e),y=function(k){const E=[],D=[],F=Array.from(k.getElementsByTagName("style"));for(const Z of F)Z.sheet&&Z.sheet.cssRules&&Z.sheet.cssRules.length&&(E.push(Z.sheet),D.push(Z.innerHTML));return{styles:E,stylesString:D.join(" ")}}(a);return{body:g,bodyString:h,styles:y.styles,stylesString:y.stylesString}}(h,e.stylesProcessor),g.execute(a),a._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends fn{static get requires(){return[Sb,Yd]}static get pluginName(){return"PictureEditing"}afterInit(){const d=this.editor;d.plugins.has("ImageBlockEditing")&&d.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),d.plugins.has("ImageInlineEditing")&&d.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const d=this.editor,e=d.conversion,t=d.plugins.get("ImageUtils");e.for("upcast").add(function(o){const a=["srcset","media","type","sizes"];return g=>{g.on("element:picture",h)};function h(g,y,k){const E=y.viewItem;if(!k.consumable.test(E,{name:!0}))return;const D=new Map;for(const ue of E.getChildren())if(ue.is("element","source")){const Ae={};for(const Pe of a)ue.hasAttribute(Pe)&&k.consumable.test(ue,{attributes:Pe})&&(Ae[Pe]=ue.getAttribute(Pe));Object.keys(Ae).length&&D.set(ue,Ae)}const F=o.findViewImgElement(E);if(!F)return;let Z=y.modelCursor.parent;if(!Z.is("element","imageBlock")){const ue=k.convertItem(F,y.modelCursor);y.modelRange=ue.modelRange,y.modelCursor=ue.modelCursor,Z=mi(ue.modelRange.getItems())}k.consumable.consume(E,{name:!0});for(const[ue,Ae]of D)k.consumable.consume(ue,{attributes:Object.keys(Ae)});D.size&&k.writer.setAttribute("sources",Array.from(D.values()),Z),k.convertChildren(E,Z)}}(t)),e.for("downcast").add(function(o){return h=>{h.on("attribute:sources:imageBlock",a),h.on("attribute:sources:imageInline",a)};function a(h,g,y){if(!y.consumable.consume(g.item,h.name))return;const k=y.writer,E=y.mapper.toViewElement(g.item),D=o.findViewImgElement(E);if(g.attributeNewValue&&g.attributeNewValue.length){const F=k.createContainerElement("picture",null,g.attributeNewValue.map(Ae=>k.createEmptyElement("source",Ae))),Z=[];let ue=D.parent;for(;ue&&ue.is("attributeElement");){const Ae=ue.parent;k.unwrap(k.createRangeOn(D),ue),Z.unshift(ue),ue=Ae}k.insert(k.createPositionBefore(D),F),k.move(k.createRangeOn(D),k.createPositionAt(F,"end"));for(const Ae of Z)k.wrap(k.createRangeOn(F),Ae)}else if(D.parent.is("element","picture")){const F=D.parent;k.move(k.createRangeOn(D),k.createPositionBefore(F)),k.remove(F)}}}(t))}_setupImageUploadEditingIntegration(){const d=this.editor;d.plugins.has("ImageUploadEditing")&&this.listenTo(d.plugins.get("ImageUploadEditing"),"uploadComplete",(e,{imageElement:t,data:o})=>{const a=o.sources;a&&d.model.change(h=>{h.setAttributes({sources:a},t)})})}},class extends fn{static get requires(){return[Mv,Cw,Gp,Tw,Mw,pC,En]}static get pluginName(){return"Table"}},class extends fn{static get requires(){return[xi]}static get pluginName(){return"TableToolbar"}afterInit(){const d=this.editor,e=d.t,t=d.plugins.get(xi),o=d.config.get("table.contentToolbar"),a=d.config.get("table.tableToolbar");o&&t.register("tableContent",{ariaLabel:e("Table toolbar"),items:o,getRelatedElement:HC}),a&&t.register("table",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:Pw})}},class extends fn{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(d){super(d),d.config.define("typing",{transformations:{include:mf}})}init(){const d=this.editor.model.document.selection;d.on("change:range",()=>{this.isEnabled=!d.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const d=this.editor,e=d.model,t=d.plugins.get("Delete"),o=function(h){const y=h.remove||[],k=E=>!y.includes(E);return function(E){const D=new Set;for(const F of E)if("string"==typeof F&&Hp[F])for(const Z of Hp[F])D.add(Z);else D.add(F);return Array.from(D)}(h.include.concat(h.extra||[]).filter(k)).filter(k).map(E=>"string"==typeof E&&Gg[E]?Gg[E]:E).filter(E=>"object"==typeof E).map(E=>({from:s_(E.from),to:Im(E.to)}))}(d.config.get("typing.transformations")),a=new tp(d.model,h=>{for(const g of o)if(g.from.test(h))return{normalizedTransformation:g}});a.on("matched:data",(h,g)=>{if(!g.batch.isTyping)return;const{from:y,to:k}=g.normalizedTransformation,E=y.exec(g.text),D=k(E.slice(1)),F=g.range;let Z=E.index;e.enqueueChange(ue=>{for(let Ae=1;Ae<E.length;Ae++){const Pe=E[Ae],Ge=D[Ae-1];if(null==Ge){Z+=Pe.length;continue}const mt=F.start.getShiftedBy(Z),Ot=e.createRange(mt,mt.getShiftedBy(Pe.length)),tn=rb(mt);e.insertContent(ue.createText(Ge,tn),Ot),Z+=Ge.length}e.enqueueChange(()=>{t.requestUndoOnBackspace()})})}),a.bind("isEnabled").to(this)}}],x_.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),ce.default})())()},417:(Jt,vt,X)=>{"use strict";X.d(vt,{Z:()=>Ht});var ce,Mt,m=X(4762),B=X(8305),he=X(8391),Ne=X(6433),U=((ce={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ce["bad-app-name"]="Illegal App name: '{$appName}",ce["duplicate-app"]="Firebase App named '{$appName}' already exists",ce["app-deleted"]="Firebase App named '{$appName}' already deleted",ce["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ce["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ce),De=new B.LL("app","Firebase",U),Y="@firebase/app",dt="[DEFAULT]",Xt=((Mt={})[Y]="fire-core",Mt["@firebase/analytics"]="fire-analytics",Mt["@firebase/app-check"]="fire-app-check",Mt["@firebase/auth"]="fire-auth",Mt["@firebase/database"]="fire-rtdb",Mt["@firebase/functions"]="fire-fn",Mt["@firebase/installations"]="fire-iid",Mt["@firebase/messaging"]="fire-fcm",Mt["@firebase/performance"]="fire-perf",Mt["@firebase/remote-config"]="fire-rc",Mt["@firebase/storage"]="fire-gcs",Mt["@firebase/firestore"]="fire-fst",Mt["fire-js"]="fire-js",Mt["firebase-wrapper"]="fire-js-all",Mt),qt=new Ne.Yd("@firebase/app"),vn=function(){function jt(Kt,lt,$t){var _t=this;this.firebase_=$t,this.isDeleted_=!1,this.name_=lt.name,this.automaticDataCollectionEnabled_=lt.automaticDataCollectionEnabled||!1,this.options_=(0,B.p$)(Kt),this.container=new he.H0(lt.name),this._addComponent(new he.wA("app",function(){return _t},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Et){return _t._addComponent(Et)})}return Object.defineProperty(jt.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Kt){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Kt},enumerable:!1,configurable:!0}),Object.defineProperty(jt.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(jt.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),jt.prototype.delete=function(){var Kt=this;return new Promise(function(lt){Kt.checkDestroyed_(),lt()}).then(function(){return Kt.firebase_.INTERNAL.removeApp(Kt.name_),Promise.all(Kt.container.getProviders().map(function(lt){return lt.delete()}))}).then(function(){Kt.isDeleted_=!0})},jt.prototype._getService=function(Kt,lt){var $t;void 0===lt&&(lt=dt),this.checkDestroyed_();var _t=this.container.getProvider(Kt);return!_t.isInitialized()&&"EXPLICIT"===(null===($t=_t.getComponent())||void 0===$t?void 0:$t.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:lt})},jt.prototype._removeServiceInstance=function(Kt,lt){void 0===lt&&(lt=dt),this.container.getProvider(Kt).clearInstance(lt)},jt.prototype._addComponent=function(Kt){try{this.container.addComponent(Kt)}catch(lt){qt.debug("Component "+Kt.name+" failed to register with FirebaseApp "+this.name,lt)}},jt.prototype._addOrOverwriteComponent=function(Kt){this.container.addOrOverwriteComponent(Kt)},jt.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},jt.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw De.create("app-deleted",{appName:this.name_})},jt}();vn.prototype.name&&vn.prototype.options||vn.prototype.delete||console.log("dc");var je=function Ke(){var jt=function(jt){var Kt={},lt=new Map,$t={__esModule:!0,initializeApp:function(Nn,Cn){void 0===Cn&&(Cn={}),("object"!=typeof Cn||null===Cn)&&(Cn={name:Cn});var Zn=Cn;void 0===Zn.name&&(Zn.name=dt);var ai=Zn.name;if("string"!=typeof ai||!ai)throw De.create("bad-app-name",{appName:String(ai)});if((0,B.r3)(Kt,ai))throw De.create("duplicate-app",{appName:ai});var fi=new jt(Nn,Zn,$t);return Kt[ai]=fi,fi},app:Et,registerVersion:function(Nn,Cn,si){var Zn,ai=null!==(Zn=Xt[Nn])&&void 0!==Zn?Zn:Nn;si&&(ai+="-"+si);var fi=ai.match(/\s|\//),Di=Cn.match(/\s|\//);if(fi||Di){var Ei=['Unable to register library "'+ai+'" with version "'+Cn+'":'];return fi&&Ei.push('library name "'+ai+'" contains illegal characters (whitespace or "/")'),fi&&Di&&Ei.push("and"),Di&&Ei.push('version name "'+Cn+'" contains illegal characters (whitespace or "/")'),void qt.warn(Ei.join(" "))}Zi(new he.wA(ai+"-version",function(){return{library:ai,version:Cn}},"VERSION"))},setLogLevel:Ne.Ub,onLog:function(Nn,Cn){if(null!==Nn&&"function"!=typeof Nn)throw De.create("invalid-log-argument");(0,Ne.Am)(Nn,Cn)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Zi,removeApp:function(Nn){delete Kt[Nn]},components:lt,useAsService:function(Nn,Cn){return"serverAuth"===Cn?null:Cn}}};function Et(Nn){if(!(0,B.r3)(Kt,Nn=Nn||dt))throw De.create("no-app",{appName:Nn});return Kt[Nn]}function Zi(Nn){var Cn=Nn.name;if(lt.has(Cn))return qt.debug("There were multiple attempts to register component "+Cn+"."),"PUBLIC"===Nn.type?$t[Cn]:null;if(lt.set(Cn,Nn),"PUBLIC"===Nn.type){var si=function(Di){if(void 0===Di&&(Di=Et()),"function"!=typeof Di[Cn])throw De.create("invalid-app-argument",{appName:Cn});return Di[Cn]()};void 0!==Nn.serviceProps&&(0,B.ZB)(si,Nn.serviceProps),$t[Cn]=si,jt.prototype[Cn]=function(){for(var Di=[],Ei=0;Ei<arguments.length;Ei++)Di[Ei]=arguments[Ei];return this._getService.bind(this,Cn).apply(this,Nn.multipleInstances?Di:[])}}for(var Zn=0,ai=Object.keys(Kt);Zn<ai.length;Zn++)Kt[ai[Zn]]._addComponent(Nn);return"PUBLIC"===Nn.type?$t[Cn]:null}return $t.default=$t,Object.defineProperty($t,"apps",{get:function(){return Object.keys(Kt).map(function(Nn){return Kt[Nn]})}}),Et.App=jt,$t}(vn);return jt.INTERNAL=(0,m.pi)((0,m.pi)({},jt.INTERNAL),{createFirebaseNamespace:Ke,extendNamespace:function(lt){(0,B.ZB)(jt,lt)},createSubscribe:B.ne,ErrorFactory:B.LL,deepExtend:B.ZB}),jt}(),ze=function(){function jt(Kt){this.container=Kt}return jt.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(lt){if(function(jt){var Kt=jt.getComponent();return"VERSION"===(null==Kt?void 0:Kt.type)}(lt)){var $t=lt.getImmediate();return $t.library+"/"+$t.version}return null}).filter(function(lt){return lt}).join(" ")},jt}();if((0,B.jU)()&&void 0!==self.firebase){qt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&qt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var It=je.initializeApp;je.initializeApp=function(){for(var jt=[],Kt=0;Kt<arguments.length;Kt++)jt[Kt]=arguments[Kt];return(0,B.UG)()&&qt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),It.apply(void 0,jt)};var jt,Vt=je;(jt=Vt).INTERNAL.registerComponent(new he.wA("platform-logger",function(lt){return new ze(lt)},"PRIVATE")),jt.registerVersion(Y,"0.6.30",undefined),jt.registerVersion("fire-js","");const Ht=Vt},8391:(Jt,vt,X)=>{"use strict";X.d(vt,{wA:()=>he,H0:()=>Y});var m=X(4762),B=X(8305),he=function(){function be(fe,ge,_e){this.name=fe,this.instanceFactory=ge,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return be.prototype.setInstantiationMode=function(fe){return this.instantiationMode=fe,this},be.prototype.setMultipleInstances=function(fe){return this.multipleInstances=fe,this},be.prototype.setServiceProps=function(fe){return this.serviceProps=fe,this},be.prototype.setInstanceCreatedCallback=function(fe){return this.onInstanceCreated=fe,this},be}(),Ne="[DEFAULT]",ce=function(){function be(fe,ge){this.name=fe,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return be.prototype.get=function(fe){var ge=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(ge)){var _e=new B.BH;if(this.instancesDeferred.set(ge,_e),this.isInitialized(ge)||this.shouldAutoInitialize())try{var Te=this.getOrInitializeService({instanceIdentifier:ge});Te&&_e.resolve(Te)}catch(we){}}return this.instancesDeferred.get(ge).promise},be.prototype.getImmediate=function(fe){var ge,_e=this.normalizeInstanceIdentifier(null==fe?void 0:fe.identifier),Te=null!==(ge=null==fe?void 0:fe.optional)&&void 0!==ge&&ge;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(Te)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(we){if(Te)return null;throw we}},be.prototype.getComponent=function(){return this.component},be.prototype.setComponent=function(fe){var ge,_e;if(fe.name!==this.name)throw Error("Mismatching Component "+fe.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=fe,this.shouldAutoInitialize()){if(function(be){return"EAGER"===be.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch(de){}try{for(var Te=(0,m.XA)(this.instancesDeferred.entries()),we=Te.next();!we.done;we=Te.next()){var Ve=(0,m.CR)(we.value,2),Se=Ve[1],ct=this.normalizeInstanceIdentifier(Ve[0]);try{var $e=this.getOrInitializeService({instanceIdentifier:ct});Se.resolve($e)}catch(de){}}}catch(de){ge={error:de}}finally{try{we&&!we.done&&(_e=Te.return)&&_e.call(Te)}finally{if(ge)throw ge.error}}}},be.prototype.clearInstance=function(fe){void 0===fe&&(fe=Ne),this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)},be.prototype.delete=function(){return(0,m.mG)(this,void 0,void 0,function(){var fe;return(0,m.Jh)(this,function(ge){switch(ge.label){case 0:return fe=Array.from(this.instances.values()),[4,Promise.all((0,m.ev)((0,m.ev)([],(0,m.CR)(fe.filter(function(_e){return"INTERNAL"in _e}).map(function(_e){return _e.INTERNAL.delete()}))),(0,m.CR)(fe.filter(function(_e){return"_delete"in _e}).map(function(_e){return _e._delete()}))))];case 1:return ge.sent(),[2]}})})},be.prototype.isComponentSet=function(){return null!=this.component},be.prototype.isInitialized=function(fe){return void 0===fe&&(fe=Ne),this.instances.has(fe)},be.prototype.getOptions=function(fe){return void 0===fe&&(fe=Ne),this.instancesOptions.get(fe)||{}},be.prototype.initialize=function(fe){var ge,_e;void 0===fe&&(fe={});var Te=fe.options,we=void 0===Te?{}:Te,Ve=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(Ve))throw Error(this.name+"("+Ve+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Xe=this.getOrInitializeService({instanceIdentifier:Ve,options:we});try{for(var Se=(0,m.XA)(this.instancesDeferred.entries()),ct=Se.next();!ct.done;ct=Se.next()){var $e=(0,m.CR)(ct.value,2),Oe=$e[1];Ve===this.normalizeInstanceIdentifier($e[0])&&Oe.resolve(Xe)}}catch(dt){ge={error:dt}}finally{try{ct&&!ct.done&&(_e=Se.return)&&_e.call(Se)}finally{if(ge)throw ge.error}}return Xe},be.prototype.onInit=function(fe,ge){var _e,Te=this.normalizeInstanceIdentifier(ge),we=null!==(_e=this.onInitCallbacks.get(Te))&&void 0!==_e?_e:new Set;we.add(fe),this.onInitCallbacks.set(Te,we);var Ve=this.instances.get(Te);return Ve&&fe(Ve,Te),function(){we.delete(fe)}},be.prototype.invokeOnInitCallbacks=function(fe,ge){var _e,Te,we=this.onInitCallbacks.get(ge);if(we)try{for(var Ve=(0,m.XA)(we),Xe=Ve.next();!Xe.done;Xe=Ve.next()){var Se=Xe.value;try{Se(fe,ge)}catch(ct){}}}catch(ct){_e={error:ct}}finally{try{Xe&&!Xe.done&&(Te=Ve.return)&&Te.call(Ve)}finally{if(_e)throw _e.error}}},be.prototype.getOrInitializeService=function(fe){var ge=fe.instanceIdentifier,_e=fe.options,Te=void 0===_e?{}:_e,we=this.instances.get(ge);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:U(ge),options:Te}),this.instances.set(ge,we),this.instancesOptions.set(ge,Te),this.invokeOnInitCallbacks(we,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,we)}catch(Ve){}return we||null},be.prototype.normalizeInstanceIdentifier=function(fe){return void 0===fe&&(fe=Ne),this.component?this.component.multipleInstances?fe:Ne:fe},be.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},be}();function U(be){return be===Ne?void 0:be}var Y=function(){function be(fe){this.name=fe,this.providers=new Map}return be.prototype.addComponent=function(fe){var ge=this.getProvider(fe.name);if(ge.isComponentSet())throw new Error("Component "+fe.name+" has already been registered with "+this.name);ge.setComponent(fe)},be.prototype.addOrOverwriteComponent=function(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)},be.prototype.getProvider=function(fe){if(this.providers.has(fe))return this.providers.get(fe);var ge=new ce(fe,this);return this.providers.set(fe,ge),ge},be.prototype.getProviders=function(){return Array.from(this.providers.values())},be}()},6433:(Jt,vt,X)=>{"use strict";function m(){for(var _e=0,Te=0,we=arguments.length;Te<we;Te++)_e+=arguments[Te].length;var Ve=Array(_e),Xe=0;for(Te=0;Te<we;Te++)for(var Se=arguments[Te],ct=0,$e=Se.length;ct<$e;ct++,Xe++)Ve[Xe]=Se[ct];return Ve}X.d(vt,{in:()=>Ne,Yd:()=>be,Ub:()=>fe,Am:()=>ge});var B,he=[],Ne=(()=>{return(_e=Ne||(Ne={}))[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",Ne;var _e})(),ce={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},U=Ne.INFO,De=((B={})[Ne.DEBUG]="log",B[Ne.VERBOSE]="log",B[Ne.INFO]="info",B[Ne.WARN]="warn",B[Ne.ERROR]="error",B),Y=function(_e,Te){for(var we=[],Ve=2;Ve<arguments.length;Ve++)we[Ve-2]=arguments[Ve];if(!(Te<_e.logLevel)){var Xe=(new Date).toISOString(),Se=De[Te];if(!Se)throw new Error("Attempted to log a message with an invalid logType (value: "+Te+")");console[Se].apply(console,m(["["+Xe+"]  "+_e.name+":"],we))}},be=function(){function _e(Te){this.name=Te,this._logLevel=U,this._logHandler=Y,this._userLogHandler=null,he.push(this)}return Object.defineProperty(_e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Te){if(!(Te in Ne))throw new TypeError('Invalid value "'+Te+'" assigned to `logLevel`');this._logLevel=Te},enumerable:!1,configurable:!0}),_e.prototype.setLogLevel=function(Te){this._logLevel="string"==typeof Te?ce[Te]:Te},Object.defineProperty(_e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Te){this._userLogHandler=Te},enumerable:!1,configurable:!0}),_e.prototype.debug=function(){for(var Te=[],we=0;we<arguments.length;we++)Te[we]=arguments[we];this._userLogHandler&&this._userLogHandler.apply(this,m([this,Ne.DEBUG],Te)),this._logHandler.apply(this,m([this,Ne.DEBUG],Te))},_e.prototype.log=function(){for(var Te=[],we=0;we<arguments.length;we++)Te[we]=arguments[we];this._userLogHandler&&this._userLogHandler.apply(this,m([this,Ne.VERBOSE],Te)),this._logHandler.apply(this,m([this,Ne.VERBOSE],Te))},_e.prototype.info=function(){for(var Te=[],we=0;we<arguments.length;we++)Te[we]=arguments[we];this._userLogHandler&&this._userLogHandler.apply(this,m([this,Ne.INFO],Te)),this._logHandler.apply(this,m([this,Ne.INFO],Te))},_e.prototype.warn=function(){for(var Te=[],we=0;we<arguments.length;we++)Te[we]=arguments[we];this._userLogHandler&&this._userLogHandler.apply(this,m([this,Ne.WARN],Te)),this._logHandler.apply(this,m([this,Ne.WARN],Te))},_e.prototype.error=function(){for(var Te=[],we=0;we<arguments.length;we++)Te[we]=arguments[we];this._userLogHandler&&this._userLogHandler.apply(this,m([this,Ne.ERROR],Te)),this._logHandler.apply(this,m([this,Ne.ERROR],Te))},_e}();function fe(_e){he.forEach(function(Te){Te.setLogLevel(_e)})}function ge(_e,Te){for(var we=function(ct){var $e=null;Te&&Te.level&&($e=ce[Te.level]),ct.userLogHandler=null===_e?null:function(de,Oe){for(var Mt=[],dt=2;dt<arguments.length;dt++)Mt[dt-2]=arguments[dt];var Xt=Mt.map(function(qt){if(null==qt)return null;if("string"==typeof qt)return qt;if("number"==typeof qt||"boolean"==typeof qt)return qt.toString();if(qt instanceof Error)return qt.message;try{return JSON.stringify(qt)}catch(vn){return null}}).filter(function(qt){return qt}).join(" ");Oe>=(null!=$e?$e:de.logLevel)&&_e({level:Ne[Oe].toLowerCase(),message:Xt,args:Mt,type:de.name})}},Ve=0,Xe=he;Ve<Xe.length;Ve++)we(Xe[Ve])}},8305:(Jt,vt,X)=>{"use strict";X.d(vt,{BH:()=>we,LL:()=>Fe,ZR:()=>He,r3:()=>Et,Sg:()=>Ve,ne:()=>Zn,p$:()=>ge,ZB:()=>_e,m9:()=>Pi,z$:()=>Xe,jU:()=>$e,ru:()=>de,d:()=>Mt,w1:()=>dt,uI:()=>Se,UG:()=>ct,b$:()=>Oe,G6:()=>vn,Mn:()=>Xt});var m=X(4762),ce=function(bt){for(var nt=[],Dt=0,Gt=0;Gt<bt.length;Gt++){var Tt=bt.charCodeAt(Gt);Tt<128?nt[Dt++]=Tt:Tt<2048?(nt[Dt++]=Tt>>6|192,nt[Dt++]=63&Tt|128):55296==(64512&Tt)&&Gt+1<bt.length&&56320==(64512&bt.charCodeAt(Gt+1))?(Tt=65536+((1023&Tt)<<10)+(1023&bt.charCodeAt(++Gt)),nt[Dt++]=Tt>>18|240,nt[Dt++]=Tt>>12&63|128,nt[Dt++]=Tt>>6&63|128,nt[Dt++]=63&Tt|128):(nt[Dt++]=Tt>>12|224,nt[Dt++]=Tt>>6&63|128,nt[Dt++]=63&Tt|128)}return nt},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(bt,nt){if(!Array.isArray(bt))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Dt=nt?this.byteToCharMapWebSafe_:this.byteToCharMap_,Gt=[],Tt=0;Tt<bt.length;Tt+=3){var sn=bt[Tt],zn=Tt+1<bt.length,Qn=zn?bt[Tt+1]:0,Fn=Tt+2<bt.length,Mi=Fn?bt[Tt+2]:0,Qr=(15&Qn)<<2|Mi>>6,hr=63&Mi;Fn||(hr=64,zn||(Qr=64)),Gt.push(Dt[sn>>2],Dt[(3&sn)<<4|Qn>>4],Dt[Qr],Dt[hr])}return Gt.join("")},encodeString:function(bt,nt){return this.HAS_NATIVE_SUPPORT&&!nt?btoa(bt):this.encodeByteArray(ce(bt),nt)},decodeString:function(bt,nt){return this.HAS_NATIVE_SUPPORT&&!nt?atob(bt):function(bt){for(var nt=[],Dt=0,Gt=0;Dt<bt.length;){var Tt=bt[Dt++];if(Tt<128)nt[Gt++]=String.fromCharCode(Tt);else if(Tt>191&&Tt<224){var sn=bt[Dt++];nt[Gt++]=String.fromCharCode((31&Tt)<<6|63&sn)}else if(Tt>239&&Tt<365){var Fn=((7&Tt)<<18|(63&(sn=bt[Dt++]))<<12|(63&(zn=bt[Dt++]))<<6|63&bt[Dt++])-65536;nt[Gt++]=String.fromCharCode(55296+(Fn>>10)),nt[Gt++]=String.fromCharCode(56320+(1023&Fn))}else{sn=bt[Dt++];var zn=bt[Dt++];nt[Gt++]=String.fromCharCode((15&Tt)<<12|(63&sn)<<6|63&zn)}}return nt.join("")}(this.decodeStringToByteArray(bt,nt))},decodeStringToByteArray:function(bt,nt){this.init_();for(var Dt=nt?this.charToByteMapWebSafe_:this.charToByteMap_,Gt=[],Tt=0;Tt<bt.length;){var sn=Dt[bt.charAt(Tt++)],Qn=Tt<bt.length?Dt[bt.charAt(Tt)]:0,Mi=++Tt<bt.length?Dt[bt.charAt(Tt)]:64,Lr=++Tt<bt.length?Dt[bt.charAt(Tt)]:64;if(++Tt,null==sn||null==Qn||null==Mi||null==Lr)throw Error();Gt.push(sn<<2|Qn>>4),64!==Mi&&(Gt.push(Qn<<4&240|Mi>>2),64!==Lr&&Gt.push(Mi<<6&192|Lr))}return Gt},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var bt=0;bt<this.ENCODED_VALS.length;bt++)this.byteToCharMap_[bt]=this.ENCODED_VALS.charAt(bt),this.charToByteMap_[this.byteToCharMap_[bt]]=bt,this.byteToCharMapWebSafe_[bt]=this.ENCODED_VALS_WEBSAFE.charAt(bt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[bt]]=bt,bt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(bt)]=bt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(bt)]=bt)}}},be=function(bt){return function(bt){var nt=ce(bt);return De.encodeByteArray(nt,!0)}(bt).replace(/\./g,"")};function ge(bt){return _e(void 0,bt)}function _e(bt,nt){if(!(nt instanceof Object))return nt;switch(nt.constructor){case Date:return new Date(nt.getTime());case Object:void 0===bt&&(bt={});break;case Array:bt=[];break;default:return nt}for(var Gt in nt)!nt.hasOwnProperty(Gt)||!Te(Gt)||(bt[Gt]=_e(bt[Gt],nt[Gt]));return bt}function Te(bt){return"__proto__"!==bt}var we=function(){function bt(){var nt=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Dt,Gt){nt.resolve=Dt,nt.reject=Gt})}return bt.prototype.wrapCallback=function(nt){var Dt=this;return function(Gt,Tt){Gt?Dt.reject(Gt):Dt.resolve(Tt),"function"==typeof nt&&(Dt.promise.catch(function(){}),1===nt.length?nt(Gt):nt(Gt,Tt))}},bt}();function Ve(bt,nt){if(bt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Gt=nt||"demo-project",Tt=bt.iat||0,sn=bt.sub||bt.user_id;if(!sn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var zn=(0,m.pi)({iss:"https://securetoken.google.com/"+Gt,aud:Gt,iat:Tt,exp:Tt+3600,auth_time:Tt,sub:sn,user_id:sn,firebase:{sign_in_provider:"custom",identities:{}}},bt);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(zn)),""].join(".")}function Xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function ct(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(bt){return!1}}function $e(){return"object"==typeof self&&self.self===self}function de(){var bt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof bt&&void 0!==bt.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Mt(){return Xe().indexOf("Electron/")>=0}function dt(){var bt=Xe();return bt.indexOf("MSIE ")>=0||bt.indexOf("Trident/")>=0}function Xt(){return Xe().indexOf("MSAppHost/")>=0}function vn(){return!ct()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var He=function(bt){function nt(Dt,Gt,Tt){var sn=bt.call(this,Gt)||this;return sn.code=Dt,sn.customData=Tt,sn.name="FirebaseError",Object.setPrototypeOf(sn,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(sn,Fe.prototype.create),sn}return(0,m.ZT)(nt,bt),nt}(Error),Fe=function(){function bt(nt,Dt,Gt){this.service=nt,this.serviceName=Dt,this.errors=Gt}return bt.prototype.create=function(nt){for(var Dt=[],Gt=1;Gt<arguments.length;Gt++)Dt[Gt-1]=arguments[Gt];var Tt=Dt[0]||{},sn=this.service+"/"+nt,zn=this.errors[nt],Qn=zn?Qe(zn,Tt):"Error",Fn=this.serviceName+": "+Qn+" ("+sn+").",Mi=new He(sn,Fn,Tt);return Mi},bt}();function Qe(bt,nt){return bt.replace(It,function(Dt,Gt){var Tt=nt[Gt];return null!=Tt?String(Tt):"<"+Gt+"?>"})}var It=/\{\$([^}]+)}/g;function Et(bt,nt){return Object.prototype.hasOwnProperty.call(bt,nt)}function Zn(bt,nt){var Dt=new ai(bt,nt);return Dt.subscribe.bind(Dt)}!function(){function bt(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var nt=1;nt<this.blockSize;++nt)this.pad_[nt]=0;this.reset()}bt.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},bt.prototype.compress_=function(nt,Dt){Dt||(Dt=0);var Gt=this.W_;if("string"==typeof nt)for(var Tt=0;Tt<16;Tt++)Gt[Tt]=nt.charCodeAt(Dt)<<24|nt.charCodeAt(Dt+1)<<16|nt.charCodeAt(Dt+2)<<8|nt.charCodeAt(Dt+3),Dt+=4;else for(Tt=0;Tt<16;Tt++)Gt[Tt]=nt[Dt]<<24|nt[Dt+1]<<16|nt[Dt+2]<<8|nt[Dt+3],Dt+=4;for(Tt=16;Tt<80;Tt++)Gt[Tt]=4294967295&((sn=Gt[Tt-3]^Gt[Tt-8]^Gt[Tt-14]^Gt[Tt-16])<<1|sn>>>31);var Lr,Qr,zn=this.chain_[0],Qn=this.chain_[1],Fn=this.chain_[2],Mi=this.chain_[3],Hi=this.chain_[4];for(Tt=0;Tt<80;Tt++){Tt<40?Tt<20?(Lr=Mi^Qn&(Fn^Mi),Qr=1518500249):(Lr=Qn^Fn^Mi,Qr=1859775393):Tt<60?(Lr=Qn&Fn|Mi&(Qn|Fn),Qr=2400959708):(Lr=Qn^Fn^Mi,Qr=3395469782);var sn=(zn<<5|zn>>>27)+Lr+Hi+Qr+Gt[Tt]&4294967295;Hi=Mi,Mi=Fn,Fn=4294967295&(Qn<<30|Qn>>>2),Qn=zn,zn=sn}this.chain_[0]=this.chain_[0]+zn&4294967295,this.chain_[1]=this.chain_[1]+Qn&4294967295,this.chain_[2]=this.chain_[2]+Fn&4294967295,this.chain_[3]=this.chain_[3]+Mi&4294967295,this.chain_[4]=this.chain_[4]+Hi&4294967295},bt.prototype.update=function(nt,Dt){if(null!=nt){void 0===Dt&&(Dt=nt.length);for(var Gt=Dt-this.blockSize,Tt=0,sn=this.buf_,zn=this.inbuf_;Tt<Dt;){if(0===zn)for(;Tt<=Gt;)this.compress_(nt,Tt),Tt+=this.blockSize;if("string"==typeof nt){for(;Tt<Dt;)if(sn[zn]=nt.charCodeAt(Tt),++Tt,++zn===this.blockSize){this.compress_(sn),zn=0;break}}else for(;Tt<Dt;)if(sn[zn]=nt[Tt],++Tt,++zn===this.blockSize){this.compress_(sn),zn=0;break}}this.inbuf_=zn,this.total_+=Dt}},bt.prototype.digest=function(){var nt=[],Dt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Gt=this.blockSize-1;Gt>=56;Gt--)this.buf_[Gt]=255&Dt,Dt/=256;this.compress_(this.buf_);var Tt=0;for(Gt=0;Gt<5;Gt++)for(var sn=24;sn>=0;sn-=8)nt[Tt]=this.chain_[Gt]>>sn&255,++Tt;return nt}}();var ai=function(){function bt(nt,Dt){var Gt=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Dt,this.task.then(function(){nt(Gt)}).catch(function(Tt){Gt.error(Tt)})}return bt.prototype.next=function(nt){this.forEachObserver(function(Dt){Dt.next(nt)})},bt.prototype.error=function(nt){this.forEachObserver(function(Dt){Dt.error(nt)}),this.close(nt)},bt.prototype.complete=function(){this.forEachObserver(function(nt){nt.complete()}),this.close()},bt.prototype.subscribe=function(nt,Dt,Gt){var sn,Tt=this;if(void 0===nt&&void 0===Dt&&void 0===Gt)throw new Error("Missing Observer.");sn=function(bt,nt){if("object"!=typeof bt||null===bt)return!1;for(var Dt=0,Gt=["next","error","complete"];Dt<Gt.length;Dt++){var Tt=Gt[Dt];if(Tt in bt&&"function"==typeof bt[Tt])return!0}return!1}(nt)?nt:{next:nt,error:Dt,complete:Gt},void 0===sn.next&&(sn.next=Ei),void 0===sn.error&&(sn.error=Ei),void 0===sn.complete&&(sn.complete=Ei);var zn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Tt.finalError?sn.error(Tt.finalError):sn.complete()}catch(Qn){}}),this.observers.push(sn),zn},bt.prototype.unsubscribeOne=function(nt){void 0===this.observers||void 0===this.observers[nt]||(delete this.observers[nt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},bt.prototype.forEachObserver=function(nt){if(!this.finalized)for(var Dt=0;Dt<this.observers.length;Dt++)this.sendOne(Dt,nt)},bt.prototype.sendOne=function(nt,Dt){var Gt=this;this.task.then(function(){if(void 0!==Gt.observers&&void 0!==Gt.observers[nt])try{Dt(Gt.observers[nt])}catch(Tt){"undefined"!=typeof console&&console.error&&console.error(Tt)}})},bt.prototype.close=function(nt){var Dt=this;this.finalized||(this.finalized=!0,void 0!==nt&&(this.finalError=nt),this.task.then(function(){Dt.observers=void 0,Dt.onNoObservers=void 0}))},bt}();function Ei(){}function Pi(bt){return bt&&bt._delegate?bt._delegate:bt}},7713:(Jt,vt,X)=>{"use strict";X.d(vt,{Z:()=>m.Z});var m=X(417);m.Z.registerVersion("firebase","8.10.0","app"),m.Z.SDK_VERSION="8.10.0"},3132:function(Jt,vt,X){var m;Jt=X.nmd(Jt),function(){var B,U="Expected a function",Y="__lodash_hash_undefined__",fe="__lodash_placeholder__",Fe=1/0,Qe=9007199254740991,Ht=4294967295,lt=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],$t="[object Arguments]",_t="[object Array]",pn="[object Boolean]",jn="[object Date]",Dn="[object Error]",kr="[object Function]",br="[object GeneratorFunction]",Nn="[object Map]",Cn="[object Number]",Zn="[object Object]",ai="[object Promise]",Di="[object RegExp]",Ei="[object Set]",Vo="[object String]",Rn="[object Symbol]",vo="[object WeakMap]",Ui="[object ArrayBuffer]",Gn="[object DataView]",Hn="[object Float32Array]",Vr="[object Float64Array]",_i="[object Int8Array]",cr="[object Int16Array]",Ni="[object Int32Array]",Ri="[object Uint8Array]",nr="[object Uint8ClampedArray]",Pi="[object Uint16Array]",bt="[object Uint32Array]",nt=/\b__p \+= '';/g,Dt=/\b(__p \+=) '' \+/g,Gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tt=/&(?:amp|lt|gt|quot|#39);/g,sn=/[&<>"']/g,zn=RegExp(Tt.source),Qn=RegExp(sn.source),Fn=/<%-([\s\S]+?)%>/g,Mi=/<%([\s\S]+?)%>/g,Hi=/<%=([\s\S]+?)%>/g,Lr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qr=/^\w*$/,hr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pt=/[\\^$.*+?()[\]{}|]/g,yt=RegExp(Pt.source),tt=/^\s+/,St=/\s/,Qt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tn=/\{\n\/\* \[wrapped with (.+)\] \*/,kn=/,? & /,gi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ar=/[()=,{}\[\]\/\s]/,Ai=/\\(\\)?/g,xo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,as=/\w*$/,fr=/^[-+]0x[0-9a-f]+$/i,xr=/^0b[01]+$/i,mn=/^\[object .+?Constructor\]$/,qn=/^0o[0-7]+$/i,pi=/^(?:0|[1-9]\d*)$/,Ki=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yo=/($^)/,qr=/['\n\r\u2028\u2029\\]/g,wo="\\ud800-\\udfff",Yn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",gr="\\u2700-\\u27bf",ao="a-z\\xdf-\\xf6\\xf8-\\xff",Uo="A-Z\\xc0-\\xd6\\xd8-\\xde",Nr="\\ufe0e\\ufe0f",Gi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oo="["+wo+"]",No="["+Gi+"]",Eo="["+Yn+"]",Ho="\\d+",es="["+gr+"]",qo="["+ao+"]",Jr="[^"+wo+Gi+Ho+gr+ao+Uo+"]",Xr="\\ud83c[\\udffb-\\udfff]",Ro="[^"+wo+"]",co="(?:\\ud83c[\\udde6-\\uddff]){2}",vr="[\\ud800-\\udbff][\\udc00-\\udfff]",Go="["+Uo+"]",bs="(?:"+qo+"|"+Jr+")",Ls="(?:"+Go+"|"+Jr+")",Gr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ts="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",da="(?:"+Eo+"|"+Xr+")?",Qs="["+Nr+"]?",ns=Qs+da+"(?:\\u200d(?:"+[Ro,co,vr].join("|")+")"+Qs+da+")*",Xs="(?:"+[es,co,vr].join("|")+")"+ns,Bs="(?:"+[Ro+Eo+"?",Eo,co,vr,Oo].join("|")+")",Qa=RegExp("['\u2019]","g"),cl=RegExp(Eo,"g"),$r=RegExp(Xr+"(?="+Xr+")|"+Bs+ns,"g"),ea=RegExp([Go+"?"+qo+"+"+Gr+"(?="+[No,Go,"$"].join("|")+")",Ls+"+"+ts+"(?="+[No,Go+bs,"$"].join("|")+")",Go+"?"+bs+"+"+Gr,Go+"+"+ts,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ho,Xs].join("|"),"g"),ta=RegExp("[\\u200d"+wo+Yn+Nr+"]"),js=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ji=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Es=-1,Xi={};Xi[Hn]=Xi[Vr]=Xi[_i]=Xi[cr]=Xi[Ni]=Xi[Ri]=Xi[nr]=Xi[Pi]=Xi[bt]=!0,Xi[$t]=Xi[_t]=Xi[Ui]=Xi[pn]=Xi[Gn]=Xi[jn]=Xi[Dn]=Xi[kr]=Xi[Nn]=Xi[Cn]=Xi[Zn]=Xi[Di]=Xi[Ei]=Xi[Vo]=Xi[vo]=!1;var ur={};ur[$t]=ur[_t]=ur[Ui]=ur[Gn]=ur[pn]=ur[jn]=ur[Hn]=ur[Vr]=ur[_i]=ur[cr]=ur[Ni]=ur[Nn]=ur[Cn]=ur[Zn]=ur[Di]=ur[Ei]=ur[Vo]=ur[Rn]=ur[Ri]=ur[nr]=ur[Pi]=ur[bt]=!0,ur[Dn]=ur[kr]=ur[vo]=!1;var go={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$o=parseFloat,Ms=parseInt,Fo="object"==typeof global&&global&&global.Object===Object&&global,Vs="object"==typeof self&&self&&self.Object===Object&&self,Rr=Fo||Vs||Function("return this")(),ya=vt&&!vt.nodeType&&vt,vs=ya&&Jt&&!Jt.nodeType&&Jt,us=vs&&vs.exports===ya,Er=us&&Fo.process,ie=function(){try{return vs&&vs.require&&vs.require("util").types||Er&&Er.binding&&Er.binding("util")}catch(Lt){}}(),ne=ie&&ie.isArrayBuffer,Be=ie&&ie.isDate,it=ie&&ie.isMap,V=ie&&ie.isRegExp,le=ie&&ie.isSet,W=ie&&ie.isTypedArray;function ve(ft,Lt,wt){switch(wt.length){case 0:return ft.call(Lt);case 1:return ft.call(Lt,wt[0]);case 2:return ft.call(Lt,wt[0],wt[1]);case 3:return ft.call(Lt,wt[0],wt[1],wt[2])}return ft.apply(Lt,wt)}function Ze(ft,Lt,wt,en){for(var gn=-1,bi=null==ft?0:ft.length;++gn<bi;){var wi=ft[gn];Lt(en,wi,wt(wi),ft)}return en}function z(ft,Lt){for(var wt=-1,en=null==ft?0:ft.length;++wt<en&&!1!==Lt(ft[wt],wt,ft););return ft}function G(ft,Lt){for(var wt=null==ft?0:ft.length;wt--&&!1!==Lt(ft[wt],wt,ft););return ft}function $(ft,Lt){for(var wt=-1,en=null==ft?0:ft.length;++wt<en;)if(!Lt(ft[wt],wt,ft))return!1;return!0}function Ce(ft,Lt){for(var wt=-1,en=null==ft?0:ft.length,gn=0,bi=[];++wt<en;){var wi=ft[wt];Lt(wi,wt,ft)&&(bi[gn++]=wi)}return bi}function xt(ft,Lt){return!(null==ft||!ft.length)&&mo(ft,Lt,0)>-1}function nn(ft,Lt,wt){for(var en=-1,gn=null==ft?0:ft.length;++en<gn;)if(wt(Lt,ft[en]))return!0;return!1}function _n(ft,Lt){for(var wt=-1,en=null==ft?0:ft.length,gn=Array(en);++wt<en;)gn[wt]=Lt(ft[wt],wt,ft);return gn}function ni(ft,Lt){for(var wt=-1,en=Lt.length,gn=ft.length;++wt<en;)ft[gn+wt]=Lt[wt];return ft}function li(ft,Lt,wt,en){var gn=-1,bi=null==ft?0:ft.length;for(en&&bi&&(wt=ft[++gn]);++gn<bi;)wt=Lt(wt,ft[gn],gn,ft);return wt}function Fi(ft,Lt,wt,en){var gn=null==ft?0:ft.length;for(en&&gn&&(wt=ft[--gn]);gn--;)wt=Lt(wt,ft[gn],gn,ft);return wt}function yr(ft,Lt){for(var wt=-1,en=null==ft?0:ft.length;++wt<en;)if(Lt(ft[wt],wt,ft))return!0;return!1}var uo=ql("length");function ys(ft,Lt,wt){var en;return wt(ft,function(gn,bi,wi){if(Lt(gn,bi,wi))return en=bi,!1}),en}function ri(ft,Lt,wt,en){for(var gn=ft.length,bi=wt+(en?1:-1);en?bi--:++bi<gn;)if(Lt(ft[bi],bi,ft))return bi;return-1}function mo(ft,Lt,wt){return Lt==Lt?function(ft,Lt,wt){for(var en=wt-1,gn=ft.length;++en<gn;)if(ft[en]===Lt)return en;return-1}(ft,Lt,wt):ri(ft,nc,wt)}function Tl(ft,Lt,wt,en){for(var gn=wt-1,bi=ft.length;++gn<bi;)if(en(ft[gn],Lt))return gn;return-1}function nc(ft){return ft!=ft}function Mc(ft,Lt){var wt=null==ft?0:ft.length;return wt?Ti(ft,Lt)/wt:NaN}function ql(ft){return function(Lt){return null==Lt?B:Lt[ft]}}function Sl(ft){return function(Lt){return null==ft?B:ft[Lt]}}function ic(ft,Lt,wt,en,gn){return gn(ft,function(bi,wi,Ci){wt=en?(en=!1,bi):Lt(wt,bi,wi,Ci)}),wt}function Ti(ft,Lt){for(var wt,en=-1,gn=ft.length;++en<gn;){var bi=Lt(ft[en]);bi!==B&&(wt=wt===B?bi:wt+bi)}return wt}function ul(ft,Lt){for(var wt=-1,en=Array(ft);++wt<ft;)en[wt]=Lt(wt);return en}function Ra(ft){return ft&&ft.slice(0,Ue(ft)+1).replace(tt,"")}function Wo(ft){return function(Lt){return ft(Lt)}}function Ds(ft,Lt){return _n(Lt,function(wt){return ft[wt]})}function Us(ft,Lt){return ft.has(Lt)}function dl(ft,Lt){for(var wt=-1,en=ft.length;++wt<en&&mo(Lt,ft[wt],0)>-1;);return wt}function hl(ft,Lt){for(var wt=ft.length;wt--&&mo(Lt,ft[wt],0)>-1;);return wt}function rc(ft,Lt){for(var wt=ft.length,en=0;wt--;)ft[wt]===Lt&&++en;return en}var wa=Sl({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Va=Sl({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function $i(ft){return"\\"+go[ft]}function ha(ft){return ta.test(ft)}function Gl(ft){var Lt=-1,wt=Array(ft.size);return ft.forEach(function(en,gn){wt[++Lt]=[gn,en]}),wt}function Ua(ft,Lt){return function(wt){return ft(Lt(wt))}}function fl(ft,Lt){for(var wt=-1,en=ft.length,gn=0,bi=[];++wt<en;){var wi=ft[wt];(wi===Lt||wi===fe)&&(ft[wt]=fe,bi[gn++]=wt)}return bi}function pl(ft){var Lt=-1,wt=Array(ft.size);return ft.forEach(function(en){wt[++Lt]=en}),wt}function Q(ft){return ha(ft)?function(ft){for(var Lt=$r.lastIndex=0;$r.test(ft);)++Lt;return Lt}(ft):uo(ft)}function ke(ft){return ha(ft)?function(ft){return ft.match($r)||[]}(ft):function(ft){return ft.split("")}(ft)}function Ue(ft){for(var Lt=ft.length;Lt--&&St.test(ft.charAt(Lt)););return Lt}var ot=Sl({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),wn=function ft(Lt){var _,wt=(Lt=null==Lt?Rr:wn.defaults(Rr.Object(),Lt,wn.pick(Rr,Ji))).Array,en=Lt.Date,gn=Lt.Error,bi=Lt.Function,wi=Lt.Math,Ci=Lt.Object,Do=Lt.RegExp,Hs=Lt.String,To=Lt.TypeError,eo=wt.prototype,ui=Ci.prototype,Cs=Lt["__core-js_shared__"],qi=bi.prototype.toString,Li=ui.hasOwnProperty,Zo=0,pa=(_=/[^.]+$/.exec(Cs&&Cs.keys&&Cs.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",Fr=ui.toString,Ln=qi.call(Ci),Xn=Rr._,oi=Do("^"+qi.call(Li).replace(Pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ii=us?Lt.Buffer:B,Zr=Lt.Symbol,_o=Lt.Uint8Array,ds=ii?ii.allocUnsafe:B,Yo=Ua(Ci.getPrototypeOf,Ci),Mr=Ci.create,is=ui.propertyIsEnumerable,rs=eo.splice,Ha=Zr?Zr.isConcatSpreadable:B,Ca=Zr?Zr.iterator:B,So=Zr?Zr.toStringTag:B,K=function(){try{var _=Lc(Ci,"defineProperty");return _({},"",{}),_}catch(C){}}(),T=Lt.clearTimeout!==Rr.clearTimeout&&Lt.clearTimeout,M=en&&en.now!==Rr.Date.now&&en.now,ee=Lt.setTimeout!==Rr.setTimeout&&Lt.setTimeout,se=wi.ceil,We=wi.floor,$n=Ci.getOwnPropertySymbols,ir=ii?ii.isBuffer:B,rn=Lt.isFinite,Ir=eo.join,gl=Ua(Ci.keys,Ci),ci=wi.max,In=wi.min,H=en.now,R=Lt.parseInt,L=wi.random,re=eo.reverse,ae=Lc(Lt,"DataView"),Re=Lc(Lt,"Map"),st=Lc(Lt,"Promise"),ht=Lc(Lt,"Set"),Ft=Lc(Lt,"WeakMap"),Sn=Lc(Ci,"create"),mi=Ft&&new Ft,ei={},ar=Vc(ae),Bn=Vc(Re),Il=Vc(st),hs=Vc(ht),ra=Vc(Ft),to=Zr?Zr.prototype:B,fn=to?to.valueOf:B,fs=to?to.toString:B;function Me(_){if(Zs(_)&&!rr(_)&&!(_ instanceof pr)){if(_ instanceof ka)return _;if(Li.call(_,"__wrapped__"))return au(_)}return new ka(_)}var qa=function(){function _(){}return function(C){if(!ks(C))return{};if(Mr)return Mr(C);_.prototype=C;var P=new _;return _.prototype=B,P}}();function Pl(){}function ka(_,C){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!C,this.__index__=0,this.__values__=B}function pr(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ht,this.__views__=[]}function di(_){var C=-1,P=null==_?0:_.length;for(this.clear();++C<P;){var te=_[C];this.set(te[0],te[1])}}function sc(_){var C=-1,P=null==_?0:_.length;for(this.clear();++C<P;){var te=_[C];this.set(te[0],te[1])}}function io(_){var C=-1,P=null==_?0:_.length;for(this.clear();++C<P;){var te=_[C];this.set(te[0],te[1])}}function wu(_){var C=-1,P=null==_?0:_.length;for(this.__data__=new io;++C<P;)this.add(_[C])}function Ol(_){var C=this.__data__=new sc(_);this.size=C.size}function Jd(_,C){var P=rr(_),te=!P&&bh(_),xe=!P&&!te&&du(_),qe=!P&&!te&&!xe&&af(_),ut=P||te||xe||qe,kt=ut?ul(_.length,Hs):[],Rt=kt.length;for(var ln in _)(C||Li.call(_,ln))&&(!ut||!("length"==ln||xe&&("offset"==ln||"parent"==ln)||qe&&("buffer"==ln||"byteLength"==ln||"byteOffset"==ln)||Oa(ln,Rt)))&&kt.push(ln);return kt}function kf(_){var C=_.length;return C?_[Da(0,C-1)]:B}function $p(_,C){return gc(Un(_),_l(C,0,_.length))}function Af(_){return gc(Un(_))}function Xd(_,C,P){(P!==B&&!ba(_[C],P)||P===B&&!(C in _))&&ml(_,C,P)}function Jc(_,C,P){var te=_[C];(!Li.call(_,C)||!ba(te,P)||P===B&&!(C in _))&&ml(_,C,P)}function Dc(_,C){for(var P=_.length;P--;)if(ba(_[P][0],C))return P;return-1}function Xc(_,C,P,te){return Ja(_,function(xe,qe,ut){C(te,xe,P(xe),ut)}),te}function _d(_,C){return _&&La(C,ja(C),_)}function ml(_,C,P){"__proto__"==C&&K?K(_,C,{configurable:!0,enumerable:!0,value:P,writable:!0}):_[C]=P}function Nl(_,C){for(var P=-1,te=C.length,xe=wt(te),qe=null==_;++P<te;)xe[P]=qe?B:kc(_,C[P]);return xe}function _l(_,C,P){return _==_&&(P!==B&&(_=_<=P?_:P),C!==B&&(_=_>=C?_:C)),_}function ga(_,C,P,te,xe,qe){var ut,kt=1&C,Rt=2&C,ln=4&C;if(P&&(ut=xe?P(_,te,xe,qe):P(_)),ut!==B)return ut;if(!ks(_))return _;var hn=rr(_);if(hn){if(ut=function(_){var C=_.length,P=new _.constructor(C);return C&&"string"==typeof _[0]&&Li.call(_,"index")&&(P.index=_.index,P.input=_.input),P}(_),!kt)return Un(_,ut)}else{var bn=nl(_),Wn=bn==kr||bn==br;if(du(_))return sh(_,kt);if(bn==Zn||bn==$t||Wn&&!xe){if(ut=Rt||Wn?{}:ru(_),!kt)return Rt?function(_,C){return La(_,xd(_),C)}(_,function(_,C){return _&&La(C,El(C),_)}(ut,_)):function(_,C){return La(_,hp(_),C)}(_,_d(ut,_))}else{if(!ur[bn])return xe?_:{};ut=function(_,C,P){var te=_.constructor;switch(C){case Ui:return ye(_);case pn:case jn:return new te(+_);case Gn:return function(_,C){var P=C?ye(_.buffer):_.buffer;return new _.constructor(P,_.byteOffset,_.byteLength)}(_,P);case Hn:case Vr:case _i:case cr:case Ni:case Ri:case nr:case Pi:case bt:return vi(_,P);case Nn:case Ei:return new te;case Cn:case Vo:return new te(_);case Di:return function(_){var C=new _.constructor(_.source,as.exec(_));return C.lastIndex=_.lastIndex,C}(_);case Rn:return function(_){return fn?Ci(fn.call(_)):{}}(_)}}(_,bn,kt)}}qe||(qe=new Ol);var hi=qe.get(_);if(hi)return hi;qe.set(_,ut),Gf(_)?_.forEach(function(zi){ut.add(ga(zi,C,P,zi,_,qe))}):t_(_)&&_.forEach(function(zi,zr){ut.set(zr,ga(zi,C,P,zr,_,qe))});var lr=hn?B:(ln?Rt?Pf:Gh:Rt?El:ja)(_);return z(lr||_,function(zi,zr){lr&&(zi=_[zr=zi]),Jc(ut,zr,ga(zi,C,P,zr,_,qe))}),ut}function eh(_,C,P){var te=P.length;if(null==_)return!te;for(_=Ci(_);te--;){var xe=P[te],ut=_[xe];if(ut===B&&!(xe in _)||!(0,C[xe])(ut))return!1}return!0}function Hu(_,C,P){if("function"!=typeof _)throw new To(U);return Mu(function(){_.apply(B,P)},C)}function qu(_,C,P,te){var xe=-1,qe=xt,ut=!0,kt=_.length,Rt=[],ln=C.length;if(!kt)return Rt;P&&(C=_n(C,Wo(P))),te?(qe=nn,ut=!1):C.length>=200&&(qe=Us,ut=!1,C=new wu(C));e:for(;++xe<kt;){var hn=_[xe],bn=null==P?hn:P(hn);if(hn=te||0!==hn?hn:0,ut&&bn==bn){for(var Wn=ln;Wn--;)if(C[Wn]===bn)continue e;Rt.push(hn)}else qe(C,bn,te)||Rt.push(hn)}return Rt}Me.templateSettings={escape:Fn,evaluate:Mi,interpolate:Hi,variable:"",imports:{_:Me}},(Me.prototype=Pl.prototype).constructor=Me,(ka.prototype=qa(Pl.prototype)).constructor=ka,(pr.prototype=qa(Pl.prototype)).constructor=pr,di.prototype.clear=function(){this.__data__=Sn?Sn(null):{},this.size=0},di.prototype.delete=function(_){var C=this.has(_)&&delete this.__data__[_];return this.size-=C?1:0,C},di.prototype.get=function(_){var C=this.__data__;if(Sn){var P=C[_];return P===Y?B:P}return Li.call(C,_)?C[_]:B},di.prototype.has=function(_){var C=this.__data__;return Sn?C[_]!==B:Li.call(C,_)},di.prototype.set=function(_,C){var P=this.__data__;return this.size+=this.has(_)?0:1,P[_]=Sn&&C===B?Y:C,this},sc.prototype.clear=function(){this.__data__=[],this.size=0},sc.prototype.delete=function(_){var C=this.__data__,P=Dc(C,_);return!(P<0||(P==C.length-1?C.pop():rs.call(C,P,1),--this.size,0))},sc.prototype.get=function(_){var C=this.__data__,P=Dc(C,_);return P<0?B:C[P][1]},sc.prototype.has=function(_){return Dc(this.__data__,_)>-1},sc.prototype.set=function(_,C){var P=this.__data__,te=Dc(P,_);return te<0?(++this.size,P.push([_,C])):P[te][1]=C,this},io.prototype.clear=function(){this.size=0,this.__data__={hash:new di,map:new(Re||sc),string:new di}},io.prototype.delete=function(_){var C=Xu(this,_).delete(_);return this.size-=C?1:0,C},io.prototype.get=function(_){return Xu(this,_).get(_)},io.prototype.has=function(_){return Xu(this,_).has(_)},io.prototype.set=function(_,C){var P=Xu(this,_),te=P.size;return P.set(_,C),this.size+=P.size==te?0:1,this},wu.prototype.add=wu.prototype.push=function(_){return this.__data__.set(_,Y),this},wu.prototype.has=function(_){return this.__data__.has(_)},Ol.prototype.clear=function(){this.__data__=new sc,this.size=0},Ol.prototype.delete=function(_){var C=this.__data__,P=C.delete(_);return this.size=C.size,P},Ol.prototype.get=function(_){return this.__data__.get(_)},Ol.prototype.has=function(_){return this.__data__.has(_)},Ol.prototype.set=function(_,C){var P=this.__data__;if(P instanceof sc){var te=P.__data__;if(!Re||te.length<199)return te.push([_,C]),this.size=++P.size,this;P=this.__data__=new io(te)}return P.set(_,C),this.size=P.size,this};var Ja=Cd(eu),Cu=Cd(Lh,!0);function Ea(_,C){var P=!0;return Ja(_,function(te,xe,qe){return P=!!C(te,xe,qe)}),P}function Gs(_,C,P){for(var te=-1,xe=_.length;++te<xe;){var qe=_[te],ut=C(qe);if(null!=ut&&(kt===B?ut==ut&&!xl(ut):P(ut,kt)))var kt=ut,Rt=qe}return Rt}function sp(_,C){var P=[];return Ja(_,function(te,xe,qe){C(te,xe,qe)&&P.push(te)}),P}function $s(_,C,P,te,xe){var qe=-1,ut=_.length;for(P||(P=Io),xe||(xe=[]);++qe<ut;){var kt=_[qe];C>0&&P(kt)?C>1?$s(kt,C-1,P,te,xe):ni(xe,kt):te||(xe[xe.length]=kt)}return xe}var ac=Kl(),Fh=Kl(!0);function eu(_,C){return _&&ac(_,C,ja)}function Lh(_,C){return _&&Fh(_,C,ja)}function tu(_,C){return Ce(C,function(P){return fu(_[P])})}function bl(_,C){for(var P=0,te=(C=Bo(C,_)).length;null!=_&&P<te;)_=_[ec(C[P++])];return P&&P==te?_:B}function $u(_,C,P){var te=C(_);return rr(_)?te:ni(te,P(_))}function Ss(_){return null==_?_===B?"[object Undefined]":"[object Null]":So&&So in Ci(_)?function(_){var C=Li.call(_,So),P=_[So];try{_[So]=B;var te=!0}catch(qe){}var xe=Fr.call(_);return te&&(C?_[So]=P:delete _[So]),xe}(_):function(_){return Fr.call(_)}(_)}function Bh(_,C){return _>C}function xf(_,C){return null!=_&&Li.call(_,C)}function ku(_,C){return null!=_&&C in Ci(_)}function Wu(_,C,P){for(var te=P?nn:xt,xe=_[0].length,qe=_.length,ut=qe,kt=wt(qe),Rt=1/0,ln=[];ut--;){var hn=_[ut];ut&&C&&(hn=_n(hn,Wo(C))),Rt=In(hn.length,Rt),kt[ut]=!P&&(C||xe>=120&&hn.length>=120)?new wu(ut&&hn):B}hn=_[0];var bn=-1,Wn=kt[0];e:for(;++bn<xe&&ln.length<Rt;){var hi=hn[bn],ti=C?C(hi):hi;if(hi=P||0!==hi?hi:0,!(Wn?Us(Wn,ti):te(ln,ti,P))){for(ut=qe;--ut;){var lr=kt[ut];if(!(lr?Us(lr,ti):te(_[ut],ti,P)))continue e}Wn&&Wn.push(ti),ln.push(hi)}}return ln}function Ma(_,C,P){var te=null==(_=Jl(_,C=Bo(C,_)))?_:_[ec(wl(C))];return null==te?B:ve(te,_,P)}function Rl(_){return Zs(_)&&Ss(_)==$t}function Zl(_,C,P,te,xe){return _===C||(null==_||null==C||!Zs(_)&&!Zs(C)?_!=_&&C!=C:function(_,C,P,te,xe,qe){var ut=rr(_),kt=rr(C),Rt=ut?_t:nl(_),ln=kt?_t:nl(C),hn=(Rt=Rt==$t?Zn:Rt)==Zn,bn=(ln=ln==$t?Zn:ln)==Zn,Wn=Rt==ln;if(Wn&&du(_)){if(!du(C))return!1;ut=!0,hn=!1}if(Wn&&!hn)return qe||(qe=new Ol),ut||af(_)?kd(_,C,P,te,xe,qe):function(_,C,P,te,xe,qe,ut){switch(P){case Gn:if(_.byteLength!=C.byteLength||_.byteOffset!=C.byteOffset)return!1;_=_.buffer,C=C.buffer;case Ui:return!(_.byteLength!=C.byteLength||!qe(new _o(_),new _o(C)));case pn:case jn:case Cn:return ba(+_,+C);case Dn:return _.name==C.name&&_.message==C.message;case Di:case Vo:return _==C+"";case Nn:var kt=Gl;case Ei:if(kt||(kt=pl),_.size!=C.size&&!(1&te))return!1;var ln=ut.get(_);if(ln)return ln==C;te|=2,ut.set(_,C);var hn=kd(kt(_),kt(C),te,xe,qe,ut);return ut.delete(_),hn;case Rn:if(fn)return fn.call(_)==fn.call(C)}return!1}(_,C,Rt,P,te,xe,qe);if(!(1&P)){var hi=hn&&Li.call(_,"__wrapped__"),ti=bn&&Li.call(C,"__wrapped__");if(hi||ti){var lr=hi?_.value():_,zi=ti?C.value():C;return qe||(qe=new Ol),xe(lr,zi,P,te,qe)}}return!!Wn&&(qe||(qe=new Ol),function(_,C,P,te,xe,qe){var ut=1&P,kt=Gh(_),Rt=kt.length;if(Rt!=Gh(C).length&&!ut)return!1;for(var bn=Rt;bn--;){var Wn=kt[bn];if(!(ut?Wn in C:Li.call(C,Wn)))return!1}var hi=qe.get(_),ti=qe.get(C);if(hi&&ti)return hi==C&&ti==_;var lr=!0;qe.set(_,C),qe.set(C,_);for(var zi=ut;++bn<Rt;){var zr=_[Wn=kt[bn]],Cr=C[Wn];if(te)var Ul=ut?te(Cr,zr,Wn,C,_,qe):te(zr,Cr,Wn,_,C,qe);if(!(Ul===B?zr===Cr||xe(zr,Cr,P,te,qe):Ul)){lr=!1;break}zi||(zi="constructor"==Wn)}if(lr&&!zi){var s=_.constructor,i=C.constructor;s!=i&&"constructor"in _&&"constructor"in C&&!("function"==typeof s&&s instanceof s&&"function"==typeof i&&i instanceof i)&&(lr=!1)}return qe.delete(_),qe.delete(C),lr}(_,C,P,te,xe,qe))}(_,C,P,te,Zl,xe))}function lc(_,C,P,te){var xe=P.length,qe=xe,ut=!te;if(null==_)return!qe;for(_=Ci(_);xe--;){var kt=P[xe];if(ut&&kt[2]?kt[1]!==_[kt[0]]:!(kt[0]in _))return!1}for(;++xe<qe;){var Rt=(kt=P[xe])[0],ln=_[Rt],hn=kt[1];if(ut&&kt[2]){if(ln===B&&!(Rt in _))return!1}else{var bn=new Ol;if(te)var Wn=te(ln,hn,Rt,_,C,bn);if(!(Wn===B?Zl(hn,ln,3,te,bn):Wn))return!1}}return!0}function Mn(_){return!(!ks(_)||function(_){return!!pa&&pa in _}(_))&&(fu(_)?oi:mn).test(Vc(_))}function Zu(_){return"function"==typeof _?_:null==_?Ks:"object"==typeof _?rr(_)?yd(_[0],_[1]):cc(_):dd(_)}function vl(_){if(!jc(_))return gl(_);var C=[];for(var P in Ci(_))Li.call(_,P)&&"constructor"!=P&&C.push(P);return C}function Yl(_,C){return _<C}function vd(_,C){var P=-1,te=rl(_)?wt(_.length):[];return Ja(_,function(xe,qe,ut){te[++P]=C(xe,qe,ut)}),te}function cc(_){var C=Zp(_);return 1==C.length&&C[0][2]?pp(C[0][0],C[0][1]):function(P){return P===_||lc(P,_,C)}}function yd(_,C){return cn(_)&&Wt(C)?pp(ec(_),C):function(P){var te=kc(P,_);return te===B&&te===C?ol(P,_):Zl(C,te,3)}}function Ko(_,C,P,te,xe){_!==C&&ac(C,function(qe,ut){if(xe||(xe=new Ol),ks(qe))!function(_,C,P,te,xe,qe,ut){var kt=zc(_,P),Rt=zc(C,P),ln=ut.get(Rt);if(ln)Xd(_,P,ln);else{var hn=qe?qe(kt,Rt,P+"",_,C,ut):B,bn=hn===B;if(bn){var Wn=rr(Rt),hi=!Wn&&du(Rt),ti=!Wn&&!hi&&af(Rt);hn=Rt,Wn||hi||ti?rr(kt)?hn=kt:gs(kt)?hn=Un(kt):hi?(bn=!1,hn=sh(Rt,!0)):ti?(bn=!1,hn=vi(Rt,!0)):hn=[]:pu(Rt)||bh(Rt)?(hn=kt,bh(kt)?hn=lf(kt):(!ks(kt)||fu(kt))&&(hn=ru(Rt))):bn=!1}bn&&(ut.set(Rt,hn),xe(hn,Rt,te,qe,ut),ut.delete(Rt)),Xd(_,P,hn)}}(_,C,ut,P,Ko,te,xe);else{var kt=te?te(zc(_,ut),qe,ut+"",_,C,xe):B;kt===B&&(kt=qe),Xd(_,ut,kt)}},El)}function Ll(_,C){var P=_.length;if(P)return Oa(C+=C<0?P:0,P)?_[C]:B}function Pc(_,C,P){C=C.length?_n(C,function(qe){return rr(qe)?function(ut){return bl(ut,1===qe.length?qe[0]:qe)}:qe}):[Ks];var te=-1;return C=_n(C,Wo(Si())),function(ft,Lt){var wt=ft.length;for(ft.sort(function(qe,ut){return function(_,C,P){for(var te=-1,xe=_.criteria,qe=C.criteria,ut=xe.length,kt=P.length;++te<ut;){var Rt=ki(xe[te],qe[te]);if(Rt)return te>=kt?Rt:Rt*("desc"==P[te]?-1:1)}return _.index-C.index}(qe,ut,P)});wt--;)ft[wt]=ft[wt].value;return ft}(vd(_,function(qe,ut,kt){return{criteria:_n(C,function(ln){return ln(qe)}),index:++te,value:qe}}))}function th(_,C,P){for(var te=-1,xe=C.length,qe={};++te<xe;){var ut=C[te],kt=bl(_,ut);P(kt,ut)&&Ku(qe,Bo(ut,_),kt)}return qe}function ps(_,C,P,te){var xe=te?Tl:mo,qe=-1,ut=C.length,kt=_;for(_===C&&(C=Un(C)),P&&(kt=_n(_,Wo(P)));++qe<ut;)for(var Rt=0,ln=C[qe],hn=P?P(ln):ln;(Rt=xe(kt,hn,Rt,te))>-1;)kt!==_&&rs.call(kt,Rt,1),rs.call(_,Rt,1);return _}function nh(_,C){for(var P=_?C.length:0,te=P-1;P--;){var xe=C[P];if(P==te||xe!==qe){var qe=xe;Oa(xe)?rs.call(_,xe,1):uc(_,xe)}}return _}function Da(_,C){return _+We(L()*(C-_+1))}function ih(_,C){var P="";if(!_||C<1||C>Qe)return P;do{C%2&&(P+=_),(C=We(C/2))&&(_+=_)}while(C);return P}function er(_,C){return pc(Ed(_,C,Ks),_+"")}function Bl(_){return kf(Fu(_))}function Tf(_,C){var P=Fu(_);return gc(P,_l(C,0,P.length))}function Ku(_,C,P,te){if(!ks(_))return _;for(var xe=-1,qe=(C=Bo(C,_)).length,ut=qe-1,kt=_;null!=kt&&++xe<qe;){var Rt=ec(C[xe]),ln=P;if("__proto__"===Rt||"constructor"===Rt||"prototype"===Rt)return _;if(xe!=ut){var hn=kt[Rt];(ln=te?te(hn,Rt,kt):B)===B&&(ln=ks(hn)?hn:Oa(C[xe+1])?[]:{})}Jc(kt,Rt,ln),kt=kt[Rt]}return _}var jh=mi?function(_,C){return mi.set(_,C),_}:Ks,rh=K?function(_,C){return K(_,"toString",{configurable:!0,enumerable:!1,value:ld(C),writable:!0})}:Ks;function ap(_){return gc(Fu(_))}function mr(_,C,P){var te=-1,xe=_.length;C<0&&(C=-C>xe?0:xe+C),(P=P>xe?xe:P)<0&&(P+=xe),xe=C>P?0:P-C>>>0,C>>>=0;for(var qe=wt(xe);++te<xe;)qe[te]=_[te+C];return qe}function lp(_,C){var P;return Ja(_,function(te,xe,qe){return!(P=C(te,xe,qe))}),!!P}function nu(_,C,P){var te=0,xe=null==_?te:_.length;if("number"==typeof C&&C==C&&xe<=2147483647){for(;te<xe;){var qe=te+xe>>>1,ut=_[qe];null!==ut&&!xl(ut)&&(P?ut<=C:ut<C)?te=qe+1:xe=qe}return xe}return Au(_,C,Ks,P)}function Au(_,C,P,te){var xe=0,qe=null==_?0:_.length;if(0===qe)return 0;for(var ut=(C=P(C))!=C,kt=null===C,Rt=xl(C),ln=C===B;xe<qe;){var hn=We((xe+qe)/2),bn=P(_[hn]),Wn=bn!==B,hi=null===bn,ti=bn==bn,lr=xl(bn);if(ut)var zi=te||ti;else zi=ln?ti&&(te||Wn):kt?ti&&Wn&&(te||!hi):Rt?ti&&Wn&&!hi&&(te||!lr):!hi&&!lr&&(te?bn<=C:bn<C);zi?xe=hn+1:qe=hn}return In(qe,4294967294)}function wd(_,C){for(var P=-1,te=_.length,xe=0,qe=[];++P<te;){var ut=_[P],kt=C?C(ut):ut;if(!P||!ba(kt,Rt)){var Rt=kt;qe[xe++]=0===ut?0:ut}}return qe}function Oc(_){return"number"==typeof _?_:xl(_)?NaN:+_}function Ga(_){if("string"==typeof _)return _;if(rr(_))return _n(_,Ga)+"";if(xl(_))return fs?fs.call(_):"";var C=_+"";return"0"==C&&1/_==-Fe?"-0":C}function Ta(_,C,P){var te=-1,xe=xt,qe=_.length,ut=!0,kt=[],Rt=kt;if(P)ut=!1,xe=nn;else if(qe>=200){var ln=C?null:im(_);if(ln)return pl(ln);ut=!1,xe=Us,Rt=new wu}else Rt=C?[]:kt;e:for(;++te<qe;){var hn=_[te],bn=C?C(hn):hn;if(hn=P||0!==hn?hn:0,ut&&bn==bn){for(var Wn=Rt.length;Wn--;)if(Rt[Wn]===bn)continue e;C&&Rt.push(bn),kt.push(hn)}else xe(Rt,bn,P)||(Rt!==kt&&Rt.push(bn),kt.push(hn))}return kt}function uc(_,C){return null==(_=Jl(_,C=Bo(C,_)))||delete _[ec(wl(C))]}function Xa(_,C,P,te){return Ku(_,C,P(bl(_,C)),te)}function Nc(_,C,P,te){for(var xe=_.length,qe=te?xe:-1;(te?qe--:++qe<xe)&&C(_[qe],qe,_););return P?mr(_,te?0:qe,te?qe+1:xe):mr(_,te?qe+1:0,te?xe:qe)}function oh(_,C){var P=_;return P instanceof pr&&(P=P.value()),li(C,function(te,xe){return xe.func.apply(xe.thisArg,ni([te],xe.args))},P)}function Sf(_,C,P){var te=_.length;if(te<2)return te?Ta(_[0]):[];for(var xe=-1,qe=wt(te);++xe<te;)for(var ut=_[xe],kt=-1;++kt<te;)kt!=xe&&(qe[xe]=qu(qe[xe]||ut,_[kt],C,P));return Ta($s(qe,1),C,P)}function cp(_,C,P){for(var te=-1,xe=_.length,qe=C.length,ut={};++te<xe;)P(ut,_[te],te<qe?C[te]:B);return ut}function up(_){return gs(_)?_:[]}function iu(_){return"function"==typeof _?_:Ks}function Bo(_,C){return rr(_)?_:cn(_,C)?[_]:Xl(ro(_))}var zh=er;function jo(_,C,P){var te=_.length;return P=P===B?te:P,!C&&P>=te?_:mr(_,C,P)}var If=T||function(_){return Rr.clearTimeout(_)};function sh(_,C){if(C)return _.slice();var P=_.length,te=ds?ds(P):new _.constructor(P);return _.copy(te),te}function ye(_){var C=new _.constructor(_.byteLength);return new _o(C).set(new _o(_)),C}function vi(_,C){var P=C?ye(_.buffer):_.buffer;return new _.constructor(P,_.byteOffset,_.length)}function ki(_,C){if(_!==C){var P=_!==B,te=null===_,xe=_==_,qe=xl(_),ut=C!==B,kt=null===C,Rt=C==C,ln=xl(C);if(!kt&&!ln&&!qe&&_>C||qe&&ut&&Rt&&!kt&&!ln||te&&ut&&Rt||!P&&Rt||!xe)return 1;if(!te&&!qe&&!ln&&_<C||ln&&P&&xe&&!te&&!qe||kt&&P&&xe||!ut&&xe||!Rt)return-1}return 0}function Oi(_,C,P,te){for(var xe=-1,qe=_.length,ut=P.length,kt=-1,Rt=C.length,ln=ci(qe-ut,0),hn=wt(Rt+ln),bn=!te;++kt<Rt;)hn[kt]=C[kt];for(;++xe<ut;)(bn||xe<qe)&&(hn[P[xe]]=_[xe]);for(;ln--;)hn[kt++]=_[xe++];return hn}function Yr(_,C,P,te){for(var xe=-1,qe=_.length,ut=-1,kt=P.length,Rt=-1,ln=C.length,hn=ci(qe-kt,0),bn=wt(hn+ln),Wn=!te;++xe<hn;)bn[xe]=_[xe];for(var hi=xe;++Rt<ln;)bn[hi+Rt]=C[Rt];for(;++ut<kt;)(Wn||xe<qe)&&(bn[hi+P[ut]]=_[xe++]);return bn}function Un(_,C){var P=-1,te=_.length;for(C||(C=wt(te));++P<te;)C[P]=_[P];return C}function La(_,C,P,te){var xe=!P;P||(P={});for(var qe=-1,ut=C.length;++qe<ut;){var kt=C[qe],Rt=te?te(P[kt],_[kt],kt,P,_):B;Rt===B&&(Rt=_[kt]),xe?ml(P,kt,Rt):Jc(P,kt,Rt)}return P}function dc(_,C){return function(P,te){var xe=rr(P)?Ze:Xc,qe=C?C():{};return xe(P,_,Si(te,2),qe)}}function hc(_){return er(function(C,P){var te=-1,xe=P.length,qe=xe>1?P[xe-1]:B,ut=xe>2?P[2]:B;for(qe=_.length>3&&"function"==typeof qe?(xe--,qe):B,ut&&oa(P[0],P[1],ut)&&(qe=xe<3?B:qe,xe=1),C=Ci(C);++te<xe;){var kt=P[te];kt&&_(C,kt,te,qe)}return C})}function Cd(_,C){return function(P,te){if(null==P)return P;if(!rl(P))return _(P,te);for(var xe=P.length,qe=C?xe:-1,ut=Ci(P);(C?qe--:++qe<xe)&&!1!==te(ut[qe],qe,ut););return P}}function Kl(_){return function(C,P,te){for(var xe=-1,qe=Ci(C),ut=te(C),kt=ut.length;kt--;){var Rt=ut[_?kt:++xe];if(!1===P(qe[Rt],Rt,qe))break}return C}}function xu(_){return function(C){var P=ha(C=ro(C))?ke(C):B,te=P?P[0]:C.charAt(0),xe=P?jo(P,1).join(""):C.slice(1);return te[_]()+xe}}function Rc(_){return function(C){return li(pf(r_(C).replace(Qa,"")),_,"")}}function Vh(_){return function(){var C=arguments;switch(C.length){case 0:return new _;case 1:return new _(C[0]);case 2:return new _(C[0],C[1]);case 3:return new _(C[0],C[1],C[2]);case 4:return new _(C[0],C[1],C[2],C[3]);case 5:return new _(C[0],C[1],C[2],C[3],C[4]);case 6:return new _(C[0],C[1],C[2],C[3],C[4],C[5]);case 7:return new _(C[0],C[1],C[2],C[3],C[4],C[5],C[6])}var P=qa(_.prototype),te=_.apply(P,C);return ks(te)?te:P}}function Hr(_){return function(C,P,te){var xe=Ci(C);if(!rl(C)){var qe=Si(P,3);C=ja(C),P=function(kt){return qe(xe[kt],kt,xe)}}var ut=_(C,P,te);return ut>-1?xe[qe?C[ut]:ut]:B}}function jl(_){return tl(function(C){var P=C.length,te=P,xe=ka.prototype.thru;for(_&&C.reverse();te--;){var qe=C[te];if("function"!=typeof qe)throw new To(U);if(xe&&!ut&&"wrapper"==Pa(qe))var ut=new ka([],!0)}for(te=ut?te:P;++te<P;){var kt=Pa(qe=C[te]),Rt="wrapper"==kt?Ad(qe):B;ut=Rt&&su(Rt[0])&&424==Rt[1]&&!Rt[4].length&&1==Rt[9]?ut[Pa(Rt[0])].apply(ut,Rt[3]):1==qe.length&&su(qe)?ut[kt]():ut.thru(qe)}return function(){var ln=arguments,hn=ln[0];if(ut&&1==ln.length&&rr(hn))return ut.plant(hn).value();for(var bn=0,Wn=P?C[bn].apply(this,ln):hn;++bn<P;)Wn=C[bn].call(this,Wn);return Wn}})}function ma(_,C,P,te,xe,qe,ut,kt,Rt,ln){var hn=128&C,bn=1&C,Wn=2&C,hi=24&C,ti=512&C,lr=Wn?B:Vh(_);return function zi(){for(var zr=arguments.length,Cr=wt(zr),Ul=zr;Ul--;)Cr[Ul]=arguments[Ul];if(hi)var s=An(zi),i=rc(Cr,s);if(te&&(Cr=Oi(Cr,te,xe,hi)),qe&&(Cr=Yr(Cr,qe,ut,hi)),zr-=i,hi&&zr<ln){var c=fl(Cr,s);return el(_,C,ma,zi.placeholder,P,Cr,c,kt,Rt,ln-zr)}var p=bn?P:this,b=Wn?p[_]:_;return zr=Cr.length,kt?Cr=mp(Cr,kt):ti&&zr>1&&Cr.reverse(),hn&&Rt<zr&&(Cr.length=Rt),this&&this!==Rr&&this instanceof zi&&(b=lr||Vh(b)),b.apply(p,Cr)}}function Uh(_,C){return function(P,te){return function(_,C,P,te){return eu(_,function(xe,qe,ut){C(te,P(xe),qe,ut)}),te}(P,_,C(te),{})}}function Is(_,C){return function(P,te){var xe;if(P===B&&te===B)return C;if(P!==B&&(xe=P),te!==B){if(xe===B)return te;"string"==typeof P||"string"==typeof te?(P=Ga(P),te=Ga(te)):(P=Oc(P),te=Oc(te)),xe=_(P,te)}return xe}}function zl(_){return tl(function(C){return C=_n(C,Wo(Si())),er(function(P){var te=this;return _(C,function(xe){return ve(xe,te,P)})})})}function Hh(_,C){var P=(C=C===B?" ":Ga(C)).length;if(P<2)return P?ih(C,_):C;var te=ih(C,se(_/Q(C)));return ha(C)?jo(ke(te),0,_).join(""):te.slice(0,_)}function Fc(_){return function(C,P,te){return te&&"number"!=typeof te&&oa(C,P,te)&&(P=te=B),C=Cc(C),P===B?(P=C,C=0):P=Cc(P),function(_,C,P,te){for(var xe=-1,qe=ci(se((C-_)/(P||1)),0),ut=wt(qe);qe--;)ut[te?qe:++xe]=_,_+=P;return ut}(C,P,te=te===B?C<P?1:-1:Cc(te),_)}}function zo(_){return function(C,P){return"string"==typeof C&&"string"==typeof P||(C=ca(C),P=ca(P)),_(C,P)}}function el(_,C,P,te,xe,qe,ut,kt,Rt,ln){var hn=8&C;C|=hn?32:64,4&(C&=~(hn?64:32))||(C&=-4);var lr=[_,C,xe,hn?qe:B,hn?ut:B,hn?B:qe,hn?B:ut,kt,Rt,ln],zi=P.apply(B,lr);return su(_)&&$h(zi,lr),zi.placeholder=te,Kp(zi,_,C)}function dp(_){var C=wi[_];return function(P,te){if(P=ca(P),(te=null==te?0:In(or(te),292))&&rn(P)){var xe=(ro(P)+"e").split("e");return+((xe=(ro(C(xe[0]+"e"+(+xe[1]+te)))+"e").split("e"))[0]+"e"+(+xe[1]-te))}return C(P)}}var im=ht&&1/pl(new ht([,-0]))[1]==Fe?function(_){return new ht(_)}:cd;function Ps(_){return function(C){var P=nl(C);return P==Nn?Gl(C):P==Ei?function(ft){var Lt=-1,wt=Array(ft.size);return ft.forEach(function(en){wt[++Lt]=[en,en]}),wt}(C):function(ft,Lt){return _n(Lt,function(wt){return[wt,ft[wt]]})}(C,_(C))}}function Wa(_,C,P,te,xe,qe,ut,kt){var Rt=2&C;if(!Rt&&"function"!=typeof _)throw new To(U);var ln=te?te.length:0;if(ln||(C&=-97,te=xe=B),ut=ut===B?ut:ci(or(ut),0),kt=kt===B?kt:or(kt),ln-=xe?xe.length:0,64&C){var hn=te,bn=xe;te=xe=B}var Wn=Rt?B:Ad(_),hi=[_,C,P,te,xe,hn,bn,qe,ut,kt];if(Wn&&function(_,C){var P=_[1],te=C[1],xe=P|te;if(!(xe<131||(128==te&&8==P||128==te&&256==P&&_[7].length<=C[8]||384==te&&C[7].length<=C[8]&&8==P)))return _;1&te&&(_[2]=C[2],xe|=1&P?0:4);var kt=C[3];if(kt){var Rt=_[3];_[3]=Rt?Oi(Rt,kt,C[4]):kt,_[4]=Rt?fl(_[3],fe):C[4]}(kt=C[5])&&(_[5]=(Rt=_[5])?Yr(Rt,kt,C[6]):kt,_[6]=Rt?fl(_[5],fe):C[6]),(kt=C[7])&&(_[7]=kt),128&te&&(_[8]=null==_[8]?C[8]:In(_[8],C[8])),null==_[9]&&(_[9]=C[9]),_[0]=C[0],_[1]=xe}(hi,Wn),_=hi[0],C=hi[1],P=hi[2],te=hi[3],xe=hi[4],!(kt=hi[9]=hi[9]===B?Rt?0:_.length:ci(hi[9]-ln,0))&&24&C&&(C&=-25),C&&1!=C)ti=8==C||16==C?function(_,C,P){var te=Vh(_);return function xe(){for(var qe=arguments.length,ut=wt(qe),kt=qe,Rt=An(xe);kt--;)ut[kt]=arguments[kt];var ln=qe<3&&ut[0]!==Rt&&ut[qe-1]!==Rt?[]:fl(ut,Rt);return(qe-=ln.length)<P?el(_,C,ma,xe.placeholder,B,ut,ln,B,B,P-qe):ve(this&&this!==Rr&&this instanceof xe?te:_,this,ut)}}(_,C,kt):32!=C&&33!=C||xe.length?ma.apply(B,hi):function(_,C,P,te){var xe=1&C,qe=Vh(_);return function ut(){for(var kt=-1,Rt=arguments.length,ln=-1,hn=te.length,bn=wt(hn+Rt),Wn=this&&this!==Rr&&this instanceof ut?qe:_;++ln<hn;)bn[ln]=te[ln];for(;Rt--;)bn[ln++]=arguments[++kt];return ve(Wn,xe?P:this,bn)}}(_,C,P,te);else var ti=function(_,C,P){var te=1&C,xe=Vh(_);return function qe(){return(this&&this!==Rr&&this instanceof qe?xe:_).apply(te?P:this,arguments)}}(_,C,P);return Kp((Wn?jh:$h)(ti,hi),_,C)}function yl(_,C,P,te){return _===B||ba(_,ui[P])&&!Li.call(te,P)?C:_}function Ia(_,C,P,te,xe,qe){return ks(_)&&ks(C)&&(qe.set(C,_),Ko(_,C,B,Ia,qe),qe.delete(C)),_}function Vl(_){return pu(_)?B:_}function kd(_,C,P,te,xe,qe){var ut=1&P,kt=_.length,Rt=C.length;if(kt!=Rt&&!(ut&&Rt>kt))return!1;var ln=qe.get(_),hn=qe.get(C);if(ln&&hn)return ln==C&&hn==_;var bn=-1,Wn=!0,hi=2&P?new wu:B;for(qe.set(_,C),qe.set(C,_);++bn<kt;){var ti=_[bn],lr=C[bn];if(te)var zi=ut?te(lr,ti,bn,C,_,qe):te(ti,lr,bn,_,C,qe);if(zi!==B){if(zi)continue;Wn=!1;break}if(hi){if(!yr(C,function(zr,Cr){if(!Us(hi,Cr)&&(ti===zr||xe(ti,zr,P,te,qe)))return hi.push(Cr)})){Wn=!1;break}}else if(ti!==lr&&!xe(ti,lr,P,te,qe)){Wn=!1;break}}return qe.delete(_),qe.delete(C),Wn}function tl(_){return pc(Ed(_,B,Uc),_+"")}function Gh(_){return $u(_,ja,hp)}function Pf(_){return $u(_,El,xd)}var Ad=mi?function(_){return mi.get(_)}:cd;function Pa(_){for(var C=_.name+"",P=ei[C],te=Li.call(ei,C)?P.length:0;te--;){var xe=P[te],qe=xe.func;if(null==qe||qe==_)return xe.name}return C}function An(_){return(Li.call(Me,"placeholder")?Me:_).placeholder}function Si(){var _=Me.iteratee||Zc;return _=_===Zc?Zu:_,arguments.length?_(arguments[0],arguments[1]):_}function Xu(_,C){var P=_.__data__;return function(_){var C=typeof _;return"string"==C||"number"==C||"symbol"==C||"boolean"==C?"__proto__"!==_:null===_}(C)?P["string"==typeof C?"string":"hash"]:P.map}function Zp(_){for(var C=ja(_),P=C.length;P--;){var te=C[P],xe=_[te];C[P]=[te,xe,Wt(xe)]}return C}function Lc(_,C){var P=function(ft,Lt){return null==ft?B:ft[Lt]}(_,C);return Mn(P)?P:B}var hp=$n?function(_){return null==_?[]:(_=Ci(_),Ce($n(_),function(C){return is.call(_,C)}))}:zu,xd=$n?function(_){for(var C=[];_;)ni(C,hp(_)),_=Yo(_);return C}:zu,nl=Ss;function Ws(_,C,P){for(var te=-1,xe=(C=Bo(C,_)).length,qe=!1;++te<xe;){var ut=ec(C[te]);if(!(qe=null!=_&&P(_,ut)))break;_=_[ut]}return qe||++te!=xe?qe:!!(xe=null==_?0:_.length)&&Fd(xe)&&Oa(ut,xe)&&(rr(_)||bh(_))}function ru(_){return"function"!=typeof _.constructor||jc(_)?{}:qa(Yo(_))}function Io(_){return rr(_)||bh(_)||!!(Ha&&_&&_[Ha])}function Oa(_,C){var P=typeof _;return!!(C=null==C?Qe:C)&&("number"==P||"symbol"!=P&&pi.test(_))&&_>-1&&_%1==0&&_<C}function oa(_,C,P){if(!ks(P))return!1;var te=typeof C;return!!("number"==te?rl(P)&&Oa(C,P.length):"string"==te&&C in P)&&ba(P[C],_)}function cn(_,C){if(rr(_))return!1;var P=typeof _;return!("number"!=P&&"symbol"!=P&&"boolean"!=P&&null!=_&&!xl(_))||Qr.test(_)||!Lr.test(_)||null!=C&&_ in Ci(C)}function su(_){var C=Pa(_),P=Me[C];if("function"!=typeof P||!(C in pr.prototype))return!1;if(_===P)return!0;var te=Ad(P);return!!te&&_===te[0]}(ae&&nl(new ae(new ArrayBuffer(1)))!=Gn||Re&&nl(new Re)!=Nn||st&&nl(st.resolve())!=ai||ht&&nl(new ht)!=Ei||Ft&&nl(new Ft)!=vo)&&(nl=function(_){var C=Ss(_),P=C==Zn?_.constructor:B,te=P?Vc(P):"";if(te)switch(te){case ar:return Gn;case Bn:return Nn;case Il:return ai;case hs:return Ei;case ra:return vo}return C});var ch=Cs?fu:jp;function jc(_){var C=_&&_.constructor;return _===("function"==typeof C&&C.prototype||ui)}function Wt(_){return _==_&&!ks(_)}function pp(_,C){return function(P){return null!=P&&P[_]===C&&(C!==B||_ in Ci(P))}}function Ed(_,C,P){return C=ci(C===B?_.length-1:C,0),function(){for(var te=arguments,xe=-1,qe=ci(te.length-C,0),ut=wt(qe);++xe<qe;)ut[xe]=te[C+xe];xe=-1;for(var kt=wt(C+1);++xe<C;)kt[xe]=te[xe];return kt[C]=P(ut),ve(_,this,kt)}}function Jl(_,C){return C.length<2?_:bl(_,mr(C,0,-1))}function mp(_,C){for(var P=_.length,te=In(C.length,P),xe=Un(_);te--;){var qe=C[te];_[te]=Oa(qe,P)?xe[qe]:B}return _}function zc(_,C){if(("constructor"!==C||"function"!=typeof _[C])&&"__proto__"!=C)return _[C]}var $h=ed(jh),Mu=ee||function(_,C){return Rr.setTimeout(_,C)},pc=ed(rh);function Kp(_,C,P){var te=C+"";return pc(_,function(_,C){var P=C.length;if(!P)return _;var te=P-1;return C[te]=(P>1?"& ":"")+C[te],C=C.join(P>2?", ":" "),_.replace(Qt,"{\n/* [wrapped with "+C+"] */\n")}(te,function(_,C){return z(lt,function(P){var te="_."+P[0];C&P[1]&&!xt(_,te)&&_.push(te)}),_.sort()}(function(_){var C=_.match(Tn);return C?C[1].split(kn):[]}(te),P)))}function ed(_){var C=0,P=0;return function(){var te=H(),xe=16-(te-P);if(P=te,xe>0){if(++C>=800)return arguments[0]}else C=0;return _.apply(B,arguments)}}function gc(_,C){var P=-1,te=_.length,xe=te-1;for(C=C===B?te:C;++P<C;){var qe=Da(P,xe),ut=_[qe];_[qe]=_[P],_[P]=ut}return _.length=C,_}var C,P,Xl=(C=nf(function(_){var C=[];return 46===_.charCodeAt(0)&&C.push(""),_.replace(hr,function(P,te,xe,qe){C.push(xe?qe.replace(Ai,"$1"):te||P)}),C},function(te){return 500===P.size&&P.clear(),te}),P=C.cache,C);function ec(_){if("string"==typeof _||xl(_))return _;var C=_+"";return"0"==C&&1/_==-Fe?"-0":C}function Vc(_){if(null!=_){try{return qi.call(_)}catch(C){}try{return _+""}catch(C){}}return""}function au(_){if(_ instanceof pr)return _.clone();var C=new ka(_.__wrapped__,_.__chain__);return C.__actions__=Un(_.__actions__),C.__index__=_.__index__,C.__values__=_.__values__,C}var Qp=er(function(_,C){return gs(_)?qu(_,$s(C,1,gs,!0)):[]}),lu=er(function(_,C){var P=wl(C);return gs(P)&&(P=B),gs(_)?qu(_,$s(C,1,gs,!0),Si(P,2)):[]}),Jp=er(function(_,C){var P=wl(C);return gs(P)&&(P=B),gs(_)?qu(_,$s(C,1,gs,!0),B,P):[]});function ng(_,C,P){var te=null==_?0:_.length;if(!te)return-1;var xe=null==P?0:or(P);return xe<0&&(xe=ci(te+xe,0)),ri(_,Si(C,3),xe)}function bp(_,C,P){var te=null==_?0:_.length;if(!te)return-1;var xe=te-1;return P!==B&&(xe=or(P),xe=P<0?ci(te+xe,0):In(xe,te-1)),ri(_,Si(C,3),xe,!0)}function Uc(_){return null!=_&&_.length?$s(_,1):[]}function Yh(_){return _&&_.length?_[0]:B}var dh=er(function(_){var C=_n(_,up);return C.length&&C[0]===_[0]?Wu(C):[]}),Id=er(function(_){var C=wl(_),P=_n(_,up);return C===wl(P)?C=B:P.pop(),P.length&&P[0]===_[0]?Wu(P,Si(C,2)):[]}),sm=er(function(_){var C=wl(_),P=_n(_,up);return(C="function"==typeof C?C:B)&&P.pop(),P.length&&P[0]===_[0]?Wu(P,B,C):[]});function wl(_){var C=null==_?0:_.length;return C?_[C-1]:B}var vp=er(Tu);function Tu(_,C){return _&&_.length&&C&&C.length?ps(_,C):_}var Gm=tl(function(_,C){var P=null==_?0:_.length,te=Nl(_,C);return nh(_,_n(C,function(xe){return Oa(xe,P)?+xe:xe}).sort(ki)),te});function sg(_){return null==_?_:re.call(_)}var cg=er(function(_){return Ta($s(_,1,gs,!0))}),mc=er(function(_){var C=wl(_);return gs(C)&&(C=B),Ta($s(_,1,gs,!0),Si(C,2))}),Qh=er(function(_){var C=wl(_);return C="function"==typeof C?C:B,Ta($s(_,1,gs,!0),B,C)});function Su(_){if(!_||!_.length)return[];var C=0;return _=Ce(_,function(P){if(gs(P))return C=ci(P.length,C),!0}),ul(C,function(P){return _n(_,ql(P))})}function kl(_,C){if(!_||!_.length)return[];var P=Su(_);return null==C?P:_n(P,function(te){return ve(C,B,te)})}var Lf=er(function(_,C){return gs(_)?qu(_,C):[]}),Kr=er(function(_){return Sf(Ce(_,gs))}),_a=er(function(_){var C=wl(_);return gs(C)&&(C=B),Sf(Ce(_,gs),Si(C,2))}),_c=er(function(_){var C=wl(_);return C="function"==typeof C?C:B,Sf(Ce(_,gs),B,C)}),Bf=er(Su),il=er(function(_){var C=_.length,P=C>1?_[C-1]:B;return P="function"==typeof P?(_.pop(),P):B,kl(_,P)});function bc(_){var C=Me(_);return C.__chain__=!0,C}function fo(_,C){return C(_)}var Iu=tl(function(_){var C=_.length,P=C?_[0]:0,te=this.__wrapped__,xe=function(qe){return Nl(qe,_)};return!(C>1||this.__actions__.length)&&te instanceof pr&&Oa(P)?((te=te.slice(P,+P+(C?1:0))).__actions__.push({func:fo,args:[xe],thisArg:B}),new ka(te,this.__chain__).thru(function(qe){return C&&!qe.length&&qe.push(B),qe})):this.thru(xe)}),Km=dc(function(_,C,P){Li.call(_,P)?++_[P]:ml(_,P,1)}),Xh=Hr(ng),vc=Hr(bp);function hh(_,C){return(rr(_)?z:Ja)(_,Si(C,3))}function pg(_,C){return(rr(_)?G:Cu)(_,Si(C,3))}var gg=dc(function(_,C,P){Li.call(_,P)?_[P].push(C):ml(_,P,[C])}),Qm=er(function(_,C,P){var te=-1,xe="function"==typeof C,qe=rl(_)?wt(_.length):[];return Ja(_,function(ut){qe[++te]=xe?ve(C,ut,P):Ma(ut,C,P)}),qe}),S_=dc(function(_,C,P){ml(_,P,C)});function ef(_,C){return(rr(_)?_n:vd)(_,Si(C,3))}var tf=dc(function(_,C,P){_[P?0:1].push(C)},function(){return[[],[]]}),gh=er(function(_,C){if(null==_)return[];var P=C.length;return P>1&&oa(_,C[0],C[1])?C=[]:P>2&&oa(C[0],C[1],C[2])&&(C=[C[0]]),Pc(_,$s(C,1),[])}),uu=M||function(){return Rr.Date.now()};function vg(_,C,P){return C=P?B:C,Wa(_,128,B,B,B,B,C=_&&null==C?_.length:C)}function mh(_,C){var P;if("function"!=typeof C)throw new To(U);return _=or(_),function(){return--_>0&&(P=C.apply(this,arguments)),_<=1&&(C=B),P}}var jf=er(function(_,C,P){var te=1;if(P.length){var xe=fl(P,An(jf));te|=32}return Wa(_,te,C,P,xe)}),Od=er(function(_,C,P){var te=3;if(P.length){var xe=fl(P,An(Od));te|=32}return Wa(C,te,_,P,xe)});function Nd(_,C,P){var te,xe,qe,ut,kt,Rt,ln=0,hn=!1,bn=!1,Wn=!0;if("function"!=typeof _)throw new To(U);function hi(c){var p=te,b=xe;return te=xe=B,ln=c,ut=_.apply(b,p)}function ti(c){return ln=c,kt=Mu(zr,C),hn?hi(c):ut}function zi(c){var p=c-Rt;return Rt===B||p>=C||p<0||bn&&c-ln>=qe}function zr(){var c=uu();if(zi(c))return Cr(c);kt=Mu(zr,function(c){var A=C-(c-Rt);return bn?In(A,qe-(c-ln)):A}(c))}function Cr(c){return kt=B,Wn&&te?hi(c):(te=xe=B,ut)}function i(){var c=uu(),p=zi(c);if(te=arguments,xe=this,Rt=c,p){if(kt===B)return ti(Rt);if(bn)return If(kt),kt=Mu(zr,C),hi(Rt)}return kt===B&&(kt=Mu(zr,C)),ut}return C=ca(C)||0,ks(P)&&(hn=!!P.leading,qe=(bn="maxWait"in P)?ci(ca(P.maxWait)||0,C):qe,Wn="trailing"in P?!!P.trailing:Wn),i.cancel=function(){kt!==B&&If(kt),ln=0,te=Rt=xe=kt=B},i.flush=function(){return kt===B?ut:Cr(uu())},i}var rd=er(function(_,C){return Hu(_,1,C)}),od=er(function(_,C,P){return Hu(_,ca(C)||0,P)});function nf(_,C){if("function"!=typeof _||null!=C&&"function"!=typeof C)throw new To(U);var P=function(){var te=arguments,xe=C?C.apply(this,te):te[0],qe=P.cache;if(qe.has(xe))return qe.get(xe);var ut=_.apply(this,te);return P.cache=qe.set(xe,ut)||qe,ut};return P.cache=new(nf.Cache||io),P}function _h(_){if("function"!=typeof _)throw new To(U);return function(){var C=arguments;switch(C.length){case 0:return!_.call(this);case 1:return!_.call(this,C[0]);case 2:return!_.call(this,C[0],C[1]);case 3:return!_.call(this,C[0],C[1],C[2])}return!_.apply(this,C)}}nf.Cache=io;var yg=zh(function(_,C){var P=(C=1==C.length&&rr(C[0])?_n(C[0],Wo(Si())):_n($s(C,1),Wo(Si()))).length;return er(function(te){for(var xe=-1,qe=In(te.length,P);++xe<qe;)te[xe]=C[xe].call(this,te[xe]);return ve(_,this,te)})}),Vf=er(function(_,C){var P=fl(C,An(Vf));return Wa(_,32,B,C,P)}),Uf=er(function(_,C){var P=fl(C,An(Uf));return Wa(_,64,B,C,P)}),fm=tl(function(_,C){return Wa(_,256,B,B,B,C)});function ba(_,C){return _===C||_!=_&&C!=C}var xp=zo(Bh),gm=zo(function(_,C){return _>=C}),bh=Rl(function(){return arguments}())?Rl:function(_){return Zs(_)&&Li.call(_,"callee")&&!is.call(_,"callee")},rr=wt.isArray,sf=ne?Wo(ne):function(_){return Zs(_)&&Ss(_)==Ui};function rl(_){return null!=_&&Fd(_.length)&&!fu(_)}function gs(_){return Zs(_)&&rl(_)}var du=ir||jp,xg=Be?Wo(Be):function(_){return Zs(_)&&Ss(_)==jn};function sd(_){if(!Zs(_))return!1;var C=Ss(_);return C==Dn||"[object DOMException]"==C||"string"==typeof _.message&&"string"==typeof _.name&&!pu(_)}function fu(_){if(!ks(_))return!1;var C=Ss(_);return C==kr||C==br||"[object AsyncFunction]"==C||"[object Proxy]"==C}function wc(_){return"number"==typeof _&&_==or(_)}function Fd(_){return"number"==typeof _&&_>-1&&_%1==0&&_<=Qe}function ks(_){var C=typeof _;return null!=_&&("object"==C||"function"==C)}function Zs(_){return null!=_&&"object"==typeof _}var t_=it?Wo(it):function(_){return Zs(_)&&nl(_)==Nn};function Dp(_){return"number"==typeof _||Zs(_)&&Ss(_)==Cn}function pu(_){if(!Zs(_)||Ss(_)!=Zn)return!1;var C=Yo(_);if(null===C)return!0;var P=Li.call(C,"constructor")&&C.constructor;return"function"==typeof P&&P instanceof P&&qi.call(P)==Ln}var vh=V?Wo(V):function(_){return Zs(_)&&Ss(_)==Di},Gf=le?Wo(le):function(_){return Zs(_)&&nl(_)==Ei};function Ys(_){return"string"==typeof _||!rr(_)&&Zs(_)&&Ss(_)==Vo}function xl(_){return"symbol"==typeof _||Zs(_)&&Ss(_)==Rn}var af=W?Wo(W):function(_){return Zs(_)&&Fd(_.length)&&!!Xi[Ss(_)]},$f=zo(Yl),Ns=zo(function(_,C){return _<=C});function wh(_){if(!_)return[];if(rl(_))return Ys(_)?ke(_):Un(_);if(Ca&&_[Ca])return function(ft){for(var Lt,wt=[];!(Lt=ft.next()).done;)wt.push(Lt.value);return wt}(_[Ca]());var C=nl(_);return(C==Nn?Gl:C==Ei?pl:Fu)(_)}function Cc(_){return _?(_=ca(_))===Fe||_===-Fe?17976931348623157e292*(_<0?-1:1):_==_?_:0:0===_?_:0}function or(_){var C=Cc(_),P=C%1;return C==C?P?C-P:C:0}function Ld(_){return _?_l(or(_),0,Ht):0}function ca(_){if("number"==typeof _)return _;if(xl(_))return NaN;if(ks(_)){var C="function"==typeof _.valueOf?_.valueOf():_;_=ks(C)?C+"":C}if("string"!=typeof _)return 0===_?_:+_;_=Ra(_);var P=xr.test(_);return P||qn.test(_)?Ms(_.slice(2),P?2:8):fr.test(_)?NaN:+_}function lf(_){return La(_,El(_))}function ro(_){return null==_?"":Ga(_)}var n_=hc(function(_,C){if(jc(C)||rl(C))La(C,ja(C),_);else for(var P in C)Li.call(C,P)&&Jc(_,P,C[P])}),Po=hc(function(_,C){La(C,El(C),_)}),Ch=hc(function(_,C,P,te){La(C,El(C),_,te)}),Dg=hc(function(_,C,P,te){La(C,ja(C),_,te)}),Bd=tl(Nl),Tg=er(function(_,C){_=Ci(_);var P=-1,te=C.length,xe=te>2?C[2]:B;for(xe&&oa(C[0],C[1],xe)&&(te=1);++P<te;)for(var qe=C[P],ut=El(qe),kt=-1,Rt=ut.length;++kt<Rt;){var ln=ut[kt],hn=_[ln];(hn===B||ba(hn,ui[ln])&&!Li.call(_,ln))&&(_[ln]=qe[ln])}return _}),Wf=er(function(_){return _.push(B,Ia),ve(Pg,B,_)});function kc(_,C,P){var te=null==_?B:bl(_,C);return te===B?P:te}function ol(_,C){return null!=_&&Ws(_,C,ku)}var Ac=Uh(function(_,C,P){null!=C&&"function"!=typeof C.toString&&(C=Fr.call(C)),_[C]=P},ld(Ks)),Ig=Uh(function(_,C,P){null!=C&&"function"!=typeof C.toString&&(C=Fr.call(C)),Li.call(_,C)?_[C].push(P):_[C]=[P]},Si),Zf=er(Ma);function ja(_){return rl(_)?Jd(_):vl(_)}function El(_){return rl(_)?Jd(_,!0):function(_){if(!ks(_))return function(_){var C=[];if(null!=_)for(var P in Ci(_))C.push(P);return C}(_);var C=jc(_),P=[];for(var te in _)"constructor"==te&&(C||!Li.call(_,te))||P.push(te);return P}(_)}var Cm=hc(function(_,C,P){Ko(_,C,P)}),Pg=hc(function(_,C,P,te){Ko(_,C,P,te)}),ua=tl(function(_,C){var P={};if(null==_)return P;var te=!1;C=_n(C,function(qe){return qe=Bo(qe,_),te||(te=qe.length>1),qe}),La(_,Pf(_),P),te&&(P=ga(P,7,Vl));for(var xe=C.length;xe--;)uc(P,C[xe]);return P}),km=tl(function(_,C){return null==_?{}:function(_,C){return th(_,C,function(P,te){return ol(_,te)})}(_,C)});function Og(_,C){if(null==_)return{};var P=_n(Pf(_),function(te){return[te]});return C=Si(C),th(_,P,function(te,xe){return C(te,xe[0])})}var kh=Ps(ja),Ah=Ps(El);function Fu(_){return null==_?[]:Ds(_,ja(_))}var $c=Rc(function(_,C,P){return C=C.toLowerCase(),_+(P?Em(C):C)});function Em(_){return Dl(ro(_).toLowerCase())}function r_(_){return(_=ro(_))&&_.replace(Ki,wa).replace(cl,"")}var Lg=Rc(function(_,C,P){return _+(P?"-":"")+C.toLowerCase()}),Tm=Rc(function(_,C,P){return _+(P?" ":"")+C.toLowerCase()}),Vd=xu("toLowerCase"),df=Rc(function(_,C,P){return _+(P?"_":"")+C.toLowerCase()}),hf=Rc(function(_,C,P){return _+(P?" ":"")+Dl(C)}),Rs=Rc(function(_,C,P){return _+(P?" ":"")+C.toUpperCase()}),Dl=xu("toUpperCase");function pf(_,C,P){return _=ro(_),(C=P?B:C)===B?function(ft){return js.test(ft)}(_)?function(ft){return ft.match(ea)||[]}(_):function(ft){return ft.match(gi)||[]}(_):_.match(C)||[]}var xc=er(function(_,C){try{return ve(_,B,C)}catch(P){return sd(P)?P:new gn(P)}}),Ug=tl(function(_,C){return z(C,function(P){P=ec(P),ml(_,P,jf(_[P],_))}),_});function ld(_){return function(){return _}}var Dh=jl(),Bu=jl(!0);function Ks(_){return _}function Zc(_){return Zu("function"==typeof _?_:ga(_,1))}var ju=er(function(_,C){return function(P){return Ma(P,_,C)}}),Gd=er(function(_,C){return function(P){return Ma(_,P,C)}});function gf(_,C,P){var te=ja(C),xe=tu(C,te);null==P&&(!ks(C)||!xe.length&&te.length)&&(P=C,C=_,_=this,xe=tu(C,ja(C)));var qe=!(ks(P)&&"chain"in P&&!P.chain),ut=fu(_);return z(xe,function(kt){var Rt=C[kt];_[kt]=Rt,ut&&(_.prototype[kt]=function(){var ln=this.__chain__;if(qe||ln){var hn=_(this.__wrapped__),bn=hn.__actions__=Un(this.__actions__);return bn.push({func:Rt,args:arguments,thisArg:_}),hn.__chain__=ln,hn}return Rt.apply(_,ni([this.value()],arguments))})}),_}function cd(){}var qg=zl(_n),Lp=zl($),ud=zl(yr);function dd(_){return cn(_)?ql(ec(_)):function(_){return function(C){return bl(C,_)}}(_)}var Bp=Fc(),ep=Fc(!0);function zu(){return[]}function jp(){return!1}var $d=Is(function(_,C){return _+C},0),Wd=dp("ceil"),Sh=Is(function(_,C){return _/C},1),o_=dp("floor"),np=Is(function(_,C){return _*C},1),mu=dp("round"),Pm=Is(function(_,C){return _-C},0);return Me.after=function(_,C){if("function"!=typeof C)throw new To(U);return _=or(_),function(){if(--_<1)return C.apply(this,arguments)}},Me.ary=vg,Me.assign=n_,Me.assignIn=Po,Me.assignInWith=Ch,Me.assignWith=Dg,Me.at=Bd,Me.before=mh,Me.bind=jf,Me.bindAll=Ug,Me.bindKey=Od,Me.castArray=function(){if(!arguments.length)return[];var _=arguments[0];return rr(_)?_:[_]},Me.chain=bc,Me.chunk=function(_,C,P){C=(P?oa(_,C,P):C===B)?1:ci(or(C),0);var te=null==_?0:_.length;if(!te||C<1)return[];for(var xe=0,qe=0,ut=wt(se(te/C));xe<te;)ut[qe++]=mr(_,xe,xe+=C);return ut},Me.compact=function(_){for(var C=-1,P=null==_?0:_.length,te=0,xe=[];++C<P;){var qe=_[C];qe&&(xe[te++]=qe)}return xe},Me.concat=function(){var _=arguments.length;if(!_)return[];for(var C=wt(_-1),P=arguments[0],te=_;te--;)C[te-1]=arguments[te];return ni(rr(P)?Un(P):[P],$s(C,1))},Me.cond=function(_){var C=null==_?0:_.length,P=Si();return _=C?_n(_,function(te){if("function"!=typeof te[1])throw new To(U);return[P(te[0]),te[1]]}):[],er(function(te){for(var xe=-1;++xe<C;){var qe=_[xe];if(ve(qe[0],this,te))return ve(qe[1],this,te)}})},Me.conforms=function(_){return function(_){var C=ja(_);return function(P){return eh(P,_,C)}}(ga(_,1))},Me.constant=ld,Me.countBy=Km,Me.create=function(_,C){var P=qa(_);return null==C?P:_d(P,C)},Me.curry=function Ou(_,C,P){var te=Wa(_,8,B,B,B,B,B,C=P?B:C);return te.placeholder=Ou.placeholder,te},Me.curryRight=function zf(_,C,P){var te=Wa(_,16,B,B,B,B,B,C=P?B:C);return te.placeholder=zf.placeholder,te},Me.debounce=Nd,Me.defaults=Tg,Me.defaultsDeep=Wf,Me.defer=rd,Me.delay=od,Me.difference=Qp,Me.differenceBy=lu,Me.differenceWith=Jp,Me.drop=function(_,C,P){var te=null==_?0:_.length;return te?mr(_,(C=P||C===B?1:or(C))<0?0:C,te):[]},Me.dropRight=function(_,C,P){var te=null==_?0:_.length;return te?mr(_,0,(C=te-(C=P||C===B?1:or(C)))<0?0:C):[]},Me.dropRightWhile=function(_,C){return _&&_.length?Nc(_,Si(C,3),!0,!0):[]},Me.dropWhile=function(_,C){return _&&_.length?Nc(_,Si(C,3),!0):[]},Me.fill=function(_,C,P,te){var xe=null==_?0:_.length;return xe?(P&&"number"!=typeof P&&oa(_,C,P)&&(P=0,te=xe),function(_,C,P,te){var xe=_.length;for((P=or(P))<0&&(P=-P>xe?0:xe+P),(te=te===B||te>xe?xe:or(te))<0&&(te+=xe),te=P>te?0:Ld(te);P<te;)_[P++]=C;return _}(_,C,P,te)):[]},Me.filter=function(_,C){return(rr(_)?Ce:sp)(_,Si(C,3))},Me.flatMap=function(_,C){return $s(ef(_,C),1)},Me.flatMapDeep=function(_,C){return $s(ef(_,C),Fe)},Me.flatMapDepth=function(_,C,P){return P=P===B?1:or(P),$s(ef(_,C),P)},Me.flatten=Uc,Me.flattenDeep=function(_){return null!=_&&_.length?$s(_,Fe):[]},Me.flattenDepth=function(_,C){return null!=_&&_.length?$s(_,C=C===B?1:or(C)):[]},Me.flip=function(_){return Wa(_,512)},Me.flow=Dh,Me.flowRight=Bu,Me.fromPairs=function(_){for(var C=-1,P=null==_?0:_.length,te={};++C<P;){var xe=_[C];te[xe[0]]=xe[1]}return te},Me.functions=function(_){return null==_?[]:tu(_,ja(_))},Me.functionsIn=function(_){return null==_?[]:tu(_,El(_))},Me.groupBy=gg,Me.initial=function(_){return null!=_&&_.length?mr(_,0,-1):[]},Me.intersection=dh,Me.intersectionBy=Id,Me.intersectionWith=sm,Me.invert=Ac,Me.invertBy=Ig,Me.invokeMap=Qm,Me.iteratee=Zc,Me.keyBy=S_,Me.keys=ja,Me.keysIn=El,Me.map=ef,Me.mapKeys=function(_,C){var P={};return C=Si(C,3),eu(_,function(te,xe,qe){ml(P,C(te,xe,qe),te)}),P},Me.mapValues=function(_,C){var P={};return C=Si(C,3),eu(_,function(te,xe,qe){ml(P,xe,C(te,xe,qe))}),P},Me.matches=function(_){return cc(ga(_,1))},Me.matchesProperty=function(_,C){return yd(_,ga(C,1))},Me.memoize=nf,Me.merge=Cm,Me.mergeWith=Pg,Me.method=ju,Me.methodOf=Gd,Me.mixin=gf,Me.negate=_h,Me.nthArg=function(_){return _=or(_),er(function(C){return Ll(C,_)})},Me.omit=ua,Me.omitBy=function(_,C){return Og(_,_h(Si(C)))},Me.once=function(_){return mh(2,_)},Me.orderBy=function(_,C,P,te){return null==_?[]:(rr(C)||(C=null==C?[]:[C]),rr(P=te?B:P)||(P=null==P?[]:[P]),Pc(_,C,P))},Me.over=qg,Me.overArgs=yg,Me.overEvery=Lp,Me.overSome=ud,Me.partial=Vf,Me.partialRight=Uf,Me.partition=tf,Me.pick=km,Me.pickBy=Og,Me.property=dd,Me.propertyOf=function(_){return function(C){return null==_?B:bl(_,C)}},Me.pull=vp,Me.pullAll=Tu,Me.pullAllBy=function(_,C,P){return _&&_.length&&C&&C.length?ps(_,C,Si(P,2)):_},Me.pullAllWith=function(_,C,P){return _&&_.length&&C&&C.length?ps(_,C,B,P):_},Me.pullAt=Gm,Me.range=Bp,Me.rangeRight=ep,Me.rearg=fm,Me.reject=function(_,C){return(rr(_)?Ce:sp)(_,_h(Si(C,3)))},Me.remove=function(_,C){var P=[];if(!_||!_.length)return P;var te=-1,xe=[],qe=_.length;for(C=Si(C,3);++te<qe;){var ut=_[te];C(ut,te,_)&&(P.push(ut),xe.push(te))}return nh(_,xe),P},Me.rest=function(_,C){if("function"!=typeof _)throw new To(U);return er(_,C=C===B?C:or(C))},Me.reverse=sg,Me.sampleSize=function(_,C,P){return C=(P?oa(_,C,P):C===B)?1:or(C),(rr(_)?$p:Tf)(_,C)},Me.set=function(_,C,P){return null==_?_:Ku(_,C,P)},Me.setWith=function(_,C,P,te){return te="function"==typeof te?te:B,null==_?_:Ku(_,C,P,te)},Me.shuffle=function(_){return(rr(_)?Af:ap)(_)},Me.slice=function(_,C,P){var te=null==_?0:_.length;return te?(P&&"number"!=typeof P&&oa(_,C,P)?(C=0,P=te):(C=null==C?0:or(C),P=P===B?te:or(P)),mr(_,C,P)):[]},Me.sortBy=gh,Me.sortedUniq=function(_){return _&&_.length?wd(_):[]},Me.sortedUniqBy=function(_,C){return _&&_.length?wd(_,Si(C,2)):[]},Me.split=function(_,C,P){return P&&"number"!=typeof P&&oa(_,C,P)&&(C=P=B),(P=P===B?Ht:P>>>0)?(_=ro(_))&&("string"==typeof C||null!=C&&!vh(C))&&!(C=Ga(C))&&ha(_)?jo(ke(_),0,P):_.split(C,P):[]},Me.spread=function(_,C){if("function"!=typeof _)throw new To(U);return C=null==C?0:ci(or(C),0),er(function(P){var te=P[C],xe=jo(P,0,C);return te&&ni(xe,te),ve(_,this,xe)})},Me.tail=function(_){var C=null==_?0:_.length;return C?mr(_,1,C):[]},Me.take=function(_,C,P){return _&&_.length?mr(_,0,(C=P||C===B?1:or(C))<0?0:C):[]},Me.takeRight=function(_,C,P){var te=null==_?0:_.length;return te?mr(_,(C=te-(C=P||C===B?1:or(C)))<0?0:C,te):[]},Me.takeRightWhile=function(_,C){return _&&_.length?Nc(_,Si(C,3),!1,!0):[]},Me.takeWhile=function(_,C){return _&&_.length?Nc(_,Si(C,3)):[]},Me.tap=function(_,C){return C(_),_},Me.throttle=function(_,C,P){var te=!0,xe=!0;if("function"!=typeof _)throw new To(U);return ks(P)&&(te="leading"in P?!!P.leading:te,xe="trailing"in P?!!P.trailing:xe),Nd(_,C,{leading:te,maxWait:C,trailing:xe})},Me.thru=fo,Me.toArray=wh,Me.toPairs=kh,Me.toPairsIn=Ah,Me.toPath=function(_){return rr(_)?_n(_,ec):xl(_)?[_]:Un(Xl(ro(_)))},Me.toPlainObject=lf,Me.transform=function(_,C,P){var te=rr(_),xe=te||du(_)||af(_);if(C=Si(C,4),null==P){var qe=_&&_.constructor;P=xe?te?new qe:[]:ks(_)&&fu(qe)?qa(Yo(_)):{}}return(xe?z:eu)(_,function(ut,kt,Rt){return C(P,ut,kt,Rt)}),P},Me.unary=function(_){return vg(_,1)},Me.union=cg,Me.unionBy=mc,Me.unionWith=Qh,Me.uniq=function(_){return _&&_.length?Ta(_):[]},Me.uniqBy=function(_,C){return _&&_.length?Ta(_,Si(C,2)):[]},Me.uniqWith=function(_,C){return C="function"==typeof C?C:B,_&&_.length?Ta(_,B,C):[]},Me.unset=function(_,C){return null==_||uc(_,C)},Me.unzip=Su,Me.unzipWith=kl,Me.update=function(_,C,P){return null==_?_:Xa(_,C,iu(P))},Me.updateWith=function(_,C,P,te){return te="function"==typeof te?te:B,null==_?_:Xa(_,C,iu(P),te)},Me.values=Fu,Me.valuesIn=function(_){return null==_?[]:Ds(_,El(_))},Me.without=Lf,Me.words=pf,Me.wrap=function(_,C){return Vf(iu(C),_)},Me.xor=Kr,Me.xorBy=_a,Me.xorWith=_c,Me.zip=Bf,Me.zipObject=function(_,C){return cp(_||[],C||[],Jc)},Me.zipObjectDeep=function(_,C){return cp(_||[],C||[],Ku)},Me.zipWith=il,Me.entries=kh,Me.entriesIn=Ah,Me.extend=Po,Me.extendWith=Ch,gf(Me,Me),Me.add=$d,Me.attempt=xc,Me.camelCase=$c,Me.capitalize=Em,Me.ceil=Wd,Me.clamp=function(_,C,P){return P===B&&(P=C,C=B),P!==B&&(P=(P=ca(P))==P?P:0),C!==B&&(C=(C=ca(C))==C?C:0),_l(ca(_),C,P)},Me.clone=function(_){return ga(_,4)},Me.cloneDeep=function(_){return ga(_,5)},Me.cloneDeepWith=function(_,C){return ga(_,5,C="function"==typeof C?C:B)},Me.cloneWith=function(_,C){return ga(_,4,C="function"==typeof C?C:B)},Me.conformsTo=function(_,C){return null==C||eh(_,C,ja(C))},Me.deburr=r_,Me.defaultTo=function(_,C){return null==_||_!=_?C:_},Me.divide=Sh,Me.endsWith=function(_,C,P){_=ro(_),C=Ga(C);var te=_.length,xe=P=P===B?te:_l(or(P),0,te);return(P-=C.length)>=0&&_.slice(P,xe)==C},Me.eq=ba,Me.escape=function(_){return(_=ro(_))&&Qn.test(_)?_.replace(sn,Va):_},Me.escapeRegExp=function(_){return(_=ro(_))&&yt.test(_)?_.replace(Pt,"\\$&"):_},Me.every=function(_,C,P){var te=rr(_)?$:Ea;return P&&oa(_,C,P)&&(C=B),te(_,Si(C,3))},Me.find=Xh,Me.findIndex=ng,Me.findKey=function(_,C){return ys(_,Si(C,3),eu)},Me.findLast=vc,Me.findLastIndex=bp,Me.findLastKey=function(_,C){return ys(_,Si(C,3),Lh)},Me.floor=o_,Me.forEach=hh,Me.forEachRight=pg,Me.forIn=function(_,C){return null==_?_:ac(_,Si(C,3),El)},Me.forInRight=function(_,C){return null==_?_:Fh(_,Si(C,3),El)},Me.forOwn=function(_,C){return _&&eu(_,Si(C,3))},Me.forOwnRight=function(_,C){return _&&Lh(_,Si(C,3))},Me.get=kc,Me.gt=xp,Me.gte=gm,Me.has=function(_,C){return null!=_&&Ws(_,C,xf)},Me.hasIn=ol,Me.head=Yh,Me.identity=Ks,Me.includes=function(_,C,P,te){_=rl(_)?_:Fu(_),P=P&&!te?or(P):0;var xe=_.length;return P<0&&(P=ci(xe+P,0)),Ys(_)?P<=xe&&_.indexOf(C,P)>-1:!!xe&&mo(_,C,P)>-1},Me.indexOf=function(_,C,P){var te=null==_?0:_.length;if(!te)return-1;var xe=null==P?0:or(P);return xe<0&&(xe=ci(te+xe,0)),mo(_,C,xe)},Me.inRange=function(_,C,P){return C=Cc(C),P===B?(P=C,C=0):P=Cc(P),function(_,C,P){return _>=In(C,P)&&_<ci(C,P)}(_=ca(_),C,P)},Me.invoke=Zf,Me.isArguments=bh,Me.isArray=rr,Me.isArrayBuffer=sf,Me.isArrayLike=rl,Me.isArrayLikeObject=gs,Me.isBoolean=function(_){return!0===_||!1===_||Zs(_)&&Ss(_)==pn},Me.isBuffer=du,Me.isDate=xg,Me.isElement=function(_){return Zs(_)&&1===_.nodeType&&!pu(_)},Me.isEmpty=function(_){if(null==_)return!0;if(rl(_)&&(rr(_)||"string"==typeof _||"function"==typeof _.splice||du(_)||af(_)||bh(_)))return!_.length;var C=nl(_);if(C==Nn||C==Ei)return!_.size;if(jc(_))return!vl(_).length;for(var P in _)if(Li.call(_,P))return!1;return!0},Me.isEqual=function(_,C){return Zl(_,C)},Me.isEqualWith=function(_,C,P){var te=(P="function"==typeof P?P:B)?P(_,C):B;return te===B?Zl(_,C,B,P):!!te},Me.isError=sd,Me.isFinite=function(_){return"number"==typeof _&&rn(_)},Me.isFunction=fu,Me.isInteger=wc,Me.isLength=Fd,Me.isMap=t_,Me.isMatch=function(_,C){return _===C||lc(_,C,Zp(C))},Me.isMatchWith=function(_,C,P){return P="function"==typeof P?P:B,lc(_,C,Zp(C),P)},Me.isNaN=function(_){return Dp(_)&&_!=+_},Me.isNative=function(_){if(ch(_))throw new gn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mn(_)},Me.isNil=function(_){return null==_},Me.isNull=function(_){return null===_},Me.isNumber=Dp,Me.isObject=ks,Me.isObjectLike=Zs,Me.isPlainObject=pu,Me.isRegExp=vh,Me.isSafeInteger=function(_){return wc(_)&&_>=-Qe&&_<=Qe},Me.isSet=Gf,Me.isString=Ys,Me.isSymbol=xl,Me.isTypedArray=af,Me.isUndefined=function(_){return _===B},Me.isWeakMap=function(_){return Zs(_)&&nl(_)==vo},Me.isWeakSet=function(_){return Zs(_)&&"[object WeakSet]"==Ss(_)},Me.join=function(_,C){return null==_?"":Ir.call(_,C)},Me.kebabCase=Lg,Me.last=wl,Me.lastIndexOf=function(_,C,P){var te=null==_?0:_.length;if(!te)return-1;var xe=te;return P!==B&&(xe=(xe=or(P))<0?ci(te+xe,0):In(xe,te-1)),C==C?function(ft,Lt,wt){for(var en=wt+1;en--;)if(ft[en]===Lt)return en;return en}(_,C,xe):ri(_,nc,xe,!0)},Me.lowerCase=Tm,Me.lowerFirst=Vd,Me.lt=$f,Me.lte=Ns,Me.max=function(_){return _&&_.length?Gs(_,Ks,Bh):B},Me.maxBy=function(_,C){return _&&_.length?Gs(_,Si(C,2),Bh):B},Me.mean=function(_){return Mc(_,Ks)},Me.meanBy=function(_,C){return Mc(_,Si(C,2))},Me.min=function(_){return _&&_.length?Gs(_,Ks,Yl):B},Me.minBy=function(_,C){return _&&_.length?Gs(_,Si(C,2),Yl):B},Me.stubArray=zu,Me.stubFalse=jp,Me.stubObject=function(){return{}},Me.stubString=function(){return""},Me.stubTrue=function(){return!0},Me.multiply=np,Me.nth=function(_,C){return _&&_.length?Ll(_,or(C)):B},Me.noConflict=function(){return Rr._===this&&(Rr._=Xn),this},Me.noop=cd,Me.now=uu,Me.pad=function(_,C,P){_=ro(_);var te=(C=or(C))?Q(_):0;if(!C||te>=C)return _;var xe=(C-te)/2;return Hh(We(xe),P)+_+Hh(se(xe),P)},Me.padEnd=function(_,C,P){_=ro(_);var te=(C=or(C))?Q(_):0;return C&&te<C?_+Hh(C-te,P):_},Me.padStart=function(_,C,P){_=ro(_);var te=(C=or(C))?Q(_):0;return C&&te<C?Hh(C-te,P)+_:_},Me.parseInt=function(_,C,P){return P||null==C?C=0:C&&(C=+C),R(ro(_).replace(tt,""),C||0)},Me.random=function(_,C,P){if(P&&"boolean"!=typeof P&&oa(_,C,P)&&(C=P=B),P===B&&("boolean"==typeof C?(P=C,C=B):"boolean"==typeof _&&(P=_,_=B)),_===B&&C===B?(_=0,C=1):(_=Cc(_),C===B?(C=_,_=0):C=Cc(C)),_>C){var te=_;_=C,C=te}if(P||_%1||C%1){var xe=L();return In(_+xe*(C-_+$o("1e-"+((xe+"").length-1))),C)}return Da(_,C)},Me.reduce=function(_,C,P){var te=rr(_)?li:ic,xe=arguments.length<3;return te(_,Si(C,4),P,xe,Ja)},Me.reduceRight=function(_,C,P){var te=rr(_)?Fi:ic,xe=arguments.length<3;return te(_,Si(C,4),P,xe,Cu)},Me.repeat=function(_,C,P){return C=(P?oa(_,C,P):C===B)?1:or(C),ih(ro(_),C)},Me.replace=function(){var _=arguments,C=ro(_[0]);return _.length<3?C:C.replace(_[1],_[2])},Me.result=function(_,C,P){var te=-1,xe=(C=Bo(C,_)).length;for(xe||(xe=1,_=B);++te<xe;){var qe=null==_?B:_[ec(C[te])];qe===B&&(te=xe,qe=P),_=fu(qe)?qe.call(_):qe}return _},Me.round=mu,Me.runInContext=ft,Me.sample=function(_){return(rr(_)?kf:Bl)(_)},Me.size=function(_){if(null==_)return 0;if(rl(_))return Ys(_)?Q(_):_.length;var C=nl(_);return C==Nn||C==Ei?_.size:vl(_).length},Me.snakeCase=df,Me.some=function(_,C,P){var te=rr(_)?yr:lp;return P&&oa(_,C,P)&&(C=B),te(_,Si(C,3))},Me.sortedIndex=function(_,C){return nu(_,C)},Me.sortedIndexBy=function(_,C,P){return Au(_,C,Si(P,2))},Me.sortedIndexOf=function(_,C){var P=null==_?0:_.length;if(P){var te=nu(_,C);if(te<P&&ba(_[te],C))return te}return-1},Me.sortedLastIndex=function(_,C){return nu(_,C,!0)},Me.sortedLastIndexBy=function(_,C,P){return Au(_,C,Si(P,2),!0)},Me.sortedLastIndexOf=function(_,C){if(null!=_&&_.length){var te=nu(_,C,!0)-1;if(ba(_[te],C))return te}return-1},Me.startCase=hf,Me.startsWith=function(_,C,P){return _=ro(_),P=null==P?0:_l(or(P),0,_.length),C=Ga(C),_.slice(P,P+C.length)==C},Me.subtract=Pm,Me.sum=function(_){return _&&_.length?Ti(_,Ks):0},Me.sumBy=function(_,C){return _&&_.length?Ti(_,Si(C,2)):0},Me.template=function(_,C,P){var te=Me.templateSettings;P&&oa(_,C,P)&&(C=B),_=ro(_),C=Ch({},C,te,yl);var kt,Rt,xe=Ch({},C.imports,te.imports,yl),qe=ja(xe),ut=Ds(xe,qe),ln=0,hn=C.interpolate||yo,bn="__p += '",Wn=Do((C.escape||yo).source+"|"+hn.source+"|"+(hn===Hi?xo:yo).source+"|"+(C.evaluate||yo).source+"|$","g"),hi="//# sourceURL="+(Li.call(C,"sourceURL")?(C.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Es+"]")+"\n";_.replace(Wn,function(zi,zr,Cr,Ul,s,i){return Cr||(Cr=Ul),bn+=_.slice(ln,i).replace(qr,$i),zr&&(kt=!0,bn+="' +\n__e("+zr+") +\n'"),s&&(Rt=!0,bn+="';\n"+s+";\n__p += '"),Cr&&(bn+="' +\n((__t = ("+Cr+")) == null ? '' : __t) +\n'"),ln=i+zi.length,zi}),bn+="';\n";var ti=Li.call(C,"variable")&&C.variable;if(ti){if(Ar.test(ti))throw new gn("Invalid `variable` option passed into `_.template`")}else bn="with (obj) {\n"+bn+"\n}\n";bn=(Rt?bn.replace(nt,""):bn).replace(Dt,"$1").replace(Gt,"$1;"),bn="function("+(ti||"obj")+") {\n"+(ti?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(kt?", __e = _.escape":"")+(Rt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+bn+"return __p\n}";var lr=xc(function(){return bi(qe,hi+"return "+bn).apply(B,ut)});if(lr.source=bn,sd(lr))throw lr;return lr},Me.times=function(_,C){if((_=or(_))<1||_>Qe)return[];var P=Ht,te=In(_,Ht);C=Si(C),_-=Ht;for(var xe=ul(te,C);++P<_;)C(P);return xe},Me.toFinite=Cc,Me.toInteger=or,Me.toLength=Ld,Me.toLower=function(_){return ro(_).toLowerCase()},Me.toNumber=ca,Me.toSafeInteger=function(_){return _?_l(or(_),-Qe,Qe):0===_?_:0},Me.toString=ro,Me.toUpper=function(_){return ro(_).toUpperCase()},Me.trim=function(_,C,P){if((_=ro(_))&&(P||C===B))return Ra(_);if(!_||!(C=Ga(C)))return _;var te=ke(_),xe=ke(C);return jo(te,dl(te,xe),hl(te,xe)+1).join("")},Me.trimEnd=function(_,C,P){if((_=ro(_))&&(P||C===B))return _.slice(0,Ue(_)+1);if(!_||!(C=Ga(C)))return _;var te=ke(_);return jo(te,0,hl(te,ke(C))+1).join("")},Me.trimStart=function(_,C,P){if((_=ro(_))&&(P||C===B))return _.replace(tt,"");if(!_||!(C=Ga(C)))return _;var te=ke(_);return jo(te,dl(te,ke(C))).join("")},Me.truncate=function(_,C){var P=30,te="...";if(ks(C)){var xe="separator"in C?C.separator:xe;P="length"in C?or(C.length):P,te="omission"in C?Ga(C.omission):te}var qe=(_=ro(_)).length;if(ha(_)){var ut=ke(_);qe=ut.length}if(P>=qe)return _;var kt=P-Q(te);if(kt<1)return te;var Rt=ut?jo(ut,0,kt).join(""):_.slice(0,kt);if(xe===B)return Rt+te;if(ut&&(kt+=Rt.length-kt),vh(xe)){if(_.slice(kt).search(xe)){var ln,hn=Rt;for(xe.global||(xe=Do(xe.source,ro(as.exec(xe))+"g")),xe.lastIndex=0;ln=xe.exec(hn);)var bn=ln.index;Rt=Rt.slice(0,bn===B?kt:bn)}}else if(_.indexOf(Ga(xe),kt)!=kt){var Wn=Rt.lastIndexOf(xe);Wn>-1&&(Rt=Rt.slice(0,Wn))}return Rt+te},Me.unescape=function(_){return(_=ro(_))&&zn.test(_)?_.replace(Tt,ot):_},Me.uniqueId=function(_){var C=++Zo;return ro(_)+C},Me.upperCase=Rs,Me.upperFirst=Dl,Me.each=hh,Me.eachRight=pg,Me.first=Yh,gf(Me,function(){var _={};return eu(Me,function(C,P){Li.call(Me.prototype,P)||(_[P]=C)}),_}(),{chain:!1}),Me.VERSION="4.17.21",z(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){Me[_].placeholder=Me}),z(["drop","take"],function(_,C){pr.prototype[_]=function(P){P=P===B?1:ci(or(P),0);var te=this.__filtered__&&!C?new pr(this):this.clone();return te.__filtered__?te.__takeCount__=In(P,te.__takeCount__):te.__views__.push({size:In(P,Ht),type:_+(te.__dir__<0?"Right":"")}),te},pr.prototype[_+"Right"]=function(P){return this.reverse()[_](P).reverse()}}),z(["filter","map","takeWhile"],function(_,C){var P=C+1,te=1==P||3==P;pr.prototype[_]=function(xe){var qe=this.clone();return qe.__iteratees__.push({iteratee:Si(xe,3),type:P}),qe.__filtered__=qe.__filtered__||te,qe}}),z(["head","last"],function(_,C){var P="take"+(C?"Right":"");pr.prototype[_]=function(){return this[P](1).value()[0]}}),z(["initial","tail"],function(_,C){var P="drop"+(C?"":"Right");pr.prototype[_]=function(){return this.__filtered__?new pr(this):this[P](1)}}),pr.prototype.compact=function(){return this.filter(Ks)},pr.prototype.find=function(_){return this.filter(_).head()},pr.prototype.findLast=function(_){return this.reverse().find(_)},pr.prototype.invokeMap=er(function(_,C){return"function"==typeof _?new pr(this):this.map(function(P){return Ma(P,_,C)})}),pr.prototype.reject=function(_){return this.filter(_h(Si(_)))},pr.prototype.slice=function(_,C){_=or(_);var P=this;return P.__filtered__&&(_>0||C<0)?new pr(P):(_<0?P=P.takeRight(-_):_&&(P=P.drop(_)),C!==B&&(P=(C=or(C))<0?P.dropRight(-C):P.take(C-_)),P)},pr.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},pr.prototype.toArray=function(){return this.take(Ht)},eu(pr.prototype,function(_,C){var P=/^(?:filter|find|map|reject)|While$/.test(C),te=/^(?:head|last)$/.test(C),xe=Me[te?"take"+("last"==C?"Right":""):C],qe=te||/^find/.test(C);!xe||(Me.prototype[C]=function(){var ut=this.__wrapped__,kt=te?[1]:arguments,Rt=ut instanceof pr,ln=kt[0],hn=Rt||rr(ut),bn=function(zr){var Cr=xe.apply(Me,ni([zr],kt));return te&&Wn?Cr[0]:Cr};hn&&P&&"function"==typeof ln&&1!=ln.length&&(Rt=hn=!1);var Wn=this.__chain__,hi=!!this.__actions__.length,ti=qe&&!Wn,lr=Rt&&!hi;if(!qe&&hn){ut=lr?ut:new pr(this);var zi=_.apply(ut,kt);return zi.__actions__.push({func:fo,args:[bn],thisArg:B}),new ka(zi,Wn)}return ti&&lr?_.apply(this,kt):(zi=this.thru(bn),ti?te?zi.value()[0]:zi.value():zi)})}),z(["pop","push","shift","sort","splice","unshift"],function(_){var C=eo[_],P=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",te=/^(?:pop|shift)$/.test(_);Me.prototype[_]=function(){var xe=arguments;if(te&&!this.__chain__){var qe=this.value();return C.apply(rr(qe)?qe:[],xe)}return this[P](function(ut){return C.apply(rr(ut)?ut:[],xe)})}}),eu(pr.prototype,function(_,C){var P=Me[C];if(P){var te=P.name+"";Li.call(ei,te)||(ei[te]=[]),ei[te].push({name:C,func:P})}}),ei[ma(B,2).name]=[{name:"wrapper",func:B}],pr.prototype.clone=function(){var _=new pr(this.__wrapped__);return _.__actions__=Un(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=Un(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=Un(this.__views__),_},pr.prototype.reverse=function(){if(this.__filtered__){var _=new pr(this);_.__dir__=-1,_.__filtered__=!0}else(_=this.clone()).__dir__*=-1;return _},pr.prototype.value=function(){var _=this.__wrapped__.value(),C=this.__dir__,P=rr(_),te=C<0,xe=P?_.length:0,qe=function(_,C,P){for(var te=-1,xe=P.length;++te<xe;){var qe=P[te],ut=qe.size;switch(qe.type){case"drop":_+=ut;break;case"dropRight":C-=ut;break;case"take":C=In(C,_+ut);break;case"takeRight":_=ci(_,C-ut)}}return{start:_,end:C}}(0,xe,this.__views__),ut=qe.start,kt=qe.end,Rt=kt-ut,ln=te?kt:ut-1,hn=this.__iteratees__,bn=hn.length,Wn=0,hi=In(Rt,this.__takeCount__);if(!P||!te&&xe==Rt&&hi==Rt)return oh(_,this.__actions__);var ti=[];e:for(;Rt--&&Wn<hi;){for(var lr=-1,zi=_[ln+=C];++lr<bn;){var zr=hn[lr],Ul=zr.type,s=(0,zr.iteratee)(zi);if(2==Ul)zi=s;else if(!s){if(1==Ul)continue e;break e}}ti[Wn++]=zi}return ti},Me.prototype.at=Iu,Me.prototype.chain=function(){return bc(this)},Me.prototype.commit=function(){return new ka(this.value(),this.__chain__)},Me.prototype.next=function(){this.__values__===B&&(this.__values__=wh(this.value()));var _=this.__index__>=this.__values__.length;return{done:_,value:_?B:this.__values__[this.__index__++]}},Me.prototype.plant=function(_){for(var C,P=this;P instanceof Pl;){var te=au(P);te.__index__=0,te.__values__=B,C?xe.__wrapped__=te:C=te;var xe=te;P=P.__wrapped__}return xe.__wrapped__=_,C},Me.prototype.reverse=function(){var _=this.__wrapped__;if(_ instanceof pr){var C=_;return this.__actions__.length&&(C=new pr(this)),(C=C.reverse()).__actions__.push({func:fo,args:[sg],thisArg:B}),new ka(C,this.__chain__)}return this.thru(sg)},Me.prototype.toJSON=Me.prototype.valueOf=Me.prototype.value=function(){return oh(this.__wrapped__,this.__actions__)},Me.prototype.first=Me.prototype.head,Ca&&(Me.prototype[Ca]=function(){return this}),Me}();Rr._=wn,(m=function(){return wn}.call(vt,X,vt,Jt))!==B&&(Jt.exports=m)}.call(this)},9365:(Jt,vt,X)=>{"use strict";X.d(vt,{nC:()=>is,T5:()=>rs,ne:()=>Ha});var m=X(9619),B=X(6019),he=X(9010),Ne=X(3405),ce=X(5548),U=X(8178),De=X(8212),Y=X(8151);function be(K=0,T,M){let ee=-1;return(0,De.k)(T)?ee=Number(T)<1?1:Number(T):(0,Y.K)(T)&&(M=T),(0,Y.K)(M)||(M=U.P),new ce.y(se=>{const We=(0,De.k)(K)?K:+K-M.now();return M.schedule(fe,We,{index:0,period:ee,subscriber:se})})}function fe(K){const{index:T,period:M,subscriber:ee}=K;if(ee.next(T),!ee.closed){if(-1===M)return ee.complete();K.index=T+1,this.schedule(K,M)}}var ge=X(2047),_e=X(8053),Te=X(6636),we=X(4762),Ve=X(2411),Xe=X(6700),Se=X(8735);class ct{}class de{constructor(T){this.normalizedNames=new Map,this.lazyUpdate=null,T?this.lazyInit="string"==typeof T?()=>{this.headers=new Map,T.split("\n").forEach(M=>{const ee=M.indexOf(":");if(ee>0){const se=M.slice(0,ee),We=se.toLowerCase(),$n=M.slice(ee+1).trim();this.maybeSetNormalizedName(se,We),this.headers.has(We)?this.headers.get(We).push($n):this.headers.set(We,[$n])}})}:()=>{this.headers=new Map,Object.keys(T).forEach(M=>{let ee=T[M];const se=M.toLowerCase();"string"==typeof ee&&(ee=[ee]),ee.length>0&&(this.headers.set(se,ee),this.maybeSetNormalizedName(M,se))})}:this.headers=new Map}has(T){return this.init(),this.headers.has(T.toLowerCase())}get(T){this.init();const M=this.headers.get(T.toLowerCase());return M&&M.length>0?M[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(T){return this.init(),this.headers.get(T.toLowerCase())||null}append(T,M){return this.clone({name:T,value:M,op:"a"})}set(T,M){return this.clone({name:T,value:M,op:"s"})}delete(T,M){return this.clone({name:T,value:M,op:"d"})}maybeSetNormalizedName(T,M){this.normalizedNames.has(M)||this.normalizedNames.set(M,T)}init(){this.lazyInit&&(this.lazyInit instanceof de?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(T=>this.applyUpdate(T)),this.lazyUpdate=null))}copyFrom(T){T.init(),Array.from(T.headers.keys()).forEach(M=>{this.headers.set(M,T.headers.get(M)),this.normalizedNames.set(M,T.normalizedNames.get(M))})}clone(T){const M=new de;return M.lazyInit=this.lazyInit&&this.lazyInit instanceof de?this.lazyInit:this,M.lazyUpdate=(this.lazyUpdate||[]).concat([T]),M}applyUpdate(T){const M=T.name.toLowerCase();switch(T.op){case"a":case"s":let ee=T.value;if("string"==typeof ee&&(ee=[ee]),0===ee.length)return;this.maybeSetNormalizedName(T.name,M);const se=("a"===T.op?this.headers.get(M):void 0)||[];se.push(...ee),this.headers.set(M,se);break;case"d":const We=T.value;if(We){let $n=this.headers.get(M);if(!$n)return;$n=$n.filter(ir=>-1===We.indexOf(ir)),0===$n.length?(this.headers.delete(M),this.normalizedNames.delete(M)):this.headers.set(M,$n)}else this.headers.delete(M),this.normalizedNames.delete(M)}}forEach(T){this.init(),Array.from(this.normalizedNames.keys()).forEach(M=>T(this.normalizedNames.get(M),this.headers.get(M)))}}class Oe{encodeKey(T){return qt(T)}encodeValue(T){return qt(T)}decodeKey(T){return decodeURIComponent(T)}decodeValue(T){return decodeURIComponent(T)}}const dt=/%(\d[a-f0-9])/gi,Xt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function qt(K){return encodeURIComponent(K).replace(dt,(T,M)=>{var ee;return null!=(ee=Xt[M])?ee:T})}function vn(K){return`${K}`}class At{constructor(T={}){if(this.updates=null,this.cloneFrom=null,this.encoder=T.encoder||new Oe,T.fromString){if(T.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(K,T){const M=new Map;return K.length>0&&K.replace(/^\?/,"").split("&").forEach(se=>{const We=se.indexOf("="),[$n,ir]=-1==We?[T.decodeKey(se),""]:[T.decodeKey(se.slice(0,We)),T.decodeValue(se.slice(We+1))],rn=M.get($n)||[];rn.push(ir),M.set($n,rn)}),M}(T.fromString,this.encoder)}else T.fromObject?(this.map=new Map,Object.keys(T.fromObject).forEach(M=>{const ee=T.fromObject[M];this.map.set(M,Array.isArray(ee)?ee:[ee])})):this.map=null}has(T){return this.init(),this.map.has(T)}get(T){this.init();const M=this.map.get(T);return M?M[0]:null}getAll(T){return this.init(),this.map.get(T)||null}keys(){return this.init(),Array.from(this.map.keys())}append(T,M){return this.clone({param:T,value:M,op:"a"})}appendAll(T){const M=[];return Object.keys(T).forEach(ee=>{const se=T[ee];Array.isArray(se)?se.forEach(We=>{M.push({param:ee,value:We,op:"a"})}):M.push({param:ee,value:se,op:"a"})}),this.clone(M)}set(T,M){return this.clone({param:T,value:M,op:"s"})}delete(T,M){return this.clone({param:T,value:M,op:"d"})}toString(){return this.init(),this.keys().map(T=>{const M=this.encoder.encodeKey(T);return this.map.get(T).map(ee=>M+"="+this.encoder.encodeValue(ee)).join("&")}).filter(T=>""!==T).join("&")}clone(T){const M=new At({encoder:this.encoder});return M.cloneFrom=this.cloneFrom||this,M.updates=(this.updates||[]).concat(T),M}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(T=>this.map.set(T,this.cloneFrom.map.get(T))),this.updates.forEach(T=>{switch(T.op){case"a":case"s":const M=("a"===T.op?this.map.get(T.param):void 0)||[];M.push(vn(T.value)),this.map.set(T.param,M);break;case"d":if(void 0===T.value){this.map.delete(T.param);break}{let ee=this.map.get(T.param)||[];const se=ee.indexOf(vn(T.value));-1!==se&&ee.splice(se,1),ee.length>0?this.map.set(T.param,ee):this.map.delete(T.param)}}}),this.cloneFrom=this.updates=null)}}class Ke{constructor(){this.map=new Map}set(T,M){return this.map.set(T,M),this}get(T){return this.map.has(T)||this.map.set(T,T.defaultValue()),this.map.get(T)}delete(T){return this.map.delete(T),this}keys(){return this.map.keys()}}function ze(K){return"undefined"!=typeof ArrayBuffer&&K instanceof ArrayBuffer}function He(K){return"undefined"!=typeof Blob&&K instanceof Blob}function Fe(K){return"undefined"!=typeof FormData&&K instanceof FormData}class It{constructor(T,M,ee,se){let We;if(this.url=M,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=T.toUpperCase(),function(K){switch(K){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||se?(this.body=void 0!==ee?ee:null,We=se):We=ee,We&&(this.reportProgress=!!We.reportProgress,this.withCredentials=!!We.withCredentials,We.responseType&&(this.responseType=We.responseType),We.headers&&(this.headers=We.headers),We.context&&(this.context=We.context),We.params&&(this.params=We.params)),this.headers||(this.headers=new de),this.context||(this.context=new Ke),this.params){const $n=this.params.toString();if(0===$n.length)this.urlWithParams=M;else{const ir=M.indexOf("?");this.urlWithParams=M+(-1===ir?"?":ir<M.length-1?"&":"")+$n}}else this.params=new At,this.urlWithParams=M}serializeBody(){return null===this.body?null:ze(this.body)||He(this.body)||Fe(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof At?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fe(this.body)?null:He(this.body)?this.body.type||null:ze(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof At?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(T={}){var ci;const M=T.method||this.method,ee=T.url||this.url,se=T.responseType||this.responseType,We=void 0!==T.body?T.body:this.body,$n=void 0!==T.withCredentials?T.withCredentials:this.withCredentials,ir=void 0!==T.reportProgress?T.reportProgress:this.reportProgress;let rn=T.headers||this.headers,Ir=T.params||this.params;const gl=null!=(ci=T.context)?ci:this.context;return void 0!==T.setHeaders&&(rn=Object.keys(T.setHeaders).reduce((In,H)=>In.set(H,T.setHeaders[H]),rn)),T.setParams&&(Ir=Object.keys(T.setParams).reduce((In,H)=>In.set(H,T.setParams[H]),Ir)),new It(M,ee,We,{params:Ir,headers:rn,context:gl,reportProgress:ir,responseType:se,withCredentials:$n})}}var Vt=(()=>((Vt=Vt||{})[Vt.Sent=0]="Sent",Vt[Vt.UploadProgress=1]="UploadProgress",Vt[Vt.ResponseHeader=2]="ResponseHeader",Vt[Vt.DownloadProgress=3]="DownloadProgress",Vt[Vt.Response=4]="Response",Vt[Vt.User=5]="User",Vt))();class Kt extends class{constructor(T,M=200,ee="OK"){this.headers=T.headers||new de,this.status=void 0!==T.status?T.status:M,this.statusText=T.statusText||ee,this.url=T.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(T={}){super(T),this.type=Vt.Response,this.body=void 0!==T.body?T.body:null}clone(T={}){return new Kt({body:void 0!==T.body?T.body:this.body,headers:T.headers||this.headers,status:void 0!==T.status?T.status:this.status,statusText:T.statusText||this.statusText,url:T.url||this.url||void 0})}}function $t(K,T){return{body:T,headers:K.headers,context:K.context,observe:K.observe,params:K.params,reportProgress:K.reportProgress,responseType:K.responseType,withCredentials:K.withCredentials}}let _t=(()=>{class K{constructor(M){this.handler=M}request(M,ee,se={}){let We;if(M instanceof It)We=M;else{let rn,Ir;rn=se.headers instanceof de?se.headers:new de(se.headers),se.params&&(Ir=se.params instanceof At?se.params:new At({fromObject:se.params})),We=new It(M,ee,void 0!==se.body?se.body:null,{headers:rn,context:se.context,params:Ir,reportProgress:se.reportProgress,responseType:se.responseType||"json",withCredentials:se.withCredentials})}const $n=(0,Ve.of)(We).pipe((0,Xe.b)(rn=>this.handler.handle(rn)));if(M instanceof It||"events"===se.observe)return $n;const ir=$n.pipe((0,Se.h)(rn=>rn instanceof Kt));switch(se.observe||"body"){case"body":switch(We.responseType){case"arraybuffer":return ir.pipe((0,_e.U)(rn=>{if(null!==rn.body&&!(rn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return rn.body}));case"blob":return ir.pipe((0,_e.U)(rn=>{if(null!==rn.body&&!(rn.body instanceof Blob))throw new Error("Response is not a Blob.");return rn.body}));case"text":return ir.pipe((0,_e.U)(rn=>{if(null!==rn.body&&"string"!=typeof rn.body)throw new Error("Response is not a string.");return rn.body}));default:return ir.pipe((0,_e.U)(rn=>rn.body))}case"response":return ir;default:throw new Error(`Unreachable: unhandled observe type ${se.observe}}`)}}delete(M,ee={}){return this.request("DELETE",M,ee)}get(M,ee={}){return this.request("GET",M,ee)}head(M,ee={}){return this.request("HEAD",M,ee)}jsonp(M,ee){return this.request("JSONP",M,{params:(new At).append(ee,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(M,ee={}){return this.request("OPTIONS",M,ee)}patch(M,ee,se={}){return this.request("PATCH",M,$t(se,ee))}post(M,ee,se={}){return this.request("POST",M,$t(se,ee))}put(M,ee,se={}){return this.request("PUT",M,$t(se,ee))}}return K.\u0275fac=function(M){return new(M||K)(m.LFG(ct))},K.\u0275prov=m.Yz7({token:K,factory:K.\u0275fac}),K})();function cr(K,T){if(1&K&&(m.TgZ(0,"span",2),m._uU(1),m.qZA()),2&K){const M=T.$implicit,ee=m.oxw();m.Q6J("ngClass",M.isMatch?ee.matchClass:null),m.xp6(1),m.Oqu(M.text)}}const Ni=function(K,T){return{"completer-title":K,"completer-description":T}},Ri=["ctrInput"];function nr(K,T){if(1&K&&(m.TgZ(0,"div",10),m._uU(1),m.qZA()),2&K){const M=m.oxw(3);m.xp6(1),m.Oqu(M._textSearching)}}function Pi(K,T){if(1&K&&(m.TgZ(0,"div",11),m._uU(1),m.qZA()),2&K){const M=m.oxw(3);m.xp6(1),m.Oqu(M._textNoResults)}}function bt(K,T){if(1&K&&m._UZ(0,"img",21),2&K){const M=m.oxw(2).$implicit;m.s9C("src",M.image,m.LSH)}}function nt(K,T){1&K&&m._UZ(0,"div",22)}function Dt(K,T){if(1&K&&(m.TgZ(0,"div",18),m.YNc(1,bt,1,1,"img",19),m.YNc(2,nt,1,0,"div",20),m.qZA()),2&K){const M=m.oxw().$implicit;m.xp6(1),m.Q6J("ngIf",""!=M.image),m.xp6(1),m.Q6J("ngIf",""===M.image)}}function Gt(K,T){if(1&K&&m._UZ(0,"completer-list-item",23),2&K){const M=m.oxw().$implicit,ee=m.oxw(3);m.Q6J("text",M.description)("matchClass",ee.matchClass)("searchStr",ee.searchStr)("type","description")}}const Tt=function(K){return{"completer-item-text-image":K}};function sn(K,T){if(1&K&&(m.TgZ(0,"div",12),m.TgZ(1,"div",13),m.YNc(2,Dt,3,2,"div",14),m.TgZ(3,"div",15),m._UZ(4,"completer-list-item",16),m.YNc(5,Gt,1,4,"completer-list-item",17),m.qZA(),m.qZA(),m.qZA()),2&K){const M=T.$implicit,ee=T.index,se=m.oxw(3);m.xp6(1),m.Q6J("ctrRow",ee)("dataItem",M),m.xp6(1),m.Q6J("ngIf",M.image||""===M.image),m.xp6(1),m.Q6J("ngClass",m.VKq(9,Tt,M.image||""===M.image)),m.xp6(1),m.Q6J("text",M.title)("matchClass",se.matchClass)("searchStr",se.searchStr)("type","title"),m.xp6(1),m.Q6J("ngIf",M.description&&""!=M.description)}}function zn(K,T){if(1&K&&(m.TgZ(0,"div",6),m.YNc(1,nr,2,1,"div",7),m.YNc(2,Pi,2,1,"div",8),m.YNc(3,sn,6,11,"div",9),m.qZA()),2&K){const M=m.oxw(),ee=M.searching,se=M.results,We=m.oxw();m.xp6(1),m.Q6J("ngIf",ee&&We.displaySearching),m.xp6(1),m.Q6J("ngIf",!(ee||se&&0!==(null==se?null:se.length))),m.xp6(1),m.Q6J("ngForOf",se)}}function Qn(K,T){if(1&K&&(m.TgZ(0,"div",4),m.YNc(1,zn,4,3,"div",5),m.qZA()),2&K){const M=T.results,ee=T.searching,se=T.searchInitialized,We=T.isOpen,$n=m.oxw();m.xp6(1),m.Q6J("ngIf",se&&We&&((null==M?null:M.length)>0||$n.displayNoResults&&!ee||ee&&$n.displaySearching))}}function Pt(K){return null==K}class yt extends Ne.xQ{constructor(){super(),this._searchFields=null,this._titleField=null,this._descriptionField=void 0,this._imageField=void 0}cancel(){}searchFields(T){return this._searchFields=T,this}titleField(T){return this._titleField=T,this}descriptionField(T){return this._descriptionField=T,this}imageField(T){return this._imageField=T,this}convertToItem(T){let ee,M=null,se=null;return ee=this._titleField?this.extractTitle(T):T,"string"!=typeof ee&&(ee=JSON.stringify(ee)),this._descriptionField&&(se=this.extractValue(T,this._descriptionField)),this._imageField&&(M=this.extractValue(T,this._imageField)),Pt(ee)?null:{description:se,image:M,originalObject:T,title:ee}}extractMatches(T,M){let ee=[];const se=this._searchFields?this._searchFields.split(","):null;return ee=null!=this._searchFields&&""!==M?T.filter(We=>(se?this.extractBySearchFields(se,We):[We]).some(ir=>ir.toString().toLowerCase().indexOf(M.toString().toLowerCase())>=0)):T,ee}extractTitle(T){return this._titleField?this._titleField.split(",").map(M=>this.extractValue(T,M)).reduce((M,ee)=>M?`${M} ${ee}`:ee):""}extractValue(T,M){let ee,se;if(M)for(M of(ee=M.split("."),se=T,ee))se&&(se=se[M]);else se=T;return se}processResults(T){let M;const ee=[];if(T&&T.length>0)for(M=0;M<T.length;M++){const se=this.convertToItem(T[M]);se&&ee.push(se)}return ee}extractBySearchFields(T,M){return T.map(ee=>this.extractValue(M,ee)).filter(ee=>!!ee)}}class tt extends yt{constructor(){super(),this.dataSourceChange=new m.vpe,this._data=[],this.savedTerm=null}data(T){return T instanceof ce.y?T.pipe((0,ge.K)(()=>[])).subscribe(ee=>{this._data=ee,this.savedTerm&&this.search(this.savedTerm),this.dataSourceChange.emit()}):this._data=T,this.dataSourceChange.emit(),this}search(T){if(this._data){this.savedTerm=null;const M=this.extractMatches(this._data,T);this.next(this.processResults(M))}else this.savedTerm=T}convertToItem(T){return super.convertToItem(T)}}class St extends yt{constructor(T){super(),this.http=T,this.dataSourceChange=new m.vpe,this._remoteUrl=null,this.remoteSearch=null,this._urlFormater=null,this._dataField=null}remoteUrl(T){return this._remoteUrl=T,this.dataSourceChange.emit(),this}urlFormater(T){this._urlFormater=T}dataField(T){this._dataField=T}requestOptions(T){this._requestOptions=T}search(T){this.cancel();let M="";M=this._urlFormater?this._urlFormater(T):this._remoteUrl+encodeURIComponent(T),this.remoteSearch=this.http.get(M,Object.assign({},this._requestOptions)).pipe((0,_e.U)(ee=>{const se=this.extractValue(ee,this._dataField);return this.extractMatches(se,T)}),(0,ge.K)(()=>[])).subscribe(ee=>{const se=this.processResults(ee);this.next(se)})}cancel(){this.remoteSearch&&this.remoteSearch.unsubscribe()}convertToItem(T){return super.convertToItem(T)}}let Qt=class{create(){return new tt}};Qt.\u0275fac=function(T){return new(T||Qt)},Qt.\u0275prov=m.Yz7({token:Qt,factory:function(K){return Qt.\u0275fac(K)}});let Tn=class{constructor(T){this.http=T}create(){return new St(this.http)}};Tn.\u0275fac=function(T){return new(T||Tn)(m.LFG(_t))},Tn.\u0275prov=m.Yz7({token:Tn,factory:function(K){return Tn.\u0275fac(K)}}),Tn=(0,we.gn)([(0,we.w6)("design:paramtypes",[_t])],Tn);let kn=class{constructor(T,M){this.localDataFactory=T,this.remoteDataFactory=M}local(T,M="",ee=""){return this.localDataFactory.create().data(T).searchFields(M).titleField(ee)}remote(T,M="",ee=""){return this.remoteDataFactory.create().remoteUrl(T).searchFields(M).titleField(ee)}};kn.\u0275fac=function(T){return new(T||kn)(m.LFG(Qt),m.LFG(Tn))},kn.\u0275prov=m.Yz7({token:kn,factory:function(K){return kn.\u0275fac(K)}}),kn=(0,we.gn)([(0,we.w6)("design:paramtypes",[Qt,Tn])],kn);let gi=class{constructor(){this.selected=new m.vpe,this.highlighted=new m.vpe,this.opened=new m.vpe,this.dataSourceChange=new m.vpe,this.list=null,this.dropdown=null,this._hasHighlighted=!1,this._hasSelected=!1,this._cancelBlur=!1,this._isOpen=!1,this._autoHighlightIndex=null}registerList(T){this.list=T}registerDropdown(T){this.dropdown=T}onHighlighted(T){this.highlighted.emit(T),this._hasHighlighted=!!T}onSelected(T,M=!0){this.selected.emit(T),T&&(this._hasSelected=!0),M&&this.clear()}onDataSourceChange(){this.hasSelected&&(this.selected.emit(null),this._hasSelected=!1),this.dataSourceChange.emit()}search(T){this._hasSelected&&(this.selected.emit(null),this._hasSelected=!1),this.list&&this.list.search(T)}clear(){this._hasHighlighted=!1,this.isOpen=!1,this.dropdown&&this.dropdown.clear(),this.list&&this.list.clear()}selectCurrent(){this.dropdown&&this.dropdown.selectCurrent()}nextRow(){this.dropdown&&this.dropdown.nextRow()}prevRow(){this.dropdown&&this.dropdown.prevRow()}hasHighlighted(){return this._hasHighlighted}cancelBlur(T){this._cancelBlur=T}isCancelBlur(){return this._cancelBlur}open(){!this._isOpen&&this.list&&(this.isOpen=!0,this.list.open())}get isOpen(){return this._isOpen}set isOpen(T){this._isOpen=T,this.opened.emit(this._isOpen),this.list&&this.list.isOpen(T)}get autoHighlightIndex(){return this._autoHighlightIndex}set autoHighlightIndex(T){this._autoHighlightIndex=T,this.dropdown&&this.dropdown.highlightRow(this._autoHighlightIndex)}get hasSelected(){return this._hasSelected}};gi.\u0275fac=function(T){return new(T||gi)},gi.\u0275dir=m.lG2({type:gi,selectors:[["","ctrCompleter",""]],outputs:{selected:"selected",highlighted:"highlighted",opened:"opened",dataSourceChange:"dataSourceChange"}}),(0,we.gn)([(0,m.r_U)(),(0,we.w6)("design:type",Object)],gi.prototype,"selected",void 0),(0,we.gn)([(0,m.r_U)(),(0,we.w6)("design:type",Object)],gi.prototype,"highlighted",void 0),(0,we.gn)([(0,m.r_U)(),(0,we.w6)("design:type",Object)],gi.prototype,"opened",void 0),(0,we.gn)([(0,m.r_U)(),(0,we.w6)("design:type",Object)],gi.prototype,"dataSourceChange",void 0);class Ar{constructor(T,M){this.row=T,this.index=M}}let Ai=class{constructor(T,M,ee){this.completer=T,this.el=M,this.zone=ee,this.rows=[],this.isScrollOn=!1,this._rowMouseDown=!1,this.completer.registerDropdown(this)}ngOnDestroy(){this.completer.registerDropdown(null)}ngAfterViewInit(){const T=getComputedStyle(this.el.nativeElement),M=this.completer.autoHighlightIndex;this.isScrollOn=!!T.maxHeight&&"auto"===T.overflowY,M&&this.zone.run(()=>{this.highlightRow(M)})}onMouseDown(T){this._rowMouseDown?this._rowMouseDown=!1:(this.completer.cancelBlur(!0),this.zone.run(()=>{this.completer.cancelBlur(!1)}))}registerRow(T){const M=this.rows.findIndex(ee=>ee.index===T.index);M>=0?this.rows[M]=T:this.rows.push(T)}unregisterRow(T){const M=this.rows.findIndex(ee=>ee.index===T);this.rows.splice(M,1),this.currHighlighted&&T===this.currHighlighted.index&&this.highlightRow(null)}highlightRow(T){const M=this.rows.find(ee=>ee.index===T);if(Pt(T)||T<0)return this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=void 0,void this.completer.onHighlighted(null);if(M&&(this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=M,this.currHighlighted.row.setHighlighted(!0),this.completer.onHighlighted(this.currHighlighted.row.getDataItem()),this.isScrollOn&&this.currHighlighted)){const ee=this.dropdownRowTop();if(!ee)return;if(ee<0)this.dropdownScrollTopTo(ee-1);else{const se=this.currHighlighted.row.getNativeElement();this.dropdownHeight()<se.getBoundingClientRect().bottom&&(this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(se)),this.el.nativeElement.getBoundingClientRect().bottom-this.dropdownRowOffsetHeight(se)<se.getBoundingClientRect().top&&this.dropdownScrollTopTo(se.getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))))}}}clear(){this.rows=[]}onSelected(T){this.completer.onSelected(T)}rowMouseDown(){this._rowMouseDown=!0}selectCurrent(){this.currHighlighted&&this.currHighlighted.row?this.onSelected(this.currHighlighted.row.getDataItem()):this.rows.length>0&&this.onSelected(this.rows[0].row.getDataItem())}nextRow(){let T=0;this.currHighlighted&&(T=this.currHighlighted.index+1),this.highlightRow(T)}prevRow(){let T=-1;this.currHighlighted&&(T=this.currHighlighted.index-1),this.highlightRow(T)}dropdownScrollTopTo(T){this.el.nativeElement.scrollTop=this.el.nativeElement.scrollTop+T}dropdownRowTop(){if(this.currHighlighted)return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))}dropdownHeight(){return this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).maxHeight,10)}dropdownRowOffsetHeight(T){const M=getComputedStyle(T.parentElement);return T.parentElement.offsetHeight+parseInt(M.marginTop,10)+parseInt(M.marginBottom,10)}};Ai.\u0275fac=function(T){return new(T||Ai)(m.Y36(gi,1),m.Y36(m.SBq),m.Y36(m.R0b))},Ai.\u0275dir=m.lG2({type:Ai,selectors:[["","ctrDropdown",""]],hostBindings:function(T,M){1&T&&m.NdJ("mousedown",function(se){return M.onMouseDown(se)})}}),(0,we.gn)([(0,m.L6J)("mousedown",["$event"]),(0,we.w6)("design:type",Function),(0,we.w6)("design:paramtypes",[Object]),(0,we.w6)("design:returntype",void 0)],Ai.prototype,"onMouseDown",null),Ai=(0,we.gn)([(0,we.fM)(0,(0,m.AA_)()),(0,we.w6)("design:paramtypes",[gi,m.SBq,m.R0b])],Ai);let sr=class{constructor(T,M,ee){this.completer=T,this.ngModel=M,this.el=ee,this.clearSelected=!1,this.clearUnselected=!1,this.overrideSuggested=!1,this.fillHighlighted=!0,this.openOnFocus=!1,this.openOnClick=!1,this.selectOnClick=!1,this.selectOnFocus=!1,this.ngModelChange=new m.vpe,this._searchStr="",this._displayStr="",this.blurTimer=null,this.completer.selected.subscribe(se=>{!se||(this.searchStr=this.clearSelected?"":se.title,this.ngModelChange.emit(this.searchStr))}),this.completer.highlighted.subscribe(se=>{this.fillHighlighted&&(se?(this._displayStr=se.title,this.ngModelChange.emit(se.title)):(this._displayStr=this.searchStr,this.ngModelChange.emit(this.searchStr)))}),this.completer.dataSourceChange.subscribe(()=>{this.completer.search(this.searchStr)}),this.ngModel.valueChanges&&this.ngModel.valueChanges.subscribe(se=>{!Pt(se)&&this._displayStr!==se&&(this.searchStr!==se&&this.completer.search(se),this.searchStr=se)})}keyupHandler(T){37===T.keyCode||39===T.keyCode||9===T.keyCode||(38===T.keyCode||13===T.keyCode?T.preventDefault():40===T.keyCode?(T.preventDefault(),this.completer.search(this.searchStr)):27===T.keyCode&&this.completer.isOpen&&(this.restoreSearchValue(),this.completer.clear(),T.stopPropagation(),T.preventDefault()))}pasteHandler(T){this.completer.open()}keydownHandler(T){const M=T.keyCode||T.which;13===M?(this.completer.hasHighlighted()&&T.preventDefault(),this.handleSelection()):40===M?(T.preventDefault(),this.completer.open(),this.completer.nextRow()):38===M?(T.preventDefault(),this.completer.prevRow()):9===M?this.handleSelection():8===M?this.completer.open():27===M?(T.preventDefault(),this.completer.isOpen&&T.stopPropagation()):0!==M&&16!==M&&20!==M&&(M<=112||M>=123)&&!T.ctrlKey&&!T.metaKey&&!T.altKey&&this.completer.open()}onBlur(T){this.completer.isCancelBlur()?setTimeout(()=>{this.el.nativeElement.focus()},0):this.completer.isOpen&&(this.blurTimer=be(200).pipe((0,Te.q)(1)).subscribe(()=>this.doBlur()))}onfocus(){this.blurTimer&&(this.blurTimer.unsubscribe(),this.blurTimer=null),this.selectOnFocus&&this.el.nativeElement.select(),this.openOnFocus&&this.completer.open()}onClick(T){this.selectOnClick&&this.el.nativeElement.select(),this.openOnClick&&(this.completer.isOpen?this.completer.clear():this.completer.open())}get searchStr(){return this._searchStr}set searchStr(T){this._searchStr=T,this._displayStr=T}handleSelection(){this.completer.hasHighlighted()?(this._searchStr="",this.completer.selectCurrent()):this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):(this.clearUnselected&&!this.completer.hasSelected&&(this.searchStr="",this.ngModelChange.emit(this.searchStr)),this.completer.clear())}restoreSearchValue(){this.fillHighlighted&&this._displayStr!==this.searchStr&&(this._displayStr=this.searchStr,this.ngModelChange.emit(this.searchStr))}doBlur(){this.blurTimer&&(this.blurTimer.unsubscribe(),this.blurTimer=null),this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):this.clearUnselected&&!this.completer.hasSelected?(this.searchStr="",this.ngModelChange.emit(this.searchStr)):this.restoreSearchValue(),this.completer.clear()}};sr.\u0275fac=function(T){return new(T||sr)(m.Y36(gi,1),m.Y36(he.On),m.Y36(m.SBq))},sr.\u0275dir=m.lG2({type:sr,selectors:[["","ctrInput",""]],hostBindings:function(T,M){1&T&&m.NdJ("keyup",function(se){return M.keyupHandler(se)})("paste",function(se){return M.pasteHandler(se)})("keydown",function(se){return M.keydownHandler(se)})("blur",function(se){return M.onBlur(se)})("focus",function(){return M.onfocus()})("click",function(se){return M.onClick(se)})},inputs:{clearSelected:"clearSelected",clearUnselected:"clearUnselected",overrideSuggested:"overrideSuggested",fillHighlighted:"fillHighlighted",openOnFocus:"openOnFocus",openOnClick:"openOnClick",selectOnClick:"selectOnClick",selectOnFocus:"selectOnFocus"},outputs:{ngModelChange:"ngModelChange"}}),(0,we.gn)([(0,m.IIB)("clearSelected"),(0,we.w6)("design:type",Object)],sr.prototype,"clearSelected",void 0),(0,we.gn)([(0,m.IIB)("clearUnselected"),(0,we.w6)("design:type",Object)],sr.prototype,"clearUnselected",void 0),(0,we.gn)([(0,m.IIB)("overrideSuggested"),(0,we.w6)("design:type",Object)],sr.prototype,"overrideSuggested",void 0),(0,we.gn)([(0,m.IIB)("fillHighlighted"),(0,we.w6)("design:type",Object)],sr.prototype,"fillHighlighted",void 0),(0,we.gn)([(0,m.IIB)("openOnFocus"),(0,we.w6)("design:type",Object)],sr.prototype,"openOnFocus",void 0),(0,we.gn)([(0,m.IIB)("openOnClick"),(0,we.w6)("design:type",Object)],sr.prototype,"openOnClick",void 0),(0,we.gn)([(0,m.IIB)("selectOnClick"),(0,we.w6)("design:type",Object)],sr.prototype,"selectOnClick",void 0),(0,we.gn)([(0,m.IIB)("selectOnFocus"),(0,we.w6)("design:type",Object)],sr.prototype,"selectOnFocus",void 0),(0,we.gn)([(0,m.r_U)(),(0,we.w6)("design:type",m.vpe)],sr.prototype,"ngModelChange",void 0),(0,we.gn)([(0,m.L6J)("keyup",["$event"]),(0,we.w6)("design:type",Function),(0,we.w6)("design:paramtypes",[Object]),(0,we.w6)("design:returntype",void 0)],sr.prototype,"keyupHandler",null),(0,we.gn)([(0,m.L6J)("paste",["$event"]),(0,we.w6)("design:type",Function),(0,we.w6)("design:paramtypes",[Object]),(0,we.w6)("design:returntype",void 0)],sr.prototype,"pasteHandler",null),(0,we.gn)([(0,m.L6J)("keydown",["$event"]),(0,we.w6)("design:type",Function),(0,we.w6)("design:paramtypes",[Object]),(0,we.w6)("design:returntype",void 0)],sr.prototype,"keydownHandler",null),(0,we.gn)([(0,m.L6J)("blur",["$event"]),(0,we.w6)("design:type",Function),(0,we.w6)("design:paramtypes",[Object]),(0,we.w6)("design:returntype",void 0)],sr.prototype,"onBlur",null),(0,we.gn)([(0,m.L6J)("focus",[]),(0,we.w6)("design:type",Function),(0,we.w6)("design:paramtypes",[]),(0,we.w6)("design:returntype",void 0)],sr.prototype,"onfocus",null),(0,we.gn)([(0,m.L6J)("click",["$event"]),(0,we.w6)("design:type",Function),(0,we.w6)("design:paramtypes",[Object]),(0,we.w6)("design:returntype",void 0)],sr.prototype,"onClick",null),sr=(0,we.gn)([(0,we.fM)(0,(0,m.AA_)()),(0,we.w6)("design:paramtypes",[gi,he.On,m.SBq])],sr);class so{constructor(T,M,ee,se){this.results=T,this.searching=M,this.searchInitialized=ee,this.isOpen=se}}let Yn=class{constructor(T,M,ee,se,We){this.completer=T,this.templateRef=M,this.viewContainer=ee,this.cd=se,this.zone=We,this.ctrListMinSearchLength=3,this.ctrListPause=10,this.ctrListAutoMatch=!1,this.ctrListAutoHighlight=!1,this.ctrListDisplaySearching=!0,this._dataService=null,this.term=null,this.searchTimer=null,this.clearTimer=null,this.ctx=new so([],!1,!1,!1),this._initialValue=null,this.viewRef=null}ngOnInit(){this.completer.registerList(this),this.viewRef=this.viewContainer.createEmbeddedView(this.templateRef,new so([],!1,!1,!1))}set dataService(T){this._dataService=T,this.dataServiceSubscribe()}set initialValue(T){this._dataService&&"function"==typeof this._dataService.convertToItem?this.zone.run(()=>{const M=this._dataService&&this._dataService.convertToItem(T);M&&this.completer.onSelected(M,!1)}):this._dataService||(this._initialValue=T)}search(T){!Pt(T)&&T.length>=this.ctrListMinSearchLength&&this.term!==T?(this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.ctx.searching||(this.ctrListDisplaySearching&&(this.ctx.results=[]),this.ctx.searching=!0,this.ctx.searchInitialized=!0,this.refreshTemplate()),this.clearTimer&&this.clearTimer.unsubscribe(),this.searchTimer=be(this.ctrListPause).pipe((0,Te.q)(1)).subscribe(()=>{this.searchTimerComplete(T)})):!Pt(T)&&T.length<this.ctrListMinSearchLength&&(this.clear(),this.term="")}clear(){this.searchTimer&&this.searchTimer.unsubscribe(),this.clearTimer=be(50).pipe((0,Te.q)(1)).subscribe(()=>{this._clear()})}open(){this.ctx.searchInitialized||this.search(""),this.refreshTemplate()}isOpen(T){this.ctx.isOpen=T}_clear(){this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.dataService&&this.dataService.cancel(),this.viewContainer.clear(),this.viewRef=null}searchTimerComplete(T){Pt(T)||T.length<this.ctrListMinSearchLength?this.ctx.searching=!1:(this.term=T,this._dataService&&this._dataService.search(T))}refreshTemplate(){this.viewRef?this.viewRef.destroyed||(this.viewRef.context.isOpen=this.ctx.isOpen,this.viewRef.context.results=this.ctx.results,this.viewRef.context.searching=this.ctx.searching,this.viewRef.context.searchInitialized=this.ctx.searchInitialized,this.viewRef.detectChanges()):this.viewRef=this.viewContainer.createEmbeddedView(this.templateRef,this.ctx),this.cd.markForCheck()}getBestMatchIndex(){if(!this.ctx.results||!this.term)return null;let T=this.ctx.results.findIndex(M=>M.title.toLowerCase()===this.term.toLocaleLowerCase());return T<0&&(T=this.ctx.results.findIndex(M=>M.title.toLowerCase().startsWith(this.term.toLocaleLowerCase()))),T<0&&(T=this.ctx.results.findIndex(M=>M.title.toLowerCase().includes(this.term.toLocaleLowerCase()))),T<0?null:T}dataServiceSubscribe(){this._dataService&&(this._dataService.subscribe(T=>{this.ctx.searchInitialized=!0,this.ctx.searching=!1,this.ctx.results=T,this.ctrListAutoMatch&&T&&1===T.length&&T[0].title&&!Pt(this.term)&&T[0].title.toLocaleLowerCase()===this.term.toLocaleLowerCase()?this.completer.onSelected(T[0]):(this.refreshTemplate(),this.ctrListAutoHighlight&&(this.completer.autoHighlightIndex=this.getBestMatchIndex()))},T=>(console.error(T),console.error("Unexpected error in dataService: errors should be handled by the dataService Observable"),[])),this._dataService.dataSourceChange&&this._dataService.dataSourceChange.subscribe(()=>{this.term=null,this.ctx.searchInitialized=!1,this.ctx.searching=!1,this.ctx.results=[],this.refreshTemplate(),this.completer.onDataSourceChange()}))}};Yn.\u0275fac=function(T){return new(T||Yn)(m.Y36(gi,1),m.Y36(m.Rgc),m.Y36(m.s_b),m.Y36(m.sBO),m.Y36(m.R0b))},Yn.\u0275dir=m.lG2({type:Yn,selectors:[["","ctrList",""]],inputs:{ctrListMinSearchLength:"ctrListMinSearchLength",ctrListPause:"ctrListPause",ctrListAutoMatch:"ctrListAutoMatch",ctrListAutoHighlight:"ctrListAutoHighlight",ctrListDisplaySearching:"ctrListDisplaySearching",dataService:["ctrList","dataService"],initialValue:["ctrListInitialValue","initialValue"]}}),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Yn.prototype,"ctrListMinSearchLength",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Yn.prototype,"ctrListPause",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Yn.prototype,"ctrListAutoMatch",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Yn.prototype,"ctrListAutoHighlight",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Yn.prototype,"ctrListDisplaySearching",void 0),(0,we.gn)([(0,m.IIB)("ctrList"),(0,we.w6)("design:type",Object),(0,we.w6)("design:paramtypes",[Object])],Yn.prototype,"dataService",null),(0,we.gn)([(0,m.IIB)("ctrListInitialValue"),(0,we.w6)("design:type",Object),(0,we.w6)("design:paramtypes",[Object])],Yn.prototype,"initialValue",null),Yn=(0,we.gn)([(0,we.fM)(0,(0,m.AA_)()),(0,we.w6)("design:paramtypes",[gi,m.Rgc,m.s_b,m.sBO,m.R0b])],Yn);let gr=class{constructor(T,M,ee){this.el=T,this.renderer=M,this.dropdown=ee,this.selected=!1,this._rowIndex=0,this._item=null}ngOnDestroy(){this._rowIndex&&this.dropdown.unregisterRow(this._rowIndex)}set ctrRow(T){this._rowIndex=T,this.dropdown.registerRow(new Ar(this,this._rowIndex))}set dataItem(T){this._item=T}onClick(T){this.dropdown.onSelected(this._item)}onMouseEnter(T){this.dropdown.highlightRow(this._rowIndex)}onMouseDown(T){this.dropdown.rowMouseDown()}setHighlighted(T){this.selected=T,this.selected?this.renderer.addClass(this.el.nativeElement,"completer-selected-row"):this.renderer.removeClass(this.el.nativeElement,"completer-selected-row")}getNativeElement(){return this.el.nativeElement}getDataItem(){return this._item}};gr.\u0275fac=function(T){return new(T||gr)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Ai,1))},gr.\u0275dir=m.lG2({type:gr,selectors:[["","ctrRow",""]],hostBindings:function(T,M){1&T&&m.NdJ("click",function(se){return M.onClick(se)})("mouseenter",function(se){return M.onMouseEnter(se)})("mousedown",function(se){return M.onMouseDown(se)})},inputs:{ctrRow:"ctrRow",dataItem:"dataItem"}}),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Number),(0,we.w6)("design:paramtypes",[Number])],gr.prototype,"ctrRow",null),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object),(0,we.w6)("design:paramtypes",[Object])],gr.prototype,"dataItem",null),(0,we.gn)([(0,m.L6J)("click",["$event"]),(0,we.w6)("design:type",Function),(0,we.w6)("design:paramtypes",[Object]),(0,we.w6)("design:returntype",void 0)],gr.prototype,"onClick",null),(0,we.gn)([(0,m.L6J)("mouseenter",["$event"]),(0,we.w6)("design:type",Function),(0,we.w6)("design:paramtypes",[Object]),(0,we.w6)("design:returntype",void 0)],gr.prototype,"onMouseEnter",null),(0,we.gn)([(0,m.L6J)("mousedown",["$event"]),(0,we.w6)("design:type",Function),(0,we.w6)("design:paramtypes",[Object]),(0,we.w6)("design:returntype",void 0)],gr.prototype,"onMouseDown",null),gr=(0,we.gn)([(0,we.fM)(2,(0,m.AA_)()),(0,we.w6)("design:paramtypes",[m.SBq,m.Qsj,Ai])],gr);let ao=class{constructor(){this.text="",this.searchStr="",this.matchClass="",this.type="",this.parts=[]}ngOnInit(){if(!this.searchStr)return void this.parts.push({isMatch:!1,text:this.text});const T=this.text.toLowerCase();let M=T.indexOf(this.searchStr.toLowerCase()),ee=0;for(;M>=0;){const se=this.text.slice(M,M+this.searchStr.length);if(0===M)this.parts.push({isMatch:!0,text:se}),ee+=this.searchStr.length;else if(M>0){const We=this.text.slice(ee,M);this.parts.push({isMatch:!1,text:We}),this.parts.push({isMatch:!0,text:se}),ee+=this.searchStr.length+We.length}M=T.indexOf(this.searchStr.toLowerCase(),ee)}ee<this.text.length&&this.parts.push({isMatch:!1,text:this.text.slice(ee,this.text.length)})}};ao.\u0275fac=function(T){return new(T||ao)},ao.\u0275cmp=m.Xpm({type:ao,selectors:[["completer-list-item"]],inputs:{text:"text",searchStr:"searchStr",matchClass:"matchClass",type:"type"},decls:2,vars:5,consts:[[1,"completer-list-item-holder",3,"ngClass"],["class","completer-list-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"completer-list-item",3,"ngClass"]],template:function(T,M){1&T&&(m.TgZ(0,"span",0),m.YNc(1,cr,2,2,"span",1),m.qZA()),2&T&&(m.Q6J("ngClass",m.WLB(2,Ni,"title"===M.type,"description"===M.type)),m.xp6(1),m.Q6J("ngForOf",M.parts))},directives:[B.mk,B.sg],encapsulation:2}),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",String)],ao.prototype,"text",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",String)],ao.prototype,"searchStr",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",String)],ao.prototype,"matchClass",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",String)],ao.prototype,"type",void 0);const Xo=()=>{},xs={multi:!0,provide:he.JU,useExisting:(0,m.Gpc)(()=>Jn)};let Jn=class{constructor(T,M){this.completerService=T,this.cdr=M,this.inputName="",this.inputId="",this.pause=10,this.minSearchLength=3,this.maxChars=524288,this.overrideSuggested=!1,this.clearSelected=!1,this.clearUnselected=!1,this.fillHighlighted=!0,this.placeholder="",this.autoMatch=!1,this.disableInput=!1,this.autofocus=!1,this.openOnFocus=!1,this.openOnClick=!1,this.selectOnClick=!1,this.selectOnFocus=!1,this.autoHighlight=!1,this.selected=new m.vpe,this.highlighted=new m.vpe,this.blurEvent=new m.vpe,this.click=new m.vpe,this.focusEvent=new m.vpe,this.opened=new m.vpe,this.keyup=new m.vpe,this.keydown=new m.vpe,this.control=new he.NI(""),this.displaySearching=!0,this.displayNoResults=!0,this._textNoResults="No results found",this._textSearching="Searching...",this._onTouchedCallback=Xo,this._onChangeCallback=Xo,this._focus=!1,this._open=!1,this._searchStr=""}get value(){return this.searchStr}set value(T){T!==this.searchStr&&(this.searchStr=T),this._onChangeCallback(T)}get searchStr(){return this._searchStr}set searchStr(T){this._searchStr="string"==typeof T||Pt(T)?T:JSON.stringify(T)}ngAfterViewInit(){this.autofocus&&(this._focus=!0),this.completer&&(this.completer.selected.subscribe(T=>{this.selected.emit(T)}),this.completer.highlighted.subscribe(T=>{this.highlighted.emit(T)}),this.completer.opened.subscribe(T=>{this._open=T,this.opened.emit(T)}))}ngAfterViewChecked(){this._focus&&setTimeout(()=>{this.ctrInput&&(this.ctrInput.nativeElement.focus(),this._focus=!1)},0)}onTouched(){this._onTouchedCallback()}writeValue(T){this.searchStr=T}registerOnChange(T){this._onChangeCallback=T}registerOnTouched(T){this._onTouchedCallback=T}setDisabledState(T){this.disableInput=T}set datasource(T){T&&(this.dataService=T instanceof Array?this.completerService.local(T):"string"==typeof T?this.completerService.remote(T):T)}set textNoResults(T){this._textNoResults!==T&&(this._textNoResults=T,this.displayNoResults=!!this._textNoResults&&"false"!==this._textNoResults)}set textSearching(T){this._textSearching!==T&&(this._textSearching=T,this.displaySearching=!!this._textSearching&&"false"!==this._textSearching)}onBlur(){this.blurEvent.emit(),this.onTouched(),this.cdr.detectChanges()}onFocus(){this.focusEvent.emit(),this.onTouched()}onClick(T){this.click.emit(T),this.onTouched()}onKeyup(T){this.keyup.emit(T),T.stopPropagation()}onKeydown(T){this.keydown.emit(T),T.stopPropagation()}onChange(T){this.value=T}open(){!this.completer||this.completer.open()}close(){!this.completer||this.completer.clear()}focus(){this.ctrInput?this.ctrInput.nativeElement.focus():this._focus=!0}blur(){this.ctrInput?this.ctrInput.nativeElement.blur():this._focus=!1}isOpen(){return this._open}};var ls;Jn.\u0275fac=function(T){return new(T||Jn)(m.Y36(kn),m.Y36(m.sBO))},Jn.\u0275cmp=m.Xpm({type:Jn,selectors:[["ng2-completer"]],viewQuery:function(T,M){if(1&T&&(m.Gf(gi,5),m.Gf(Ri,5)),2&T){let ee;m.iGM(ee=m.CRH())&&(M.completer=ee.first),m.iGM(ee=m.CRH())&&(M.ctrInput=ee.first)}},inputs:{inputName:"inputName",inputId:"inputId",pause:"pause",minSearchLength:"minSearchLength",maxChars:"maxChars",overrideSuggested:"overrideSuggested",clearSelected:"clearSelected",clearUnselected:"clearUnselected",fillHighlighted:"fillHighlighted",placeholder:"placeholder",autoMatch:"autoMatch",disableInput:"disableInput",autofocus:"autofocus",openOnFocus:"openOnFocus",openOnClick:"openOnClick",selectOnClick:"selectOnClick",selectOnFocus:"selectOnFocus",autoHighlight:"autoHighlight",datasource:"datasource",dataService:"dataService",textNoResults:"textNoResults",textSearching:"textSearching",matchClass:"matchClass",fieldTabindex:"fieldTabindex",inputClass:"inputClass",initialValue:"initialValue"},outputs:{selected:"selected",highlighted:"highlighted",blurEvent:"blur",click:"click",focusEvent:"focus",opened:"opened",keyup:"keyup",keydown:"keydown"},features:[m._Bn([xs])],decls:4,vars:23,consts:[["ctrCompleter","",1,"completer-holder"],["type","search","ctrInput","","autocomplete","off","autocorrect","off","autocapitalize","off",1,"completer-input",3,"ngClass","ngModel","placeholder","tabindex","disabled","clearSelected","clearUnselected","overrideSuggested","openOnFocus","fillHighlighted","openOnClick","selectOnClick","selectOnFocus","ngModelChange","blur","focus","keyup","keydown","click"],["ctrInput",""],["class","completer-dropdown-holder",4,"ctrList","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","ctrListInitialValue","ctrListAutoHighlight","ctrListDisplaySearching"],[1,"completer-dropdown-holder"],["class","completer-dropdown","ctrDropdown","",4,"ngIf"],["ctrDropdown","",1,"completer-dropdown"],["class","completer-searching",4,"ngIf"],["class","completer-no-results",4,"ngIf"],["class","completer-row-wrapper",4,"ngFor","ngForOf"],[1,"completer-searching"],[1,"completer-no-results"],[1,"completer-row-wrapper"],[1,"completer-row",3,"ctrRow","dataItem"],["class","completer-image-holder",4,"ngIf"],[1,"completer-item-text",3,"ngClass"],[1,"completer-title",3,"text","matchClass","searchStr","type"],["class","completer-description",3,"text","matchClass","searchStr","type",4,"ngIf"],[1,"completer-image-holder"],["class","completer-image",3,"src",4,"ngIf"],["class","completer-image-default",4,"ngIf"],[1,"completer-image",3,"src"],[1,"completer-image-default"],[1,"completer-description",3,"text","matchClass","searchStr","type"]],template:function(T,M){1&T&&(m.TgZ(0,"div",0),m.TgZ(1,"input",1,2),m.NdJ("ngModelChange",function(se){return M.searchStr=se})("ngModelChange",function(se){return M.onChange(se)})("blur",function(){return M.onBlur()})("focus",function(){return M.onFocus()})("keyup",function(se){return M.onKeyup(se)})("keydown",function(se){return M.onKeydown(se)})("click",function(se){return M.onClick(se)}),m.qZA(),m.YNc(3,Qn,2,1,"div",3),m.qZA()),2&T&&(m.xp6(1),m.Q6J("ngClass",M.inputClass)("ngModel",M.searchStr)("placeholder",M.placeholder)("tabindex",M.fieldTabindex)("disabled",M.disableInput)("clearSelected",M.clearSelected)("clearUnselected",M.clearUnselected)("overrideSuggested",M.overrideSuggested)("openOnFocus",M.openOnFocus)("fillHighlighted",M.fillHighlighted)("openOnClick",M.openOnClick)("selectOnClick",M.selectOnClick)("selectOnFocus",M.selectOnFocus),m.uIk("id",M.inputId.length>0?M.inputId:null)("name",M.inputName)("maxlength",M.maxChars),m.xp6(2),m.Q6J("ctrList",M.dataService)("ctrListMinSearchLength",M.minSearchLength)("ctrListPause",M.pause)("ctrListAutoMatch",M.autoMatch)("ctrListInitialValue",M.initialValue)("ctrListAutoHighlight",M.autoHighlight)("ctrListDisplaySearching",M.displaySearching))},directives:[gi,he.Fj,sr,B.mk,he.JJ,he.On,he.nD,Yn,B.O5,Ai,B.sg,gr,ao],styles:['.completer-dropdown[_ngcontent-%COMP%] {\n        border-color: #ececec;\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 2px;\n        width: 250px;\n        padding: 6px;\n        cursor: pointer;\n        z-index: 9999;\n        position: absolute;\n        margin-top: -6px;\n        background-color: #ffffff;\n    }\n\n    .completer-row[_ngcontent-%COMP%] {\n        padding: 5px;\n        color: #000000;\n        margin-bottom: 4px;\n        clear: both;\n        display: inline-block;\n        width: 103%;\n    }\n\n    .completer-selected-row[_ngcontent-%COMP%] {\n        background-color: lightblue;\n        color: #ffffff;\n    }\n\n    .completer-description[_ngcontent-%COMP%] {\n        font-size: 14px;\n    }\n\n    .completer-image-default[_ngcontent-%COMP%] {\n        width: 16px;\n        height: 16px;\n        background-image: url("demo/res/img/default.png");\n    }\n\n    .completer-image-holder[_ngcontent-%COMP%] {\n        float: left;\n        width: 10%;\n    }\n    .completer-item-text-image[_ngcontent-%COMP%] {\n        float: right;\n        width: 90%;\n    }']}),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"dataService",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"inputName",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",String)],Jn.prototype,"inputId",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"pause",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"minSearchLength",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"maxChars",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"overrideSuggested",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"clearSelected",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"clearUnselected",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"fillHighlighted",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"placeholder",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"matchClass",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"fieldTabindex",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"autoMatch",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"disableInput",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"inputClass",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"autofocus",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"openOnFocus",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"openOnClick",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"selectOnClick",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"selectOnFocus",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"initialValue",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object)],Jn.prototype,"autoHighlight",void 0),(0,we.gn)([(0,m.r_U)(),(0,we.w6)("design:type",Object)],Jn.prototype,"selected",void 0),(0,we.gn)([(0,m.r_U)(),(0,we.w6)("design:type",Object)],Jn.prototype,"highlighted",void 0),(0,we.gn)([(0,m.r_U)("blur"),(0,we.w6)("design:type",Object)],Jn.prototype,"blurEvent",void 0),(0,we.gn)([(0,m.r_U)(),(0,we.w6)("design:type",Object)],Jn.prototype,"click",void 0),(0,we.gn)([(0,m.r_U)("focus"),(0,we.w6)("design:type",Object)],Jn.prototype,"focusEvent",void 0),(0,we.gn)([(0,m.r_U)(),(0,we.w6)("design:type",Object)],Jn.prototype,"opened",void 0),(0,we.gn)([(0,m.r_U)(),(0,we.w6)("design:type",m.vpe)],Jn.prototype,"keyup",void 0),(0,we.gn)([(0,m.r_U)(),(0,we.w6)("design:type",m.vpe)],Jn.prototype,"keydown",void 0),(0,we.gn)([(0,m.i9L)(gi,{static:!1}),(0,we.w6)("design:type",Object)],Jn.prototype,"completer",void 0),(0,we.gn)([(0,m.i9L)("ctrInput",{static:!1}),(0,we.w6)("design:type",Object)],Jn.prototype,"ctrInput",void 0),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",Object),(0,we.w6)("design:paramtypes",[Object])],Jn.prototype,"datasource",null),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",String),(0,we.w6)("design:paramtypes",[String])],Jn.prototype,"textNoResults",null),(0,we.gn)([(0,m.IIB)(),(0,we.w6)("design:type",String),(0,we.w6)("design:paramtypes",[String])],Jn.prototype,"textSearching",null),Jn=(0,we.gn)([(0,we.w6)("design:paramtypes",[kn,m.sBO])],Jn);const Uo=[kn,Qt,Tn];let Nr=ls=class{static forRoot(){return{ngModule:ls,providers:Uo}}static forChild(){return{ngModule:ls,providers:Uo}}};Nr.\u0275fac=function(T){return new(T||Nr)},Nr.\u0275mod=m.oAB({type:Nr}),Nr.\u0275inj=m.cJS({providers:Uo,imports:[[B.ez,he.u5]]});var Gi=X(3132),cs=X(4168);class No{constructor(T){this.total=T}call(T,M){return M.subscribe(new Eo(T,this.total))}}class Eo extends cs.L{constructor(T,M){super(T),this.total=M,this.count=0}_next(T){++this.count>this.total&&this.destination.next(T)}}var Ho=X(5686),es=X(5389),qo=X(8805);function Jr(K,T){if(1&K&&m._UZ(0,"table-cell-view-mode",2),2&K){const M=m.oxw();m.Q6J("cell",M.cell)}}function Xr(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"table-cell-edit-mode",3),m.NdJ("edited",function(se){return m.CHM(M),m.oxw().onEdited(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}const lo=["dynamicTarget"];function Ro(K,T){}function co(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"select-editor",5),m.NdJ("onClick",function(se){return m.CHM(M),m.oxw().onClick(se)})("onEdited",function(se){return m.CHM(M),m.oxw().onEdited(se)})("onStopEditing",function(){return m.CHM(M),m.oxw().onStopEditing()}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}function vr(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"textarea-editor",5),m.NdJ("onClick",function(se){return m.CHM(M),m.oxw().onClick(se)})("onEdited",function(se){return m.CHM(M),m.oxw().onEdited(se)})("onStopEditing",function(){return m.CHM(M),m.oxw().onStopEditing()}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}function Go(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"checkbox-editor",6),m.NdJ("onClick",function(se){return m.CHM(M),m.oxw().onClick(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}function Ur(K,T){if(1&K&&m._UZ(0,"completer-editor",7),2&K){const M=m.oxw();m.Q6J("cell",M.cell)}}function bs(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"input-editor",5),m.NdJ("onClick",function(se){return m.CHM(M),m.oxw().onClick(se)})("onEdited",function(se){return m.CHM(M),m.oxw().onEdited(se)})("onStopEditing",function(){return m.CHM(M),m.oxw().onStopEditing()}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}function Ls(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"table-cell-custom-editor",3),m.NdJ("edited",function(se){return m.CHM(M),m.oxw().onEdited(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}function Gr(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"table-cell-default-editor",3),m.NdJ("edited",function(se){return m.CHM(M),m.oxw().onEdited(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}const ts="[_nghost-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{line-height:normal;padding:.375em .75em;width:100%}";function da(K,T){if(1&K&&(m.TgZ(0,"option",2),m._uU(1),m.qZA()),2&K){const M=T.$implicit,ee=m.oxw();m.Q6J("value",M.value)("selected",M.value===ee.cell.getValue()),m.xp6(1),m.hij("",M.title," ")}}function Qs(K,T){}function Js(K,T){if(1&K&&m._UZ(0,"custom-view-component",4),2&K){const M=m.oxw();m.Q6J("cell",M.cell)}}function za(K,T){if(1&K&&m._UZ(0,"div",5),2&K){const M=m.oxw();m.Q6J("innerHTML",M.cell.getValue(),m.oJD)}}function Mo(K,T){if(1&K&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&K){const M=m.oxw();m.xp6(1),m.Oqu(M.cell.getValue())}}function ns(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"custom-table-filter",4),m.NdJ("filter",function(se){return m.CHM(M),m.oxw(2).onFilter(se)}),m.qZA()}if(2&K){const M=m.oxw(2);m.Q6J("query",M.query)("column",M.column)("source",M.source)("inputClass",M.inputClass)}}function Xs(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"default-table-filter",4),m.NdJ("filter",function(se){return m.CHM(M),m.oxw(2).onFilter(se)}),m.qZA()}if(2&K){const M=m.oxw(2);m.Q6J("query",M.query)("column",M.column)("source",M.source)("inputClass",M.inputClass)}}function Bs(K,T){if(1&K&&(m.TgZ(0,"div",1),m.YNc(1,ns,1,4,"custom-table-filter",2),m.YNc(2,Xs,1,4,"default-table-filter",3),m.qZA()),2&K){const M=m.oxw();m.Q6J("ngSwitch",M.column.getFilterType()),m.xp6(1),m.Q6J("ngSwitchCase","custom")}}function Qa(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"select-filter",3),m.NdJ("filter",function(se){return m.CHM(M),m.oxw().onFilter(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("query",M.query)("ngClass",M.inputClass)("column",M.column)}}function cl(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"checkbox-filter",3),m.NdJ("filter",function(se){return m.CHM(M),m.oxw().onFilter(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("query",M.query)("ngClass",M.inputClass)("column",M.column)}}function $r(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"completer-filter",3),m.NdJ("filter",function(se){return m.CHM(M),m.oxw().onFilter(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("query",M.query)("ngClass",M.inputClass)("column",M.column)}}function ea(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"input-filter",3),m.NdJ("filter",function(se){return m.CHM(M),m.oxw().onFilter(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("query",M.query)("ngClass",M.inputClass)("column",M.column)}}function ta(K,T){}function js(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",2),m.NdJ("click",function(se){return m.CHM(M),m.oxw().resetFilter(se)}),m._uU(1),m.qZA()}if(2&K){const M=m.oxw();let ee;m.xp6(1),m.Oqu((null==(ee=M.column.getFilterConfig())?null:ee.resetText)||"reset")}}const Ji=["inputControl"];function Es(K,T){if(1&K&&(m.TgZ(0,"option",4),m._uU(1),m.qZA()),2&K){const M=T.$implicit;m.Q6J("value",M.value),m.xp6(1),m.hij(" ",M.title," ")}}function Xi(K,T){if(1&K&&(m.TgZ(0,"span",14),m._uU(1),m.TgZ(2,"span",7),m._uU(3,"(current)"),m.qZA(),m.qZA()),2&K){const M=m.oxw().$implicit;m.xp6(1),m.hij("",M," ")}}function ur(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",15),m.NdJ("click",function(){m.CHM(M);const se=m.oxw().$implicit;return m.oxw(2).paginate(se)}),m._uU(1),m.qZA()}if(2&K){const M=m.oxw().$implicit;m.xp6(1),m.Oqu(M)}}const na=function(K){return{active:K}};function zs(K,T){if(1&K&&(m.TgZ(0,"li",4),m.YNc(1,Xi,4,1,"span",12),m.YNc(2,ur,2,1,"a",13),m.qZA()),2&K){const M=T.$implicit,ee=m.oxw(2);m.Q6J("ngClass",m.VKq(3,na,ee.getPage()==M)),m.xp6(1),m.Q6J("ngIf",ee.getPage()==M),m.xp6(1),m.Q6J("ngIf",ee.getPage()!=M)}}const Wr=function(K){return{disabled:K}};function go(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"nav",2),m.TgZ(1,"ul",3),m.TgZ(2,"li",4),m.TgZ(3,"a",5),m.NdJ("click",function(){m.CHM(M);const se=m.oxw();return 1!=se.getPage()&&se.paginate(1)}),m.TgZ(4,"span",6),m._uU(5,"\xab"),m.qZA(),m.TgZ(6,"span",7),m._uU(7,"First"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"li",4),m.TgZ(9,"a",8),m.NdJ("click",function(){m.CHM(M);const se=m.oxw();return 1!=se.getPage()&&se.prev()}),m.TgZ(10,"span",6),m._uU(11,"<"),m.qZA(),m.TgZ(12,"span",7),m._uU(13,"Prev"),m.qZA(),m.qZA(),m.qZA(),m.YNc(14,zs,3,5,"li",9),m.TgZ(15,"li",4),m.TgZ(16,"a",10),m.NdJ("click",function(){m.CHM(M);const se=m.oxw();return se.getPage()!=se.getLast()&&se.next()}),m.TgZ(17,"span",6),m._uU(18,">"),m.qZA(),m.TgZ(19,"span",7),m._uU(20,"Next"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(21,"li",4),m.TgZ(22,"a",11),m.NdJ("click",function(){m.CHM(M);const se=m.oxw();return se.getPage()!=se.getLast()&&se.paginate(se.getLast())}),m.TgZ(23,"span",6),m._uU(24,"\xbb"),m.qZA(),m.TgZ(25,"span",7),m._uU(26,"Last"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&K){const M=m.oxw();m.xp6(2),m.Q6J("ngClass",m.VKq(5,Wr,1==M.getPage())),m.xp6(6),m.Q6J("ngClass",m.VKq(7,Wr,1==M.getPage())),m.xp6(6),m.Q6J("ngForOf",M.getPages()),m.xp6(1),m.Q6J("ngClass",m.VKq(9,Wr,M.getPage()==M.getLast())),m.xp6(6),m.Q6J("ngClass",m.VKq(11,Wr,M.getPage()==M.getLast()))}}function $o(K,T){if(1&K&&(m.TgZ(0,"option",20),m._uU(1),m.qZA()),2&K){const M=T.$implicit;m.Q6J("value",M),m.xp6(1),m.Oqu(M)}}function Ms(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"nav",16),m.TgZ(1,"label",17),m._uU(2," Per Page: "),m.qZA(),m.TgZ(3,"select",18),m.NdJ("change",function(se){return m.CHM(M),m.oxw().onChangePerPage(se)})("ngModelChange",function(se){return m.CHM(M),m.oxw().currentPerPage=se}),m.YNc(4,$o,2,2,"option",19),m.qZA(),m.qZA()}if(2&K){const M=m.oxw();m.xp6(3),m.Q6J("ngModel",M.currentPerPage),m.xp6(1),m.Q6J("ngForOf",M.perPageSelect)}}const Fo=["ng2-st-tbody",""];function Vs(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"td",6),m.NdJ("click",function(){m.CHM(M);const se=m.oxw().$implicit;return m.oxw().multipleSelectRow.emit(se)}),m._UZ(1,"input",7),m.qZA()}if(2&K){const M=m.oxw().$implicit;m.xp6(1),m.Q6J("ngModel",M.isSelected)}}function Rr(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"td",8),m.TgZ(1,"ng2-st-tbody-custom",9),m.NdJ("custom",function(se){return m.CHM(M),m.oxw(2).custom.emit(se)}),m.qZA(),m.TgZ(2,"ng2-st-tbody-edit-delete",10),m.NdJ("edit",function(){m.CHM(M);const se=m.oxw().$implicit;return m.oxw().edit.emit(se)})("delete",function(){m.CHM(M);const se=m.oxw().$implicit;return m.oxw().delete.emit(se)})("editRowSelect",function(se){return m.CHM(M),m.oxw(2).editRowSelect.emit(se)}),m.qZA(),m.qZA()}if(2&K){const M=m.oxw().$implicit,ee=m.oxw();m.xp6(1),m.Q6J("grid",ee.grid)("row",M)("source",ee.source),m.xp6(1),m.Q6J("grid",ee.grid)("deleteConfirm",ee.deleteConfirm)("editConfirm",ee.editConfirm)("row",M)("source",ee.source)}}function ya(K,T){if(1&K&&(m.TgZ(0,"td",8),m._UZ(1,"ng2-st-tbody-create-cancel",11),m.qZA()),2&K){const M=m.oxw().$implicit,ee=m.oxw();m.xp6(1),m.Q6J("grid",ee.grid)("row",M)("editConfirm",ee.editConfirm)}}function vs(K,T){if(1&K&&(m.TgZ(0,"td"),m._UZ(1,"ng2-smart-table-cell",12),m.qZA()),2&K){const M=T.$implicit,ee=m.oxw().$implicit,se=m.oxw();m.xp6(1),m.Q6J("cell",M)("grid",se.grid)("row",ee)("isNew",!1)("mode",se.mode)("editConfirm",se.editConfirm)("inputClass",se.editInputClass)("isInEditing",ee.isInEditing)}}function us(K,T){if(1&K&&(m.TgZ(0,"td",8),m._UZ(1,"ng2-st-tbody-create-cancel",11),m.qZA()),2&K){const M=m.oxw().$implicit,ee=m.oxw();m.xp6(1),m.Q6J("grid",ee.grid)("row",M)("editConfirm",ee.editConfirm)}}function Er(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"td",8),m.TgZ(1,"ng2-st-tbody-custom",9),m.NdJ("custom",function(se){return m.CHM(M),m.oxw(2).custom.emit(se)}),m.qZA(),m.TgZ(2,"ng2-st-tbody-edit-delete",10),m.NdJ("edit",function(){m.CHM(M);const se=m.oxw().$implicit;return m.oxw().edit.emit(se)})("delete",function(){m.CHM(M);const se=m.oxw().$implicit;return m.oxw().delete.emit(se)})("editRowSelect",function(se){return m.CHM(M),m.oxw(2).editRowSelect.emit(se)}),m.qZA(),m.qZA()}if(2&K){const M=m.oxw().$implicit,ee=m.oxw();m.xp6(1),m.Q6J("grid",ee.grid)("row",M)("source",ee.source),m.xp6(1),m.Q6J("grid",ee.grid)("deleteConfirm",ee.deleteConfirm)("editConfirm",ee.editConfirm)("row",M)("source",ee.source)}}const ie=function(K){return{selected:K}};function ne(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"tr",2),m.NdJ("click",function(){const We=m.CHM(M).$implicit;return m.oxw().userSelectRow.emit(We)})("mouseover",function(){const We=m.CHM(M).$implicit;return m.oxw().rowHover.emit(We)}),m.YNc(1,Vs,2,1,"td",3),m.YNc(2,Rr,3,8,"td",4),m.YNc(3,ya,2,3,"td",4),m.YNc(4,vs,2,8,"td",5),m.YNc(5,us,2,3,"td",4),m.YNc(6,Er,3,8,"td",4),m.qZA()}if(2&K){const M=T.$implicit,ee=m.oxw();m.Q6J("className",ee.rowClassFunction(M))("ngClass",m.VKq(8,ie,M.isSelected)),m.xp6(1),m.Q6J("ngIf",ee.isMultiSelectVisible),m.xp6(1),m.Q6J("ngIf",!M.isInEditing&&ee.showActionColumnLeft),m.xp6(1),m.Q6J("ngIf",M.isInEditing&&ee.showActionColumnLeft),m.xp6(1),m.Q6J("ngForOf",ee.getVisibleCells(M.cells)),m.xp6(1),m.Q6J("ngIf",M.isInEditing&&ee.showActionColumnRight),m.xp6(1),m.Q6J("ngIf",!M.isInEditing&&ee.showActionColumnRight)}}function Be(K,T){if(1&K&&(m.TgZ(0,"tr"),m.TgZ(1,"td"),m._uU(2),m.qZA(),m.qZA()),2&K){const M=m.oxw();m.xp6(1),m.uIk("colspan",M.tableColumnsCount),m.xp6(1),m.hij(" ",M.noDataMessage," ")}}function it(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",2),m.NdJ("click",function(se){return m.CHM(M),m.oxw().onEdit(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("innerHTML",M.editRowButtonContent,m.oJD)}}function V(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",3),m.NdJ("click",function(se){return m.CHM(M),m.oxw().onDelete(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("innerHTML",M.deleteRowButtonContent,m.oJD)}}function le(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",1),m.NdJ("click",function(se){const $n=m.CHM(M).$implicit;return m.oxw().onCustom($n,se)}),m.qZA()}2&K&&m.Q6J("innerHTML",T.$implicit.title,m.oJD)}const W=["ng2-st-thead",""];function ve(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"tr",3),m.NdJ("sort",function(se){return m.CHM(M),m.oxw().sort.emit(se)})("selectAllRows",function(se){return m.CHM(M),m.oxw().selectAllRows.emit(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("grid",M.grid)("isAllSelected",M.isAllSelected)("source",M.source)}}function Ze(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"tr",4),m.NdJ("create",function(se){return m.CHM(M),m.oxw().create.emit(se)})("filter",function(se){return m.CHM(M),m.oxw().filter.emit(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("grid",M.grid)("source",M.source)}}function z(K,T){if(1&K&&m._UZ(0,"tr",5),2&K){const M=m.oxw();m.Q6J("grid",M.grid)("createConfirm",M.createConfirm)}}const G=["ng2-st-actions-title",""],$=["ng2-st-add-button",""];function Ce(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",1),m.NdJ("click",function(se){return m.CHM(M),m.oxw().onAdd(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("innerHTML",M.addNewButtonContent,m.oJD)}}const xt=["ng2-st-checkbox-select-all",""];function nn(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",2),m.NdJ("click",function(se){return m.CHM(M),m.oxw()._sort(se)}),m._uU(1),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("ngClass",M.currentDirection),m.xp6(1),m.hij(" ",M.column.title," ")}}function _n(K,T){if(1&K&&(m.TgZ(0,"span",3),m._uU(1),m.qZA()),2&K){const M=m.oxw();m.xp6(1),m.Oqu(M.column.title)}}const ni=["ng2-st-thead-filters-row",""];function li(K,T){1&K&&m._UZ(0,"th")}function Fi(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"th",4),m.NdJ("create",function(se){return m.CHM(M),m.oxw().create.emit(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("grid",M.grid)}}function yr(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"th"),m.TgZ(1,"ng2-smart-table-filter",5),m.NdJ("filter",function(se){return m.CHM(M),m.oxw().filter.emit(se)}),m.qZA(),m.qZA()}if(2&K){const M=T.$implicit,ee=m.oxw();m.Gre("ng2-smart-th ",M.id,""),m.xp6(1),m.Q6J("source",ee.source)("column",M)("inputClass",ee.filterInputClass)}}function uo(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"th",6),m.NdJ("create",function(se){return m.CHM(M),m.oxw().create.emit(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("grid",M.grid)("source",M.source)}}const Sr=["ng2-st-thead-form-row",""];function ho(K,T){1&K&&m._UZ(0,"td")}function ys(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"td",3),m.TgZ(1,"ng2-st-actions",4),m.NdJ("create",function(se){return m.CHM(M),m.oxw().onCreate(se)}),m.qZA(),m.qZA()}if(2&K){const M=m.oxw();m.xp6(1),m.Q6J("grid",M.grid)}}function ri(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"td"),m.TgZ(1,"ng2-smart-table-cell",5),m.NdJ("edited",function(se){return m.CHM(M),m.oxw().onCreate(se)}),m.qZA(),m.qZA()}if(2&K){const M=T.$implicit,ee=m.oxw();m.xp6(1),m.Q6J("cell",M)("grid",ee.grid)("isNew",!0)("createConfirm",ee.createConfirm)("inputClass",ee.addInputClass)("isInEditing",ee.grid.getNewRow().isInEditing)}}function mo(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"td",3),m.TgZ(1,"ng2-st-actions",4),m.NdJ("create",function(se){return m.CHM(M),m.oxw().onCreate(se)}),m.qZA(),m.qZA()}if(2&K){const M=m.oxw();m.xp6(1),m.Q6J("grid",M.grid)}}const Tl=["ng2-st-thead-titles-row",""];function nc(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"th",3),m.NdJ("click",function(se){return m.CHM(M),m.oxw().selectAllRows.emit(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("grid",M.grid)("source",M.source)("isAllSelected",M.isAllSelected)}}function Mc(K,T){if(1&K&&m._UZ(0,"th",4),2&K){const M=m.oxw();m.Q6J("grid",M.grid)}}function ql(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"th",5),m.TgZ(1,"ng2-st-column-title",6),m.NdJ("sort",function(se){return m.CHM(M),m.oxw().sort.emit(se)}),m.qZA(),m.qZA()}if(2&K){const M=T.$implicit,ee=m.oxw();m.Gre("ng2-smart-th ",M.id,""),m.Udp("width",M.width),m.Q6J("ngClass",M.class),m.xp6(1),m.Q6J("source",ee.source)("column",M)}}function Sl(K,T){if(1&K&&m._UZ(0,"th",4),2&K){const M=m.oxw();m.Q6J("grid",M.grid)}}function ic(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"thead",4),m.NdJ("create",function(se){return m.CHM(M),m.oxw().create.emit(se)})("selectAllRows",function(se){return m.CHM(M),m.oxw().onSelectAllRows(se)})("sort",function(se){return m.CHM(M),m.oxw().sort(se)})("filter",function(se){return m.CHM(M),m.oxw().filter(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("grid",M.grid)("isAllSelected",M.isAllSelected)("source",M.source)("createConfirm",M.createConfirm)}}function dn(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"ng2-smart-table-pager",5),m.NdJ("changePage",function(se){return m.CHM(M),m.oxw().changePage(se)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("source",M.source)("perPageSelect",M.perPageSelect)}}const Ti=function(...K){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];const T=arguments[0],M=Array.prototype.slice.call(arguments,1);let ee,se;return M.forEach(We=>{"object"!=typeof We||Array.isArray(We)||Object.keys(We).forEach(function($n){if(se=T[$n],ee=We[$n],ee!==T)return"object"!=typeof ee||null===ee?void(T[$n]=ee):Array.isArray(ee)?void(T[$n]=(0,Gi.cloneDeep)(ee)):"object"!=typeof se||null===se||Array.isArray(se)?void(T[$n]=Ti({},ee)):void(T[$n]=Ti(se,ee))})}),T};class ul{constructor(){this.promise=new Promise((T,M)=>{this.resolve=T,this.reject=M})}}function Ra(K,T){return Math.floor(K/T)+1}function Wo(K){return K}let Ds=(()=>{class K{constructor(M,ee,se,We){this.value=M,this.row=ee,this.column=se,this.dataSet=We,this.newValue="",this.newValue=M}getColumn(){return this.column}getRow(){return this.row}getValue(){return(this.column.getValuePrepareFunction()instanceof Function?this.column.getValuePrepareFunction():K.PREPARE).call(null,this.value,this.row.getData(),this)}setValue(M){this.newValue=M}getId(){return this.getColumn().id}getTitle(){return this.getColumn().title}isEditable(){return-1===this.getRow().index?this.getColumn().isAddable:this.getColumn().isEditable}}return K.PREPARE=Wo,K})();class Us{constructor(T,M,ee){this.index=T,this.data=M,this._dataSet=ee,this.isSelected=!1,this.isInEditing=!1,this.cells=[],this.process()}getCell(T){return this.cells.find(M=>M.getColumn()===T)}getCells(){return this.cells}getData(){return this.data}getIsSelected(){return this.isSelected}getNewData(){const T=Object.assign({},this.data);return this.getCells().forEach(M=>T[M.getColumn().id]=M.newValue),T}setData(T){this.data=T,this.process()}process(){this.cells=[],this._dataSet.getColumns().forEach(T=>{const M=this.createCell(T);this.cells.push(M)})}createCell(T){return new Ds(void 0===this.data[T.id]?T.settings.defaultValue?T.settings.defaultValue:"":this.data[T.id],this,T,this._dataSet)}}class dl{constructor(T,M,ee){this.id=T,this.settings=M,this.dataSet=ee,this.title="",this.type="",this.class="",this.width="",this.hide=!1,this.isSortable=!1,this.isEditable=!0,this.isAddable=!0,this.isFilterable=!1,this.sortDirection="",this.defaultSortDirection="",this.editor={type:"",config:{},component:null},this.filter={type:"",config:{},component:null},this.renderComponent=null,this.process()}getOnComponentInitFunction(){return this.onComponentInitFunction}getCompareFunction(){return this.compareFunction}getValuePrepareFunction(){return this.valuePrepareFunction}getFilterFunction(){return this.filterFunction}getConfig(){return this.editor&&this.editor.config}getFilterType(){return this.filter&&this.filter.type}getFilterConfig(){return this.filter&&this.filter.config}process(){this.title=this.settings.title,this.class=this.settings.class,this.width=this.settings.width,this.hide=!!this.settings.hide,this.type=this.prepareType(),this.editor=this.settings.editor,this.filter=this.settings.filter,this.renderComponent=this.settings.renderComponent,this.isFilterable=void 0===this.settings.filter||!!this.settings.filter,this.defaultSortDirection=-1!==["asc","desc"].indexOf(this.settings.sortDirection)?this.settings.sortDirection:"",this.isSortable=void 0===this.settings.sort||!!this.settings.sort,this.isEditable=void 0===this.settings.editable||!!this.settings.editable,this.isAddable=void 0===this.settings.addable||!!this.settings.addable,this.sortDirection=this.prepareSortDirection(),this.compareFunction=this.settings.compareFunction,this.valuePrepareFunction=this.settings.valuePrepareFunction,this.filterFunction=this.settings.filterFunction,this.onComponentInitFunction=this.settings.onComponentInitFunction}prepareType(){return this.settings.type||this.determineType()}prepareSortDirection(){return"desc"===this.settings.sort?"desc":"asc"}determineType(){return"text"}}class hl{constructor(T=[],M){this.columnSettings=M,this.data=[],this.columns=[],this.rows=[],this.createColumns(M),this.setData(T),this.createNewRow()}setData(T){this.data=T,this.createRows()}getColumns(){return this.columns}getRows(){return this.rows}getFirstRow(){return this.rows[0]}getLastRow(){return this.rows[this.rows.length-1]}findRowByData(T){return this.rows.find(M=>M.getData()===T)}deselectAll(){this.rows.forEach(T=>{T.isSelected=!1}),this.selectedRow=void 0}selectRow(T){const M=T.isSelected;return this.deselectAll(),T.isSelected=!M,this.selectedRow=T,this.selectedRow}multipleSelectRow(T){return T.isSelected=!T.isSelected,this.selectedRow=T,this.selectedRow}selectPreviousRow(){if(this.rows.length>0){let T=this.selectedRow?this.selectedRow.index:0;return T>this.rows.length-1&&(T=this.rows.length-1),this.selectRow(this.rows[T]),this.selectedRow}}selectFirstRow(){if(this.rows.length>0)return this.selectRow(this.rows[0]),this.selectedRow}selectLastRow(){if(this.rows.length>0)return this.selectRow(this.rows[this.rows.length-1]),this.selectedRow}selectRowByIndex(T){const M=this.rows.length;if(0!==M){if(!T)return this.selectFirstRow(),this.selectedRow;if(T>0&&T<M)return this.selectRow(this.rows[T]),this.selectedRow;this.deselectAll()}}willSelectFirstRow(){this.willSelect="first"}willSelectLastRow(){this.willSelect="last"}select(T){if(0!==this.getRows().length)return this.willSelect?("first"===this.willSelect&&this.selectFirstRow(),"last"===this.willSelect&&this.selectLastRow(),this.willSelect=""):this.selectRowByIndex(T),this.selectedRow}createNewRow(){this.newRow=new Us(-1,{},this),this.newRow.isInEditing=!0}createColumns(T){for(const M in T)T.hasOwnProperty(M)&&this.columns.push(new dl(M,T[M],this))}createRows(){this.rows=[],this.data.forEach((T,M)=>{this.rows.push(new Us(M,T,this))})}}class rc{constructor(T,M){this.createFormShown=!1,this.onSelectRowSource=new Ne.xQ,this.onDeselectRowSource=new Ne.xQ,this.setSettings(M),this.setSource(T)}detach(){this.sourceOnChangedSubscription&&this.sourceOnChangedSubscription.unsubscribe(),this.sourceOnUpdatedSubscription&&this.sourceOnUpdatedSubscription.unsubscribe()}showActionColumn(T){return this.isCurrentActionsPosition(T)&&this.isActionsVisible()}isCurrentActionsPosition(T){return T==this.getSetting("actions.position")}isActionsVisible(){return this.getSetting("actions.add")||this.getSetting("actions.edit")||this.getSetting("actions.delete")||this.getSetting("actions.custom").length}isMultiSelectVisible(){return"multi"===this.getSetting("selectMode")}getNewRow(){return this.dataSet.newRow}setSettings(T){this.settings=T,this.dataSet=new hl([],this.getSetting("columns")),this.source&&this.source.refresh()}getDataSet(){return this.dataSet}setSource(T){this.source=this.prepareSource(T),this.detach(),this.sourceOnChangedSubscription=this.source.onChanged().subscribe(M=>this.processDataChange(M)),this.sourceOnUpdatedSubscription=this.source.onUpdated().subscribe(M=>{this.dataSet.findRowByData(M).setData(M)})}getSetting(T,M){return function(K={},T,M){const ee=T.split(".");let se=Ti({},K);return ee.forEach(We=>{se&&void 0!==se[We]&&(se=se[We])}),void 0===se?M:se}(this.settings,T,M)}getColumns(){return this.dataSet.getColumns()}getRows(){return this.dataSet.getRows()}selectRow(T){this.dataSet.selectRow(T)}multipleSelectRow(T){this.dataSet.multipleSelectRow(T)}onSelectRow(){return this.onSelectRowSource.asObservable()}onDeselectRow(){return this.onDeselectRowSource.asObservable()}edit(T){T.isInEditing=!0}create(T,M){const ee=new ul;ee.promise.then(se=>{se=se||T.getNewData(),ee.resolve.skipAdd?this.createFormShown=!1:this.source.prepend(se).then(()=>{this.createFormShown=!1,this.dataSet.createNewRow()})}).catch(se=>{}),this.getSetting("add.confirmCreate")?M.emit({newData:T.getNewData(),source:this.source,confirm:ee}):ee.resolve()}save(T,M){const ee=new ul;ee.promise.then(se=>{se=se||T.getNewData(),ee.resolve.skipEdit?T.isInEditing=!1:this.source.update(T.getData(),se).then(()=>{T.isInEditing=!1})}).catch(se=>{}),this.getSetting("edit.confirmSave")?M.emit({data:T.getData(),newData:T.getNewData(),source:this.source,confirm:ee}):ee.resolve()}delete(T,M){const ee=new ul;ee.promise.then(()=>{this.source.remove(T.getData())}).catch(se=>{}),this.getSetting("delete.confirmDelete")?M.emit({data:T.getData(),source:this.source,confirm:ee}):ee.resolve()}processDataChange(T){if(this.shouldProcessChange(T)&&(this.dataSet.setData(T.elements),"multi"!==this.getSetting("selectMode"))){const M=this.determineRowToSelect(T);M?this.onSelectRowSource.next(M):this.onDeselectRowSource.next(null)}}shouldProcessChange(T){return-1!==["filter","sort","page","remove","refresh","load","paging"].indexOf(T.action)||-1!==["prepend","append"].indexOf(T.action)&&!this.getSetting("pager.display")}determineRowToSelect(T){if(-1!==["load","page","filter","sort","refresh"].indexOf(T.action))return this.dataSet.select(this.getRowIndexToSelect());if(this.shouldSkipSelection())return null;if("remove"===T.action){if(0!==T.elements.length)return this.dataSet.selectPreviousRow();this.dataSet.willSelectLastRow()}return"append"===T.action&&this.dataSet.willSelectLastRow(),"add"===T.action||"update"===T.action?this.dataSet.selectFirstRow():("prepend"===T.action&&this.dataSet.willSelectFirstRow(),null)}prepareSource(T){const M=this.getInitialSort();return M&&M.field&&M.direction&&T.setSort([M],!1),!0===this.getSetting("pager.display")&&T.setPaging(this.getPageToSelect(T),this.getSetting("pager.perPage"),!1),T.refresh(),T}getInitialSort(){const T={};return this.getColumns().forEach(M=>{M.isSortable&&M.defaultSortDirection&&(T.field=M.id,T.direction=M.defaultSortDirection,T.compare=M.getCompareFunction())}),T}getSelectedRows(){return this.dataSet.getRows().filter(T=>T.isSelected)}selectAllRows(T){this.dataSet.getRows().forEach(M=>M.isSelected=T)}getFirstRow(){return this.dataSet.getFirstRow()}getLastRow(){return this.dataSet.getLastRow()}getSelectionInfo(){const T=this.getSetting("switchPageToSelectedRowPage"),M=Number(this.getSetting("selectedRowIndex",0))||0,{perPage:ee,page:se}=this.getSetting("pager");return{perPage:ee,page:se,selectedRowIndex:M,switchPageToSelectedRowPage:T}}getRowIndexToSelect(){const{switchPageToSelectedRowPage:T,selectedRowIndex:M,perPage:ee}=this.getSelectionInfo(),se=this.source.count();return T&&M<se&&M>=0?M%ee:M}getPageToSelect(T){const{switchPageToSelectedRowPage:M,selectedRowIndex:ee,perPage:se,page:We}=this.getSelectionInfo();let $n=Math.max(1,We);M&&ee>=0&&($n=Ra(ee,se));const ir=Math.ceil(T.count()/se);return ir?Math.min($n,ir):$n}shouldSkipSelection(){return Number(this.getSetting("selectedRowIndex"))<0}}let wa=(()=>{class K{constructor(){this.inputClass="",this.mode="inline",this.isInEditing=!1,this.edited=new m.vpe}onEdited(M){this.isNew?this.grid.create(this.grid.getNewRow(),this.createConfirm):this.grid.save(this.row,this.editConfirm)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-smart-table-cell"]],inputs:{inputClass:"inputClass",mode:"mode",isInEditing:"isInEditing",grid:"grid",row:"row",editConfirm:"editConfirm",createConfirm:"createConfirm",isNew:"isNew",cell:"cell"},outputs:{edited:"edited"},decls:2,vars:2,consts:[[3,"cell",4,"ngIf"],[3,"cell","inputClass","edited",4,"ngIf"],[3,"cell"],[3,"cell","inputClass","edited"]],template:function(M,ee){1&M&&(m.YNc(0,Jr,1,1,"table-cell-view-mode",0),m.YNc(1,Xr,1,2,"table-cell-edit-mode",1)),2&M&&(m.Q6J("ngIf",!ee.isInEditing),m.xp6(1),m.Q6J("ngIf",ee.isInEditing))},directives:function(){return[B.O5,I,ha]},encapsulation:2}),K})(),Va=(()=>{class K{constructor(){this.inputClass="",this.edited=new m.vpe}onEdited(M){return this.edited.next(M),!1}onStopEditing(){return this.cell.getRow().isInEditing=!1,!1}onClick(M){M.stopPropagation()}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng-component"]],inputs:{inputClass:"inputClass",cell:"cell"},outputs:{edited:"edited"},decls:0,vars:0,template:function(M,ee){},encapsulation:2}),K})(),$i=(()=>{class K extends Va{constructor(M){super(),this.resolver=M}ngOnChanges(M){if(this.cell&&!this.customComponent){const ee=this.resolver.resolveComponentFactory(this.cell.getColumn().editor.component);this.customComponent=this.dynamicTarget.createComponent(ee),this.customComponent.instance.cell=this.cell,this.customComponent.instance.inputClass=this.inputClass,this.customComponent.instance.onStopEditing.subscribe(()=>this.onStopEditing()),this.customComponent.instance.onEdited.subscribe(se=>this.onEdited(se)),this.customComponent.instance.onClick.subscribe(se=>this.onClick(se))}}ngOnDestroy(){this.customComponent&&this.customComponent.destroy()}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(m._Vd))},K.\u0275cmp=m.Xpm({type:K,selectors:[["table-cell-custom-editor"]],viewQuery:function(M,ee){if(1&M&&m.Gf(lo,7,m.s_b),2&M){let se;m.iGM(se=m.CRH())&&(ee.dynamicTarget=se.first)}},features:[m.qOj,m.TTD],decls:2,vars:0,consts:[["dynamicTarget",""]],template:function(M,ee){1&M&&m.YNc(0,Ro,0,0,"ng-template",null,0,m.W1O)},encapsulation:2}),K})(),ia=(()=>{class K extends Va{constructor(){super()}getEditorType(){return this.cell.getColumn().editor&&this.cell.getColumn().editor.type}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["table-cell-default-editor"]],features:[m.qOj],decls:6,vars:5,consts:[[3,"ngSwitch"],[3,"cell","inputClass","onClick","onEdited","onStopEditing",4,"ngSwitchCase"],[3,"cell","inputClass","onClick",4,"ngSwitchCase"],[3,"cell",4,"ngSwitchCase"],[3,"cell","inputClass","onClick","onEdited","onStopEditing",4,"ngSwitchDefault"],[3,"cell","inputClass","onClick","onEdited","onStopEditing"],[3,"cell","inputClass","onClick"],[3,"cell"]],template:function(M,ee){1&M&&(m.TgZ(0,"div",0),m.YNc(1,co,1,2,"select-editor",1),m.YNc(2,vr,1,2,"textarea-editor",1),m.YNc(3,Go,1,2,"checkbox-editor",2),m.YNc(4,Ur,1,1,"completer-editor",3),m.YNc(5,bs,1,2,"input-editor",4),m.qZA()),2&M&&(m.Q6J("ngSwitch",ee.getEditorType()),m.xp6(1),m.Q6J("ngSwitchCase","list"),m.xp6(1),m.Q6J("ngSwitchCase","textarea"),m.xp6(1),m.Q6J("ngSwitchCase","checkbox"),m.xp6(1),m.Q6J("ngSwitchCase","completer"))},directives:function(){return[B.RF,B.n9,B.ED,fl,pl,wr,Gl,Ua]},encapsulation:2}),K})(),ha=(()=>{class K{constructor(){this.inputClass="",this.edited=new m.vpe}onEdited(M){return this.edited.next(M),!1}getEditorType(){return this.cell.getColumn().editor&&this.cell.getColumn().editor.type}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["table-cell-edit-mode"]],inputs:{inputClass:"inputClass",cell:"cell"},outputs:{edited:"edited"},decls:3,vars:2,consts:[[3,"ngSwitch"],[3,"cell","inputClass","edited",4,"ngSwitchCase"],[3,"cell","inputClass","edited",4,"ngSwitchDefault"],[3,"cell","inputClass","edited"]],template:function(M,ee){1&M&&(m.TgZ(0,"div",0),m.YNc(1,Ls,1,2,"table-cell-custom-editor",1),m.YNc(2,Gr,1,2,"table-cell-default-editor",2),m.qZA()),2&M&&(m.Q6J("ngSwitch",ee.getEditorType()),m.xp6(1),m.Q6J("ngSwitchCase","custom"))},directives:[B.RF,B.n9,B.ED,$i,ia],encapsulation:2}),K})(),fa=(()=>{class K{constructor(){this.onStopEditing=new m.vpe,this.onEdited=new m.vpe,this.onClick=new m.vpe}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng-component"]],inputs:{cell:"cell",inputClass:"inputClass"},outputs:{onStopEditing:"onStopEditing",onEdited:"onEdited",onClick:"onClick"},decls:0,vars:0,template:function(M,ee){},encapsulation:2}),K})(),wr=(()=>{class K extends fa{constructor(){super()}onChange(M){const ee=this.cell.getColumn().getConfig()&&this.cell.getColumn().getConfig().true||!0,se=this.cell.getColumn().getConfig()&&this.cell.getColumn().getConfig().false||!1;this.cell.newValue=M.target.checked?ee:se}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["checkbox-editor"]],features:[m.qOj],decls:1,vars:4,consts:[["type","checkbox",1,"form-control",3,"ngClass","name","disabled","checked","click","change"]],template:function(M,ee){if(1&M&&(m.TgZ(0,"input",0),m.NdJ("click",function(We){return ee.onClick.emit(We)})("change",function(We){return ee.onChange(We)}),m.qZA()),2&M){let se;m.Q6J("ngClass",ee.inputClass)("name",ee.cell.getId())("disabled",!ee.cell.isEditable())("checked",ee.cell.getValue()==((null==(se=ee.cell.getColumn().getConfig())?null:se.true)||!0))}},directives:[B.mk],styles:[ts]}),K})(),Gl=(()=>{class K extends fa{constructor(M){super(),this.completerService=M,this.completerStr=""}ngOnInit(){if(this.cell.getColumn().editor&&"completer"===this.cell.getColumn().editor.type){const M=this.cell.getColumn().getConfig().completer;M.dataService=this.completerService.local(M.data,M.searchFields,M.titleField),M.dataService.descriptionField(M.descriptionField)}}onEditedCompleter(M){return this.cell.newValue=M.title,!1}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(kn))},K.\u0275cmp=m.Xpm({type:K,selectors:[["completer-editor"]],features:[m.qOj],decls:1,vars:5,consts:[[3,"ngModel","dataService","minSearchLength","pause","placeholder","ngModelChange","selected"]],template:function(M,ee){1&M&&(m.TgZ(0,"ng2-completer",0),m.NdJ("ngModelChange",function(We){return ee.completerStr=We})("selected",function(We){return ee.onEditedCompleter(We)}),m.qZA()),2&M&&m.Q6J("ngModel",ee.completerStr)("dataService",ee.cell.getColumn().getConfig().completer.dataService)("minSearchLength",ee.cell.getColumn().getConfig().completer.minSearchLength||0)("pause",ee.cell.getColumn().getConfig().completer.pause||0)("placeholder",ee.cell.getColumn().getConfig().completer.placeholder||"Start typing...")},directives:[Jn,he.JJ,he.On],encapsulation:2}),K})(),Ua=(()=>{class K extends fa{constructor(){super()}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["input-editor"]],features:[m.qOj],decls:1,vars:5,consts:[[1,"form-control",3,"ngClass","ngModel","name","placeholder","disabled","ngModelChange","click","keydown.enter","keydown.esc"]],template:function(M,ee){1&M&&(m.TgZ(0,"input",0),m.NdJ("ngModelChange",function(We){return ee.cell.newValue=We})("click",function(We){return ee.onClick.emit(We)})("keydown.enter",function(We){return ee.onEdited.emit(We)})("keydown.esc",function(){return ee.onStopEditing.emit()}),m.qZA()),2&M&&m.Q6J("ngClass",ee.inputClass)("ngModel",ee.cell.newValue)("name",ee.cell.getId())("placeholder",ee.cell.getTitle())("disabled",!ee.cell.isEditable())},directives:[he.Fj,B.mk,he.JJ,he.On],styles:[ts]}),K})(),fl=(()=>{class K extends fa{constructor(){super()}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["select-editor"]],features:[m.qOj],decls:2,vars:5,consts:[[1,"form-control",3,"ngClass","ngModel","name","disabled","ngModelChange","click","keydown.enter","keydown.esc"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(M,ee){if(1&M&&(m.TgZ(0,"select",0),m.NdJ("ngModelChange",function(We){return ee.cell.newValue=We})("click",function(We){return ee.onClick.emit(We)})("keydown.enter",function(We){return ee.onEdited.emit(We)})("keydown.esc",function(){return ee.onStopEditing.emit()}),m.YNc(1,da,2,3,"option",1),m.qZA()),2&M){let se;m.Q6J("ngClass",ee.inputClass)("ngModel",ee.cell.newValue)("name",ee.cell.getId())("disabled",!ee.cell.isEditable()),m.xp6(1),m.Q6J("ngForOf",null==(se=ee.cell.getColumn().getConfig())?null:se.list)}},directives:[he.EJ,B.mk,he.JJ,he.On,B.sg,he.YN,he.Kr],encapsulation:2}),K})(),pl=(()=>{class K extends fa{constructor(){super()}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["textarea-editor"]],features:[m.qOj],decls:2,vars:5,consts:[[1,"form-control",3,"ngClass","ngModel","name","disabled","placeholder","ngModelChange","click","keydown.enter","keydown.esc"]],template:function(M,ee){1&M&&(m.TgZ(0,"textarea",0),m.NdJ("ngModelChange",function(We){return ee.cell.newValue=We})("click",function(We){return ee.onClick.emit(We)})("keydown.enter",function(We){return ee.onEdited.emit(We)})("keydown.esc",function(){return ee.onStopEditing.emit()}),m._uU(1,"    "),m.qZA()),2&M&&m.Q6J("ngClass",ee.inputClass)("ngModel",ee.cell.newValue)("name",ee.cell.getId())("disabled",!ee.cell.isEditable())("placeholder",ee.cell.getTitle())},directives:[he.Fj,B.mk,he.JJ,he.On],styles:[ts]}),K})(),me=(()=>{class K{constructor(M){this.resolver=M}ngOnInit(){this.cell&&!this.customComponent&&(this.createCustomComponent(),this.callOnComponentInit(),this.patchInstance())}ngOnDestroy(){this.customComponent&&this.customComponent.destroy()}createCustomComponent(){const M=this.resolver.resolveComponentFactory(this.cell.getColumn().renderComponent);this.customComponent=this.dynamicTarget.createComponent(M)}callOnComponentInit(){const M=this.cell.getColumn().getOnComponentInitFunction();M&&M(this.customComponent.instance)}patchInstance(){Object.assign(this.customComponent.instance,this.getPatch())}getPatch(){return{value:this.cell.getValue(),rowData:this.cell.getRow().getData()}}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(m._Vd))},K.\u0275cmp=m.Xpm({type:K,selectors:[["custom-view-component"]],viewQuery:function(M,ee){if(1&M&&m.Gf(lo,7,m.s_b),2&M){let se;m.iGM(se=m.CRH())&&(ee.dynamicTarget=se.first)}},inputs:{cell:"cell"},decls:2,vars:0,consts:[["dynamicTarget",""]],template:function(M,ee){1&M&&m.YNc(0,Qs,0,0,"ng-template",null,0,m.W1O)},encapsulation:2}),K})(),I=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["table-cell-view-mode"]],inputs:{cell:"cell"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"cell",4,"ngSwitchCase"],[3,"innerHTML",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"cell"],[3,"innerHTML"]],template:function(M,ee){1&M&&(m.TgZ(0,"div",0),m.YNc(1,Js,1,1,"custom-view-component",1),m.YNc(2,za,1,1,"div",2),m.YNc(3,Mo,2,1,"div",3),m.qZA()),2&M&&(m.Q6J("ngSwitch",ee.cell.getColumn().type),m.xp6(1),m.Q6J("ngSwitchCase","custom"),m.xp6(1),m.Q6J("ngSwitchCase","html"))},directives:[B.RF,B.n9,B.ED,me],encapsulation:2,changeDetection:0}),K})(),Q=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[[B.ez,he.u5,Nr]]}),K})();class ke{constructor(){this.onChangedSource=new Ne.xQ,this.onAddedSource=new Ne.xQ,this.onUpdatedSource=new Ne.xQ,this.onRemovedSource=new Ne.xQ}refresh(){this.emitOnChanged("refresh")}load(T){return this.emitOnChanged("load"),Promise.resolve()}onChanged(){return this.onChangedSource.asObservable()}onAdded(){return this.onAddedSource.asObservable()}onUpdated(){return this.onUpdatedSource.asObservable()}onRemoved(){return this.onRemovedSource.asObservable()}prepend(T){return this.emitOnAdded(T),this.emitOnChanged("prepend"),Promise.resolve()}append(T){return this.emitOnAdded(T),this.emitOnChanged("append"),Promise.resolve()}add(T){return this.emitOnAdded(T),this.emitOnChanged("add"),Promise.resolve()}remove(T){return this.emitOnRemoved(T),this.emitOnChanged("remove"),Promise.resolve()}update(T,M){return this.emitOnUpdated(T),this.emitOnChanged("update"),Promise.resolve()}empty(){return this.emitOnChanged("empty"),Promise.resolve()}setSort(T,M){M&&this.emitOnChanged("sort")}setFilter(T,M,ee){ee&&this.emitOnChanged("filter")}addFilter(T,M,ee){ee&&this.emitOnChanged("filter")}setPaging(T,M,ee){ee&&this.emitOnChanged("paging")}setPage(T,M){M&&this.emitOnChanged("page")}emitOnRemoved(T){this.onRemovedSource.next(T)}emitOnUpdated(T){this.onUpdatedSource.next(T)}emitOnAdded(T){this.onAddedSource.next(T)}emitOnChanged(T){this.getElements().then(M=>this.onChangedSource.next({action:T,elements:M,paging:this.getPaging(),filter:this.getFilter(),sort:this.getSort()}))}}let Ue=(()=>{class K{constructor(){this.inputClass="",this.filter=new m.vpe,this.query=""}onFilter(M){this.source.addFilter({field:this.column.id,search:M,filter:this.column.getFilterFunction()})}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng-component"]],inputs:{inputClass:"inputClass",column:"column",source:"source"},outputs:{filter:"filter"},decls:0,vars:0,template:function(M,ee){},encapsulation:2}),K})(),ot=(()=>{class K extends Ue{constructor(){super(...arguments),this.query=""}ngOnChanges(M){M.source&&(M.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(ee=>{const se=this.source.getFilter();se&&se.filters&&0===se.filters.length?this.query="":se&&se.filters&&se.filters.length>0&&se.filters.forEach((We,$n)=>{We.field==this.column.id&&(this.query=We.search)})}))}}return K.\u0275fac=function(){let T;return function(ee){return(T||(T=m.n5z(K)))(ee||K)}}(),K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-smart-table-filter"]],features:[m.qOj,m.TTD],decls:1,vars:1,consts:[["class","ng2-smart-filter",3,"ngSwitch",4,"ngIf"],[1,"ng2-smart-filter",3,"ngSwitch"],[3,"query","column","source","inputClass","filter",4,"ngSwitchCase"],[3,"query","column","source","inputClass","filter",4,"ngSwitchDefault"],[3,"query","column","source","inputClass","filter"]],template:function(M,ee){1&M&&m.YNc(0,Bs,3,2,"div",0),2&M&&m.Q6J("ngIf",ee.column.isFilterable)},directives:function(){return[B.O5,B.RF,B.n9,B.ED,Nt,gt]},styles:["[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     input, [_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     select{font-weight:400;line-height:normal;padding:.375em .75em;width:100%}[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     input[type=search]{box-sizing:inherit}[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     .completer-dropdown-holder, [_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     a{font-weight:400}"]}),K})(),gt=(()=>{class K extends Ue{}return K.\u0275fac=function(){let T;return function(ee){return(T||(T=m.n5z(K)))(ee||K)}}(),K.\u0275cmp=m.Xpm({type:K,selectors:[["default-table-filter"]],inputs:{query:"query"},features:[m.qOj],decls:5,vars:4,consts:[[3,"ngSwitch"],[3,"query","ngClass","column","filter",4,"ngSwitchCase"],[3,"query","ngClass","column","filter",4,"ngSwitchDefault"],[3,"query","ngClass","column","filter"]],template:function(M,ee){1&M&&(m.ynx(0,0),m.YNc(1,Qa,1,3,"select-filter",1),m.YNc(2,cl,1,3,"checkbox-filter",1),m.YNc(3,$r,1,3,"completer-filter",1),m.YNc(4,ea,1,3,"input-filter",2),m.BQk()),2&M&&(m.Q6J("ngSwitch",ee.column.getFilterType()),m.xp6(1),m.Q6J("ngSwitchCase","list"),m.xp6(1),m.Q6J("ngSwitchCase","checkbox"),m.xp6(1),m.Q6J("ngSwitchCase","completer"))},directives:function(){return[B.RF,B.n9,B.ED,Lt,B.mk,xn,wn,ft]},encapsulation:2}),K})(),Nt=(()=>{class K extends Ue{constructor(M){super(),this.resolver=M}ngOnChanges(M){if(this.column&&!this.customComponent){const ee=this.resolver.resolveComponentFactory(this.column.filter.component);this.customComponent=this.dynamicTarget.createComponent(ee),this.customComponent.instance.query=this.query,this.customComponent.instance.column=this.column,this.customComponent.instance.source=this.source,this.customComponent.instance.inputClass=this.inputClass,this.customComponent.instance.filter.subscribe(se=>this.onFilter(se))}this.customComponent&&this.customComponent.instance.ngOnChanges(M)}ngOnDestroy(){this.customComponent&&this.customComponent.destroy()}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(m._Vd))},K.\u0275cmp=m.Xpm({type:K,selectors:[["custom-table-filter"]],viewQuery:function(M,ee){if(1&M&&m.Gf(lo,7,m.s_b),2&M){let se;m.iGM(se=m.CRH())&&(ee.dynamicTarget=se.first)}},inputs:{query:"query"},features:[m.qOj,m.TTD],decls:2,vars:0,consts:[["dynamicTarget",""]],template:function(M,ee){1&M&&m.YNc(0,ta,0,0,"ng-template",null,0,m.W1O)},encapsulation:2}),K})(),Zt=(()=>{class K{constructor(){this.delay=300,this.filter=new m.vpe}ngOnDestroy(){this.changesSubscription&&this.changesSubscription.unsubscribe()}setFilter(){this.filter.emit(this.query)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng-component"]],inputs:{query:"query",inputClass:"inputClass",column:"column"},outputs:{filter:"filter"},decls:0,vars:0,template:function(M,ee){},encapsulation:2}),K})(),xn=(()=>{class K extends Zt{constructor(){super(),this.filterActive=!1,this.inputControl=new he.NI}ngOnInit(){this.changesSubscription=this.inputControl.valueChanges.pipe((0,Ho.b)(this.delay)).subscribe(M=>{this.filterActive=!0;const ee=this.column.getFilterConfig()&&this.column.getFilterConfig().true||!0,se=this.column.getFilterConfig()&&this.column.getFilterConfig().false||!1;this.query=M?ee:se,this.setFilter()})}resetFilter(M){M.preventDefault(),this.query="",this.inputControl.setValue(!1,{emitEvent:!1}),this.filterActive=!1,this.setFilter()}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["checkbox-filter"]],features:[m.qOj],decls:2,vars:3,consts:[["type","checkbox",1,"form-control",3,"formControl","ngClass"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(M,ee){1&M&&(m._UZ(0,"input",0),m.YNc(1,js,2,1,"a",1)),2&M&&(m.Q6J("formControl",ee.inputControl)("ngClass",ee.inputClass),m.xp6(1),m.Q6J("ngIf",ee.filterActive))},directives:[he.Wl,he.JJ,he.oH,B.mk,B.O5],encapsulation:2}),K})(),wn=(()=>{class K extends Zt{constructor(M){super(),this.completerService=M,this.completerContent=new Ne.xQ}ngOnInit(){const M=this.column.getFilterConfig().completer;M.dataService=this.completerService.local(M.data,M.searchFields,M.titleField),M.dataService.descriptionField(M.descriptionField),this.changesSubscription=this.completerContent.pipe((0,_e.U)(ee=>ee&&ee.title||ee||""),(0,es.x)(),(0,Ho.b)(this.delay)).subscribe(ee=>{this.query=ee,this.setFilter()})}inputTextChanged(M){""===M&&this.completerContent.next(M)}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(kn))},K.\u0275cmp=m.Xpm({type:K,selectors:[["completer-filter"]],features:[m.qOj],decls:1,vars:5,consts:[[3,"ngModel","dataService","minSearchLength","pause","placeholder","ngModelChange","selected"]],template:function(M,ee){1&M&&(m.TgZ(0,"ng2-completer",0),m.NdJ("ngModelChange",function(We){return ee.query=We})("ngModelChange",function(We){return ee.inputTextChanged(We)})("selected",function(We){return ee.completerContent.next(We)}),m.qZA()),2&M&&m.Q6J("ngModel",ee.query)("dataService",ee.column.getFilterConfig().completer.dataService)("minSearchLength",ee.column.getFilterConfig().completer.minSearchLength||0)("pause",ee.column.getFilterConfig().completer.pause||0)("placeholder",ee.column.getFilterConfig().completer.placeholder||"Start typing...")},directives:[Jn,he.JJ,he.On],encapsulation:2}),K})(),ft=(()=>{class K extends Zt{constructor(){super(),this.inputControl=new he.NI}ngOnInit(){this.query&&this.inputControl.setValue(this.query),this.inputControl.valueChanges.pipe((0,es.x)(),(0,Ho.b)(this.delay)).subscribe(M=>{this.query=this.inputControl.value,this.setFilter()})}ngOnChanges(M){M.query&&this.inputControl.setValue(this.query)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["input-filter"]],features:[m.qOj,m.TTD],decls:1,vars:3,consts:[["type","text",1,"form-control",3,"ngClass","formControl","placeholder"]],template:function(M,ee){1&M&&m._UZ(0,"input",0),2&M&&(m.s9C("placeholder",ee.column.title),m.Q6J("ngClass",ee.inputClass)("formControl",ee.inputControl))},directives:[he.Fj,B.mk,he.JJ,he.oH],encapsulation:2}),K})(),Lt=(()=>{class K extends Zt{constructor(){super()}ngOnInit(){this.inputControl.valueChanges.pipe(T=>T.lift(new No(1)),(0,es.x)(),(0,Ho.b)(this.delay)).subscribe(M=>this.setFilter())}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["select-filter"]],viewQuery:function(M,ee){if(1&M&&m.Gf(Ji,7,he.a5),2&M){let se;m.iGM(se=m.CRH())&&(ee.inputControl=se.first)}},features:[m.qOj],decls:5,vars:4,consts:[[1,"form-control",3,"ngClass","ngModel","ngModelChange"],["inputControl",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(M,ee){1&M&&(m.TgZ(0,"select",0,1),m.NdJ("ngModelChange",function(We){return ee.query=We}),m.TgZ(2,"option",2),m._uU(3),m.qZA(),m.YNc(4,Es,2,2,"option",3),m.qZA()),2&M&&(m.Q6J("ngClass",ee.inputClass)("ngModel",ee.query),m.xp6(3),m.Oqu(ee.column.getFilterConfig().selectText),m.xp6(1),m.Q6J("ngForOf",ee.column.getFilterConfig().list))},directives:[he.EJ,B.mk,he.JJ,he.On,he.YN,he.Kr,B.sg],encapsulation:2}),K})(),en=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[[B.ez,he.u5,he.UX,Nr]]}),K})(),gn=(()=>{class K{constructor(){this.perPageSelect=[],this.changePage=new m.vpe,this.count=0}ngOnChanges(M){M.source&&(M.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(ee=>{this.page=this.source.getPaging().page,this.perPage=this.source.getPaging().perPage,this.currentPerPage=this.perPage,this.count=this.source.count(),this.isPageOutOfBounce()&&this.source.setPage(--this.page),this.processPageChange(ee),this.initPages()}))}processPageChange(M){"prepend"===M.action&&this.source.setPage(1),"append"===M.action&&this.source.setPage(this.getLast())}shouldShow(){return this.source.count()>this.perPage}paginate(M){return this.source.setPage(M),this.page=M,this.changePage.emit({page:M}),!1}next(){return this.paginate(this.getPage()+1)}prev(){return this.paginate(this.getPage()-1)}getPage(){return this.page}getPages(){return this.pages}getLast(){return Math.ceil(this.count/this.perPage)}isPageOutOfBounce(){return this.page*this.perPage>=this.count+this.perPage&&this.page>1}initPages(){const M=this.getLast();let ee=4;if(ee=M<ee?M:ee,this.pages=[],this.shouldShow()){let se=Math.ceil(ee/2);se=this.page>=se?this.page:se;let We=se+Math.floor(ee/2);We=We>=M?M:We;for(let ir=We-ee+1;ir<=We;ir++)this.pages.push(ir)}}onChangePerPage(M){this.currentPerPage&&("string"==typeof this.currentPerPage&&"all"===this.currentPerPage.toLowerCase()?this.source.getPaging().perPage=null:(this.source.getPaging().perPage=1*this.currentPerPage,this.source.refresh()),this.initPages())}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-smart-table-pager"]],inputs:{perPageSelect:"perPageSelect",source:"source"},outputs:{changePage:"changePage"},features:[m.TTD],decls:2,vars:2,consts:[["class","ng2-smart-pagination-nav",4,"ngIf"],["class","ng2-smart-pagination-per-page",4,"ngIf"],[1,"ng2-smart-pagination-nav"],[1,"ng2-smart-pagination","pagination"],[1,"ng2-smart-page-item","page-item",3,"ngClass"],["href","#","aria-label","First",1,"ng2-smart-page-link","page-link",3,"click"],["aria-hidden","true"],[1,"sr-only"],["href","#","aria-label","Prev",1,"ng2-smart-page-link","page-link","page-link-prev",3,"click"],["class","ng2-smart-page-item page-item",3,"ngClass",4,"ngFor","ngForOf"],["href","#","aria-label","Next",1,"ng2-smart-page-link","page-link","page-link-next",3,"click"],["href","#","aria-label","Last",1,"ng2-smart-page-link","page-link",3,"click"],["class","ng2-smart-page-link page-link",4,"ngIf"],["class","ng2-smart-page-link page-link","href","#",3,"click",4,"ngIf"],[1,"ng2-smart-page-link","page-link"],["href","#",1,"ng2-smart-page-link","page-link",3,"click"],[1,"ng2-smart-pagination-per-page"],["for","per-page"],["id","per-page",3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(M,ee){1&M&&(m.YNc(0,go,27,13,"nav",0),m.YNc(1,Ms,5,2,"nav",1)),2&M&&(m.Q6J("ngIf",ee.shouldShow()),m.xp6(1),m.Q6J("ngIf",ee.perPageSelect&&ee.perPageSelect.length>0))},directives:[B.O5,B.mk,B.sg,he.EJ,he.JJ,he.On,he.YN,he.Kr],styles:[".ng2-smart-pagination[_ngcontent-%COMP%]{display:inline-flex;font-size:.875em;padding:0}.ng2-smart-pagination[_ngcontent-%COMP%]   .sr-only[_ngcontent-%COMP%]{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.ng2-smart-pagination[_ngcontent-%COMP%]   .ng2-smart-page-item[_ngcontent-%COMP%]{display:inline}.ng2-smart-pagination[_ngcontent-%COMP%]   .page-link-next[_ngcontent-%COMP%], .ng2-smart-pagination[_ngcontent-%COMP%]   .page-link-prev[_ngcontent-%COMP%]{font-size:10px}[_nghost-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   select[_ngcontent-%COMP%]{margin:1rem 0 1rem 1rem}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{line-height:2.5rem}"]}),K})(),bi=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[[B.ez,he.u5]]}),K})(),wi=(()=>{class K{constructor(){this.save=new m.vpe,this.cancel=new m.vpe,this.edit=new m.vpe,this.delete=new m.vpe,this.custom=new m.vpe,this.edited=new m.vpe,this.userSelectRow=new m.vpe,this.editRowSelect=new m.vpe,this.multipleSelectRow=new m.vpe,this.rowHover=new m.vpe}get tableColumnsCount(){const M=this.isActionAdd||this.isActionEdit||this.isActionDelete?1:0;return this.grid.getColumns().length+M}ngOnChanges(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.mode=this.grid.getSetting("mode"),this.editInputClass=this.grid.getSetting("edit.inputClass"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.isActionAdd=this.grid.getSetting("actions.add"),this.isActionEdit=this.grid.getSetting("actions.edit"),this.isActionDelete=this.grid.getSetting("actions.delete"),this.noDataMessage=this.grid.getSetting("noDataMessage")}getVisibleCells(M){return(M||[]).filter(ee=>!ee.getColumn().hide)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-tbody",""]],inputs:{grid:"grid",source:"source",deleteConfirm:"deleteConfirm",editConfirm:"editConfirm",rowClassFunction:"rowClassFunction"},outputs:{save:"save",cancel:"cancel",edit:"edit",delete:"delete",custom:"custom",edited:"edited",userSelectRow:"userSelectRow",editRowSelect:"editRowSelect",multipleSelectRow:"multipleSelectRow",rowHover:"rowHover"},features:[m.TTD],attrs:Fo,decls:2,vars:2,consts:[["class","ng2-smart-row",3,"className","ngClass","click","mouseover",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ng2-smart-row",3,"className","ngClass","click","mouseover"],["class","ng2-smart-actions ng2-smart-action-multiple-select",3,"click",4,"ngIf"],["class","ng2-smart-actions",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"ng2-smart-actions","ng2-smart-action-multiple-select",3,"click"],["type","checkbox",1,"form-control",3,"ngModel"],[1,"ng2-smart-actions"],[3,"grid","row","source","custom"],[3,"grid","deleteConfirm","editConfirm","row","source","edit","delete","editRowSelect"],[3,"grid","row","editConfirm"],[3,"cell","grid","row","isNew","mode","editConfirm","inputClass","isInEditing"]],template:function(M,ee){1&M&&(m.YNc(0,ne,7,10,"tr",0),m.YNc(1,Be,3,2,"tr",1)),2&M&&(m.Q6J("ngForOf",ee.grid.getRows()),m.xp6(1),m.Q6J("ngIf",0==ee.grid.getRows().length))},directives:function(){return[B.sg,B.O5,B.mk,he.Wl,he.JJ,he.On,Hs,Do,Ci,wa]},styles:["[_nghost-%COMP%]   .ng2-smart-row.selected[_ngcontent-%COMP%]{background:rgba(0,0,0,.05)}[_nghost-%COMP%]   .ng2-smart-row[_ngcontent-%COMP%]   .ng2-smart-actions.ng2-smart-action-multiple-select[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]     ng2-st-tbody-create-cancel a:first-child, [_nghost-%COMP%]     ng2-st-tbody-edit-delete a:first-child{margin-right:.25rem}"]}),K})(),Ci=(()=>{class K{onSave(M){M.preventDefault(),M.stopPropagation(),this.grid.save(this.row,this.editConfirm)}onCancelEdit(M){M.preventDefault(),M.stopPropagation(),this.row.isInEditing=!1}ngOnChanges(){this.saveButtonContent=this.grid.getSetting("edit.saveButtonContent"),this.cancelButtonContent=this.grid.getSetting("edit.cancelButtonContent")}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-st-tbody-create-cancel"]],inputs:{grid:"grid",row:"row",editConfirm:"editConfirm"},features:[m.TTD],decls:2,vars:2,consts:[["href","#",1,"ng2-smart-action","ng2-smart-action-edit-save",3,"innerHTML","click"],["href","#",1,"ng2-smart-action","ng2-smart-action-edit-cancel",3,"innerHTML","click"]],template:function(M,ee){1&M&&(m.TgZ(0,"a",0),m.NdJ("click",function(We){return ee.onSave(We)}),m.qZA(),m.TgZ(1,"a",1),m.NdJ("click",function(We){return ee.onCancelEdit(We)}),m.qZA()),2&M&&(m.Q6J("innerHTML",ee.saveButtonContent,m.oJD),m.xp6(1),m.Q6J("innerHTML",ee.cancelButtonContent,m.oJD))},encapsulation:2}),K})(),Do=(()=>{class K{constructor(){this.edit=new m.vpe,this.delete=new m.vpe,this.editRowSelect=new m.vpe}onEdit(M){M.preventDefault(),M.stopPropagation(),this.editRowSelect.emit(this.row),"external"===this.grid.getSetting("mode")?this.edit.emit({data:this.row.getData(),source:this.source}):this.grid.edit(this.row)}onDelete(M){M.preventDefault(),M.stopPropagation(),"external"===this.grid.getSetting("mode")?this.delete.emit({data:this.row.getData(),source:this.source}):this.grid.delete(this.row,this.deleteConfirm)}ngOnChanges(){this.isActionEdit=this.grid.getSetting("actions.edit"),this.isActionDelete=this.grid.getSetting("actions.delete"),this.editRowButtonContent=this.grid.getSetting("edit.editButtonContent"),this.deleteRowButtonContent=this.grid.getSetting("delete.deleteButtonContent")}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-st-tbody-edit-delete"]],inputs:{grid:"grid",row:"row",source:"source",deleteConfirm:"deleteConfirm",editConfirm:"editConfirm"},outputs:{edit:"edit",delete:"delete",editRowSelect:"editRowSelect"},features:[m.TTD],decls:2,vars:2,consts:[["href","#","class","ng2-smart-action ng2-smart-action-edit-edit",3,"innerHTML","click",4,"ngIf"],["href","#","class","ng2-smart-action ng2-smart-action-delete-delete",3,"innerHTML","click",4,"ngIf"],["href","#",1,"ng2-smart-action","ng2-smart-action-edit-edit",3,"innerHTML","click"],["href","#",1,"ng2-smart-action","ng2-smart-action-delete-delete",3,"innerHTML","click"]],template:function(M,ee){1&M&&(m.YNc(0,it,1,1,"a",0),m.YNc(1,V,1,1,"a",1)),2&M&&(m.Q6J("ngIf",ee.isActionEdit),m.xp6(1),m.Q6J("ngIf",ee.isActionDelete))},directives:[B.O5],encapsulation:2,changeDetection:0}),K})(),Hs=(()=>{class K{constructor(){this.custom=new m.vpe}onCustom(M,ee){ee.preventDefault(),ee.stopPropagation(),this.custom.emit({action:M.name,data:this.row.getData(),source:this.source})}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-st-tbody-custom"]],inputs:{grid:"grid",row:"row",source:"source"},outputs:{custom:"custom"},decls:1,vars:1,consts:[["href","#","class","ng2-smart-action ng2-smart-action-custom-custom",3,"innerHTML","click",4,"ngFor","ngForOf"],["href","#",1,"ng2-smart-action","ng2-smart-action-custom-custom",3,"innerHTML","click"]],template:function(M,ee){1&M&&m.YNc(0,le,1,1,"a",0),2&M&&m.Q6J("ngForOf",ee.grid.getSetting("actions.custom"))},directives:[B.sg],encapsulation:2,changeDetection:0}),K})(),eo=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[[B.ez,he.u5,Q]]}),K})(),ws=(()=>{class K{constructor(){this.sort=new m.vpe,this.selectAllRows=new m.vpe,this.create=new m.vpe,this.filter=new m.vpe}ngOnChanges(){this.isHideHeader=this.grid.getSetting("hideHeader"),this.isHideSubHeader=this.grid.getSetting("hideSubHeader")}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-thead",""]],inputs:{grid:"grid",source:"source",isAllSelected:"isAllSelected",createConfirm:"createConfirm"},outputs:{sort:"sort",selectAllRows:"selectAllRows",create:"create",filter:"filter"},features:[m.TTD],attrs:W,decls:3,vars:3,consts:[["ng2-st-thead-titles-row","","class","ng2-smart-titles",3,"grid","isAllSelected","source","sort","selectAllRows",4,"ngIf"],["ng2-st-thead-filters-row","","class","ng2-smart-filters",3,"grid","source","create","filter",4,"ngIf"],["ng2-st-thead-form-row","",3,"grid","createConfirm",4,"ngIf"],["ng2-st-thead-titles-row","",1,"ng2-smart-titles",3,"grid","isAllSelected","source","sort","selectAllRows"],["ng2-st-thead-filters-row","",1,"ng2-smart-filters",3,"grid","source","create","filter"],["ng2-st-thead-form-row","",3,"grid","createConfirm"]],template:function(M,ee){1&M&&(m.YNc(0,ve,1,3,"tr",0),m.YNc(1,Ze,1,2,"tr",1),m.YNc(2,z,1,2,"tr",2)),2&M&&(m.Q6J("ngIf",!ee.isHideHeader),m.xp6(1),m.Q6J("ngIf",!ee.isHideSubHeader),m.xp6(1),m.Q6J("ngIf",ee.grid.createFormShown))},directives:function(){return[B.O5,Xn,Fr,Ln]},encapsulation:2}),K})(),ui=(()=>{class K{constructor(){this.create=new m.vpe}ngOnChanges(){this.createButtonContent=this.grid.getSetting("add.createButtonContent"),this.cancelButtonContent=this.grid.getSetting("add.cancelButtonContent")}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-st-actions"]],inputs:{grid:"grid"},outputs:{create:"create"},features:[m.TTD],decls:2,vars:2,consts:[["href","#",1,"ng2-smart-action","ng2-smart-action-add-create",3,"innerHTML","click"],["href","#",1,"ng2-smart-action","ng2-smart-action-add-cancel",3,"innerHTML","click"]],template:function(M,ee){1&M&&(m.TgZ(0,"a",0),m.NdJ("click",function(We){return We.preventDefault(),ee.create.emit(We)}),m.qZA(),m.TgZ(1,"a",1),m.NdJ("click",function(We){return We.preventDefault(),ee.grid.createFormShown=!1}),m.qZA()),2&M&&(m.Q6J("innerHTML",ee.createButtonContent,m.oJD),m.xp6(1),m.Q6J("innerHTML",ee.cancelButtonContent,m.oJD))},encapsulation:2}),K})(),Cs=(()=>{class K{constructor(M){this.ref=M}ngAfterViewInit(){this.ref.nativeElement.classList.add("ng2-smart-actions")}ngOnChanges(){this.actionsColumnTitle=this.grid.getSetting("actions.columnTitle")}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(m.SBq))},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-actions-title",""]],inputs:{grid:"grid"},features:[m.TTD],attrs:G,decls:2,vars:1,consts:[[1,"ng2-smart-title"]],template:function(M,ee){1&M&&(m.TgZ(0,"div",0),m._uU(1),m.qZA()),2&M&&(m.xp6(1),m.Oqu(ee.actionsColumnTitle))},encapsulation:2}),K})(),qi=(()=>{class K{constructor(M){this.ref=M,this.create=new m.vpe}ngAfterViewInit(){this.ref.nativeElement.classList.add("ng2-smart-actions-title","ng2-smart-actions-title-add")}ngOnChanges(){this.isActionAdd=this.grid.getSetting("actions.add"),this.addNewButtonContent=this.grid.getSetting("add.addButtonContent")}onAdd(M){M.preventDefault(),M.stopPropagation(),"external"===this.grid.getSetting("mode")?this.create.emit({source:this.source}):this.grid.createFormShown=!0}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(m.SBq))},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-add-button",""]],inputs:{grid:"grid",source:"source"},outputs:{create:"create"},features:[m.TTD],attrs:$,decls:1,vars:1,consts:[["href","#","class","ng2-smart-action ng2-smart-action-add-add",3,"innerHTML","click",4,"ngIf"],["href","#",1,"ng2-smart-action","ng2-smart-action-add-add",3,"innerHTML","click"]],template:function(M,ee){1&M&&m.YNc(0,Ce,1,1,"a",0),2&M&&m.Q6J("ngIf",ee.isActionAdd)},directives:[B.O5],encapsulation:2}),K})(),Li=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-checkbox-select-all",""]],inputs:{grid:"grid",source:"source",isAllSelected:"isAllSelected"},attrs:xt,decls:1,vars:1,consts:[["type","checkbox",3,"ngModel"]],template:function(M,ee){1&M&&m._UZ(0,"input",0),2&M&&m.Q6J("ngModel",ee.isAllSelected)},directives:[he.Wl,he.JJ,he.On],encapsulation:2}),K})(),Zo=(()=>{class K{constructor(){this.sort=new m.vpe}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-st-column-title"]],inputs:{column:"column",source:"source"},outputs:{sort:"sort"},decls:2,vars:2,consts:[[1,"ng2-smart-title"],[3,"source","column","sort"]],template:function(M,ee){1&M&&(m.TgZ(0,"div",0),m.TgZ(1,"ng2-smart-table-title",1),m.NdJ("sort",function(We){return ee.sort.emit(We)}),m.qZA(),m.qZA()),2&M&&(m.xp6(1),m.Q6J("source",ee.source)("column",ee.column))},directives:function(){return[pa]},encapsulation:2}),K})(),pa=(()=>{class K{constructor(){this.currentDirection="",this.sort=new m.vpe}ngOnChanges(M){M.source&&(M.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(ee=>{const se=this.source.getSort();this.currentDirection=se.length>0&&se[0].field===this.column.id?se[0].direction:"",se.forEach(We=>{})}))}_sort(M){M.preventDefault(),this.changeSortDirection(),this.source.setSort([{field:this.column.id,direction:this.currentDirection,compare:this.column.getCompareFunction()}]),this.sort.emit(null)}changeSortDirection(){return this.currentDirection=this.currentDirection?"asc"===this.currentDirection?"desc":"asc":this.column.sortDirection,this.currentDirection}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-smart-table-title"]],inputs:{column:"column",source:"source"},outputs:{sort:"sort"},features:[m.TTD],decls:2,vars:2,consts:[["href","#","class","ng2-smart-sort-link sort",3,"ngClass","click",4,"ngIf"],["class","ng2-smart-sort",4,"ngIf"],["href","#",1,"ng2-smart-sort-link","sort",3,"ngClass","click"],[1,"ng2-smart-sort"]],template:function(M,ee){1&M&&(m.YNc(0,nn,2,2,"a",0),m.YNc(1,_n,2,1,"span",1)),2&M&&(m.Q6J("ngIf",ee.column.isSortable),m.xp6(1),m.Q6J("ngIf",!ee.column.isSortable))},directives:[B.O5,B.mk],styles:['a.sort.asc[_ngcontent-%COMP%], a.sort.desc[_ngcontent-%COMP%]{font-weight:700}a.sort.asc[_ngcontent-%COMP%]:after, a.sort.desc[_ngcontent-%COMP%]:after{border:4px solid transparent;border-bottom-color:rgba(0,0,0,.3);content:"";display:inline-block;height:0;margin-bottom:2px;width:0}a.sort.desc[_ngcontent-%COMP%]:after{margin-bottom:-2px;transform:rotate(-180deg)}']}),K})(),Fr=(()=>{class K{constructor(){this.create=new m.vpe,this.filter=new m.vpe}ngOnChanges(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.filterInputClass=this.grid.getSetting("filter.inputClass")}getVisibleColumns(M){return(M||[]).filter(ee=>!ee.hide)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-thead-filters-row",""]],inputs:{grid:"grid",source:"source"},outputs:{create:"create",filter:"filter"},features:[m.TTD],attrs:ni,decls:4,vars:4,consts:[[4,"ngIf"],["ng2-st-add-button","",3,"grid","create",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],["ng2-st-add-button","",3,"grid","source","create",4,"ngIf"],["ng2-st-add-button","",3,"grid","create"],[3,"source","column","inputClass","filter"],["ng2-st-add-button","",3,"grid","source","create"]],template:function(M,ee){1&M&&(m.YNc(0,li,1,0,"th",0),m.YNc(1,Fi,1,1,"th",1),m.YNc(2,yr,2,6,"th",2),m.YNc(3,uo,1,2,"th",3)),2&M&&(m.Q6J("ngIf",ee.isMultiSelectVisible),m.xp6(1),m.Q6J("ngIf",ee.showActionColumnLeft),m.xp6(1),m.Q6J("ngForOf",ee.getVisibleColumns(ee.grid.getColumns())),m.xp6(1),m.Q6J("ngIf",ee.showActionColumnRight))},directives:[B.O5,B.sg,qi,ot],encapsulation:2}),K})(),Ln=(()=>{class K{constructor(){this.create=new m.vpe}onCreate(M){M.stopPropagation(),this.grid.create(this.grid.getNewRow(),this.createConfirm)}ngOnChanges(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.addInputClass=this.grid.getSetting("add.inputClass")}getVisibleCells(M){return(M||[]).filter(ee=>!ee.getColumn().hide)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-thead-form-row",""]],inputs:{grid:"grid",row:"row",createConfirm:"createConfirm"},outputs:{create:"create"},features:[m.TTD],attrs:Sr,decls:4,vars:3,consts:[[4,"ngIf"],["class","ng2-smart-actions",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"ng2-smart-actions"],[3,"grid","create"],[3,"cell","grid","isNew","createConfirm","inputClass","isInEditing","edited"]],template:function(M,ee){1&M&&(m.YNc(0,ho,1,0,"td",0),m.YNc(1,ys,2,1,"td",1),m.YNc(2,ri,2,6,"td",2),m.YNc(3,mo,2,1,"td",1)),2&M&&(m.xp6(1),m.Q6J("ngIf",ee.showActionColumnLeft),m.xp6(1),m.Q6J("ngForOf",ee.getVisibleCells(ee.grid.getNewRow().getCells())),m.xp6(1),m.Q6J("ngIf",ee.showActionColumnRight))},directives:[B.O5,B.sg,ui,wa],encapsulation:2}),K})(),Xn=(()=>{class K{constructor(){this.sort=new m.vpe,this.selectAllRows=new m.vpe}ngOnChanges(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right")}getVisibleColumns(M){return(M||[]).filter(ee=>!ee.hide)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-thead-titles-row",""]],inputs:{grid:"grid",isAllSelected:"isAllSelected",source:"source"},outputs:{sort:"sort",selectAllRows:"selectAllRows"},features:[m.TTD],attrs:Tl,decls:4,vars:4,consts:[["ng2-st-checkbox-select-all","",3,"grid","source","isAllSelected","click",4,"ngIf"],["ng2-st-actions-title","",3,"grid",4,"ngIf"],[3,"class","ngClass","width",4,"ngFor","ngForOf"],["ng2-st-checkbox-select-all","",3,"grid","source","isAllSelected","click"],["ng2-st-actions-title","",3,"grid"],[3,"ngClass"],[3,"source","column","sort"]],template:function(M,ee){1&M&&(m.YNc(0,nc,1,3,"th",0),m.YNc(1,Mc,1,1,"th",1),m.YNc(2,ql,2,8,"th",2),m.YNc(3,Sl,1,1,"th",1)),2&M&&(m.Q6J("ngIf",ee.isMultiSelectVisible),m.xp6(1),m.Q6J("ngIf",ee.showActionColumnLeft),m.xp6(1),m.Q6J("ngForOf",ee.getVisibleColumns(ee.grid.getColumns())),m.xp6(1),m.Q6J("ngIf",ee.showActionColumnRight))},directives:[B.O5,B.sg,Li,Cs,B.mk,Zo],encapsulation:2}),K})(),ii=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[[B.ez,he.u5,en,Q]]}),K})();function Zr(K,T,M){return T<M?-1*K:T>M?K:0}function ds(K,T){return K.toString().toLowerCase().includes(T.toString().toLowerCase())}class Yo{static filter(T,M,ee,se){const We=se||ds;return T.filter($n=>We.call(null,null==$n[M]?"":$n[M],ee))}}class is extends ke{constructor(T=[]){super(),this.data=[],this.filteredAndSorted=[],this.sortConf=[],this.filterConf={filters:[],andOperator:!0},this.pagingConf={},this.data=T}load(T){return this.data=T,super.load(T)}prepend(T){return this.reset(!0),this.data.unshift(T),super.prepend(T)}append(T){return this.reset(!0),this.data.push(T),super.append(T)}add(T){return this.data.push(T),super.add(T)}remove(T){return this.data=this.data.filter(M=>M!==T),super.remove(T)}update(T,M){return new Promise((ee,se)=>{this.find(T).then(We=>{We=Ti(We,M),super.update(We,M).then(ee).catch(se)}).catch(se)})}find(T){const M=this.data.find(ee=>ee===T);return M?Promise.resolve(M):Promise.reject(new Error("Element was not found in the dataset"))}getElements(){const T=this.data.slice(0);return Promise.resolve(this.prepareData(T))}getFilteredAndSorted(){let T=this.data.slice(0);return this.prepareData(T),Promise.resolve(this.filteredAndSorted)}getAll(){const T=this.data.slice(0);return Promise.resolve(T)}reset(T=!1){T?(this.filterConf={filters:[],andOperator:!0},this.sortConf=[],this.pagingConf.page=1):(this.setFilter([],!0,!1),this.setSort([],!1),this.setPage(1))}empty(){return this.data=[],super.empty()}count(){return this.filteredAndSorted.length}setSort(T,M=!0){return null!==T&&(T.forEach(ee=>{if(!ee.field||void 0===ee.direction)throw new Error("Sort configuration object is not valid")}),this.sortConf=T),super.setSort(T,M),this}setFilter(T,M=!0,ee=!0){return T&&T.length>0?T.forEach(se=>{this.addFilter(se,M,!1)}):this.filterConf={filters:[],andOperator:!0},this.filterConf.andOperator=M,this.pagingConf.page=1,super.setFilter(T,M,ee),this}addFilter(T,M=!0,ee=!0){if(!T.field||void 0===T.search)throw new Error("Filter configuration object is not valid");let se=!1;return this.filterConf.filters.forEach((We,$n)=>{We.field===T.field&&(this.filterConf.filters[$n]=T,se=!0)}),se||this.filterConf.filters.push(T),this.filterConf.andOperator=M,super.addFilter(T,M,ee),this}setPaging(T,M,ee=!0){return this.pagingConf.page=T,this.pagingConf.perPage=M,super.setPaging(T,M,ee),this}setPage(T,M=!0){return this.pagingConf.page=T,super.setPage(T,M),this}getSort(){return this.sortConf}getFilter(){return this.filterConf}getPaging(){return this.pagingConf}prepareData(T){return T=this.filter(T),T=this.sort(T),this.filteredAndSorted=T.slice(0),this.paginate(T)}sort(T){return this.sortConf&&this.sortConf.forEach(M=>{T=class{static sort(T,M,ee,se){const We="asc"===ee?1:-1,$n=se||Zr;return T.sort((ir,rn)=>$n.call(null,We,ir[M],rn[M]))}}.sort(T,M.field,M.direction,M.compare)}),T}filter(T){if(this.filterConf.filters)if(this.filterConf.andOperator)this.filterConf.filters.forEach(M=>{M.search.length>0&&(T=Yo.filter(T,M.field,M.search,M.filter))});else{let M=[];this.filterConf.filters.forEach(ee=>{ee.search.length>0&&(M=M.concat(Yo.filter(T,ee.field,ee.search,ee.filter)))}),T=M.filter((ee,se,We)=>We.indexOf(ee)===se)}return T}paginate(T){return this.pagingConf&&this.pagingConf.page&&this.pagingConf.perPage&&(T=class{static paginate(T,M,ee){return T.slice(ee*(M-1),ee*M)}}.paginate(T,this.pagingConf.page,this.pagingConf.perPage)),T}}let rs=(()=>{class K{constructor(){this.settings={},this.rowSelect=new m.vpe,this.rowDeselect=new m.vpe,this.userRowSelect=new m.vpe,this.delete=new m.vpe,this.edit=new m.vpe,this.create=new m.vpe,this.custom=new m.vpe,this.deleteConfirm=new m.vpe,this.editConfirm=new m.vpe,this.createConfirm=new m.vpe,this.rowHover=new m.vpe,this.defaultSettings={mode:"inline",selectMode:"single",selectedRowIndex:0,switchPageToSelectedRowPage:!1,hideHeader:!1,hideSubHeader:!1,actions:{columnTitle:"Actions",add:!0,edit:!0,delete:!0,custom:[],position:"left"},filter:{inputClass:""},edit:{inputClass:"",editButtonContent:"Edit",saveButtonContent:"Update",cancelButtonContent:"Cancel",confirmSave:!1},add:{inputClass:"",addButtonContent:"Add New",createButtonContent:"Create",cancelButtonContent:"Cancel",confirmCreate:!1},delete:{deleteButtonContent:"Delete",confirmDelete:!1},attr:{id:"",class:""},noDataMessage:"No data found",columns:{},pager:{display:!0,page:1,perPage:10},rowClassFunction:()=>""},this.isAllSelected=!1,this.destroyed$=new Ne.xQ}ngOnChanges(M){this.grid?(M.settings&&this.grid.setSettings(this.prepareSettings()),M.source&&(this.source=this.prepareSource(),this.grid.setSource(this.source))):this.initGrid(),this.tableId=this.grid.getSetting("attr.id"),this.tableClass=this.grid.getSetting("attr.class"),this.isHideHeader=this.grid.getSetting("hideHeader"),this.isHideSubHeader=this.grid.getSetting("hideSubHeader"),this.isPagerDisplay=this.grid.getSetting("pager.display"),this.isPagerDisplay=this.grid.getSetting("pager.display"),this.perPageSelect=this.grid.getSetting("pager.perPageSelect"),this.rowClassFunction=this.grid.getSetting("rowClassFunction")}ngOnDestroy(){this.destroyed$.next()}selectRow(M,ee=this.grid.getSetting("switchPageToSelectedRowPage")){if(!this.grid)return;if(this.grid.settings.selectedRowIndex=M,this.isIndexOutOfRange(M))return void this.deselectAllRows();if(ee){const We=this.source,$n=We.getPaging(),ir=Ra(M,$n.perPage);if(this.grid.settings.selectedRowIndex=M%=$n.perPage,ir!==$n.page)return void We.setPage(ir)}const se=this.grid.getRows()[M];se?this.onSelectRow(se):this.deselectAllRows()}deselectAllRows(){this.grid.dataSet.deselectAll(),this.emitDeselectRow(null)}editRowSelect(M){"multi"===this.grid.getSetting("selectMode")?this.onMultipleSelectRow(M):this.onSelectRow(M)}onUserSelectRow(M){"multi"!==this.grid.getSetting("selectMode")&&(this.grid.selectRow(M),this.emitUserSelectRow(M),this.emitSelectRow(M))}onRowHover(M){this.rowHover.emit(M)}multipleSelectRow(M){this.grid.multipleSelectRow(M),this.emitUserSelectRow(M),this.emitSelectRow(M)}onSelectAllRows(M){this.isAllSelected=!this.isAllSelected,this.grid.selectAllRows(this.isAllSelected),this.emitUserSelectRow(null),this.emitSelectRow(null)}onSelectRow(M){this.grid.selectRow(M),this.emitSelectRow(M)}onMultipleSelectRow(M){this.emitSelectRow(M)}initGrid(){this.source=this.prepareSource(),this.grid=new rc(this.source,this.prepareSettings()),this.subscribeToOnSelectRow(),this.subscribeToOnDeselectRow()}prepareSource(){return this.source instanceof ke?this.source:this.source instanceof Array?new is(this.source):new is}prepareSettings(){return Ti({},this.defaultSettings,this.settings)}changePage(M){this.resetAllSelector()}sort(M){this.resetAllSelector()}filter(M){this.resetAllSelector()}resetAllSelector(){this.isAllSelected=!1}emitUserSelectRow(M){const ee=this.grid.getSelectedRows();this.userRowSelect.emit({data:M?M.getData():null,isSelected:M?M.getIsSelected():null,source:this.source,selected:ee&&ee.length?ee.map(se=>se.getData()):[]})}emitSelectRow(M){const ee={data:M?M.getData():null,isSelected:M?M.getIsSelected():null,source:this.source};this.rowSelect.emit(ee),(null==M?void 0:M.isSelected)||this.rowDeselect.emit(ee)}emitDeselectRow(M){this.rowDeselect.emit({data:M?M.getData():null,isSelected:M?M.getIsSelected():null,source:this.source})}isIndexOutOfRange(M){var ee;const se=null===(ee=this.source)||void 0===ee?void 0:ee.count();return M<0||"number"==typeof se&&M>=se}subscribeToOnSelectRow(){this.onSelectRowSubscription&&this.onSelectRowSubscription.unsubscribe(),this.onSelectRowSubscription=this.grid.onSelectRow().pipe((0,qo.R)(this.destroyed$)).subscribe(M=>{this.emitSelectRow(M)})}subscribeToOnDeselectRow(){this.onDeselectRowSubscription&&this.onDeselectRowSubscription.unsubscribe(),this.onDeselectRowSubscription=this.grid.onDeselectRow().pipe((0,qo.R)(this.destroyed$)).subscribe(M=>{this.emitDeselectRow(M)})}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-smart-table"]],inputs:{settings:"settings",source:"source"},outputs:{rowSelect:"rowSelect",rowDeselect:"rowDeselect",userRowSelect:"userRowSelect",delete:"delete",edit:"edit",create:"create",custom:"custom",deleteConfirm:"deleteConfirm",editConfirm:"editConfirm",createConfirm:"createConfirm",rowHover:"rowHover"},features:[m.TTD],decls:4,vars:9,consts:[[3,"id","ngClass"],["ng2-st-thead","",3,"grid","isAllSelected","source","createConfirm","create","selectAllRows","sort","filter",4,"ngIf"],["ng2-st-tbody","",3,"grid","source","deleteConfirm","editConfirm","rowClassFunction","edit","delete","custom","userSelectRow","editRowSelect","multipleSelectRow","rowHover"],[3,"source","perPageSelect","changePage",4,"ngIf"],["ng2-st-thead","",3,"grid","isAllSelected","source","createConfirm","create","selectAllRows","sort","filter"],[3,"source","perPageSelect","changePage"]],template:function(M,ee){1&M&&(m.TgZ(0,"table",0),m.YNc(1,ic,1,4,"thead",1),m.TgZ(2,"tbody",2),m.NdJ("edit",function(We){return ee.edit.emit(We)})("delete",function(We){return ee.delete.emit(We)})("custom",function(We){return ee.custom.emit(We)})("userSelectRow",function(We){return ee.onUserSelectRow(We)})("editRowSelect",function(We){return ee.editRowSelect(We)})("multipleSelectRow",function(We){return ee.multipleSelectRow(We)})("rowHover",function(We){return ee.onRowHover(We)}),m.qZA(),m.qZA(),m.YNc(3,dn,1,2,"ng2-smart-table-pager",3)),2&M&&(m.Q6J("id",ee.tableId)("ngClass",ee.tableClass),m.xp6(1),m.Q6J("ngIf",!ee.isHideHeader||!ee.isHideSubHeader),m.xp6(1),m.Q6J("grid",ee.grid)("source",ee.source)("deleteConfirm",ee.deleteConfirm)("editConfirm",ee.editConfirm)("rowClassFunction",ee.rowClassFunction),m.xp6(1),m.Q6J("ngIf",ee.isPagerDisplay))},directives:[B.mk,B.O5,wi,ws,gn],styles:["[_nghost-%COMP%]{font-size:1rem}[_nghost-%COMP%]     *{box-sizing:border-box}[_nghost-%COMP%]     button, [_nghost-%COMP%]     input, [_nghost-%COMP%]     optgroup, [_nghost-%COMP%]     select, [_nghost-%COMP%]     textarea{color:inherit;font:inherit;margin:0}[_nghost-%COMP%]     table{border-collapse:collapse;border-spacing:0;display:table;line-height:1.5em;max-width:100%;overflow:auto;width:100%;word-break:normal;word-break:keep-all}[_nghost-%COMP%]     table tr th{font-weight:700}[_nghost-%COMP%]     table tr section{font-size:.75em;font-weight:700}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{font-size:.875em;margin:0;padding:.5em 1em}[_nghost-%COMP%]     a{color:#1e6bb8;text-decoration:none}[_nghost-%COMP%]     a:hover{text-decoration:underline}"]}),K})(),Ha=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[[B.ez,he.u5,he.UX,Q,en,bi,eo,ii]]}),K})()},8438:(Jt,vt,X)=>{"use strict";X.d(vt,{Ro:()=>de,ef:()=>Mt,t2:()=>$e});var m=X(9619),B=X(4099),he=X(3405),Ne=X(8735),ce=X(8805),U=X(9814),De=X(6019),Y=X(5427);const be=["overlay"];function fe(dt,Xt){1&dt&&m._UZ(0,"div")}function ge(dt,Xt){if(1&dt&&(m.TgZ(0,"div"),m.YNc(1,fe,1,0,"div",6),m.qZA()),2&dt){const qt=m.oxw(2);m.Tol(qt.spinner.class),m.Udp("color",qt.spinner.color),m.xp6(1),m.Q6J("ngForOf",qt.spinner.divArray)}}function _e(dt,Xt){if(1&dt&&(m._UZ(0,"div",7),m.ALo(1,"safeHtml")),2&dt){const qt=m.oxw(2);m.Q6J("innerHTML",m.lcZ(1,1,qt.template),m.oJD)}}function Te(dt,Xt){if(1&dt&&(m.TgZ(0,"div",1,2),m.YNc(2,ge,2,5,"div",3),m.YNc(3,_e,2,3,"div",4),m.TgZ(4,"div",5),m.Hsn(5),m.qZA(),m.qZA()),2&dt){const qt=m.oxw();m.Udp("background-color",qt.spinner.bdColor)("z-index",qt.spinner.zIndex)("position",qt.spinner.fullScreen?"fixed":"absolute"),m.Q6J("@.disabled",qt.disableAnimation)("@fadeIn","in"),m.xp6(2),m.Q6J("ngIf",!qt.template),m.xp6(1),m.Q6J("ngIf",qt.template),m.xp6(1),m.Udp("z-index",qt.spinner.zIndex)}}const we=["*"],Ve={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Se="primary";class ct{constructor(Xt){Object.assign(this,Xt)}}let $e=(()=>{class dt{constructor(){this.spinnerObservable=new B.X(null)}getSpinner(qt){return this.spinnerObservable.asObservable().pipe((0,Ne.h)(vn=>vn&&vn.name===qt))}show(qt=Se,vn){return new Promise((At,et)=>{setTimeout(()=>{vn&&Object.keys(vn).length?(vn.name=qt,this.spinnerObservable.next(new ct(Object.assign(Object.assign({},vn),{show:!0}))),At(!0)):(this.spinnerObservable.next(new ct({name:qt,show:!0})),At(!0))},10)})}hide(qt=Se,vn=10){return new Promise((At,et)=>{setTimeout(()=>{this.spinnerObservable.next(new ct({name:qt,show:!1})),At(!0)},vn)})}}return dt.\u0275fac=function(qt){return new(qt||dt)},dt.\u0275prov=(0,m.Yz7)({factory:function(){return new dt},token:dt,providedIn:"root"}),dt})(),de=(()=>{class dt{constructor(qt,vn){this.spinnerService=qt,this.changeDetector=vn,this.disableAnimation=!1,this.spinner=new ct,this.ngUnsubscribe=new he.xQ,this.setDefaultOptions=()=>{this.spinner=new ct({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.type="ball-scale-multiple",this.size="large",this.fullScreen=!0,this.name=Se,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(qt){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(qt.returnValue=!1,qt.preventDefault())}ngOnInit(){this.setDefaultOptions(),this.spinnerService.getSpinner(this.name).pipe((0,ce.R)(this.ngUnsubscribe)).subscribe(qt=>{this.setDefaultOptions(),Object.assign(this.spinner,qt),qt.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnChanges(qt){for(const vn in qt)if(vn){const At=qt[vn];if(At.isFirstChange())return;void 0!==At.currentValue&&At.currentValue!==At.previousValue&&""!==At.currentValue&&(this.spinner[vn]=At.currentValue,"showSpinner"===vn&&(At.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)))}}getClass(qt,vn){this.spinner.divCount=Ve[qt],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((et,Ke)=>Ke);let At="";switch(vn.toLowerCase()){case"small":At="la-sm";break;case"medium":At="la-2x";break;case"large":At="la-3x"}return"la-"+qt+" "+At}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return dt.\u0275fac=function(qt){return new(qt||dt)(m.Y36($e),m.Y36(m.sBO))},dt.\u0275cmp=m.Xpm({type:dt,selectors:[["ngx-spinner"]],viewQuery:function(qt,vn){if(1&qt&&m.Gf(be,5),2&qt){let At;m.iGM(At=m.CRH())&&(vn.spinnerDOM=At.first)}},hostBindings:function(qt,vn){1&qt&&m.NdJ("keydown",function(et){return vn.handleKeyboardEvent(et)},!1,m.evT)},inputs:{disableAnimation:"disableAnimation",bdColor:"bdColor",zIndex:"zIndex",color:"color",type:"type",size:"size",fullScreen:"fullScreen",name:"name",template:"template",showSpinner:"showSpinner"},features:[m.TTD],ngContentSelectors:we,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(qt,vn){1&qt&&(m.F$t(),m.YNc(0,Te,6,12,"div",0)),2&qt&&m.Q6J("ngIf",vn.spinner.show)},directives:function(){return[De.O5,De.sg]},pipes:function(){return[Oe]},styles:['.la-ball-8bits[_ngcontent-%COMP%], .la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-8bits[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-8bits.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-8bits[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:4px;height:4px;border-radius:0;opacity:0;transform:translate(100%,100%);-webkit-animation:ball-8bits 1s ease 0s infinite;animation:ball-8bits 1s ease 0s infinite}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.9375s;animation-delay:-.9375s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8125s;animation-delay:-.8125s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.6875s;animation-delay:-.6875s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.5625s;animation-delay:-.5625s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.4375s;animation-delay:-.4375s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){-webkit-animation-delay:-.3125s;animation-delay:-.3125s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(13){-webkit-animation-delay:-.1875s;animation-delay:-.1875s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(14){-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(15){-webkit-animation-delay:-.0625s;animation-delay:-.0625s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(16){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:-100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:-100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:-66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:-33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:0;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){top:100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){top:100%;left:-33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){top:66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){top:33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(13){top:0;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(14){top:-33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(15){top:-66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(16){top:-100%;left:-33.3333333333%}.la-ball-8bits.la-sm[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-8bits.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:2px}.la-ball-8bits.la-2x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-8bits.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-8bits.la-3x[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-8bits.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:12px}@-webkit-keyframes ball-8bits{0%{opacity:1}50%{opacity:1}51%{opacity:0}}@keyframes ball-8bits{0%{opacity:1}50%{opacity:1}51%{opacity:0}}.la-ball-atom[_ngcontent-%COMP%], .la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-atom[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-atom.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-atom[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;top:50%;left:50%;z-index:1;width:60%;height:60%;background:#aaa;border-radius:100%;transform:translate(-50%,-50%);-webkit-animation:ball-atom-shrink 4.5s linear infinite;animation:ball-atom-shrink 4.5s linear infinite}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){position:absolute;left:0;z-index:0;width:100%;height:100%;background:none;-webkit-animation:ball-atom-zindex 1.5s steps(2) 0s infinite;animation:ball-atom-zindex 1.5s steps(2) 0s infinite}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{position:absolute;top:0;left:0;width:10px;height:10px;margin-top:-5px;margin-left:-5px;content:"";background:currentColor;border-radius:50%;opacity:.75;-webkit-animation:ball-atom-position 1.5s ease 0s infinite,ball-atom-size 1.5s ease 0s infinite;animation:ball-atom-position 1.5s ease 0s infinite,ball-atom-size 1.5s ease 0s infinite}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.75s;animation-delay:.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{-webkit-animation-delay:0s,-1.125s;animation-delay:0s,-1.125s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(120deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{-webkit-animation-delay:-1s,-.75s;animation-delay:-1s,-.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(240deg);-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{-webkit-animation-delay:-.5s,-.125s;animation-delay:-.5s,-.125s}.la-ball-atom.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-atom.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-atom.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-atom.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-atom.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-atom.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-atom-position{50%{top:100%;left:100%}}@keyframes ball-atom-position{50%{top:100%;left:100%}}@-webkit-keyframes ball-atom-size{50%{transform:scale(.5)}}@keyframes ball-atom-size{50%{transform:scale(.5)}}@-webkit-keyframes ball-atom-zindex{50%{z-index:10}}@keyframes ball-atom-zindex{50%{z-index:10}}@-webkit-keyframes ball-atom-shrink{50%{transform:translate(-50%,-50%) scale(.8)}}@keyframes ball-atom-shrink{50%{transform:translate(-50%,-50%) scale(.8)}}.la-ball-beat[_ngcontent-%COMP%], .la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-beat[_ngcontent-%COMP%]{width:54px;height:18px}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:ball-beat .7s linear -.15s infinite;animation:ball-beat .7s linear -.15s infinite}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-beat.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-beat.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-beat.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-beat{50%{opacity:.2;transform:scale(.75)}to{opacity:1;transform:scale(1)}}@keyframes ball-beat{50%{opacity:.2;transform:scale(.75)}to{opacity:1;transform:scale(1)}}.la-ball-circus[_ngcontent-%COMP%], .la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-circus[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-circus.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-circus[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:-100%;display:block;width:16px;width:100%;height:16px;height:100%;border-radius:100%;opacity:.5;-webkit-animation:ball-circus-position 2.5s cubic-bezier(.25,0,.75,1) infinite,ball-circus-size 2.5s cubic-bezier(.25,0,.75,1) infinite;animation:ball-circus-position 2.5s cubic-bezier(.25,0,.75,1) infinite,ball-circus-size 2.5s cubic-bezier(.25,0,.75,1) infinite}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s,-.5s;animation-delay:0s,-.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.5s,-1s;animation-delay:-.5s,-1s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s,-1.5s;animation-delay:-1s,-1.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s,-2s;animation-delay:-1.5s,-2s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2s,-2.5s;animation-delay:-2s,-2.5s}.la-ball-circus.la-sm[_ngcontent-%COMP%], .la-ball-circus.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-circus.la-2x[_ngcontent-%COMP%], .la-ball-circus.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-circus.la-3x[_ngcontent-%COMP%], .la-ball-circus.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:48px;height:48px}@-webkit-keyframes ball-circus-position{50%{left:100%}}@keyframes ball-circus-position{50%{left:100%}}@-webkit-keyframes ball-circus-size{50%{transform:scale(.3)}}@keyframes ball-circus-size{50%{transform:scale(.3)}}.la-ball-climbing-dot[_ngcontent-%COMP%], .la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-climbing-dot[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-climbing-dot.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-climbing-dot[_ngcontent-%COMP%]{width:42px;height:32px}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;bottom:32%;left:18%;width:14px;height:14px;border-radius:100%;transform-origin:center bottom;-webkit-animation:ball-climbing-dot-jump .6s ease-in-out infinite;animation:ball-climbing-dot-jump .6s ease-in-out infinite}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){position:absolute;top:0;right:0;width:14px;height:2px;border-radius:0;transform:translate(60%);-webkit-animation:ball-climbing-dot-steps 1.8s linear infinite;animation:ball-climbing-dot-steps 1.8s linear infinite}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):nth-child(2){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):nth-child(3){-webkit-animation-delay:-.6s;animation-delay:-.6s}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:6px;height:6px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){width:6px;height:1px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%]{width:84px;height:64px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:28px;height:28px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){width:28px;height:4px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%]{width:126px;height:96px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:42px;height:42px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){width:42px;height:6px}@-webkit-keyframes ball-climbing-dot-jump{0%{transform:scaleY(.7)}20%{transform:scale(.7,1.2)}40%{transform:scale(1)}50%{bottom:125%}46%{transform:scale(1)}80%{transform:scale(.7,1.2)}90%{transform:scale(.7,1.2)}to{transform:scaleY(.7)}}@keyframes ball-climbing-dot-jump{0%{transform:scaleY(.7)}20%{transform:scale(.7,1.2)}40%{transform:scale(1)}50%{bottom:125%}46%{transform:scale(1)}80%{transform:scale(.7,1.2)}90%{transform:scale(.7,1.2)}to{transform:scaleY(.7)}}@-webkit-keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}to{top:100%;right:100%;opacity:0}}@keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}to{top:100%;right:100%;opacity:0}}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%], .la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-clip-rotate-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;background:transparent;border-style:solid;border-width:2px;border-radius:100%;-webkit-animation:ball-clip-rotate-multiple-rotate 1s ease-in-out infinite;animation:ball-clip-rotate-multiple-rotate 1s ease-in-out infinite}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;border-right-color:transparent;border-left-color:transparent}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;border-top-color:transparent;border-bottom-color:transparent;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-direction:reverse;animation-direction:reverse}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-multiple-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes ball-clip-rotate-multiple-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%], .la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-clip-rotate-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;border-radius:100%}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;background:transparent;border-bottom-style:solid;border-top-style:solid;border-bottom-width:2px;border-top-width:2px;border-right:2px solid transparent;border-left:2px solid transparent;-webkit-animation:ball-clip-rotate-pulse-rotate 1s cubic-bezier(.09,.57,.49,.9) infinite;animation:ball-clip-rotate-pulse-rotate 1s cubic-bezier(.09,.57,.49,.9) infinite}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;-webkit-animation:ball-clip-rotate-pulse-scale 1s cubic-bezier(.09,.57,.49,.9) infinite;animation:ball-clip-rotate-pulse-scale 1s cubic-bezier(.09,.57,.49,.9) infinite}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px;border-width:6px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-pulse-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes ball-clip-rotate-pulse-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@-webkit-keyframes ball-clip-rotate-pulse-scale{0%,to{opacity:1;transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;transform:translate(-50%,-50%) scale(.15)}}@keyframes ball-clip-rotate-pulse-scale{0%,to{opacity:1;transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;transform:translate(-50%,-50%) scale(.15)}}.la-ball-clip-rotate[_ngcontent-%COMP%], .la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-clip-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-clip-rotate[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px;background:transparent;border-width:2px;border-bottom-color:transparent;border-radius:100%;-webkit-animation:ball-clip-rotate .75s linear infinite;animation:ball-clip-rotate .75s linear infinite}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-clip-rotate{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}@keyframes ball-clip-rotate{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.la-ball-elastic-dots[_ngcontent-%COMP%], .la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-elastic-dots[_ngcontent-%COMP%]{display:block;color:#fff}.la-ball-elastic-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:none;background-color:currentColor;border:0 solid}.la-ball-elastic-dots[_ngcontent-%COMP%]{width:120px;height:10px;font-size:0;text-align:center}.la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;width:10px;height:10px;white-space:nowrap;border-radius:100%;-webkit-animation:ball-elastic-dots-anim 1s infinite;animation:ball-elastic-dots-anim 1s infinite}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%]{width:60px;height:4px}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%]{width:240px;height:20px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%]{width:360px;height:30px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-elastic-dots-anim{0%,to{margin:0;transform:scale(1)}50%{margin:0 5%;transform:scale(.65)}}@keyframes ball-elastic-dots-anim{0%,to{margin:0;transform:scale(1)}50%{margin:0 5%;transform:scale(.65)}}.la-ball-fall[_ngcontent-%COMP%], .la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fall[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-fall.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-fall[_ngcontent-%COMP%]{width:54px;height:18px}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:4px;border-radius:100%;opacity:0;-webkit-animation:ball-fall 1s ease-in-out infinite;animation:ball-fall 1s ease-in-out infinite}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-fall.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-fall.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-fall.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-fall.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-fall.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-fall.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-fall{0%{opacity:0;transform:translateY(-145%)}10%{opacity:.5}20%{opacity:1;transform:translateY(0)}80%{opacity:1;transform:translateY(0)}90%{opacity:.5}to{opacity:0;transform:translateY(145%)}}@keyframes ball-fall{0%{opacity:0;transform:translateY(-145%)}10%{opacity:.5}20%{opacity:1;transform:translateY(0)}80%{opacity:1;transform:translateY(0)}90%{opacity:.5}to{opacity:0;transform:translateY(145%)}}.la-ball-fussion[_ngcontent-%COMP%], .la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fussion[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-fussion.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-fussion[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;border-radius:100%;transform:translate(-50%,-50%);-webkit-animation:ball-fussion-ball1 1s ease 0s infinite;animation:ball-fussion-ball1 1s ease 0s infinite}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:0;left:50%;z-index:1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:50%;left:100%;z-index:2;-webkit-animation-name:ball-fussion-ball2;animation-name:ball-fussion-ball2}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:100%;left:50%;z-index:1;-webkit-animation-name:ball-fussion-ball3;animation-name:ball-fussion-ball3}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:0;z-index:2;-webkit-animation-name:ball-fussion-ball4;animation-name:ball-fussion-ball4}.la-ball-fussion.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-fussion.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-fussion.la-2x[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-fussion.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-ball-fussion.la-3x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-fussion.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}to{top:50%;left:100%;z-index:2;opacity:.35}}@keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}to{top:50%;left:100%;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}to{top:100%;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}to{top:100%;left:50%;z-index:1;opacity:.35}}@-webkit-keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}to{top:50%;left:0;z-index:2;opacity:.35}}@keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}to{top:50%;left:0;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}to{top:0;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}to{top:0;left:50%;z-index:1;opacity:.35}}.la-ball-grid-beat[_ngcontent-%COMP%], .la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-grid-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-grid-beat[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-beat;animation-name:ball-grid-beat;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8), .la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-beat{0%{opacity:1}50%{opacity:.35}to{opacity:1}}@keyframes ball-grid-beat{0%{opacity:1}50%{opacity:.35}to{opacity:1}}.la-ball-grid-pulse[_ngcontent-%COMP%], .la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-grid-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-grid-pulse[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-pulse;animation-name:ball-grid-pulse;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8), .la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-pulse{0%{opacity:1;transform:scale(1)}50%{opacity:.35;transform:scale(.45)}to{opacity:1;transform:scale(1)}}@keyframes ball-grid-pulse{0%{opacity:1;transform:scale(1)}50%{opacity:.35;transform:scale(.45)}to{opacity:1;transform:scale(1)}}.la-ball-newton-cradle[_ngcontent-%COMP%], .la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-newton-cradle[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-newton-cradle.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-newton-cradle[_ngcontent-%COMP%]{width:40px;height:10px}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:100%}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-newton-cradle-left 1s ease-out 0s infinite;animation:ball-newton-cradle-left 1s ease-out 0s infinite}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{transform:translateX(0)}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:ball-newton-cradle-right 1s ease-out 0s infinite;animation:ball-newton-cradle-right 1s ease-out 0s infinite}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%]{width:20px;height:4px}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%]{width:80px;height:20px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%]{width:120px;height:30px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-newton-cradle-left{25%{transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{transform:translateX(0)}}@keyframes ball-newton-cradle-left{25%{transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{transform:translateX(0)}}@-webkit-keyframes ball-newton-cradle-right{50%{transform:translateX(0)}75%{transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{transform:translateX(0)}}@keyframes ball-newton-cradle-right{50%{transform:translateX(0)}75%{transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{transform:translateX(0)}}.la-ball-pulse-rise[_ngcontent-%COMP%], .la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-rise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-pulse-rise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-pulse-rise[_ngcontent-%COMP%]{width:70px;height:14px}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:2px;border-radius:100%;-webkit-animation:ball-pulse-rise-even 1s cubic-bezier(.15,.36,.9,.6) 0s infinite;animation:ball-pulse-rise-even 1s cubic-bezier(.15,.36,.9,.6) 0s infinite}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-name:ball-pulse-rise-odd;animation-name:ball-pulse-rise-odd}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%]{width:34px;height:6px}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%]{width:140px;height:28px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:4px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%]{width:210px;height:42px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:6px}@-webkit-keyframes ball-pulse-rise-even{0%{opacity:1;transform:scale(1.1)}25%{transform:translateY(-200%)}50%{opacity:.35;transform:scale(.3)}75%{transform:translateY(200%)}to{opacity:1;transform:translateY(0);transform:scale(1)}}@keyframes ball-pulse-rise-even{0%{opacity:1;transform:scale(1.1)}25%{transform:translateY(-200%)}50%{opacity:.35;transform:scale(.3)}75%{transform:translateY(200%)}to{opacity:1;transform:translateY(0);transform:scale(1)}}@-webkit-keyframes ball-pulse-rise-odd{0%{opacity:.35;transform:scale(.4)}25%{transform:translateY(200%)}50%{opacity:1;transform:scale(1.1)}75%{transform:translateY(-200%)}to{opacity:.35;transform:translateY(0);transform:scale(.75)}}@keyframes ball-pulse-rise-odd{0%{opacity:.35;transform:scale(.4)}25%{transform:translateY(200%)}50%{opacity:1;transform:scale(1.1)}75%{transform:translateY(-200%)}to{opacity:.35;transform:translateY(0);transform:scale(.75)}}.la-ball-pulse-sync[_ngcontent-%COMP%], .la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-sync[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-pulse-sync.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-pulse-sync[_ngcontent-%COMP%]{width:54px;height:18px}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:ball-pulse-sync .6s ease-in-out infinite;animation:ball-pulse-sync .6s ease-in-out infinite}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.14s;animation-delay:-.14s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.07s;animation-delay:-.07s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse-sync{33%{transform:translateY(100%)}66%{transform:translateY(-100%)}to{transform:translateY(0)}}@keyframes ball-pulse-sync{33%{transform:translateY(100%)}66%{transform:translateY(-100%)}to{transform:translateY(0)}}.la-ball-pulse[_ngcontent-%COMP%], .la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-pulse[_ngcontent-%COMP%]{width:54px;height:18px}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:ball-pulse 1s ease infinite;animation:ball-pulse 1s ease infinite}.la-ball-pulse.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse{0%,60%,to{opacity:1;transform:scale(1)}30%{opacity:.1;transform:scale(.01)}}@keyframes ball-pulse{0%,60%,to{opacity:1;transform:scale(1)}30%{opacity:.1;transform:scale(.01)}}.la-ball-rotate[_ngcontent-%COMP%], .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-rotate[_ngcontent-%COMP%], .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:100%;-webkit-animation:ball-rotate-animation 1s cubic-bezier(.7,-.13,.22,.86) infinite;animation:ball-rotate-animation 1s cubic-bezier(.7,-.13,.22,.86) infinite}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;width:inherit;height:inherit;margin:inherit;content:"";background:currentColor;border-radius:inherit;opacity:.8}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:0;left:-150%}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{top:0;left:150%}.la-ball-rotate.la-sm[_ngcontent-%COMP%], .la-ball-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-rotate.la-2x[_ngcontent-%COMP%], .la-ball-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-rotate.la-3x[_ngcontent-%COMP%], .la-ball-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-rotate-animation{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}@keyframes ball-rotate-animation{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.la-ball-running-dots[_ngcontent-%COMP%], .la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-running-dots[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-running-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-running-dots[_ngcontent-%COMP%]{width:10px;height:10px}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;margin-left:-25px;border-radius:100%;-webkit-animation:ball-running-dots-animate 2s linear infinite;animation:ball-running-dots-animate 2s linear infinite}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.6s;animation-delay:-1.6s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-2.4s;animation-delay:-2.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2.8s;animation-delay:-2.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-3.2s;animation-delay:-3.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-3.6s;animation-delay:-3.6s}.la-ball-running-dots.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-running-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-left:-12px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:-50px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%]{width:30px;height:30px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:-75px}@-webkit-keyframes ball-running-dots-animate{0%,to{width:100%;height:100%;transform:translateY(0) translateX(500%)}80%{transform:translateY(0) translateX(0)}85%{width:100%;height:100%;transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;transform:translateY(-100%) translateX(500%)}}@keyframes ball-running-dots-animate{0%,to{width:100%;height:100%;transform:translateY(0) translateX(500%)}80%{transform:translateY(0) translateX(0)}85%{width:100%;height:100%;transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;transform:translateY(-100%) translateX(500%)}}.la-ball-scale-multiple[_ngcontent-%COMP%], .la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-multiple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:0;-webkit-animation:ball-scale-multiple 1s linear 0s infinite;animation:ball-scale-multiple 1s linear 0s infinite}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}.la-ball-scale-multiple.la-sm[_ngcontent-%COMP%], .la-ball-scale-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-multiple.la-2x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-multiple.la-3x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}@keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}.la-ball-scale-pulse[_ngcontent-%COMP%], .la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-pulse[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:.5;-webkit-animation:ball-scale-pulse 2s ease-in-out infinite;animation:ball-scale-pulse 2s ease-in-out infinite}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-scale-pulse.la-sm[_ngcontent-%COMP%], .la-ball-scale-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-pulse.la-2x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-pulse.la-3x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-pulse{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes ball-scale-pulse{0%,to{transform:scale(0)}50%{transform:scale(1)}}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%], .la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-ripple-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:32px;height:32px;background:transparent;border-width:2px;border-radius:100%;opacity:0;-webkit-animation:ball-scale-ripple-multiple 1.25s cubic-bezier(.21,.53,.56,.8) 0s infinite;animation:ball-scale-ripple-multiple 1.25s cubic-bezier(.21,.53,.56,.8) 0s infinite}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.5s;animation-delay:.5s}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple-multiple{0%{opacity:1;transform:scale(.1)}70%{opacity:.5;transform:scale(1)}95%{opacity:0}}@keyframes ball-scale-ripple-multiple{0%{opacity:1;transform:scale(.1)}70%{opacity:.5;transform:scale(1)}95%{opacity:0}}.la-ball-scale-ripple[_ngcontent-%COMP%], .la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-ripple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-ripple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px;background:transparent;border-width:2px;border-radius:100%;opacity:0;-webkit-animation:ball-scale-ripple 1s cubic-bezier(.21,.53,.56,.8) 0s infinite;animation:ball-scale-ripple 1s cubic-bezier(.21,.53,.56,.8) 0s infinite}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple{0%{opacity:1;transform:scale(.1)}70%{opacity:.65;transform:scale(1)}to{opacity:0}}@keyframes ball-scale-ripple{0%{opacity:1;transform:scale(.1)}70%{opacity:.65;transform:scale(1)}to{opacity:0}}.la-ball-scale[_ngcontent-%COMP%], .la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale[_ngcontent-%COMP%], .la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:100%;opacity:0;-webkit-animation:ball-scale 1s ease-in-out 0s infinite;animation:ball-scale 1s ease-in-out 0s infinite}.la-ball-scale.la-sm[_ngcontent-%COMP%], .la-ball-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale.la-2x[_ngcontent-%COMP%], .la-ball-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale.la-3x[_ngcontent-%COMP%], .la-ball-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale{0%{opacity:1;transform:scale(0)}to{opacity:0;transform:scale(1)}}@keyframes ball-scale{0%{opacity:1;transform:scale(0)}to{opacity:0;transform:scale(1)}}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:ball-spin-clockwise-fade-rotating-rotate 6s linear infinite;animation:ball-spin-clockwise-fade-rotating-rotate 6s linear infinite}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-clockwise-fade-rotating 1s linear infinite;animation:ball-spin-clockwise-fade-rotating 1s linear infinite}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@keyframes ball-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@-webkit-keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-clockwise-fade 1s linear infinite;animation:ball-spin-clockwise-fade 1s linear infinite}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@keyframes ball-spin-clockwise-fade{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.la-ball-spin-clockwise[_ngcontent-%COMP%], .la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-clockwise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-clockwise[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-clockwise 1s ease-in-out infinite;animation:ball-spin-clockwise 1s ease-in-out infinite}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}@keyframes ball-spin-clockwise{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.la-ball-spin-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-fade-rotating[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:ball-spin-fade-rotate 6s linear infinite;animation:ball-spin-fade-rotate 6s linear infinite}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-fade 1s linear infinite;animation:ball-spin-fade 1s linear infinite}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade-rotate{to{transform:rotate(1turn)}}@keyframes ball-spin-fade-rotate{to{transform:rotate(1turn)}}.la-ball-spin-fade[_ngcontent-%COMP%], .la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-fade[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-fade 1s linear infinite;animation:ball-spin-fade 1s linear infinite}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade{0%,to{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}@keyframes ball-spin-fade{0%,to{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}.la-ball-spin-rotate[_ngcontent-%COMP%], .la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-rotate[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:ball-spin-rotate 2s linear infinite;animation:ball-spin-rotate 2s linear infinite}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;width:60%;height:60%;border-radius:100%;-webkit-animation:ball-spin-bounce 2s ease-in-out infinite;animation:ball-spin-bounce 2s ease-in-out infinite}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{top:auto;bottom:0;-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-spin-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-spin-rotate{to{transform:rotate(1turn)}}@keyframes ball-spin-rotate{to{transform:rotate(1turn)}}@-webkit-keyframes ball-spin-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes ball-spin-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}.la-ball-spin[_ngcontent-%COMP%], .la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin 1s ease-in-out infinite;animation:ball-spin 1s ease-in-out infinite}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}@keyframes ball-spin{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.la-ball-square-clockwise-spin[_ngcontent-%COMP%], .la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-clockwise-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-square-clockwise-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-square-clockwise-spin[_ngcontent-%COMP%]{width:26px;height:26px}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:ball-square-clockwise-spin 1s ease-in-out infinite;animation:ball-square-clockwise-spin 1s ease-in-out infinite}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:0;left:0;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-clockwise-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}@keyframes ball-square-clockwise-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}.la-ball-square-spin[_ngcontent-%COMP%], .la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-square-spin[_ngcontent-%COMP%]{width:26px;height:26px}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:ball-square-spin 1s ease-in-out infinite;animation:ball-square-spin 1s ease-in-out infinite}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:0;left:0;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-square-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}@keyframes ball-square-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}.la-ball-triangle-path[_ngcontent-%COMP%], .la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-triangle-path[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-triangle-path.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-triangle-path[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:10px;height:10px;border-radius:100%}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-triangle-path-ball-one 2s ease-in-out 0s infinite;animation:ball-triangle-path-ball-one 2s ease-in-out 0s infinite}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation:ball-triangle-path-ball-two 2s ease-in-out 0s infinite;animation:ball-triangle-path-ball-two 2s ease-in-out 0s infinite}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation:ball-triangle-path-ball-tree 2s ease-in-out 0s infinite;animation:ball-triangle-path-ball-tree 2s ease-in-out 0s infinite}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-triangle-path-ball-one{0%{transform:translateY(220%)}17%{opacity:.25}33%{opacity:1;transform:translate(110%)}50%{opacity:.25}66%{opacity:1;transform:translate(220%,220%)}83%{opacity:.25}to{opacity:1;transform:translateY(220%)}}@keyframes ball-triangle-path-ball-one{0%{transform:translateY(220%)}17%{opacity:.25}33%{opacity:1;transform:translate(110%)}50%{opacity:.25}66%{opacity:1;transform:translate(220%,220%)}83%{opacity:.25}to{opacity:1;transform:translateY(220%)}}@-webkit-keyframes ball-triangle-path-ball-two{0%{transform:translate(110%)}17%{opacity:.25}33%{opacity:1;transform:translate(220%,220%)}50%{opacity:.25}66%{opacity:1;transform:translateY(220%)}83%{opacity:.25}to{opacity:1;transform:translate(110%)}}@keyframes ball-triangle-path-ball-two{0%{transform:translate(110%)}17%{opacity:.25}33%{opacity:1;transform:translate(220%,220%)}50%{opacity:.25}66%{opacity:1;transform:translateY(220%)}83%{opacity:.25}to{opacity:1;transform:translate(110%)}}@-webkit-keyframes ball-triangle-path-ball-tree{0%{transform:translate(220%,220%)}17%{opacity:.25}33%{opacity:1;transform:translateY(220%)}50%{opacity:.25}66%{opacity:1;transform:translate(110%)}83%{opacity:.25}to{opacity:1;transform:translate(220%,220%)}}@keyframes ball-triangle-path-ball-tree{0%{transform:translate(220%,220%)}17%{opacity:.25}33%{opacity:1;transform:translateY(220%)}50%{opacity:.25}66%{opacity:1;transform:translate(110%)}83%{opacity:.25}to{opacity:1;transform:translate(220%,220%)}}.la-ball-zig-zag-deflect[_ngcontent-%COMP%], .la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-zig-zag-deflect[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-zig-zag-deflect.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-zig-zag-deflect[_ngcontent-%COMP%]{position:relative;width:32px;height:32px}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-zig-deflect 1.5s linear 0s infinite;animation:ball-zig-deflect 1.5s linear 0s infinite}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:ball-zag-deflect 1.5s linear 0s infinite;animation:ball-zag-deflect 1.5s linear 0s infinite}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-deflect{17%{transform:translate(-80%,-160%)}34%{transform:translate(80%,-160%)}50%{transform:translate(0)}67%{transform:translate(80%,-160%)}84%{transform:translate(-80%,-160%)}to{transform:translate(0)}}@keyframes ball-zig-deflect{17%{transform:translate(-80%,-160%)}34%{transform:translate(80%,-160%)}50%{transform:translate(0)}67%{transform:translate(80%,-160%)}84%{transform:translate(-80%,-160%)}to{transform:translate(0)}}@-webkit-keyframes ball-zag-deflect{17%{transform:translate(80%,160%)}34%{transform:translate(-80%,160%)}50%{transform:translate(0)}67%{transform:translate(-80%,160%)}84%{transform:translate(80%,160%)}to{transform:translate(0)}}@keyframes ball-zag-deflect{17%{transform:translate(80%,160%)}34%{transform:translate(-80%,160%)}50%{transform:translate(0)}67%{transform:translate(-80%,160%)}84%{transform:translate(80%,160%)}to{transform:translate(0)}}.la-ball-zig-zag[_ngcontent-%COMP%], .la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-zig-zag[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-zig-zag.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-zig-zag[_ngcontent-%COMP%]{position:relative;width:32px;height:32px}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-zig-effect .7s linear 0s infinite;animation:ball-zig-effect .7s linear 0s infinite}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:ball-zag-effect .7s linear 0s infinite;animation:ball-zag-effect .7s linear 0s infinite}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-effect{0%{transform:translate(0)}33%{transform:translate(-75%,-150%)}66%{transform:translate(75%,-150%)}to{transform:translate(0)}}@keyframes ball-zig-effect{0%{transform:translate(0)}33%{transform:translate(-75%,-150%)}66%{transform:translate(75%,-150%)}to{transform:translate(0)}}@-webkit-keyframes ball-zag-effect{0%{transform:translate(0)}33%{transform:translate(75%,150%)}66%{transform:translate(-75%,150%)}to{transform:translate(0)}}@keyframes ball-zag-effect{0%{transform:translate(0)}33%{transform:translate(75%,150%)}66%{transform:translate(-75%,150%)}to{transform:translate(0)}}.la-cog[_ngcontent-%COMP%], .la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cog[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-cog.la-dark[_ngcontent-%COMP%]{color:#333}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-cog[_ngcontent-%COMP%]{width:31px;height:31px}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:transparent;border-style:dashed;border-width:2px;border-radius:100%;-webkit-animation:cog-rotate 4s linear infinite;animation:cog-rotate 4s linear infinite}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";border:2px solid;border-radius:100%}.la-cog.la-sm[_ngcontent-%COMP%]{width:15px;height:15px}.la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:1px}.la-cog.la-2x[_ngcontent-%COMP%]{width:61px;height:61px}.la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:4px}.la-cog.la-3x[_ngcontent-%COMP%]{width:91px;height:91px}.la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:6px}@-webkit-keyframes cog-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes cog-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.la-cube-transition[_ngcontent-%COMP%], .la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cube-transition[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-cube-transition.la-dark[_ngcontent-%COMP%]{color:#333}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-cube-transition[_ngcontent-%COMP%]{width:32px;height:32px}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:14px;height:14px;margin-top:-7px;margin-left:-7px;border-radius:0;-webkit-animation:cube-transition 1.6s ease-in-out 0s infinite;animation:cube-transition 1.6s ease-in-out 0s infinite}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-cube-transition.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-cube-transition.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-cube-transition.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-cube-transition.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:28px;height:28px;margin-top:-14px;margin-left:-14px}.la-cube-transition.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-cube-transition.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:42px;height:42px;margin-top:-21px;margin-left:-21px}@-webkit-keyframes cube-transition{25%{top:0;left:100%;transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;transform:scale(.5) rotate(-270deg)}to{top:0;left:0;transform:scale(1) rotate(-1turn)}}@keyframes cube-transition{25%{top:0;left:100%;transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;transform:scale(.5) rotate(-270deg)}to{top:0;left:0;transform:scale(1) rotate(-1turn)}}.la-fire[_ngcontent-%COMP%], .la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-fire[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-fire.la-dark[_ngcontent-%COMP%]{color:#333}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-fire[_ngcontent-%COMP%]{width:32px;height:32px}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;width:12px;height:12px;border-radius:0;border-radius:2px;transform:translateY(0) translateX(-50%) rotate(45deg) scale(0);-webkit-animation:fire-diamonds 1.5s linear infinite;animation:fire-diamonds 1.5s linear infinite}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.85s;animation-delay:-.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.85s;animation-delay:-1.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-2.85s;animation-delay:-2.85s}.la-fire.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-fire.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-fire.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-fire.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px}.la-fire.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-fire.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes fire-diamonds{0%{transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}to{transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}@keyframes fire-diamonds{0%{transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}to{transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}.la-line-scale-party[_ngcontent-%COMP%], .la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-party[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-scale-party.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-scale-party[_ngcontent-%COMP%]{width:40px;height:32px}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation-name:line-scale-party;animation-name:line-scale-party;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.23s;animation-delay:-.23s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:.62s;animation-duration:.62s;-webkit-animation-delay:-.32s;animation-delay:-.32s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.44s;animation-delay:-.44s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-delay:-.31s;animation-delay:-.31s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:.74s;animation-duration:.74s;-webkit-animation-delay:-.24s;animation-delay:-.24s}.la-line-scale-party.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-party.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-party.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-party.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-party.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-party.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-party{0%{transform:scaleY(1)}50%{transform:scaleY(.3)}to{transform:scaleY(1)}}@keyframes line-scale-party{0%{transform:scaleY(1)}50%{transform:scaleY(.3)}to{transform:scaleY(1)}}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%], .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-scale-pulse-out-rapid.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%]{width:40px;height:32px}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:line-scale-pulse-out-rapid .9s cubic-bezier(.11,.49,.38,.78) infinite;animation:line-scale-pulse-out-rapid .9s cubic-bezier(.11,.49,.38,.78) infinite}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.65s;animation-delay:-.65s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out-rapid{0%{transform:scaley(1)}80%{transform:scaley(.3)}90%{transform:scaley(1)}}@keyframes line-scale-pulse-out-rapid{0%{transform:scaley(1)}80%{transform:scaley(.3)}90%{transform:scaley(1)}}.la-line-scale-pulse-out[_ngcontent-%COMP%], .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-scale-pulse-out.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-scale-pulse-out[_ngcontent-%COMP%]{width:40px;height:32px}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:line-scale-pulse-out .9s cubic-bezier(.85,.25,.37,.85) infinite;animation:line-scale-pulse-out .9s cubic-bezier(.85,.25,.37,.85) infinite}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.7s;animation-delay:-.7s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out{0%{transform:scaley(1)}50%{transform:scaley(.3)}to{transform:scaley(1)}}@keyframes line-scale-pulse-out{0%{transform:scaley(1)}50%{transform:scaley(.3)}to{transform:scaley(1)}}.la-line-scale[_ngcontent-%COMP%], .la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-scale[_ngcontent-%COMP%]{width:40px;height:32px}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:line-scale 1.2s ease infinite;animation:line-scale 1.2s ease infinite}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s;animation-delay:-1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-line-scale.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}@keyframes line-scale{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:line-spin-clockwise-fade-rotating-rotate 6s linear infinite;animation:line-spin-clockwise-fade-rotating-rotate 6s linear infinite}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:line-spin-clockwise-fade-rotating 1s ease-in-out infinite;animation:line-spin-clockwise-fade-rotating 1s ease-in-out infinite}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:15%;left:50%;transform:rotate(0deg);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@keyframes line-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@-webkit-keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}to{opacity:1}}.la-line-spin-clockwise-fade[_ngcontent-%COMP%], .la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-spin-clockwise-fade[_ngcontent-%COMP%]{width:32px;height:32px}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:line-spin-clockwise-fade 1s ease-in-out infinite;animation:line-spin-clockwise-fade 1s ease-in-out infinite}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:15%;left:50%;transform:rotate(0deg);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-clockwise-fade{50%{opacity:.2}to{opacity:1}}.la-line-spin-fade-rotating[_ngcontent-%COMP%], .la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-spin-fade-rotating[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:ball-spin-fade-rotating-rotate 6s linear infinite;animation:ball-spin-fade-rotating-rotate 6s linear infinite}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:line-spin-fade-rotating 1s ease-in-out infinite;animation:line-spin-fade-rotating 1s ease-in-out infinite}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:15%;left:50%;transform:rotate(0deg);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes ball-spin-fade-rotating-rotate{to{transform:rotate(1turn)}}@keyframes ball-spin-fade-rotating-rotate{to{transform:rotate(1turn)}}@-webkit-keyframes line-spin-fade-rotating{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-fade-rotating{50%{opacity:.2}to{opacity:1}}.la-line-spin-fade[_ngcontent-%COMP%], .la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-spin-fade[_ngcontent-%COMP%]{width:32px;height:32px}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:line-spin-fade 1s ease-in-out infinite;animation:line-spin-fade 1s ease-in-out infinite}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:15%;left:50%;transform:rotate(0deg);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-fade{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-fade{50%{opacity:.2}to{opacity:1}}.la-pacman[_ngcontent-%COMP%], .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-pacman[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-pacman.la-dark[_ngcontent-%COMP%]{color:#333}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-pacman[_ngcontent-%COMP%]{width:32px;height:32px}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:0;height:0;background:transparent;border-style:solid;border-right:solid transparent;border-width:16px;border-radius:100%;-webkit-animation:pacman-rotate-half-up .5s 0s infinite;animation:pacman-rotate-half-up .5s 0s infinite;position:absolute}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-name:pacman-rotate-half-down;animation-name:pacman-rotate-half-down;top:0}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){position:absolute;top:50%;left:200%;width:8px;height:8px;border-radius:100%;opacity:0;-webkit-animation:pacman-balls 2s linear 0s infinite;animation:pacman-balls 2s linear 0s infinite}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.44s;animation-delay:-1.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.94s;animation-delay:-1.94s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2.44s;animation-delay:-2.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2.94s;animation-delay:-2.94s}.la-pacman.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:8px;position:absolute}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:4px;height:4px}.la-pacman.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:32px;position:absolute}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:16px;height:16px}.la-pacman.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:48px;position:absolute}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:24px;height:24px}@-webkit-keyframes pacman-rotate-half-up{0%,to{transform:rotate(270deg)}50%{transform:rotate(1turn)}}@keyframes pacman-rotate-half-up{0%,to{transform:rotate(270deg)}50%{transform:rotate(1turn)}}@-webkit-keyframes pacman-rotate-half-down{0%,to{transform:rotate(90deg)}50%{transform:rotate(0deg)}}@keyframes pacman-rotate-half-down{0%,to{transform:rotate(90deg)}50%{transform:rotate(0deg)}}@-webkit-keyframes pacman-balls{0%{left:200%;opacity:0;transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}to{left:0;transform:translateY(-50%)}}@keyframes pacman-balls{0%{left:200%;opacity:0;transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}to{left:0;transform:translateY(-50%)}}.la-square-jelly-box[_ngcontent-%COMP%], .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-jelly-box[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-square-jelly-box.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-square-jelly-box[_ngcontent-%COMP%]{width:32px;height:32px}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;width:100%}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:-25%;z-index:1;height:100%;border-radius:10%;-webkit-animation:square-jelly-box-animate .6s linear -.1s infinite;animation:square-jelly-box-animate .6s linear -.1s infinite}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:.2;-webkit-animation:square-jelly-box-shadow .6s linear -.1s infinite;animation:square-jelly-box-shadow .6s linear -.1s infinite}.la-square-jelly-box.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-jelly-box.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-jelly-box.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scaleY(.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scaleY(.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@-webkit-keyframes square-jelly-box-shadow{50%{transform:scaleX(1.25)}}@keyframes square-jelly-box-shadow{50%{transform:scaleX(1.25)}}.la-square-loader[_ngcontent-%COMP%], .la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-loader[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-square-loader.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-square-loader[_ngcontent-%COMP%]{width:32px;height:32px}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background:transparent;border-width:2px;border-radius:0;-webkit-animation:square-loader 2s ease infinite;animation:square-loader 2s ease infinite}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{display:inline-block;width:100%;vertical-align:top;content:"";background-color:currentColor;-webkit-animation:square-loader-inner 2s ease-in infinite;animation:square-loader-inner 2s ease-in infinite}.la-square-loader.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-loader.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-square-loader.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-loader.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-square-loader.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-square-loader.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}@-webkit-keyframes square-loader{0%{transform:rotate(0deg)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(1turn)}to{transform:rotate(1turn)}}@keyframes square-loader{0%{transform:rotate(0deg)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(1turn)}to{transform:rotate(1turn)}}@-webkit-keyframes square-loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}to{height:0}}@keyframes square-loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}to{height:0}}.la-square-spin[_ngcontent-%COMP%], .la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-square-spin[_ngcontent-%COMP%]{width:32px;height:32px}.la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:0;-webkit-animation:square-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite;animation:square-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite}.la-square-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}@keyframes square-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}.la-timer[_ngcontent-%COMP%], .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-timer[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-timer.la-dark[_ngcontent-%COMP%]{color:#333}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-timer[_ngcontent-%COMP%], .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:transparent;border-width:2px;border-radius:100%}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;top:14px;left:14px;display:block;width:2px;margin-top:-1px;margin-left:-1px;content:"";background:currentColor;border-radius:2px;transform-origin:1px 1px 0;-webkit-animation:timer-loader 1.25s linear infinite;animation:timer-loader 1.25s linear infinite;-webkit-animation-delay:-625ms;animation-delay:-625ms}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:12px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:8px;-webkit-animation-duration:15s;animation-duration:15s;-webkit-animation-delay:-7.5s;animation-delay:-7.5s}.la-timer.la-sm[_ngcontent-%COMP%], .la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:7px;left:7px;width:1px;margin-top:-.5px;margin-left:-.5px;border-radius:1px;transform-origin:.5px .5px 0}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:6px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:4px}.la-timer.la-2x[_ngcontent-%COMP%], .la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:28px;left:28px;width:4px;margin-top:-2px;margin-left:-2px;border-radius:4px;transform-origin:2px 2px 0}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:24px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:16px}.la-timer.la-3x[_ngcontent-%COMP%], .la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:42px;left:42px;width:6px;margin-top:-3px;margin-left:-3px;border-radius:6px;transform-origin:3px 3px 0}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:36px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:24px}@-webkit-keyframes timer-loader{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes timer-loader{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.la-triangle-skew-spin[_ngcontent-%COMP%], .la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-triangle-skew-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-triangle-skew-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-triangle-skew-spin[_ngcontent-%COMP%]{width:32px;height:16px}.la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:0;height:0;background:transparent;border-left:none;border-right:none;border-color:currentcolor transparent;border-style:solid;border-width:0 16px 16px;-webkit-animation:triangle-skew-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite;animation:triangle-skew-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:8px}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 8px 8px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:32px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 32px 32px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:48px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 48px 48px}@-webkit-keyframes triangle-skew-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}@keyframes triangle-skew-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}.ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}'],data:{animation:[(0,U.X$)("fadeIn",[(0,U.SB)("in",(0,U.oB)({opacity:1})),(0,U.eR)(":enter",[(0,U.oB)({opacity:0}),(0,U.jt)(300)]),(0,U.eR)(":leave",(0,U.jt)(200,(0,U.oB)({opacity:0})))])]},changeDetection:0}),dt})(),Oe=(()=>{class dt{constructor(qt){this._sanitizer=qt}transform(qt){if(qt)return this._sanitizer.bypassSecurityTrustHtml(qt)}}return dt.\u0275fac=function(qt){return new(qt||dt)(m.Y36(Y.H7,16))},dt.\u0275pipe=m.Yjl({name:"safeHtml",type:dt,pure:!0}),dt})(),Mt=(()=>{class dt{}return dt.\u0275fac=function(qt){return new(qt||dt)},dt.\u0275mod=m.oAB({type:dt}),dt.\u0275inj=m.cJS({imports:[[De.ez]]}),dt})()},4099:(Jt,vt,X)=>{"use strict";X.d(vt,{X:()=>he});var m=X(3405),B=X(2108);class he extends m.xQ{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const U=super._subscribe(ce);return U&&!U.closed&&ce.next(this._value),U}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new B.N;return this._value}next(ce){super.next(this._value=ce)}}},5548:(Jt,vt,X)=>{"use strict";X.d(vt,{y:()=>ge});var m=X(4168),he=X(2926),Ne=X(6617),U=X(1359),De=X(7255);var fe=X(5426);let ge=(()=>{class Te{constructor(Ve){this._isScalar=!1,Ve&&(this._subscribe=Ve)}lift(Ve){const Xe=new Te;return Xe.source=this,Xe.operator=Ve,Xe}subscribe(Ve,Xe,Se){const{operator:ct}=this,$e=function(Te,we,Ve){if(Te){if(Te instanceof m.L)return Te;if(Te[he.b])return Te[he.b]()}return Te||we||Ve?new m.L(Te,we,Ve):new m.L(Ne.c)}(Ve,Xe,Se);if($e.add(ct?ct.call($e,this.source):this.source||fe.v.useDeprecatedSynchronousErrorHandling&&!$e.syncErrorThrowable?this._subscribe($e):this._trySubscribe($e)),fe.v.useDeprecatedSynchronousErrorHandling&&$e.syncErrorThrowable&&($e.syncErrorThrowable=!1,$e.syncErrorThrown))throw $e.syncErrorValue;return $e}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(Xe){fe.v.useDeprecatedSynchronousErrorHandling&&(Ve.syncErrorThrown=!0,Ve.syncErrorValue=Xe),function(Te){for(;Te;){const{closed:we,destination:Ve,isStopped:Xe}=Te;if(we||Xe)return!1;Te=Ve&&Ve instanceof m.L?Ve:null}return!0}(Ve)?Ve.error(Xe):console.warn(Xe)}}forEach(Ve,Xe){return new(Xe=_e(Xe))((Se,ct)=>{let $e;$e=this.subscribe(de=>{try{Ve(de)}catch(Oe){ct(Oe),$e&&$e.unsubscribe()}},ct,Se)})}_subscribe(Ve){const{source:Xe}=this;return Xe&&Xe.subscribe(Ve)}[U.L](){return this}pipe(...Ve){return 0===Ve.length?this:function(Te){return 0===Te.length?De.y:1===Te.length?Te[0]:function(Ve){return Te.reduce((Xe,Se)=>Se(Xe),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=_e(Ve))((Xe,Se)=>{let ct;this.subscribe($e=>ct=$e,$e=>Se($e),()=>Xe(ct))})}}return Te.create=we=>new Te(we),Te})();function _e(Te){if(Te||(Te=fe.v.Promise||Promise),!Te)throw new Error("no Promise impl found");return Te}},6617:(Jt,vt,X)=>{"use strict";X.d(vt,{c:()=>he});var m=X(5426),B=X(9887);const he={closed:!0,next(Ne){},error(Ne){if(m.v.useDeprecatedSynchronousErrorHandling)throw Ne;(0,B.z)(Ne)},complete(){}}},3405:(Jt,vt,X)=>{"use strict";X.d(vt,{Yc:()=>De,xQ:()=>Y});var m=X(5548),B=X(4168),he=X(1346),Ne=X(2108),ce=X(5973),U=X(2926);class De extends B.L{constructor(ge){super(ge),this.destination=ge}}let Y=(()=>{class fe extends m.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[U.b](){return new De(this)}lift(_e){const Te=new be(this,this);return Te.operator=_e,Te}next(_e){if(this.closed)throw new Ne.N;if(!this.isStopped){const{observers:Te}=this,we=Te.length,Ve=Te.slice();for(let Xe=0;Xe<we;Xe++)Ve[Xe].next(_e)}}error(_e){if(this.closed)throw new Ne.N;this.hasError=!0,this.thrownError=_e,this.isStopped=!0;const{observers:Te}=this,we=Te.length,Ve=Te.slice();for(let Xe=0;Xe<we;Xe++)Ve[Xe].error(_e);this.observers.length=0}complete(){if(this.closed)throw new Ne.N;this.isStopped=!0;const{observers:_e}=this,Te=_e.length,we=_e.slice();for(let Ve=0;Ve<Te;Ve++)we[Ve].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(_e){if(this.closed)throw new Ne.N;return super._trySubscribe(_e)}_subscribe(_e){if(this.closed)throw new Ne.N;return this.hasError?(_e.error(this.thrownError),he.w.EMPTY):this.isStopped?(_e.complete(),he.w.EMPTY):(this.observers.push(_e),new ce.W(this,_e))}asObservable(){const _e=new m.y;return _e.source=this,_e}}return fe.create=(ge,_e)=>new be(ge,_e),fe})();class be extends Y{constructor(ge,_e){super(),this.destination=ge,this.source=_e}next(ge){const{destination:_e}=this;_e&&_e.next&&_e.next(ge)}error(ge){const{destination:_e}=this;_e&&_e.error&&this.destination.error(ge)}complete(){const{destination:ge}=this;ge&&ge.complete&&this.destination.complete()}_subscribe(ge){const{source:_e}=this;return _e?this.source.subscribe(ge):he.w.EMPTY}}},5973:(Jt,vt,X)=>{"use strict";X.d(vt,{W:()=>B});var m=X(1346);class B extends m.w{constructor(Ne,ce){super(),this.subject=Ne,this.subscriber=ce,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ne=this.subject,ce=Ne.observers;if(this.subject=null,!ce||0===ce.length||Ne.isStopped||Ne.closed)return;const U=ce.indexOf(this.subscriber);-1!==U&&ce.splice(U,1)}}},4168:(Jt,vt,X)=>{"use strict";X.d(vt,{L:()=>De});var m=X(6783),B=X(6617),he=X(1346),Ne=X(2926),ce=X(5426),U=X(9887);class De extends he.w{constructor(fe,ge,_e){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B.c;break;case 1:if(!fe){this.destination=B.c;break}if("object"==typeof fe){fe instanceof De?(this.syncErrorThrowable=fe.syncErrorThrowable,this.destination=fe,fe.add(this)):(this.syncErrorThrowable=!0,this.destination=new Y(this,fe));break}default:this.syncErrorThrowable=!0,this.destination=new Y(this,fe,ge,_e)}}[Ne.b](){return this}static create(fe,ge,_e){const Te=new De(fe,ge,_e);return Te.syncErrorThrowable=!1,Te}next(fe){this.isStopped||this._next(fe)}error(fe){this.isStopped||(this.isStopped=!0,this._error(fe))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(fe){this.destination.next(fe)}_error(fe){this.destination.error(fe),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:fe}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=fe,this}}class Y extends De{constructor(fe,ge,_e,Te){super(),this._parentSubscriber=fe;let we,Ve=this;(0,m.m)(ge)?we=ge:ge&&(we=ge.next,_e=ge.error,Te=ge.complete,ge!==B.c&&(Ve=Object.create(ge),(0,m.m)(Ve.unsubscribe)&&this.add(Ve.unsubscribe.bind(Ve)),Ve.unsubscribe=this.unsubscribe.bind(this))),this._context=Ve,this._next=we,this._error=_e,this._complete=Te}next(fe){if(!this.isStopped&&this._next){const{_parentSubscriber:ge}=this;ce.v.useDeprecatedSynchronousErrorHandling&&ge.syncErrorThrowable?this.__tryOrSetError(ge,this._next,fe)&&this.unsubscribe():this.__tryOrUnsub(this._next,fe)}}error(fe){if(!this.isStopped){const{_parentSubscriber:ge}=this,{useDeprecatedSynchronousErrorHandling:_e}=ce.v;if(this._error)_e&&ge.syncErrorThrowable?(this.__tryOrSetError(ge,this._error,fe),this.unsubscribe()):(this.__tryOrUnsub(this._error,fe),this.unsubscribe());else if(ge.syncErrorThrowable)_e?(ge.syncErrorValue=fe,ge.syncErrorThrown=!0):(0,U.z)(fe),this.unsubscribe();else{if(this.unsubscribe(),_e)throw fe;(0,U.z)(fe)}}}complete(){if(!this.isStopped){const{_parentSubscriber:fe}=this;if(this._complete){const ge=()=>this._complete.call(this._context);ce.v.useDeprecatedSynchronousErrorHandling&&fe.syncErrorThrowable?(this.__tryOrSetError(fe,ge),this.unsubscribe()):(this.__tryOrUnsub(ge),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(fe,ge){try{fe.call(this._context,ge)}catch(_e){if(this.unsubscribe(),ce.v.useDeprecatedSynchronousErrorHandling)throw _e;(0,U.z)(_e)}}__tryOrSetError(fe,ge,_e){if(!ce.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ge.call(this._context,_e)}catch(Te){return ce.v.useDeprecatedSynchronousErrorHandling?(fe.syncErrorValue=Te,fe.syncErrorThrown=!0,!0):((0,U.z)(Te),!0)}return!1}_unsubscribe(){const{_parentSubscriber:fe}=this;this._context=null,this._parentSubscriber=null,fe.unsubscribe()}}},1346:(Jt,vt,X)=>{"use strict";X.d(vt,{w:()=>U});var m=X(5894),B=X(7879),he=X(6783);const ce=(()=>{function Y(be){return Error.call(this),this.message=be?`${be.length} errors occurred during unsubscription:\n${be.map((fe,ge)=>`${ge+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=be,this}return Y.prototype=Object.create(Error.prototype),Y})();class U{constructor(be){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,be&&(this._ctorUnsubscribe=!0,this._unsubscribe=be)}unsubscribe(){let be;if(this.closed)return;let{_parentOrParents:fe,_ctorUnsubscribe:ge,_unsubscribe:_e,_subscriptions:Te}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,fe instanceof U)fe.remove(this);else if(null!==fe)for(let we=0;we<fe.length;++we)fe[we].remove(this);if((0,he.m)(_e)){ge&&(this._unsubscribe=void 0);try{_e.call(this)}catch(we){be=we instanceof ce?De(we.errors):[we]}}if((0,m.k)(Te)){let we=-1,Ve=Te.length;for(;++we<Ve;){const Xe=Te[we];if((0,B.K)(Xe))try{Xe.unsubscribe()}catch(Se){be=be||[],Se instanceof ce?be=be.concat(De(Se.errors)):be.push(Se)}}}if(be)throw new ce(be)}add(be){let fe=be;if(!be)return U.EMPTY;switch(typeof be){case"function":fe=new U(be);case"object":if(fe===this||fe.closed||"function"!=typeof fe.unsubscribe)return fe;if(this.closed)return fe.unsubscribe(),fe;if(!(fe instanceof U)){const Te=fe;fe=new U,fe._subscriptions=[Te]}break;default:throw new Error("unrecognized teardown "+be+" added to Subscription.")}let{_parentOrParents:ge}=fe;if(null===ge)fe._parentOrParents=this;else if(ge instanceof U){if(ge===this)return fe;fe._parentOrParents=[ge,this]}else{if(-1!==ge.indexOf(this))return fe;ge.push(this)}const _e=this._subscriptions;return null===_e?this._subscriptions=[fe]:_e.push(fe),fe}remove(be){const fe=this._subscriptions;if(fe){const ge=fe.indexOf(be);-1!==ge&&fe.splice(ge,1)}}}var Y;function De(Y){return Y.reduce((be,fe)=>be.concat(fe instanceof ce?fe.errors:fe),[])}U.EMPTY=((Y=new U).closed=!0,Y)},5426:(Jt,vt,X)=>{"use strict";X.d(vt,{v:()=>B});let m=!1;const B={Promise:void 0,set useDeprecatedSynchronousErrorHandling(he){if(he){const Ne=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ne.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=he},get useDeprecatedSynchronousErrorHandling(){return m}}},8345:(Jt,vt,X)=>{"use strict";X.d(vt,{IY:()=>Ne,Ds:()=>U,ft:()=>Y});var m=X(4168),B=X(5548),he=X(4651);class Ne extends m.L{constructor(fe){super(),this.parent=fe}_next(fe){this.parent.notifyNext(fe)}_error(fe){this.parent.notifyError(fe),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class U extends m.L{notifyNext(fe){this.destination.next(fe)}notifyError(fe){this.destination.error(fe)}notifyComplete(){this.destination.complete()}}function Y(be,fe){if(fe.closed)return;if(be instanceof B.y)return be.subscribe(fe);let ge;try{ge=(0,he.s)(be)(fe)}catch(_e){fe.error(_e)}return ge}},5783:(Jt,vt,X)=>{"use strict";X.d(vt,{c:()=>ce,N:()=>U});var m=X(3405),B=X(5548),he=X(1346),Ne=X(5234);class ce extends B.y{constructor(ge,_e){super(),this.source=ge,this.subjectFactory=_e,this._refCount=0,this._isComplete=!1}_subscribe(ge){return this.getSubject().subscribe(ge)}getSubject(){const ge=this._subject;return(!ge||ge.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ge=this._connection;return ge||(this._isComplete=!1,ge=this._connection=new he.w,ge.add(this.source.subscribe(new De(this.getSubject(),this))),ge.closed&&(this._connection=null,ge=he.w.EMPTY)),ge}refCount(){return(0,Ne.x)()(this)}}const U=(()=>{const fe=ce.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:fe._subscribe},_isComplete:{value:fe._isComplete,writable:!0},getSubject:{value:fe.getSubject},connect:{value:fe.connect},refCount:{value:fe.refCount}}})();class De extends m.Yc{constructor(ge,_e){super(ge),this.connectable=_e}_error(ge){this._unsubscribe(),super._error(ge)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ge=this.connectable;if(ge){this.connectable=null;const _e=ge._connection;ge._refCount=0,ge._subject=null,ge._connection=null,_e&&_e.unsubscribe()}}}},3596:(Jt,vt,X)=>{"use strict";X.d(vt,{z:()=>Ne});var m=X(2411),B=X(2225);function Ne(...ce){return(0,B.J)(1)((0,m.of)(...ce))}},172:(Jt,vt,X)=>{"use strict";X.d(vt,{E:()=>B,c:()=>he});var m=X(5548);const B=new m.y(ce=>ce.complete());function he(ce){return ce?function(ce){return new m.y(U=>ce.schedule(()=>U.complete()))}(ce):B}},1915:(Jt,vt,X)=>{"use strict";X.d(vt,{D:()=>Ve});var m=X(5548),B=X(4651),he=X(1346),Ne=X(1359),De=X(3428),Y=X(4352),ge=X(847),_e=X(1265);function Ve(Xe,Se){return Se?function(Xe,Se){if(null!=Xe){if(function(Xe){return Xe&&"function"==typeof Xe[Ne.L]}(Xe))return function(Xe,Se){return new m.y(ct=>{const $e=new he.w;return $e.add(Se.schedule(()=>{const de=Xe[Ne.L]();$e.add(de.subscribe({next(Oe){$e.add(Se.schedule(()=>ct.next(Oe)))},error(Oe){$e.add(Se.schedule(()=>ct.error(Oe)))},complete(){$e.add(Se.schedule(()=>ct.complete()))}}))})),$e})}(Xe,Se);if((0,ge.t)(Xe))return function(Xe,Se){return new m.y(ct=>{const $e=new he.w;return $e.add(Se.schedule(()=>Xe.then(de=>{$e.add(Se.schedule(()=>{ct.next(de),$e.add(Se.schedule(()=>ct.complete()))}))},de=>{$e.add(Se.schedule(()=>ct.error(de)))}))),$e})}(Xe,Se);if((0,_e.z)(Xe))return(0,De.r)(Xe,Se);if(function(Xe){return Xe&&"function"==typeof Xe[Y.hZ]}(Xe)||"string"==typeof Xe)return function(Xe,Se){if(!Xe)throw new Error("Iterable cannot be null");return new m.y(ct=>{const $e=new he.w;let de;return $e.add(()=>{de&&"function"==typeof de.return&&de.return()}),$e.add(Se.schedule(()=>{de=Xe[Y.hZ](),$e.add(Se.schedule(function(){if(ct.closed)return;let Oe,Mt;try{const dt=de.next();Oe=dt.value,Mt=dt.done}catch(dt){return void ct.error(dt)}Mt?ct.complete():(ct.next(Oe),this.schedule())}))})),$e})}(Xe,Se)}throw new TypeError((null!==Xe&&typeof Xe||Xe)+" is not observable")}(Xe,Se):Xe instanceof m.y?Xe:new m.y((0,B.s)(Xe))}},5433:(Jt,vt,X)=>{"use strict";X.d(vt,{n:()=>Ne});var m=X(5548),B=X(8769),he=X(3428);function Ne(ce,U){return U?(0,he.r)(ce,U):new m.y((0,B.V)(ce))}},8526:(Jt,vt,X)=>{"use strict";X.d(vt,{T:()=>ce});var m=X(5548),B=X(8151),he=X(2225),Ne=X(5433);function ce(...U){let De=Number.POSITIVE_INFINITY,Y=null,be=U[U.length-1];return(0,B.K)(be)?(Y=U.pop(),U.length>1&&"number"==typeof U[U.length-1]&&(De=U.pop())):"number"==typeof be&&(De=U.pop()),null===Y&&1===U.length&&U[0]instanceof m.y?U[0]:(0,he.J)(De)((0,Ne.n)(U,Y))}},2411:(Jt,vt,X)=>{"use strict";X.d(vt,{of:()=>Ne});var m=X(8151),B=X(5433),he=X(3428);function Ne(...ce){let U=ce[ce.length-1];return(0,m.K)(U)?(ce.pop(),(0,he.r)(ce,U)):(0,B.n)(ce)}},2047:(Jt,vt,X)=>{"use strict";X.d(vt,{K:()=>B});var m=X(8345);function B(ce){return function(De){const Y=new he(ce),be=De.lift(Y);return Y.caught=be}}class he{constructor(U){this.selector=U}call(U,De){return De.subscribe(new Ne(U,this.selector,this.caught))}}class Ne extends m.Ds{constructor(U,De,Y){super(U),this.selector=De,this.caught=Y}error(U){if(!this.isStopped){let De;try{De=this.selector(U,this.caught)}catch(fe){return void super.error(fe)}this._unsubscribeAndRecycle();const Y=new m.IY(this);this.add(Y);const be=(0,m.ft)(De,Y);be!==Y&&this.add(be)}}}},6700:(Jt,vt,X)=>{"use strict";X.d(vt,{b:()=>B});var m=X(4421);function B(he,Ne){return(0,m.zg)(he,Ne,1)}},5686:(Jt,vt,X)=>{"use strict";X.d(vt,{b:()=>he});var m=X(4168),B=X(8178);function he(De,Y=B.P){return be=>be.lift(new Ne(De,Y))}class Ne{constructor(Y,be){this.dueTime=Y,this.scheduler=be}call(Y,be){return be.subscribe(new ce(Y,this.dueTime,this.scheduler))}}class ce extends m.L{constructor(Y,be,fe){super(Y),this.dueTime=be,this.scheduler=fe,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(Y){this.clearDebounce(),this.lastValue=Y,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(U,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:Y}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(Y)}}clearDebounce(){const Y=this.debouncedSubscription;null!==Y&&(this.remove(Y),Y.unsubscribe(),this.debouncedSubscription=null)}}function U(De){De.debouncedNext()}},3507:(Jt,vt,X)=>{"use strict";X.d(vt,{d:()=>B});var m=X(4168);function B(ce=null){return U=>U.lift(new he(ce))}class he{constructor(U){this.defaultValue=U}call(U,De){return De.subscribe(new Ne(U,this.defaultValue))}}class Ne extends m.L{constructor(U,De){super(U),this.defaultValue=De,this.isEmpty=!0}_next(U){this.isEmpty=!1,this.destination.next(U)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5389:(Jt,vt,X)=>{"use strict";X.d(vt,{x:()=>B});var m=X(4168);function B(ce,U){return De=>De.lift(new he(ce,U))}class he{constructor(U,De){this.compare=U,this.keySelector=De}call(U,De){return De.subscribe(new Ne(U,this.compare,this.keySelector))}}class Ne extends m.L{constructor(U,De,Y){super(U),this.keySelector=Y,this.hasKey=!1,"function"==typeof De&&(this.compare=De)}compare(U,De){return U===De}_next(U){let De;try{const{keySelector:be}=this;De=be?be(U):U}catch(be){return this.destination.error(be)}let Y=!1;if(this.hasKey)try{const{compare:be}=this;Y=be(this.key,De)}catch(be){return this.destination.error(be)}else this.hasKey=!0;Y||(this.key=De,this.destination.next(U))}}},8735:(Jt,vt,X)=>{"use strict";X.d(vt,{h:()=>B});var m=X(4168);function B(ce,U){return function(Y){return Y.lift(new he(ce,U))}}class he{constructor(U,De){this.predicate=U,this.thisArg=De}call(U,De){return De.subscribe(new Ne(U,this.predicate,this.thisArg))}}class Ne extends m.L{constructor(U,De,Y){super(U),this.predicate=De,this.thisArg=Y,this.count=0}_next(U){let De;try{De=this.predicate.call(this.thisArg,U,this.count++)}catch(Y){return void this.destination.error(Y)}De&&this.destination.next(U)}}},739:(Jt,vt,X)=>{"use strict";X.d(vt,{P:()=>De});var m=X(9443),B=X(8735),he=X(6636),Ne=X(3507),ce=X(6225),U=X(7255);function De(Y,be){const fe=arguments.length>=2;return ge=>ge.pipe(Y?(0,B.h)((_e,Te)=>Y(_e,Te,ge)):U.y,(0,he.q)(1),fe?(0,Ne.d)(be):(0,ce.T)(()=>new m.K))}},8053:(Jt,vt,X)=>{"use strict";X.d(vt,{U:()=>B});var m=X(4168);function B(ce,U){return function(Y){if("function"!=typeof ce)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Y.lift(new he(ce,U))}}class he{constructor(U,De){this.project=U,this.thisArg=De}call(U,De){return De.subscribe(new Ne(U,this.project,this.thisArg))}}class Ne extends m.L{constructor(U,De,Y){super(U),this.project=De,this.count=0,this.thisArg=Y||this}_next(U){let De;try{De=this.project.call(this.thisArg,U,this.count++)}catch(Y){return void this.destination.error(Y)}this.destination.next(De)}}},2225:(Jt,vt,X)=>{"use strict";X.d(vt,{J:()=>he});var m=X(4421),B=X(7255);function he(Ne=Number.POSITIVE_INFINITY){return(0,m.zg)(B.y,Ne)}},4421:(Jt,vt,X)=>{"use strict";X.d(vt,{zg:()=>Ne});var m=X(8053),B=X(1915),he=X(8345);function Ne(Y,be,fe=Number.POSITIVE_INFINITY){return"function"==typeof be?ge=>ge.pipe(Ne((_e,Te)=>(0,B.D)(Y(_e,Te)).pipe((0,m.U)((we,Ve)=>be(_e,we,Te,Ve))),fe)):("number"==typeof be&&(fe=be),ge=>ge.lift(new ce(Y,fe)))}class ce{constructor(be,fe=Number.POSITIVE_INFINITY){this.project=be,this.concurrent=fe}call(be,fe){return fe.subscribe(new U(be,this.project,this.concurrent))}}class U extends he.Ds{constructor(be,fe,ge=Number.POSITIVE_INFINITY){super(be),this.project=fe,this.concurrent=ge,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(be){this.active<this.concurrent?this._tryNext(be):this.buffer.push(be)}_tryNext(be){let fe;const ge=this.index++;try{fe=this.project(be,ge)}catch(_e){return void this.destination.error(_e)}this.active++,this._innerSub(fe)}_innerSub(be){const fe=new he.IY(this),ge=this.destination;ge.add(fe);const _e=(0,he.ft)(be,fe);_e!==fe&&ge.add(_e)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(be){this.destination.next(be)}notifyComplete(){const be=this.buffer;this.active--,be.length>0?this._next(be.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9254:(Jt,vt,X)=>{"use strict";X.d(vt,{ht:()=>ge,QV:()=>be});var m=X(4168),B=X(172),he=X(2411),Ne=X(5548);class Y{constructor(we,Ve,Xe){this.kind=we,this.value=Ve,this.error=Xe,this.hasValue="N"===we}observe(we){switch(this.kind){case"N":return we.next&&we.next(this.value);case"E":return we.error&&we.error(this.error);case"C":return we.complete&&we.complete()}}do(we,Ve,Xe){switch(this.kind){case"N":return we&&we(this.value);case"E":return Ve&&Ve(this.error);case"C":return Xe&&Xe()}}accept(we,Ve,Xe){return we&&"function"==typeof we.next?this.observe(we):this.do(we,Ve,Xe)}toObservable(){switch(this.kind){case"N":return(0,he.of)(this.value);case"E":return Te=this.error,new Ne.y(Ve=>Ve.error(Te));case"C":return(0,B.c)()}var Te;throw new Error("unexpected notification kind value")}static createNext(we){return void 0!==we?new Y("N",we):Y.undefinedValueNotification}static createError(we){return new Y("E",void 0,we)}static createComplete(){return Y.completeNotification}}function be(Te,we=0){return function(Xe){return Xe.lift(new fe(Te,we))}}Y.completeNotification=new Y("C"),Y.undefinedValueNotification=new Y("N",void 0);class fe{constructor(we,Ve=0){this.scheduler=we,this.delay=Ve}call(we,Ve){return Ve.subscribe(new ge(we,this.scheduler,this.delay))}}class ge extends m.L{constructor(we,Ve,Xe=0){super(we),this.scheduler=Ve,this.delay=Xe}static dispatch(we){const{notification:Ve,destination:Xe}=we;Ve.observe(Xe),this.unsubscribe()}scheduleMessage(we){this.destination.add(this.scheduler.schedule(ge.dispatch,this.delay,new _e(we,this.destination)))}_next(we){this.scheduleMessage(Y.createNext(we))}_error(we){this.scheduleMessage(Y.createError(we)),this.unsubscribe()}_complete(){this.scheduleMessage(Y.createComplete()),this.unsubscribe()}}class _e{constructor(we,Ve){this.notification=we,this.destination=Ve}}},5234:(Jt,vt,X)=>{"use strict";X.d(vt,{x:()=>B});var m=X(4168);function B(){return function(U){return U.lift(new he(U))}}class he{constructor(U){this.connectable=U}call(U,De){const{connectable:Y}=this;Y._refCount++;const be=new Ne(U,Y),fe=De.subscribe(be);return be.closed||(be.connection=Y.connect()),fe}}class Ne extends m.L{constructor(U,De){super(U),this.connectable=De}_unsubscribe(){const{connectable:U}=this;if(!U)return void(this.connection=null);this.connectable=null;const De=U._refCount;if(De<=0)return void(this.connection=null);if(U._refCount=De-1,De>1)return void(this.connection=null);const{connection:Y}=this,be=U._connection;this.connection=null,be&&(!Y||be===Y)&&be.unsubscribe()}}},7434:(Jt,vt,X)=>{"use strict";X.d(vt,{R:()=>B});var m=X(4168);function B(ce,U){let De=!1;return arguments.length>=2&&(De=!0),function(be){return be.lift(new he(ce,U,De))}}class he{constructor(U,De,Y=!1){this.accumulator=U,this.seed=De,this.hasSeed=Y}call(U,De){return De.subscribe(new Ne(U,this.accumulator,this.seed,this.hasSeed))}}class Ne extends m.L{constructor(U,De,Y,be){super(U),this.accumulator=De,this._seed=Y,this.hasSeed=be,this.index=0}get seed(){return this._seed}set seed(U){this.hasSeed=!0,this._seed=U}_next(U){if(this.hasSeed)return this._tryNext(U);this.seed=U,this.destination.next(U)}_tryNext(U){const De=this.index++;let Y;try{Y=this.accumulator(this.seed,U,De)}catch(be){this.destination.error(be)}this.seed=Y,this.destination.next(Y)}}},1125:(Jt,vt,X)=>{"use strict";X.d(vt,{O:()=>he});var m=X(3596),B=X(8151);function he(...Ne){const ce=Ne[Ne.length-1];return(0,B.K)(ce)?(Ne.pop(),U=>(0,m.z)(Ne,U,ce)):U=>(0,m.z)(Ne,U)}},2635:(Jt,vt,X)=>{"use strict";X.d(vt,{R:()=>Xe});var m=X(5548);let B=1;const he=Promise.resolve(),Ne={};function ce(ct){return ct in Ne&&(delete Ne[ct],!0)}const U={setImmediate(ct){const $e=B++;return Ne[$e]=!0,he.then(()=>ce($e)&&ct()),$e},clearImmediate(ct){ce(ct)}};var Y=X(6339),fe=X(5192);const Te=new class extends fe.v{flush($e){this.active=!0,this.scheduled=void 0;const{actions:de}=this;let Oe,Mt=-1,dt=de.length;$e=$e||de.shift();do{if(Oe=$e.execute($e.state,$e.delay))break}while(++Mt<dt&&($e=de.shift()));if(this.active=!1,Oe){for(;++Mt<dt&&($e=de.shift());)$e.unsubscribe();throw Oe}}}(class extends Y.o{constructor($e,de){super($e,de),this.scheduler=$e,this.work=de}requestAsyncId($e,de,Oe=0){return null!==Oe&&Oe>0?super.requestAsyncId($e,de,Oe):($e.actions.push(this),$e.scheduled||($e.scheduled=U.setImmediate($e.flush.bind($e,null))))}recycleAsyncId($e,de,Oe=0){if(null!==Oe&&Oe>0||null===Oe&&this.delay>0)return super.recycleAsyncId($e,de,Oe);0===$e.actions.length&&(U.clearImmediate(de),$e.scheduled=void 0)}});var we=X(8212);class Ve extends m.y{constructor($e,de=0,Oe=Te){super(),this.source=$e,this.delayTime=de,this.scheduler=Oe,(!(0,we.k)(de)||de<0)&&(this.delayTime=0),(!Oe||"function"!=typeof Oe.schedule)&&(this.scheduler=Te)}static create($e,de=0,Oe=Te){return new Ve($e,de,Oe)}static dispatch($e){const{source:de,subscriber:Oe}=$e;return this.add(de.subscribe(Oe))}_subscribe($e){return this.scheduler.schedule(Ve.dispatch,this.delayTime,{source:this.source,subscriber:$e})}}function Xe(ct,$e=0){return function(Oe){return Oe.lift(new Se(ct,$e))}}class Se{constructor($e,de){this.scheduler=$e,this.delay=de}call($e,de){return new Ve(de,this.delay,this.scheduler).subscribe($e)}}},9204:(Jt,vt,X)=>{"use strict";X.d(vt,{w:()=>Ne});var m=X(8053),B=X(1915),he=X(8345);function Ne(De,Y){return"function"==typeof Y?be=>be.pipe(Ne((fe,ge)=>(0,B.D)(De(fe,ge)).pipe((0,m.U)((_e,Te)=>Y(fe,_e,ge,Te))))):be=>be.lift(new ce(De))}class ce{constructor(Y){this.project=Y}call(Y,be){return be.subscribe(new U(Y,this.project))}}class U extends he.Ds{constructor(Y,be){super(Y),this.project=be,this.index=0}_next(Y){let be;const fe=this.index++;try{be=this.project(Y,fe)}catch(ge){return void this.destination.error(ge)}this._innerSub(be)}_innerSub(Y){const be=this.innerSubscription;be&&be.unsubscribe();const fe=new he.IY(this),ge=this.destination;ge.add(fe),this.innerSubscription=(0,he.ft)(Y,fe),this.innerSubscription!==fe&&ge.add(this.innerSubscription)}_complete(){const{innerSubscription:Y}=this;(!Y||Y.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Y){this.destination.next(Y)}}},6636:(Jt,vt,X)=>{"use strict";X.d(vt,{q:()=>Ne});var m=X(4168),B=X(523),he=X(172);function Ne(De){return Y=>0===De?(0,he.c)():Y.lift(new ce(De))}class ce{constructor(Y){if(this.total=Y,this.total<0)throw new B.W}call(Y,be){return be.subscribe(new U(Y,this.total))}}class U extends m.L{constructor(Y,be){super(Y),this.total=be,this.count=0}_next(Y){const be=this.total,fe=++this.count;fe<=be&&(this.destination.next(Y),fe===be&&(this.destination.complete(),this.unsubscribe()))}}},8805:(Jt,vt,X)=>{"use strict";X.d(vt,{R:()=>B});var m=X(8345);function B(ce){return U=>U.lift(new he(ce))}class he{constructor(U){this.notifier=U}call(U,De){const Y=new Ne(U),be=(0,m.ft)(this.notifier,new m.IY(Y));return be&&!Y.seenValue?(Y.add(be),De.subscribe(Y)):Y}}class Ne extends m.Ds{constructor(U){super(U),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},5722:(Jt,vt,X)=>{"use strict";X.d(vt,{b:()=>Ne});var m=X(4168);function B(){}var he=X(6783);function Ne(De,Y,be){return function(ge){return ge.lift(new ce(De,Y,be))}}class ce{constructor(Y,be,fe){this.nextOrObserver=Y,this.error=be,this.complete=fe}call(Y,be){return be.subscribe(new U(Y,this.nextOrObserver,this.error,this.complete))}}class U extends m.L{constructor(Y,be,fe,ge){super(Y),this._tapNext=B,this._tapError=B,this._tapComplete=B,this._tapError=fe||B,this._tapComplete=ge||B,(0,he.m)(be)?(this._context=this,this._tapNext=be):be&&(this._context=be,this._tapNext=be.next||B,this._tapError=be.error||B,this._tapComplete=be.complete||B)}_next(Y){try{this._tapNext.call(this._context,Y)}catch(be){return void this.destination.error(be)}this.destination.next(Y)}_error(Y){try{this._tapError.call(this._context,Y)}catch(be){return void this.destination.error(be)}this.destination.error(Y)}_complete(){try{this._tapComplete.call(this._context)}catch(Y){return void this.destination.error(Y)}return this.destination.complete()}}},6225:(Jt,vt,X)=>{"use strict";X.d(vt,{T:()=>he});var m=X(9443),B=X(4168);function he(De=U){return Y=>Y.lift(new Ne(De))}class Ne{constructor(Y){this.errorFactory=Y}call(Y,be){return be.subscribe(new ce(Y,this.errorFactory))}}class ce extends B.L{constructor(Y,be){super(Y),this.errorFactory=be,this.hasValue=!1}_next(Y){this.hasValue=!0,this.destination.next(Y)}_complete(){if(this.hasValue)return this.destination.complete();{let Y;try{Y=this.errorFactory()}catch(be){Y=be}this.destination.error(Y)}}}function U(){return new m.K}},3428:(Jt,vt,X)=>{"use strict";X.d(vt,{r:()=>he});var m=X(5548),B=X(1346);function he(Ne,ce){return new m.y(U=>{const De=new B.w;let Y=0;return De.add(ce.schedule(function(){Y!==Ne.length?(U.next(Ne[Y++]),U.closed||De.add(this.schedule())):U.complete()})),De})}},6339:(Jt,vt,X)=>{"use strict";X.d(vt,{o:()=>he});var m=X(1346);class B extends m.w{constructor(ce,U){super()}schedule(ce,U=0){return this}}class he extends B{constructor(ce,U){super(ce,U),this.scheduler=ce,this.work=U,this.pending=!1}schedule(ce,U=0){if(this.closed)return this;this.state=ce;const De=this.id,Y=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(Y,De,U)),this.pending=!0,this.delay=U,this.id=this.id||this.requestAsyncId(Y,this.id,U),this}requestAsyncId(ce,U,De=0){return setInterval(ce.flush.bind(ce,this),De)}recycleAsyncId(ce,U,De=0){if(null!==De&&this.delay===De&&!1===this.pending)return U;clearInterval(U)}execute(ce,U){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(ce,U);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,U){let Y,De=!1;try{this.work(ce)}catch(be){De=!0,Y=!!be&&be||new Error(be)}if(De)return this.unsubscribe(),Y}_unsubscribe(){const ce=this.id,U=this.scheduler,De=U.actions,Y=De.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Y&&De.splice(Y,1),null!=ce&&(this.id=this.recycleAsyncId(U,ce,null)),this.delay=null}}},5192:(Jt,vt,X)=>{"use strict";X.d(vt,{v:()=>B});let m=(()=>{class he{constructor(ce,U=he.now){this.SchedulerAction=ce,this.now=U}schedule(ce,U=0,De){return new this.SchedulerAction(this,ce).schedule(De,U)}}return he.now=()=>Date.now(),he})();class B extends m{constructor(Ne,ce=m.now){super(Ne,()=>B.delegate&&B.delegate!==this?B.delegate.now():ce()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ne,ce=0,U){return B.delegate&&B.delegate!==this?B.delegate.schedule(Ne,ce,U):super.schedule(Ne,ce,U)}flush(Ne){const{actions:ce}=this;if(this.active)return void ce.push(Ne);let U;this.active=!0;do{if(U=Ne.execute(Ne.state,Ne.delay))break}while(Ne=ce.shift());if(this.active=!1,U){for(;Ne=ce.shift();)Ne.unsubscribe();throw U}}}},8178:(Jt,vt,X)=>{"use strict";X.d(vt,{z:()=>he,P:()=>Ne});var m=X(6339);const he=new(X(5192).v)(m.o),Ne=he},7575:(Jt,vt,X)=>{"use strict";X.d(vt,{c:()=>U,N:()=>ce});var m=X(6339),he=X(5192);const ce=new class extends he.v{}(class extends m.o{constructor(Y,be){super(Y,be),this.scheduler=Y,this.work=be}schedule(Y,be=0){return be>0?super.schedule(Y,be):(this.delay=be,this.state=Y,this.scheduler.flush(this),this)}execute(Y,be){return be>0||this.closed?super.execute(Y,be):this._execute(Y,be)}requestAsyncId(Y,be,fe=0){return null!==fe&&fe>0||null===fe&&this.delay>0?super.requestAsyncId(Y,be,fe):Y.flush(this)}}),U=ce},4352:(Jt,vt,X)=>{"use strict";X.d(vt,{hZ:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},1359:(Jt,vt,X)=>{"use strict";X.d(vt,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},2926:(Jt,vt,X)=>{"use strict";X.d(vt,{b:()=>m});const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},523:(Jt,vt,X)=>{"use strict";X.d(vt,{W:()=>B});const B=(()=>{function he(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return he.prototype=Object.create(Error.prototype),he})()},9443:(Jt,vt,X)=>{"use strict";X.d(vt,{K:()=>B});const B=(()=>{function he(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return he.prototype=Object.create(Error.prototype),he})()},2108:(Jt,vt,X)=>{"use strict";X.d(vt,{N:()=>B});const B=(()=>{function he(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return he.prototype=Object.create(Error.prototype),he})()},9887:(Jt,vt,X)=>{"use strict";function m(B){setTimeout(()=>{throw B},0)}X.d(vt,{z:()=>m})},7255:(Jt,vt,X)=>{"use strict";function m(B){return B}X.d(vt,{y:()=>m})},5894:(Jt,vt,X)=>{"use strict";X.d(vt,{k:()=>m});const m=Array.isArray||(B=>B&&"number"==typeof B.length)},1265:(Jt,vt,X)=>{"use strict";X.d(vt,{z:()=>m});const m=B=>B&&"number"==typeof B.length&&"function"!=typeof B},6783:(Jt,vt,X)=>{"use strict";function m(B){return"function"==typeof B}X.d(vt,{m:()=>m})},8212:(Jt,vt,X)=>{"use strict";X.d(vt,{k:()=>B});var m=X(5894);function B(he){return!(0,m.k)(he)&&he-parseFloat(he)+1>=0}},7879:(Jt,vt,X)=>{"use strict";function m(B){return null!==B&&"object"==typeof B}X.d(vt,{K:()=>m})},847:(Jt,vt,X)=>{"use strict";function m(B){return!!B&&"function"!=typeof B.subscribe&&"function"==typeof B.then}X.d(vt,{t:()=>m})},8151:(Jt,vt,X)=>{"use strict";function m(B){return B&&"function"==typeof B.schedule}X.d(vt,{K:()=>m})},4651:(Jt,vt,X)=>{"use strict";X.d(vt,{s:()=>ge});var m=X(8769),B=X(9887),Ne=X(4352),U=X(1359),Y=X(1265),be=X(847),fe=X(7879);const ge=_e=>{if(_e&&"function"==typeof _e[U.L])return(_e=>Te=>{const we=_e[U.L]();if("function"!=typeof we.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return we.subscribe(Te)})(_e);if((0,Y.z)(_e))return(0,m.V)(_e);if((0,be.t)(_e))return(_e=>Te=>(_e.then(we=>{Te.closed||(Te.next(we),Te.complete())},we=>Te.error(we)).then(null,B.z),Te))(_e);if(_e&&"function"==typeof _e[Ne.hZ])return(_e=>Te=>{const we=_e[Ne.hZ]();for(;;){let Ve;try{Ve=we.next()}catch(Xe){return Te.error(Xe),Te}if(Ve.done){Te.complete();break}if(Te.next(Ve.value),Te.closed)break}return"function"==typeof we.return&&Te.add(()=>{we.return&&we.return()}),Te})(_e);{const we=`You provided ${(0,fe.K)(_e)?"an invalid object":`'${_e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(we)}}},8769:(Jt,vt,X)=>{"use strict";X.d(vt,{V:()=>m});const m=B=>he=>{for(let Ne=0,ce=B.length;Ne<ce&&!he.closed;Ne++)he.next(B[Ne]);he.complete()}},7693:(Jt,vt,X)=>{"use strict";X.d(vt,{K:()=>Ne});var m=X(3736),B=X(6019),he=X(9619);let Ne=(()=>{class ce{}return ce.\u0275fac=function(De){return new(De||ce)},ce.\u0275mod=he.oAB({type:ce}),ce.\u0275inj=he.cJS({imports:[[B.ez,m.Bz]]}),ce})()},2526:(Jt,vt,X)=>{"use strict";X.r(vt),X.d(vt,{AboutUsModule:()=>we});var m=X(2387),B=X(8438),he=X(9010),Ne=X(2581),ce=X(8239),U=X(9217),De=X(9619),Y=X(2467);let be=(()=>{class Ve{constructor(Se,ct,$e){this.afs=Se,this.spinner=ct,this.toastr=$e,this.Editor=U,this.data="",this.id=""}ngOnInit(){var Se=this;return(0,ce.Z)(function*(){yield Se.getAboutUs()})()}getAboutUs(){var Se=this;return(0,ce.Z)(function*(){Se.spinner.show();let ct=yield Se.afs.collection("aboutUs").get().toPromise();Se.spinner.hide();let $e=ct.docs[0].data();Se.data=$e.data,Se.id=ct.docs[0].id})()}onSave(){var Se=this;if(this.data){let ct={data:this.data};this.id?(this.spinner.show(),this.afs.collection("aboutUs").doc(this.id).update(ct).then(function(){var $e=(0,ce.Z)(function*(de){yield Se.getAboutUs(),Se.spinner.hide(),Se.toastr.success("About us updated successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>this.toastr.error($e.message,"Error"))):(this.spinner.show(),this.afs.collection("aboutUs").add(ct).then(function(){var $e=(0,ce.Z)(function*(de){yield Se.getAboutUs(),Se.spinner.hide(),Se.toastr.success("About us added successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>this.toastr.error($e.message,"Error")))}}}return Ve.\u0275fac=function(Se){return new(Se||Ve)(De.Y36(Ne.ST),De.Y36(B.t2),De.Y36(m._W))},Ve.\u0275cmp=De.Xpm({type:Ve,selectors:[["app-about-us"]],decls:5,vars:2,consts:[[1,"about_us_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],["type","button",3,"click"]],template:function(Se,ct){1&Se&&(De.TgZ(0,"div",0),De.TgZ(1,"ckeditor",1),De.NdJ("ngModelChange",function(de){return ct.data=de}),De.qZA(),De.TgZ(2,"div",2),De.TgZ(3,"button",3),De.NdJ("click",function(){return ct.onSave()}),De._uU(4,"Save"),De.qZA(),De.qZA(),De.qZA()),2&Se&&(De.xp6(1),De.Q6J("editor",ct.Editor)("ngModel",ct.data))},directives:[Y.u,he.JJ,he.On],styles:[".about_us_container[_ngcontent-%COMP%]{padding:25px}.about_us_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.about_us_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),Ve})();var fe=X(3736);const ge=[{path:"",component:be}];let _e=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=De.oAB({type:Ve}),Ve.\u0275inj=De.cJS({imports:[[fe.Bz.forChild(ge)],fe.Bz]}),Ve})();var Te=X(6019);let we=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=De.oAB({type:Ve}),Ve.\u0275inj=De.cJS({imports:[[Te.ez,_e,Y.d,Ne.yb,he.u5,B.ef,m.Rh.forRoot()]]}),Ve})()},3193:(Jt,vt,X)=>{"use strict";X.r(vt),X.d(vt,{AddressModule:()=>Ke});var m=X(2387),B=X(8239),he=X(9619),Ne=X(9010),ce=X(9365),U=X(2581),De=X(8438),Y=X(6019);function be(je,ze){1&je&&(he.TgZ(0,"span"),he._uU(1,"Branch Name is required"),he.qZA())}function fe(je,ze){if(1&je&&(he.TgZ(0,"div",27),he.YNc(1,be,2,0,"span",28),he.qZA()),2&je){const He=he.oxw();let Fe;he.xp6(1),he.Q6J("ngIf",null==(Fe=He.addressForm.get("branchName"))||null==Fe.errors?null:Fe.errors.required)}}function ge(je,ze){1&je&&(he.TgZ(0,"span"),he._uU(1,"Address is required"),he.qZA())}function _e(je,ze){if(1&je&&(he.TgZ(0,"div",27),he.YNc(1,ge,2,0,"span",28),he.qZA()),2&je){const He=he.oxw();let Fe;he.xp6(1),he.Q6J("ngIf",null==(Fe=He.addressForm.get("branchAddress"))||null==Fe.errors?null:Fe.errors.required)}}function Te(je,ze){1&je&&(he.TgZ(0,"span"),he._uU(1,"Sector is required"),he.qZA())}function we(je,ze){if(1&je&&(he.TgZ(0,"div",27),he.YNc(1,Te,2,0,"span",28),he.qZA()),2&je){const He=he.oxw();let Fe;he.xp6(1),he.Q6J("ngIf",null==(Fe=He.addressForm.get("addressType"))||null==Fe.errors?null:Fe.errors.required)}}function Ve(je,ze){1&je&&(he.TgZ(0,"span"),he._uU(1,"Email is required"),he.qZA())}function Xe(je,ze){1&je&&(he.TgZ(0,"span"),he._uU(1,"Mot a valid Email"),he.qZA())}function Se(je,ze){if(1&je&&(he.TgZ(0,"div",27),he.YNc(1,Ve,2,0,"span",28),he.YNc(2,Xe,2,0,"span",28),he.qZA()),2&je){const He=he.oxw();let Fe,Qe;he.xp6(1),he.Q6J("ngIf",null==(Fe=He.addressForm.get("email"))||null==Fe.errors?null:Fe.errors.required),he.xp6(1),he.Q6J("ngIf",null==(Qe=He.addressForm.get("email"))||null==Qe.errors?null:Qe.errors.email)}}function ct(je,ze){1&je&&(he.TgZ(0,"span"),he._uU(1,"Mobile Number is required"),he.qZA())}function $e(je,ze){if(1&je&&(he.TgZ(0,"div",27),he.YNc(1,ct,2,0,"span",28),he.qZA()),2&je){const He=he.oxw();let Fe;he.xp6(1),he.Q6J("ngIf",null==(Fe=He.addressForm.get("mobile"))||null==Fe.errors?null:Fe.errors.required)}}function de(je,ze){1&je&&(he.TgZ(0,"span"),he._uU(1,"Whatsapp Number is required"),he.qZA())}function Oe(je,ze){if(1&je&&(he.TgZ(0,"div",27),he.YNc(1,de,2,0,"span",28),he.qZA()),2&je){const He=he.oxw();let Fe;he.xp6(1),he.Q6J("ngIf",null==(Fe=He.addressForm.get("whatsappNumber"))||null==Fe.errors?null:Fe.errors.required)}}function Mt(je,ze){1&je&&(he.TgZ(0,"span"),he._uU(1,"Google Maps Link is required"),he.qZA())}function dt(je,ze){if(1&je&&(he.TgZ(0,"div",27),he.YNc(1,Mt,2,0,"span",28),he.qZA()),2&je){const He=he.oxw();let Fe;he.xp6(1),he.Q6J("ngIf",null==(Fe=He.addressForm.get("maps_link"))||null==Fe.errors?null:Fe.errors.required)}}let Xt=(()=>{class je{constructor(He,Fe,Qe,It){this.fb=He,this.afs=Fe,this.spinner=Qe,this.toastr=It,this.settings={columns:{s_no:{title:"S No.",filter:!1},branch_name:{title:"Branch Name",filter:!1},address_type:{title:"Address Type",filter:!1},email:{title:"Email",filter:!1},mobile:{title:"Mobile Number",filter:!1},address:{title:"Address",filter:!1},actions:{title:"Actions",filter:!1,type:"custom",renderComponent:qt,onComponentInitFunction:Vt=>{Vt.onEdit.subscribe(Ht=>{console.log("Edit",Ht),this.addEditLabel="Edit",this.editId=Ht.id,this.addressForm.patchValue({branchName:Ht.branch_name,branchAddress:Ht.address,addressType:Ht.address_type,email:Ht.email,mobile:Ht.mobile,whatsappNumber:Ht.whatsappNumber,maps_link:Ht.maps_link})}),Vt.onDelete.subscribe(Ht=>this.delete(Ht.id))}}},pager:{display:!0,perPage:10},actions:{add:!1,edit:!1,delete:!1,position:"right"}},this.addEditLabel="Add New",this.editId="",this.addresses=[],this.addressForm=this.fb.group({branchName:new Ne.NI("",[Ne.kI.required]),branchAddress:new Ne.NI("",[Ne.kI.required]),addressType:new Ne.NI("",[Ne.kI.required]),email:new Ne.NI("",[Ne.kI.required,Ne.kI.email]),mobile:new Ne.NI("",[Ne.kI.required]),whatsappNumber:new Ne.NI("",[Ne.kI.required]),maps_link:new Ne.NI("",[])})}ngOnInit(){var He=this;return(0,B.Z)(function*(){yield He.getAdresses()})()}getAdresses(){var He=this;return(0,B.Z)(function*(){He.spinner.show();const Fe=yield He.afs.collection("Address").get().toPromise();He.spinner.hide(),console.log(Fe.docs[0].data());let Qe=[];for(let It in Fe.docs){let Vt=Fe.docs[It].data();Qe.push({s_no:+It+1,id:Fe.docs[It].id,branch_name:Vt.location,address:Vt.address,address_type:Vt.addressType,email:Vt.email,mobile:Vt.mobile,whatsappNumber:Vt.whatsappNumber,maps_link:Vt.mapsLink})}He.addresses=Qe,He.source=new ce.nC(Qe)})()}onSearch(He=""){""!=He?this.source.setFilter([{field:"branch_name",search:He},{field:"address",search:He},{field:"address_type",search:He},{field:"email",search:He},{field:"mobile",search:He}],!1):this.source.reset()}delete(He){var Fe=this;this.spinner.show(),this.afs.collection("Address").doc(He).delete().then(function(){var Qe=(0,B.Z)(function*(It){yield Fe.getAdresses(),Fe.spinner.hide(),Fe.toastr.success("Address deleted successfully!","Successful")});return function(It){return Qe.apply(this,arguments)}}()).catch(Qe=>this.toastr.error(Qe.message,"Error"))}onSubmit(){var He=this;console.log(this.addressForm.value);for(let Fe in this.addressForm.controls)this.addressForm.controls[Fe].markAsTouched(),this.addressForm.controls[Fe].updateValueAndValidity();if(this.addressForm.valid){let Fe={address:this.addressForm.controls.branchAddress.value,location:this.addressForm.controls.branchName.value,addressType:this.addressForm.controls.addressType.value,email:this.addressForm.controls.email.value,mobile:this.addressForm.controls.mobile.value,whatsappNumber:this.addressForm.controls.whatsappNumber.value,mapsLink:this.addressForm.controls.maps_link.value||""},Qe=this.addresses.findIndex(It=>It.address_type==Fe.addressType);Qe>=0&&(this.editId=this.addresses[Qe].id),this.editId?(this.spinner.show(),this.afs.collection("Address").doc(this.editId).update(Fe).then(function(){var It=(0,B.Z)(function*(Vt){He.editId="",He.addEditLabel="Add New",He.addressForm.reset(),yield He.getAdresses(),He.spinner.hide(),He.toastr.success("Address updated successfully","Successful")});return function(Vt){return It.apply(this,arguments)}}()).catch(It=>this.toastr.error(It.message,"Error"))):(this.spinner.show(),this.afs.collection("Address").add(Fe).then(function(){var It=(0,B.Z)(function*(Vt){He.addressForm.reset(),yield He.getAdresses(),He.spinner.hide(),He.toastr.success("Address added successfully","Successful")});return function(Vt){return It.apply(this,arguments)}}()).catch(It=>this.toastr.error(It.message,"Error")))}}}return je.\u0275fac=function(He){return new(He||je)(he.Y36(Ne.qu),he.Y36(U.ST),he.Y36(De.t2),he.Y36(m._W))},je.\u0275cmp=he.Xpm({type:je,selectors:[["app-address"]],decls:55,vars:11,consts:[[1,"address_container"],[1,"search_container"],["type","text","placeholder","Search...",3,"keydown.enter"],["search",""],[3,"settings","source"],[1,"form_container"],[3,"formGroup","ngSubmit"],[1,"form_control"],["for","branch_name"],["type","text","id","branch_name","formControlName","branchName"],["class","error",4,"ngIf"],["for","branch_address"],["type","text","id","branch_address","rows","10","formControlName","branchAddress"],["for","type"],["id","type","placeholder","Select Address Type","formControlName","addressType"],["value","Registered",1,"option"],["value","Corporate",1,"option"],["value","Branch",1,"option"],["for","email"],["type","email","id","email","formControlName","email"],["for","mobile"],["type","text","id","mobile","formControlName","mobile"],["for","whatsappNumber"],["type","text","id","whatsappNumber","formControlName","whatsappNumber"],["for","maps_link"],["type","text","id","maps_link","formControlName","maps_link"],["type","submit"],[1,"error"],[4,"ngIf"]],template:function(He,Fe){if(1&He){const Qe=he.EpF();he.TgZ(0,"div",0),he.TgZ(1,"div",1),he.TgZ(2,"input",2,3),he.NdJ("keydown.enter",function(){he.CHM(Qe);const Vt=he.MAs(3);return Fe.onSearch(Vt.value)}),he.qZA(),he.qZA(),he._UZ(4,"ng2-smart-table",4),he._UZ(5,"br"),he._UZ(6,"br"),he._UZ(7,"br"),he.TgZ(8,"div",5),he.TgZ(9,"h5"),he._uU(10),he.qZA(),he.TgZ(11,"form",6),he.NdJ("ngSubmit",function(){return Fe.onSubmit()}),he.TgZ(12,"div",7),he.TgZ(13,"label",8),he._uU(14,"Branch Name"),he.qZA(),he._UZ(15,"input",9),he.YNc(16,fe,2,1,"div",10),he.qZA(),he.TgZ(17,"div",7),he.TgZ(18,"label",11),he._uU(19,"Branch Address"),he.qZA(),he._UZ(20,"textarea",12),he.YNc(21,_e,2,1,"div",10),he.qZA(),he.TgZ(22,"div",7),he.TgZ(23,"label",13),he._uU(24,"Address Type"),he.qZA(),he.TgZ(25,"select",14),he.TgZ(26,"option",15),he._uU(27,"Registered"),he.qZA(),he.TgZ(28,"option",16),he._uU(29,"Corporate"),he.qZA(),he.TgZ(30,"option",17),he._uU(31,"Branch"),he.qZA(),he.qZA(),he.YNc(32,we,2,1,"div",10),he.qZA(),he.TgZ(33,"div",7),he.TgZ(34,"label",18),he._uU(35,"Email"),he.qZA(),he._UZ(36,"input",19),he.YNc(37,Se,3,2,"div",10),he.qZA(),he.TgZ(38,"div",7),he.TgZ(39,"label",20),he._uU(40,"Mobile Number"),he.qZA(),he._UZ(41,"input",21),he.YNc(42,$e,2,1,"div",10),he.qZA(),he.TgZ(43,"div",7),he.TgZ(44,"label",22),he._uU(45,"Whatsapp Number"),he.qZA(),he._UZ(46,"input",23),he.YNc(47,Oe,2,1,"div",10),he.qZA(),he.TgZ(48,"div",7),he.TgZ(49,"label",24),he._uU(50,"Google Maps Link"),he.qZA(),he._UZ(51,"input",25),he.YNc(52,dt,2,1,"div",10),he.qZA(),he.TgZ(53,"button",26),he._uU(54,"Save & Update"),he.qZA(),he.qZA(),he.qZA(),he.qZA()}if(2&He){let Qe,It,Vt,Ht,jt,Kt,lt;he.xp6(4),he.Q6J("settings",Fe.settings)("source",Fe.source),he.xp6(6),he.hij("",Fe.addEditLabel," Address"),he.xp6(1),he.Q6J("formGroup",Fe.addressForm),he.xp6(5),he.Q6J("ngIf",((null==(Qe=Fe.addressForm.get("branchName"))?null:Qe.touched)||(null==(Qe=Fe.addressForm.get("branchName"))?null:Qe.dirty))&&(null==(Qe=Fe.addressForm.get("branchName"))?null:Qe.invalid)&&(null==(Qe=Fe.addressForm.get("branchName"))?null:Qe.errors)),he.xp6(5),he.Q6J("ngIf",((null==(It=Fe.addressForm.get("branchAddress"))?null:It.touched)||(null==(It=Fe.addressForm.get("branchAddress"))?null:It.dirty))&&(null==(It=Fe.addressForm.get("branchAddress"))?null:It.invalid)&&(null==(It=Fe.addressForm.get("branchAddress"))?null:It.errors)),he.xp6(11),he.Q6J("ngIf",((null==(Vt=Fe.addressForm.get("addressType"))?null:Vt.touched)||(null==(Vt=Fe.addressForm.get("addressType"))?null:Vt.dirty))&&(null==(Vt=Fe.addressForm.get("addressType"))?null:Vt.invalid)&&(null==(Vt=Fe.addressForm.get("addressType"))?null:Vt.errors)),he.xp6(5),he.Q6J("ngIf",((null==(Ht=Fe.addressForm.get("email"))?null:Ht.touched)||(null==(Ht=Fe.addressForm.get("email"))?null:Ht.dirty))&&(null==(Ht=Fe.addressForm.get("email"))?null:Ht.invalid)&&(null==(Ht=Fe.addressForm.get("email"))?null:Ht.errors)),he.xp6(5),he.Q6J("ngIf",((null==(jt=Fe.addressForm.get("mobile"))?null:jt.touched)||(null==(jt=Fe.addressForm.get("mobile"))?null:jt.dirty))&&(null==(jt=Fe.addressForm.get("mobile"))?null:jt.invalid)&&(null==(jt=Fe.addressForm.get("mobile"))?null:jt.errors)),he.xp6(5),he.Q6J("ngIf",((null==(Kt=Fe.addressForm.get("whatsappNumber"))?null:Kt.touched)||(null==(Kt=Fe.addressForm.get("whatsappNumber"))?null:Kt.dirty))&&(null==(Kt=Fe.addressForm.get("whatsappNumber"))?null:Kt.invalid)&&(null==(Kt=Fe.addressForm.get("whatsappNumber"))?null:Kt.errors)),he.xp6(5),he.Q6J("ngIf",((null==(lt=Fe.addressForm.get("maps_link"))?null:lt.touched)||(null==(lt=Fe.addressForm.get("maps_link"))?null:lt.dirty))&&(null==(lt=Fe.addressForm.get("maps_link"))?null:lt.invalid)&&(null==(lt=Fe.addressForm.get("maps_link"))?null:lt.errors))}},directives:[ce.T5,Ne._Y,Ne.JL,Ne.sg,Ne.Fj,Ne.JJ,Ne.u,Y.O5,Ne.EJ,Ne.YN,Ne.Kr],styles:[".address_container[_ngcontent-%COMP%]{width:100%;padding:25px;box-sizing:border-box}.address_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:10px 0}.address_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:34px;padding:0 15px;outline:none;border:1px solid #d4d4d4;border-radius:5px;color:#000;font-size:13px}.form_container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#8a3265;margin-bottom:30px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:75%}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;grid-gap:5px;gap:5px;margin-bottom:15px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:normal}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;outline:none;border:1px solid #d4d5d9;border-radius:5px;padding:0 10px;font-size:14px;font-weight:400;color:#454545;box-sizing:border-box}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{box-shadow:0 0 3px 2px #853262b3}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:36px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:13px;color:#ef0000;font-weight:400}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ng2-smart-filters{display:none!important}  ng2-smart-table table{border:1px solid #e4e5e9}  ng2-smart-table thead{background:#8a3265}  .ng2-smart-title,   ng2-smart-table-title a{color:#fff!important;white-space:nowrap}  .ng2-smart-title:hover,   ng2-smart-table-title a:hover{text-decoration:none!important}  .ng2-smart-title:after,   ng2-smart-table-title a:after{border-bottom-color:#fff!important}  .ng2-smart-row{border-top:1px solid #e4e5e9}  table-cell-view-mode{text-align:center}  table-cell-view-mode .text div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  ng2-st-tbody-edit-delete{display:flex!important;justify-content:space-around!important}  ng2-st-tbody-edit-delete a{color:#8a3265!important}@media (max-width: 996px){.address_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:80%}}@media (max-width: 768px){.address_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:90%}}@media (max-width: 576px){.address_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}}"]}),je})(),qt=(()=>{class je{constructor(){this.onEdit=new he.vpe,this.onDelete=new he.vpe}ngOnInit(){}edit(){this.onEdit.emit(this.rowData)}delete(){this.onDelete.emit(this.rowData)}}return je.\u0275fac=function(He){return new(He||je)},je.\u0275cmp=he.Xpm({type:je,selectors:[["app-products-action"]],inputs:{rowData:"rowData"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:5,vars:0,consts:[[1,"actions"],[3,"click"]],template:function(He,Fe){1&He&&(he.TgZ(0,"div",0),he.TgZ(1,"a",1),he.NdJ("click",function(){return Fe.edit()}),he._uU(2,"Edit"),he.qZA(),he.TgZ(3,"a",1),he.NdJ("click",function(){return Fe.delete()}),he._uU(4,"Delete"),he.qZA(),he.qZA())},styles:[".actions[_ngcontent-%COMP%]{display:flex;grid-gap:10px;gap:10px;justify-content:center}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8a3265;cursor:pointer}"]}),je})();var vn=X(3736);const At=[{path:"",component:Xt}];let et=(()=>{class je{}return je.\u0275fac=function(He){return new(He||je)},je.\u0275mod=he.oAB({type:je}),je.\u0275inj=he.cJS({imports:[[vn.Bz.forChild(At)],vn.Bz]}),je})(),Ke=(()=>{class je{}return je.\u0275fac=function(He){return new(He||je)},je.\u0275mod=he.oAB({type:je}),je.\u0275inj=he.cJS({imports:[[Y.ez,et,Ne.u5,Ne.UX,ce.ne,U.yb,m.Rh]]}),je})()},3227:(Jt,vt,X)=>{"use strict";X.r(vt),X.d(vt,{CookiesModule:()=>we});var m=X(2387),B=X(9010),he=X(2581),Ne=X(3736),ce=X(8239),U=X(9217),De=X(9619),Y=X(8438),be=X(2467);const ge=[{path:"",component:(()=>{class Ve{constructor(Se,ct,$e){this.afs=Se,this.spinner=ct,this.toastr=$e,this.Editor=U,this.data="",this.id=""}ngOnInit(){var Se=this;return(0,ce.Z)(function*(){yield Se.getCookies()})()}getCookies(){var Se=this;return(0,ce.Z)(function*(){Se.spinner.show();let ct=yield Se.afs.collection("cookies").get().toPromise();Se.spinner.hide();let $e=ct.docs[0].data();Se.data=$e.data,Se.id=ct.docs[0].id})()}onSave(){var Se=this;if(this.data){let ct={data:this.data};this.id?(this.spinner.show(),this.afs.collection("cookies").doc(this.id).update(ct).then(function(){var $e=(0,ce.Z)(function*(de){yield Se.getCookies(),Se.spinner.hide(),Se.toastr.success("Cookies updated successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")})):(this.spinner.show(),this.afs.collection("cookies").add(ct).then(function(){var $e=(0,ce.Z)(function*(de){yield Se.getCookies(),Se.spinner.hide(),Se.toastr.success("Cookies added successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")}))}}}return Ve.\u0275fac=function(Se){return new(Se||Ve)(De.Y36(he.ST),De.Y36(Y.t2),De.Y36(m._W))},Ve.\u0275cmp=De.Xpm({type:Ve,selectors:[["app-cookies"]],decls:5,vars:2,consts:[[1,"cookies_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Se,ct){1&Se&&(De.TgZ(0,"div",0),De.TgZ(1,"ckeditor",1),De.NdJ("ngModelChange",function(de){return ct.data=de}),De.qZA(),De.TgZ(2,"div",2),De.TgZ(3,"button",3),De.NdJ("click",function(){return ct.onSave()}),De._uU(4,"Save"),De.qZA(),De.qZA(),De.qZA()),2&Se&&(De.xp6(1),De.Q6J("editor",ct.Editor)("ngModel",ct.data))},directives:[be.u,B.JJ,B.On],styles:[".cookies_container[_ngcontent-%COMP%]{padding:25px}.cookies_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.cookies_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),Ve})()}];let _e=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=De.oAB({type:Ve}),Ve.\u0275inj=De.cJS({imports:[[Ne.Bz.forChild(ge)],Ne.Bz]}),Ve})();var Te=X(6019);let we=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=De.oAB({type:Ve}),Ve.\u0275inj=De.cJS({imports:[[Te.ez,_e,be.d,he.yb,B.u5,m.Rh]]}),Ve})()},926:(Jt,vt,X)=>{"use strict";X.r(vt),X.d(vt,{CustomerGrievenceModule:()=>we});var m=X(2387),B=X(9010),he=X(2581),Ne=X(8239),ce=X(9217),U=X(9619),De=X(8438),Y=X(2467);let be=(()=>{class Ve{constructor(Se,ct,$e){this.afs=Se,this.spinner=ct,this.toastr=$e,this.Editor=ce,this.data="",this.id=""}ngOnInit(){var Se=this;return(0,Ne.Z)(function*(){yield Se.getCustomerGrievence()})()}getCustomerGrievence(){var Se=this;return(0,Ne.Z)(function*(){Se.spinner.show();let ct=yield Se.afs.collection("customerGrievence").get().toPromise();Se.spinner.hide();let $e=ct.docs[0].data();Se.data=$e.data,Se.id=ct.docs[0].id})()}onSave(){var Se=this;if(this.data){let ct={data:this.data};this.id?(this.spinner.show(),this.afs.collection("customerGrievence").doc(this.id).update(ct).then(function(){var $e=(0,Ne.Z)(function*(de){yield Se.getCustomerGrievence(),Se.spinner.hide(),Se.toastr.success("Customer grievence updated successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")})):(this.spinner.show(),this.afs.collection("customerGrievence").add(ct).then(function(){var $e=(0,Ne.Z)(function*(de){yield Se.getCustomerGrievence(),Se.spinner.hide(),Se.toastr.success("Customer grievence added successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")}))}}}return Ve.\u0275fac=function(Se){return new(Se||Ve)(U.Y36(he.ST),U.Y36(De.t2),U.Y36(m._W))},Ve.\u0275cmp=U.Xpm({type:Ve,selectors:[["app-customer-grievence"]],decls:5,vars:2,consts:[[1,"customer_grievence_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Se,ct){1&Se&&(U.TgZ(0,"div",0),U.TgZ(1,"ckeditor",1),U.NdJ("ngModelChange",function(de){return ct.data=de}),U.qZA(),U.TgZ(2,"div",2),U.TgZ(3,"button",3),U.NdJ("click",function(){return ct.onSave()}),U._uU(4,"Save"),U.qZA(),U.qZA(),U.qZA()),2&Se&&(U.xp6(1),U.Q6J("editor",ct.Editor)("ngModel",ct.data))},directives:[Y.u,B.JJ,B.On],styles:[".customer_grievence_container[_ngcontent-%COMP%]{padding:25px}.customer_grievence_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.customer_grievence_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),Ve})();var fe=X(3736);const ge=[{path:"",component:be}];let _e=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=U.oAB({type:Ve}),Ve.\u0275inj=U.cJS({imports:[[fe.Bz.forChild(ge)],fe.Bz]}),Ve})();var Te=X(6019);let we=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=U.oAB({type:Ve}),Ve.\u0275inj=U.cJS({imports:[[Te.ez,_e,Y.d,he.yb,B.u5,m.Rh]]}),Ve})()},8378:(Jt,vt,X)=>{"use strict";X.r(vt),X.d(vt,{DisclaimerModule:()=>we});var m=X(2387),B=X(9010),he=X(2581),Ne=X(8239),ce=X(9217),U=X(9619),De=X(8438),Y=X(2467);let be=(()=>{class Ve{constructor(Se,ct,$e){this.afs=Se,this.spinner=ct,this.toastr=$e,this.Editor=ce,this.data="",this.id=""}ngOnInit(){var Se=this;return(0,Ne.Z)(function*(){yield Se.getDisclaimer()})()}getDisclaimer(){var Se=this;return(0,Ne.Z)(function*(){Se.spinner.show();let ct=yield Se.afs.collection("disclaimer").get().toPromise();Se.spinner.hide();let $e=ct.docs[0].data();Se.data=$e.data,Se.id=ct.docs[0].id})()}onSave(){var Se=this;if(this.data){let ct={data:this.data};this.id?(this.spinner.show(),this.afs.collection("disclaimer").doc(this.id).update(ct).then(function(){var $e=(0,Ne.Z)(function*(de){yield Se.getDisclaimer(),Se.spinner.hide(),Se.toastr.success("Disclaimer updated successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")})):(this.spinner.show(),this.afs.collection("disclaimer").add(ct).then(function(){var $e=(0,Ne.Z)(function*(de){yield Se.getDisclaimer(),Se.spinner.hide(),Se.toastr.success("Disclaimer added successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")}))}}}return Ve.\u0275fac=function(Se){return new(Se||Ve)(U.Y36(he.ST),U.Y36(De.t2),U.Y36(m._W))},Ve.\u0275cmp=U.Xpm({type:Ve,selectors:[["app-disclaimer"]],decls:5,vars:2,consts:[[1,"disclaimer_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Se,ct){1&Se&&(U.TgZ(0,"div",0),U.TgZ(1,"ckeditor",1),U.NdJ("ngModelChange",function(de){return ct.data=de}),U.qZA(),U.TgZ(2,"div",2),U.TgZ(3,"button",3),U.NdJ("click",function(){return ct.onSave()}),U._uU(4,"Save"),U.qZA(),U.qZA(),U.qZA()),2&Se&&(U.xp6(1),U.Q6J("editor",ct.Editor)("ngModel",ct.data))},directives:[Y.u,B.JJ,B.On],styles:[".disclaimer_container[_ngcontent-%COMP%]{padding:25px}.disclaimer_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.disclaimer_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),Ve})();var fe=X(3736);const ge=[{path:"",component:be}];let _e=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=U.oAB({type:Ve}),Ve.\u0275inj=U.cJS({imports:[[fe.Bz.forChild(ge)],fe.Bz]}),Ve})();var Te=X(6019);let we=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=U.oAB({type:Ve}),Ve.\u0275inj=U.cJS({imports:[[Te.ez,_e,Y.d,he.yb,B.u5,m.Rh]]}),Ve})()},2486:(Jt,vt,X)=>{"use strict";X.r(vt),X.d(vt,{DisclosureModule:()=>we});var m=X(2387),B=X(9010),he=X(2581),Ne=X(8239),ce=X(9217),U=X(9619),De=X(8438),Y=X(2467);let be=(()=>{class Ve{constructor(Se,ct,$e){this.afs=Se,this.spinner=ct,this.toastr=$e,this.Editor=ce,this.data="",this.id=""}ngOnInit(){var Se=this;return(0,Ne.Z)(function*(){yield Se.getDisclosure()})()}getDisclosure(){var Se=this;return(0,Ne.Z)(function*(){Se.spinner.show();let ct=yield Se.afs.collection("disclosure").get().toPromise();Se.spinner.hide();let $e=ct.docs[0].data();Se.data=$e.data,Se.id=ct.docs[0].id})()}onSave(){var Se=this;if(this.data){let ct={data:this.data};this.id?(this.spinner.show(),this.afs.collection("disclosure").doc(this.id).update(ct).then(function(){var $e=(0,Ne.Z)(function*(de){yield Se.getDisclosure(),Se.spinner.hide(),Se.toastr.success("Disclosure updated successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")})):(this.spinner.show(),this.afs.collection("disclosure").add(ct).then(function(){var $e=(0,Ne.Z)(function*(de){yield Se.getDisclosure(),Se.spinner.hide(),Se.toastr.success("Disclosure added successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")}))}}}return Ve.\u0275fac=function(Se){return new(Se||Ve)(U.Y36(he.ST),U.Y36(De.t2),U.Y36(m._W))},Ve.\u0275cmp=U.Xpm({type:Ve,selectors:[["app-disclosure"]],decls:5,vars:2,consts:[[1,"disclosure_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Se,ct){1&Se&&(U.TgZ(0,"div",0),U.TgZ(1,"ckeditor",1),U.NdJ("ngModelChange",function(de){return ct.data=de}),U.qZA(),U.TgZ(2,"div",2),U.TgZ(3,"button",3),U.NdJ("click",function(){return ct.onSave()}),U._uU(4,"Save"),U.qZA(),U.qZA(),U.qZA()),2&Se&&(U.xp6(1),U.Q6J("editor",ct.Editor)("ngModel",ct.data))},directives:[Y.u,B.JJ,B.On],styles:[".disclosure_container[_ngcontent-%COMP%]{padding:25px}.disclosure_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.disclosure_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),Ve})();var fe=X(3736);const ge=[{path:"",component:be}];let _e=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=U.oAB({type:Ve}),Ve.\u0275inj=U.cJS({imports:[[fe.Bz.forChild(ge)],fe.Bz]}),Ve})();var Te=X(6019);let we=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=U.oAB({type:Ve}),Ve.\u0275inj=U.cJS({imports:[[Te.ez,_e,Y.d,he.yb,B.u5,m.Rh]]}),Ve})()},2998:(Jt,vt,X)=>{"use strict";X.r(vt),X.d(vt,{PrivacyModule:()=>we});var m=X(2387),B=X(9010),he=X(2581),Ne=X(8239),ce=X(9217),U=X(9619),De=X(8438),Y=X(2467);let be=(()=>{class Ve{constructor(Se,ct,$e){this.afs=Se,this.spinner=ct,this.toastr=$e,this.Editor=ce,this.data="",this.id=""}ngOnInit(){var Se=this;return(0,Ne.Z)(function*(){yield Se.getPrivacy()})()}getPrivacy(){var Se=this;return(0,Ne.Z)(function*(){Se.spinner.show();let ct=yield Se.afs.collection("privacy").get().toPromise();Se.spinner.hide();let $e=ct.docs[0].data();Se.data=$e.data,Se.id=ct.docs[0].id})()}onSave(){var Se=this;if(this.data){let ct={data:this.data};this.id?(this.spinner.show(),this.afs.collection("privacy").doc(this.id).update(ct).then(function(){var $e=(0,Ne.Z)(function*(de){yield Se.getPrivacy(),Se.spinner.hide(),Se.toastr.success("Privacy details updated successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")})):(this.spinner.show(),this.afs.collection("privacy").add(ct).then(function(){var $e=(0,Ne.Z)(function*(de){yield Se.getPrivacy(),Se.spinner.hide(),Se.toastr.success("Privacy details added successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")}))}}}return Ve.\u0275fac=function(Se){return new(Se||Ve)(U.Y36(he.ST),U.Y36(De.t2),U.Y36(m._W))},Ve.\u0275cmp=U.Xpm({type:Ve,selectors:[["app-privacy"]],decls:5,vars:2,consts:[[1,"privacy_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Se,ct){1&Se&&(U.TgZ(0,"div",0),U.TgZ(1,"ckeditor",1),U.NdJ("ngModelChange",function(de){return ct.data=de}),U.qZA(),U.TgZ(2,"div",2),U.TgZ(3,"button",3),U.NdJ("click",function(){return ct.onSave()}),U._uU(4,"Save"),U.qZA(),U.qZA(),U.qZA()),2&Se&&(U.xp6(1),U.Q6J("editor",ct.Editor)("ngModel",ct.data))},directives:[Y.u,B.JJ,B.On],styles:[".privacy_container[_ngcontent-%COMP%]{padding:25px}.privacy_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.privacy_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),Ve})();var fe=X(3736);const ge=[{path:"",component:be}];let _e=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=U.oAB({type:Ve}),Ve.\u0275inj=U.cJS({imports:[[fe.Bz.forChild(ge)],fe.Bz]}),Ve})();var Te=X(6019);let we=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=U.oAB({type:Ve}),Ve.\u0275inj=U.cJS({imports:[[Te.ez,_e,Y.d,he.yb,B.u5,m.Rh]]}),Ve})()},7944:(Jt,vt,X)=>{"use strict";X.r(vt),X.d(vt,{ProductsModule:()=>At});var m=X(2387),B=X(2581),he=X(3736),Ne=X(8239),ce=X(9010),U=X(9619),De=X(9365),Y=X(9629),be=X(8438),fe=X(6019);function ge(et,Ke){1&et&&(U.TgZ(0,"span"),U._uU(1,"Name is required"),U.qZA())}function _e(et,Ke){if(1&et&&(U.TgZ(0,"div",21),U.YNc(1,ge,2,0,"span",22),U.qZA()),2&et){const je=U.oxw();let ze;U.xp6(1),U.Q6J("ngIf",null==(ze=je.productForm.get("name"))||null==ze.errors?null:ze.errors.required)}}function Te(et,Ke){1&et&&(U.TgZ(0,"span"),U._uU(1,"Description is required"),U.qZA())}function we(et,Ke){if(1&et&&(U.TgZ(0,"div",21),U.YNc(1,Te,2,0,"span",22),U.qZA()),2&et){const je=U.oxw();let ze;U.xp6(1),U.Q6J("ngIf",null==(ze=je.productForm.get("description"))||null==ze.errors?null:ze.errors.required)}}function Ve(et,Ke){1&et&&(U.TgZ(0,"span"),U._uU(1,"Icon is required"),U.qZA())}function Xe(et,Ke){if(1&et&&(U.TgZ(0,"div",21),U.YNc(1,Ve,2,0,"span",22),U.qZA()),2&et){const je=U.oxw();let ze;U.xp6(1),U.Q6J("ngIf",null==(ze=je.productForm.get("icon"))||null==ze.errors?null:ze.errors.required)}}function Se(et,Ke){if(1&et){const je=U.EpF();U.TgZ(0,"div",23),U.TgZ(1,"div",24),U._uU(2,"Sector Icon"),U.qZA(),U.TgZ(3,"div",25),U.TgZ(4,"i",26),U.NdJ("click",function(){return U.CHM(je),U.oxw().previewImage()}),U.qZA(),U.TgZ(5,"i",27),U.NdJ("click",function(){U.CHM(je);const He=U.oxw();return U.MAs(26).value="",He.removeImage()}),U.qZA(),U.qZA(),U.qZA()}}function ct(et,Ke){if(1&et&&(U.TgZ(0,"option",28),U._uU(1),U.qZA()),2&et){const je=Ke.$implicit;U.Q6J("value",je.id),U.xp6(1),U.Oqu(je.name)}}function $e(et,Ke){1&et&&(U.TgZ(0,"span"),U._uU(1,"Sector is required"),U.qZA())}function de(et,Ke){if(1&et&&(U.TgZ(0,"div",21),U.YNc(1,$e,2,0,"span",22),U.qZA()),2&et){const je=U.oxw();let ze;U.xp6(1),U.Q6J("ngIf",null==(ze=je.productForm.get("sector"))||null==ze.errors?null:ze.errors.required)}}const Oe=".actions[_ngcontent-%COMP%]{display:flex;grid-gap:10px;gap:10px;justify-content:center}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8a3265;cursor:pointer}";let Mt=(()=>{class et{constructor(je,ze,He,Fe,Qe){this.fb=je,this.afs=ze,this.storage=He,this.spinner=Fe,this.toastr=Qe,this.settings={columns:{s_no:{title:"S No.",filter:!1},name:{title:"Product Name",filter:!1},description:{title:"Description",filter:!1},icon:{title:"Icon",filter:!1,type:"custom",renderComponent:Xt},sector:{title:"Sector",filter:!1},actions:{title:"Actions",filter:!1,type:"custom",renderComponent:dt,onComponentInitFunction:It=>{It.onEdit.subscribe(Vt=>{console.log("Edit",Vt),this.addEditLabel="Edit",this.editId=Vt.id,this.productForm.patchValue({name:Vt.name,description:Vt.description,sector:Vt.sector_id}),this.productIcon=Vt.icon,this.productIcon&&this.productIcon.name&&this.productForm.controls.icon.disable()}),It.onDelete.subscribe(Vt=>console.log("Delete",Vt))}}},pager:{display:!0,perPage:10},actions:{add:!1,edit:!1,delete:!1,position:"right"}},this.addEditLabel="Add New",this.editId="",this.sectors=[],this.productIcon={},this.productForm=this.fb.group({name:new ce.NI("",[ce.kI.required]),description:new ce.NI("",[ce.kI.required]),icon:new ce.NI("",[ce.kI.required]),sector:new ce.NI("",[ce.kI.required])})}ngOnInit(){var je=this;return(0,Ne.Z)(function*(){yield je.getSectors(),yield je.getProducts()})()}getSectors(){var je=this;return(0,Ne.Z)(function*(){je.spinner.show();let ze=yield je.afs.collection("sectors").get().toPromise();je.spinner.hide();let He=[];for(let Fe in ze.docs){let Qe=ze.docs[Fe].data();He.push({id:ze.docs[Fe].id,name:Qe.name})}je.sectors=He})()}getProducts(){var je=this;return(0,Ne.Z)(function*(){je.spinner.show();let ze=yield je.afs.collection("products").get().toPromise();je.spinner.hide();let He=[];for(let Fe in ze.docs){let Qe=ze.docs[Fe].data();Qe.icon=Qe.icon&&"{"==Qe.icon.charAt(0)?JSON.parse(Qe.icon):{};let It=yield je.afs.doc(Qe.sector).get().toPromise(),Vt=It.data(),Ht=It.id;console.log(Vt.name),He.push(Object.assign(Object.assign({s_no:+Fe+1,id:ze.docs[Fe].id},Qe),{sector:Vt.name,sector_id:Ht}))}je.source=new De.nC(He)})()}delete(je){var ze=this;return(0,Ne.Z)(function*(){ze.spinner.show(),ze.afs.collection("products").doc(je).delete().then(function(){var He=(0,Ne.Z)(function*(Fe){yield ze.getProducts(),ze.spinner.hide(),ze.toastr.success("Product deleted successfully","Successful")});return function(Fe){return He.apply(this,arguments)}}())})()}onSearch(je=""){this.source.setFilter([{field:"name",search:je},{field:"description",search:je},{field:"sector",search:je}],!1)}removeImage(){this.productIcon={},this.productForm.controls.icon.enable()}previewImage(){let je=document.createElement("a");je.href=this.productIcon.fileUrl,je.target="_blank",document.body.appendChild(je),je.click(),document.body.removeChild(je)}uploadImg(je){var ze=this;let He=je.target.files[0],Fe=He.name.split(".")[1];console.log(He);let Qe=this.storage.ref(`products/${this.productForm.controls.name.value?this.productForm.controls.name.value.replace(" ","")+"."+Fe:He.name}`);this.spinner.show(),Qe.put(He).then(function(){var It=(0,Ne.Z)(function*(Vt){ze.spinner.hide();const Ht=yield Qe.getDownloadURL().toPromise();ze.productIcon={name:He.name,fileUrl:Ht},ze.productIcon.name&&ze.productForm.controls.icon.disable(),ze.toastr.success("Image uploaded successfully","Successful")});return function(Vt){return It.apply(this,arguments)}}()).catch(It=>{this.spinner.hide(),this.toastr.error(It.message,"Error"),this.productForm.controls.icon.reset()})}onSubmit(){var je=this;for(let ze in this.productForm.controls)this.productForm.controls[ze].markAsTouched(),this.productForm.controls[ze].updateValueAndValidity();if(this.productForm.valid){let ze={name:this.productForm.controls.name.value,description:this.productForm.controls.description.value,icon:JSON.stringify(this.productIcon),sector:this.afs.doc(`sectors/${this.productForm.controls.sector.value}`).ref,sectorId:this.productForm.controls.sector.value};console.log(ze),this.editId?(this.spinner.show(),this.afs.collection("products").doc(this.editId).update(ze).then(function(){var He=(0,Ne.Z)(function*(Fe){je.spinner.hide(),je.productForm.reset(),je.editId="",je.addEditLabel="Add New",je.productIcon={},je.productForm.controls.icon.enable(),yield je.getProducts(),je.toastr.success("Product updated successfully","Successful")});return function(Fe){return He.apply(this,arguments)}}()).catch(He=>{this.spinner.hide(),this.toastr.error(He.message,"Error")})):(this.spinner.hide(),this.afs.collection("products").add(ze).then(function(){var He=(0,Ne.Z)(function*(Fe){je.productForm.reset(),je.productIcon={},je.productForm.controls.icon.enable(),yield je.getProducts(),je.toastr.success("Product added successfully","Successful")});return function(Fe){return He.apply(this,arguments)}}()).catch(He=>{this.spinner.hide(),this.toastr.error(He.message,"Error")}))}}}return et.\u0275fac=function(je){return new(je||et)(U.Y36(ce.qu),U.Y36(B.ST),U.Y36(Y.Q1),U.Y36(be.t2),U.Y36(m._W))},et.\u0275cmp=U.Xpm({type:et,selectors:[["app-products"]],decls:37,vars:10,consts:[[1,"products_container"],[1,"search_container"],["type","text","placeholder","Search...",3,"keydown.enter"],["search",""],[3,"settings","source"],[1,"form_container"],[3,"formGroup","ngSubmit"],[1,"form_control"],["for","product_name"],["type","text","id","product_name","formControlName","name"],["class","error",4,"ngIf"],["for","prod_desc"],["type","text","id","prod_desc","rows","10","formControlName","description"],["for","icon"],["type","file","id","icon","formControlName","icon",3,"change"],["sectorIcon",""],["class","selected_img_preview",4,"ngIf"],["for","sector"],["id","sector","placeholder","Select Sector","formControlName","sector"],["class","option",3,"value",4,"ngFor","ngForOf"],["type","submit"],[1,"error"],[4,"ngIf"],[1,"selected_img_preview"],[1,"name"],[1,"icons"],[1,"fas","fa-eye",3,"click"],[1,"fas","fa-times",3,"click"],[1,"option",3,"value"]],template:function(je,ze){if(1&je){const He=U.EpF();U.TgZ(0,"div",0),U.TgZ(1,"div",1),U.TgZ(2,"input",2,3),U.NdJ("keydown.enter",function(){U.CHM(He);const Qe=U.MAs(3);return ze.onSearch(Qe.value)}),U.qZA(),U.qZA(),U._UZ(4,"ng2-smart-table",4),U._UZ(5,"br"),U._UZ(6,"br"),U._UZ(7,"br"),U.TgZ(8,"div",5),U.TgZ(9,"h5"),U._uU(10),U.qZA(),U.TgZ(11,"form",6),U.NdJ("ngSubmit",function(){return ze.onSubmit()}),U.TgZ(12,"div",7),U.TgZ(13,"label",8),U._uU(14,"Product Name"),U.qZA(),U._UZ(15,"input",9),U.YNc(16,_e,2,1,"div",10),U.qZA(),U.TgZ(17,"div",7),U.TgZ(18,"label",11),U._uU(19,"Product Description"),U.qZA(),U._UZ(20,"textarea",12),U.YNc(21,we,2,1,"div",10),U.qZA(),U.TgZ(22,"div",7),U.TgZ(23,"label",13),U._uU(24,"Sector Icon"),U.qZA(),U.TgZ(25,"input",14,15),U.NdJ("change",function(Qe){return ze.uploadImg(Qe)}),U.qZA(),U.YNc(27,Xe,2,1,"div",10),U.YNc(28,Se,6,0,"div",16),U.qZA(),U.TgZ(29,"div",7),U.TgZ(30,"label",17),U._uU(31,"Sector"),U.qZA(),U.TgZ(32,"select",18),U.YNc(33,ct,2,2,"option",19),U.qZA(),U.YNc(34,de,2,1,"div",10),U.qZA(),U.TgZ(35,"button",20),U._uU(36,"Save & Update"),U.qZA(),U.qZA(),U.qZA(),U.qZA()}if(2&je){let He,Fe,Qe,It;U.xp6(4),U.Q6J("settings",ze.settings)("source",ze.source),U.xp6(6),U.hij("",ze.addEditLabel," Product"),U.xp6(1),U.Q6J("formGroup",ze.productForm),U.xp6(5),U.Q6J("ngIf",((null==(He=ze.productForm.get("name"))?null:He.touched)||(null==(He=ze.productForm.get("name"))?null:He.dirty))&&(null==(He=ze.productForm.get("name"))?null:He.invalid)&&(null==(He=ze.productForm.get("name"))?null:He.errors)),U.xp6(5),U.Q6J("ngIf",((null==(Fe=ze.productForm.get("description"))?null:Fe.touched)||(null==(Fe=ze.productForm.get("description"))?null:Fe.dirty))&&(null==(Fe=ze.productForm.get("description"))?null:Fe.invalid)&&(null==(Fe=ze.productForm.get("description"))?null:Fe.errors)),U.xp6(6),U.Q6J("ngIf",((null==(Qe=ze.productForm.get("icon"))?null:Qe.touched)||(null==(Qe=ze.productForm.get("icon"))?null:Qe.dirty))&&(null==(Qe=ze.productForm.get("icon"))?null:Qe.invalid)&&(null==(Qe=ze.productForm.get("icon"))?null:Qe.errors)),U.xp6(1),U.Q6J("ngIf",ze.productIcon&&ze.productIcon.name),U.xp6(5),U.Q6J("ngForOf",ze.sectors),U.xp6(1),U.Q6J("ngIf",((null==(It=ze.productForm.get("sector"))?null:It.touched)||(null==(It=ze.productForm.get("sector"))?null:It.dirty))&&(null==(It=ze.productForm.get("sector"))?null:It.invalid)&&(null==(It=ze.productForm.get("sector"))?null:It.errors))}},directives:[De.T5,ce._Y,ce.JL,ce.sg,ce.Fj,ce.JJ,ce.u,fe.O5,ce.EJ,fe.sg,ce.YN,ce.Kr],styles:[".products_container[_ngcontent-%COMP%]{padding:25px}.products_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:10px 0}.products_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:34px;padding:0 15px;outline:none;border:1px solid #d4d4d4;border-radius:5px;color:#000;font-size:13px}.form_container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#8a3265;margin-bottom:30px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:75%}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;grid-gap:5px;gap:5px;margin-bottom:15px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:normal}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;outline:none;border:1px solid #d4d5d9;border-radius:5px;padding:0 10px;font-size:14px;font-weight:400;color:#454545;box-sizing:border-box}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{box-shadow:0 0 3px 2px #853262b3}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:36px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:13px;color:#ef0000;font-weight:400}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]{padding:15px 20px;border:1px solid #e4e5e9;border-radius:10px;box-shadow:1px 1px 6px #0003;display:flex;justify-content:space-between}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;grid-gap:25px;gap:25px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .fa-eye[_ngcontent-%COMP%]{color:#8a3265}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#ec2525}  .ng2-smart-filters{display:none!important}  ng2-smart-table table{border:1px solid #e4e5e9}  ng2-smart-table thead{background:#8a3265}  .ng2-smart-title,   ng2-smart-table-title a{color:#fff!important}  .ng2-smart-title:hover,   ng2-smart-table-title a:hover{text-decoration:none!important}  .ng2-smart-title:after,   ng2-smart-table-title a:after{border-bottom-color:#fff!important}  .ng2-smart-row{border-top:1px solid #e4e5e9}  table-cell-view-mode{text-align:center}  table-cell-view-mode .text div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  ng2-st-tbody-edit-delete{display:flex!important;justify-content:space-around!important}  ng2-st-tbody-edit-delete a{color:#8a3265!important}"]}),et})(),dt=(()=>{class et{constructor(){this.onEdit=new U.vpe,this.onDelete=new U.vpe}ngOnInit(){}edit(){this.onEdit.emit(this.rowData)}delete(){this.onDelete.emit(this.rowData)}}return et.\u0275fac=function(je){return new(je||et)},et.\u0275cmp=U.Xpm({type:et,selectors:[["app-products-action"]],inputs:{rowData:"rowData"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:5,vars:0,consts:[[1,"actions"],[3,"click"]],template:function(je,ze){1&je&&(U.TgZ(0,"div",0),U.TgZ(1,"a",1),U.NdJ("click",function(){return ze.edit()}),U._uU(2,"Edit"),U.qZA(),U.TgZ(3,"a",1),U.NdJ("click",function(){return ze.delete()}),U._uU(4,"Delete"),U.qZA(),U.qZA())},styles:[Oe]}),et})(),Xt=(()=>{class et{constructor(){this.value=""}ngOnInit(){console.log("value from custom: ",this.value)}}return et.\u0275fac=function(je){return new(je||et)},et.\u0275cmp=U.Xpm({type:et,selectors:[["app-product-image"]],inputs:{value:"value",rowData:"rowData"},decls:3,vars:2,consts:[[1,"actions"],["target","_blank",3,"href"]],template:function(je,ze){1&je&&(U.TgZ(0,"div",0),U.TgZ(1,"a",1),U._uU(2),U.qZA(),U.qZA()),2&je&&(U.xp6(1),U.Q6J("href",ze.value.fileUrl,U.LSH),U.xp6(1),U.Oqu(ze.value.name))},styles:[Oe]}),et})();const qt=[{path:"",component:Mt}];let vn=(()=>{class et{}return et.\u0275fac=function(je){return new(je||et)},et.\u0275mod=U.oAB({type:et}),et.\u0275inj=U.cJS({imports:[[he.Bz.forChild(qt)],he.Bz]}),et})(),At=(()=>{class et{}return et.\u0275fac=function(je){return new(je||et)},et.\u0275mod=U.oAB({type:et}),et.\u0275inj=U.cJS({imports:[[fe.ez,vn,De.ne,ce.u5,ce.UX,B.yb,Y.TE,m.Rh]]}),et})()},1390:(Jt,vt,X)=>{"use strict";X.r(vt),X.d(vt,{SectorsModule:()=>je});var m=X(2387),B=X(2581),he=X(9629),Ne=X(8239),ce=X(9619),U=X(9010),De=X(9365),Y=X(8438),be=X(6019);function fe(ze,He){1&ze&&(ce.TgZ(0,"span"),ce._uU(1,"Name is required"),ce.qZA())}function ge(ze,He){if(1&ze&&(ce.TgZ(0,"div",24),ce.YNc(1,fe,2,0,"span",25),ce.qZA()),2&ze){const Fe=ce.oxw();let Qe;ce.xp6(1),ce.Q6J("ngIf",null==(Qe=Fe.sectorForm.get("name"))||null==Qe.errors?null:Qe.errors.required)}}function _e(ze,He){1&ze&&(ce.TgZ(0,"span"),ce._uU(1,"Description is required"),ce.qZA())}function Te(ze,He){if(1&ze&&(ce.TgZ(0,"div",24),ce.YNc(1,_e,2,0,"span",25),ce.qZA()),2&ze){const Fe=ce.oxw();let Qe;ce.xp6(1),ce.Q6J("ngIf",null==(Qe=Fe.sectorForm.get("description"))||null==Qe.errors?null:Qe.errors.required)}}function we(ze,He){1&ze&&(ce.TgZ(0,"span"),ce._uU(1,"Name is required"),ce.qZA())}function Ve(ze,He){if(1&ze&&(ce.TgZ(0,"div",24),ce.YNc(1,we,2,0,"span",25),ce.qZA()),2&ze){const Fe=ce.oxw();let Qe;ce.xp6(1),ce.Q6J("ngIf",null==(Qe=Fe.sectorForm.get("image"))||null==Qe.errors?null:Qe.errors.required)}}function Xe(ze,He){if(1&ze){const Fe=ce.EpF();ce.TgZ(0,"div",26),ce.TgZ(1,"div",27),ce._uU(2,"Sector Image"),ce.qZA(),ce.TgZ(3,"div",28),ce.TgZ(4,"i",29),ce.NdJ("click",function(){return ce.CHM(Fe),ce.oxw().previewImage("selectedImage")}),ce.qZA(),ce.TgZ(5,"i",30),ce.NdJ("click",function(){ce.CHM(Fe);const It=ce.oxw();return ce.MAs(26).value="",It.removeImage("selectedImage")}),ce.qZA(),ce.qZA(),ce.qZA()}}function Se(ze,He){1&ze&&(ce.TgZ(0,"span"),ce._uU(1,"Name is required"),ce.qZA())}function ct(ze,He){if(1&ze&&(ce.TgZ(0,"div",24),ce.YNc(1,Se,2,0,"span",25),ce.qZA()),2&ze){const Fe=ce.oxw();let Qe;ce.xp6(1),ce.Q6J("ngIf",null==(Qe=Fe.sectorForm.get("icon"))||null==Qe.errors?null:Qe.errors.required)}}function $e(ze,He){if(1&ze){const Fe=ce.EpF();ce.TgZ(0,"div",26),ce.TgZ(1,"div",27),ce._uU(2,"Sector Icon"),ce.qZA(),ce.TgZ(3,"div",28),ce.TgZ(4,"i",29),ce.NdJ("click",function(){return ce.CHM(Fe),ce.oxw().previewImage("selectedIcon")}),ce.qZA(),ce.TgZ(5,"i",30),ce.NdJ("click",function(){ce.CHM(Fe);const It=ce.oxw();return ce.MAs(33).value="",It.removeImage("selectedIcon")}),ce.qZA(),ce.qZA(),ce.qZA()}}function de(ze,He){1&ze&&(ce.TgZ(0,"span"),ce._uU(1,"Name is required"),ce.qZA())}function Oe(ze,He){if(1&ze&&(ce.TgZ(0,"div",24),ce.YNc(1,de,2,0,"span",25),ce.qZA()),2&ze){const Fe=ce.oxw();let Qe;ce.xp6(1),ce.Q6J("ngIf",null==(Qe=Fe.sectorForm.get("bannerImage"))||null==Qe.errors?null:Qe.errors.required)}}function Mt(ze,He){if(1&ze){const Fe=ce.EpF();ce.TgZ(0,"div",26),ce.TgZ(1,"div",27),ce._uU(2,"Sector Banner Image"),ce.qZA(),ce.TgZ(3,"div",28),ce.TgZ(4,"i",29),ce.NdJ("click",function(){return ce.CHM(Fe),ce.oxw().previewImage("selectedBannerImage")}),ce.qZA(),ce.TgZ(5,"i",30),ce.NdJ("click",function(){ce.CHM(Fe);const It=ce.oxw();return ce.MAs(40).value="",It.removeImage("selectedBannerImage")}),ce.qZA(),ce.qZA(),ce.qZA()}}const dt=".actions[_ngcontent-%COMP%]{display:flex;grid-gap:10px;gap:10px;justify-content:center}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8a3265;cursor:pointer}";let Xt=(()=>{class ze{constructor(Fe,Qe,It,Vt,Ht){var jt=this;this.fb=Fe,this.afs=Qe,this.storage=It,this.spinner=Vt,this.toastr=Ht,this.settings={columns:{s_no:{title:"S No.",filter:!1},name:{title:"Sector Name",filter:!1},description:{title:"Sector Description",filter:!1},image:{title:"Image",filter:!1,type:"custom",renderComponent:vn},icon:{title:"Icon",filter:!1,type:"custom",renderComponent:vn},bannerImage:{title:"Banner Image",filter:!1,type:"custom",renderComponent:vn},actions:{title:"Actions",filter:!1,type:"custom",renderComponent:qt,onComponentInitFunction:Kt=>{Kt.onEdit.subscribe(lt=>{console.log("Edit",lt),this.addEditLabel="Edit",this.editId=lt.id,this.sectorForm.patchValue({name:lt.name,description:lt.description}),this.selectedImage=lt.image,this.selectedIcon=lt.icon,this.selectedBannerImage=lt.bannerImage,this.selectedImage&&this.selectedImage.name&&this.sectorForm.controls.image.disable(),this.selectedIcon&&this.selectedIcon.name&&this.sectorForm.controls.icon.disable(),this.selectedBannerImage&&this.selectedBannerImage.name&&this.sectorForm.controls.bannerImage.disable()}),Kt.onDelete.subscribe(function(){var lt=(0,Ne.Z)(function*($t){return yield jt.delete($t.id)});return function($t){return lt.apply(this,arguments)}}())}}},pager:{display:!0,perPage:10},actions:{add:!1,edit:!1,delete:!1,position:"right"}},this.source=new De.nC([]),this.addEditLabel="Add New",this.editId="",this.selectedImage={},this.selectedIcon={},this.selectedBannerImage={},this.sectorForm=this.fb.group({name:new U.NI("",[U.kI.required]),description:new U.NI("",[U.kI.required]),image:new U.NI("",[U.kI.required]),icon:new U.NI("",[U.kI.required]),bannerImage:new U.NI("",[U.kI.required])})}ngOnInit(){var Fe=this;return(0,Ne.Z)(function*(){yield Fe.getSectors()})()}getSectors(){var Fe=this;return(0,Ne.Z)(function*(){Fe.spinner.show();let Qe=yield Fe.afs.collection("sectors").get().toPromise();Fe.spinner.hide();let It=[];for(let Vt in Qe.docs){let Ht=Qe.docs[Vt].data();Ht.image=Ht.image&&"{"==Ht.image.charAt(0)?JSON.parse(Ht.image):{},Ht.icon=Ht.icon&&"{"==Ht.icon.charAt(0)?JSON.parse(Ht.icon):{},Ht.bannerImage=Ht.bannerImage&&"{"==Ht.bannerImage.charAt(0)?JSON.parse(Ht.bannerImage):{},It.push(Object.assign({s_no:+Vt+1,id:Qe.docs[Vt].id},Ht))}Fe.source=new De.nC(It)})()}delete(Fe){var Qe=this;this.spinner.show(),this.afs.collection("sectors").doc(Fe).delete().then(function(){var It=(0,Ne.Z)(function*(Vt){yield Qe.getSectors(),Qe.spinner.hide(),Qe.toastr.success("Sector deleted successfully","Successful")});return function(Vt){return It.apply(this,arguments)}}()).catch(It=>{this.spinner.hide(),this.toastr.error(It.message,"Error")})}onSearch(Fe=""){this.source.setFilter([{field:"name",search:Fe},{field:"description",search:Fe}],!1)}removeImage(Fe){this[Fe]={};let It=Fe.split("selected")[1].slice(0,1).toLowerCase()+Fe.split("selected")[1].slice(1);this.sectorForm.controls[It].enable()}previewImage(Fe){let It=document.createElement("a");It.href=this[Fe].fileUrl,It.target="_blank",document.body.appendChild(It),It.click(),document.body.removeChild(It)}uploadImg(Fe,Qe){var It=this;let Vt=Fe.split("selected")[1].slice(0,1).toLowerCase()+Fe.split("selected")[1].slice(1),Ht=Qe.target.files[0],jt=Ht.name.split(".")[1];console.log(Ht);let Kt=this.storage.ref(`sectors/${this.sectorForm.controls.name.value?this.sectorForm.controls.name.value.replace(" ","")+Fe.split("selected")[1]+"."+jt:Ht.name}`);this.spinner.show(),Kt.put(Ht).then(function(){var lt=(0,Ne.Z)(function*($t){It.spinner.hide();const _t=yield Kt.getDownloadURL().toPromise();It[Fe]={name:Ht.name,fileUrl:_t},It.sectorForm.controls[Vt].disable(),It.toastr.success("Image uploaded successfully","Successful")});return function($t){return lt.apply(this,arguments)}}()).catch(lt=>{this.spinner.hide(),this.toastr.error(lt.message,"Error"),this.sectorForm.controls[Vt].reset()})}onSubmit(){var Fe=this;for(let Qe in this.sectorForm.controls)this.sectorForm.controls[Qe].markAsTouched(),this.sectorForm.controls[Qe].updateValueAndValidity();if(this.sectorForm.valid){let Qe={name:this.sectorForm.controls.name.value,description:this.sectorForm.controls.description.value,image:JSON.stringify(this.selectedImage),icon:JSON.stringify(this.selectedIcon),bannerImage:JSON.stringify(this.selectedBannerImage)};this.editId?(this.spinner.show(),this.afs.collection("sectors").doc(this.editId).update(Qe).then(function(){var It=(0,Ne.Z)(function*(Vt){Fe.sectorForm.reset(),Fe.editId="",Fe.addEditLabel="Add New",Fe.selectedImage={},Fe.selectedIcon={},Fe.selectedBannerImage={},Fe.sectorForm.controls.image.enable(),Fe.sectorForm.controls.icon.enable(),Fe.sectorForm.controls.bannerImage.enable(),yield Fe.getSectors(),Fe.spinner.hide(),Fe.toastr.success("Sector updated successfully","Successful")});return function(Vt){return It.apply(this,arguments)}}()).catch(It=>{this.spinner.hide(),this.toastr.error(It.message,"Error")})):(this.spinner.show(),this.afs.collection("sectors").add(Qe).then(function(){var It=(0,Ne.Z)(function*(Vt){Fe.sectorForm.reset(),Fe.selectedImage={},Fe.selectedIcon={},Fe.selectedBannerImage={},Fe.sectorForm.controls.image.enable(),Fe.sectorForm.controls.icon.enable(),Fe.sectorForm.controls.bannerImage.enable(),yield Fe.getSectors(),Fe.spinner.hide(),Fe.toastr.success("Sector added successfully","Successful")});return function(Vt){return It.apply(this,arguments)}}()).catch(It=>{this.spinner.hide(),this.toastr.error(It.message,"Error")}))}}}return ze.\u0275fac=function(Fe){return new(Fe||ze)(ce.Y36(U.qu),ce.Y36(B.ST),ce.Y36(he.Q1),ce.Y36(Y.t2),ce.Y36(m._W))},ze.\u0275cmp=ce.Xpm({type:ze,selectors:[["app-sectors"]],decls:45,vars:12,consts:[[1,"sectors_container"],[1,"search_container"],["type","text","placeholder","Search...",3,"keydown.enter"],["search",""],[3,"settings","source"],[1,"form_container"],[3,"formGroup","ngSubmit"],[1,"form_control"],["for","name"],["type","text","id","name","formControlName","name"],["class","error",4,"ngIf"],["for","description"],["type","text","id","description","rows","10","formControlName","description"],["for","image"],["type","file","id","image","formControlName","image",3,"change"],["sectorImg",""],["class","selected_img_preview",4,"ngIf"],["for","icon"],["type","file","id","icon","formControlName","icon",3,"change"],["sectorIcon",""],["for","bannerImage"],["type","file","id","bannerImage","formControlName","bannerImage",3,"change"],["sectorBanImg",""],["type","submit"],[1,"error"],[4,"ngIf"],[1,"selected_img_preview"],[1,"name"],[1,"icons"],[1,"fas","fa-eye",3,"click"],[1,"fas","fa-times",3,"click"]],template:function(Fe,Qe){if(1&Fe){const It=ce.EpF();ce.TgZ(0,"div",0),ce.TgZ(1,"div",1),ce.TgZ(2,"input",2,3),ce.NdJ("keydown.enter",function(){ce.CHM(It);const Ht=ce.MAs(3);return Qe.onSearch(Ht.value)}),ce.qZA(),ce.qZA(),ce._UZ(4,"ng2-smart-table",4),ce._UZ(5,"br"),ce._UZ(6,"br"),ce._UZ(7,"br"),ce.TgZ(8,"div",5),ce.TgZ(9,"h5"),ce._uU(10),ce.qZA(),ce.TgZ(11,"form",6),ce.NdJ("ngSubmit",function(){return Qe.onSubmit()}),ce.TgZ(12,"div",7),ce.TgZ(13,"label",8),ce._uU(14,"Sector Name"),ce.qZA(),ce._UZ(15,"input",9),ce.YNc(16,ge,2,1,"div",10),ce.qZA(),ce.TgZ(17,"div",7),ce.TgZ(18,"label",11),ce._uU(19,"Sector Description"),ce.qZA(),ce._UZ(20,"textarea",12),ce.YNc(21,Te,2,1,"div",10),ce.qZA(),ce.TgZ(22,"div",7),ce.TgZ(23,"label",13),ce._uU(24,"Sector Image"),ce.qZA(),ce.TgZ(25,"input",14,15),ce.NdJ("change",function(Ht){return Qe.uploadImg("selectedImage",Ht)}),ce.qZA(),ce.YNc(27,Ve,2,1,"div",10),ce.YNc(28,Xe,6,0,"div",16),ce.qZA(),ce.TgZ(29,"div",7),ce.TgZ(30,"label",17),ce._uU(31,"Sector Icon"),ce.qZA(),ce.TgZ(32,"input",18,19),ce.NdJ("change",function(Ht){return Qe.uploadImg("selectedIcon",Ht)}),ce.qZA(),ce.YNc(34,ct,2,1,"div",10),ce.YNc(35,$e,6,0,"div",16),ce.qZA(),ce.TgZ(36,"div",7),ce.TgZ(37,"label",20),ce._uU(38,"Sector Banner Image"),ce.qZA(),ce.TgZ(39,"input",21,22),ce.NdJ("change",function(Ht){return Qe.uploadImg("selectedBannerImage",Ht)}),ce.qZA(),ce.YNc(41,Oe,2,1,"div",10),ce.YNc(42,Mt,6,0,"div",16),ce.qZA(),ce.TgZ(43,"button",23),ce._uU(44,"Save & Update"),ce.qZA(),ce.qZA(),ce.qZA(),ce.qZA()}if(2&Fe){let It,Vt,Ht,jt,Kt;ce.xp6(4),ce.Q6J("settings",Qe.settings)("source",Qe.source),ce.xp6(6),ce.hij("",Qe.addEditLabel," Sector"),ce.xp6(1),ce.Q6J("formGroup",Qe.sectorForm),ce.xp6(5),ce.Q6J("ngIf",((null==(It=Qe.sectorForm.get("name"))?null:It.touched)||(null==(It=Qe.sectorForm.get("name"))?null:It.dirty))&&(null==(It=Qe.sectorForm.get("name"))?null:It.invalid)&&(null==(It=Qe.sectorForm.get("name"))?null:It.errors)),ce.xp6(5),ce.Q6J("ngIf",((null==(Vt=Qe.sectorForm.get("description"))?null:Vt.touched)||(null==(Vt=Qe.sectorForm.get("description"))?null:Vt.dirty))&&(null==(Vt=Qe.sectorForm.get("description"))?null:Vt.invalid)&&(null==(Vt=Qe.sectorForm.get("description"))?null:Vt.errors)),ce.xp6(6),ce.Q6J("ngIf",((null==(Ht=Qe.sectorForm.get("image"))?null:Ht.touched)||(null==(Ht=Qe.sectorForm.get("image"))?null:Ht.dirty))&&(null==(Ht=Qe.sectorForm.get("image"))?null:Ht.invalid)&&(null==(Ht=Qe.sectorForm.get("image"))?null:Ht.errors)),ce.xp6(1),ce.Q6J("ngIf",Qe.selectedImage&&Qe.selectedImage.name),ce.xp6(6),ce.Q6J("ngIf",((null==(jt=Qe.sectorForm.get("icon"))?null:jt.touched)||(null==(jt=Qe.sectorForm.get("icon"))?null:jt.dirty))&&(null==(jt=Qe.sectorForm.get("icon"))?null:jt.invalid)&&(null==(jt=Qe.sectorForm.get("icon"))?null:jt.errors)),ce.xp6(1),ce.Q6J("ngIf",Qe.selectedIcon&&Qe.selectedIcon.name),ce.xp6(6),ce.Q6J("ngIf",((null==(Kt=Qe.sectorForm.get("bannerImage"))?null:Kt.touched)||(null==(Kt=Qe.sectorForm.get("bannerImage"))?null:Kt.dirty))&&(null==(Kt=Qe.sectorForm.get("bannerImage"))?null:Kt.invalid)&&(null==(Kt=Qe.sectorForm.get("bannerImage"))?null:Kt.errors)),ce.xp6(1),ce.Q6J("ngIf",Qe.selectedBannerImage&&Qe.selectedBannerImage.name)}},directives:[De.T5,U._Y,U.JL,U.sg,U.Fj,U.JJ,U.u,be.O5],styles:[".sectors_container[_ngcontent-%COMP%]{padding:25px}.sectors_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:10px 0}.sectors_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:34px;padding:0 15px;outline:none;border:1px solid #d4d4d4;border-radius:5px;color:#000;font-size:13px}.form_container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#8a3265;margin-bottom:30px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:75%}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;grid-gap:5px;gap:5px;margin-bottom:15px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:normal}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;outline:none;border:1px solid #d4d5d9;border-radius:5px;padding:0 10px;font-size:14px;font-weight:400;color:#454545;box-sizing:border-box}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 3px 2px #853262b3}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:36px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:13px;color:#ef0000;font-weight:400}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]{padding:15px 20px;border:1px solid #e4e5e9;border-radius:10px;box-shadow:1px 1px 6px #0003;display:flex;justify-content:space-between}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;grid-gap:25px;gap:25px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .fa-eye[_ngcontent-%COMP%]{color:#8a3265}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#ec2525}  .ng2-smart-filters{display:none!important}  ng2-smart-table table{border:1px solid #e4e5e9}  ng2-smart-table thead{background:#8a3265}  ng2-smart-table td{text-align:center}  .ng2-smart-title,   ng2-smart-table-title a{color:#fff!important}  .ng2-smart-title:hover,   ng2-smart-table-title a:hover{text-decoration:none!important}  .ng2-smart-title:after,   ng2-smart-table-title a:after{border-bottom-color:#fff!important}  .ng2-smart-row{border-top:1px solid #e4e5e9}  table-cell-view-mode{text-align:center}  table-cell-view-mode .text div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  ng2-st-tbody-edit-delete{display:flex!important;justify-content:space-around!important}  ng2-st-tbody-edit-delete a{color:#8a3265!important}"]}),ze})(),qt=(()=>{class ze{constructor(){this.onEdit=new ce.vpe,this.onDelete=new ce.vpe}ngOnInit(){}edit(){this.onEdit.emit(this.rowData)}delete(){this.onDelete.emit(this.rowData)}}return ze.\u0275fac=function(Fe){return new(Fe||ze)},ze.\u0275cmp=ce.Xpm({type:ze,selectors:[["app-sector-action"]],inputs:{rowData:"rowData"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:5,vars:0,consts:[[1,"actions"],[3,"click"]],template:function(Fe,Qe){1&Fe&&(ce.TgZ(0,"div",0),ce.TgZ(1,"a",1),ce.NdJ("click",function(){return Qe.edit()}),ce._uU(2,"Edit"),ce.qZA(),ce.TgZ(3,"a",1),ce.NdJ("click",function(){return Qe.delete()}),ce._uU(4,"Delete"),ce.qZA(),ce.qZA())},styles:[dt]}),ze})(),vn=(()=>{class ze{constructor(){this.value=""}ngOnInit(){console.log("value from custom: ",this.value)}}return ze.\u0275fac=function(Fe){return new(Fe||ze)},ze.\u0275cmp=ce.Xpm({type:ze,selectors:[["app-sector-image"]],inputs:{value:"value",rowData:"rowData"},decls:3,vars:2,consts:[[1,"actions"],["target","_blank",3,"href"]],template:function(Fe,Qe){1&Fe&&(ce.TgZ(0,"div",0),ce.TgZ(1,"a",1),ce._uU(2),ce.qZA(),ce.qZA()),2&Fe&&(ce.xp6(1),ce.Q6J("href",Qe.value.fileUrl,ce.LSH),ce.xp6(1),ce.Oqu(Qe.value.name))},styles:[dt]}),ze})();var At=X(3736);const et=[{path:"",component:Xt}];let Ke=(()=>{class ze{}return ze.\u0275fac=function(Fe){return new(Fe||ze)},ze.\u0275mod=ce.oAB({type:ze}),ze.\u0275inj=ce.cJS({imports:[[At.Bz.forChild(et)],At.Bz]}),ze})(),je=(()=>{class ze{}return ze.\u0275fac=function(Fe){return new(Fe||ze)},ze.\u0275mod=ce.oAB({type:ze}),ze.\u0275inj=ce.cJS({imports:[[be.ez,Ke,De.ne,U.u5,U.UX,he.TE,B.yb,m.Rh]]}),ze})()},8292:(Jt,vt,X)=>{"use strict";X.r(vt),X.d(vt,{ServicesModule:()=>we});var m=X(2387),B=X(9010),he=X(2581),Ne=X(8239),ce=X(9217),U=X(9619),De=X(8438),Y=X(2467);let be=(()=>{class Ve{constructor(Se,ct,$e){this.afs=Se,this.spinner=ct,this.toastr=$e,this.Editor=ce,this.data="",this.id=""}ngOnInit(){var Se=this;return(0,Ne.Z)(function*(){yield Se.getServices()})()}getServices(){var Se=this;return(0,Ne.Z)(function*(){Se.spinner.show();let ct=yield Se.afs.collection("services").get().toPromise();Se.spinner.hide();let $e=ct.docs[0].data();Se.data=$e.data,Se.id=ct.docs[0].id})()}onSave(){var Se=this;if(this.data){let ct={data:this.data};this.id?(this.spinner.show(),this.afs.collection("services").doc(this.id).update(ct).then(function(){var $e=(0,Ne.Z)(function*(de){yield Se.getServices(),Se.spinner.hide(),Se.toastr.success("Services updated successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")})):(this.spinner.show(),this.afs.collection("services").add(ct).then(function(){var $e=(0,Ne.Z)(function*(de){yield Se.getServices(),Se.spinner.hide(),Se.toastr.success("Services added successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")}))}}}return Ve.\u0275fac=function(Se){return new(Se||Ve)(U.Y36(he.ST),U.Y36(De.t2),U.Y36(m._W))},Ve.\u0275cmp=U.Xpm({type:Ve,selectors:[["app-services"]],decls:5,vars:2,consts:[[1,"services_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Se,ct){1&Se&&(U.TgZ(0,"div",0),U.TgZ(1,"ckeditor",1),U.NdJ("ngModelChange",function(de){return ct.data=de}),U.qZA(),U.TgZ(2,"div",2),U.TgZ(3,"button",3),U.NdJ("click",function(){return ct.onSave()}),U._uU(4,"Save"),U.qZA(),U.qZA(),U.qZA()),2&Se&&(U.xp6(1),U.Q6J("editor",ct.Editor)("ngModel",ct.data))},directives:[Y.u,B.JJ,B.On],styles:[".services_container[_ngcontent-%COMP%]{padding:25px}.services_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.services_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),Ve})();var fe=X(3736);const ge=[{path:"",component:be}];let _e=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=U.oAB({type:Ve}),Ve.\u0275inj=U.cJS({imports:[[fe.Bz.forChild(ge)],fe.Bz]}),Ve})();var Te=X(6019);let we=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=U.oAB({type:Ve}),Ve.\u0275inj=U.cJS({imports:[[Te.ez,_e,Y.d,he.yb,B.u5,m.Rh]]}),Ve})()},4326:(Jt,vt,X)=>{"use strict";X.r(vt),X.d(vt,{TermsModule:()=>we});var m=X(2387),B=X(9010),he=X(2581),Ne=X(8239),ce=X(9217),U=X(9619),De=X(8438),Y=X(2467);let be=(()=>{class Ve{constructor(Se,ct,$e){this.afs=Se,this.spinner=ct,this.toastr=$e,this.Editor=ce,this.data="",this.id=""}ngOnInit(){var Se=this;return(0,Ne.Z)(function*(){yield Se.getTerms()})()}getTerms(){var Se=this;return(0,Ne.Z)(function*(){Se.spinner.show();let ct=yield Se.afs.collection("terms").get().toPromise();Se.spinner.hide();let $e=ct.docs[0].data();Se.data=$e.data,Se.id=ct.docs[0].id})()}onSave(){var Se=this;if(this.data){let ct={data:this.data};this.id?(this.spinner.show(),this.afs.collection("terms").doc(this.id).update(ct).then(function(){var $e=(0,Ne.Z)(function*(de){yield Se.getTerms(),Se.spinner.hide(),Se.toastr.success("Terms updated successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")})):(this.spinner.show(),this.afs.collection("terms").add(ct).then(function(){var $e=(0,Ne.Z)(function*(de){yield Se.getTerms(),Se.spinner.hide(),Se.toastr.success("Terms added successfully","Successful")});return function(de){return $e.apply(this,arguments)}}()).catch($e=>{this.spinner.hide(),this.toastr.error($e.message,"Error")}))}}}return Ve.\u0275fac=function(Se){return new(Se||Ve)(U.Y36(he.ST),U.Y36(De.t2),U.Y36(m._W))},Ve.\u0275cmp=U.Xpm({type:Ve,selectors:[["app-terms"]],decls:5,vars:2,consts:[[1,"terms_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Se,ct){1&Se&&(U.TgZ(0,"div",0),U.TgZ(1,"ckeditor",1),U.NdJ("ngModelChange",function(de){return ct.data=de}),U.qZA(),U.TgZ(2,"div",2),U.TgZ(3,"button",3),U.NdJ("click",function(){return ct.onSave()}),U._uU(4,"Save"),U.qZA(),U.qZA(),U.qZA()),2&Se&&(U.xp6(1),U.Q6J("editor",ct.Editor)("ngModel",ct.data))},directives:[Y.u,B.JJ,B.On],styles:[".terms_container[_ngcontent-%COMP%]{padding:25px}.terms_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.terms_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),Ve})();var fe=X(3736);const ge=[{path:"",component:be}];let _e=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=U.oAB({type:Ve}),Ve.\u0275inj=U.cJS({imports:[[fe.Bz.forChild(ge)],fe.Bz]}),Ve})();var Te=X(6019);let we=(()=>{class Ve{}return Ve.\u0275fac=function(Se){return new(Se||Ve)},Ve.\u0275mod=U.oAB({type:Ve}),Ve.\u0275inj=U.cJS({imports:[[Te.ez,_e,Y.d,he.yb,B.u5,m.Rh]]}),Ve})()},2739:(Jt,vt,X)=>{"use strict";X.d(vt,{e:()=>he});var m=X(4099),B=X(9619);let he=(()=>{class Ne{constructor(){this.userObservable=new m.X(null),this.user$=this.userObservable.asObservable()}setUser(U){this.userObservable.next(U)}}return Ne.\u0275fac=function(U){return new(U||Ne)},Ne.\u0275prov=B.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},7892:(Jt,vt,X)=>{"use strict";var m=X(5427),B=X(9619),he=X(2739);const Ne_firebaseConfig={apiKey:"AIzaSyCBsiS1C4z0nHx0un6SfMcunQqUI1d5k5o",authDomain:"securisk-3715f.firebaseapp.com",projectId:"securisk-3715f",storageBucket:"securisk-3715f.appspot.com",messagingSenderId:"329934647110",appId:"1:329934647110:web:d4ba155927e4bda957ff47",measurementId:"G-TREJ4HTPT4"};var ce=X(926),U=X(2486),De=X(8378),Y=X(3227),be=X(2998),fe=X(4326),ge=X(1390),_e=X(3193),Te=X(7944),we=X(2526),Ve=X(7693),Xe=X(3736);const Se=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"admin",loadChildren:()=>X.e(890).then(X.bind(X,8890)).then(me=>me.AdminModule)},{path:"login",loadChildren:()=>X.e(630).then(X.bind(X,3630)).then(me=>me.LoginModule)}];let ct=(()=>{class me{}return me.\u0275fac=function(O){return new(O||me)},me.\u0275mod=B.oAB({type:me}),me.\u0275inj=B.cJS({imports:[[Xe.Bz.forRoot(Se,{useHash:!0})],Xe.Bz]}),me})();var $e=X(8438);let de=(()=>{class me{constructor(){this.title="securiskadmin"}}return me.\u0275fac=function(O){return new(O||me)},me.\u0275cmp=B.Xpm({type:me,selectors:[["app-root"]],decls:4,vars:0,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-spin-clockwise-fade"],[2,"font-size","20px","color","white"]],template:function(O,Q){1&O&&(B.TgZ(0,"ngx-spinner",0),B.TgZ(1,"p",1),B._uU(2,"Loading..."),B.qZA(),B.qZA(),B._UZ(3,"router-outlet"))},directives:[$e.Ro,Xe.lC],styles:[""]}),me})();var Oe=X(8292),Mt=X(436),dt=X(9814);function Xt(){return"undefined"!=typeof window&&void 0!==window.document}function qt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function vn(me){switch(me.length){case 0:return new dt.ZN;case 1:return me[0];default:return new dt.ZE(me)}}function At(me,I,O,Q,ke={},Ue={}){const ot=[],gt=[];let Nt=-1,Zt=null;if(Q.forEach(xn=>{const wn=xn.offset,ft=wn==Nt,Lt=ft&&Zt||{};Object.keys(xn).forEach(wt=>{let en=wt,gn=xn[wt];if("offset"!==wt)switch(en=I.normalizePropertyName(en,ot),gn){case dt.k1:gn=ke[wt];break;case dt.l3:gn=Ue[wt];break;default:gn=I.normalizeStyleValue(wt,en,gn,ot)}Lt[en]=gn}),ft||gt.push(Lt),Zt=Lt,Nt=wn}),ot.length){const xn="\n - ";throw new Error(`Unable to animate due to the following errors:${xn}${ot.join(xn)}`)}return gt}function et(me,I,O,Q){switch(I){case"start":me.onStart(()=>Q(O&&Ke(O,"start",me)));break;case"done":me.onDone(()=>Q(O&&Ke(O,"done",me)));break;case"destroy":me.onDestroy(()=>Q(O&&Ke(O,"destroy",me)))}}function Ke(me,I,O){const Q=O.totalTime,Ue=je(me.element,me.triggerName,me.fromState,me.toState,I||me.phaseName,null==Q?me.totalTime:Q,!!O.disabled),ot=me._data;return null!=ot&&(Ue._data=ot),Ue}function je(me,I,O,Q,ke="",Ue=0,ot){return{element:me,triggerName:I,fromState:O,toState:Q,phaseName:ke,totalTime:Ue,disabled:!!ot}}function ze(me,I,O){let Q;return me instanceof Map?(Q=me.get(I),Q||me.set(I,Q=O)):(Q=me[I],Q||(Q=me[I]=O)),Q}function He(me){const I=me.indexOf(":");return[me.substring(1,I),me.substr(I+1)]}let Fe=(me,I)=>!1,Qe=(me,I)=>!1,It=(me,I,O)=>[];const Vt=qt();(Vt||"undefined"!=typeof Element)&&(Fe=Xt()?(me,I)=>{for(;I&&I!==document.documentElement;){if(I===me)return!0;I=I.parentNode||I.host}return!1}:(me,I)=>me.contains(I),Qe=(()=>{if(Vt||Element.prototype.matches)return(me,I)=>me.matches(I);{const me=Element.prototype,I=me.matchesSelector||me.mozMatchesSelector||me.msMatchesSelector||me.oMatchesSelector||me.webkitMatchesSelector;return I?(O,Q)=>I.apply(O,[Q]):Qe}})(),It=(me,I,O)=>{let Q=[];if(O){const ke=me.querySelectorAll(I);for(let Ue=0;Ue<ke.length;Ue++)Q.push(ke[Ue])}else{const ke=me.querySelector(I);ke&&Q.push(ke)}return Q});let jt=null,Kt=!1;function lt(me){jt||(jt=("undefined"!=typeof document?document.body:null)||{},Kt=!!jt.style&&"WebkitAppearance"in jt.style);let I=!0;return jt.style&&!function(me){return"ebkit"==me.substring(1,6)}(me)&&(I=me in jt.style,!I&&Kt&&(I="Webkit"+me.charAt(0).toUpperCase()+me.substr(1)in jt.style)),I}const _t=Qe,Et=Fe,pn=It;function jn(me){const I={};return Object.keys(me).forEach(O=>{const Q=O.replace(/([a-z])([A-Z])/g,"$1-$2");I[Q]=me[O]}),I}let Zi=(()=>{class me{validateStyleProperty(O){return lt(O)}matchesElement(O,Q){return _t(O,Q)}containsElement(O,Q){return Et(O,Q)}query(O,Q,ke){return pn(O,Q,ke)}computeStyle(O,Q,ke){return ke||""}animate(O,Q,ke,Ue,ot,gt=[],Nt){return new dt.ZN(ke,Ue)}}return me.\u0275fac=function(O){return new(O||me)},me.\u0275prov=B.Yz7({token:me,factory:me.\u0275fac}),me})(),Dn=(()=>{class me{}return me.NOOP=new Zi,me})();const Cn="ng-enter",si="ng-leave",fi="ng-trigger",Di=".ng-trigger",Ei="ng-animating",Vo=".ng-animating";function Rn(me){if("number"==typeof me)return me;const I=me.match(/^(-?[\.\d]+)(m?s)/);return!I||I.length<2?0:Or(parseFloat(I[1]),I[2])}function Or(me,I){return"s"===I?1e3*me:me}function vo(me,I,O){return me.hasOwnProperty("duration")?me:function(me,I,O){let ke,Ue=0,ot="";if("string"==typeof me){const gt=me.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===gt)return I.push(`The provided timing value "${me}" is invalid.`),{duration:0,delay:0,easing:""};ke=Or(parseFloat(gt[1]),gt[2]);const Nt=gt[3];null!=Nt&&(Ue=Or(parseFloat(Nt),gt[4]));const Zt=gt[5];Zt&&(ot=Zt)}else ke=me;if(!O){let gt=!1,Nt=I.length;ke<0&&(I.push("Duration values below 0 are not allowed for this animation step."),gt=!0),Ue<0&&(I.push("Delay values below 0 are not allowed for this animation step."),gt=!0),gt&&I.splice(Nt,0,`The provided timing value "${me}" is invalid.`)}return{duration:ke,delay:Ue,easing:ot}}(me,I,O)}function Ui(me,I={}){return Object.keys(me).forEach(O=>{I[O]=me[O]}),I}function Hn(me,I,O={}){if(I)for(let Q in me)O[Q]=me[Q];else Ui(me,O);return O}function Vr(me,I,O){return O?I+":"+O+";":""}function _i(me){let I="";for(let O=0;O<me.style.length;O++){const Q=me.style.item(O);I+=Vr(0,Q,me.style.getPropertyValue(Q))}for(const O in me.style)me.style.hasOwnProperty(O)&&!O.startsWith("_")&&(I+=Vr(0,sn(O),me.style[O]));me.setAttribute("style",I)}function cr(me,I,O){me.style&&(Object.keys(I).forEach(Q=>{const ke=Tt(Q);O&&!O.hasOwnProperty(Q)&&(O[Q]=me.style[ke]),me.style[ke]=I[Q]}),qt()&&_i(me))}function Ni(me,I){me.style&&(Object.keys(I).forEach(O=>{const Q=Tt(O);me.style[Q]=""}),qt()&&_i(me))}function Ri(me){return Array.isArray(me)?1==me.length?me[0]:(0,dt.vP)(me):me}const Pi=new RegExp("{{\\s*(.+?)\\s*}}","g");function bt(me){let I=[];if("string"==typeof me){let O;for(;O=Pi.exec(me);)I.push(O[1]);Pi.lastIndex=0}return I}function nt(me,I,O){const Q=me.toString(),ke=Q.replace(Pi,(Ue,ot)=>{let gt=I[ot];return I.hasOwnProperty(ot)||(O.push(`Please provide a value for the animation param ${ot}`),gt=""),gt.toString()});return ke==Q?me:ke}function Dt(me){const I=[];let O=me.next();for(;!O.done;)I.push(O.value),O=me.next();return I}const Gt=/-+([a-z0-9])/g;function Tt(me){return me.replace(Gt,(...I)=>I[1].toUpperCase())}function sn(me){return me.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zn(me,I){return 0===me||0===I}function Qn(me,I,O){const Q=Object.keys(O);if(Q.length&&I.length){let Ue=I[0],ot=[];if(Q.forEach(gt=>{Ue.hasOwnProperty(gt)||ot.push(gt),Ue[gt]=O[gt]}),ot.length)for(var ke=1;ke<I.length;ke++){let gt=I[ke];ot.forEach(function(Nt){gt[Nt]=Mi(me,Nt)})}}return I}function Fn(me,I,O){switch(I.type){case 7:return me.visitTrigger(I,O);case 0:return me.visitState(I,O);case 1:return me.visitTransition(I,O);case 2:return me.visitSequence(I,O);case 3:return me.visitGroup(I,O);case 4:return me.visitAnimate(I,O);case 5:return me.visitKeyframes(I,O);case 6:return me.visitStyle(I,O);case 8:return me.visitReference(I,O);case 9:return me.visitAnimateChild(I,O);case 10:return me.visitAnimateRef(I,O);case 11:return me.visitQuery(I,O);case 12:return me.visitStagger(I,O);default:throw new Error(`Unable to resolve animation metadata node #${I.type}`)}}function Mi(me,I){return window.getComputedStyle(me)[I]}function Lr(me,I){const O=[];return"string"==typeof me?me.split(/\s*,\s*/).forEach(Q=>function(me,I,O){if(":"==me[0]){const Nt=function(me,I){switch(me){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(O,Q)=>parseFloat(Q)>parseFloat(O);case":decrement":return(O,Q)=>parseFloat(Q)<parseFloat(O);default:return I.push(`The transition alias value "${me}" is not supported`),"* => *"}}(me,O);if("function"==typeof Nt)return void I.push(Nt);me=Nt}const Q=me.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==Q||Q.length<4)return O.push(`The provided transition expression "${me}" is not supported`),I;const ke=Q[1],Ue=Q[2],ot=Q[3];I.push(tt(ke,ot));"<"==Ue[0]&&!("*"==ke&&"*"==ot)&&I.push(tt(ot,ke))}(Q,O,I)):O.push(me),O}const Pt=new Set(["true","1"]),yt=new Set(["false","0"]);function tt(me,I){const O=Pt.has(me)||yt.has(me),Q=Pt.has(I)||yt.has(I);return(ke,Ue)=>{let ot="*"==me||me==ke,gt="*"==I||I==Ue;return!ot&&O&&"boolean"==typeof ke&&(ot=ke?Pt.has(me):yt.has(me)),!gt&&Q&&"boolean"==typeof Ue&&(gt=Ue?Pt.has(I):yt.has(I)),ot&&gt}}const Qt=new RegExp("s*:selfs*,?","g");function Tn(me,I,O){return new gi(me).build(I,O)}class gi{constructor(I){this._driver=I}build(I,O){const Q=new xo(O);return this._resetContextStyleTimingState(Q),Fn(this,Ri(I),Q)}_resetContextStyleTimingState(I){I.currentQuerySelector="",I.collectedStyles={},I.collectedStyles[""]={},I.currentTime=0}visitTrigger(I,O){let Q=O.queryCount=0,ke=O.depCount=0;const Ue=[],ot=[];return"@"==I.name.charAt(0)&&O.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),I.definitions.forEach(gt=>{if(this._resetContextStyleTimingState(O),0==gt.type){const Nt=gt,Zt=Nt.name;Zt.toString().split(/\s*,\s*/).forEach(xn=>{Nt.name=xn,Ue.push(this.visitState(Nt,O))}),Nt.name=Zt}else if(1==gt.type){const Nt=this.visitTransition(gt,O);Q+=Nt.queryCount,ke+=Nt.depCount,ot.push(Nt)}else O.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:I.name,states:Ue,transitions:ot,queryCount:Q,depCount:ke,options:null}}visitState(I,O){const Q=this.visitStyle(I.styles,O),ke=I.options&&I.options.params||null;if(Q.containsDynamicStyles){const Ue=new Set,ot=ke||{};if(Q.styles.forEach(gt=>{if(fr(gt)){const Nt=gt;Object.keys(Nt).forEach(Zt=>{bt(Nt[Zt]).forEach(xn=>{ot.hasOwnProperty(xn)||Ue.add(xn)})})}}),Ue.size){const gt=Dt(Ue.values());O.errors.push(`state("${I.name}", ...) must define default values for all the following style substitutions: ${gt.join(", ")}`)}}return{type:0,name:I.name,style:Q,options:ke?{params:ke}:null}}visitTransition(I,O){O.queryCount=0,O.depCount=0;const Q=Fn(this,Ri(I.animation),O);return{type:1,matchers:Lr(I.expr,O.errors),animation:Q,queryCount:O.queryCount,depCount:O.depCount,options:mn(I.options)}}visitSequence(I,O){return{type:2,steps:I.steps.map(Q=>Fn(this,Q,O)),options:mn(I.options)}}visitGroup(I,O){const Q=O.currentTime;let ke=0;const Ue=I.steps.map(ot=>{O.currentTime=Q;const gt=Fn(this,ot,O);return ke=Math.max(ke,O.currentTime),gt});return O.currentTime=ke,{type:3,steps:Ue,options:mn(I.options)}}visitAnimate(I,O){const Q=function(me,I){let O=null;if(me.hasOwnProperty("duration"))O=me;else if("number"==typeof me)return qn(vo(me,I).duration,0,"");const Q=me;if(Q.split(/\s+/).some(Ue=>"{"==Ue.charAt(0)&&"{"==Ue.charAt(1))){const Ue=qn(0,0,"");return Ue.dynamic=!0,Ue.strValue=Q,Ue}return O=O||vo(Q,I),qn(O.duration,O.delay,O.easing)}(I.timings,O.errors);O.currentAnimateTimings=Q;let ke,Ue=I.styles?I.styles:(0,dt.oB)({});if(5==Ue.type)ke=this.visitKeyframes(Ue,O);else{let ot=I.styles,gt=!1;if(!ot){gt=!0;const Zt={};Q.easing&&(Zt.easing=Q.easing),ot=(0,dt.oB)(Zt)}O.currentTime+=Q.duration+Q.delay;const Nt=this.visitStyle(ot,O);Nt.isEmptyStep=gt,ke=Nt}return O.currentAnimateTimings=null,{type:4,timings:Q,style:ke,options:null}}visitStyle(I,O){const Q=this._makeStyleAst(I,O);return this._validateStyleAst(Q,O),Q}_makeStyleAst(I,O){const Q=[];Array.isArray(I.styles)?I.styles.forEach(ot=>{"string"==typeof ot?ot==dt.l3?Q.push(ot):O.errors.push(`The provided style string value ${ot} is not allowed.`):Q.push(ot)}):Q.push(I.styles);let ke=!1,Ue=null;return Q.forEach(ot=>{if(fr(ot)){const gt=ot,Nt=gt.easing;if(Nt&&(Ue=Nt,delete gt.easing),!ke)for(let Zt in gt)if(gt[Zt].toString().indexOf("{{")>=0){ke=!0;break}}}),{type:6,styles:Q,easing:Ue,offset:I.offset,containsDynamicStyles:ke,options:null}}_validateStyleAst(I,O){const Q=O.currentAnimateTimings;let ke=O.currentTime,Ue=O.currentTime;Q&&Ue>0&&(Ue-=Q.duration+Q.delay),I.styles.forEach(ot=>{"string"!=typeof ot&&Object.keys(ot).forEach(gt=>{if(!this._driver.validateStyleProperty(gt))return void O.errors.push(`The provided animation property "${gt}" is not a supported CSS property for animations`);const Nt=O.collectedStyles[O.currentQuerySelector],Zt=Nt[gt];let xn=!0;Zt&&(Ue!=ke&&Ue>=Zt.startTime&&ke<=Zt.endTime&&(O.errors.push(`The CSS property "${gt}" that exists between the times of "${Zt.startTime}ms" and "${Zt.endTime}ms" is also being animated in a parallel animation between the times of "${Ue}ms" and "${ke}ms"`),xn=!1),Ue=Zt.startTime),xn&&(Nt[gt]={startTime:Ue,endTime:ke}),O.options&&function(me,I,O){const Q=I.params||{},ke=bt(me);ke.length&&ke.forEach(Ue=>{Q.hasOwnProperty(Ue)||O.push(`Unable to resolve the local animation param ${Ue} in the given list of values`)})}(ot[gt],O.options,O.errors)})})}visitKeyframes(I,O){const Q={type:5,styles:[],options:null};if(!O.currentAnimateTimings)return O.errors.push("keyframes() must be placed inside of a call to animate()"),Q;let Ue=0;const ot=[];let gt=!1,Nt=!1,Zt=0;const xn=I.steps.map(bi=>{const wi=this._makeStyleAst(bi,O);let Ci=null!=wi.offset?wi.offset:function(me){if("string"==typeof me)return null;let I=null;if(Array.isArray(me))me.forEach(O=>{if(fr(O)&&O.hasOwnProperty("offset")){const Q=O;I=parseFloat(Q.offset),delete Q.offset}});else if(fr(me)&&me.hasOwnProperty("offset")){const O=me;I=parseFloat(O.offset),delete O.offset}return I}(wi.styles),Do=0;return null!=Ci&&(Ue++,Do=wi.offset=Ci),Nt=Nt||Do<0||Do>1,gt=gt||Do<Zt,Zt=Do,ot.push(Do),wi});Nt&&O.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),gt&&O.errors.push("Please ensure that all keyframe offsets are in order");const wn=I.steps.length;let ft=0;Ue>0&&Ue<wn?O.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==Ue&&(ft=1/(wn-1));const Lt=wn-1,wt=O.currentTime,en=O.currentAnimateTimings,gn=en.duration;return xn.forEach((bi,wi)=>{const Ci=ft>0?wi==Lt?1:ft*wi:ot[wi],Do=Ci*gn;O.currentTime=wt+en.delay+Do,en.duration=Do,this._validateStyleAst(bi,O),bi.offset=Ci,Q.styles.push(bi)}),Q}visitReference(I,O){return{type:8,animation:Fn(this,Ri(I.animation),O),options:mn(I.options)}}visitAnimateChild(I,O){return O.depCount++,{type:9,options:mn(I.options)}}visitAnimateRef(I,O){return{type:10,animation:this.visitReference(I.animation,O),options:mn(I.options)}}visitQuery(I,O){const Q=O.currentQuerySelector,ke=I.options||{};O.queryCount++,O.currentQuery=I;const[Ue,ot]=function(me){const I=!!me.split(/\s*,\s*/).find(O=>":self"==O);return I&&(me=me.replace(Qt,"")),me=me.replace(/@\*/g,Di).replace(/@\w+/g,O=>Di+"-"+O.substr(1)).replace(/:animating/g,Vo),[me,I]}(I.selector);O.currentQuerySelector=Q.length?Q+" "+Ue:Ue,ze(O.collectedStyles,O.currentQuerySelector,{});const gt=Fn(this,Ri(I.animation),O);return O.currentQuery=null,O.currentQuerySelector=Q,{type:11,selector:Ue,limit:ke.limit||0,optional:!!ke.optional,includeSelf:ot,animation:gt,originalSelector:I.selector,options:mn(I.options)}}visitStagger(I,O){O.currentQuery||O.errors.push("stagger() can only be used inside of query()");const Q="full"===I.timings?{duration:0,delay:0,easing:"full"}:vo(I.timings,O.errors,!0);return{type:12,animation:Fn(this,Ri(I.animation),O),timings:Q,options:null}}}class xo{constructor(I){this.errors=I,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function fr(me){return!Array.isArray(me)&&"object"==typeof me}function mn(me){return me?(me=Ui(me)).params&&(me.params=function(me){return me?Ui(me):null}(me.params)):me={},me}function qn(me,I,O){return{duration:me,delay:I,easing:O}}function pi(me,I,O,Q,ke,Ue,ot=null,gt=!1){return{type:1,element:me,keyframes:I,preStyleProps:O,postStyleProps:Q,duration:ke,delay:Ue,totalTime:ke+Ue,easing:ot,subTimeline:gt}}class Ki{constructor(){this._map=new Map}consume(I){let O=this._map.get(I);return O?this._map.delete(I):O=[],O}append(I,O){let Q=this._map.get(I);Q||this._map.set(I,Q=[]),Q.push(...O)}has(I){return this._map.has(I)}clear(){this._map.clear()}}const wo=new RegExp(":enter","g"),sr=new RegExp(":leave","g");function so(me,I,O,Q,ke,Ue={},ot={},gt,Nt,Zt=[]){return(new Yn).buildKeyframes(me,I,O,Q,ke,Ue,ot,gt,Nt,Zt)}class Yn{buildKeyframes(I,O,Q,ke,Ue,ot,gt,Nt,Zt,xn=[]){Zt=Zt||new Ki;const wn=new ao(I,O,Zt,ke,Ue,xn,[]);wn.options=Nt,wn.currentTimeline.setStyles([ot],null,wn.errors,Nt),Fn(this,Q,wn);const ft=wn.timelines.filter(Lt=>Lt.containsAnimation());if(ft.length&&Object.keys(gt).length){const Lt=ft[ft.length-1];Lt.allowOnlyTimelineStyles()||Lt.setStyles([gt],null,wn.errors,Nt)}return ft.length?ft.map(Lt=>Lt.buildKeyframes()):[pi(O,[],[],[],0,0,"",!1)]}visitTrigger(I,O){}visitState(I,O){}visitTransition(I,O){}visitAnimateChild(I,O){const Q=O.subInstructions.consume(O.element);if(Q){const ke=O.createSubContext(I.options),Ue=O.currentTimeline.currentTime,ot=this._visitSubInstructions(Q,ke,ke.options);Ue!=ot&&O.transformIntoNewTimeline(ot)}O.previousNode=I}visitAnimateRef(I,O){const Q=O.createSubContext(I.options);Q.transformIntoNewTimeline(),this.visitReference(I.animation,Q),O.transformIntoNewTimeline(Q.currentTimeline.currentTime),O.previousNode=I}_visitSubInstructions(I,O,Q){let Ue=O.currentTimeline.currentTime;const ot=null!=Q.duration?Rn(Q.duration):null,gt=null!=Q.delay?Rn(Q.delay):null;return 0!==ot&&I.forEach(Nt=>{const Zt=O.appendInstructionToTimeline(Nt,ot,gt);Ue=Math.max(Ue,Zt.duration+Zt.delay)}),Ue}visitReference(I,O){O.updateOptions(I.options,!0),Fn(this,I.animation,O),O.previousNode=I}visitSequence(I,O){const Q=O.subContextCount;let ke=O;const Ue=I.options;if(Ue&&(Ue.params||Ue.delay)&&(ke=O.createSubContext(Ue),ke.transformIntoNewTimeline(),null!=Ue.delay)){6==ke.previousNode.type&&(ke.currentTimeline.snapshotCurrentStyles(),ke.previousNode=gr);const ot=Rn(Ue.delay);ke.delayNextStep(ot)}I.steps.length&&(I.steps.forEach(ot=>Fn(this,ot,ke)),ke.currentTimeline.applyStylesToKeyframe(),ke.subContextCount>Q&&ke.transformIntoNewTimeline()),O.previousNode=I}visitGroup(I,O){const Q=[];let ke=O.currentTimeline.currentTime;const Ue=I.options&&I.options.delay?Rn(I.options.delay):0;I.steps.forEach(ot=>{const gt=O.createSubContext(I.options);Ue&&gt.delayNextStep(Ue),Fn(this,ot,gt),ke=Math.max(ke,gt.currentTimeline.currentTime),Q.push(gt.currentTimeline)}),Q.forEach(ot=>O.currentTimeline.mergeTimelineCollectedStyles(ot)),O.transformIntoNewTimeline(ke),O.previousNode=I}_visitTiming(I,O){if(I.dynamic){const Q=I.strValue;return vo(O.params?nt(Q,O.params,O.errors):Q,O.errors)}return{duration:I.duration,delay:I.delay,easing:I.easing}}visitAnimate(I,O){const Q=O.currentAnimateTimings=this._visitTiming(I.timings,O),ke=O.currentTimeline;Q.delay&&(O.incrementTime(Q.delay),ke.snapshotCurrentStyles());const Ue=I.style;5==Ue.type?this.visitKeyframes(Ue,O):(O.incrementTime(Q.duration),this.visitStyle(Ue,O),ke.applyStylesToKeyframe()),O.currentAnimateTimings=null,O.previousNode=I}visitStyle(I,O){const Q=O.currentTimeline,ke=O.currentAnimateTimings;!ke&&Q.getCurrentStyleProperties().length&&Q.forwardFrame();const Ue=ke&&ke.easing||I.easing;I.isEmptyStep?Q.applyEmptyStep(Ue):Q.setStyles(I.styles,Ue,O.errors,O.options),O.previousNode=I}visitKeyframes(I,O){const Q=O.currentAnimateTimings,ke=O.currentTimeline.duration,Ue=Q.duration,gt=O.createSubContext().currentTimeline;gt.easing=Q.easing,I.styles.forEach(Nt=>{gt.forwardTime((Nt.offset||0)*Ue),gt.setStyles(Nt.styles,Nt.easing,O.errors,O.options),gt.applyStylesToKeyframe()}),O.currentTimeline.mergeTimelineCollectedStyles(gt),O.transformIntoNewTimeline(ke+Ue),O.previousNode=I}visitQuery(I,O){const Q=O.currentTimeline.currentTime,ke=I.options||{},Ue=ke.delay?Rn(ke.delay):0;Ue&&(6===O.previousNode.type||0==Q&&O.currentTimeline.getCurrentStyleProperties().length)&&(O.currentTimeline.snapshotCurrentStyles(),O.previousNode=gr);let ot=Q;const gt=O.invokeQuery(I.selector,I.originalSelector,I.limit,I.includeSelf,!!ke.optional,O.errors);O.currentQueryTotal=gt.length;let Nt=null;gt.forEach((Zt,xn)=>{O.currentQueryIndex=xn;const wn=O.createSubContext(I.options,Zt);Ue&&wn.delayNextStep(Ue),Zt===O.element&&(Nt=wn.currentTimeline),Fn(this,I.animation,wn),wn.currentTimeline.applyStylesToKeyframe(),ot=Math.max(ot,wn.currentTimeline.currentTime)}),O.currentQueryIndex=0,O.currentQueryTotal=0,O.transformIntoNewTimeline(ot),Nt&&(O.currentTimeline.mergeTimelineCollectedStyles(Nt),O.currentTimeline.snapshotCurrentStyles()),O.previousNode=I}visitStagger(I,O){const Q=O.parentContext,ke=O.currentTimeline,Ue=I.timings,ot=Math.abs(Ue.duration),gt=ot*(O.currentQueryTotal-1);let Nt=ot*O.currentQueryIndex;switch(Ue.duration<0?"reverse":Ue.easing){case"reverse":Nt=gt-Nt;break;case"full":Nt=Q.currentStaggerTime}const xn=O.currentTimeline;Nt&&xn.delayNextStep(Nt);const wn=xn.currentTime;Fn(this,I.animation,O),O.previousNode=I,Q.currentStaggerTime=ke.currentTime-wn+(ke.startTime-Q.currentTimeline.startTime)}}const gr={};class ao{constructor(I,O,Q,ke,Ue,ot,gt,Nt){this._driver=I,this.element=O,this.subInstructions=Q,this._enterClassName=ke,this._leaveClassName=Ue,this.errors=ot,this.timelines=gt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Nt||new Xo(this._driver,O,0),gt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(I,O){if(!I)return;const Q=I;let ke=this.options;null!=Q.duration&&(ke.duration=Rn(Q.duration)),null!=Q.delay&&(ke.delay=Rn(Q.delay));const Ue=Q.params;if(Ue){let ot=ke.params;ot||(ot=this.options.params={}),Object.keys(Ue).forEach(gt=>{(!O||!ot.hasOwnProperty(gt))&&(ot[gt]=nt(Ue[gt],ot,this.errors))})}}_copyOptions(){const I={};if(this.options){const O=this.options.params;if(O){const Q=I.params={};Object.keys(O).forEach(ke=>{Q[ke]=O[ke]})}}return I}createSubContext(I=null,O,Q){const ke=O||this.element,Ue=new ao(this._driver,ke,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ke,Q||0));return Ue.previousNode=this.previousNode,Ue.currentAnimateTimings=this.currentAnimateTimings,Ue.options=this._copyOptions(),Ue.updateOptions(I),Ue.currentQueryIndex=this.currentQueryIndex,Ue.currentQueryTotal=this.currentQueryTotal,Ue.parentContext=this,this.subContextCount++,Ue}transformIntoNewTimeline(I){return this.previousNode=gr,this.currentTimeline=this.currentTimeline.fork(this.element,I),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(I,O,Q){const ke={duration:null!=O?O:I.duration,delay:this.currentTimeline.currentTime+(null!=Q?Q:0)+I.delay,easing:""},Ue=new xs(this._driver,I.element,I.keyframes,I.preStyleProps,I.postStyleProps,ke,I.stretchStartingKeyframe);return this.timelines.push(Ue),ke}incrementTime(I){this.currentTimeline.forwardTime(this.currentTimeline.duration+I)}delayNextStep(I){I>0&&this.currentTimeline.delayNextStep(I)}invokeQuery(I,O,Q,ke,Ue,ot){let gt=[];if(ke&&gt.push(this.element),I.length>0){I=(I=I.replace(wo,"."+this._enterClassName)).replace(sr,"."+this._leaveClassName);let Zt=this._driver.query(this.element,I,1!=Q);0!==Q&&(Zt=Q<0?Zt.slice(Zt.length+Q,Zt.length):Zt.slice(0,Q)),gt.push(...Zt)}return!Ue&&0==gt.length&&ot.push(`\`query("${O}")\` returned zero elements. (Use \`query("${O}", { optional: true })\` if you wish to allow this.)`),gt}}class Xo{constructor(I,O,Q,ke){this._driver=I,this.element=O,this.startTime=Q,this._elementTimelineStylesLookup=ke,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(O),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(O,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(I){const O=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||O?(this.forwardTime(this.currentTime+I),O&&this.snapshotCurrentStyles()):this.startTime+=I}fork(I,O){return this.applyStylesToKeyframe(),new Xo(this._driver,I,O||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(I){this.applyStylesToKeyframe(),this.duration=I,this._loadKeyframe()}_updateStyle(I,O){this._localTimelineStyles[I]=O,this._globalTimelineStyles[I]=O,this._styleSummary[I]={time:this.currentTime,value:O}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(I){I&&(this._previousKeyframe.easing=I),Object.keys(this._globalTimelineStyles).forEach(O=>{this._backFill[O]=this._globalTimelineStyles[O]||dt.l3,this._currentKeyframe[O]=dt.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(I,O,Q,ke){O&&(this._previousKeyframe.easing=O);const Ue=ke&&ke.params||{},ot=function(me,I){const O={};let Q;return me.forEach(ke=>{"*"===ke?(Q=Q||Object.keys(I),Q.forEach(Ue=>{O[Ue]=dt.l3})):Hn(ke,!1,O)}),O}(I,this._globalTimelineStyles);Object.keys(ot).forEach(gt=>{const Nt=nt(ot[gt],Ue,Q);this._pendingStyles[gt]=Nt,this._localTimelineStyles.hasOwnProperty(gt)||(this._backFill[gt]=this._globalTimelineStyles.hasOwnProperty(gt)?this._globalTimelineStyles[gt]:dt.l3),this._updateStyle(gt,Nt)})}applyStylesToKeyframe(){const I=this._pendingStyles,O=Object.keys(I);0!=O.length&&(this._pendingStyles={},O.forEach(Q=>{this._currentKeyframe[Q]=I[Q]}),Object.keys(this._localTimelineStyles).forEach(Q=>{this._currentKeyframe.hasOwnProperty(Q)||(this._currentKeyframe[Q]=this._localTimelineStyles[Q])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(I=>{const O=this._localTimelineStyles[I];this._pendingStyles[I]=O,this._updateStyle(I,O)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const I=[];for(let O in this._currentKeyframe)I.push(O);return I}mergeTimelineCollectedStyles(I){Object.keys(I._styleSummary).forEach(O=>{const Q=this._styleSummary[O],ke=I._styleSummary[O];(!Q||ke.time>Q.time)&&this._updateStyle(O,ke.value)})}buildKeyframes(){this.applyStylesToKeyframe();const I=new Set,O=new Set,Q=1===this._keyframes.size&&0===this.duration;let ke=[];this._keyframes.forEach((gt,Nt)=>{const Zt=Hn(gt,!0);Object.keys(Zt).forEach(xn=>{const wn=Zt[xn];wn==dt.k1?I.add(xn):wn==dt.l3&&O.add(xn)}),Q||(Zt.offset=Nt/this.duration),ke.push(Zt)});const Ue=I.size?Dt(I.values()):[],ot=O.size?Dt(O.values()):[];if(Q){const gt=ke[0],Nt=Ui(gt);gt.offset=0,Nt.offset=1,ke=[gt,Nt]}return pi(this.element,ke,Ue,ot,this.duration,this.startTime,this.easing,!1)}}class xs extends Xo{constructor(I,O,Q,ke,Ue,ot,gt=!1){super(I,O,ot.delay),this.keyframes=Q,this.preStyleProps=ke,this.postStyleProps=Ue,this._stretchStartingKeyframe=gt,this.timings={duration:ot.duration,delay:ot.delay,easing:ot.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let I=this.keyframes,{delay:O,duration:Q,easing:ke}=this.timings;if(this._stretchStartingKeyframe&&O){const Ue=[],ot=Q+O,gt=O/ot,Nt=Hn(I[0],!1);Nt.offset=0,Ue.push(Nt);const Zt=Hn(I[0],!1);Zt.offset=Jn(gt),Ue.push(Zt);const xn=I.length-1;for(let wn=1;wn<=xn;wn++){let ft=Hn(I[wn],!1);ft.offset=Jn((O+ft.offset*Q)/ot),Ue.push(ft)}Q=ot,O=0,ke="",I=Ue}return pi(this.element,I,this.preStyleProps,this.postStyleProps,Q,O,ke,!0)}}function Jn(me,I=3){const O=Math.pow(10,I-1);return Math.round(me*O)/O}class Nr{}class cs extends Nr{normalizePropertyName(I,O){return Tt(I)}normalizeStyleValue(I,O,Q,ke){let Ue="";const ot=Q.toString().trim();if(Oo[O]&&0!==Q&&"0"!==Q)if("number"==typeof Q)Ue="px";else{const gt=Q.match(/^[+-]?[\d\.]+([a-z]*)$/);gt&&0==gt[1].length&&ke.push(`Please provide a CSS unit value for ${I}:${Q}`)}return ot+Ue}}const Oo=(()=>function(me){const I={};return me.forEach(O=>I[O]=!0),I}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Eo(me,I,O,Q,ke,Ue,ot,gt,Nt,Zt,xn,wn,ft){return{type:0,element:me,triggerName:I,isRemovalTransition:ke,fromState:O,fromStyles:Ue,toState:Q,toStyles:ot,timelines:gt,queriedElements:Nt,preStyleProps:Zt,postStyleProps:xn,totalTime:wn,errors:ft}}const Ho={};class es{constructor(I,O,Q){this._triggerName=I,this.ast=O,this._stateStyles=Q}match(I,O,Q,ke){return function(me,I,O,Q,ke){return me.some(Ue=>Ue(I,O,Q,ke))}(this.ast.matchers,I,O,Q,ke)}buildStyles(I,O,Q){const ke=this._stateStyles["*"],Ue=this._stateStyles[I],ot=ke?ke.buildStyles(O,Q):{};return Ue?Ue.buildStyles(O,Q):ot}build(I,O,Q,ke,Ue,ot,gt,Nt,Zt,xn){const wn=[],ft=this.ast.options&&this.ast.options.params||Ho,wt=this.buildStyles(Q,gt&&gt.params||Ho,wn),en=Nt&&Nt.params||Ho,gn=this.buildStyles(ke,en,wn),bi=new Set,wi=new Map,Ci=new Map,Do="void"===ke,Hs={params:un(un({},ft),en)},To=xn?[]:so(I,O,this.ast.animation,Ue,ot,wt,gn,Hs,Zt,wn);let eo=0;if(To.forEach(ui=>{eo=Math.max(ui.duration+ui.delay,eo)}),wn.length)return Eo(O,this._triggerName,Q,ke,Do,wt,gn,[],[],wi,Ci,eo,wn);To.forEach(ui=>{const Cs=ui.element,qi=ze(wi,Cs,{});ui.preStyleProps.forEach(Zo=>qi[Zo]=!0);const Li=ze(Ci,Cs,{});ui.postStyleProps.forEach(Zo=>Li[Zo]=!0),Cs!==O&&bi.add(Cs)});const ws=Dt(bi.values());return Eo(O,this._triggerName,Q,ke,Do,wt,gn,To,ws,wi,Ci,eo)}}class Jr{constructor(I,O,Q){this.styles=I,this.defaultParams=O,this.normalizer=Q}buildStyles(I,O){const Q={},ke=Ui(this.defaultParams);return Object.keys(I).forEach(Ue=>{const ot=I[Ue];null!=ot&&(ke[Ue]=ot)}),this.styles.styles.forEach(Ue=>{if("string"!=typeof Ue){const ot=Ue;Object.keys(ot).forEach(gt=>{let Nt=ot[gt];Nt.length>1&&(Nt=nt(Nt,ke,O));const Zt=this.normalizer.normalizePropertyName(gt,O);Nt=this.normalizer.normalizeStyleValue(gt,Zt,Nt,O),Q[Zt]=Nt})}}),Q}}class lo{constructor(I,O,Q){this.name=I,this.ast=O,this._normalizer=Q,this.transitionFactories=[],this.states={},O.states.forEach(ke=>{this.states[ke.name]=new Jr(ke.style,ke.options&&ke.options.params||{},Q)}),co(this.states,"true","1"),co(this.states,"false","0"),O.transitions.forEach(ke=>{this.transitionFactories.push(new es(I,ke,this.states))}),this.fallbackTransition=function(me,I,O){return new es(me,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ot,gt)=>!0],options:null,queryCount:0,depCount:0},I)}(I,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(I,O,Q,ke){return this.transitionFactories.find(ot=>ot.match(I,O,Q,ke))||null}matchStyles(I,O,Q){return this.fallbackTransition.buildStyles(I,O,Q)}}function co(me,I,O){me.hasOwnProperty(I)?me.hasOwnProperty(O)||(me[O]=me[I]):me.hasOwnProperty(O)&&(me[I]=me[O])}const vr=new Ki;class Go{constructor(I,O,Q){this.bodyNode=I,this._driver=O,this._normalizer=Q,this._animations={},this._playersById={},this.players=[]}register(I,O){const Q=[],ke=Tn(this._driver,O,Q);if(Q.length)throw new Error(`Unable to build the animation due to the following errors: ${Q.join("\n")}`);this._animations[I]=ke}_buildPlayer(I,O,Q){const ke=I.element,Ue=At(0,this._normalizer,0,I.keyframes,O,Q);return this._driver.animate(ke,Ue,I.duration,I.delay,I.easing,[],!0)}create(I,O,Q={}){const ke=[],Ue=this._animations[I];let ot;const gt=new Map;if(Ue?(ot=so(this._driver,O,Ue,Cn,si,{},{},Q,vr,ke),ot.forEach(xn=>{const wn=ze(gt,xn.element,{});xn.postStyleProps.forEach(ft=>wn[ft]=null)})):(ke.push("The requested animation doesn't exist or has already been destroyed"),ot=[]),ke.length)throw new Error(`Unable to create the animation due to the following errors: ${ke.join("\n")}`);gt.forEach((xn,wn)=>{Object.keys(xn).forEach(ft=>{xn[ft]=this._driver.computeStyle(wn,ft,dt.l3)})});const Zt=vn(ot.map(xn=>{const wn=gt.get(xn.element);return this._buildPlayer(xn,{},wn)}));return this._playersById[I]=Zt,Zt.onDestroy(()=>this.destroy(I)),this.players.push(Zt),Zt}destroy(I){const O=this._getPlayer(I);O.destroy(),delete this._playersById[I];const Q=this.players.indexOf(O);Q>=0&&this.players.splice(Q,1)}_getPlayer(I){const O=this._playersById[I];if(!O)throw new Error(`Unable to find the timeline player referenced by ${I}`);return O}listen(I,O,Q,ke){const Ue=je(O,"","","");return et(this._getPlayer(I),Q,Ue,ke),()=>{}}command(I,O,Q,ke){if("register"==Q)return void this.register(I,ke[0]);if("create"==Q)return void this.create(I,O,ke[0]||{});const Ue=this._getPlayer(I);switch(Q){case"play":Ue.play();break;case"pause":Ue.pause();break;case"reset":Ue.reset();break;case"restart":Ue.restart();break;case"finish":Ue.finish();break;case"init":Ue.init();break;case"setPosition":Ue.setPosition(parseFloat(ke[0]));break;case"destroy":this.destroy(I)}}}const Ur="ng-animate-queued",Ls="ng-animate-disabled",Gr=".ng-animate-disabled",Qs=[],Js={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},za={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mo="__ng_removed";class ns{constructor(I,O=""){this.namespaceId=O;const Q=I&&I.hasOwnProperty("value");if(this.value=null!=(me=Q?I.value:I)?me:null,Q){const Ue=Ui(I);delete Ue.value,this.options=Ue}else this.options={};var me;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(I){const O=I.params;if(O){const Q=this.options.params;Object.keys(O).forEach(ke=>{null==Q[ke]&&(Q[ke]=O[ke])})}}}const Xs="void",Bs=new ns(Xs);class Qa{constructor(I,O,Q){this.id=I,this.hostElement=O,this._engine=Q,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+I,Wr(O,this._hostClassName)}listen(I,O,Q,ke){if(!this._triggers.hasOwnProperty(O))throw new Error(`Unable to listen on the animation trigger event "${Q}" because the animation trigger "${O}" doesn't exist!`);if(null==Q||0==Q.length)throw new Error(`Unable to listen on the animation trigger "${O}" because the provided event is undefined!`);if("start"!=(me=Q)&&"done"!=me)throw new Error(`The provided animation trigger event "${Q}" for the animation trigger "${O}" is not supported!`);var me;const Ue=ze(this._elementListeners,I,[]),ot={name:O,phase:Q,callback:ke};Ue.push(ot);const gt=ze(this._engine.statesByElement,I,{});return gt.hasOwnProperty(O)||(Wr(I,fi),Wr(I,fi+"-"+O),gt[O]=Bs),()=>{this._engine.afterFlush(()=>{const Nt=Ue.indexOf(ot);Nt>=0&&Ue.splice(Nt,1),this._triggers[O]||delete gt[O]})}}register(I,O){return!this._triggers[I]&&(this._triggers[I]=O,!0)}_getTrigger(I){const O=this._triggers[I];if(!O)throw new Error(`The provided animation trigger "${I}" has not been registered!`);return O}trigger(I,O,Q,ke=!0){const Ue=this._getTrigger(O),ot=new $r(this.id,O,I);let gt=this._engine.statesByElement.get(I);gt||(Wr(I,fi),Wr(I,fi+"-"+O),this._engine.statesByElement.set(I,gt={}));let Nt=gt[O];const Zt=new ns(Q,this.id);if(!(Q&&Q.hasOwnProperty("value"))&&Nt&&Zt.absorbOptions(Nt.options),gt[O]=Zt,Nt||(Nt=Bs),Zt.value!==Xs&&Nt.value===Zt.value){if(!function(me,I){const O=Object.keys(me),Q=Object.keys(I);if(O.length!=Q.length)return!1;for(let ke=0;ke<O.length;ke++){const Ue=O[ke];if(!I.hasOwnProperty(Ue)||me[Ue]!==I[Ue])return!1}return!0}(Nt.params,Zt.params)){const en=[],gn=Ue.matchStyles(Nt.value,Nt.params,en),bi=Ue.matchStyles(Zt.value,Zt.params,en);en.length?this._engine.reportError(en):this._engine.afterFlush(()=>{Ni(I,gn),cr(I,bi)})}return}const ft=ze(this._engine.playersByElement,I,[]);ft.forEach(en=>{en.namespaceId==this.id&&en.triggerName==O&&en.queued&&en.destroy()});let Lt=Ue.matchTransition(Nt.value,Zt.value,I,Zt.params),wt=!1;if(!Lt){if(!ke)return;Lt=Ue.fallbackTransition,wt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:I,triggerName:O,transition:Lt,fromState:Nt,toState:Zt,player:ot,isFallbackTransition:wt}),wt||(Wr(I,Ur),ot.onStart(()=>{go(I,Ur)})),ot.onDone(()=>{let en=this.players.indexOf(ot);en>=0&&this.players.splice(en,1);const gn=this._engine.playersByElement.get(I);if(gn){let bi=gn.indexOf(ot);bi>=0&&gn.splice(bi,1)}}),this.players.push(ot),ft.push(ot),ot}deregister(I){delete this._triggers[I],this._engine.statesByElement.forEach((O,Q)=>{delete O[I]}),this._elementListeners.forEach((O,Q)=>{this._elementListeners.set(Q,O.filter(ke=>ke.name!=I))})}clearElementCache(I){this._engine.statesByElement.delete(I),this._elementListeners.delete(I);const O=this._engine.playersByElement.get(I);O&&(O.forEach(Q=>Q.destroy()),this._engine.playersByElement.delete(I))}_signalRemovalForInnerTriggers(I,O){const Q=this._engine.driver.query(I,Di,!0);Q.forEach(ke=>{if(ke[Mo])return;const Ue=this._engine.fetchNamespacesByElement(ke);Ue.size?Ue.forEach(ot=>ot.triggerLeaveAnimation(ke,O,!1,!0)):this.clearElementCache(ke)}),this._engine.afterFlushAnimationsDone(()=>Q.forEach(ke=>this.clearElementCache(ke)))}triggerLeaveAnimation(I,O,Q,ke){const Ue=this._engine.statesByElement.get(I);if(Ue){const ot=[];if(Object.keys(Ue).forEach(gt=>{if(this._triggers[gt]){const Nt=this.trigger(I,gt,Xs,ke);Nt&&ot.push(Nt)}}),ot.length)return this._engine.markElementAsRemoved(this.id,I,!0,O),Q&&vn(ot).onDone(()=>this._engine.processLeaveNode(I)),!0}return!1}prepareLeaveAnimationListeners(I){const O=this._elementListeners.get(I),Q=this._engine.statesByElement.get(I);if(O&&Q){const ke=new Set;O.forEach(Ue=>{const ot=Ue.name;if(ke.has(ot))return;ke.add(ot);const Nt=this._triggers[ot].fallbackTransition,Zt=Q[ot]||Bs,xn=new ns(Xs),wn=new $r(this.id,ot,I);this._engine.totalQueuedPlayers++,this._queue.push({element:I,triggerName:ot,transition:Nt,fromState:Zt,toState:xn,player:wn,isFallbackTransition:!0})})}}removeNode(I,O){const Q=this._engine;if(I.childElementCount&&this._signalRemovalForInnerTriggers(I,O),this.triggerLeaveAnimation(I,O,!0))return;let ke=!1;if(Q.totalAnimations){const Ue=Q.players.length?Q.playersByQueriedElement.get(I):[];if(Ue&&Ue.length)ke=!0;else{let ot=I;for(;ot=ot.parentNode;)if(Q.statesByElement.get(ot)){ke=!0;break}}}if(this.prepareLeaveAnimationListeners(I),ke)Q.markElementAsRemoved(this.id,I,!1,O);else{const Ue=I[Mo];(!Ue||Ue===Js)&&(Q.afterFlush(()=>this.clearElementCache(I)),Q.destroyInnerAnimations(I),Q._onRemovalComplete(I,O))}}insertNode(I,O){Wr(I,this._hostClassName)}drainQueuedTransitions(I){const O=[];return this._queue.forEach(Q=>{const ke=Q.player;if(ke.destroyed)return;const Ue=Q.element,ot=this._elementListeners.get(Ue);ot&&ot.forEach(gt=>{if(gt.name==Q.triggerName){const Nt=je(Ue,Q.triggerName,Q.fromState.value,Q.toState.value);Nt._data=I,et(Q.player,gt.phase,Nt,gt.callback)}}),ke.markedForDestroy?this._engine.afterFlush(()=>{ke.destroy()}):O.push(Q)}),this._queue=[],O.sort((Q,ke)=>{const Ue=Q.transition.ast.depCount,ot=ke.transition.ast.depCount;return 0==Ue||0==ot?Ue-ot:this._engine.driver.containsElement(Q.element,ke.element)?1:-1})}destroy(I){this.players.forEach(O=>O.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,I)}elementContainsData(I){let O=!1;return this._elementListeners.has(I)&&(O=!0),O=!!this._queue.find(Q=>Q.element===I)||O,O}}class cl{constructor(I,O,Q){this.bodyNode=I,this.driver=O,this._normalizer=Q,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ke,Ue)=>{}}_onRemovalComplete(I,O){this.onRemovalComplete(I,O)}get queuedPlayers(){const I=[];return this._namespaceList.forEach(O=>{O.players.forEach(Q=>{Q.queued&&I.push(Q)})}),I}createNamespace(I,O){const Q=new Qa(I,O,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,O)?this._balanceNamespaceList(Q,O):(this.newHostElements.set(O,Q),this.collectEnterElement(O)),this._namespaceLookup[I]=Q}_balanceNamespaceList(I,O){const Q=this._namespaceList.length-1;if(Q>=0){let ke=!1;for(let Ue=Q;Ue>=0;Ue--)if(this.driver.containsElement(this._namespaceList[Ue].hostElement,O)){this._namespaceList.splice(Ue+1,0,I),ke=!0;break}ke||this._namespaceList.splice(0,0,I)}else this._namespaceList.push(I);return this.namespacesByHostElement.set(O,I),I}register(I,O){let Q=this._namespaceLookup[I];return Q||(Q=this.createNamespace(I,O)),Q}registerTrigger(I,O,Q){let ke=this._namespaceLookup[I];ke&&ke.register(O,Q)&&this.totalAnimations++}destroy(I,O){if(!I)return;const Q=this._fetchNamespace(I);this.afterFlush(()=>{this.namespacesByHostElement.delete(Q.hostElement),delete this._namespaceLookup[I];const ke=this._namespaceList.indexOf(Q);ke>=0&&this._namespaceList.splice(ke,1)}),this.afterFlushAnimationsDone(()=>Q.destroy(O))}_fetchNamespace(I){return this._namespaceLookup[I]}fetchNamespacesByElement(I){const O=new Set,Q=this.statesByElement.get(I);if(Q){const ke=Object.keys(Q);for(let Ue=0;Ue<ke.length;Ue++){const ot=Q[ke[Ue]].namespaceId;if(ot){const gt=this._fetchNamespace(ot);gt&&O.add(gt)}}}return O}trigger(I,O,Q,ke){if(js(O)){const Ue=this._fetchNamespace(I);if(Ue)return Ue.trigger(O,Q,ke),!0}return!1}insertNode(I,O,Q,ke){if(!js(O))return;const Ue=O[Mo];if(Ue&&Ue.setForRemoval){Ue.setForRemoval=!1,Ue.setForMove=!0;const ot=this.collectedLeaveElements.indexOf(O);ot>=0&&this.collectedLeaveElements.splice(ot,1)}if(I){const ot=this._fetchNamespace(I);ot&&ot.insertNode(O,Q)}ke&&this.collectEnterElement(O)}collectEnterElement(I){this.collectedEnterElements.push(I)}markElementAsDisabled(I,O){O?this.disabledNodes.has(I)||(this.disabledNodes.add(I),Wr(I,Ls)):this.disabledNodes.has(I)&&(this.disabledNodes.delete(I),go(I,Ls))}removeNode(I,O,Q,ke){if(js(O)){const Ue=I?this._fetchNamespace(I):null;if(Ue?Ue.removeNode(O,ke):this.markElementAsRemoved(I,O,!1,ke),Q){const ot=this.namespacesByHostElement.get(O);ot&&ot.id!==I&&ot.removeNode(O,ke)}}else this._onRemovalComplete(O,ke)}markElementAsRemoved(I,O,Q,ke){this.collectedLeaveElements.push(O),O[Mo]={namespaceId:I,setForRemoval:ke,hasAnimation:Q,removedBeforeQueried:!1}}listen(I,O,Q,ke,Ue){return js(O)?this._fetchNamespace(I).listen(O,Q,ke,Ue):()=>{}}_buildInstruction(I,O,Q,ke,Ue){return I.transition.build(this.driver,I.element,I.fromState.value,I.toState.value,Q,ke,I.fromState.options,I.toState.options,O,Ue)}destroyInnerAnimations(I){let O=this.driver.query(I,Di,!0);O.forEach(Q=>this.destroyActiveAnimationsForElement(Q)),0!=this.playersByQueriedElement.size&&(O=this.driver.query(I,Vo,!0),O.forEach(Q=>this.finishActiveQueriedAnimationOnElement(Q)))}destroyActiveAnimationsForElement(I){const O=this.playersByElement.get(I);O&&O.forEach(Q=>{Q.queued?Q.markedForDestroy=!0:Q.destroy()})}finishActiveQueriedAnimationOnElement(I){const O=this.playersByQueriedElement.get(I);O&&O.forEach(Q=>Q.finish())}whenRenderingDone(){return new Promise(I=>{if(this.players.length)return vn(this.players).onDone(()=>I());I()})}processLeaveNode(I){const O=I[Mo];if(O&&O.setForRemoval){if(I[Mo]=Js,O.namespaceId){this.destroyInnerAnimations(I);const Q=this._fetchNamespace(O.namespaceId);Q&&Q.clearElementCache(I)}this._onRemovalComplete(I,O.setForRemoval)}this.driver.matchesElement(I,Gr)&&this.markElementAsDisabled(I,!1),this.driver.query(I,Gr,!0).forEach(Q=>{this.markElementAsDisabled(Q,!1)})}flush(I=-1){let O=[];if(this.newHostElements.size&&(this.newHostElements.forEach((Q,ke)=>this._balanceNamespaceList(Q,ke)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let Q=0;Q<this.collectedEnterElements.length;Q++)Wr(this.collectedEnterElements[Q],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const Q=[];try{O=this._flushAnimations(Q,I)}finally{for(let ke=0;ke<Q.length;ke++)Q[ke]()}}else for(let Q=0;Q<this.collectedLeaveElements.length;Q++)this.processLeaveNode(this.collectedLeaveElements[Q]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(Q=>Q()),this._flushFns=[],this._whenQuietFns.length){const Q=this._whenQuietFns;this._whenQuietFns=[],O.length?vn(O).onDone(()=>{Q.forEach(ke=>ke())}):Q.forEach(ke=>ke())}}reportError(I){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${I.join("\n")}`)}_flushAnimations(I,O){const Q=new Ki,ke=[],Ue=new Map,ot=[],gt=new Map,Nt=new Map,Zt=new Map,xn=new Set;this.disabledNodes.forEach(Ln=>{xn.add(Ln);const Xn=this.driver.query(Ln,".ng-animate-queued",!0);for(let oi=0;oi<Xn.length;oi++)xn.add(Xn[oi])});const wn=this.bodyNode,ft=Array.from(this.statesByElement.keys()),Lt=ur(ft,this.collectedEnterElements),wt=new Map;let en=0;Lt.forEach((Ln,Xn)=>{const oi=Cn+en++;wt.set(Xn,oi),Ln.forEach(ii=>Wr(ii,oi))});const gn=[],bi=new Set,wi=new Set;for(let Ln=0;Ln<this.collectedLeaveElements.length;Ln++){const Xn=this.collectedLeaveElements[Ln],oi=Xn[Mo];oi&&oi.setForRemoval&&(gn.push(Xn),bi.add(Xn),oi.hasAnimation?this.driver.query(Xn,".ng-star-inserted",!0).forEach(ii=>bi.add(ii)):wi.add(Xn))}const Ci=new Map,Do=ur(ft,Array.from(bi));Do.forEach((Ln,Xn)=>{const oi=si+en++;Ci.set(Xn,oi),Ln.forEach(ii=>Wr(ii,oi))}),I.push(()=>{Lt.forEach((Ln,Xn)=>{const oi=wt.get(Xn);Ln.forEach(ii=>go(ii,oi))}),Do.forEach((Ln,Xn)=>{const oi=Ci.get(Xn);Ln.forEach(ii=>go(ii,oi))}),gn.forEach(Ln=>{this.processLeaveNode(Ln)})});const Hs=[],To=[];for(let Ln=this._namespaceList.length-1;Ln>=0;Ln--)this._namespaceList[Ln].drainQueuedTransitions(O).forEach(oi=>{const ii=oi.player,Zr=oi.element;if(Hs.push(ii),this.collectedEnterElements.length){const rs=Zr[Mo];if(rs&&rs.setForMove)return void ii.destroy()}const _o=!wn||!this.driver.containsElement(wn,Zr),ds=Ci.get(Zr),Yo=wt.get(Zr),Mr=this._buildInstruction(oi,Q,Yo,ds,_o);if(Mr.errors&&Mr.errors.length)To.push(Mr);else{if(_o)return ii.onStart(()=>Ni(Zr,Mr.fromStyles)),ii.onDestroy(()=>cr(Zr,Mr.toStyles)),void ke.push(ii);if(oi.isFallbackTransition)return ii.onStart(()=>Ni(Zr,Mr.fromStyles)),ii.onDestroy(()=>cr(Zr,Mr.toStyles)),void ke.push(ii);Mr.timelines.forEach(rs=>rs.stretchStartingKeyframe=!0),Q.append(Zr,Mr.timelines),ot.push({instruction:Mr,player:ii,element:Zr}),Mr.queriedElements.forEach(rs=>ze(gt,rs,[]).push(ii)),Mr.preStyleProps.forEach((rs,Ha)=>{const Ca=Object.keys(rs);if(Ca.length){let So=Nt.get(Ha);So||Nt.set(Ha,So=new Set),Ca.forEach(K=>So.add(K))}}),Mr.postStyleProps.forEach((rs,Ha)=>{const Ca=Object.keys(rs);let So=Zt.get(Ha);So||Zt.set(Ha,So=new Set),Ca.forEach(K=>So.add(K))})}});if(To.length){const Ln=[];To.forEach(Xn=>{Ln.push(`@${Xn.triggerName} has failed due to:\n`),Xn.errors.forEach(oi=>Ln.push(`- ${oi}\n`))}),Hs.forEach(Xn=>Xn.destroy()),this.reportError(Ln)}const eo=new Map,ws=new Map;ot.forEach(Ln=>{const Xn=Ln.element;Q.has(Xn)&&(ws.set(Xn,Xn),this._beforeAnimationBuild(Ln.player.namespaceId,Ln.instruction,eo))}),ke.forEach(Ln=>{const Xn=Ln.element;this._getPreviousPlayers(Xn,!1,Ln.namespaceId,Ln.triggerName,null).forEach(ii=>{ze(eo,Xn,[]).push(ii),ii.destroy()})});const ui=gn.filter(Ln=>Rr(Ln,Nt,Zt)),Cs=new Map;Xi(Cs,this.driver,wi,Zt,dt.l3).forEach(Ln=>{Rr(Ln,Nt,Zt)&&ui.push(Ln)});const Li=new Map;Lt.forEach((Ln,Xn)=>{Xi(Li,this.driver,new Set(Ln),Nt,dt.k1)}),ui.forEach(Ln=>{const Xn=Cs.get(Ln),oi=Li.get(Ln);Cs.set(Ln,un(un({},Xn),oi))});const Zo=[],pa=[],Fr={};ot.forEach(Ln=>{const{element:Xn,player:oi,instruction:ii}=Ln;if(Q.has(Xn)){if(xn.has(Xn))return oi.onDestroy(()=>cr(Xn,ii.toStyles)),oi.disabled=!0,oi.overrideTotalTime(ii.totalTime),void ke.push(oi);let Zr=Fr;if(ws.size>1){let ds=Xn;const Yo=[];for(;ds=ds.parentNode;){const Mr=ws.get(ds);if(Mr){Zr=Mr;break}Yo.push(ds)}Yo.forEach(Mr=>ws.set(Mr,Zr))}const _o=this._buildAnimation(oi.namespaceId,ii,eo,Ue,Li,Cs);if(oi.setRealPlayer(_o),Zr===Fr)Zo.push(oi);else{const ds=this.playersByElement.get(Zr);ds&&ds.length&&(oi.parentPlayer=vn(ds)),ke.push(oi)}}else Ni(Xn,ii.fromStyles),oi.onDestroy(()=>cr(Xn,ii.toStyles)),pa.push(oi),xn.has(Xn)&&ke.push(oi)}),pa.forEach(Ln=>{const Xn=Ue.get(Ln.element);if(Xn&&Xn.length){const oi=vn(Xn);Ln.setRealPlayer(oi)}}),ke.forEach(Ln=>{Ln.parentPlayer?Ln.syncPlayerEvents(Ln.parentPlayer):Ln.destroy()});for(let Ln=0;Ln<gn.length;Ln++){const Xn=gn[Ln],oi=Xn[Mo];if(go(Xn,si),oi&&oi.hasAnimation)continue;let ii=[];if(gt.size){let _o=gt.get(Xn);_o&&_o.length&&ii.push(..._o);let ds=this.driver.query(Xn,Vo,!0);for(let Yo=0;Yo<ds.length;Yo++){let Mr=gt.get(ds[Yo]);Mr&&Mr.length&&ii.push(...Mr)}}const Zr=ii.filter(_o=>!_o.destroyed);Zr.length?$o(this,Xn,Zr):this.processLeaveNode(Xn)}return gn.length=0,Zo.forEach(Ln=>{this.players.push(Ln),Ln.onDone(()=>{Ln.destroy();const Xn=this.players.indexOf(Ln);this.players.splice(Xn,1)}),Ln.play()}),Zo}elementContainsData(I,O){let Q=!1;const ke=O[Mo];return ke&&ke.setForRemoval&&(Q=!0),this.playersByElement.has(O)&&(Q=!0),this.playersByQueriedElement.has(O)&&(Q=!0),this.statesByElement.has(O)&&(Q=!0),this._fetchNamespace(I).elementContainsData(O)||Q}afterFlush(I){this._flushFns.push(I)}afterFlushAnimationsDone(I){this._whenQuietFns.push(I)}_getPreviousPlayers(I,O,Q,ke,Ue){let ot=[];if(O){const gt=this.playersByQueriedElement.get(I);gt&&(ot=gt)}else{const gt=this.playersByElement.get(I);if(gt){const Nt=!Ue||Ue==Xs;gt.forEach(Zt=>{Zt.queued||!Nt&&Zt.triggerName!=ke||ot.push(Zt)})}}return(Q||ke)&&(ot=ot.filter(gt=>!(Q&&Q!=gt.namespaceId||ke&&ke!=gt.triggerName))),ot}_beforeAnimationBuild(I,O,Q){const Ue=O.element,ot=O.isRemovalTransition?void 0:I,gt=O.isRemovalTransition?void 0:O.triggerName;for(const Nt of O.timelines){const Zt=Nt.element,xn=Zt!==Ue,wn=ze(Q,Zt,[]);this._getPreviousPlayers(Zt,xn,ot,gt,O.toState).forEach(Lt=>{const wt=Lt.getRealPlayer();wt.beforeDestroy&&wt.beforeDestroy(),Lt.destroy(),wn.push(Lt)})}Ni(Ue,O.fromStyles)}_buildAnimation(I,O,Q,ke,Ue,ot){const gt=O.triggerName,Nt=O.element,Zt=[],xn=new Set,wn=new Set,ft=O.timelines.map(wt=>{const en=wt.element;xn.add(en);const gn=en[Mo];if(gn&&gn.removedBeforeQueried)return new dt.ZN(wt.duration,wt.delay);const bi=en!==Nt,wi=function(me){const I=[];return Fo(me,I),I}((Q.get(en)||Qs).map(eo=>eo.getRealPlayer())).filter(eo=>!!eo.element&&eo.element===en),Ci=Ue.get(en),Do=ot.get(en),Hs=At(0,this._normalizer,0,wt.keyframes,Ci,Do),To=this._buildPlayer(wt,Hs,wi);if(wt.subTimeline&&ke&&wn.add(en),bi){const eo=new $r(I,gt,en);eo.setRealPlayer(To),Zt.push(eo)}return To});Zt.forEach(wt=>{ze(this.playersByQueriedElement,wt.element,[]).push(wt),wt.onDone(()=>function(me,I,O){let Q;if(me instanceof Map){if(Q=me.get(I),Q){if(Q.length){const ke=Q.indexOf(O);Q.splice(ke,1)}0==Q.length&&me.delete(I)}}else if(Q=me[I],Q){if(Q.length){const ke=Q.indexOf(O);Q.splice(ke,1)}0==Q.length&&delete me[I]}return Q}(this.playersByQueriedElement,wt.element,wt))}),xn.forEach(wt=>Wr(wt,Ei));const Lt=vn(ft);return Lt.onDestroy(()=>{xn.forEach(wt=>go(wt,Ei)),cr(Nt,O.toStyles)}),wn.forEach(wt=>{ze(ke,wt,[]).push(Lt)}),Lt}_buildPlayer(I,O,Q){return O.length>0?this.driver.animate(I.element,O,I.duration,I.delay,I.easing,Q):new dt.ZN(I.duration,I.delay)}}class $r{constructor(I,O,Q){this.namespaceId=I,this.triggerName=O,this.element=Q,this._player=new dt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(I){this._containsRealPlayer||(this._player=I,Object.keys(this._queuedCallbacks).forEach(O=>{this._queuedCallbacks[O].forEach(Q=>et(I,O,void 0,Q))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(I.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(I){this.totalTime=I}syncPlayerEvents(I){const O=this._player;O.triggerCallback&&I.onStart(()=>O.triggerCallback("start")),I.onDone(()=>this.finish()),I.onDestroy(()=>this.destroy())}_queueEvent(I,O){ze(this._queuedCallbacks,I,[]).push(O)}onDone(I){this.queued&&this._queueEvent("done",I),this._player.onDone(I)}onStart(I){this.queued&&this._queueEvent("start",I),this._player.onStart(I)}onDestroy(I){this.queued&&this._queueEvent("destroy",I),this._player.onDestroy(I)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(I){this.queued||this._player.setPosition(I)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(I){const O=this._player;O.triggerCallback&&O.triggerCallback(I)}}function js(me){return me&&1===me.nodeType}function Es(me,I){const O=me.style.display;return me.style.display=null!=I?I:"none",O}function Xi(me,I,O,Q,ke){const Ue=[];O.forEach(Nt=>Ue.push(Es(Nt)));const ot=[];Q.forEach((Nt,Zt)=>{const xn={};Nt.forEach(wn=>{const ft=xn[wn]=I.computeStyle(Zt,wn,ke);(!ft||0==ft.length)&&(Zt[Mo]=za,ot.push(Zt))}),me.set(Zt,xn)});let gt=0;return O.forEach(Nt=>Es(Nt,Ue[gt++])),ot}function ur(me,I){const O=new Map;if(me.forEach(gt=>O.set(gt,[])),0==I.length)return O;const ke=new Set(I),Ue=new Map;function ot(gt){if(!gt)return 1;let Nt=Ue.get(gt);if(Nt)return Nt;const Zt=gt.parentNode;return Nt=O.has(Zt)?Zt:ke.has(Zt)?1:ot(Zt),Ue.set(gt,Nt),Nt}return I.forEach(gt=>{const Nt=ot(gt);1!==Nt&&O.get(Nt).push(gt)}),O}const na="$$classes";function Wr(me,I){if(me.classList)me.classList.add(I);else{let O=me[na];O||(O=me[na]={}),O[I]=!0}}function go(me,I){if(me.classList)me.classList.remove(I);else{let O=me[na];O&&delete O[I]}}function $o(me,I,O){vn(O).onDone(()=>me.processLeaveNode(I))}function Fo(me,I){for(let O=0;O<me.length;O++){const Q=me[O];Q instanceof dt.ZE?Fo(Q.players,I):I.push(Q)}}function Rr(me,I,O){const Q=O.get(me);if(!Q)return!1;let ke=I.get(me);return ke?Q.forEach(Ue=>ke.add(Ue)):I.set(me,Q),O.delete(me),!0}class ya{constructor(I,O,Q){this.bodyNode=I,this._driver=O,this._normalizer=Q,this._triggerCache={},this.onRemovalComplete=(ke,Ue)=>{},this._transitionEngine=new cl(I,O,Q),this._timelineEngine=new Go(I,O,Q),this._transitionEngine.onRemovalComplete=(ke,Ue)=>this.onRemovalComplete(ke,Ue)}registerTrigger(I,O,Q,ke,Ue){const ot=I+"-"+ke;let gt=this._triggerCache[ot];if(!gt){const Nt=[],Zt=Tn(this._driver,Ue,Nt);if(Nt.length)throw new Error(`The animation trigger "${ke}" has failed to build due to the following errors:\n - ${Nt.join("\n - ")}`);gt=function(me,I,O){return new lo(me,I,O)}(ke,Zt,this._normalizer),this._triggerCache[ot]=gt}this._transitionEngine.registerTrigger(O,ke,gt)}register(I,O){this._transitionEngine.register(I,O)}destroy(I,O){this._transitionEngine.destroy(I,O)}onInsert(I,O,Q,ke){this._transitionEngine.insertNode(I,O,Q,ke)}onRemove(I,O,Q,ke){this._transitionEngine.removeNode(I,O,ke||!1,Q)}disableAnimations(I,O){this._transitionEngine.markElementAsDisabled(I,O)}process(I,O,Q,ke){if("@"==Q.charAt(0)){const[Ue,ot]=He(Q);this._timelineEngine.command(Ue,O,ot,ke)}else this._transitionEngine.trigger(I,O,Q,ke)}listen(I,O,Q,ke,Ue){if("@"==Q.charAt(0)){const[ot,gt]=He(Q);return this._timelineEngine.listen(ot,O,gt,Ue)}return this._transitionEngine.listen(I,O,Q,ke,Ue)}flush(I=-1){this._transitionEngine.flush(I)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function vs(me,I){let O=null,Q=null;return Array.isArray(I)&&I.length?(O=Er(I[0]),I.length>1&&(Q=Er(I[I.length-1]))):I&&(O=Er(I)),O||Q?new us(me,O,Q):null}let us=(()=>{class me{constructor(O,Q,ke){this._element=O,this._startStyles=Q,this._endStyles=ke,this._state=0;let Ue=me.initialStylesByElement.get(O);Ue||me.initialStylesByElement.set(O,Ue={}),this._initialStyles=Ue}start(){this._state<1&&(this._startStyles&&cr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cr(this._element,this._initialStyles),this._endStyles&&(cr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(me.initialStylesByElement.delete(this._element),this._startStyles&&(Ni(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ni(this._element,this._endStyles),this._endStyles=null),cr(this._element,this._initialStyles),this._state=3)}}return me.initialStylesByElement=new WeakMap,me})();function Er(me){let I=null;const O=Object.keys(me);for(let Q=0;Q<O.length;Q++){const ke=O[Q];ie(ke)&&(I=I||{},I[ke]=me[ke])}return I}function ie(me){return"display"===me||"position"===me}const Be="animation",it="animationend";class le{constructor(I,O,Q,ke,Ue,ot,gt){this._element=I,this._name=O,this._duration=Q,this._delay=ke,this._easing=Ue,this._fillMode=ot,this._onDoneFn=gt,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Nt=>this._handleCallback(Nt)}apply(){(function(me,I){const O=xt(me,"").trim();let Q=0;O.length&&(function(me,I){let O=0;for(let Q=0;Q<me.length;Q++)","===me.charAt(Q)&&O++;return O}(O)+1,I=`${O}, ${I}`),Ce(me,"",I)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),$(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){W(this._element,this._name,"paused")}resume(){W(this._element,this._name,"running")}setPosition(I){const O=z(this._element,this._name);this._position=I*this._duration,Ce(this._element,"Delay",`-${this._position}ms`,O)}getPosition(){return this._position}_handleCallback(I){const O=I._ngTestManualTimestamp||Date.now(),Q=1e3*parseFloat(I.elapsedTime.toFixed(3));I.animationName==this._name&&Math.max(O-this._startTime,0)>=this._delay&&Q>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),$(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(me,I){const Q=xt(me,"").split(","),ke=G(Q,I);ke>=0&&(Q.splice(ke,1),Ce(me,"",Q.join(",")))}(this._element,this._name))}}function W(me,I,O){Ce(me,"PlayState",O,z(me,I))}function z(me,I){const O=xt(me,"");return O.indexOf(",")>0?G(O.split(","),I):G([O],I)}function G(me,I){for(let O=0;O<me.length;O++)if(me[O].indexOf(I)>=0)return O;return-1}function $(me,I,O){O?me.removeEventListener(it,I):me.addEventListener(it,I)}function Ce(me,I,O,Q){const ke=Be+I;if(null!=Q){const Ue=me.style[ke];if(Ue.length){const ot=Ue.split(",");ot[Q]=O,O=ot.join(",")}}me.style[ke]=O}function xt(me,I){return me.style[Be+I]||""}class li{constructor(I,O,Q,ke,Ue,ot,gt,Nt){this.element=I,this.keyframes=O,this.animationName=Q,this._duration=ke,this._delay=Ue,this._finalStyles=gt,this._specialStyles=Nt,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=ot||"linear",this.totalTime=ke+Ue,this._buildStyler()}onStart(I){this._onStartFns.push(I)}onDone(I){this._onDoneFns.push(I)}onDestroy(I){this._onDestroyFns.push(I)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(I=>I()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(I=>I()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(I=>I()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(I){this._styler.setPosition(I)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new le(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(I){const O="start"==I?this._onStartFns:this._onDoneFns;O.forEach(Q=>Q()),O.length=0}beforeDestroy(){this.init();const I={};if(this.hasStarted()){const O=this._state>=3;Object.keys(this._finalStyles).forEach(Q=>{"offset"!=Q&&(I[Q]=O?this._finalStyles[Q]:Mi(this.element,Q))})}this.currentSnapshot=I}}class Fi extends dt.ZN{constructor(I,O){super(),this.element=I,this._startingStyles={},this.__initialized=!1,this._styles=jn(O)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(I=>{this._startingStyles[I]=this.element.style[I]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(I=>this.element.style.setProperty(I,this._styles[I])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(I=>{const O=this._startingStyles[I];O?this.element.style.setProperty(I,O):this.element.style.removeProperty(I)}),this._startingStyles=null,super.destroy())}}class Sr{constructor(){this._count=0}validateStyleProperty(I){return lt(I)}matchesElement(I,O){return _t(I,O)}containsElement(I,O){return Et(I,O)}query(I,O,Q){return pn(I,O,Q)}computeStyle(I,O,Q){return window.getComputedStyle(I)[O]}buildKeyframeElement(I,O,Q){Q=Q.map(gt=>jn(gt));let ke=`@keyframes ${O} {\n`,Ue="";Q.forEach(gt=>{Ue=" ";const Nt=parseFloat(gt.offset);ke+=`${Ue}${100*Nt}% {\n`,Ue+=" ",Object.keys(gt).forEach(Zt=>{const xn=gt[Zt];switch(Zt){case"offset":return;case"easing":return void(xn&&(ke+=`${Ue}animation-timing-function: ${xn};\n`));default:return void(ke+=`${Ue}${Zt}: ${xn};\n`)}}),ke+=`${Ue}}\n`}),ke+="}\n";const ot=document.createElement("style");return ot.textContent=ke,ot}animate(I,O,Q,ke,Ue,ot=[],gt){const Nt=ot.filter(gn=>gn instanceof li),Zt={};zn(Q,ke)&&Nt.forEach(gn=>{let bi=gn.currentSnapshot;Object.keys(bi).forEach(wi=>Zt[wi]=bi[wi])});const xn=function(me){let I={};return me&&(Array.isArray(me)?me:[me]).forEach(Q=>{Object.keys(Q).forEach(ke=>{"offset"==ke||"easing"==ke||(I[ke]=Q[ke])})}),I}(O=Qn(I,O,Zt));if(0==Q)return new Fi(I,xn);const wn="gen_css_kf_"+this._count++,ft=this.buildKeyframeElement(I,wn,O);(function(me){var O;const I=null==(O=me.getRootNode)?void 0:O.call(me);return"undefined"!=typeof ShadowRoot&&I instanceof ShadowRoot?I:document.head})(I).appendChild(ft);const wt=vs(I,O),en=new li(I,O,wn,Q,ke,Ue,xn,wt);return en.onDestroy(()=>{var me;(me=ft).parentNode.removeChild(me)}),en}}class nc{constructor(I,O,Q,ke){this.element=I,this.keyframes=O,this.options=Q,this._specialStyles=ke,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=Q.duration,this._delay=Q.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(I=>I()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const I=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,I,this.options),this._finalKeyframe=I.length?I[I.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(I,O,Q){return I.animate(O,Q)}onStart(I){this._onStartFns.push(I)}onDone(I){this._onDoneFns.push(I)}onDestroy(I){this._onDestroyFns.push(I)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(I=>I()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(I=>I()),this._onDestroyFns=[])}setPosition(I){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=I*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const I={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(O=>{"offset"!=O&&(I[O]=this._finished?this._finalKeyframe[O]:Mi(this.element,O))}),this.currentSnapshot=I}triggerCallback(I){const O="start"==I?this._onStartFns:this._onDoneFns;O.forEach(Q=>Q()),O.length=0}}class Mc{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Sl().toString()),this._cssKeyframesDriver=new Sr}validateStyleProperty(I){return lt(I)}matchesElement(I,O){return _t(I,O)}containsElement(I,O){return Et(I,O)}query(I,O,Q){return pn(I,O,Q)}computeStyle(I,O,Q){return window.getComputedStyle(I)[O]}overrideWebAnimationsSupport(I){this._isNativeImpl=I}animate(I,O,Q,ke,Ue,ot=[],gt){if(!gt&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(I,O,Q,ke,Ue,ot);const xn={duration:Q,delay:ke,fill:0==ke?"both":"forwards"};Ue&&(xn.easing=Ue);const wn={},ft=ot.filter(wt=>wt instanceof nc);zn(Q,ke)&&ft.forEach(wt=>{let en=wt.currentSnapshot;Object.keys(en).forEach(gn=>wn[gn]=en[gn])});const Lt=vs(I,O=Qn(I,O=O.map(wt=>Hn(wt,!1)),wn));return new nc(I,O,xn,Lt)}}function Sl(){return Xt()&&Element.prototype.animate||{}}var ic=X(6019);let dn=(()=>{class me extends dt._j{constructor(O,Q){super(),this._nextAnimationId=0,this._renderer=O.createRenderer(Q.body,{id:"0",encapsulation:B.ifc.None,styles:[],data:{animation:[]}})}build(O){const Q=this._nextAnimationId.toString();this._nextAnimationId++;const ke=Array.isArray(O)?(0,dt.vP)(O):O;return Co(this._renderer,null,Q,"register",[ke]),new Ti(Q,this._renderer)}}return me.\u0275fac=function(O){return new(O||me)(B.LFG(B.FYo),B.LFG(ic.K0))},me.\u0275prov=B.Yz7({token:me,factory:me.\u0275fac}),me})();class Ti extends dt.LC{constructor(I,O){super(),this._id=I,this._renderer=O}create(I,O){return new ul(this._id,I,O||{},this._renderer)}}class ul{constructor(I,O,Q,ke){this.id=I,this.element=O,this._renderer=ke,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",Q)}_listen(I,O){return this._renderer.listen(this.element,`@@${this.id}:${I}`,O)}_command(I,...O){return Co(this._renderer,this.element,this.id,I,O)}onDone(I){this._listen("done",I)}onStart(I){this._listen("start",I)}onDestroy(I){this._listen("destroy",I)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(I){this._command("setPosition",I)}getPosition(){var I,O;return null!=(O=null==(I=this._renderer.engine.players[+this.id])?void 0:I.getPosition())?O:0}}function Co(me,I,O,Q,ke){return me.setProperty(I,`@@${O}:${Q}`,ke)}const Wo="@.disabled";let Ds=(()=>{class me{constructor(O,Q,ke){this.delegate=O,this.engine=Q,this._zone=ke,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),Q.onRemovalComplete=(Ue,ot)=>{const gt=null==ot?void 0:ot.parentNode(Ue);gt&&ot.removeChild(gt,Ue)}}createRenderer(O,Q){const Ue=this.delegate.createRenderer(O,Q);if(!(O&&Q&&Q.data&&Q.data.animation)){let xn=this._rendererCache.get(Ue);return xn||(xn=new Us("",Ue,this.engine),this._rendererCache.set(Ue,xn)),xn}const ot=Q.id,gt=Q.id+"-"+this._currentId;this._currentId++,this.engine.register(gt,O);const Nt=xn=>{Array.isArray(xn)?xn.forEach(Nt):this.engine.registerTrigger(ot,gt,O,xn.name,xn)};return Q.data.animation.forEach(Nt),new dl(this,gt,Ue,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(O,Q,ke){O>=0&&O<this._microtaskId?this._zone.run(()=>Q(ke)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Ue=>{const[ot,gt]=Ue;ot(gt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([Q,ke]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return me.\u0275fac=function(O){return new(O||me)(B.LFG(B.FYo),B.LFG(ya),B.LFG(B.R0b))},me.\u0275prov=B.Yz7({token:me,factory:me.\u0275fac}),me})();class Us{constructor(I,O,Q){this.namespaceId=I,this.delegate=O,this.engine=Q,this.destroyNode=this.delegate.destroyNode?ke=>O.destroyNode(ke):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(I,O){return this.delegate.createElement(I,O)}createComment(I){return this.delegate.createComment(I)}createText(I){return this.delegate.createText(I)}appendChild(I,O){this.delegate.appendChild(I,O),this.engine.onInsert(this.namespaceId,O,I,!1)}insertBefore(I,O,Q,ke=!0){this.delegate.insertBefore(I,O,Q),this.engine.onInsert(this.namespaceId,O,I,ke)}removeChild(I,O,Q){this.engine.onRemove(this.namespaceId,O,this.delegate,Q)}selectRootElement(I,O){return this.delegate.selectRootElement(I,O)}parentNode(I){return this.delegate.parentNode(I)}nextSibling(I){return this.delegate.nextSibling(I)}setAttribute(I,O,Q,ke){this.delegate.setAttribute(I,O,Q,ke)}removeAttribute(I,O,Q){this.delegate.removeAttribute(I,O,Q)}addClass(I,O){this.delegate.addClass(I,O)}removeClass(I,O){this.delegate.removeClass(I,O)}setStyle(I,O,Q,ke){this.delegate.setStyle(I,O,Q,ke)}removeStyle(I,O,Q){this.delegate.removeStyle(I,O,Q)}setProperty(I,O,Q){"@"==O.charAt(0)&&O==Wo?this.disableAnimations(I,!!Q):this.delegate.setProperty(I,O,Q)}setValue(I,O){this.delegate.setValue(I,O)}listen(I,O,Q){return this.delegate.listen(I,O,Q)}disableAnimations(I,O){this.engine.disableAnimations(I,O)}}class dl extends Us{constructor(I,O,Q,ke){super(O,Q,ke),this.factory=I,this.namespaceId=O}setProperty(I,O,Q){"@"==O.charAt(0)?"."==O.charAt(1)&&O==Wo?this.disableAnimations(I,Q=void 0===Q||!!Q):this.engine.process(this.namespaceId,I,O.substr(1),Q):this.delegate.setProperty(I,O,Q)}listen(I,O,Q){if("@"==O.charAt(0)){const ke=function(me){switch(me){case"body":return document.body;case"document":return document;case"window":return window;default:return me}}(I);let Ue=O.substr(1),ot="";return"@"!=Ue.charAt(0)&&([Ue,ot]=function(me){const I=me.indexOf(".");return[me.substring(0,I),me.substr(I+1)]}(Ue)),this.engine.listen(this.namespaceId,ke,Ue,ot,gt=>{this.factory.scheduleListenerCallback(gt._data||-1,Q,gt)})}return this.delegate.listen(I,O,Q)}}let wa=(()=>{class me extends ya{constructor(O,Q,ke){super(O.body,Q,ke)}ngOnDestroy(){this.flush()}}return me.\u0275fac=function(O){return new(O||me)(B.LFG(ic.K0),B.LFG(Dn),B.LFG(Nr))},me.\u0275prov=B.Yz7({token:me,factory:me.\u0275fac}),me})();const ha=new B.OlP("AnimationModuleType"),fa=[{provide:dt._j,useClass:dn},{provide:Nr,useFactory:function(){return new cs}},{provide:ya,useClass:wa},{provide:B.FYo,useFactory:function(me,I,O){return new Ds(me,I,O)},deps:[m.se,ya,B.R0b]}],wr=[{provide:Dn,useFactory:function(){return"function"==typeof Sl()?new Mc:new Sr}},{provide:ha,useValue:"BrowserAnimations"},...fa],Gl=[{provide:Dn,useClass:Zi},{provide:ha,useValue:"NoopAnimations"},...fa];let Ua=(()=>{class me{static withConfig(O){return{ngModule:me,providers:O.disableAnimations?Gl:wr}}}return me.\u0275fac=function(O){return new(O||me)},me.\u0275mod=B.oAB({type:me}),me.\u0275inj=B.cJS({providers:wr,imports:[m.b2]}),me})(),pl=(()=>{class me{}return me.\u0275fac=function(O){return new(O||me)},me.\u0275mod=B.oAB({type:me,bootstrap:[de]}),me.\u0275inj=B.cJS({providers:[he.e],imports:[[m.b2,ct,Ve.K,we.AboutUsModule,Oe.ServicesModule,Te.ProductsModule,_e.AddressModule,ge.SectorsModule,fe.TermsModule,be.PrivacyModule,Y.CookiesModule,De.DisclaimerModule,U.DisclosureModule,ce.CustomerGrievenceModule,Mt.hO.initializeApp(Ne_firebaseConfig),$e.ef,Ua]]}),me})();(0,B.G48)(),m.q6().bootstrapModule(pl).catch(me=>console.error(me))},1052:Jt=>{function vt(m,B,he,Ne,ce,U,De){try{var Y=m[U](De),be=Y.value}catch(fe){return void he(fe)}Y.done?B(be):Promise.resolve(be).then(Ne,ce)}Jt.exports=function(m){return function(){var B=this,he=arguments;return new Promise(function(Ne,ce){var U=m.apply(B,he);function De(be){vt(U,Ne,ce,De,Y,"next",be)}function Y(be){vt(U,Ne,ce,De,Y,"throw",be)}De(void 0)})}},Jt.exports.default=Jt.exports,Jt.exports.__esModule=!0},4762:(Jt,vt,X)=>{"use strict";X.d(vt,{ZT:()=>B,pi:()=>he,gn:()=>ce,fM:()=>U,w6:()=>De,mG:()=>Y,Jh:()=>be,XA:()=>_e,CR:()=>Te,ev:()=>Xe});var m=function(et,Ke){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(je,ze){je.__proto__=ze}||function(je,ze){for(var He in ze)Object.prototype.hasOwnProperty.call(ze,He)&&(je[He]=ze[He])})(et,Ke)};function B(et,Ke){if("function"!=typeof Ke&&null!==Ke)throw new TypeError("Class extends value "+String(Ke)+" is not a constructor or null");function je(){this.constructor=et}m(et,Ke),et.prototype=null===Ke?Object.create(Ke):(je.prototype=Ke.prototype,new je)}var he=function(){return he=Object.assign||function(Ke){for(var je,ze=1,He=arguments.length;ze<He;ze++)for(var Fe in je=arguments[ze])Object.prototype.hasOwnProperty.call(je,Fe)&&(Ke[Fe]=je[Fe]);return Ke},he.apply(this,arguments)};function ce(et,Ke,je,ze){var Qe,He=arguments.length,Fe=He<3?Ke:null===ze?ze=Object.getOwnPropertyDescriptor(Ke,je):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(et,Ke,je,ze);else for(var It=et.length-1;It>=0;It--)(Qe=et[It])&&(Fe=(He<3?Qe(Fe):He>3?Qe(Ke,je,Fe):Qe(Ke,je))||Fe);return He>3&&Fe&&Object.defineProperty(Ke,je,Fe),Fe}function U(et,Ke){return function(je,ze){Ke(je,ze,et)}}function De(et,Ke){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(et,Ke)}function Y(et,Ke,je,ze){return new(je||(je=Promise))(function(Fe,Qe){function It(jt){try{Ht(ze.next(jt))}catch(Kt){Qe(Kt)}}function Vt(jt){try{Ht(ze.throw(jt))}catch(Kt){Qe(Kt)}}function Ht(jt){jt.done?Fe(jt.value):function(Fe){return Fe instanceof je?Fe:new je(function(Qe){Qe(Fe)})}(jt.value).then(It,Vt)}Ht((ze=ze.apply(et,Ke||[])).next())})}function be(et,Ke){var ze,He,Fe,Qe,je={label:0,sent:function(){if(1&Fe[0])throw Fe[1];return Fe[1]},trys:[],ops:[]};return Qe={next:It(0),throw:It(1),return:It(2)},"function"==typeof Symbol&&(Qe[Symbol.iterator]=function(){return this}),Qe;function It(Ht){return function(jt){return function(Ht){if(ze)throw new TypeError("Generator is already executing.");for(;Qe&&(Qe=0,Ht[0]&&(je=0)),je;)try{if(ze=1,He&&(Fe=2&Ht[0]?He.return:Ht[0]?He.throw||((Fe=He.return)&&Fe.call(He),0):He.next)&&!(Fe=Fe.call(He,Ht[1])).done)return Fe;switch(He=0,Fe&&(Ht=[2&Ht[0],Fe.value]),Ht[0]){case 0:case 1:Fe=Ht;break;case 4:return je.label++,{value:Ht[1],done:!1};case 5:je.label++,He=Ht[1],Ht=[0];continue;case 7:Ht=je.ops.pop(),je.trys.pop();continue;default:if(!(Fe=(Fe=je.trys).length>0&&Fe[Fe.length-1])&&(6===Ht[0]||2===Ht[0])){je=0;continue}if(3===Ht[0]&&(!Fe||Ht[1]>Fe[0]&&Ht[1]<Fe[3])){je.label=Ht[1];break}if(6===Ht[0]&&je.label<Fe[1]){je.label=Fe[1],Fe=Ht;break}if(Fe&&je.label<Fe[2]){je.label=Fe[2],je.ops.push(Ht);break}Fe[2]&&je.ops.pop(),je.trys.pop();continue}Ht=Ke.call(et,je)}catch(jt){Ht=[6,jt],He=0}finally{ze=Fe=0}if(5&Ht[0])throw Ht[1];return{value:Ht[0]?Ht[1]:void 0,done:!0}}([Ht,jt])}}}function _e(et){var Ke="function"==typeof Symbol&&Symbol.iterator,je=Ke&&et[Ke],ze=0;if(je)return je.call(et);if(et&&"number"==typeof et.length)return{next:function(){return et&&ze>=et.length&&(et=void 0),{value:et&&et[ze++],done:!et}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(et,Ke){var je="function"==typeof Symbol&&et[Symbol.iterator];if(!je)return et;var He,Qe,ze=je.call(et),Fe=[];try{for(;(void 0===Ke||Ke-- >0)&&!(He=ze.next()).done;)Fe.push(He.value)}catch(It){Qe={error:It}}finally{try{He&&!He.done&&(je=ze.return)&&je.call(ze)}finally{if(Qe)throw Qe.error}}return Fe}function Xe(et,Ke,je){if(je||2===arguments.length)for(var Fe,ze=0,He=Ke.length;ze<He;ze++)(Fe||!(ze in Ke))&&(Fe||(Fe=Array.prototype.slice.call(Ke,0,ze)),Fe[ze]=Ke[ze]);return et.concat(Fe||Array.prototype.slice.call(Ke))}},9814:(Jt,vt,X)=>{"use strict";X.d(vt,{l3:()=>he,_j:()=>m,LC:()=>B,ZN:()=>ct,jt:()=>ce,vP:()=>De,SB:()=>be,oB:()=>Y,eR:()=>ge,X$:()=>Ne,ZE:()=>$e,k1:()=>de});class m{}class B{}const he="*";function Ne(Oe,Mt){return{type:7,name:Oe,definitions:Mt,options:{}}}function ce(Oe,Mt=null){return{type:4,styles:Mt,timings:Oe}}function De(Oe,Mt=null){return{type:2,steps:Oe,options:Mt}}function Y(Oe){return{type:6,styles:Oe,offset:null}}function be(Oe,Mt,dt){return{type:0,name:Oe,styles:Mt,options:dt}}function ge(Oe,Mt,dt=null){return{type:1,expr:Oe,animation:Mt,options:dt}}function Se(Oe){Promise.resolve(null).then(Oe)}class ct{constructor(Mt=0,dt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Mt+dt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Mt=>Mt()),this._onDoneFns=[])}onStart(Mt){this._onStartFns.push(Mt)}onDone(Mt){this._onDoneFns.push(Mt)}onDestroy(Mt){this._onDestroyFns.push(Mt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Se(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Mt=>Mt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Mt=>Mt()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Mt){this._position=this.totalTime?Mt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Mt){const dt="start"==Mt?this._onStartFns:this._onDoneFns;dt.forEach(Xt=>Xt()),dt.length=0}}class $e{constructor(Mt){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Mt;let dt=0,Xt=0,qt=0;const vn=this.players.length;0==vn?Se(()=>this._onFinish()):this.players.forEach(At=>{At.onDone(()=>{++dt==vn&&this._onFinish()}),At.onDestroy(()=>{++Xt==vn&&this._onDestroy()}),At.onStart(()=>{++qt==vn&&this._onStart()})}),this.totalTime=this.players.reduce((At,et)=>Math.max(At,et.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Mt=>Mt()),this._onDoneFns=[])}init(){this.players.forEach(Mt=>Mt.init())}onStart(Mt){this._onStartFns.push(Mt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Mt=>Mt()),this._onStartFns=[])}onDone(Mt){this._onDoneFns.push(Mt)}onDestroy(Mt){this._onDestroyFns.push(Mt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Mt=>Mt.play())}pause(){this.players.forEach(Mt=>Mt.pause())}restart(){this.players.forEach(Mt=>Mt.restart())}finish(){this._onFinish(),this.players.forEach(Mt=>Mt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Mt=>Mt.destroy()),this._onDestroyFns.forEach(Mt=>Mt()),this._onDestroyFns=[])}reset(){this.players.forEach(Mt=>Mt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Mt){const dt=Mt*this.totalTime;this.players.forEach(Xt=>{const qt=Xt.totalTime?Math.min(1,dt/Xt.totalTime):1;Xt.setPosition(qt)})}getPosition(){const Mt=this.players.reduce((dt,Xt)=>null===dt||Xt.totalTime>dt.totalTime?Xt:dt,null);return null!=Mt?Mt.getPosition():0}beforeDestroy(){this.players.forEach(Mt=>{Mt.beforeDestroy&&Mt.beforeDestroy()})}triggerCallback(Mt){const dt="start"==Mt?this._onStartFns:this._onDoneFns;dt.forEach(Xt=>Xt()),dt.length=0}}const de="!"},6019:(Jt,vt,X)=>{"use strict";X.d(vt,{mr:()=>$e,Ov:()=>Gr,ez:()=>zs,K0:()=>De,Do:()=>Oe,V_:()=>fe,Ye:()=>Mt,S$:()=>Se,mk:()=>Xo,sg:()=>ls,O5:()=>Gi,RF:()=>Eo,n9:()=>Ho,ED:()=>es,b0:()=>de,lw:()=>Y,EM:()=>us,JF:()=>it,PM:()=>Vs,w_:()=>U,bD:()=>Wr,q:()=>he,Mx:()=>ao,HT:()=>ce});var m=X(9619);let B=null;function he(){return B}function ce(V){B||(B=V)}class U{}const De=new m.OlP("DocumentToken");let Y=(()=>{class V{historyGo(W){throw new Error("Not implemented")}}return V.\u0275fac=function(W){return new(W||V)},V.\u0275prov=m.Yz7({token:V,factory:function(){return(0,m.LFG)(ge)},providedIn:"platform"}),V})();const fe=new m.OlP("Location Initialized");let ge=(()=>{class V extends Y{constructor(W){super(),this._doc=W,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(W){const ve=he().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("popstate",W,!1),()=>ve.removeEventListener("popstate",W)}onHashChange(W){const ve=he().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("hashchange",W,!1),()=>ve.removeEventListener("hashchange",W)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(W){this.location.pathname=W}pushState(W,ve,Ze){_e()?this._history.pushState(W,ve,Ze):this.location.hash=Ze}replaceState(W,ve,Ze){_e()?this._history.replaceState(W,ve,Ze):this.location.hash=Ze}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}}return V.\u0275fac=function(W){return new(W||V)(m.LFG(De))},V.\u0275prov=m.Yz7({token:V,factory:function(){return new ge((0,m.LFG)(De))},providedIn:"platform"}),V})();function _e(){return!!window.history.pushState}function we(V,le){if(0==V.length)return le;if(0==le.length)return V;let W=0;return V.endsWith("/")&&W++,le.startsWith("/")&&W++,2==W?V+le.substring(1):1==W?V+le:V+"/"+le}function Ve(V){const le=V.match(/#|\?|$/),W=le&&le.index||V.length;return V.slice(0,W-("/"===V[W-1]?1:0))+V.slice(W)}function Xe(V){return V&&"?"!==V[0]?"?"+V:V}let Se=(()=>{class V{historyGo(W){throw new Error("Not implemented")}}return V.\u0275fac=function(W){return new(W||V)},V.\u0275prov=m.Yz7({token:V,factory:function(){return function(V){const le=(0,m.LFG)(De).location;return new de((0,m.LFG)(Y),le&&le.origin||"")}()},providedIn:"root"}),V})();const $e=new m.OlP("appBaseHref");let de=(()=>{class V extends Se{constructor(W,ve){if(super(),this._platformLocation=W,this._removeListenerFns=[],null==ve&&(ve=this._platformLocation.getBaseHrefFromDOM()),null==ve)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ve}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return we(this._baseHref,W)}path(W=!1){const ve=this._platformLocation.pathname+Xe(this._platformLocation.search),Ze=this._platformLocation.hash;return Ze&&W?`${ve}${Ze}`:ve}pushState(W,ve,Ze,z){const G=this.prepareExternalUrl(Ze+Xe(z));this._platformLocation.pushState(W,ve,G)}replaceState(W,ve,Ze,z){const G=this.prepareExternalUrl(Ze+Xe(z));this._platformLocation.replaceState(W,ve,G)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(W=0){var ve,Ze;null==(Ze=(ve=this._platformLocation).historyGo)||Ze.call(ve,W)}}return V.\u0275fac=function(W){return new(W||V)(m.LFG(Y),m.LFG($e,8))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})(),Oe=(()=>{class V extends Se{constructor(W,ve){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=ve&&(this._baseHref=ve)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){let ve=this._platformLocation.hash;return null==ve&&(ve="#"),ve.length>0?ve.substring(1):ve}prepareExternalUrl(W){const ve=we(this._baseHref,W);return ve.length>0?"#"+ve:ve}pushState(W,ve,Ze,z){let G=this.prepareExternalUrl(Ze+Xe(z));0==G.length&&(G=this._platformLocation.pathname),this._platformLocation.pushState(W,ve,G)}replaceState(W,ve,Ze,z){let G=this.prepareExternalUrl(Ze+Xe(z));0==G.length&&(G=this._platformLocation.pathname),this._platformLocation.replaceState(W,ve,G)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(W=0){var ve,Ze;null==(Ze=(ve=this._platformLocation).historyGo)||Ze.call(ve,W)}}return V.\u0275fac=function(W){return new(W||V)(m.LFG(Y),m.LFG($e,8))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})(),Mt=(()=>{class V{constructor(W,ve){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=W;const Ze=this._platformStrategy.getBaseHref();this._platformLocation=ve,this._baseHref=Ve(qt(Ze)),this._platformStrategy.onPopState(z=>{this._subject.emit({url:this.path(!0),pop:!0,state:z.state,type:z.type})})}path(W=!1){return this.normalize(this._platformStrategy.path(W))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(W,ve=""){return this.path()==this.normalize(W+Xe(ve))}normalize(W){return V.stripTrailingSlash(function(V,le){return V&&le.startsWith(V)?le.substring(V.length):le}(this._baseHref,qt(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._platformStrategy.prepareExternalUrl(W)}go(W,ve="",Ze=null){this._platformStrategy.pushState(Ze,"",W,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+Xe(ve)),Ze)}replaceState(W,ve="",Ze=null){this._platformStrategy.replaceState(Ze,"",W,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+Xe(ve)),Ze)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(W=0){var ve,Ze;null==(Ze=(ve=this._platformStrategy).historyGo)||Ze.call(ve,W)}onUrlChange(W){this._urlChangeListeners.push(W),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ve=>{this._notifyUrlChangeListeners(ve.url,ve.state)}))}_notifyUrlChangeListeners(W="",ve){this._urlChangeListeners.forEach(Ze=>Ze(W,ve))}subscribe(W,ve,Ze){return this._subject.subscribe({next:W,error:ve,complete:Ze})}}return V.normalizeQueryParams=Xe,V.joinWithSlash=we,V.stripTrailingSlash=Ve,V.\u0275fac=function(W){return new(W||V)(m.LFG(Se),m.LFG(Y))},V.\u0275prov=m.Yz7({token:V,factory:function(){return new Mt((0,m.LFG)(Se),(0,m.LFG)(Y))},providedIn:"root"}),V})();function qt(V){return V.replace(/\/index.html$/,"")}var et=(()=>((et=et||{})[et.Zero=0]="Zero",et[et.One=1]="One",et[et.Two=2]="Two",et[et.Few=3]="Few",et[et.Many=4]="Many",et[et.Other=5]="Other",et))();const Nn=m.kL8;class sr{}let Yn=(()=>{class V extends sr{constructor(W){super(),this.locale=W}getPluralCategory(W,ve){switch(Nn(ve||this.locale)(W)){case et.Zero:return"zero";case et.One:return"one";case et.Two:return"two";case et.Few:return"few";case et.Many:return"many";default:return"other"}}}return V.\u0275fac=function(W){return new(W||V)(m.LFG(m.soG))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})();function ao(V,le){le=encodeURIComponent(le);for(const W of V.split(";")){const ve=W.indexOf("="),[Ze,z]=-1==ve?[W,""]:[W.slice(0,ve),W.slice(ve+1)];if(Ze.trim()===le)return decodeURIComponent(z)}return null}let Xo=(()=>{class V{constructor(W,ve,Ze,z){this._iterableDiffers=W,this._keyValueDiffers=ve,this._ngEl=Ze,this._renderer=z,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(W){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof W?W.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(W){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof W?W.split(/\s+/):W,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const W=this._iterableDiffer.diff(this._rawClass);W&&this._applyIterableChanges(W)}else if(this._keyValueDiffer){const W=this._keyValueDiffer.diff(this._rawClass);W&&this._applyKeyValueChanges(W)}}_applyKeyValueChanges(W){W.forEachAddedItem(ve=>this._toggleClass(ve.key,ve.currentValue)),W.forEachChangedItem(ve=>this._toggleClass(ve.key,ve.currentValue)),W.forEachRemovedItem(ve=>{ve.previousValue&&this._toggleClass(ve.key,!1)})}_applyIterableChanges(W){W.forEachAddedItem(ve=>{if("string"!=typeof ve.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(ve.item)}`);this._toggleClass(ve.item,!0)}),W.forEachRemovedItem(ve=>this._toggleClass(ve.item,!1))}_applyClasses(W){W&&(Array.isArray(W)||W instanceof Set?W.forEach(ve=>this._toggleClass(ve,!0)):Object.keys(W).forEach(ve=>this._toggleClass(ve,!!W[ve])))}_removeClasses(W){W&&(Array.isArray(W)||W instanceof Set?W.forEach(ve=>this._toggleClass(ve,!1)):Object.keys(W).forEach(ve=>this._toggleClass(ve,!1)))}_toggleClass(W,ve){(W=W.trim())&&W.split(/\s+/g).forEach(Ze=>{ve?this._renderer.addClass(this._ngEl.nativeElement,Ze):this._renderer.removeClass(this._ngEl.nativeElement,Ze)})}}return V.\u0275fac=function(W){return new(W||V)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),V})();class Jn{constructor(le,W,ve,Ze){this.$implicit=le,this.ngForOf=W,this.index=ve,this.count=Ze}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ls=(()=>{class V{constructor(W,ve,Ze){this._viewContainer=W,this._template=ve,this._differs=Ze,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;if(!this._differ&&W)try{this._differ=this._differs.find(W).create(this.ngForTrackBy)}catch(ve){throw new Error(`Cannot find a differ supporting object '${W}' of type '${function(V){return V.name||typeof V}(W)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const ve=[];W.forEachOperation((Ze,z,G)=>{if(null==Ze.previousIndex){const $=this._viewContainer.createEmbeddedView(this._template,new Jn(null,this._ngForOf,-1,-1),null===G?void 0:G),Ce=new Uo(Ze,$);ve.push(Ce)}else if(null==G)this._viewContainer.remove(null===z?void 0:z);else if(null!==z){const $=this._viewContainer.get(z);this._viewContainer.move($,G);const Ce=new Uo(Ze,$);ve.push(Ce)}});for(let Ze=0;Ze<ve.length;Ze++)this._perViewChange(ve[Ze].view,ve[Ze].record);for(let Ze=0,z=this._viewContainer.length;Ze<z;Ze++){const G=this._viewContainer.get(Ze);G.context.index=Ze,G.context.count=z,G.context.ngForOf=this._ngForOf}W.forEachIdentityChange(Ze=>{this._viewContainer.get(Ze.currentIndex).context.$implicit=Ze.item})}_perViewChange(W,ve){W.context.$implicit=ve.item}static ngTemplateContextGuard(W,ve){return!0}}return V.\u0275fac=function(W){return new(W||V)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();class Uo{constructor(le,W){this.record=le,this.view=W}}let Gi=(()=>{class V{constructor(W,ve){this._viewContainer=W,this._context=new cs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ve}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){Oo("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){Oo("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,ve){return!0}}return V.\u0275fac=function(W){return new(W||V)(m.Y36(m.s_b),m.Y36(m.Rgc))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class cs{constructor(){this.$implicit=null,this.ngIf=null}}function Oo(V,le){if(le&&!le.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,m.AaK)(le)}'.`)}class No{constructor(le,W){this._viewContainerRef=le,this._templateRef=W,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(le){le&&!this._created?this.create():!le&&this._created&&this.destroy()}}let Eo=(()=>{class V{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(W){this._ngSwitch=W,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(W){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(W)}_matchCase(W){const ve=W==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ve,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ve}_updateDefaultCases(W){if(this._defaultViews&&W!==this._defaultUsed){this._defaultUsed=W;for(let ve=0;ve<this._defaultViews.length;ve++)this._defaultViews[ve].enforceState(W)}}}return V.\u0275fac=function(W){return new(W||V)},V.\u0275dir=m.lG2({type:V,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),V})(),Ho=(()=>{class V{constructor(W,ve,Ze){this.ngSwitch=Ze,Ze._addCase(),this._view=new No(W,ve)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return V.\u0275fac=function(W){return new(W||V)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Eo,9))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),V})(),es=(()=>{class V{constructor(W,ve,Ze){Ze._addDefault(new No(W,ve))}}return V.\u0275fac=function(W){return new(W||V)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Eo,9))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngSwitchDefault",""]]}),V})();class Go{createSubscription(le,W){return le.subscribe({next:W,error:ve=>{throw ve}})}dispose(le){le.unsubscribe()}onDestroy(le){le.unsubscribe()}}class Ur{createSubscription(le,W){return le.then(W,ve=>{throw ve})}dispose(le){}onDestroy(le){}}const bs=new Ur,Ls=new Go;let Gr=(()=>{class V{constructor(W){this._ref=W,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(W){return this._obj?W!==this._obj?(this._dispose(),this.transform(W)):this._latestValue:(W&&this._subscribe(W),this._latestValue)}_subscribe(W){this._obj=W,this._strategy=this._selectStrategy(W),this._subscription=this._strategy.createSubscription(W,ve=>this._updateLatestValue(W,ve))}_selectStrategy(W){if((0,m.QGY)(W))return bs;if((0,m.F4k)(W))return Ls;throw function(V,le){return Error(`InvalidPipeArgument: '${le}' for pipe '${(0,m.AaK)(V)}'`)}(V,W)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(W,ve){W===this._obj&&(this._latestValue=ve,this._ref.markForCheck())}}return V.\u0275fac=function(W){return new(W||V)(m.Y36(m.sBO,16))},V.\u0275pipe=m.Yjl({name:"async",type:V,pure:!1}),V})(),zs=(()=>{class V{}return V.\u0275fac=function(W){return new(W||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({providers:[{provide:sr,useClass:Yn}]}),V})();const Wr="browser";function Vs(V){return"server"===V}let us=(()=>{class V{}return V.\u0275prov=(0,m.Yz7)({token:V,providedIn:"root",factory:()=>new Er((0,m.LFG)(De),window)}),V})();class Er{constructor(le,W){this.document=le,this.window=W,this.offset=()=>[0,0]}setOffset(le){this.offset=Array.isArray(le)?()=>le:le}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(le){this.supportsScrolling()&&this.window.scrollTo(le[0],le[1])}scrollToAnchor(le){if(!this.supportsScrolling())return;const W=function(V,le){const W=V.getElementById(le)||V.getElementsByName(le)[0];if(W)return W;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ve=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Ze=ve.currentNode;for(;Ze;){const z=Ze.shadowRoot;if(z){const G=z.getElementById(le)||z.querySelector(`[name="${le}"]`);if(G)return G}Ze=ve.nextNode()}}return null}(this.document,le);W&&(this.scrollToElement(W),this.attemptFocus(W))}setHistoryScrollRestoration(le){if(this.supportScrollRestoration()){const W=this.window.history;W&&W.scrollRestoration&&(W.scrollRestoration=le)}}scrollToElement(le){const W=le.getBoundingClientRect(),ve=W.left+this.window.pageXOffset,Ze=W.top+this.window.pageYOffset,z=this.offset();this.window.scrollTo(ve-z[0],Ze-z[1])}attemptFocus(le){return le.focus(),this.document.activeElement===le}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const le=ie(this.window.history)||ie(Object.getPrototypeOf(this.window.history));return!(!le||!le.writable&&!le.set)}catch(le){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(le){return!1}}}function ie(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class it{}},9619:(Jt,vt,X)=>{"use strict";X.d(vt,{deG:()=>Nh,tb:()=>y,AFp:()=>e,ip1:()=>x_,CZH:()=>d,hGG:()=>Kk,z2F:()=>Pv,sBO:()=>xk,Sil:()=>Ge,_Vd:()=>b_,EJc:()=>F,SBq:()=>Xg,qLn:()=>Ad,vpe:()=>bf,AA_:()=>Bh,L6J:()=>Sv,tBr:()=>tu,XFs:()=>Rn,OlP:()=>no,zs3:()=>Gc,IIB:()=>Nw,ZZ4:()=>Lw,aQg:()=>Bw,soG:()=>D,YKP:()=>nv,h0i:()=>Vm,PXZ:()=>_k,R0b:()=>_r,FiY:()=>bl,r_U:()=>nb,Lbi:()=>g,g9A:()=>h,Qsj:()=>zy,FYo:()=>ev,JOm:()=>cn,q3G:()=>Un,tp0:()=>Ss,Rgc:()=>C_,dDg:()=>tm,q4F:()=>tv,GfV:()=>qy,i9L:()=>bu,s_b:()=>vf,ifc:()=>Ni,eFA:()=>WC,G48:()=>Ak,Gpc:()=>Xe,X6Q:()=>kk,_c5:()=>Hk,VLi:()=>fk,c2e:()=>E,zSh:()=>Dg,wAp:()=>Vi,vHH:()=>de,EiD:()=>Yi,mCW:()=>Oc,qzn:()=>Qo,JVY:()=>er,pB0:()=>jh,eBb:()=>Tf,L6k:()=>Bl,LAX:()=>Ku,cg1:()=>Db,kL8:()=>oy,yhl:()=>ih,dqk:()=>nt,sIi:()=>Ml,CqO:()=>Ut,QGY:()=>pt,F4k:()=>Bt,RDi:()=>it,AaK:()=>Te,z3N:()=>Da,qOj:()=>Rp,TTD:()=>go,_Bn:()=>Qb,xp6:()=>wp,uIk:()=>Ug,Tol:()=>Vv,Gre:()=>Zv,ekj:()=>I_,Suo:()=>Q_,Xpm:()=>hr,lG2:()=>gi,Yz7:()=>Dn,cJS:()=>br,oAB:()=>Qt,Yjl:()=>Ar,Y36:()=>Cr,_UZ:()=>A,BQk:()=>Ee,ynx:()=>oe,qZA:()=>b,TgZ:()=>p,EpF:()=>rt,n5z:()=>Il,LFG:()=>Gs,$8M:()=>ra,$Z:()=>Ul,NdJ:()=>Yt,CRH:()=>_v,oxw:()=>bo,ALo:()=>lv,lcZ:()=>cv,Hsn:()=>Nm,F$t:()=>al,Q6J:()=>s,s9C:()=>ip,DdM:()=>rv,VKq:()=>ov,WLB:()=>sv,iGM:()=>Y_,MAs:()=>Bp,evT:()=>Ws,CHM:()=>ul,oJD:()=>La,LSH:()=>$a,kYT:()=>Tn,Udp:()=>fb,d8E:()=>R_,YNc:()=>dd,W1O:()=>gw,_uU:()=>Hv,Oqu:()=>vb,hij:()=>P_,Gf:()=>K_});var m=X(3405),B=X(1346),he=X(5548),Ne=X(8526),ce=X(5783);var Y=X(5234);function be(){return new m.xQ}function ge(l){for(let u in l)if(l[u]===ge)return u;throw Error("Could not find renamed property on target object.")}function _e(l,u){for(const f in u)u.hasOwnProperty(f)&&!l.hasOwnProperty(f)&&(l[f]=u[f])}function Te(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Te).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const u=l.toString();if(null==u)return""+u;const f=u.indexOf("\n");return-1===f?u:u.substring(0,f)}function we(l,u){return null==l||""===l?null===u?"":u:null==u||""===u?l:l+" "+u}const Ve=ge({__forward_ref__:ge});function Xe(l){return l.__forward_ref__=Xe,l.toString=function(){return Te(this())},l}function Se(l){return ct(l)?l():l}function ct(l){return"function"==typeof l&&l.hasOwnProperty(Ve)&&l.__forward_ref__===Xe}class de extends Error{constructor(u,f){super(function(l,u){return`${l?`NG0${l}: `:""}${u}`}(u,f)),this.code=u}}function dt(l){return"string"==typeof l?l:null==l?"":String(l)}function Xt(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():dt(l)}function et(l,u){const f=u?` in ${u}`:"";throw new de("201",`No provider for ${Xt(l)} found${f}`)}function _t(l,u){null==l&&function(l,u,f,v){throw new Error(`ASSERTION ERROR: ${l}`+(null==v?"":` [Expected=> ${f} ${v} ${u} <=Actual]`))}(u,l,null,"!=")}function Dn(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function br(l){return{providers:l.providers||[],imports:l.imports||[]}}function Nn(l){return Cn(l,fi)||Cn(l,Ei)}function Cn(l,u){return l.hasOwnProperty(u)?l[u]:null}function ai(l){return l&&(l.hasOwnProperty(Di)||l.hasOwnProperty(Vo))?l[Di]:null}const fi=ge({\u0275prov:ge}),Di=ge({\u0275inj:ge}),Ei=ge({ngInjectableDef:ge}),Vo=ge({ngInjectorDef:ge});var Rn=(()=>((Rn=Rn||{})[Rn.Default=0]="Default",Rn[Rn.Host=1]="Host",Rn[Rn.Self=2]="Self",Rn[Rn.SkipSelf=4]="SkipSelf",Rn[Rn.Optional=8]="Optional",Rn))();let Or;function oo(l){const u=Or;return Or=l,u}function Ui(l,u,f){const v=Nn(l);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:f&Rn.Optional?null:void 0!==u?u:void et(Te(l),"Injector")}function Hn(l){return{toString:l}.toString()}var Vr=(()=>((Vr=Vr||{})[Vr.OnPush=0]="OnPush",Vr[Vr.Default=1]="Default",Vr))(),Ni=(()=>{return(l=Ni||(Ni={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",Ni;var l})();const Ri="undefined"!=typeof globalThis&&globalThis,nr="undefined"!=typeof window&&window,Pi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,nt=Ri||"undefined"!=typeof global&&global||nr||Pi,Tt={},sn=[],zn=ge({\u0275cmp:ge}),Qn=ge({\u0275dir:ge}),Fn=ge({\u0275pipe:ge}),Mi=ge({\u0275mod:ge}),Hi=ge({\u0275fac:ge}),Lr=ge({__NG_ELEMENT_ID__:ge});let Qr=0;function hr(l){return Hn(()=>{const f={},v={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===Vr.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||sn,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||Ni.Emulated,id:"c",styles:l.styles||sn,_:null,setInput:null,schemas:l.schemas||null,tView:null},w=l.directives,x=l.features,N=l.pipes;return v.id+=Qr++,v.inputs=kn(l.inputs,f),v.outputs=kn(l.outputs),x&&x.forEach(q=>q(v)),v.directiveDefs=w?()=>("function"==typeof w?w():w).map(yt):null,v.pipeDefs=N?()=>("function"==typeof N?N():N).map(tt):null,v})}function yt(l){return Ai(l)||function(l){return l[Qn]||null}(l)}function tt(l){return function(l){return l[Fn]||null}(l)}const St={};function Qt(l){return Hn(()=>{const u={type:l.type,bootstrap:l.bootstrap||sn,declarations:l.declarations||sn,imports:l.imports||sn,exports:l.exports||sn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(St[l.id]=l.type),u})}function Tn(l,u){return Hn(()=>{const f=fr(l,!0);f.declarations=u.declarations||sn,f.imports=u.imports||sn,f.exports=u.exports||sn})}function kn(l,u){if(null==l)return Tt;const f={};for(const v in l)if(l.hasOwnProperty(v)){let w=l[v],x=w;Array.isArray(w)&&(x=w[1],w=w[0]),f[w]=v,u&&(u[w]=x)}return f}const gi=hr;function Ar(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function Ai(l){return l[zn]||null}function fr(l,u){const f=l[Mi]||null;if(!f&&!0===u)throw new Error(`Type ${Te(l)} does not have '\u0275mod' property.`);return f}function lo(l){return Array.isArray(l)&&"object"==typeof l[1]}function Ro(l){return Array.isArray(l)&&!0===l[1]}function co(l){return 0!=(8&l.flags)}function vr(l){return 2==(2&l.flags)}function Go(l){return 1==(1&l.flags)}function Ur(l){return null!==l.template}function bs(l){return 0!=(512&l[2])}function zs(l,u){return l.hasOwnProperty(Hi)?l[Hi]:null}class Wr{constructor(u,f,v){this.previousValue=u,this.currentValue=f,this.firstChange=v}isFirstChange(){return this.firstChange}}function go(){return $o}function $o(l){return l.type.prototype.ngOnChanges&&(l.setInput=Fo),Ms}function Ms(){const l=Rr(this),u=null==l?void 0:l.current;if(u){const f=l.previous;if(f===Tt)l.previous=u;else for(let v in u)f[v]=u[v];l.current=null,this.ngOnChanges(u)}}function Fo(l,u,f,v){const w=Rr(l)||function(l,u){return l[Vs]=u}(l,{previous:Tt,current:null}),x=w.current||(w.current={}),N=w.previous,q=this.declaredInputs[f],J=N[q];x[q]=new Wr(J&&J.currentValue,u,N===Tt),l[v]=u}go.ngInherit=!0;const Vs="__ngSimpleChanges__";function Rr(l){return l[Vs]||null}let Be;function it(l){Be=l}function V(){return void 0!==Be?Be:"undefined"!=typeof document?document:void 0}function W(l){return!!l.listen}const ve={createRenderer:(l,u)=>V()};function z(l){for(;Array.isArray(l);)l=l[0];return l}function Ce(l,u){return z(u[l])}function xt(l,u){return z(u[l.index])}function _n(l,u){return l.data[u]}function ni(l,u){return l[u]}function li(l,u){const f=u[l];return lo(f)?f:f[0]}function Fi(l){return 4==(4&l[2])}function yr(l){return 128==(128&l[2])}function Sr(l,u){return null==u?null:l[u]}function ho(l){l[18]=0}function ys(l,u){l[5]+=u;let f=l,v=l[3];for(;null!==v&&(1===u&&1===f[5]||-1===u&&0===f[5]);)v[5]+=u,f=v,v=v[3]}const ri={lFrame:Nt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ql(){return ri.bindingsEnabled}function dn(){return ri.lFrame.lView}function Ti(){return ri.lFrame.tView}function ul(l){return ri.lFrame.contextLView=l,l[8]}function Co(){let l=Ra();for(;null!==l&&64===l.type;)l=l.parent;return l}function Ra(){return ri.lFrame.currentTNode}function Ds(l,u){const f=ri.lFrame;f.currentTNode=l,f.isParent=u}function Us(){return ri.lFrame.isParent}function dl(){ri.lFrame.isParent=!1}function wa(){return ri.isInCheckNoChangesMode}function Va(l){ri.isInCheckNoChangesMode=l}function $i(){const l=ri.lFrame;let u=l.bindingRootIndex;return-1===u&&(u=l.bindingRootIndex=l.tView.bindingStartIndex),u}function fa(){return ri.lFrame.bindingIndex++}function wr(l){const u=ri.lFrame,f=u.bindingIndex;return u.bindingIndex=u.bindingIndex+l,f}function fl(l,u){const f=ri.lFrame;f.bindingIndex=f.bindingRootIndex=l,me(u)}function me(l){ri.lFrame.currentDirectiveIndex=l}function I(l){const u=ri.lFrame.currentDirectiveIndex;return-1===u?null:l[u]}function O(){return ri.lFrame.currentQueryIndex}function Q(l){ri.lFrame.currentQueryIndex=l}function ke(l){const u=l[1];return 2===u.type?u.declTNode:1===u.type?l[6]:null}function Ue(l,u,f){if(f&Rn.SkipSelf){let w=u,x=l;for(;!(w=w.parent,null!==w||f&Rn.Host||(w=ke(x),null===w||(x=x[15],10&w.type))););if(null===w)return!1;u=w,l=x}const v=ri.lFrame=gt();return v.currentTNode=u,v.lView=l,!0}function ot(l){const u=gt(),f=l[1];ri.lFrame=u,u.currentTNode=f.firstChild,u.lView=l,u.tView=f,u.contextLView=l,u.bindingIndex=f.bindingStartIndex,u.inI18n=!1}function gt(){const l=ri.lFrame,u=null===l?null:l.child;return null===u?Nt(l):u}function Nt(l){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=u),u}function Zt(){const l=ri.lFrame;return ri.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const xn=Zt;function wn(){const l=Zt();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function wt(){return ri.lFrame.selectedIndex}function en(l){ri.lFrame.selectedIndex=l}function gn(){const l=ri.lFrame;return _n(l.tView,l.selectedIndex)}function eo(l,u){for(let f=u.directiveStart,v=u.directiveEnd;f<v;f++){const x=l.data[f].type.prototype,{ngAfterContentInit:N,ngAfterContentChecked:q,ngAfterViewInit:J,ngAfterViewChecked:pe,ngOnDestroy:Ie}=x;N&&(l.contentHooks||(l.contentHooks=[])).push(-f,N),q&&((l.contentHooks||(l.contentHooks=[])).push(f,q),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(f,q)),J&&(l.viewHooks||(l.viewHooks=[])).push(-f,J),pe&&((l.viewHooks||(l.viewHooks=[])).push(f,pe),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(f,pe)),null!=Ie&&(l.destroyHooks||(l.destroyHooks=[])).push(f,Ie)}}function ws(l,u,f){qi(l,u,3,f)}function ui(l,u,f,v){(3&l[2])===f&&qi(l,u,f,v)}function Cs(l,u){let f=l[2];(3&f)===u&&(f&=2047,f+=1,l[2]=f)}function qi(l,u,f,v){const x=null!=v?v:-1,N=u.length-1;let q=0;for(let J=void 0!==v?65535&l[18]:0;J<N;J++)if("number"==typeof u[J+1]){if(q=u[J],null!=v&&q>=v)break}else u[J]<0&&(l[18]+=65536),(q<x||-1==x)&&(Li(l,f,u,J),l[18]=(4294901760&l[18])+J+2),J++}function Li(l,u,f,v){const w=f[v]<0,x=f[v+1],q=l[w?-f[v]:f[v]];if(w){if(l[2]>>11<l[18]>>16&&(3&l[2])===u){l[2]+=2048;try{x.call(q)}finally{}}}else try{x.call(q)}finally{}}class pa{constructor(u,f,v){this.factory=u,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=v}}function Yo(l,u,f){const v=W(l);let w=0;for(;w<f.length;){const x=f[w];if("number"==typeof x){if(0!==x)break;w++;const N=f[w++],q=f[w++],J=f[w++];v?l.setAttribute(u,q,J,N):u.setAttributeNS(N,q,J)}else{const N=x,q=f[++w];is(N)?v&&l.setProperty(u,N,q):v?l.setAttribute(u,N,q):u.setAttribute(N,q),w++}}return w}function Mr(l){return 3===l||4===l||6===l}function is(l){return 64===l.charCodeAt(0)}function rs(l,u){if(null!==u&&0!==u.length)if(null===l||0===l.length)l=u.slice();else{let f=-1;for(let v=0;v<u.length;v++){const w=u[v];"number"==typeof w?f=w:0===f||Ha(l,f,w,null,-1===f||2===f?u[++v]:null)}}return l}function Ha(l,u,f,v,w){let x=0,N=l.length;if(-1===u)N=-1;else for(;x<l.length;){const q=l[x++];if("number"==typeof q){if(q===u){N=-1;break}if(q>u){N=x-1;break}}}for(;x<l.length;){const q=l[x];if("number"==typeof q)break;if(q===f){if(null===v)return void(null!==w&&(l[x+1]=w));if(v===l[x+1])return void(l[x+2]=w)}x++,null!==v&&x++,null!==w&&x++}-1!==N&&(l.splice(N,0,u),x=N+1),l.splice(x++,0,f),null!==v&&l.splice(x++,0,v),null!==w&&l.splice(x++,0,w)}function Ca(l){return-1!==l}function So(l){return 32767&l}function T(l,u){let f=function(l){return l>>16}(l),v=u;for(;f>0;)v=v[15],f--;return v}let M=!0;function ee(l){const u=M;return M=l,u}let ir=0;function Ir(l,u){const f=ci(l,u);if(-1!==f)return f;const v=u[1];v.firstCreatePass&&(l.injectorIndex=u.length,gl(v.data,l),gl(u,null),gl(v.blueprint,null));const w=In(l,u),x=l.injectorIndex;if(Ca(w)){const N=So(w),q=T(w,u),J=q[1].data;for(let pe=0;pe<8;pe++)u[x+pe]=q[N+pe]|J[N+pe]}return u[x+8]=w,x}function gl(l,u){l.push(0,0,0,0,0,0,0,0,u)}function ci(l,u){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===u[l.injectorIndex+8]?-1:l.injectorIndex}function In(l,u){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let f=0,v=null,w=u;for(;null!==w;){const x=w[1],N=x.type;if(v=2===N?x.declTNode:1===N?w[6]:null,null===v)return-1;if(f++,w=w[15],-1!==v.injectorIndex)return v.injectorIndex|f<<16}return-1}function H(l,u,f){!function(l,u,f){let v;"string"==typeof f?v=f.charCodeAt(0)||0:f.hasOwnProperty(Lr)&&(v=f[Lr]),null==v&&(v=f[Lr]=ir++);const w=255&v;u.data[l+(w>>5)]|=1<<w}(l,u,f)}function L(l,u,f){if(f&Rn.Optional)return l;et(u,"NodeInjector")}function re(l,u,f,v){if(f&Rn.Optional&&void 0===v&&(v=null),0==(f&(Rn.Self|Rn.Host))){const w=l[9],x=oo(void 0);try{return w?w.get(u,v,f&Rn.Optional):Ui(u,v,f&Rn.Optional)}finally{oo(x)}}return L(v,u,f)}function ae(l,u,f,v=Rn.Default,w){if(null!==l){const x=function(l){if("string"==typeof l)return l.charCodeAt(0)||0;const u=l.hasOwnProperty(Lr)?l[Lr]:void 0;return"number"==typeof u?u>=0?255&u:st:u}(f);if("function"==typeof x){if(!Ue(u,l,v))return v&Rn.Host?L(w,f,v):re(u,f,v,w);try{const N=x(v);if(null!=N||v&Rn.Optional)return N;et(f)}finally{xn()}}else if("number"==typeof x){let N=null,q=ci(l,u),J=-1,pe=v&Rn.Host?u[16][6]:null;for((-1===q||v&Rn.SkipSelf)&&(J=-1===q?In(l,u):u[q+8],-1!==J&&ar(v,!1)?(N=u[1],q=So(J),u=T(J,u)):q=-1);-1!==q;){const Ie=u[1];if(ei(x,q,Ie.data)){const Je=ht(q,u,f,N,v,pe);if(Je!==Re)return Je}J=u[q+8],-1!==J&&ar(v,u[1].data[q+8]===pe)&&ei(x,q,u)?(N=Ie,q=So(J),u=T(J,u)):q=-1}}}return re(u,f,v,w)}const Re={};function st(){return new Bn(Co(),dn())}function ht(l,u,f,v,w,x){const N=u[1],q=N.data[l+8],Ie=Ft(q,N,f,null==v?vr(q)&&M:v!=N&&0!=(3&q.type),w&Rn.Host&&x===q);return null!==Ie?Sn(u,N,Ie,q):Re}function Ft(l,u,f,v,w){const x=l.providerIndexes,N=u.data,q=1048575&x,J=l.directiveStart,Ie=x>>20,Ct=w?q+Ie:l.directiveEnd;for(let zt=v?q:q+Ie;zt<Ct;zt++){const an=N[zt];if(zt<J&&f===an||zt>=J&&an.type===f)return zt}if(w){const zt=N[J];if(zt&&Ur(zt)&&zt.type===f)return J}return null}function Sn(l,u,f,v){let w=l[f];const x=u.data;if(function(l){return l instanceof pa}(w)){const N=w;N.resolving&&function(l,u){throw new de("200",`Circular dependency in DI detected for ${l}`)}(Xt(x[f]));const q=ee(N.canSeeViewProviders);N.resolving=!0;const J=N.injectImpl?oo(N.injectImpl):null;Ue(l,v,Rn.Default);try{w=l[f]=N.factory(void 0,x,l,v),u.firstCreatePass&&f>=v.directiveStart&&function(l,u,f){const{ngOnChanges:v,ngOnInit:w,ngDoCheck:x}=u.type.prototype;if(v){const N=$o(u);(f.preOrderHooks||(f.preOrderHooks=[])).push(l,N),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(l,N)}w&&(f.preOrderHooks||(f.preOrderHooks=[])).push(0-l,w),x&&((f.preOrderHooks||(f.preOrderHooks=[])).push(l,x),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(l,x))}(f,x[f],u)}finally{null!==J&&oo(J),ee(q),N.resolving=!1,xn()}}return w}function ei(l,u,f){return!!(f[u+(l>>5)]&1<<l)}function ar(l,u){return!(l&Rn.Self||l&Rn.Host&&u)}class Bn{constructor(u,f){this._tNode=u,this._lView=f}get(u,f,v){return ae(this._tNode,this._lView,u,v,f)}}function Il(l){return Hn(()=>{const u=l.prototype.constructor,f=u[Hi]||hs(u),v=Object.prototype;let w=Object.getPrototypeOf(l.prototype).constructor;for(;w&&w!==v;){const x=w[Hi]||hs(w);if(x&&x!==f)return x;w=Object.getPrototypeOf(w)}return x=>new x})}function hs(l){return ct(l)?()=>{const u=hs(Se(l));return u&&u()}:zs(l)}function ra(l){return function(l,u){if("class"===u)return l.classes;if("style"===u)return l.styles;const f=l.attrs;if(f){const v=f.length;let w=0;for(;w<v;){const x=f[w];if(Mr(x))break;if(0===x)w+=2;else if("number"==typeof x)for(w++;w<v&&"string"==typeof f[w];)w++;else{if(x===u)return f[w+1];w+=2}}}return null}(Co(),l)}const fn="__parameters__",fs="__prop__metadata__";function qa(l){return function(...f){if(l){const v=l(...f);for(const w in v)this[w]=v[w]}}}function Pl(l,u,f){return Hn(()=>{const v=qa(u);function w(...x){if(this instanceof w)return v.apply(this,x),this;const N=new w(...x);return q.annotation=N,q;function q(J,pe,Ie){const Je=J.hasOwnProperty(fn)?J[fn]:Object.defineProperty(J,fn,{value:[]})[fn];for(;Je.length<=Ie;)Je.push(null);return(Je[Ie]=Je[Ie]||[]).push(N),J}}return f&&(w.prototype=Object.create(f.prototype)),w.prototype.ngMetadataName=l,w.annotationCls=w,w})}function ka(l,u,f,v){return Hn(()=>{const w=qa(u);function x(...N){if(this instanceof x)return w.apply(this,N),this;const q=new x(...N);return function(pe,Ie){const Je=pe.constructor,Ct=Je.hasOwnProperty(fs)?Je[fs]:Object.defineProperty(Je,fs,{value:{}})[fs];Ct[Ie]=Ct.hasOwnProperty(Ie)&&Ct[Ie]||[],Ct[Ie].unshift(q),v&&v(pe,Ie,...N)}}return f&&(x.prototype=Object.create(f.prototype)),x.prototype.ngMetadataName=l,x.annotationCls=x,x})}class no{constructor(u,f){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=Dn({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Nh=new no("AnalyzeForEntryComponents");class di{}const bu=ka("ViewChild",(l,u)=>un({selector:l,first:!0,isViewQuery:!0,descendants:!0},u),di);function io(l,u){void 0===u&&(u=l);for(let f=0;f<l.length;f++){let v=l[f];Array.isArray(v)?(u===l&&(u=l.slice(0,f)),io(v,u)):u!==l&&u.push(v)}return u}function Ts(l,u){l.forEach(f=>Array.isArray(f)?Ts(f,u):u(f))}function Uu(l,u,f){u>=l.length?l.push(f):l.splice(u,0,f)}function Aa(l,u){return u>=l.length-1?l.pop():l.splice(u,1)[0]}function Qc(l,u){const f=[];for(let v=0;v<l;v++)f.push(u);return f}function os(l,u,f){let v=md(l,u);return v>=0?l[1|v]=f:(v=~v,function(l,u,f,v){let w=l.length;if(w==u)l.push(f,v);else if(1===w)l.push(v,l[0]),l[0]=f;else{for(w--,l.push(l[w-1],l[w]);w>u;)l[w]=l[w-2],w--;l[u]=f,l[u+1]=v}}(l,v,u,f)),v}function Cf(l,u){const f=md(l,u);if(f>=0)return l[1|f]}function md(l,u){return function(l,u,f){let v=0,w=l.length>>f;for(;w!==v;){const x=v+(w-v>>1),N=l[x<<f];if(u===N)return x<<f;N>u?w=x:v=x+1}return~(w<<f)}(l,u,1)}const ml={},Nl="__NG_DI_FLAG__",_l="ngTempTokenPath",Rh=/\n/gm,Hu="__source",qu=ge({provide:String,useValue:ge});let Ja;function Cu(l){const u=Ja;return Ja=l,u}function Ea(l,u=Rn.Default){if(void 0===Ja)throw new Error("inject() must be called from an injection context");return null===Ja?Ui(l,void 0,u):Ja.get(l,u&Rn.Optional?null:void 0,u)}function Gs(l,u=Rn.Default){return(Or||Ea)(Se(l),u)}function $s(l){const u=[];for(let f=0;f<l.length;f++){const v=Se(l[f]);if(Array.isArray(v)){if(0===v.length)throw new Error("Arguments array must have arguments.");let w,x=Rn.Default;for(let N=0;N<v.length;N++){const q=v[N],J=Fh(q);"number"==typeof J?-1===J?w=q.token:x|=J:w=q}u.push(Gs(w,x))}else u.push(Gs(v))}return u}function ac(l,u){return l[Nl]=u,l.prototype[Nl]=u,l}function Fh(l){return l[Nl]}const tu=ac(Pl("Inject",l=>({token:l})),-1),bl=ac(Pl("Optional"),8),Ss=ac(Pl("SkipSelf"),4),Bh=ac(Pl("Host"),1);let Fl,cc;function vl(l){var u;return(null==(u=function(){if(void 0===Fl&&(Fl=null,nt.trustedTypes))try{Fl=nt.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return Fl}())?void 0:u.createHTML(l))||l}function Ko(l){var u;return(null==(u=function(){if(void 0===cc&&(cc=null,nt.trustedTypes))try{cc=nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return cc}())?void 0:u.createHTML(l))||l}class Pc{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Df extends Pc{getTypeName(){return"HTML"}}class th extends Pc{getTypeName(){return"Style"}}class Lo extends Pc{getTypeName(){return"Script"}}class ps extends Pc{getTypeName(){return"URL"}}class nh extends Pc{getTypeName(){return"ResourceURL"}}function Da(l){return l instanceof Pc?l.changingThisBreaksApplicationSecurity:l}function Qo(l,u){const f=ih(l);if(null!=f&&f!==u){if("ResourceURL"===f&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${f} (see https://g.co/ng/security#xss)`)}return f===u}function ih(l){return l instanceof Pc&&l.getTypeName()||null}function er(l){return new Df(l)}function Bl(l){return new th(l)}function Tf(l){return new Lo(l)}function Ku(l){return new ps(l)}function jh(l){return new nh(l)}class ap{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const f=(new window.DOMParser).parseFromString(vl(u),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(u):(f.removeChild(f.firstChild),f)}catch(f){return null}}}class mr{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const f=this.inertDocument.createElement("html");this.inertDocument.appendChild(f);const v=this.inertDocument.createElement("body");f.appendChild(v)}}getInertBodyElement(u){const f=this.inertDocument.createElement("template");if("content"in f)return f.innerHTML=vl(u),f;const v=this.inertDocument.createElement("body");return v.innerHTML=vl(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(v),v}stripCustomNsAttrs(u){const f=u.attributes;for(let w=f.length-1;0<w;w--){const N=f.item(w).name;("xmlns:ns1"===N||0===N.indexOf("ns1:"))&&u.removeAttribute(N)}let v=u.firstChild;for(;v;)v.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(v),v=v.nextSibling}}const nu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,wd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Oc(l){return(l=String(l)).match(nu)||l.match(wd)?l:"unsafe:"+l}function Ta(l){const u={};for(const f of l.split(","))u[f]=!0;return u}function uc(...l){const u={};for(const f of l)for(const v in f)f.hasOwnProperty(v)&&(u[v]=!0);return u}const Xa=Ta("area,br,col,hr,img,wbr"),Nc=Ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oh=Ta("rp,rt"),iu=uc(Xa,uc(Nc,Ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uc(oh,Ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uc(oh,Nc)),Bo=Ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zh=Ta("srcset"),sh=uc(Bo,zh,Ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ye=Ta("script,style,template");class Ye{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let f=u.firstChild,v=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?v=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,v&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let w=this.checkClobberedElement(f,f.nextSibling);if(w){f=w;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(u){const f=u.nodeName.toLowerCase();if(!iu.hasOwnProperty(f))return this.sanitizedSomething=!0,!ye.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const v=u.attributes;for(let w=0;w<v.length;w++){const x=v.item(w),N=x.name,q=N.toLowerCase();if(!sh.hasOwnProperty(q)){this.sanitizedSomething=!0;continue}let J=x.value;Bo[q]&&(J=Oc(J)),zh[q]&&(l=J,J=(l=String(l)).split(",").map(u=>Oc(u.trim())).join(", ")),this.buf.push(" ",N,'="',vi(J),'"')}var l;return this.buf.push(">"),!0}endElement(u){const f=u.nodeName.toLowerCase();iu.hasOwnProperty(f)&&!Xa.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(u){this.buf.push(vi(u))}checkClobberedElement(u,f){if(f&&(u.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return f}}const at=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,on=/([^\#-~ |!])/g;function vi(l){return l.replace(/&/g,"&amp;").replace(at,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(on,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ki;function Yi(l,u){let f=null;try{ki=ki||function(l){const u=new mr(l);return function(){try{return!!(new window.DOMParser).parseFromString(vl(""),"text/html")}catch(l){return!1}}()?new ap(u):u}(l);let v=u?String(u):"";f=ki.getInertBodyElement(v);let w=5,x=v;do{if(0===w)throw new Error("Failed to sanitize html because the input is unstable");w--,v=x,x=f.innerHTML,f=ki.getInertBodyElement(v)}while(v!==x);return vl((new Ye).sanitizeChildren(Oi(f)||f))}finally{if(f){const v=Oi(f)||f;for(;v.firstChild;)v.removeChild(v.firstChild)}}}function Oi(l){return"content"in l&&function(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Un=(()=>((Un=Un||{})[Un.NONE=0]="NONE",Un[Un.HTML=1]="HTML",Un[Un.STYLE=2]="STYLE",Un[Un.SCRIPT=3]="SCRIPT",Un[Un.URL=4]="URL",Un[Un.RESOURCE_URL=5]="RESOURCE_URL",Un))();function La(l){const u=Qu();return u?Ko(u.sanitize(Un.HTML,l)||""):Qo(l,"HTML")?Ko(Da(l)):Yi(V(),dt(l))}function $a(l){const u=Qu();return u?u.sanitize(Un.URL,l)||"":Qo(l,"URL")?Da(l):Oc(dt(l))}function Qu(){const l=dn();return l&&l[12]}const Uh="__ngContext__";function Is(l,u){l[Uh]=u}function Hh(l){const u=function(l){return l[Uh]||null}(l);return u?Array.isArray(u)?u:u.lView:null}function tl(l){return l.ngOriginalError}function Pf(l,...u){l.error(...u)}class Ad{constructor(){this._console=console}handleError(u){const f=this._findOriginalError(u),v=(l=u)&&l.ngErrorLogger||Pf;var l;v(this._console,"ERROR",u),f&&v(this._console,"ORIGINAL ERROR",f)}_findOriginalError(u){let f=u&&tl(u);for(;f&&tl(f);)f=tl(f);return f||null}}const fp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(nt))();function Ws(l){return l.ownerDocument}function Tr(l){return l instanceof Function?l():l}var cn=(()=>((cn=cn||{})[cn.Important=1]="Important",cn[cn.DashCase=2]="DashCase",cn))();function su(l,u){return undefined(l,u)}function jc(l){const u=l[3];return Ro(u)?u[3]:u}function gp(l){return Yp(l[13])}function uh(l){return Yp(l[4])}function Yp(l){for(;null!==l&&!Ro(l);)l=l[4];return l}function Ed(l,u,f,v,w){if(null!=v){let x,N=!1;Ro(v)?x=v:lo(v)&&(N=!0,v=v[0]);const q=z(v);0===l&&null!==f?null==w?Jp(u,f,q):lu(u,f,q,w||null,!0):1===l&&null!==f?lu(u,f,q,w||null,!0):2===l?function(l,u,f){const v=Du(l,u);v&&function(l,u,f,v){W(l)?l.removeChild(u,f,v):u.removeChild(f)}(l,v,u,f)}(u,q,N):3===l&&u.destroyNode(q),null!=x&&function(l,u,f,v,w){const x=f[7];x!==z(f)&&Ed(u,l,v,x,w);for(let q=10;q<f.length;q++){const J=f[q];Id(J[1],J,l,u,v,x)}}(u,l,x,f,w)}}function $h(l,u,f){return W(l)?l.createElement(u,f):null===f?l.createElement(u):l.createElementNS(f,u)}function ec(l,u){const f=l[9],v=f.indexOf(u),w=u[3];1024&u[2]&&(u[2]&=-1025,ys(w,-1)),f.splice(v,1)}function Vc(l,u){if(l.length<=10)return;const f=10+u,v=l[f];if(v){const w=v[17];null!==w&&w!==l&&ec(w,v),u>0&&(l[f-1][4]=v[4]);const x=Aa(l,10+u);!function(l,u){Id(l,u,u[11],2,null,null),u[0]=null,u[6]=null}(v[1],v);const N=x[19];null!==N&&N.detachView(x[1]),v[3]=null,v[4]=null,v[2]&=-129}return v}function Md(l,u){if(!(256&u[2])){const f=u[11];W(f)&&f.destroyNode&&Id(l,u,f,3,null,null),function(l){let u=l[13];if(!u)return au(l[1],l);for(;u;){let f=null;if(lo(u))f=u[13];else{const v=u[10];v&&(f=v)}if(!f){for(;u&&!u[4]&&u!==l;)lo(u)&&au(u[1],u),u=u[3];null===u&&(u=l),lo(u)&&au(u[1],u),f=u&&u[4]}u=f}}(u)}}function au(l,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function(l,u){let f;if(null!=l&&null!=(f=l.destroyHooks))for(let v=0;v<f.length;v+=2){const w=u[f[v]];if(!(w instanceof pa)){const x=f[v+1];if(Array.isArray(x))for(let N=0;N<x.length;N+=2){const q=w[x[N]],J=x[N+1];try{J.call(q)}finally{}}else try{x.call(w)}finally{}}}}(l,u),function(l,u){const f=l.cleanup,v=u[7];let w=-1;if(null!==f)for(let x=0;x<f.length-1;x+=2)if("string"==typeof f[x]){const N=f[x+1],q="function"==typeof N?N(u):z(u[N]),J=v[w=f[x+2]],pe=f[x+3];"boolean"==typeof pe?q.removeEventListener(f[x],J,pe):pe>=0?v[w=pe]():v[w=-pe].unsubscribe(),x+=2}else{const N=v[w=f[x+1]];f[x].call(N)}if(null!==v){for(let x=w+1;x<v.length;x++)v[x]();u[7]=null}}(l,u),1===u[1].type&&W(u[11])&&u[11].destroy();const f=u[17];if(null!==f&&Ro(u[3])){f!==u[3]&&ec(f,u);const v=u[19];null!==v&&v.detachView(l)}}}function _p(l,u,f){return function(l,u,f){let v=u;for(;null!==v&&40&v.type;)v=(u=v).parent;if(null===v)return f[0];if(2&v.flags){const w=l.data[v.directiveStart].encapsulation;if(w===Ni.None||w===Ni.Emulated)return null}return xt(v,f)}(l,u.parent,f)}function lu(l,u,f,v,w){W(l)?l.insertBefore(u,f,v,w):u.insertBefore(f,v,w)}function Jp(l,u,f){W(l)?l.appendChild(u,f):u.appendChild(f)}function Xp(l,u,f,v,w){null!==v?lu(l,u,f,v,w):Jp(l,u,f)}function Du(l,u){return W(l)?l.parentNode(u):u.parentNode}function tg(l,u,f){return bp(l,u,f)}let bp=function(l,u,f){return 40&l.type?xt(l,f):null};function Of(l,u,f,v){const w=_p(l,v,u),x=u[11],q=tg(v.parent||u[6],v,u);if(null!=w)if(Array.isArray(f))for(let J=0;J<f.length;J++)Xp(x,w,f[J],q,!1);else Xp(x,w,f,q,!1)}function Nf(l,u){if(null!==u){const f=u.type;if(3&f)return xt(u,l);if(4&f)return Rf(-1,l[u.index]);if(8&f){const v=u.child;if(null!==v)return Nf(l,v);{const w=l[u.index];return Ro(w)?Rf(-1,w):z(w)}}if(32&f)return su(u,l)()||z(l[u.index]);{const v=Yh(l,u);return null!==v?Array.isArray(v)?v[0]:Nf(jc(l[16]),v):Nf(l,u.next)}}return null}function Yh(l,u){return null!==u?l[16][6].projection[u.projection]:null}function Rf(l,u){const f=10+l+1;if(f<u.length){const v=u[f],w=v[1].firstChild;if(null!==w)return Nf(v,w)}return u[7]}function dh(l,u,f,v,w,x,N){for(;null!=f;){const q=v[f.index],J=f.type;if(N&&0===u&&(q&&Is(z(q),v),f.flags|=4),64!=(64&f.flags))if(8&J)dh(l,u,f.child,v,w,x,!1),Ed(u,l,w,q,x);else if(32&J){const pe=su(f,v);let Ie;for(;Ie=pe();)Ed(u,l,w,Ie,x);Ed(u,l,w,q,x)}else 16&J?ig(l,u,v,f,w,x):Ed(u,l,w,q,x);f=N?f.projectionNext:f.next}}function Id(l,u,f,v,w,x){dh(f,v,l.firstChild,u,w,x,!1)}function ig(l,u,f,v,w,x){const N=f[16],J=N[6].projection[v.projection];if(Array.isArray(J))for(let pe=0;pe<J.length;pe++)Ed(u,l,w,J[pe],x);else dh(l,u,J,N[3],w,x,!0)}function am(l,u,f){W(l)?l.setAttribute(u,"style",f):u.style.cssText=f}function vp(l,u,f){W(l)?""===f?l.removeAttribute(u,"class"):l.setAttribute(u,"class",f):u.className=f}function Tu(l,u,f){let v=l.length;for(;;){const w=l.indexOf(u,f);if(-1===w)return w;if(0===w||l.charCodeAt(w-1)<=32){const x=u.length;if(w+x===v||l.charCodeAt(w+x)<=32)return w}f=w+1}}const rg="ng-template";function Gm(l,u,f){let v=0;for(;v<l.length;){let w=l[v++];if(f&&"class"===w){if(w=l[v],-1!==Tu(w.toLowerCase(),u,0))return!0}else if(1===w){for(;v<l.length&&"string"==typeof(w=l[v++]);)if(w.toLowerCase()===u)return!0;return!1}}return!1}function og(l){return 4===l.type&&l.value!==rg}function sg(l,u,f){return u===(4!==l.type||f?l.value:rg)}function Kh(l,u,f){let v=4;const w=l.attrs||[],x=function(l){for(let u=0;u<l.length;u++)if(Mr(l[u]))return u;return l.length}(w);let N=!1;for(let q=0;q<u.length;q++){const J=u[q];if("number"!=typeof J){if(!N)if(4&v){if(v=2|1&v,""!==J&&!sg(l,J,f)||""===J&&1===u.length){if(Cl(v))return!1;N=!0}}else{const pe=8&v?J:u[++q];if(8&v&&null!==l.attrs){if(!Gm(l.attrs,pe,f)){if(Cl(v))return!1;N=!0}continue}const Je=yp(8&v?"class":J,w,og(l),f);if(-1===Je){if(Cl(v))return!1;N=!0;continue}if(""!==pe){let Ct;Ct=Je>x?"":w[Je+1].toLowerCase();const zt=8&v?Ct:null;if(zt&&-1!==Tu(zt,pe,0)||2&v&&pe!==Ct){if(Cl(v))return!1;N=!0}}}}else{if(!N&&!Cl(v)&&!Cl(J))return!1;if(N&&Cl(J))continue;N=!1,v=J|1&v}}return Cl(v)||N}function Cl(l){return 0==(1&l)}function yp(l,u,f,v){if(null===u)return-1;let w=0;if(v||!f){let x=!1;for(;w<u.length;){const N=u[w];if(N===l)return w;if(3===N||6===N)x=!0;else{if(1===N||2===N){let q=u[++w];for(;"string"==typeof q;)q=u[++w];continue}if(4===N)break;if(0===N){w+=4;continue}}w+=x?1:2}return-1}return function(l,u){let f=l.indexOf(4);if(f>-1)for(f++;f<l.length;){const v=l[f];if("number"==typeof v)return-1;if(v===u)return f;f++}return-1}(u,l)}function ag(l,u,f=!1){for(let v=0;v<u.length;v++)if(Kh(l,u[v],f))return!0;return!1}function lm(l,u){e:for(let f=0;f<u.length;f++){const v=u[f];if(l.length===v.length){for(let w=0;w<l.length;w++)if(l[w]!==v[w])continue e;return!0}}return!1}function cm(l,u){return l?":not("+u.trim()+")":u}function lg(l){let u=l[0],f=1,v=2,w="",x=!1;for(;f<l.length;){let N=l[f];if("string"==typeof N)if(2&v){const q=l[++f];w+="["+N+(q.length>0?'="'+q+'"':"")+"]"}else 8&v?w+="."+N:4&v&&(w+=" "+N);else""!==w&&!Cl(N)&&(u+=cm(x,w),w=""),v=N,x=x||!Cl(v);f++}return""!==w&&(u+=cm(x,w)),u}const dr={};function wp(l){cg(Ti(),dn(),wt()+l,wa())}function cg(l,u,f,v){if(!v)if(3==(3&u[2])){const x=l.preOrderCheckHooks;null!==x&&ws(u,x,f)}else{const x=l.preOrderHooks;null!==x&&ui(u,x,0,f)}en(f)}function Qh(l,u){return l<<17|u<<2}function Hc(l){return l>>17&32767}function Su(l){return 2|l}function kl(l){return(131068&l)>>2}function Lf(l,u){return-131069&l|u<<2}function _a(l){return 1|l}function vg(l,u){const f=l.contentQueries;if(null!==f)for(let v=0;v<f.length;v+=2){const w=f[v],x=f[v+1];if(-1!==x){const N=l.data[x];Q(w),N.contentQueries(2,u[x],x)}}}function Od(l,u,f,v,w,x,N,q,J,pe){const Ie=u.blueprint.slice();return Ie[0]=w,Ie[2]=140|v,ho(Ie),Ie[3]=Ie[15]=l,Ie[8]=f,Ie[10]=N||l&&l[10],Ie[11]=q||l&&l[11],Ie[12]=J||l&&l[12]||null,Ie[9]=pe||l&&l[9]||null,Ie[6]=x,Ie[16]=2==u.type?l[16]:Ie,Ie}function Ou(l,u,f,v,w){let x=l.data[u];if(null===x)x=function(l,u,f,v,w){const x=Ra(),N=Us(),J=l.data[u]=function(l,u,f,v,w,x){return{type:f,index:v,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:w,attrs:x,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,N?x:x&&x.parent,f,u,v,w);return null===l.firstChild&&(l.firstChild=J),null!==x&&(N?null==x.child&&null!==J.parent&&(x.child=J):null===x.next&&(x.next=J)),J}(l,u,f,v,w),ri.lFrame.inI18n&&(x.flags|=64);else if(64&x.type){x.type=f,x.value=v,x.attrs=w;const N=function(){const l=ri.lFrame,u=l.currentTNode;return l.isParent?u:u.parent}();x.injectorIndex=null===N?-1:N.injectorIndex}return Ds(x,!0),x}function Nd(l,u,f,v){if(0===f)return-1;const w=u.length;for(let x=0;x<f;x++)u.push(v),l.blueprint.push(v),l.data.push(null);return w}function rd(l,u,f){ot(u);try{const v=l.viewQuery;null!==v&&yh(1,v,f);const w=l.template;null!==w&&nf(l,u,w,1,f),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&vg(l,u),l.staticViewQueries&&yh(2,l.viewQuery,f);const x=l.components;null!==x&&function(l,u){for(let f=0;f<u.length;f++)Al(l,u[f])}(u,x)}catch(v){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),v}finally{u[2]&=-5,wn()}}function od(l,u,f,v){const w=u[2];if(256==(256&w))return;ot(u);const x=wa();try{ho(u),function(l){ri.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==f&&nf(l,u,f,2,v);const N=3==(3&w);if(!x)if(N){const pe=l.preOrderCheckHooks;null!==pe&&ws(u,pe,null)}else{const pe=l.preOrderHooks;null!==pe&&ui(u,pe,0,null),Cs(u,0)}if(function(l){for(let u=gp(l);null!==u;u=uh(u)){if(!u[2])continue;const f=u[9];for(let v=0;v<f.length;v++){const w=f[v],x=w[3];0==(1024&w[2])&&ys(x,1),w[2]|=1024}}}(u),function(l){for(let u=gp(l);null!==u;u=uh(u))for(let f=10;f<u.length;f++){const v=u[f],w=v[1];yr(v)&&od(w,v,w.template,v[8])}}(u),null!==l.contentQueries&&vg(l,u),!x)if(N){const pe=l.contentCheckHooks;null!==pe&&ws(u,pe)}else{const pe=l.contentHooks;null!==pe&&ui(u,pe,1),Cs(u,1)}!function(l,u){const f=l.hostBindingOpCodes;if(null!==f)try{for(let v=0;v<f.length;v++){const w=f[v];if(w<0)en(~w);else{const x=w,N=f[++v],q=f[++v];fl(N,x),q(2,u[x])}}}finally{en(-1)}}(l,u);const q=l.components;null!==q&&function(l,u){for(let f=0;f<u.length;f++)vm(l,u[f])}(u,q);const J=l.viewQuery;if(null!==J&&yh(2,J,v),!x)if(N){const pe=l.viewCheckHooks;null!==pe&&ws(u,pe)}else{const pe=l.viewHooks;null!==pe&&ui(u,pe,2),Cs(u,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),x||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,ys(u[3],-1))}finally{wn()}}function hm(l,u,f,v){const w=u[10],x=!wa(),N=Fi(u);try{x&&!N&&w.begin&&w.begin(),N&&rd(l,u,v),od(l,u,f,v)}finally{x&&!N&&w.end&&w.end()}}function nf(l,u,f,v,w){const x=wt(),N=2&v;try{en(-1),N&&u.length>20&&cg(l,u,20,wa()),f(v,w)}finally{en(x)}}function _h(l,u,f){if(co(u)){const w=u.directiveEnd;for(let x=u.directiveStart;x<w;x++){const N=l.data[x];N.contentQueries&&N.contentQueries(1,f[x],x)}}}function rf(l,u,f){!ql()||(function(l,u,f,v){const w=f.directiveStart,x=f.directiveEnd;l.firstCreatePass||Ir(f,u),Is(v,u);const N=f.initialInputs;for(let q=w;q<x;q++){const J=l.data[q],pe=Ur(J);pe&&fu(u,f,J);const Ie=Sn(u,l,q,f);Is(Ie,u),null!==N&&ks(0,q-w,Ie,J,0,N),pe&&(li(f.index,u)[8]=Ie)}}(l,u,f,xt(f,u)),128==(128&f.flags)&&function(l,u,f){const v=f.directiveStart,w=f.directiveEnd,N=f.index,q=ri.lFrame.currentDirectiveIndex;try{en(N);for(let J=v;J<w;J++){const pe=l.data[J],Ie=u[J];me(J),(null!==pe.hostBindings||0!==pe.hostVars||null!==pe.hostAttrs)&&xg(pe,Ie)}}finally{en(-1),me(q)}}(l,u,f))}function yg(l,u,f=xt){const v=u.localNames;if(null!==v){let w=u.index+1;for(let x=0;x<v.length;x+=2){const N=v[x+1],q=-1===N?f(u,l):l[N];l[w++]=q}}}function Vf(l){const u=l.tView;return null===u||u.incompleteFirstPass?l.tView=Uf(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):u}function Uf(l,u,f,v,w,x,N,q,J,pe){const Ie=20+v,Je=Ie+w,Ct=function(l,u){const f=[];for(let v=0;v<u;v++)f.push(v<l?null:dr);return f}(Ie,Je),zt="function"==typeof pe?pe():pe;return Ct[1]={type:l,blueprint:Ct,template:f,queries:null,viewQuery:q,declTNode:u,data:Ct.slice().fill(null,Ie),bindingStartIndex:Ie,expandoStartIndex:Je,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof x?x():x,pipeRegistry:"function"==typeof N?N():N,firstChild:null,schemas:J,consts:zt,incompleteFirstPass:!1}}function Ap(l,u,f,v){const w=Ns(u);null===f?w.push(v):(w.push(f),l.firstCreatePass&&wh(l).push(v,w.length-1))}function pm(l,u,f){for(let v in l)if(l.hasOwnProperty(v)){const w=l[v];(f=null===f?{}:f).hasOwnProperty(v)?f[v].push(u,w):f[v]=[u,w]}return f}function yc(l,u,f,v,w,x,N,q){const J=xt(u,f);let Ie,pe=u.inputs;!q&&null!=pe&&(Ie=pe[v])?(Ld(l,f,Ie,v,w),vr(u)&&function(l,u){const f=li(u,l);16&f[2]||(f[2]|=64)}(f,u.index)):3&u.type&&(v=function(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(v),w=null!=N?N(w,u.value||"",v):w,W(x)?x.setProperty(J,v,w):is(v)||(J.setProperty?J.setProperty(v,w):J[v]=w))}function sf(l,u,f,v){let w=!1;if(ql()){const x=function(l,u,f){const v=l.directiveRegistry;let w=null;if(v)for(let x=0;x<v.length;x++){const N=v[x];ag(f,N.selectors,!1)&&(w||(w=[]),H(Ir(f,u),l,N.type),Ur(N)?(hu(l,f),w.unshift(N)):w.push(N))}return w}(l,u,f),N=null===v?null:{"":-1};if(null!==x){w=!0,sd(f,l.data.length,x.length);for(let Ie=0;Ie<x.length;Ie++){const Je=x[Ie];Je.providersResolver&&Je.providersResolver(Je)}let q=!1,J=!1,pe=Nd(l,u,x.length,null);for(let Ie=0;Ie<x.length;Ie++){const Je=x[Ie];f.mergedAttrs=rs(f.mergedAttrs,Je.hostAttrs),Hf(l,f,u,pe,Je),bm(pe,Je,N),null!==Je.contentQueries&&(f.flags|=8),(null!==Je.hostBindings||null!==Je.hostAttrs||0!==Je.hostVars)&&(f.flags|=128);const Ct=Je.type.prototype;!q&&(Ct.ngOnChanges||Ct.ngOnInit||Ct.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(f.index),q=!0),!J&&(Ct.ngOnChanges||Ct.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(f.index),J=!0),pe++}!function(l,u){const v=u.directiveEnd,w=l.data,x=u.attrs,N=[];let q=null,J=null;for(let pe=u.directiveStart;pe<v;pe++){const Ie=w[pe],Je=Ie.inputs,Ct=null===x||og(u)?null:Zs(Je,x);N.push(Ct),q=pm(Je,pe,q),J=pm(Ie.outputs,pe,J)}null!==q&&(q.hasOwnProperty("class")&&(u.flags|=16),q.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=N,u.inputs=q,u.outputs=J}(l,f)}N&&function(l,u,f){if(u){const v=l.localNames=[];for(let w=0;w<u.length;w+=2){const x=f[u[w+1]];if(null==x)throw new de("301",`Export of name '${u[w+1]}' not found!`);v.push(u[w],x)}}}(f,v,N)}return f.mergedAttrs=rs(f.mergedAttrs,f.attrs),w}function rl(l,u,f,v,w,x){const N=x.hostBindings;if(N){let q=l.hostBindingOpCodes;null===q&&(q=l.hostBindingOpCodes=[]);const J=~u.index;(function(l){let u=l.length;for(;u>0;){const f=l[--u];if("number"==typeof f&&f<0)return f}return 0})(q)!=J&&q.push(J),q.push(v,w,N)}}function xg(l,u){null!==l.hostBindings&&l.hostBindings(1,u)}function hu(l,u){u.flags|=2,(l.components||(l.components=[])).push(u.index)}function bm(l,u,f){if(f){if(u.exportAs)for(let v=0;v<u.exportAs.length;v++)f[u.exportAs[v]]=l;Ur(u)&&(f[""]=l)}}function sd(l,u,f){l.flags|=1,l.directiveStart=u,l.directiveEnd=u+f,l.providerIndexes=u}function Hf(l,u,f,v,w){l.data[v]=w;const x=w.factory||(w.factory=zs(w.type)),N=new pa(x,Ur(w),null);l.blueprint[v]=N,f[v]=N,rl(l,u,0,v,Nd(l,f,w.hostVars,dr),w)}function fu(l,u,f){const v=xt(u,l),w=Vf(f),x=l[10],N=pu(l,Od(l,w,null,f.onPush?64:16,v,u,x,x.createRenderer(v,f),null,null));l[u.index]=N}function wc(l,u,f,v,w,x){const N=xt(l,u);!function(l,u,f,v,w,x,N){if(null==x)W(l)?l.removeAttribute(u,w,f):u.removeAttribute(w);else{const q=null==N?dt(x):N(x,v||"",w);W(l)?l.setAttribute(u,w,q,f):f?u.setAttributeNS(f,w,q):u.setAttribute(w,q)}}(u[11],N,x,l.value,f,v,w)}function ks(l,u,f,v,w,x){const N=x[u];if(null!==N){const q=v.setInput;for(let J=0;J<N.length;){const pe=N[J++],Ie=N[J++],Je=N[J++];null!==q?v.setInput(f,Je,pe,Ie):f[Ie]=Je}}}function Zs(l,u){let f=null,v=0;for(;v<u.length;){const w=u[v];if(0!==w)if(5!==w){if("number"==typeof w)break;l.hasOwnProperty(w)&&(null===f&&(f=[]),f.push(w,l[w],u[v+1])),v+=2}else v+=2;else v+=4}return f}function jr(l,u,f,v){return new Array(l,!0,!1,u,null,0,v,f,null,null)}function vm(l,u){const f=li(u,l);if(yr(f)){const v=f[1];80&f[2]?od(v,f,v.template,f[8]):f[5]>0&&qf(f)}}function qf(l){for(let v=gp(l);null!==v;v=uh(v))for(let w=10;w<v.length;w++){const x=v[w];if(1024&x[2]){const N=x[1];od(N,x,N.template,x[8])}else x[5]>0&&qf(x)}const f=l[1].components;if(null!==f)for(let v=0;v<f.length;v++){const w=li(f[v],l);yr(w)&&w[5]>0&&qf(w)}}function Al(l,u){const f=li(u,l),v=f[1];(function(l,u){for(let f=u.length;f<l.blueprint.length;f++)u.push(l.blueprint[f])})(v,f),rd(v,f,f[8])}function pu(l,u){return l[13]?l[14][4]=u:l[13]=u,l[14]=u,u}function vh(l){for(;l;){l[2]|=64;const u=jc(l);if(bs(l)&&!u)return l;l=u}return null}function Ys(l,u,f){const v=u[10];v.begin&&v.begin();try{od(l,u,l.template,f)}catch(w){throw or(u,w),w}finally{v.end&&v.end()}}function xl(l){!function(l){for(let u=0;u<l.components.length;u++){const f=l.components[u],v=Hh(f),w=v[1];hm(w,v,w.template,f)}}(l[8])}function yh(l,u,f){Q(0),u(l,f)}const $f=(()=>Promise.resolve(null))();function Ns(l){return l[7]||(l[7]=[])}function wh(l){return l.cleanup||(l.cleanup=[])}function or(l,u){const f=l[9],v=f?f.get(Ad,null):null;v&&v.handleError(u)}function Ld(l,u,f,v,w){for(let x=0;x<f.length;){const N=f[x++],q=f[x++],J=u[N],pe=l.data[N];null!==pe.setInput?pe.setInput(J,w,v,q):J[q]=w}}function ca(l,u,f){const v=Ce(u,l);!function(l,u,f){W(l)?l.setValue(u,f):u.textContent=f}(l[11],v,f)}function lf(l,u,f){let v=f?l.styles:null,w=f?l.classes:null,x=0;if(null!==u)for(let N=0;N<u.length;N++){const q=u[N];"number"==typeof q?x=q:1==x?w=we(w,q):2==x&&(v=we(v,q+": "+u[++N]+";"))}f?l.styles=v:l.stylesWithoutHost=v,f?l.classes=w:l.classesWithoutHost=w}const Po=new no("INJECTOR",-1);class Ch{get(u,f=ml){if(f===ml){const v=new Error(`NullInjectorError: No provider for ${Te(u)}!`);throw v.name="NullInjectorError",v}return f}}const Dg=new no("Set Injector scope."),Bd={},ym={};let Tg;function Wf(){return void 0===Tg&&(Tg=new Ch),Tg}function Pp(l,u=null,f=null,v){const w=Op(l,u,f,v);return w._resolveInjectorDefTypes(),w}function Op(l,u=null,f=null,v){return new wm(l,f,u||Wf(),v)}class wm{constructor(u,f,v,w=null){this.parent=v,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const x=[];f&&Ts(f,q=>this.processProvider(q,u,f)),Ts([u],q=>this.processInjectorType(q,[],x)),this.records.set(Po,qc(void 0,this));const N=this.records.get(Dg);this.scope=null!=N?N.value:null,this.source=w||("object"==typeof u?null:Te(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,f=ml,v=Rn.Default){this.assertNotDestroyed();const w=Cu(this),x=oo(void 0);try{if(!(v&Rn.SkipSelf)){let q=this.records.get(u);if(void 0===q){const J=("function"==typeof(l=u)||"object"==typeof l&&l instanceof no)&&Nn(u);q=J&&this.injectableDefInScope(J)?qc(cf(u),Bd):null,this.records.set(u,q)}if(null!=q)return this.hydrate(u,q)}return(v&Rn.Self?Wf():this.parent).get(u,f=v&Rn.Optional&&f===ml?null:f)}catch(N){if("NullInjectorError"===N.name){if((N[_l]=N[_l]||[]).unshift(Te(u)),w)throw N;return function(l,u,f,v){const w=l[_l];throw u[Hu]&&w.unshift(u[Hu]),l.message=function(l,u,f,v=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let w=Te(u);if(Array.isArray(u))w=u.map(Te).join(" -> ");else if("object"==typeof u){let x=[];for(let N in u)if(u.hasOwnProperty(N)){let q=u[N];x.push(N+":"+("string"==typeof q?JSON.stringify(q):Te(q)))}w=`{${x.join(", ")}}`}return`${f}${v?"("+v+")":""}[${w}]: ${l.replace(Rh,"\n  ")}`}("\n"+l.message,w,f,v),l.ngTokenPath=w,l[_l]=null,l}(N,u,"R3InjectorError",this.source)}throw N}finally{oo(x),Cu(w)}var l}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((v,w)=>u.push(Te(w))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(u,f,v){if(!(u=Se(u)))return!1;let w=ai(u);const x=null==w&&u.ngModule||void 0,N=void 0===x?u:x,q=-1!==v.indexOf(N);if(void 0!==x&&(w=ai(x)),null==w)return!1;if(null!=w.imports&&!q){let Ie;v.push(N);try{Ts(w.imports,Je=>{this.processInjectorType(Je,f,v)&&(void 0===Ie&&(Ie=[]),Ie.push(Je))})}finally{}if(void 0!==Ie)for(let Je=0;Je<Ie.length;Je++){const{ngModule:Ct,providers:zt}=Ie[Je];Ts(zt,an=>this.processProvider(an,Ct,zt||sn))}}this.injectorDefTypes.add(N);const J=zs(N)||(()=>new N);this.records.set(N,qc(J,Bd));const pe=w.providers;if(null!=pe&&!q){const Ie=u;Ts(pe,Je=>this.processProvider(Je,Ie,pe))}return void 0!==x&&void 0!==u.providers}processProvider(u,f,v){let w=Ac(u=Se(u))?u:Se(u&&u.provide);const x=(l=u,kc(l)?qc(void 0,l.useValue):qc(Sg(l),Bd));var l;if(Ac(u)||!0!==u.multi)this.records.get(w);else{let N=this.records.get(w);N||(N=qc(void 0,Bd,!0),N.factory=()=>$s(N.multi),this.records.set(w,N)),w=u,N.multi.push(u)}this.records.set(w,x)}hydrate(u,f){return f.value===Bd&&(f.value=ym,f.value=f.factory()),"object"==typeof f.value&&f.value&&null!==(l=f.value)&&"object"==typeof l&&"function"==typeof l.ngOnDestroy&&this.onDestroy.add(f.value),f.value;var l}injectableDefInScope(u){if(!u.providedIn)return!1;const f=Se(u.providedIn);return"string"==typeof f?"any"===f||f===this.scope:this.injectorDefTypes.has(f)}}function cf(l){const u=Nn(l),f=null!==u?u.factory:zs(l);if(null!==f)return f;if(l instanceof no)throw new Error(`Token ${Te(l)} is missing a \u0275prov definition.`);if(l instanceof Function)return function(l){const u=l.length;if(u>0){const v=Qc(u,"?");throw new Error(`Can't resolve all parameters for ${Te(l)}: (${v.join(", ")}).`)}const f=function(l){const u=l&&(l[fi]||l[Ei]);if(u){const f=function(l){if(l.hasOwnProperty("name"))return l.name;const u=(""+l).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${f}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${f}" class.`),u}return null}(l);return null!==f?()=>f.factory(l):()=>new l}(l);throw new Error("unreachable")}function Sg(l,u,f){let v;if(Ac(l)){const w=Se(l);return zs(w)||cf(w)}if(kc(l))v=()=>Se(l.useValue);else if(function(l){return!(!l||!l.useFactory)}(l))v=()=>l.useFactory(...$s(l.deps||[]));else if(function(l){return!(!l||!l.useExisting)}(l))v=()=>Gs(Se(l.useExisting));else{const w=Se(l&&(l.useClass||l.provide));if(!function(l){return!!l.deps}(l))return zs(w)||cf(w);v=()=>new w(...$s(l.deps))}return v}function qc(l,u,f=!1){return{factory:l,value:u,multi:f?[]:void 0}}function kc(l){return null!==l&&"object"==typeof l&&qu in l}function Ac(l){return"function"==typeof l}let Gc=(()=>{class l{static create(f,v){var w;if(Array.isArray(f))return Pp({name:""},v,f,"");{const x=null!=(w=f.name)?w:"";return Pp({name:x},f.parent,f.providers,x)}}}return l.THROW_IF_NOT_FOUND=ml,l.NULL=new Ch,l.\u0275prov=Dn({token:l,providedIn:"any",factory:()=>Gs(Po)}),l.__NG_ELEMENT_ID__=-1,l})();function Lg(l,u){eo(Hh(l)[1],Co())}function Rp(l){let u=function(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),f=!0;const v=[l];for(;u;){let w;if(Ur(l))w=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Error("Directives cannot inherit Components");w=u.\u0275dir}if(w){if(f){v.push(w);const N=l;N.inputs=uf(l.inputs),N.declaredInputs=uf(l.declaredInputs),N.outputs=uf(l.outputs);const q=w.hostBindings;q&&Qf(l,q);const J=w.viewQuery,pe=w.contentQueries;if(J&&Bg(l,J),pe&&jg(l,pe),_e(l.inputs,w.inputs),_e(l.declaredInputs,w.declaredInputs),_e(l.outputs,w.outputs),Ur(w)&&w.data.animation){const Ie=l.data;Ie.animation=(Ie.animation||[]).concat(w.data.animation)}}const x=w.features;if(x)for(let N=0;N<x.length;N++){const q=x[N];q&&q.ngInherit&&q(l),q===Rp&&(f=!1)}}u=Object.getPrototypeOf(u)}!function(l){let u=0,f=null;for(let v=l.length-1;v>=0;v--){const w=l[v];w.hostVars=u+=w.hostVars,w.hostAttrs=rs(w.hostAttrs,f=rs(f,w.hostAttrs))}}(v)}function uf(l){return l===Tt?{}:l===sn?[]:l}function Bg(l,u){const f=l.viewQuery;l.viewQuery=f?(v,w)=>{u(v,w),f(v,w)}:u}function jg(l,u){const f=l.contentQueries;l.contentQueries=f?(v,w,x)=>{u(v,w,x),f(v,w,x)}:u}function Qf(l,u){const f=l.hostBindings;l.hostBindings=f?(v,w)=>{u(v,w),f(v,w)}:u}let Fp=null;function Lu(){if(!Fp){const l=nt.Symbol;if(l&&l.iterator)Fp=l.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let f=0;f<u.length;++f){const v=u[f];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(Fp=v)}}}return Fp}function Ml(l){return!!Vg(l)&&(Array.isArray(l)||!(l instanceof Map)&&Lu()in l)}function Vg(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Wc(l,u,f){return l[u]=f}function Rs(l,u,f){return!Object.is(l[u],f)&&(l[u]=f,!0)}function Ug(l,u,f,v){const w=dn();return Rs(w,fa(),u)&&(Ti(),wc(gn(),w,l,u,f,v)),Ug}function qd(l,u,f,v){return Rs(l,fa(),f)?u+dt(f)+v:dr}function dd(l,u,f,v,w,x,N,q){const J=dn(),pe=Ti(),Ie=l+20,Je=pe.firstCreatePass?function(l,u,f,v,w,x,N,q,J){const pe=u.consts,Ie=Ou(u,l,4,N||null,Sr(pe,q));sf(u,f,Ie,Sr(pe,J)),eo(u,Ie);const Je=Ie.tViews=Uf(2,Ie,v,w,x,u.directiveRegistry,u.pipeRegistry,null,u.schemas,pe);return null!==u.queries&&(u.queries.template(u,Ie),Je.queries=u.queries.embeddedTView(Ie)),Ie}(Ie,pe,J,u,f,v,w,x,N):pe.data[Ie];Ds(Je,!1);const Ct=J[11].createComment("");Of(pe,J,Ct,Je),Is(Ct,J),pu(J,J[Ie]=jr(Ct,J,Ct,Je)),Go(Je)&&rf(pe,J,Je),null!=N&&yg(J,Je,q)}function Bp(l){return ni(ri.lFrame.contextLView,20+l)}function Cr(l,u=Rn.Default){const f=dn();return null===f?Gs(l,u):ae(Co(),f,Se(l),u)}function Ul(){throw new Error("invalid")}function s(l,u,f){const v=dn();return Rs(v,fa(),u)&&yc(Ti(),gn(),v,l,u,v[11],f,!1),s}function i(l,u,f,v,w){const N=w?"class":"style";Ld(l,f,u.inputs[N],N,v)}function p(l,u,f,v){const w=dn(),x=Ti(),N=20+l,q=w[11],J=w[N]=$h(q,u,ri.lFrame.currentNamespace),pe=x.firstCreatePass?function(l,u,f,v,w,x,N){const q=u.consts,pe=Ou(u,l,2,w,Sr(q,x));return sf(u,f,pe,Sr(q,N)),null!==pe.attrs&&lf(pe,pe.attrs,!1),null!==pe.mergedAttrs&&lf(pe,pe.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,pe),pe}(N,x,w,0,u,f,v):x.data[N];Ds(pe,!0);const Ie=pe.mergedAttrs;null!==Ie&&Yo(q,J,Ie);const Je=pe.classes;null!==Je&&vp(q,J,Je);const Ct=pe.styles;null!==Ct&&am(q,J,Ct),64!=(64&pe.flags)&&Of(x,w,J,pe),0===ri.lFrame.elementDepthCount&&Is(J,w),ri.lFrame.elementDepthCount++,Go(pe)&&(rf(x,w,pe),_h(x,pe,w)),null!==v&&yg(w,pe)}function b(){let l=Co();Us()?dl():(l=l.parent,Ds(l,!1));const u=l;ri.lFrame.elementDepthCount--;const f=Ti();f.firstCreatePass&&(eo(f,l),co(l)&&f.queries.elementEnd(l)),null!=u.classesWithoutHost&&function(l){return 0!=(16&l.flags)}(u)&&i(f,u,dn(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function(l){return 0!=(32&l.flags)}(u)&&i(f,u,dn(),u.stylesWithoutHost,!1)}function A(l,u,f,v){p(l,u,f,v),b()}function oe(l,u,f){const v=dn(),w=Ti(),x=l+20,N=w.firstCreatePass?function(l,u,f,v,w){const x=u.consts,N=Sr(x,v),q=Ou(u,l,8,"ng-container",N);return null!==N&&lf(q,N,!0),sf(u,f,q,Sr(x,w)),null!==u.queries&&u.queries.elementStart(u,q),q}(x,w,v,u,f):w.data[x];Ds(N,!0);const q=v[x]=v[11].createComment("");Of(w,v,q,N),Is(q,v),Go(N)&&(rf(w,v,N),_h(w,N,v)),null!=f&&yg(v,N)}function Ee(){let l=Co();const u=Ti();Us()?dl():(l=l.parent,Ds(l,!1)),u.firstCreatePass&&(eo(u,l),co(l)&&u.queries.elementEnd(l))}function rt(){return dn()}function pt(l){return!!l&&"function"==typeof l.then}function Bt(l){return!!l&&"function"==typeof l.subscribe}const Ut=Bt;function Yt(l,u,f,v){const w=dn(),x=Ti(),N=Co();return function(l,u,f,v,w,x,N,q){const J=Go(v),Ie=l.firstCreatePass&&wh(l),Je=u[8],Ct=Ns(u);let zt=!0;if(3&v.type||q){const Kn=xt(v,u),yi=q?q(Kn):Kn,yn=Ct.length,Wi=q?Ao=>q(z(Ao[v.index])):v.index;if(W(f)){let Ao=null;if(!q&&J&&(Ao=function(l,u,f,v){const w=l.cleanup;if(null!=w)for(let x=0;x<w.length-1;x+=2){const N=w[x];if(N===f&&w[x+1]===v){const q=u[7],J=w[x+2];return q.length>J?q[J]:null}"string"==typeof N&&(x+=2)}return null}(l,u,w,v.index)),null!==Ao)(Ao.__ngLastListenerFn__||Ao).__ngNextListenerFn__=x,Ao.__ngLastListenerFn__=x,zt=!1;else{x=Pr(v,u,Je,x,!1);const Fs=f.listen(yi,w,x);Ct.push(x,Fs),Ie&&Ie.push(w,Wi,yn,yn+1)}}else x=Pr(v,u,Je,x,!0),yi.addEventListener(w,x,N),Ct.push(x),Ie&&Ie.push(w,Wi,yn,N)}else x=Pr(v,u,Je,x,!1);const an=v.outputs;let On;if(zt&&null!==an&&(On=an[w])){const Kn=On.length;if(Kn)for(let yi=0;yi<Kn;yi+=2){const Oh=u[On[yi]][On[yi+1]].subscribe(x),M_=Ct.length;Ct.push(x,Oh),Ie&&Ie.push(w,v.index,M_,-(M_+1))}}}(x,w,w[11],N,l,u,!!f,v),Yt}function Ii(l,u,f,v){try{return!1!==f(v)}catch(w){return or(l,w),!1}}function Pr(l,u,f,v,w){return function x(N){if(N===Function)return v;const q=2&l.flags?li(l.index,u):u;0==(32&u[2])&&vh(q);let J=Ii(u,0,v,N),pe=x.__ngNextListenerFn__;for(;pe;)J=Ii(u,0,pe,N)&&J,pe=pe.__ngNextListenerFn__;return w&&!1===J&&(N.preventDefault(),N.returnValue=!1),J}}function bo(l=1){return function(l){return(ri.lFrame.contextLView=function(l,u){for(;l>0;)u=u[15],l--;return u}(l,ri.lFrame.contextLView))[8]}(l)}function ms(l,u){let f=null;const v=function(l){const u=l.attrs;if(null!=u){const f=u.indexOf(5);if(0==(1&f))return u[f+1]}return null}(l);for(let w=0;w<u.length;w++){const x=u[w];if("*"!==x){if(null===v?ag(l,x,!0):lm(v,x))return w}else f=w}return f}function al(l){const u=dn()[16][6];if(!u.projection){const v=u.projection=Qc(l?l.length:1,null),w=v.slice();let x=u.child;for(;null!==x;){const N=l?ms(x,l):0;null!==N&&(w[N]?w[N].projectionNext=x:v[N]=x,w[N]=x),x=x.next}}}function Nm(l,u=0,f){const v=dn(),w=Ti(),x=Ou(w,20+l,16,null,f||null);null===x.projection&&(x.projection=u),dl(),64!=(64&x.flags)&&function(l,u,f){ig(u[11],0,u,f,_p(l,f,u),tg(f.parent||u[6],f,u))}(w,v,x)}function ip(l,u,f){return Wg(l,"",u,"",f),ip}function Wg(l,u,f,v,w){const x=dn(),N=qd(x,u,f,v);return N!==dr&&yc(Ti(),gn(),x,l,N,x[11],w,!1),Wg}function Fv(l,u,f,v,w){const x=l[f+1],N=null===u;let q=v?Hc(x):kl(x),J=!1;for(;0!==q&&(!1===J||N);){const Ie=l[q+1];zw(l[q],u)&&(J=!0,l[q+1]=v?_a(Ie):Su(Ie)),q=v?Hc(Ie):kl(Ie)}J&&(l[f+1]=v?Su(x):_a(x))}function zw(l,u){return null===l||null==u||(Array.isArray(l)?l[1]:l)===u||!(!Array.isArray(l)||"string"!=typeof u)&&md(l,u)>=0}const Hl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ub(l){return l.substring(Hl.key,Hl.keyEnd)}function Lv(l,u){const f=Hl.textEnd;return f===u?-1:(u=Hl.keyEnd=function(l,u,f){for(;u<f&&l.charCodeAt(u)>32;)u++;return u}(l,Hl.key=u,f),Zg(l,u,f))}function Zg(l,u,f){for(;u<f&&l.charCodeAt(u)<=32;)u++;return u}function fb(l,u,f){return Yc(l,u,f,!1),fb}function I_(l,u){return Yc(l,u,null,!0),I_}function Vv(l){Zd(os,Ec,l,!0)}function Ec(l,u){for(let f=function(l){return function(l){Hl.key=0,Hl.keyEnd=0,Hl.value=0,Hl.valueEnd=0,Hl.textEnd=l.length}(l),Lv(l,Zg(l,0,Hl.textEnd))}(u);f>=0;f=Lv(u,f))os(l,ub(u),!0)}function Yc(l,u,f,v){const w=dn(),x=Ti(),N=wr(2);x.firstUpdatePass&&pb(x,l,N,v),u!==dr&&Rs(w,N,u)&&u_(x,x.data[wt()],w,w[11],l,w[N+1]=function(l,u){return null==l||("string"==typeof u?l+=u:"object"==typeof l&&(l=Te(Da(l)))),l}(u,f),v,N)}function Zd(l,u,f,v){const w=Ti(),x=wr(2);w.firstUpdatePass&&pb(w,null,x,v);const N=dn();if(f!==dr&&Rs(N,x,f)){const q=w.data[wt()];if(bb(q,v)&&!l_(w,x)){let J=v?q.classesWithoutHost:q.stylesWithoutHost;null!==J&&(f=we(J,f||"")),i(w,q,N,f,v)}else!function(l,u,f,v,w,x,N,q){w===dr&&(w=sn);let J=0,pe=0,Ie=0<w.length?w[0]:null,Je=0<x.length?x[0]:null;for(;null!==Ie||null!==Je;){const Ct=J<w.length?w[J+1]:void 0,zt=pe<x.length?x[pe+1]:void 0;let On,an=null;Ie===Je?(J+=2,pe+=2,Ct!==zt&&(an=Je,On=zt)):null===Je||null!==Ie&&Ie<Je?(J+=2,an=Ie):(pe+=2,an=Je,On=zt),null!==an&&u_(l,u,f,v,an,On,N,q),Ie=J<w.length?w[J]:null,Je=pe<x.length?x[pe]:null}}(w,q,N,N[11],N[x+1],N[x+1]=function(l,u,f){if(null==f||""===f)return sn;const v=[],w=Da(f);if(Array.isArray(w))for(let x=0;x<w.length;x++)l(v,w[x],!0);else if("object"==typeof w)for(const x in w)w.hasOwnProperty(x)&&l(v,x,w[x]);else"string"==typeof w&&u(v,w);return v}(l,u,f),v,x)}}function l_(l,u){return u>=l.expandoStartIndex}function pb(l,u,f,v){const w=l.data;if(null===w[f+1]){const x=w[wt()],N=l_(l,f);bb(x,v)&&null===u&&!N&&(u=!1),u=function(l,u,f,v){const w=I(l);let x=v?u.residualClasses:u.residualStyles;if(null===w)0===(v?u.classBindings:u.styleBindings)&&(f=c_(f=qp(null,l,u,f,v),u.attrs,v),x=null);else{const N=u.directiveStylingLast;if(-1===N||l[N]!==w)if(f=qp(w,l,u,f,v),null===x){let J=function(l,u,f){const v=f?u.classBindings:u.styleBindings;if(0!==kl(v))return l[Hc(v)]}(l,u,v);void 0!==J&&Array.isArray(J)&&(J=qp(null,l,u,J[1],v),J=c_(J,u.attrs,v),function(l,u,f,v){l[Hc(f?u.classBindings:u.styleBindings)]=v}(l,u,v,J))}else x=function(l,u,f){let v;const w=u.directiveEnd;for(let x=1+u.directiveStylingLast;x<w;x++)v=c_(v,l[x].hostAttrs,f);return c_(v,u.attrs,f)}(l,u,v)}return void 0!==x&&(v?u.residualClasses=x:u.residualStyles=x),f}(w,x,u,v),function(l,u,f,v,w,x){let N=x?u.classBindings:u.styleBindings,q=Hc(N),J=kl(N);l[v]=f;let Ie,pe=!1;if(Array.isArray(f)){const Je=f;Ie=Je[1],(null===Ie||md(Je,Ie)>0)&&(pe=!0)}else Ie=f;if(w)if(0!==J){const Ct=Hc(l[q+1]);l[v+1]=Qh(Ct,q),0!==Ct&&(l[Ct+1]=Lf(l[Ct+1],v)),l[q+1]=function(l,u){return 131071&l|u<<17}(l[q+1],v)}else l[v+1]=Qh(q,0),0!==q&&(l[q+1]=Lf(l[q+1],v)),q=v;else l[v+1]=Qh(J,0),0===q?q=v:l[J+1]=Lf(l[J+1],v),J=v;pe&&(l[v+1]=Su(l[v+1])),Fv(l,Ie,v,!0),Fv(l,Ie,v,!1),function(l,u,f,v,w){const x=w?l.residualClasses:l.residualStyles;null!=x&&"string"==typeof u&&md(x,u)>=0&&(f[v+1]=_a(f[v+1]))}(u,Ie,l,v,x),N=Qh(q,J),x?u.classBindings=N:u.styleBindings=N}(w,x,u,f,N,v)}}function qp(l,u,f,v,w){let x=null;const N=f.directiveEnd;let q=f.directiveStylingLast;for(-1===q?q=f.directiveStart:q++;q<N&&(x=u[q],v=c_(v,x.hostAttrs,w),x!==l);)q++;return null!==l&&(f.directiveStylingLast=q),v}function c_(l,u,f){const v=f?1:2;let w=-1;if(null!==u)for(let x=0;x<u.length;x++){const N=u[x];"number"==typeof N?w=N:w===v&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),os(l,N,!!f||u[++x]))}return void 0===l?null:l}function u_(l,u,f,v,w,x,N,q){if(!(3&u.type))return;const J=l.data,pe=J[q+1];d_(function(l){return 1==(1&l)}(pe)?_b(J,u,f,w,kl(pe),N):void 0)||(d_(x)||function(l){return 2==(2&l)}(pe)&&(x=_b(J,null,f,w,q,N)),function(l,u,f,v,w){const x=W(l);if(u)w?x?l.addClass(f,v):f.classList.add(v):x?l.removeClass(f,v):f.classList.remove(v);else{let N=-1===v.indexOf("-")?void 0:cn.DashCase;if(null==w)x?l.removeStyle(f,v,N):f.style.removeProperty(v);else{const q="string"==typeof w&&w.endsWith("!important");q&&(w=w.slice(0,-10),N|=cn.Important),x?l.setStyle(f,v,w,N):f.style.setProperty(v,w,q?"important":"")}}}(v,N,Ce(wt(),f),w,x))}function _b(l,u,f,v,w,x){const N=null===u;let q;for(;w>0;){const J=l[w],pe=Array.isArray(J),Ie=pe?J[1]:J,Je=null===Ie;let Ct=f[w+1];Ct===dr&&(Ct=Je?sn:void 0);let zt=Je?Cf(Ct,v):Ie===v?Ct:void 0;if(pe&&!d_(zt)&&(zt=Cf(J,v)),d_(zt)&&(q=zt,N))return q;const an=l[w+1];w=N?Hc(an):kl(an)}if(null!==u){let J=x?u.residualClasses:u.residualStyles;null!=J&&(q=Cf(J,v))}return q}function d_(l){return void 0!==l}function bb(l,u){return 0!=(l.flags&(u?16:32))}function Hv(l,u=""){const f=dn(),v=Ti(),w=l+20,x=v.firstCreatePass?Ou(v,w,1,u,null):v.data[w],N=f[w]=function(l,u){return W(l)?l.createText(u):l.createTextNode(u)}(f[11],u);Of(v,f,N,x),Ds(x,!1)}function vb(l){return P_("",l,""),vb}function P_(l,u,f){const v=dn(),w=qd(v,l,u,f);return w!==dr&&ca(v,wt(),w),P_}function Zv(l,u,f){Zd(os,Ec,qd(dn(),l,u,f),!0)}function R_(l,u,f){const v=dn();if(Rs(v,fa(),u)){const x=Ti(),N=gn();yc(x,N,v,l,u,function(l,u,f){return(null===l||Ur(l))&&(f=function(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(f[u.index])),f[11]}(I(x.data),N,v),f,!0)}return R_}const Yg=void 0;var a0=["en",[["a","p"],["AM","PM"],Yg],[["AM","PM"],Yg,Yg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yg,"{1} 'at' {0}",Yg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(l){const f=Math.floor(Math.abs(l)),v=l.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===v?1:5}];let Kg={};function Db(l){const u=function(l){return l.toLowerCase().replace(/_/g,"-")}(l);let f=Tb(u);if(f)return f;const v=u.split("-")[0];if(f=Tb(v),f)return f;if("en"===v)return a0;throw new Error(`Missing locale data for the locale "${l}".`)}function oy(l){return Db(l)[Vi.PluralCase]}function Tb(l){return l in Kg||(Kg[l]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[l]),Kg[l]}var Vi=(()=>((Vi=Vi||{})[Vi.LocaleId=0]="LocaleId",Vi[Vi.DayPeriodsFormat=1]="DayPeriodsFormat",Vi[Vi.DayPeriodsStandalone=2]="DayPeriodsStandalone",Vi[Vi.DaysFormat=3]="DaysFormat",Vi[Vi.DaysStandalone=4]="DaysStandalone",Vi[Vi.MonthsFormat=5]="MonthsFormat",Vi[Vi.MonthsStandalone=6]="MonthsStandalone",Vi[Vi.Eras=7]="Eras",Vi[Vi.FirstDayOfWeek=8]="FirstDayOfWeek",Vi[Vi.WeekendRange=9]="WeekendRange",Vi[Vi.DateFormat=10]="DateFormat",Vi[Vi.TimeFormat=11]="TimeFormat",Vi[Vi.DateTimeFormat=12]="DateTimeFormat",Vi[Vi.NumberSymbols=13]="NumberSymbols",Vi[Vi.NumberFormats=14]="NumberFormats",Vi[Vi.CurrencyCode=15]="CurrencyCode",Vi[Vi.CurrencySymbol=16]="CurrencySymbol",Vi[Vi.CurrencyName=17]="CurrencyName",Vi[Vi.Currencies=18]="Currencies",Vi[Vi.Directionality=19]="Directionality",Vi[Vi.PluralCase=20]="PluralCase",Vi[Vi.ExtraData=21]="ExtraData",Vi))();const f_="en-US";let ay=f_;function $b(l,u,f,v,w){if(l=Se(l),Array.isArray(l))for(let x=0;x<l.length;x++)$b(l[x],u,f,v,w);else{const x=Ti(),N=dn();let q=Ac(l)?l:Se(l.provide),J=Sg(l);const pe=Co(),Ie=1048575&pe.providerIndexes,Je=pe.directiveStart,Ct=pe.providerIndexes>>20;if(Ac(l)||!l.multi){const zt=new pa(J,w,Cr),an=Zb(q,u,w?Ie:Ie+Ct,Je);-1===an?(H(Ir(pe,N),x,q),z_(x,l,u.length),u.push(q),pe.directiveStart++,pe.directiveEnd++,w&&(pe.providerIndexes+=1048576),f.push(zt),N.push(zt)):(f[an]=zt,N[an]=zt)}else{const zt=Zb(q,u,Ie+Ct,Je),an=Zb(q,u,Ie,Ie+Ct),On=zt>=0&&f[zt],Kn=an>=0&&f[an];if(w&&!Kn||!w&&!On){H(Ir(pe,N),x,q);const yi=function(l,u,f,v,w){const x=new pa(l,f,Cr);return x.multi=[],x.index=u,x.componentProviders=0,Wb(x,w,v&&!f),x}(w?F0:By,f.length,w,v,J);!w&&Kn&&(f[an].providerFactory=yi),z_(x,l,u.length,0),u.push(q),pe.directiveStart++,pe.directiveEnd++,w&&(pe.providerIndexes+=1048576),f.push(yi),N.push(yi)}else z_(x,l,zt>-1?zt:an,Wb(f[w?an:zt],J,!w&&v));!w&&v&&Kn&&f[an].componentProviders++}}}function z_(l,u,f,v){const w=Ac(u),x=function(l){return!!l.useClass}(u);if(w||x){const J=(x?Se(u.useClass):u).prototype.ngOnDestroy;if(J){const pe=l.destroyHooks||(l.destroyHooks=[]);if(!w&&u.multi){const Ie=pe.indexOf(f);-1===Ie?pe.push(f,[v,J]):pe[Ie+1].push(v,J)}else pe.push(f,J)}}}function Wb(l,u,f){return f&&l.componentProviders++,l.multi.push(u)-1}function Zb(l,u,f,v){for(let w=f;w<v;w++)if(u[w]===l)return w;return-1}function By(l,u,f,v){return Yb(this.multi,[])}function F0(l,u,f,v){const w=this.multi;let x;if(this.providerFactory){const N=this.providerFactory.componentProviders,q=Sn(f,f[1],this.providerFactory.index,v);x=q.slice(0,N),Yb(w,x);for(let J=N;J<q.length;J++)x.push(q[J])}else x=[],Yb(w,x);return x}function Yb(l,u){for(let f=0;f<l.length;f++)u.push((0,l[f])());return u}function Qb(l,u=[]){return f=>{f.providersResolver=(v,w)=>function(l,u,f){const v=Ti();if(v.firstCreatePass){const w=Ur(l);$b(f,v.data,v.blueprint,w,!0),$b(u,v.data,v.blueprint,w,!1)}}(v,w?w(l):l,u)}}class Xb{}class j0{resolveComponentFactory(u){throw function(l){const u=Error(`No component factory found for ${Te(l)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=l,u}(u)}}let b_=(()=>{class l{}return l.NULL=new j0,l})();function _f(){return jm(Co(),dn())}function jm(l,u){return new Xg(xt(l,u))}let Xg=(()=>{class l{constructor(f){this.nativeElement=f}}return l.__NG_ELEMENT_ID__=_f,l})();function z0(l){return l instanceof Xg?l.nativeElement:l}class ev{}let zy=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function(){const l=dn(),f=li(Co().index,l);return function(l){return l[11]}(lo(f)?f:l)}(),l})(),Hy=(()=>{class l{}return l.\u0275prov=Dn({token:l,providedIn:"root",factory:()=>null}),l})();class qy{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const tv=new qy("13.0.3"),Vu={};function v_(l,u,f,v,w=!1){for(;null!==f;){const x=u[f.index];if(null!==x&&v.push(z(x)),Ro(x))for(let q=10;q<x.length;q++){const J=x[q],pe=J[1].firstChild;null!==pe&&v_(J[1],J,pe,v)}const N=f.type;if(8&N)v_(l,u,f.child,v);else if(32&N){const q=su(f,u);let J;for(;J=q();)v.push(J)}else if(16&N){const q=Yh(u,f);if(Array.isArray(q))v.push(...q);else{const J=jc(u[16]);v_(J[1],J,q,v,!0)}}f=w?f.projectionNext:f.next}return v}class zm{constructor(u,f){this._lView=u,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,f=u[1];return v_(f,u,f.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(Ro(u)){const f=u[8],v=f?f.indexOf(this):-1;v>-1&&(Vc(u,v),Aa(f,v))}this._attachedToViewContainer=!1}Md(this._lView[1],this._lView)}onDestroy(u){Ap(this._lView[1],this._lView,null,u)}markForCheck(){vh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ys(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(l,u,f){Va(!0);try{Ys(l,u,f)}finally{Va(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var u;this._appRef=null,Id(this._lView[1],u=this._lView,u[11],2,null,null)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=u}}class Gy extends zm{constructor(u){super(u),this._view=u}detectChanges(){xl(this._view)}checkNoChanges(){!function(l){Va(!0);try{xl(l)}finally{Va(!1)}}(this._view)}get context(){return null}}class V_ extends b_{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const f=Ai(u);return new U_(f,this.ngModule)}}function $y(l){const u=[];for(let f in l)l.hasOwnProperty(f)&&u.push({propName:l[f],templateName:f});return u}const U0=new no("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>fp});class U_ extends Xb{constructor(u,f){super(),this.componentDef=u,this.ngModule=f,this.componentType=u.type,this.selector=u.selectors.map(lg).join(","),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!f}get inputs(){return $y(this.componentDef.inputs)}get outputs(){return $y(this.componentDef.outputs)}create(u,f,v,w){const x=(w=w||this.ngModule)?function(l,u){return{get:(f,v,w)=>{const x=l.get(f,Vu,w);return x!==Vu||v===Vu?x:u.get(f,v,w)}}}(u,w.injector):u,N=x.get(ev,ve),q=x.get(Hy,null),J=N.createRenderer(null,this.componentDef),pe=this.componentDef.selectors[0][0]||"div",Ie=v?function(l,u,f){if(W(l))return l.selectRootElement(u,f===Ni.ShadowDom);let v="string"==typeof u?l.querySelector(u):u;return v.textContent="",v}(J,v,this.componentDef.encapsulation):$h(N.createRenderer(null,this.componentDef),pe,function(l){const u=l.toLowerCase();return"svg"===u?"http://www.w3.org/2000/svg":"math"===u?"http://www.w3.org/1998/MathML/":null}(pe)),Je=this.componentDef.onPush?576:528,Ct=function(l,u){return{components:[],scheduler:l||fp,clean:$f,playerHandler:u||null,flags:0}}(),zt=Uf(0,null,null,1,0,null,null,null,null,null),an=Od(null,zt,Ct,Je,null,null,N,J,q,x);let On,Kn;ot(an);try{const yi=function(l,u,f,v,w,x){const N=f[1];f[20]=l;const J=Ou(N,20,2,"#host",null),pe=J.mergedAttrs=u.hostAttrs;null!==pe&&(lf(J,pe,!0),null!==l&&(Yo(w,l,pe),null!==J.classes&&vp(w,l,J.classes),null!==J.styles&&am(w,l,J.styles)));const Ie=v.createRenderer(l,u),Je=Od(f,Vf(u),null,u.onPush?64:16,f[20],J,v,Ie,x||null,null);return N.firstCreatePass&&(H(Ir(J,f),N,u.type),hu(N,J),sd(J,f.length,1)),pu(f,Je),f[20]=Je}(Ie,this.componentDef,an,N,J);if(Ie)if(v)Yo(J,Ie,["ng-version",tv.full]);else{const{attrs:yn,classes:Wi}=function(l){const u=[],f=[];let v=1,w=2;for(;v<l.length;){let x=l[v];if("string"==typeof x)2===w?""!==x&&u.push(x,l[++v]):8===w&&f.push(x);else{if(!Cl(w))break;w=x}v++}return{attrs:u,classes:f}}(this.componentDef.selectors[0]);yn&&Yo(J,Ie,yn),Wi&&Wi.length>0&&vp(J,Ie,Wi.join(" "))}if(Kn=_n(zt,20),void 0!==f){const yn=Kn.projection=[];for(let Wi=0;Wi<this.ngContentSelectors.length;Wi++){const Ao=f[Wi];yn.push(null!=Ao?Array.from(Ao):null)}}On=function(l,u,f,v,w){const x=f[1],N=function(l,u,f){const v=Co();l.firstCreatePass&&(f.providersResolver&&f.providersResolver(f),Hf(l,v,u,Nd(l,u,1,null),f));const w=Sn(u,l,v.directiveStart,v);Is(w,u);const x=xt(v,u);return x&&Is(x,u),w}(x,f,u);if(v.components.push(N),l[8]=N,w&&w.forEach(J=>J(N,u)),u.contentQueries){const J=Co();u.contentQueries(1,N,J.directiveStart)}const q=Co();return!x.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(en(q.index),rl(f[1],q,0,q.directiveStart,q.directiveEnd,u),xg(u,N)),N}(yi,this.componentDef,an,Ct,[Lg]),rd(zt,an,null)}finally{wn()}return new Wy(this.componentType,On,jm(Kn,an),an,Kn)}}class Wy extends class{}{constructor(u,f,v,w,x){super(),this.location=v,this._rootLView=w,this._tNode=x,this.instance=f,this.hostView=this.changeDetectorRef=new Gy(w),this.componentType=u}get injector(){return new Bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}class Vm{}class nv{}const Um=new Map;class H_ extends Vm{constructor(u,f){super(),this._parent=f,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new V_(this);const v=fr(u);this._bootstrapComponents=Tr(v.bootstrap),this._r3Injector=Op(u,f,[{provide:Vm,useValue:this},{provide:b_,useValue:this.componentFactoryResolver}],Te(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,f=Gc.THROW_IF_NOT_FOUND,v=Rn.Default){return u===Gc||u===Vm||u===Po?this:this._r3Injector.get(u,f,v)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class iv extends nv{constructor(u){super(),this.moduleType=u,null!==fr(u)&&function(l){const u=new Set;!function f(v){const w=fr(v,!0),x=w.id;null!==x&&(function(l,u,f){if(u&&u!==f)throw new Error(`Duplicate module registered for ${l} - ${Te(u)} vs ${Te(u.name)}`)}(x,Um.get(x),v),Um.set(x,v));const N=Tr(w.imports);for(const q of N)u.has(q)||(u.add(q),f(q))}(l)}(u)}create(u){return new H_(this.moduleType,u)}}function rv(l,u,f){const v=$i()+l,w=dn();return w[v]===dr?Wc(w,v,f?u.call(f):u()):function(l,u){return l[u]}(w,v)}function ov(l,u,f,v){return Jy(dn(),$i(),l,u,f,v)}function sv(l,u,f,v,w){return function(l,u,f,v,w,x,N){const q=u+f;return function(l,u,f,v){const w=Rs(l,u,f);return Rs(l,u+1,v)||w}(l,q,w,x)?Wc(l,q+2,N?v.call(N,w,x):v(w,x)):y_(l,q+2)}(dn(),$i(),l,u,f,v,w)}function y_(l,u){const f=l[u];return f===dr?void 0:f}function Jy(l,u,f,v,w,x){const N=u+f;return Rs(l,N,w)?Wc(l,N+1,x?v.call(x,w):v(w)):y_(l,N+1)}function lv(l,u){const f=Ti();let v;const w=l+20;f.firstCreatePass?(v=function(l,u){if(u)for(let f=u.length-1;f>=0;f--){const v=u[f];if(l===v.name)return v}}(u,f.pipeRegistry),f.data[w]=v,v.onDestroy&&(f.destroyHooks||(f.destroyHooks=[])).push(w,v.onDestroy)):v=f.data[w];const x=v.factory||(v.factory=zs(v.type)),N=oo(Cr);try{const q=ee(!1),J=x();return ee(q),function(l,u,f,v){f>=l.data.length&&(l.data[f]=null,l.blueprint[f]=null),u[f]=v}(f,dn(),w,J),J}finally{oo(N)}}function cv(l,u,f){const v=l+20,w=dn(),x=ni(w,v);return function(l,u){return l[1].data[u].pure}(w,v)?Jy(w,$i(),u,x.transform,f,x):x.transform(f)}function uv(l){return u=>{setTimeout(l,void 0,u)}}const bf=class extends m.xQ{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,f,v){var J,pe,Ie;let w=u,x=f||(()=>null),N=v;if(u&&"object"==typeof u){const Je=u;w=null==(J=Je.next)?void 0:J.bind(Je),x=null==(pe=Je.error)?void 0:pe.bind(Je),N=null==(Ie=Je.complete)?void 0:Ie.bind(Je)}this.__isAsync&&(x=uv(x),w&&(w=uv(w)),N&&(N=uv(N)));const q=super.subscribe({next:w,error:x,complete:N});return u instanceof B.w&&u.add(q),q}};function nC(){return this._results[Lu()]()}class dv{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=Lu(),v=dv.prototype;v[f]||(v[f]=nC)}get changes(){return this._changes||(this._changes=new bf)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,f){return this._results.reduce(u,f)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,f){const v=this;v.dirty=!1;const w=io(u);(this._changesDetected=!function(l,u,f){if(l.length!==u.length)return!1;for(let v=0;v<l.length;v++){let w=l[v],x=u[v];if(f&&(w=f(w),x=f(x)),x!==w)return!1}return!0}(v._results,w,f))&&(v._results=w,v.length=w.length,v.last=w[this.length-1],v.first=w[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let C_=(()=>{class l{}return l.__NG_ELEMENT_ID__=rC,l})();const iC=C_,rw=class extends iC{constructor(u,f,v){super(),this._declarationLView=u,this._declarationTContainer=f,this.elementRef=v}createEmbeddedView(u){const f=this._declarationTContainer.tViews,v=Od(this._declarationLView,f,u,16,null,f.declTNode,null,null,null,null);v[17]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[19];return null!==x&&(v[19]=x.createEmbeddedView(f)),rd(f,v,u),new zm(v)}};function rC(){return va(Co(),dn())}function va(l,u){return 4&l.type?new rw(u,l,jm(l,u)):null}let vf=(()=>{class l{}return l.__NG_ELEMENT_ID__=hv,l})();function hv(){return sw(Co(),dn())}const oC=vf,fv=class extends oC{constructor(u,f,v){super(),this._lContainer=u,this._hostTNode=f,this._hostLView=v}get element(){return jm(this._hostTNode,this._hostLView)}get injector(){return new Bn(this._hostTNode,this._hostLView)}get parentInjector(){const u=In(this._hostTNode,this._hostLView);if(Ca(u)){const f=T(u,this._hostLView),v=So(u);return new Bn(f[1].data[v+8],f)}return new Bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const f=ow(this._lContainer);return null!==f&&f[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,f,v){const w=u.createEmbeddedView(f||{});return this.insert(w,v),w}createComponent(u,f,v,w,x){const N=u&&!("function"==typeof u);let q;if(N)q=f;else{const Je=f||{};q=Je.index,v=Je.injector,w=Je.projectableNodes,x=Je.ngModuleRef}const J=N?u:new U_(Ai(u)),pe=v||this.parentInjector;if(!x&&null==J.ngModule&&pe){const Je=pe.get(Vm,null);Je&&(x=Je)}const Ie=J.create(pe,w,void 0,x);return this.insert(Ie.hostView,q),Ie}insert(u,f){const v=u._lView,w=v[1];if(Ro(v[3])){const Ie=this.indexOf(u);if(-1!==Ie)this.detach(Ie);else{const Je=v[3],Ct=new fv(Je,Je[6],Je[3]);Ct.detach(Ct.indexOf(u))}}const x=this._adjustIndex(f),N=this._lContainer;!function(l,u,f,v){const w=10+v,x=f.length;v>0&&(f[w-1][4]=u),v<x-10?(u[4]=f[w],Uu(f,10+v,u)):(f.push(u),u[4]=null),u[3]=f;const N=u[17];null!==N&&f!==N&&function(l,u){const f=l[9];u[16]!==u[3][3][16]&&(l[2]=!0),null===f?l[9]=[u]:f.push(u)}(N,u);const q=u[19];null!==q&&q.insertView(l),u[2]|=128}(w,v,N,x);const q=Rf(x,N),J=v[11],pe=Du(J,N[7]);return null!==pe&&function(l,u,f,v,w,x){v[0]=w,v[6]=u,Id(l,v,f,1,w,x)}(w,N[6],J,v,pe,q),u.attachToViewContainerRef(),Uu(ss(N),x,u),u}move(u,f){return this.insert(u,f)}indexOf(u){const f=ow(this._lContainer);return null!==f?f.indexOf(u):-1}remove(u){const f=this._adjustIndex(u,-1),v=Vc(this._lContainer,f);v&&(Aa(ss(this._lContainer),f),Md(v[1],v))}detach(u){const f=this._adjustIndex(u,-1),v=Vc(this._lContainer,f);return v&&null!=Aa(ss(this._lContainer),f)?new zm(v):null}_adjustIndex(u,f=0){return null==u?this.length+f:u}};function ow(l){return l[8]}function ss(l){return l[8]||(l[8]=[])}function sw(l,u){let f;const v=u[l.index];if(Ro(v))f=v;else{let w;if(8&l.type)w=z(v);else{const x=u[11];w=x.createComment("");const N=xt(l,u);lu(x,Du(x,N),w,function(l,u){return W(l)?l.nextSibling(u):u.nextSibling}(x,N),!1)}u[l.index]=f=jr(v,u,w,l),pu(u,f)}return new fv(f,l,u)}class G_{constructor(u){this.queryList=u,this.matches=null}clone(){return new G_(this.queryList)}setDirty(){this.queryList.setDirty()}}class pv{constructor(u=[]){this.queries=u}createEmbeddedView(u){const f=u.queries;if(null!==f){const v=null!==u.contentQueries?u.contentQueries[0]:f.length,w=[];for(let x=0;x<v;x++){const N=f.getByIndex(x);w.push(this.queries[N.indexInDeclarationView].clone())}return new pv(w)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let f=0;f<this.queries.length;f++)null!==pw(u,f).matches&&this.queries[f].setDirty()}}class gv{constructor(u,f,v=null){this.predicate=u,this.flags=f,this.read=v}}class $_{constructor(u=[]){this.queries=u}elementStart(u,f){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(u,f)}elementEnd(u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(u)}embeddedTView(u){let f=null;for(let v=0;v<this.length;v++){const w=null!==f?f.length:0,x=this.getByIndex(v).embeddedTView(u,w);x&&(x.indexInDeclarationView=v,null!==f?f.push(x):f=[x])}return null!==f?new $_(f):null}template(u,f){for(let v=0;v<this.queries.length;v++)this.queries[v].template(u,f)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class W_{constructor(u,f=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(u,f){this.isApplyingToNode(f)&&this.matchTNode(u,f)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,f){this.elementStart(u,f)}embeddedTView(u,f){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,f),new W_(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let v=u.parent;for(;null!==v&&8&v.type&&v.index!==f;)v=v.parent;return f===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(u,f){const v=this.metadata.predicate;if(Array.isArray(v))for(let w=0;w<v.length;w++){const x=v[w];this.matchTNodeWithReadOption(u,f,cw(f,x)),this.matchTNodeWithReadOption(u,f,Ft(f,u,x,!1,!1))}else v===C_?4&f.type&&this.matchTNodeWithReadOption(u,f,-1):this.matchTNodeWithReadOption(u,f,Ft(f,u,v,!1,!1))}matchTNodeWithReadOption(u,f,v){if(null!==v){const w=this.metadata.read;if(null!==w)if(w===Xg||w===vf||w===C_&&4&f.type)this.addMatch(f.index,-2);else{const x=Ft(f,u,w,!1,!1);null!==x&&this.addMatch(f.index,x)}else this.addMatch(f.index,v)}}addMatch(u,f){null===this.matches?this.matches=[u,f]:this.matches.push(u,f)}}function cw(l,u){const f=l.localNames;if(null!==f)for(let v=0;v<f.length;v+=2)if(f[v]===u)return f[v+1];return null}function dw(l,u,f,v){return-1===f?function(l,u){return 11&l.type?jm(l,u):4&l.type?va(l,u):null}(u,l):-2===f?function(l,u,f){return f===Xg?jm(u,l):f===C_?va(u,l):f===vf?sw(u,l):void 0}(l,u,v):Sn(l,l[1],f,u)}function mv(l,u,f,v){const w=u[19].queries[v];if(null===w.matches){const x=l.data,N=f.matches,q=[];for(let J=0;J<N.length;J+=2){const pe=N[J];q.push(pe<0?null:dw(u,x[pe],N[J+1],f.metadata.read))}w.matches=q}return w.matches}function Z_(l,u,f,v){const w=l.queries.getByIndex(f),x=w.matches;if(null!==x){const N=mv(l,u,w,f);for(let q=0;q<x.length;q+=2){const J=x[q];if(J>0)v.push(N[q/2]);else{const pe=x[q+1],Ie=u[-J];for(let Je=10;Je<Ie.length;Je++){const Ct=Ie[Je];Ct[17]===Ct[3]&&Z_(Ct[1],Ct,pe,v)}if(null!==Ie[9]){const Je=Ie[9];for(let Ct=0;Ct<Je.length;Ct++){const zt=Je[Ct];Z_(zt[1],zt,pe,v)}}}}}return v}function Y_(l){const u=dn(),f=Ti(),v=O();Q(v+1);const w=pw(f,v);if(l.dirty&&Fi(u)===(2==(2&w.metadata.flags))){if(null===w.matches)l.reset([]);else{const x=w.crossesNgTemplate?Z_(f,u,v,[]):mv(f,u,w,v);l.reset(x,z0),l.notifyOnChanges()}return!0}return!1}function K_(l,u,f){const v=Ti();v.firstCreatePass&&(bv(v,new gv(l,u,f),-1),2==(2&u)&&(v.staticViewQueries=!0)),k_(v,dn(),u)}function Q_(l,u,f,v){const w=Ti();if(w.firstCreatePass){const x=Co();bv(w,new gv(u,f,v),x.index),function(l,u){const f=l.contentQueries||(l.contentQueries=[]);u!==(f.length?f[f.length-1]:-1)&&f.push(l.queries.length-1,u)}(w,l),2==(2&f)&&(w.staticContentQueries=!0)}k_(w,dn(),f)}function _v(){return l=dn(),u=O(),l[19].queries[u].queryList;var l,u}function k_(l,u,f){const v=new dv(4==(4&f));Ap(l,u,v,v.destroy),null===u[19]&&(u[19]=new pv),u[19].queries.push(new G_(v))}function bv(l,u,f){null===l.queries&&(l.queries=new $_),l.queries.track(new W_(u,f))}function pw(l,u){return l.queries.getByIndex(u)}function gw(l,u){return va(l,u)}const Nw=ka("Input",l=>({bindingPropertyName:l})),nb=ka("Output",l=>({bindingPropertyName:l})),Sv=ka("HostListener",(l,u)=>({eventName:l,args:u}));function ib(...l){}const x_=new no("Application Initializer");let d=(()=>{class l{constructor(f){this.appInits=f,this.resolve=ib,this.reject=ib,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,w)=>{this.resolve=v,this.reject=w})}runInitializers(){if(this.initialized)return;const f=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let w=0;w<this.appInits.length;w++){const x=this.appInits[w]();if(pt(x))f.push(x);else if(Ut(x)){const N=new Promise((q,J)=>{x.subscribe({complete:q,error:J})});f.push(N)}}Promise.all(f).then(()=>{v()}).catch(w=>{this.reject(w)}),0===f.length&&v(),this.initialized=!0}}return l.\u0275fac=function(f){return new(f||l)(Gs(x_,8))},l.\u0275prov=Dn({token:l,factory:l.\u0275fac}),l})();const e=new no("AppId"),o={provide:e,useFactory:function(){return`${a()}${a()}${a()}`},deps:[]};function a(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const h=new no("Platform Initializer"),g=new no("Platform ID"),y=new no("appBootstrapListener");let E=(()=>{class l{log(f){console.log(f)}warn(f){console.warn(f)}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=Dn({token:l,factory:l.\u0275fac}),l})();const D=new no("LocaleId"),F=new no("DefaultCurrencyCode");class Pe{constructor(u,f){this.ngModuleFactory=u,this.componentFactories=f}}let Ge=(()=>{class l{compileModuleSync(f){return new iv(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const v=this.compileModuleSync(f),x=Tr(fr(f).declarations).reduce((N,q)=>{const J=Ai(q);return J&&N.push(new U_(J)),N},[]);return new Pe(v,x)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=Dn({token:l,factory:l.\u0275fac}),l})();const tn=(()=>Promise.resolve(0))();function Pn(l){"undefined"==typeof Zone?tn.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class _r{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bf(!1),this.onMicrotaskEmpty=new bf(!1),this.onStable=new bf(!1),this.onError=new bf(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const w=this;w._nesting=0,w._outer=w._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!v&&f,w.shouldCoalesceRunChangeDetection=v,w.lastRequestAnimationFrameId=-1,w.nativeRequestAnimationFrame=function(){let l=nt.requestAnimationFrame,u=nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&u){const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f);const v=u[Zone.__symbol__("OriginalDelegate")];v&&(u=v)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function(l){const u=()=>{!function(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(nt,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,Kd(l),l.isCheckStableRunning=!0,ll(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),Kd(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,v,w,x,N,q)=>{try{return fd(l),f.invokeTask(w,x,N,q)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===x.type||l.shouldCoalesceRunChangeDetection)&&u(),yf(l)}},onInvoke:(f,v,w,x,N,q,J)=>{try{return fd(l),f.invoke(w,x,N,q,J)}finally{l.shouldCoalesceRunChangeDetection&&u(),yf(l)}},onHasTask:(f,v,w,x)=>{f.hasTask(w,x),v===w&&("microTask"==x.change?(l._hasPendingMicrotasks=x.microTask,Kd(l),ll(l)):"macroTask"==x.change&&(l.hasPendingMacrotasks=x.macroTask))},onHandleError:(f,v,w,x)=>(f.handleError(w,x),l.runOutsideAngular(()=>l.onError.emit(x)),!1)})}(w)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_r.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_r.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,f,v){return this._inner.run(u,f,v)}runTask(u,f,v,w){const x=this._inner,N=x.scheduleEventTask("NgZoneEvent: "+w,u,Jo,ib,ib);try{return x.runTask(N,f,v)}finally{x.cancelTask(N)}}runGuarded(u,f,v){return this._inner.runGuarded(u,f,v)}runOutsideAngular(u){return this._outer.run(u)}}const Jo={};function ll(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function Kd(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function fd(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function yf(l){l._nesting--,ll(l)}class rp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bf,this.onMicrotaskEmpty=new bf,this.onStable=new bf,this.onError=new bf}run(u,f,v){return u.apply(f,v)}runGuarded(u,f,v){return u.apply(f,v)}runOutsideAngular(u){return u()}runTask(u,f,v,w){return u.apply(f,v)}}let tm=(()=>{class l{constructor(f){this._ngZone=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_r.assertNotInAngularZone(),Pn(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pn(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(f)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,v,w){let x=-1;v&&v>0&&(x=setTimeout(()=>{this._callbacks=this._callbacks.filter(N=>N.timeoutId!==x),f(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:f,timeoutId:x,updateCb:w})}whenStable(f,v,w){if(w&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,v,w),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(f,v,w){return[]}}return l.\u0275fac=function(f){return new(f||l)(Gs(_r))},l.\u0275prov=Dn({token:l,factory:l.\u0275fac}),l})(),Iv=(()=>{class l{constructor(){this._applications=new Map,bC.addToWindow(this)}registerApplication(f,v){this._applications.set(f,v)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,v=!0){return bC.findTestabilityInTree(this,f,v)}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=Dn({token:l,factory:l.\u0275fac}),l})();class Rw{addToWindow(u){}findTestabilityInTree(u,f,v){return null}}function fk(l){bC=l}let op,bC=new Rw;const $C=new no("AllowMultipleToken");class _k{constructor(u,f){this.name=u,this.token=f}}function WC(l,u,f=[]){const v=`Platform: ${u}`,w=new no(v);return(x=[])=>{let N=ZC();if(!N||N.injector.get($C,!1))if(l)l(f.concat(x).concat({provide:w,useValue:!0}));else{const q=f.concat(x).concat({provide:w,useValue:!0},{provide:Dg,useValue:"platform"});!function(l){if(op&&!op.destroyed&&!op.injector.get($C,!1))throw new de("400","");op=l.get(YC);const u=l.get(h,null);u&&u.forEach(f=>f())}(Gc.create({providers:q,name:v}))}return function(l){const u=ZC();if(!u)throw new de("401","");return u}()}}function ZC(){return op&&!op.destroyed?op:null}let YC=(()=>{class l{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,v){const q=function(l,u){let f;return f="noop"===l?new rp:("zone.js"===l?void 0:l)||new _r({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),f}(v?v.ngZone:void 0,{ngZoneEventCoalescing:v&&v.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:v&&v.ngZoneRunCoalescing||!1}),J=[{provide:_r,useValue:q}];return q.run(()=>{const pe=Gc.create({providers:J,parent:this.injector,name:f.moduleType.name}),Ie=f.create(pe),Je=Ie.injector.get(Ad,null);if(!Je)throw new de("402","");return q.runOutsideAngular(()=>{const Ct=q.onError.subscribe({next:zt=>{Je.handleError(zt)}});Ie.onDestroy(()=>{vC(this._modules,Ie),Ct.unsubscribe()})}),function(l,u,f){try{const v=f();return pt(v)?v.catch(w=>{throw u.runOutsideAngular(()=>l.handleError(w)),w}):v}catch(v){throw u.runOutsideAngular(()=>l.handleError(v)),v}}(Je,q,()=>{const Ct=Ie.injector.get(d);return Ct.runInitializers(),Ct.donePromise.then(()=>(function(l){_t(l,"Expected localeId to be defined"),"string"==typeof l&&(ay=l.toLowerCase().replace(/_/g,"-"))}(Ie.injector.get(D,f_)||f_),this._moduleDoBootstrap(Ie),Ie))})})}bootstrapModule(f,v=[]){const w=KC({},v);return function(l,u,f){const v=new iv(f);return Promise.resolve(v)}(0,0,f).then(x=>this.bootstrapModuleFactory(x,w))}_moduleDoBootstrap(f){const v=f.injector.get(Pv);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(w=>v.bootstrap(w));else{if(!f.instance.ngDoBootstrap)throw new de("403","");f.instance.ngDoBootstrap(v)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de("404","");this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(f){return new(f||l)(Gs(Gc))},l.\u0275prov=Dn({token:l,factory:l.\u0275fac}),l})();function KC(l,u){return Array.isArray(u)?u.reduce(KC,l):un(un({},l),u)}let Pv=(()=>{class l{constructor(f,v,w,x,N){this._zone=f,this._injector=v,this._exceptionHandler=w,this._componentFactoryResolver=x,this._initStatus=N,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const q=new he.y(pe=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{pe.next(this._stable),pe.complete()})}),J=new he.y(pe=>{let Ie;this._zone.runOutsideAngular(()=>{Ie=this._zone.onStable.subscribe(()=>{_r.assertNotInAngularZone(),Pn(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,pe.next(!0))})})});const Je=this._zone.onUnstable.subscribe(()=>{_r.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{pe.next(!1)}))});return()=>{Ie.unsubscribe(),Je.unsubscribe()}});this.isStable=(0,Ne.T)(q,J.pipe(l=>(0,Y.x)()(function(l,u){return function(v){let w;w="function"==typeof l?l:function(){return l};const x=Object.create(v,ce.N);return x.source=v,x.subjectFactory=w,x}}(be)(l))))}bootstrap(f,v){if(!this._initStatus.done)throw new de("405","");let w;w=f instanceof Xb?f:this._componentFactoryResolver.resolveComponentFactory(f),this.componentTypes.push(w.componentType);const x=function(l){return l.isBoundToModule}(w)?void 0:this._injector.get(Vm),q=w.create(Gc.NULL,[],v||w.selector,x),J=q.location.nativeElement,pe=q.injector.get(tm,null),Ie=pe&&q.injector.get(Iv);return pe&&Ie&&Ie.registerApplication(J,pe),q.onDestroy(()=>{this.detachView(q.hostView),vC(this.components,q),Ie&&Ie.unregisterApplication(J)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new de("101","");try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(f))}finally{this._runningTick=!1}}attachView(f){const v=f;this._views.push(v),v.attachToAppRef(this)}detachView(f){const v=f;vC(this._views,v),v.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f),this._injector.get(y,[]).concat(this._bootstrapListeners).forEach(w=>w(f))}ngOnDestroy(){this._views.slice().forEach(f=>f.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(f){return new(f||l)(Gs(_r),Gs(Gc),Gs(Ad),Gs(b_),Gs(d))},l.\u0275prov=Dn({token:l,factory:l.\u0275fac}),l})();function vC(l,u){const f=l.indexOf(u);f>-1&&l.splice(f,1)}let JC=!0,XC=!1;function kk(){return XC=!0,JC}function Ak(){if(XC)throw new Error("Cannot enable prod mode after platform setup.");JC=!1}let xk=(()=>{class l{}return l.__NG_ELEMENT_ID__=Ek,l})();function Ek(l){return function(l,u,f){if(vr(l)&&!f){const v=li(l.index,u);return new zm(v,v)}return 47&l.type?new zm(u[16],u):null}(Co(),dn(),16==(16&l))}class ok{constructor(){}supports(u){return Ml(u)}create(u){return new Ok(u)}}const Pk=(l,u)=>u;class Ok{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||Pk}forEachItem(u){let f;for(f=this._itHead;null!==f;f=f._next)u(f)}forEachOperation(u){let f=this._itHead,v=this._removalsHead,w=0,x=null;for(;f||v;){const N=!v||f&&f.currentIndex<ak(v,w,x)?f:v,q=ak(N,w,x),J=N.currentIndex;if(N===v)w--,v=v._nextRemoved;else if(f=f._next,null==N.previousIndex)w++;else{x||(x=[]);const pe=q-w,Ie=J-w;if(pe!=Ie){for(let Ct=0;Ct<pe;Ct++){const zt=Ct<x.length?x[Ct]:x[Ct]=0,an=zt+Ct;Ie<=an&&an<pe&&(x[Ct]=zt+1)}x[N.previousIndex]=Ie-pe}}q!==J&&u(N,q,J)}}forEachPreviousItem(u){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)u(f)}forEachAddedItem(u){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)u(f)}forEachMovedItem(u){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)u(f)}forEachRemovedItem(u){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)u(f)}forEachIdentityChange(u){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)u(f)}diff(u){if(null==u&&(u=[]),!Ml(u))throw new Error(`Error trying to diff '${Te(u)}'. Only arrays and iterables are allowed`);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let w,x,N,f=this._itHead,v=!1;if(Array.isArray(u)){this.length=u.length;for(let q=0;q<this.length;q++)x=u[q],N=this._trackByFn(q,x),null!==f&&Object.is(f.trackById,N)?(v&&(f=this._verifyReinsertion(f,x,N,q)),Object.is(f.item,x)||this._addIdentityChange(f,x)):(f=this._mismatch(f,x,N,q),v=!0),f=f._next}else w=0,function(l,u){if(Array.isArray(l))for(let f=0;f<l.length;f++)u(l[f]);else{const f=l[Lu()]();let v;for(;!(v=f.next()).done;)u(v.value)}}(u,q=>{N=this._trackByFn(w,q),null!==f&&Object.is(f.trackById,N)?(v&&(f=this._verifyReinsertion(f,q,N,w)),Object.is(f.item,q)||this._addIdentityChange(f,q)):(f=this._mismatch(f,q,N,w),v=!0),f=f._next,w++}),this.length=w;return this._truncate(f),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,f,v,w){let x;return null===u?x=this._itTail:(x=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null))?(Object.is(u.item,f)||this._addIdentityChange(u,f),this._reinsertAfter(u,x,w)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(v,w))?(Object.is(u.item,f)||this._addIdentityChange(u,f),this._moveAfter(u,x,w)):u=this._addAfter(new Nk(f,v),x,w),u}_verifyReinsertion(u,f,v,w){let x=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null);return null!==x?u=this._reinsertAfter(x,u._prev,w):u.currentIndex!=w&&(u.currentIndex=w,this._addToMoves(u,w)),u}_truncate(u){for(;null!==u;){const f=u._next;this._addToRemovals(this._unlink(u)),u=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,f,v){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const w=u._prevRemoved,x=u._nextRemoved;return null===w?this._removalsHead=x:w._nextRemoved=x,null===x?this._removalsTail=w:x._prevRemoved=w,this._insertAfter(u,f,v),this._addToMoves(u,v),u}_moveAfter(u,f,v){return this._unlink(u),this._insertAfter(u,f,v),this._addToMoves(u,v),u}_addAfter(u,f,v){return this._insertAfter(u,f,v),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,f,v){const w=null===f?this._itHead:f._next;return u._next=w,u._prev=f,null===w?this._itTail=u:w._prev=u,null===f?this._itHead=u:f._next=u,null===this._linkedRecords&&(this._linkedRecords=new sk),this._linkedRecords.put(u),u.currentIndex=v,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const f=u._prev,v=u._next;return null===f?this._itHead=v:f._next=v,null===v?this._itTail=f:v._prev=f,u}_addToMoves(u,f){return u.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sk),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,f){return u.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class Nk{constructor(u,f){this.item=u,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rk{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,f){let v;for(v=this._head;null!==v;v=v._nextDup)if((null===f||f<=v.currentIndex)&&Object.is(v.trackById,u))return v;return null}remove(u){const f=u._prevDup,v=u._nextDup;return null===f?this._head=v:f._nextDup=v,null===v?this._tail=f:v._prevDup=f,null===this._head}}class sk{constructor(){this.map=new Map}put(u){const f=u.trackById;let v=this.map.get(f);v||(v=new Rk,this.map.set(f,v)),v.add(u)}get(u,f){const w=this.map.get(u);return w?w.get(u,f):null}remove(u){const f=u.trackById;return this.map.get(f).remove(u)&&this.map.delete(f),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ak(l,u,f){const v=l.previousIndex;if(null===v)return v;let w=0;return f&&v<f.length&&(w=f[v]),v+u+w}class lk{constructor(){}supports(u){return u instanceof Map||Vg(u)}create(){return new Fk}}class Fk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let f;for(f=this._mapHead;null!==f;f=f._next)u(f)}forEachPreviousItem(u){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)u(f)}forEachChangedItem(u){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)u(f)}forEachAddedItem(u){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)u(f)}forEachRemovedItem(u){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)u(f)}diff(u){if(u){if(!(u instanceof Map||Vg(u)))throw new Error(`Error trying to diff '${Te(u)}'. Only maps and objects are allowed`)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(u,(v,w)=>{if(f&&f.key===w)this._maybeAddToChanges(f,v),this._appendAfter=f,f=f._next;else{const x=this._getOrCreateRecordForKey(w,v);f=this._insertBeforeOrAppend(f,x)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let v=f;null!==v;v=v._nextRemoved)v===this._mapHead&&(this._mapHead=null),this._records.delete(v.key),v._nextRemoved=v._next,v.previousValue=v.currentValue,v.currentValue=null,v._prev=null,v._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,f){if(u){const v=u._prev;return f._next=u,f._prev=v,u._prev=f,v&&(v._next=f),u===this._mapHead&&(this._mapHead=f),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(u,f){if(this._records.has(u)){const w=this._records.get(u);this._maybeAddToChanges(w,f);const x=w._prev,N=w._next;return x&&(x._next=N),N&&(N._prev=x),w._next=null,w._prev=null,w}const v=new Lk(u);return this._records.set(u,v),v.currentValue=f,this._addToAdditions(v),v}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,f){Object.is(f,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=f,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,f){u instanceof Map?u.forEach(f):Object.keys(u).forEach(v=>f(u[v],v))}}class Lk{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ck(){return new Lw([new ok])}let Lw=(()=>{class l{constructor(f){this.factories=f}static create(f,v){if(null!=v){const w=v.factories.slice();f=f.concat(w)}return new l(f)}static extend(f){return{provide:l,useFactory:v=>l.create(f,v||ck()),deps:[[l,new Ss,new bl]]}}find(f){const v=this.factories.find(w=>w.supports(f));if(null!=v)return v;throw new Error(`Cannot find a differ supporting object '${f}' of type '${function(l){return l.name||typeof l}(f)}'`)}}return l.\u0275prov=Dn({token:l,providedIn:"root",factory:ck}),l})();function uk(){return new Bw([new lk])}let Bw=(()=>{class l{constructor(f){this.factories=f}static create(f,v){if(v){const w=v.factories.slice();f=f.concat(w)}return new l(f)}static extend(f){return{provide:l,useFactory:v=>l.create(f,v||uk()),deps:[[l,new Ss,new bl]]}}find(f){const v=this.factories.find(w=>w.supports(f));if(v)return v;throw new Error(`Cannot find a differ supporting object '${f}'`)}}return l.\u0275prov=Dn({token:l,providedIn:"root",factory:uk}),l})();const jk=[new lk],Vk=new Lw([new ok]),Uk=new Bw(jk),Hk=WC(null,"core",[{provide:g,useValue:"unknown"},{provide:YC,deps:[Gc]},{provide:Iv,deps:[]},{provide:E,deps:[]}]),Zk=[{provide:Pv,useClass:Pv,deps:[_r,Gc,Ad,b_,d]},{provide:U0,deps:[_r],useFactory:function(l){let u=[];return l.onStable.subscribe(()=>{for(;u.length;)u.pop()()}),function(f){u.push(f)}}},{provide:d,useClass:d,deps:[[new bl,x_]]},{provide:Ge,useClass:Ge,deps:[]},o,{provide:Lw,useFactory:function(){return Vk},deps:[]},{provide:Bw,useFactory:function(){return Uk},deps:[]},{provide:D,useFactory:function(l){return l||"undefined"!=typeof $localize&&$localize.locale||f_},deps:[[new tu(D),new bl,new Ss]]},{provide:F,useValue:"USD"}];let Kk=(()=>{class l{constructor(f){}}return l.\u0275fac=function(f){return new(f||l)(Gs(Pv))},l.\u0275mod=Qt({type:l}),l.\u0275inj=br({providers:Zk}),l})()},9010:(Jt,vt,X)=>{"use strict";X.d(vt,{Wl:()=>we,Fj:()=>ct,qu:()=>ve,NI:()=>pi,oH:()=>Ro,u:()=>da,sg:()=>vr,u5:()=>V,nD:()=>vs,JU:()=>_e,a5:()=>Zn,JJ:()=>Ei,JL:()=>Vo,On:()=>Uo,YN:()=>ns,UX:()=>le,EJ:()=>Mo,kI:()=>Xt,_Y:()=>Nr,Kr:()=>ea});var m=X(9619),B=X(6019),he=X(5548),Ne=X(5894),ce=X(8053),U=X(7879),De=X(1915);function be(z,G){return new he.y($=>{const Ce=z.length;if(0===Ce)return void $.complete();const xt=new Array(Ce);let nn=0,_n=0;for(let ni=0;ni<Ce;ni++){const li=(0,De.D)(z[ni]);let Fi=!1;$.add(li.subscribe({next:yr=>{Fi||(Fi=!0,_n++),xt[ni]=yr},error:yr=>$.error(yr),complete:()=>{nn++,(nn===Ce||!Fi)&&(_n===Ce&&$.next(G?G.reduce((yr,uo,Sr)=>(yr[uo]=xt[Sr],yr),{}):xt),$.complete())}}))}})}let fe=(()=>{class z{constructor($,Ce){this._renderer=$,this._elementRef=Ce,this.onChange=xt=>{},this.onTouched=()=>{}}setProperty($,Ce){this._renderer.setProperty(this._elementRef.nativeElement,$,Ce)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}}return z.\u0275fac=function($){return new($||z)(m.Y36(m.Qsj),m.Y36(m.SBq))},z.\u0275dir=m.lG2({type:z}),z})(),ge=(()=>{class z extends fe{}return z.\u0275fac=function(){let G;return function(Ce){return(G||(G=m.n5z(z)))(Ce||z)}}(),z.\u0275dir=m.lG2({type:z,features:[m.qOj]}),z})();const _e=new m.OlP("NgValueAccessor"),Te={provide:_e,useExisting:(0,m.Gpc)(()=>we),multi:!0};let we=(()=>{class z extends ge{writeValue($){this.setProperty("checked",$)}}return z.\u0275fac=function(){let G;return function(Ce){return(G||(G=m.n5z(z)))(Ce||z)}}(),z.\u0275dir=m.lG2({type:z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function($,Ce){1&$&&m.NdJ("change",function(nn){return Ce.onChange(nn.target.checked)})("blur",function(){return Ce.onTouched()})},features:[m._Bn([Te]),m.qOj]}),z})();const Ve={provide:_e,useExisting:(0,m.Gpc)(()=>ct),multi:!0},Se=new m.OlP("CompositionEventMode");let ct=(()=>{class z extends fe{constructor($,Ce,xt){super($,Ce),this._compositionMode=xt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const z=(0,B.q)()?(0,B.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue($){this.setProperty("value",null==$?"":$)}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}}return z.\u0275fac=function($){return new($||z)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Se,8))},z.\u0275dir=m.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,Ce){1&$&&m.NdJ("input",function(nn){return Ce._handleInput(nn.target.value)})("blur",function(){return Ce.onTouched()})("compositionstart",function(){return Ce._compositionStart()})("compositionend",function(nn){return Ce._compositionEnd(nn.target.value)})},features:[m._Bn([Ve]),m.qOj]}),z})();function $e(z){return null==z||0===z.length}function de(z){return null!=z&&"number"==typeof z.length}const Oe=new m.OlP("NgValidators"),Mt=new m.OlP("NgAsyncValidators"),dt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xt{static min(G){return z=G,G=>{if($e(G.value)||$e(z))return null;const $=parseFloat(G.value);return!isNaN($)&&$<z?{min:{min:z,actual:G.value}}:null};var z}static max(G){return z=G,G=>{if($e(G.value)||$e(z))return null;const $=parseFloat(G.value);return!isNaN($)&&$>z?{max:{max:z,actual:G.value}}:null};var z}static required(G){return $e(G.value)?{required:!0}:null}static requiredTrue(G){return!0===G.value?null:{required:!0}}static email(G){return $e((z=G).value)||dt.test(z.value)?null:{email:!0};var z}static minLength(G){return z=G,G=>$e(G.value)||!de(G.value)?null:G.value.length<z?{minlength:{requiredLength:z,actualLength:G.value.length}}:null;var z}static maxLength(G){return ze(G)}static pattern(G){return function(z){if(!z)return Fe;let G,$;return"string"==typeof z?($="","^"!==z.charAt(0)&&($+="^"),$+=z,"$"!==z.charAt(z.length-1)&&($+="$"),G=new RegExp($)):($=z.toString(),G=z),Ce=>{if($e(Ce.value))return null;const xt=Ce.value;return G.test(xt)?null:{pattern:{requiredPattern:$,actualValue:xt}}}}(G)}static nullValidator(G){return null}static compose(G){return lt(G)}static composeAsync(G){return _t(G)}}function ze(z){return G=>de(G.value)&&G.value.length>z?{maxlength:{requiredLength:z,actualLength:G.value.length}}:null}function Fe(z){return null}function Qe(z){return null!=z}function It(z){const G=(0,m.QGY)(z)?(0,De.D)(z):z;return(0,m.CqO)(G),G}function Vt(z){let G={};return z.forEach($=>{G=null!=$?un(un({},G),$):G}),0===Object.keys(G).length?null:G}function Ht(z,G){return G.map($=>$(z))}function Kt(z){return z.map(G=>function(z){return!z.validate}(G)?G:$=>G.validate($))}function lt(z){if(!z)return null;const G=z.filter(Qe);return 0==G.length?null:function($){return Vt(Ht($,G))}}function $t(z){return null!=z?lt(Kt(z)):null}function _t(z){if(!z)return null;const G=z.filter(Qe);return 0==G.length?null:function($){return function(...z){if(1===z.length){const G=z[0];if((0,Ne.k)(G))return be(G,null);if((0,U.K)(G)&&Object.getPrototypeOf(G)===Object.prototype){const $=Object.keys(G);return be($.map(Ce=>G[Ce]),$)}}if("function"==typeof z[z.length-1]){const G=z.pop();return be(z=1===z.length&&(0,Ne.k)(z[0])?z[0]:z,null).pipe((0,ce.U)($=>G(...$)))}return be(z,null)}(Ht($,G).map(It)).pipe((0,ce.U)(Vt))}}function Et(z){return null!=z?_t(Kt(z)):null}function pn(z,G){return null===z?[G]:Array.isArray(z)?[...z,G]:[z,G]}function jn(z){return z._rawValidators}function Zi(z){return z._rawAsyncValidators}function Dn(z){return z?Array.isArray(z)?z:[z]:[]}function kr(z,G){return Array.isArray(z)?z.includes(G):z===G}function br(z,G){const $=Dn(G);return Dn(z).forEach(xt=>{kr($,xt)||$.push(xt)}),$}function Nn(z,G){return Dn(G).filter($=>!kr(z,$))}class Cn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(G){this._rawValidators=G||[],this._composedValidatorFn=$t(this._rawValidators)}_setAsyncValidators(G){this._rawAsyncValidators=G||[],this._composedAsyncValidatorFn=Et(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(G){this._onDestroyCallbacks.push(G)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(G=>G()),this._onDestroyCallbacks=[]}reset(G){this.control&&this.control.reset(G)}hasError(G,$){return!!this.control&&this.control.hasError(G,$)}getError(G,$){return this.control?this.control.getError(G,$):null}}class si extends Cn{get formDirective(){return null}get path(){return null}}class Zn extends Cn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ai{constructor(G){this._cd=G}is(G){var $,Ce,xt;return"submitted"===G?!!(null==($=this._cd)?void 0:$.submitted):!!(null==(xt=null==(Ce=this._cd)?void 0:Ce.control)?void 0:xt[G])}}let Ei=(()=>{class z extends ai{constructor($){super($)}}return z.\u0275fac=function($){return new($||z)(m.Y36(Zn,2))},z.\u0275dir=m.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,Ce){2&$&&m.ekj("ng-untouched",Ce.is("untouched"))("ng-touched",Ce.is("touched"))("ng-pristine",Ce.is("pristine"))("ng-dirty",Ce.is("dirty"))("ng-valid",Ce.is("valid"))("ng-invalid",Ce.is("invalid"))("ng-pending",Ce.is("pending"))},features:[m.qOj]}),z})(),Vo=(()=>{class z extends ai{constructor($){super($)}}return z.\u0275fac=function($){return new($||z)(m.Y36(si,10))},z.\u0275dir=m.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,Ce){2&$&&m.ekj("ng-untouched",Ce.is("untouched"))("ng-touched",Ce.is("touched"))("ng-pristine",Ce.is("pristine"))("ng-dirty",Ce.is("dirty"))("ng-valid",Ce.is("valid"))("ng-invalid",Ce.is("invalid"))("ng-pending",Ce.is("pending"))("ng-submitted",Ce.is("submitted"))},features:[m.qOj]}),z})();function nr(z,G){return[...G.path,z]}function Pi(z,G){Gt(z,G),G.valueAccessor.writeValue(z.value),function(z,G){G.valueAccessor.registerOnChange($=>{z._pendingValue=$,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Qn(z,G)})}(z,G),function(z,G){const $=(Ce,xt)=>{G.valueAccessor.writeValue(Ce),xt&&G.viewToModelUpdate(Ce)};z.registerOnChange($),G._registerOnDestroy(()=>{z._unregisterOnChange($)})}(z,G),function(z,G){G.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Qn(z,G),"submit"!==z.updateOn&&z.markAsTouched()})}(z,G),function(z,G){if(G.valueAccessor.setDisabledState){const $=Ce=>{G.valueAccessor.setDisabledState(Ce)};z.registerOnDisabledChange($),G._registerOnDestroy(()=>{z._unregisterOnDisabledChange($)})}}(z,G)}function bt(z,G,$=!0){const Ce=()=>{};G.valueAccessor&&(G.valueAccessor.registerOnChange(Ce),G.valueAccessor.registerOnTouched(Ce)),Tt(z,G),z&&(G._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function nt(z,G){z.forEach($=>{$.registerOnValidatorChange&&$.registerOnValidatorChange(G)})}function Gt(z,G){const $=jn(z);null!==G.validator?z.setValidators(pn($,G.validator)):"function"==typeof $&&z.setValidators([$]);const Ce=Zi(z);null!==G.asyncValidator?z.setAsyncValidators(pn(Ce,G.asyncValidator)):"function"==typeof Ce&&z.setAsyncValidators([Ce]);const xt=()=>z.updateValueAndValidity();nt(G._rawValidators,xt),nt(G._rawAsyncValidators,xt)}function Tt(z,G){let $=!1;if(null!==z){if(null!==G.validator){const xt=jn(z);if(Array.isArray(xt)&&xt.length>0){const nn=xt.filter(_n=>_n!==G.validator);nn.length!==xt.length&&($=!0,z.setValidators(nn))}}if(null!==G.asyncValidator){const xt=Zi(z);if(Array.isArray(xt)&&xt.length>0){const nn=xt.filter(_n=>_n!==G.asyncValidator);nn.length!==xt.length&&($=!0,z.setAsyncValidators(nn))}}}const Ce=()=>{};return nt(G._rawValidators,Ce),nt(G._rawAsyncValidators,Ce),$}function Qn(z,G){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),G.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function hr(z,G){if(!z.hasOwnProperty("model"))return!1;const $=z.model;return!!$.isFirstChange()||!Object.is(G,$.currentValue)}function tt(z,G){if(!G)return null;let $,Ce,xt;return Array.isArray(G),G.forEach(nn=>{nn.constructor===ct?$=nn:function(z){return Object.getPrototypeOf(z.constructor)===ge}(nn)?Ce=nn:xt=nn}),xt||Ce||$||null}function St(z,G){const $=z.indexOf(G);$>-1&&z.splice($,1)}const Tn="VALID",kn="INVALID",gi="PENDING",Ar="DISABLED";function xo(z){return(mn(z)?z.validators:z)||null}function as(z){return Array.isArray(z)?$t(z):z||null}function fr(z,G){return(mn(G)?G.asyncValidators:z)||null}function xr(z){return Array.isArray(z)?Et(z):z||null}function mn(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}class qn{constructor(G,$){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=G,this._rawAsyncValidators=$,this._composedValidatorFn=as(this._rawValidators),this._composedAsyncValidatorFn=xr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(G){this._rawValidators=this._composedValidatorFn=G}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(G){this._rawAsyncValidators=this._composedAsyncValidatorFn=G}get parent(){return this._parent}get valid(){return this.status===Tn}get invalid(){return this.status===kn}get pending(){return this.status==gi}get disabled(){return this.status===Ar}get enabled(){return this.status!==Ar}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(G){this._rawValidators=G,this._composedValidatorFn=as(G)}setAsyncValidators(G){this._rawAsyncValidators=G,this._composedAsyncValidatorFn=xr(G)}addValidators(G){this.setValidators(br(G,this._rawValidators))}addAsyncValidators(G){this.setAsyncValidators(br(G,this._rawAsyncValidators))}removeValidators(G){this.setValidators(Nn(G,this._rawValidators))}removeAsyncValidators(G){this.setAsyncValidators(Nn(G,this._rawAsyncValidators))}hasValidator(G){return kr(this._rawValidators,G)}hasAsyncValidator(G){return kr(this._rawAsyncValidators,G)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(G={}){this.touched=!0,this._parent&&!G.onlySelf&&this._parent.markAsTouched(G)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(G=>G.markAllAsTouched())}markAsUntouched(G={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild($=>{$.markAsUntouched({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}markAsDirty(G={}){this.pristine=!1,this._parent&&!G.onlySelf&&this._parent.markAsDirty(G)}markAsPristine(G={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild($=>{$.markAsPristine({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}markAsPending(G={}){this.status=gi,!1!==G.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!G.onlySelf&&this._parent.markAsPending(G)}disable(G={}){const $=this._parentMarkedDirty(G.onlySelf);this.status=Ar,this.errors=null,this._forEachChild(Ce=>{Ce.disable(_s(un({},G),{onlySelf:!0}))}),this._updateValue(),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(_s(un({},G),{skipPristineCheck:$})),this._onDisabledChange.forEach(Ce=>Ce(!0))}enable(G={}){const $=this._parentMarkedDirty(G.onlySelf);this.status=Tn,this._forEachChild(Ce=>{Ce.enable(_s(un({},G),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent}),this._updateAncestors(_s(un({},G),{skipPristineCheck:$})),this._onDisabledChange.forEach(Ce=>Ce(!1))}_updateAncestors(G){this._parent&&!G.onlySelf&&(this._parent.updateValueAndValidity(G),G.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(G){this._parent=G}updateValueAndValidity(G={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tn||this.status===gi)&&this._runAsyncValidator(G.emitEvent)),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.updateValueAndValidity(G)}_updateTreeValidity(G={emitEvent:!0}){this._forEachChild($=>$._updateTreeValidity(G)),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ar:Tn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(G){if(this.asyncValidator){this.status=gi,this._hasOwnPendingAsyncValidator=!0;const $=It(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(Ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ce,{emitEvent:G})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(G,$={}){this.errors=G,this._updateControlsErrors(!1!==$.emitEvent)}get(G){return function(z,G,$){if(null==G||(Array.isArray(G)||(G=G.split(".")),Array.isArray(G)&&0===G.length))return null;let Ce=z;return G.forEach(xt=>{Ce=Ce instanceof Ki?Ce.controls.hasOwnProperty(xt)?Ce.controls[xt]:null:Ce instanceof yo&&Ce.at(xt)||null}),Ce}(this,G)}getError(G,$){const Ce=$?this.get($):this;return Ce&&Ce.errors?Ce.errors[G]:null}hasError(G,$){return!!this.getError(G,$)}get root(){let G=this;for(;G._parent;)G=G._parent;return G}_updateControlsErrors(G){this.status=this._calculateStatus(),G&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(G)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?Ar:this.errors?kn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gi)?gi:this._anyControlsHaveStatus(kn)?kn:Tn}_anyControlsHaveStatus(G){return this._anyControls($=>$.status===G)}_anyControlsDirty(){return this._anyControls(G=>G.dirty)}_anyControlsTouched(){return this._anyControls(G=>G.touched)}_updatePristine(G={}){this.pristine=!this._anyControlsDirty(),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}_updateTouched(G={}){this.touched=this._anyControlsTouched(),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}_isBoxedValue(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}_registerOnCollectionChange(G){this._onCollectionChange=G}_setUpdateStrategy(G){mn(G)&&null!=G.updateOn&&(this._updateOn=G.updateOn)}_parentMarkedDirty(G){return!G&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class pi extends qn{constructor(G=null,$,Ce){super(xo($),fr(Ce,$)),this._onChange=[],this._applyFormState(G),this._setUpdateStrategy($),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(G,$={}){this.value=this._pendingValue=G,this._onChange.length&&!1!==$.emitModelToViewChange&&this._onChange.forEach(Ce=>Ce(this.value,!1!==$.emitViewToModelChange)),this.updateValueAndValidity($)}patchValue(G,$={}){this.setValue(G,$)}reset(G=null,$={}){this._applyFormState(G),this.markAsPristine($),this.markAsUntouched($),this.setValue(this.value,$),this._pendingChange=!1}_updateValue(){}_anyControls(G){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(G){this._onChange.push(G)}_unregisterOnChange(G){St(this._onChange,G)}registerOnDisabledChange(G){this._onDisabledChange.push(G)}_unregisterOnDisabledChange(G){St(this._onDisabledChange,G)}_forEachChild(G){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(G){this._isBoxedValue(G)?(this.value=this._pendingValue=G.value,G.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=G}}class Ki extends qn{constructor(G,$,Ce){super(xo($),fr(Ce,$)),this.controls=G,this._initObservables(),this._setUpdateStrategy($),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(G,$){return this.controls[G]?this.controls[G]:(this.controls[G]=$,$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange),$)}addControl(G,$,Ce={}){this.registerControl(G,$),this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}removeControl(G,$={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}setControl(G,$,Ce={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],$&&this.registerControl(G,$),this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}contains(G){return this.controls.hasOwnProperty(G)&&this.controls[G].enabled}setValue(G,$={}){this._checkAllValuesPresent(G),Object.keys(G).forEach(Ce=>{this._throwIfControlMissing(Ce),this.controls[Ce].setValue(G[Ce],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($)}patchValue(G,$={}){null!=G&&(Object.keys(G).forEach(Ce=>{this.controls[Ce]&&this.controls[Ce].patchValue(G[Ce],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($))}reset(G={},$={}){this._forEachChild((Ce,xt)=>{Ce.reset(G[xt],{onlySelf:!0,emitEvent:$.emitEvent})}),this._updatePristine($),this._updateTouched($),this.updateValueAndValidity($)}getRawValue(){return this._reduceChildren({},(G,$,Ce)=>(G[Ce]=$ instanceof pi?$.value:$.getRawValue(),G))}_syncPendingControls(){let G=this._reduceChildren(!1,($,Ce)=>!!Ce._syncPendingControls()||$);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_throwIfControlMissing(G){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[G])throw new Error(`Cannot find form control with name: ${G}.`)}_forEachChild(G){Object.keys(this.controls).forEach($=>{const Ce=this.controls[$];Ce&&G(Ce,$)})}_setUpControls(){this._forEachChild(G=>{G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(G){for(const $ of Object.keys(this.controls)){const Ce=this.controls[$];if(this.contains($)&&G(Ce))return!0}return!1}_reduceValue(){return this._reduceChildren({},(G,$,Ce)=>(($.enabled||this.disabled)&&(G[Ce]=$.value),G))}_reduceChildren(G,$){let Ce=G;return this._forEachChild((xt,nn)=>{Ce=$(Ce,xt,nn)}),Ce}_allControlsDisabled(){for(const G of Object.keys(this.controls))if(this.controls[G].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(G){this._forEachChild(($,Ce)=>{if(void 0===G[Ce])throw new Error(`Must supply a value for form control with name: '${Ce}'.`)})}}class yo extends qn{constructor(G,$,Ce){super(xo($),fr(Ce,$)),this.controls=G,this._initObservables(),this._setUpdateStrategy($),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(G){return this.controls[G]}push(G,$={}){this.controls.push(G),this._registerControl(G),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}insert(G,$,Ce={}){this.controls.splice(G,0,$),this._registerControl($),this.updateValueAndValidity({emitEvent:Ce.emitEvent})}removeAt(G,$={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),this.controls.splice(G,1),this.updateValueAndValidity({emitEvent:$.emitEvent})}setControl(G,$,Ce={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),this.controls.splice(G,1),$&&(this.controls.splice(G,0,$),this._registerControl($)),this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(G,$={}){this._checkAllValuesPresent(G),G.forEach((Ce,xt)=>{this._throwIfControlMissing(xt),this.at(xt).setValue(Ce,{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($)}patchValue(G,$={}){null!=G&&(G.forEach((Ce,xt)=>{this.at(xt)&&this.at(xt).patchValue(Ce,{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($))}reset(G=[],$={}){this._forEachChild((Ce,xt)=>{Ce.reset(G[xt],{onlySelf:!0,emitEvent:$.emitEvent})}),this._updatePristine($),this._updateTouched($),this.updateValueAndValidity($)}getRawValue(){return this.controls.map(G=>G instanceof pi?G.value:G.getRawValue())}clear(G={}){this.controls.length<1||(this._forEachChild($=>$._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:G.emitEvent}))}_syncPendingControls(){let G=this.controls.reduce(($,Ce)=>!!Ce._syncPendingControls()||$,!1);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_throwIfControlMissing(G){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(G))throw new Error(`Cannot find form control at index ${G}`)}_forEachChild(G){this.controls.forEach(($,Ce)=>{G($,Ce)})}_updateValue(){this.value=this.controls.filter(G=>G.enabled||this.disabled).map(G=>G.value)}_anyControls(G){return this.controls.some($=>$.enabled&&G($))}_setUpControls(){this._forEachChild(G=>this._registerControl(G))}_checkAllValuesPresent(G){this._forEachChild(($,Ce)=>{if(void 0===G[Ce])throw new Error(`Must supply a value for form control at index: ${Ce}.`)})}_allControlsDisabled(){for(const G of this.controls)if(G.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(G){G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)}}const Jn={provide:Zn,useExisting:(0,m.Gpc)(()=>Uo)},ls=(()=>Promise.resolve(null))();let Uo=(()=>{class z extends Zn{constructor($,Ce,xt,nn){super(),this.control=new pi,this._registered=!1,this.update=new m.vpe,this._parent=$,this._setValidators(Ce),this._setAsyncValidators(xt),this.valueAccessor=tt(0,nn)}ngOnChanges($){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in $&&this._updateDisabled($),hr($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?nr(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pi(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){ls.then(()=>{this.control.setValue($,{emitViewToModelChange:!1})})}_updateDisabled($){const Ce=$.isDisabled.currentValue,xt=""===Ce||Ce&&"false"!==Ce;ls.then(()=>{xt&&!this.control.disabled?this.control.disable():!xt&&this.control.disabled&&this.control.enable()})}}return z.\u0275fac=function($){return new($||z)(m.Y36(si,9),m.Y36(Oe,10),m.Y36(Mt,10),m.Y36(_e,10))},z.\u0275dir=m.lG2({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([Jn]),m.qOj,m.TTD]}),z})(),Nr=(()=>{class z{}return z.\u0275fac=function($){return new($||z)},z.\u0275dir=m.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),z})(),Eo=(()=>{class z{}return z.\u0275fac=function($){return new($||z)},z.\u0275mod=m.oAB({type:z}),z.\u0275inj=m.cJS({}),z})();const Xr=new m.OlP("NgModelWithFormControlWarning"),lo={provide:Zn,useExisting:(0,m.Gpc)(()=>Ro)};let Ro=(()=>{class z extends Zn{constructor($,Ce,xt,nn){super(),this._ngModelWarningConfig=nn,this.update=new m.vpe,this._ngModelWarningSent=!1,this._setValidators($),this._setAsyncValidators(Ce),this.valueAccessor=tt(0,xt)}set isDisabled($){}ngOnChanges($){if(this._isControlChanged($)){const Ce=$.form.previousValue;Ce&&bt(Ce,this,!1),Pi(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}hr($,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&bt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_isControlChanged($){return $.hasOwnProperty("form")}}return z._ngModelWarningSentOnce=!1,z.\u0275fac=function($){return new($||z)(m.Y36(Oe,10),m.Y36(Mt,10),m.Y36(_e,10),m.Y36(Xr,8))},z.\u0275dir=m.lG2({type:z,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[m._Bn([lo]),m.qOj,m.TTD]}),z})();const co={provide:si,useExisting:(0,m.Gpc)(()=>vr)};let vr=(()=>{class z extends si{constructor($,Ce){super(),this.validators=$,this.asyncValidators=Ce,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators($),this._setAsyncValidators(Ce)}ngOnChanges($){this._checkFormPresent(),$.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl($){const Ce=this.form.get($.path);return Pi(Ce,$),Ce.updateValueAndValidity({emitEvent:!1}),this.directives.push($),Ce}getControl($){return this.form.get($.path)}removeControl($){bt($.control||null,$,!1),St(this.directives,$)}addFormGroup($){this._setUpFormContainer($)}removeFormGroup($){this._cleanUpFormContainer($)}getFormGroup($){return this.form.get($.path)}addFormArray($){this._setUpFormContainer($)}removeFormArray($){this._cleanUpFormContainer($)}getFormArray($){return this.form.get($.path)}updateModel($,Ce){this.form.get($.path).setValue(Ce)}onSubmit($){return this.submitted=!0,function(z,G){z._syncPendingControls(),G.forEach($=>{const Ce=$.control;"submit"===Ce.updateOn&&Ce._pendingChange&&($.viewToModelUpdate(Ce._pendingValue),Ce._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit($),!1}onReset(){this.resetForm()}resetForm($){this.form.reset($),this.submitted=!1}_updateDomValue(){this.directives.forEach($=>{const Ce=$.control,xt=this.form.get($.path);Ce!==xt&&(bt(Ce||null,$),xt instanceof pi&&(Pi(xt,$),$.control=xt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer($){const Ce=this.form.get($.path);(function(z,G){Gt(z,G)})(Ce,$),Ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer($){if(this.form){const Ce=this.form.get($.path);Ce&&function(z,G){return Tt(z,G)}(Ce,$)&&Ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gt(this.form,this),this._oldForm&&Tt(this._oldForm,this)}_checkFormPresent(){}}return z.\u0275fac=function($){return new($||z)(m.Y36(Oe,10),m.Y36(Mt,10))},z.\u0275dir=m.lG2({type:z,selectors:[["","formGroup",""]],hostBindings:function($,Ce){1&$&&m.NdJ("submit",function(nn){return Ce.onSubmit(nn)})("reset",function(){return Ce.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([co]),m.qOj,m.TTD]}),z})();const ts={provide:Zn,useExisting:(0,m.Gpc)(()=>da)};let da=(()=>{class z extends Zn{constructor($,Ce,xt,nn,_n){super(),this._ngModelWarningConfig=_n,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=$,this._setValidators(Ce),this._setAsyncValidators(xt),this.valueAccessor=tt(0,nn)}set isDisabled($){}ngOnChanges($){this._added||this._setUpControl(),hr($,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}get path(){return nr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return z._ngModelWarningSentOnce=!1,z.\u0275fac=function($){return new($||z)(m.Y36(si,13),m.Y36(Oe,10),m.Y36(Mt,10),m.Y36(_e,10),m.Y36(Xr,8))},z.\u0275dir=m.lG2({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([ts]),m.qOj,m.TTD]}),z})();const Qs={provide:_e,useExisting:(0,m.Gpc)(()=>Mo),multi:!0};function Js(z,G){return null==z?`${G}`:(G&&"object"==typeof G&&(G="Object"),`${z}: ${G}`.slice(0,50))}let Mo=(()=>{class z extends ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith($){this._compareWith=$}writeValue($){this.value=$;const Ce=this._getOptionId($);null==Ce&&this.setProperty("selectedIndex",-1);const xt=Js(Ce,$);this.setProperty("value",xt)}registerOnChange($){this.onChange=Ce=>{this.value=this._getOptionValue(Ce),$(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId($){for(const Ce of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Ce),$))return Ce;return null}_getOptionValue($){const Ce=function(z){return z.split(":")[0]}($);return this._optionMap.has(Ce)?this._optionMap.get(Ce):$}}return z.\u0275fac=function(){let G;return function(Ce){return(G||(G=m.n5z(z)))(Ce||z)}}(),z.\u0275dir=m.lG2({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($,Ce){1&$&&m.NdJ("change",function(nn){return Ce.onChange(nn.target.value)})("blur",function(){return Ce.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Qs]),m.qOj]}),z})(),ns=(()=>{class z{constructor($,Ce,xt){this._element=$,this._renderer=Ce,this._select=xt,this._select&&(this.id=this._select._registerOption())}set ngValue($){null!=this._select&&(this._select._optionMap.set(this.id,$),this._setElementValue(Js(this.id,$)),this._select.writeValue(this._select.value))}set value($){this._setElementValue($),this._select&&this._select.writeValue(this._select.value)}_setElementValue($){this._renderer.setProperty(this._element.nativeElement,"value",$)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return z.\u0275fac=function($){return new($||z)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Mo,9))},z.\u0275dir=m.lG2({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),z})();const Xs={provide:_e,useExisting:(0,m.Gpc)(()=>$r),multi:!0};function Bs(z,G){return null==z?`${G}`:("string"==typeof G&&(G=`'${G}'`),G&&"object"==typeof G&&(G="Object"),`${z}: ${G}`.slice(0,50))}let $r=(()=>{class z extends ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith($){this._compareWith=$}writeValue($){let Ce;if(this.value=$,Array.isArray($)){const xt=$.map(nn=>this._getOptionId(nn));Ce=(nn,_n)=>{nn._setSelected(xt.indexOf(_n.toString())>-1)}}else Ce=(xt,nn)=>{xt._setSelected(!1)};this._optionMap.forEach(Ce)}registerOnChange($){this.onChange=Ce=>{const xt=[],nn=Ce.selectedOptions;if(void 0!==nn){const _n=nn;for(let ni=0;ni<_n.length;ni++){const Fi=this._getOptionValue(_n[ni].value);xt.push(Fi)}}else{const _n=Ce.options;for(let ni=0;ni<_n.length;ni++){const li=_n[ni];if(li.selected){const Fi=this._getOptionValue(li.value);xt.push(Fi)}}}this.value=xt,$(xt)}}_registerOption($){const Ce=(this._idCounter++).toString();return this._optionMap.set(Ce,$),Ce}_getOptionId($){for(const Ce of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Ce)._value,$))return Ce;return null}_getOptionValue($){const Ce=function(z){return z.split(":")[0]}($);return this._optionMap.has(Ce)?this._optionMap.get(Ce)._value:$}}return z.\u0275fac=function(){let G;return function(Ce){return(G||(G=m.n5z(z)))(Ce||z)}}(),z.\u0275dir=m.lG2({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($,Ce){1&$&&m.NdJ("change",function(nn){return Ce.onChange(nn.target)})("blur",function(){return Ce.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Xs]),m.qOj]}),z})(),ea=(()=>{class z{constructor($,Ce,xt){this._element=$,this._renderer=Ce,this._select=xt,this._select&&(this.id=this._select._registerOption(this))}set ngValue($){null!=this._select&&(this._value=$,this._setElementValue(Bs(this.id,$)),this._select.writeValue(this._select.value))}set value($){this._select?(this._value=$,this._setElementValue(Bs(this.id,$)),this._select.writeValue(this._select.value)):this._setElementValue($)}_setElementValue($){this._renderer.setProperty(this._element.nativeElement,"value",$)}_setSelected($){this._renderer.setProperty(this._element.nativeElement,"selected",$)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return z.\u0275fac=function($){return new($||z)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36($r,9))},z.\u0275dir=m.lG2({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),z})();let Ji=(()=>{class z{constructor(){this._validator=Fe}ngOnChanges($){if(this.inputName in $){const Ce=this.normalizeInput($[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(Ce):Fe,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled(){return null!=this[this.inputName]}}return z.\u0275fac=function($){return new($||z)},z.\u0275dir=m.lG2({type:z,features:[m.TTD]}),z})();const ya={provide:Oe,useExisting:(0,m.Gpc)(()=>vs),multi:!0};let vs=(()=>{class z extends Ji{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=$=>function(z){return"number"==typeof z?z:parseInt(z,10)}($),this.createValidator=$=>ze($)}}return z.\u0275fac=function(){let G;return function(Ce){return(G||(G=m.n5z(z)))(Ce||z)}}(),z.\u0275dir=m.lG2({type:z,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function($,Ce){2&$&&m.uIk("maxlength",Ce.enabled()?Ce.maxlength:null)},inputs:{maxlength:"maxlength"},features:[m._Bn([ya]),m.qOj]}),z})(),it=(()=>{class z{}return z.\u0275fac=function($){return new($||z)},z.\u0275mod=m.oAB({type:z}),z.\u0275inj=m.cJS({imports:[[Eo]]}),z})(),V=(()=>{class z{}return z.\u0275fac=function($){return new($||z)},z.\u0275mod=m.oAB({type:z}),z.\u0275inj=m.cJS({imports:[it]}),z})(),le=(()=>{class z{static withConfig($){return{ngModule:z,providers:[{provide:Xr,useValue:$.warnOnNgModelWithFormControl}]}}}return z.\u0275fac=function($){return new($||z)},z.\u0275mod=m.oAB({type:z}),z.\u0275inj=m.cJS({imports:[it]}),z})(),ve=(()=>{class z{group($,Ce=null){const xt=this._reduceControls($);let ni,nn=null,_n=null;return null!=Ce&&(function(z){return void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn}(Ce)?(nn=null!=Ce.validators?Ce.validators:null,_n=null!=Ce.asyncValidators?Ce.asyncValidators:null,ni=null!=Ce.updateOn?Ce.updateOn:void 0):(nn=null!=Ce.validator?Ce.validator:null,_n=null!=Ce.asyncValidator?Ce.asyncValidator:null)),new Ki(xt,{asyncValidators:_n,updateOn:ni,validators:nn})}control($,Ce,xt){return new pi($,Ce,xt)}array($,Ce,xt){const nn=$.map(_n=>this._createControl(_n));return new yo(nn,Ce,xt)}_reduceControls($){const Ce={};return Object.keys($).forEach(xt=>{Ce[xt]=this._createControl($[xt])}),Ce}_createControl($){return $ instanceof pi||$ instanceof Ki||$ instanceof yo?$:Array.isArray($)?this.control($[0],$.length>1?$[1]:null,$.length>2?$[2]:null):this.control($)}}return z.\u0275fac=function($){return new($||z)},z.\u0275prov=m.Yz7({token:z,factory:z.\u0275fac,providedIn:le}),z})()},5427:(Jt,vt,X)=>{"use strict";X.d(vt,{b2:()=>Cn,H7:()=>Hi,q6:()=>br,se:()=>ze});var m=X(6019),B=X(9619);class he extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ne extends he{static makeCurrent(){(0,m.HT)(new Ne)}onAndCancel(yt,tt,St){return yt.addEventListener(tt,St,!1),()=>{yt.removeEventListener(tt,St,!1)}}dispatchEvent(yt,tt){yt.dispatchEvent(tt)}remove(yt){yt.parentNode&&yt.parentNode.removeChild(yt)}createElement(yt,tt){return(tt=tt||this.getDefaultDocument()).createElement(yt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(yt){return yt.nodeType===Node.ELEMENT_NODE}isShadowRoot(yt){return yt instanceof DocumentFragment}getGlobalEventTarget(yt,tt){return"window"===tt?window:"document"===tt?yt:"body"===tt?yt.body:null}getBaseHref(yt){const tt=(ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null);return null==tt?null:function(Pt){De=De||document.createElement("a"),De.setAttribute("href",Pt);const yt=De.pathname;return"/"===yt.charAt(0)?yt:`/${yt}`}(tt)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(yt){return(0,m.Mx)(document.cookie,yt)}}let De,ce=null;const be=new B.OlP("TRANSITION_ID"),ge=[{provide:B.ip1,useFactory:function(Pt,yt,tt){return()=>{tt.get(B.CZH).donePromise.then(()=>{const St=(0,m.q)(),Qt=yt.querySelectorAll(`style[ng-transition="${Pt}"]`);for(let Tn=0;Tn<Qt.length;Tn++)St.remove(Qt[Tn])})}},deps:[be,m.K0,B.zs3],multi:!0}];class _e{static init(){(0,B.VLi)(new _e)}addToWindow(yt){B.dqk.getAngularTestability=(St,Qt=!0)=>{const Tn=yt.findTestabilityInTree(St,Qt);if(null==Tn)throw new Error("Could not find testability for element.");return Tn},B.dqk.getAllAngularTestabilities=()=>yt.getAllTestabilities(),B.dqk.getAllAngularRootElements=()=>yt.getAllRootElements(),B.dqk.frameworkStabilizers||(B.dqk.frameworkStabilizers=[]),B.dqk.frameworkStabilizers.push(St=>{const Qt=B.dqk.getAllAngularTestabilities();let Tn=Qt.length,kn=!1;const gi=function(Ar){kn=kn||Ar,Tn--,0==Tn&&St(kn)};Qt.forEach(function(Ar){Ar.whenStable(gi)})})}findTestabilityInTree(yt,tt,St){if(null==tt)return null;const Qt=yt.getTestability(tt);return null!=Qt?Qt:St?(0,m.q)().isShadowRoot(tt)?this.findTestabilityInTree(yt,tt.host,!0):this.findTestabilityInTree(yt,tt.parentElement,!0):null}}let Te=(()=>{class Pt{build(){return new XMLHttpRequest}}return Pt.\u0275fac=function(tt){return new(tt||Pt)},Pt.\u0275prov=B.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})();const we=new B.OlP("EventManagerPlugins");let Ve=(()=>{class Pt{constructor(tt,St){this._zone=St,this._eventNameToPlugin=new Map,tt.forEach(Qt=>Qt.manager=this),this._plugins=tt.slice().reverse()}addEventListener(tt,St,Qt){return this._findPluginFor(St).addEventListener(tt,St,Qt)}addGlobalEventListener(tt,St,Qt){return this._findPluginFor(St).addGlobalEventListener(tt,St,Qt)}getZone(){return this._zone}_findPluginFor(tt){const St=this._eventNameToPlugin.get(tt);if(St)return St;const Qt=this._plugins;for(let Tn=0;Tn<Qt.length;Tn++){const kn=Qt[Tn];if(kn.supports(tt))return this._eventNameToPlugin.set(tt,kn),kn}throw new Error(`No event manager plugin found for event ${tt}`)}}return Pt.\u0275fac=function(tt){return new(tt||Pt)(B.LFG(we),B.LFG(B.R0b))},Pt.\u0275prov=B.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})();class Xe{constructor(yt){this._doc=yt}addGlobalEventListener(yt,tt,St){const Qt=(0,m.q)().getGlobalEventTarget(this._doc,yt);if(!Qt)throw new Error(`Unsupported event target ${Qt} for event ${tt}`);return this.addEventListener(Qt,tt,St)}}let Se=(()=>{class Pt{constructor(){this._stylesSet=new Set}addStyles(tt){const St=new Set;tt.forEach(Qt=>{this._stylesSet.has(Qt)||(this._stylesSet.add(Qt),St.add(Qt))}),this.onStylesAdded(St)}onStylesAdded(tt){}getAllStyles(){return Array.from(this._stylesSet)}}return Pt.\u0275fac=function(tt){return new(tt||Pt)},Pt.\u0275prov=B.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})(),ct=(()=>{class Pt extends Se{constructor(tt){super(),this._doc=tt,this._hostNodes=new Map,this._hostNodes.set(tt.head,[])}_addStylesToHost(tt,St,Qt){tt.forEach(Tn=>{const kn=this._doc.createElement("style");kn.textContent=Tn,Qt.push(St.appendChild(kn))})}addHost(tt){const St=[];this._addStylesToHost(this._stylesSet,tt,St),this._hostNodes.set(tt,St)}removeHost(tt){const St=this._hostNodes.get(tt);St&&St.forEach($e),this._hostNodes.delete(tt)}onStylesAdded(tt){this._hostNodes.forEach((St,Qt)=>{this._addStylesToHost(tt,Qt,St)})}ngOnDestroy(){this._hostNodes.forEach(tt=>tt.forEach($e))}}return Pt.\u0275fac=function(tt){return new(tt||Pt)(B.LFG(m.K0))},Pt.\u0275prov=B.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})();function $e(Pt){(0,m.q)().remove(Pt)}const de={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Oe=/%COMP%/g;function et(Pt,yt,tt){for(let St=0;St<yt.length;St++){let Qt=yt[St];Array.isArray(Qt)?et(Pt,Qt,tt):(Qt=Qt.replace(Oe,Pt),tt.push(Qt))}return tt}function Ke(Pt){return yt=>{if("__ngUnwrap__"===yt)return Pt;!1===Pt(yt)&&(yt.preventDefault(),yt.returnValue=!1)}}let ze=(()=>{class Pt{constructor(tt,St,Qt){this.eventManager=tt,this.sharedStylesHost=St,this.appId=Qt,this.rendererByCompId=new Map,this.defaultRenderer=new He(tt)}createRenderer(tt,St){if(!tt||!St)return this.defaultRenderer;switch(St.encapsulation){case B.ifc.Emulated:{let Qt=this.rendererByCompId.get(St.id);return Qt||(Qt=new It(this.eventManager,this.sharedStylesHost,St,this.appId),this.rendererByCompId.set(St.id,Qt)),Qt.applyToHost(tt),Qt}case 1:case B.ifc.ShadowDom:return new Vt(this.eventManager,this.sharedStylesHost,tt,St);default:if(!this.rendererByCompId.has(St.id)){const Qt=et(St.id,St.styles,[]);this.sharedStylesHost.addStyles(Qt),this.rendererByCompId.set(St.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Pt.\u0275fac=function(tt){return new(tt||Pt)(B.LFG(Ve),B.LFG(ct),B.LFG(B.AFp))},Pt.\u0275prov=B.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})();class He{constructor(yt){this.eventManager=yt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(yt,tt){return tt?document.createElementNS(de[tt]||tt,yt):document.createElement(yt)}createComment(yt){return document.createComment(yt)}createText(yt){return document.createTextNode(yt)}appendChild(yt,tt){yt.appendChild(tt)}insertBefore(yt,tt,St){yt&&yt.insertBefore(tt,St)}removeChild(yt,tt){yt&&yt.removeChild(tt)}selectRootElement(yt,tt){let St="string"==typeof yt?document.querySelector(yt):yt;if(!St)throw new Error(`The selector "${yt}" did not match any elements`);return tt||(St.textContent=""),St}parentNode(yt){return yt.parentNode}nextSibling(yt){return yt.nextSibling}setAttribute(yt,tt,St,Qt){if(Qt){tt=Qt+":"+tt;const Tn=de[Qt];Tn?yt.setAttributeNS(Tn,tt,St):yt.setAttribute(tt,St)}else yt.setAttribute(tt,St)}removeAttribute(yt,tt,St){if(St){const Qt=de[St];Qt?yt.removeAttributeNS(Qt,tt):yt.removeAttribute(`${St}:${tt}`)}else yt.removeAttribute(tt)}addClass(yt,tt){yt.classList.add(tt)}removeClass(yt,tt){yt.classList.remove(tt)}setStyle(yt,tt,St,Qt){Qt&(B.JOm.DashCase|B.JOm.Important)?yt.style.setProperty(tt,St,Qt&B.JOm.Important?"important":""):yt.style[tt]=St}removeStyle(yt,tt,St){St&B.JOm.DashCase?yt.style.removeProperty(tt):yt.style[tt]=""}setProperty(yt,tt,St){yt[tt]=St}setValue(yt,tt){yt.nodeValue=tt}listen(yt,tt,St){return"string"==typeof yt?this.eventManager.addGlobalEventListener(yt,tt,Ke(St)):this.eventManager.addEventListener(yt,tt,Ke(St))}}class It extends He{constructor(yt,tt,St,Qt){super(yt),this.component=St;const Tn=et(Qt+"-"+St.id,St.styles,[]);tt.addStyles(Tn),this.contentAttr="_ngcontent-%COMP%".replace(Oe,Qt+"-"+St.id),this.hostAttr="_nghost-%COMP%".replace(Oe,Qt+"-"+St.id)}applyToHost(yt){super.setAttribute(yt,this.hostAttr,"")}createElement(yt,tt){const St=super.createElement(yt,tt);return super.setAttribute(St,this.contentAttr,""),St}}class Vt extends He{constructor(yt,tt,St,Qt){super(yt),this.sharedStylesHost=tt,this.hostEl=St,this.shadowRoot=St.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Tn=et(Qt.id,Qt.styles,[]);for(let kn=0;kn<Tn.length;kn++){const gi=document.createElement("style");gi.textContent=Tn[kn],this.shadowRoot.appendChild(gi)}}nodeOrShadowRoot(yt){return yt===this.hostEl?this.shadowRoot:yt}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(yt,tt){return super.appendChild(this.nodeOrShadowRoot(yt),tt)}insertBefore(yt,tt,St){return super.insertBefore(this.nodeOrShadowRoot(yt),tt,St)}removeChild(yt,tt){return super.removeChild(this.nodeOrShadowRoot(yt),tt)}parentNode(yt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(yt)))}}let Ht=(()=>{class Pt extends Xe{constructor(tt){super(tt)}supports(tt){return!0}addEventListener(tt,St,Qt){return tt.addEventListener(St,Qt,!1),()=>this.removeEventListener(tt,St,Qt)}removeEventListener(tt,St,Qt){return tt.removeEventListener(St,Qt)}}return Pt.\u0275fac=function(tt){return new(tt||Pt)(B.LFG(m.K0))},Pt.\u0275prov=B.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})();const jt=["alt","control","meta","shift"],lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_t={alt:Pt=>Pt.altKey,control:Pt=>Pt.ctrlKey,meta:Pt=>Pt.metaKey,shift:Pt=>Pt.shiftKey};let Et=(()=>{class Pt extends Xe{constructor(tt){super(tt)}supports(tt){return null!=Pt.parseEventName(tt)}addEventListener(tt,St,Qt){const Tn=Pt.parseEventName(St),kn=Pt.eventCallback(Tn.fullKey,Qt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(tt,Tn.domEventName,kn))}static parseEventName(tt){const St=tt.toLowerCase().split("."),Qt=St.shift();if(0===St.length||"keydown"!==Qt&&"keyup"!==Qt)return null;const Tn=Pt._normalizeKey(St.pop());let kn="";if(jt.forEach(Ar=>{const Ai=St.indexOf(Ar);Ai>-1&&(St.splice(Ai,1),kn+=Ar+".")}),kn+=Tn,0!=St.length||0===Tn.length)return null;const gi={};return gi.domEventName=Qt,gi.fullKey=kn,gi}static getEventFullKey(tt){let St="",Qt=function(Pt){let yt=Pt.key;if(null==yt){if(yt=Pt.keyIdentifier,null==yt)return"Unidentified";yt.startsWith("U+")&&(yt=String.fromCharCode(parseInt(yt.substring(2),16)),3===Pt.location&&$t.hasOwnProperty(yt)&&(yt=$t[yt]))}return lt[yt]||yt}(tt);return Qt=Qt.toLowerCase()," "===Qt?Qt="space":"."===Qt&&(Qt="dot"),jt.forEach(Tn=>{Tn!=Qt&&_t[Tn](tt)&&(St+=Tn+".")}),St+=Qt,St}static eventCallback(tt,St,Qt){return Tn=>{Pt.getEventFullKey(Tn)===tt&&Qt.runGuarded(()=>St(Tn))}}static _normalizeKey(tt){return"esc"===tt?"escape":tt}}return Pt.\u0275fac=function(tt){return new(tt||Pt)(B.LFG(m.K0))},Pt.\u0275prov=B.Yz7({token:Pt,factory:Pt.\u0275fac}),Pt})();const br=(0,B.eFA)(B._c5,"browser",[{provide:B.Lbi,useValue:m.bD},{provide:B.g9A,useValue:function(){Ne.makeCurrent(),_e.init()},multi:!0},{provide:m.K0,useFactory:function(){return(0,B.RDi)(document),document},deps:[]}]),Nn=[{provide:B.zSh,useValue:"root"},{provide:B.qLn,useFactory:function(){return new B.qLn},deps:[]},{provide:we,useClass:Ht,multi:!0,deps:[m.K0,B.R0b,B.Lbi]},{provide:we,useClass:Et,multi:!0,deps:[m.K0]},{provide:ze,useClass:ze,deps:[Ve,ct,B.AFp]},{provide:B.FYo,useExisting:ze},{provide:Se,useExisting:ct},{provide:ct,useClass:ct,deps:[m.K0]},{provide:B.dDg,useClass:B.dDg,deps:[B.R0b]},{provide:Ve,useClass:Ve,deps:[we,B.R0b]},{provide:m.JF,useClass:Te,deps:[]}];let Cn=(()=>{class Pt{constructor(tt){if(tt)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(tt){return{ngModule:Pt,providers:[{provide:B.AFp,useValue:tt.appId},{provide:be,useExisting:B.AFp},ge]}}}return Pt.\u0275fac=function(tt){return new(tt||Pt)(B.LFG(Pt,12))},Pt.\u0275mod=B.oAB({type:Pt}),Pt.\u0275inj=B.cJS({providers:Nn,imports:[m.ez,B.hGG]}),Pt})();"undefined"!=typeof window&&window;let Hi=(()=>{class Pt{}return Pt.\u0275fac=function(tt){return new(tt||Pt)},Pt.\u0275prov=B.Yz7({token:Pt,factory:function(tt){let St=null;return St=tt?new(tt||Pt):B.LFG(Qr),St},providedIn:"root"}),Pt})(),Qr=(()=>{class Pt extends Hi{constructor(tt){super(),this._doc=tt}sanitize(tt,St){if(null==St)return null;switch(tt){case B.q3G.NONE:return St;case B.q3G.HTML:return(0,B.qzn)(St,"HTML")?(0,B.z3N)(St):(0,B.EiD)(this._doc,String(St)).toString();case B.q3G.STYLE:return(0,B.qzn)(St,"Style")?(0,B.z3N)(St):St;case B.q3G.SCRIPT:if((0,B.qzn)(St,"Script"))return(0,B.z3N)(St);throw new Error("unsafe value used in a script context");case B.q3G.URL:return(0,B.yhl)(St),(0,B.qzn)(St,"URL")?(0,B.z3N)(St):(0,B.mCW)(String(St));case B.q3G.RESOURCE_URL:if((0,B.qzn)(St,"ResourceURL"))return(0,B.z3N)(St);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${tt} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(tt){return(0,B.JVY)(tt)}bypassSecurityTrustStyle(tt){return(0,B.L6k)(tt)}bypassSecurityTrustScript(tt){return(0,B.eBb)(tt)}bypassSecurityTrustUrl(tt){return(0,B.LAX)(tt)}bypassSecurityTrustResourceUrl(tt){return(0,B.pB0)(tt)}}return Pt.\u0275fac=function(tt){return new(tt||Pt)(B.LFG(m.K0))},Pt.\u0275prov=B.Yz7({token:Pt,factory:function(tt){let St=null;return St=tt?new tt:function(Pt){return new Qr(Pt.get(m.K0))}(B.LFG(B.zs3)),St},providedIn:"root"}),Pt})()},3736:(Jt,vt,X)=>{"use strict";X.d(vt,{F0:()=>qi,rH:()=>pa,Od:()=>Xn,Bz:()=>So,lC:()=>Be});var m=X(6019),B=X(9619),he=X(8151),Ne=X(5894),ce=X(4168);class U extends ce.L{notifyNext(R,L,re,ae,Re){this.destination.next(L)}notifyError(R,L){this.destination.error(R)}notifyComplete(R){this.destination.complete()}}class De extends ce.L{constructor(R,L,re){super(),this.parent=R,this.outerValue=L,this.outerIndex=re,this.index=0}_next(R){this.parent.notifyNext(this.outerValue,R,this.outerIndex,this.index++,this)}_error(R){this.parent.notifyError(R,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Y=X(4651),be=X(5548);function fe(H,R,L,re,ae=new De(H,L,re)){if(!ae.closed)return R instanceof be.y?R.subscribe(ae):(0,Y.s)(R)(ae)}var ge=X(5433);const _e={};class we{constructor(R){this.resultSelector=R}call(R,L){return L.subscribe(new Ve(R,this.resultSelector))}}class Ve extends U{constructor(R,L){super(R),this.resultSelector=L,this.active=0,this.values=[],this.observables=[]}_next(R){this.values.push(_e),this.observables.push(R)}_complete(){const R=this.observables,L=R.length;if(0===L)this.destination.complete();else{this.active=L,this.toRespond=L;for(let re=0;re<L;re++)this.add(fe(this,R[re],void 0,re))}}notifyComplete(R){0==(this.active-=1)&&this.destination.complete()}notifyNext(R,L,re){const ae=this.values,st=this.toRespond?ae[re]===_e?--this.toRespond:this.toRespond:0;ae[re]=L,0===st&&(this.resultSelector?this._tryResultSelector(ae):this.destination.next(ae.slice()))}_tryResultSelector(R){let L;try{L=this.resultSelector.apply(this,R)}catch(re){return void this.destination.error(re)}this.destination.next(L)}}var Xe=X(1915),Se=X(172);function ct(H){return new be.y(R=>{let L;try{L=H()}catch(ae){return void R.error(ae)}return(L?(0,Xe.D)(L):(0,Se.c)()).subscribe(R)})}var $e=X(2411),de=X(4099),Oe=X(9443),Mt=X(3596),dt=X(5783),Xt=X(3405),qt=X(8735),vn=X(523);function At(H){return function(L){return 0===H?(0,Se.c)():L.lift(new et(H))}}class et{constructor(R){if(this.total=R,this.total<0)throw new vn.W}call(R,L){return L.subscribe(new Ke(R,this.total))}}class Ke extends ce.L{constructor(R,L){super(R),this.total=L,this.ring=new Array,this.count=0}_next(R){const L=this.ring,re=this.total,ae=this.count++;L.length<re?L.push(R):L[ae%re]=R}_complete(){const R=this.destination;let L=this.count;if(L>0){const re=this.count>=this.total?this.total:this.count,ae=this.ring;for(let Re=0;Re<re;Re++){const st=L++%re;R.next(ae[st])}}R.complete()}}var je=X(6225),ze=X(3507),He=X(7255),Qe=X(1346);class Vt{constructor(R){this.callback=R}call(R,L){return L.subscribe(new Ht(R,this.callback))}}class Ht extends ce.L{constructor(R,L){super(R),this.add(new Qe.w(L))}}var jt=X(8053),Kt=X(9204),lt=X(6636),$t=X(1125),_t=X(7434),Et=X(2047),pn=X(6700),jn=X(739),Zi=X(4421),Dn=X(5722),kr=X(5234),br=X(2225);class Nn{constructor(R,L){this.id=R,this.url=L}}class Cn extends Nn{constructor(R,L,re="imperative",ae=null){super(R,L),this.navigationTrigger=re,this.restoredState=ae}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class si extends Nn{constructor(R,L,re){super(R,L),this.urlAfterRedirects=re}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zn extends Nn{constructor(R,L,re){super(R,L),this.reason=re}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ai extends Nn{constructor(R,L,re){super(R,L),this.error=re}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fi extends Nn{constructor(R,L,re,ae){super(R,L),this.urlAfterRedirects=re,this.state=ae}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di extends Nn{constructor(R,L,re,ae){super(R,L),this.urlAfterRedirects=re,this.state=ae}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends Nn{constructor(R,L,re,ae,Re){super(R,L),this.urlAfterRedirects=re,this.state=ae,this.shouldActivate=Re}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vo extends Nn{constructor(R,L,re,ae){super(R,L),this.urlAfterRedirects=re,this.state=ae}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rn extends Nn{constructor(R,L,re,ae){super(R,L),this.urlAfterRedirects=re,this.state=ae}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Or{constructor(R){this.route=R}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vo{constructor(R){this.route=R}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oo{constructor(R){this.snapshot=R}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{constructor(R){this.snapshot=R}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gn{constructor(R){this.snapshot=R}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hn{constructor(R){this.snapshot=R}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vr{constructor(R,L,re){this.routerEvent=R,this.position=L,this.anchor=re}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _i="primary";class cr{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const L=this.params[R];return Array.isArray(L)?L[0]:L}return null}getAll(R){if(this.has(R)){const L=this.params[R];return Array.isArray(L)?L:[L]}return[]}get keys(){return Object.keys(this.params)}}function Ni(H){return new cr(H)}const Ri="ngNavigationCancelingError";function nr(H){const R=Error("NavigationCancelingError: "+H);return R[Ri]=!0,R}function bt(H,R,L){const re=L.path.split("/");if(re.length>H.length||"full"===L.pathMatch&&(R.hasChildren()||re.length<H.length))return null;const ae={};for(let Re=0;Re<re.length;Re++){const st=re[Re],ht=H[Re];if(st.startsWith(":"))ae[st.substring(1)]=ht;else if(st!==ht.path)return null}return{consumed:H.slice(0,re.length),posParams:ae}}function Dt(H,R){const L=H?Object.keys(H):void 0,re=R?Object.keys(R):void 0;if(!L||!re||L.length!=re.length)return!1;let ae;for(let Re=0;Re<L.length;Re++)if(ae=L[Re],!Gt(H[ae],R[ae]))return!1;return!0}function Gt(H,R){if(Array.isArray(H)&&Array.isArray(R)){if(H.length!==R.length)return!1;const L=[...H].sort(),re=[...R].sort();return L.every((ae,Re)=>re[Re]===ae)}return H===R}function Tt(H){return Array.prototype.concat.apply([],H)}function sn(H){return H.length>0?H[H.length-1]:null}function Qn(H,R){for(const L in H)H.hasOwnProperty(L)&&R(H[L],L)}function Fn(H){return(0,B.CqO)(H)?H:(0,B.QGY)(H)?(0,Xe.D)(Promise.resolve(H)):(0,$e.of)(H)}const Hi={exact:function Pt(H,R,L){if(!Ai(H.segments,R.segments)||!Qt(H.segments,R.segments,L)||H.numberOfChildren!==R.numberOfChildren)return!1;for(const re in R.children)if(!H.children[re]||!Pt(H.children[re],R.children[re],L))return!1;return!0},subset:tt},Lr={exact:function(H,R){return Dt(H,R)},subset:function(H,R){return Object.keys(R).length<=Object.keys(H).length&&Object.keys(R).every(L=>Gt(H[L],R[L]))},ignored:()=>!0};function Qr(H,R,L){return Hi[L.paths](H.root,R.root,L.matrixParams)&&Lr[L.queryParams](H.queryParams,R.queryParams)&&!("exact"===L.fragment&&H.fragment!==R.fragment)}function tt(H,R,L){return St(H,R,R.segments,L)}function St(H,R,L,re){if(H.segments.length>L.length){const ae=H.segments.slice(0,L.length);return!(!Ai(ae,L)||R.hasChildren()||!Qt(ae,L,re))}if(H.segments.length===L.length){if(!Ai(H.segments,L)||!Qt(H.segments,L,re))return!1;for(const ae in R.children)if(!H.children[ae]||!tt(H.children[ae],R.children[ae],re))return!1;return!0}{const ae=L.slice(0,H.segments.length),Re=L.slice(H.segments.length);return!!(Ai(H.segments,ae)&&Qt(H.segments,ae,re)&&H.children[_i])&&St(H.children[_i],R,Re,re)}}function Qt(H,R,L){return R.every((re,ae)=>Lr[L](H[ae].parameters,re.parameters))}class Tn{constructor(R,L,re){this.root=R,this.queryParams=L,this.fragment=re}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ni(this.queryParams)),this._queryParamMap}toString(){return xr.serialize(this)}}class kn{constructor(R,L){this.segments=R,this.children=L,this.parent=null,Qn(L,(re,ae)=>re.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mn(this)}}class gi{constructor(R,L){this.path=R,this.parameters=L}get parameterMap(){return this._parameterMap||(this._parameterMap=Ni(this.parameters)),this._parameterMap}toString(){return sr(this)}}function Ai(H,R){return H.length===R.length&&H.every((L,re)=>L.path===R[re].path)}class as{}class fr{parse(R){const L=new Uo(R);return new Tn(L.parseRootSegment(),L.parseQueryParams(),L.parseFragment())}serialize(R){const L=`/${qn(R.root,!0)}`,re=function(H){const R=Object.keys(H).map(L=>{const re=H[L];return Array.isArray(re)?re.map(ae=>`${Ki(L)}=${Ki(ae)}`).join("&"):`${Ki(L)}=${Ki(re)}`}).filter(L=>!!L);return R.length?`?${R.join("&")}`:""}(R.queryParams);var H;return`${L}${re}${"string"==typeof R.fragment?`#${H=R.fragment,encodeURI(H)}`:""}`}}const xr=new fr;function mn(H){return H.segments.map(R=>sr(R)).join("/")}function qn(H,R){if(!H.hasChildren())return mn(H);if(R){const L=H.children[_i]?qn(H.children[_i],!1):"",re=[];return Qn(H.children,(ae,Re)=>{Re!==_i&&re.push(`${Re}:${qn(ae,!1)}`)}),re.length>0?`${L}(${re.join("//")})`:L}{const L=function(H,R){let L=[];return Qn(H.children,(re,ae)=>{ae===_i&&(L=L.concat(R(re,ae)))}),Qn(H.children,(re,ae)=>{ae!==_i&&(L=L.concat(R(re,ae)))}),L}(H,(re,ae)=>ae===_i?[qn(H.children[_i],!1)]:[`${ae}:${qn(re,!1)}`]);return 1===Object.keys(H.children).length&&null!=H.children[_i]?`${mn(H)}/${L[0]}`:`${mn(H)}/(${L.join("//")})`}}function pi(H){return encodeURIComponent(H).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ki(H){return pi(H).replace(/%3B/gi,";")}function qr(H){return pi(H).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wo(H){return decodeURIComponent(H)}function Qi(H){return wo(H.replace(/\+/g,"%20"))}function sr(H){return`${qr(H.path)}${function(H){return Object.keys(H).map(R=>`;${qr(R)}=${qr(H[R])}`).join("")}(H.parameters)}`}const gr=/^[^\/()?;=#]+/;function ao(H){const R=H.match(gr);return R?R[0]:""}const Xo=/^[^=?&#]+/,Jn=/^[^&#]+/;class Uo{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kn([],{}):new kn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let L={};this.peekStartsWith("/(")&&(this.capture("/"),L=this.parseParens(!0));let re={};return this.peekStartsWith("(")&&(re=this.parseParens(!1)),(R.length>0||Object.keys(L).length>0)&&(re[_i]=new kn(R,L)),re}parseSegment(){const R=ao(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(R),new gi(wo(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const L=ao(this.remaining);if(!L)return;this.capture(L);let re="";if(this.consumeOptional("=")){const ae=ao(this.remaining);ae&&(re=ae,this.capture(re))}R[wo(L)]=wo(re)}parseQueryParam(R){const L=function(H){const R=H.match(Xo);return R?R[0]:""}(this.remaining);if(!L)return;this.capture(L);let re="";if(this.consumeOptional("=")){const st=function(H){const R=H.match(Jn);return R?R[0]:""}(this.remaining);st&&(re=st,this.capture(re))}const ae=Qi(L),Re=Qi(re);if(R.hasOwnProperty(ae)){let st=R[ae];Array.isArray(st)||(st=[st],R[ae]=st),st.push(Re)}else R[ae]=Re}parseParens(R){const L={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const re=ao(this.remaining),ae=this.remaining[re.length];if("/"!==ae&&")"!==ae&&";"!==ae)throw new Error(`Cannot parse url '${this.url}'`);let Re;re.indexOf(":")>-1?(Re=re.substr(0,re.indexOf(":")),this.capture(Re),this.capture(":")):R&&(Re=_i);const st=this.parseChildren();L[Re]=1===Object.keys(st).length?st[_i]:new kn([],st),this.consumeOptional("//")}return L}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new Error(`Expected "${R}".`)}}class Nr{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const L=this.pathFromRoot(R);return L.length>1?L[L.length-2]:null}children(R){const L=Gi(R,this._root);return L?L.children.map(re=>re.value):[]}firstChild(R){const L=Gi(R,this._root);return L&&L.children.length>0?L.children[0].value:null}siblings(R){const L=cs(R,this._root);return L.length<2?[]:L[L.length-2].children.map(ae=>ae.value).filter(ae=>ae!==R)}pathFromRoot(R){return cs(R,this._root).map(L=>L.value)}}function Gi(H,R){if(H===R.value)return R;for(const L of R.children){const re=Gi(H,L);if(re)return re}return null}function cs(H,R){if(H===R.value)return[R];for(const L of R.children){const re=cs(H,L);if(re.length)return re.unshift(R),re}return[]}class Oo{constructor(R,L){this.value=R,this.children=L}toString(){return`TreeNode(${this.value})`}}function No(H){const R={};return H&&H.children.forEach(L=>R[L.value.outlet]=L),R}class Eo extends Nr{constructor(R,L){super(R),this.snapshot=L,co(this,R)}toString(){return this.snapshot.toString()}}function Ho(H,R){const L=function(H,R){const st=new lo([],{},{},"",{},_i,R,null,H.root,-1,{});return new Ro("",new Oo(st,[]))}(H,R),re=new de.X([new gi("",{})]),ae=new de.X({}),Re=new de.X({}),st=new de.X({}),ht=new de.X(""),Ft=new qo(re,ae,st,ht,Re,_i,R,L.root);return Ft.snapshot=L.root,new Eo(new Oo(Ft,[]),L)}class qo{constructor(R,L,re,ae,Re,st,ht,Ft){this.url=R,this.params=L,this.queryParams=re,this.fragment=ae,this.data=Re,this.outlet=st,this.component=ht,this._futureSnapshot=Ft}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,jt.U)(R=>Ni(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,jt.U)(R=>Ni(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jr(H,R="emptyOnly"){const L=H.pathFromRoot;let re=0;if("always"!==R)for(re=L.length-1;re>=1;){const ae=L[re],Re=L[re-1];if(ae.routeConfig&&""===ae.routeConfig.path)re--;else{if(Re.component)break;re--}}return function(H){return H.reduce((R,L)=>({params:un(un({},R.params),L.params),data:un(un({},R.data),L.data),resolve:un(un({},R.resolve),L._resolvedData)}),{params:{},data:{},resolve:{}})}(L.slice(re))}class lo{constructor(R,L,re,ae,Re,st,ht,Ft,Sn,mi,ei){this.url=R,this.params=L,this.queryParams=re,this.fragment=ae,this.data=Re,this.outlet=st,this.component=ht,this.routeConfig=Ft,this._urlSegment=Sn,this._lastPathIndex=mi,this._resolve=ei}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ni(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ni(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(re=>re.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ro extends Nr{constructor(R,L){super(L),this.url=R,co(this,L)}toString(){return vr(this._root)}}function co(H,R){R.value._routerState=H,R.children.forEach(L=>co(H,L))}function vr(H){const R=H.children.length>0?` { ${H.children.map(vr).join(", ")} } `:"";return`${H.value}${R}`}function Go(H){if(H.snapshot){const R=H.snapshot,L=H._futureSnapshot;H.snapshot=L,Dt(R.queryParams,L.queryParams)||H.queryParams.next(L.queryParams),R.fragment!==L.fragment&&H.fragment.next(L.fragment),Dt(R.params,L.params)||H.params.next(L.params),function(H,R){if(H.length!==R.length)return!1;for(let L=0;L<H.length;++L)if(!Dt(H[L],R[L]))return!1;return!0}(R.url,L.url)||H.url.next(L.url),Dt(R.data,L.data)||H.data.next(L.data)}else H.snapshot=H._futureSnapshot,H.data.next(H._futureSnapshot.data)}function Ur(H,R){const L=Dt(H.params,R.params)&&function(H,R){return Ai(H,R)&&H.every((L,re)=>Dt(L.parameters,R[re].parameters))}(H.url,R.url);return L&&!(!H.parent!=!R.parent)&&(!H.parent||Ur(H.parent,R.parent))}function Ls(H,R,L){if(L&&H.shouldReuseRoute(R.value,L.value.snapshot)){const re=L.value;re._futureSnapshot=R.value;const ae=function(H,R,L){return R.children.map(re=>{for(const ae of L.children)if(H.shouldReuseRoute(re.value,ae.value.snapshot))return Ls(H,re,ae);return Ls(H,re)})}(H,R,L);return new Oo(re,ae)}{if(H.shouldAttach(R.value)){const Re=H.retrieve(R.value);if(null!==Re){const st=Re.route;return st.value._futureSnapshot=R.value,st.children=R.children.map(ht=>Ls(H,ht)),st}}const re=function(H){return new qo(new de.X(H.url),new de.X(H.params),new de.X(H.queryParams),new de.X(H.fragment),new de.X(H.data),H.outlet,H.component,H)}(R.value),ae=R.children.map(Re=>Ls(H,Re));return new Oo(re,ae)}}function Qs(H){return"object"==typeof H&&null!=H&&!H.outlets&&!H.segmentPath}function Js(H){return"object"==typeof H&&null!=H&&H.outlets}function za(H,R,L,re,ae){let Re={};return re&&Qn(re,(st,ht)=>{Re[ht]=Array.isArray(st)?st.map(Ft=>`${Ft}`):`${st}`}),new Tn(L.root===H?R:Mo(L.root,H,R),Re,ae)}function Mo(H,R,L){const re={};return Qn(H.children,(ae,Re)=>{re[Re]=ae===R?L:Mo(ae,R,L)}),new kn(H.segments,re)}class ns{constructor(R,L,re){if(this.isAbsolute=R,this.numberOfDoubleDots=L,this.commands=re,R&&re.length>0&&Qs(re[0]))throw new Error("Root segment cannot have matrix parameters");const ae=re.find(Js);if(ae&&ae!==sn(re))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bs{constructor(R,L,re){this.segmentGroup=R,this.processChildren=L,this.index=re}}function ea(H,R,L){if(H||(H=new kn([],{})),0===H.segments.length&&H.hasChildren())return ta(H,R,L);const re=function(H,R,L){let re=0,ae=R;const Re={match:!1,pathIndex:0,commandIndex:0};for(;ae<H.segments.length;){if(re>=L.length)return Re;const st=H.segments[ae],ht=L[re];if(Js(ht))break;const Ft=`${ht}`,Sn=re<L.length-1?L[re+1]:null;if(ae>0&&void 0===Ft)break;if(Ft&&Sn&&"object"==typeof Sn&&void 0===Sn.outlets){if(!ur(Ft,Sn,st))return Re;re+=2}else{if(!ur(Ft,{},st))return Re;re++}ae++}return{match:!0,pathIndex:ae,commandIndex:re}}(H,R,L),ae=L.slice(re.commandIndex);if(re.match&&re.pathIndex<H.segments.length){const Re=new kn(H.segments.slice(0,re.pathIndex),{});return Re.children[_i]=new kn(H.segments.slice(re.pathIndex),H.children),ta(Re,0,ae)}return re.match&&0===ae.length?new kn(H.segments,{}):re.match&&!H.hasChildren()?Ji(H,R,L):re.match?ta(H,0,ae):Ji(H,R,L)}function ta(H,R,L){if(0===L.length)return new kn(H.segments,{});{const re=function(H){return Js(H[0])?H[0].outlets:{[_i]:H}}(L),ae={};return Qn(re,(Re,st)=>{"string"==typeof Re&&(Re=[Re]),null!==Re&&(ae[st]=ea(H.children[st],R,Re))}),Qn(H.children,(Re,st)=>{void 0===re[st]&&(ae[st]=Re)}),new kn(H.segments,ae)}}function Ji(H,R,L){const re=H.segments.slice(0,R);let ae=0;for(;ae<L.length;){const Re=L[ae];if(Js(Re)){const Ft=Es(Re.outlets);return new kn(re,Ft)}if(0===ae&&Qs(L[0])){re.push(new gi(H.segments[R].path,Xi(L[0]))),ae++;continue}const st=Js(Re)?Re.outlets[_i]:`${Re}`,ht=ae<L.length-1?L[ae+1]:null;st&&ht&&Qs(ht)?(re.push(new gi(st,Xi(ht))),ae+=2):(re.push(new gi(st,{})),ae++)}return new kn(re,{})}function Es(H){const R={};return Qn(H,(L,re)=>{"string"==typeof L&&(L=[L]),null!==L&&(R[re]=Ji(new kn([],{}),0,L))}),R}function Xi(H){const R={};return Qn(H,(L,re)=>R[re]=`${L}`),R}function ur(H,R,L){return H==L.path&&Dt(R,L.parameters)}class zs{constructor(R,L,re,ae){this.routeReuseStrategy=R,this.futureState=L,this.currState=re,this.forwardEvent=ae}activate(R){const L=this.futureState._root,re=this.currState?this.currState._root:null;this.deactivateChildRoutes(L,re,R),Go(this.futureState.root),this.activateChildRoutes(L,re,R)}deactivateChildRoutes(R,L,re){const ae=No(L);R.children.forEach(Re=>{const st=Re.value.outlet;this.deactivateRoutes(Re,ae[st],re),delete ae[st]}),Qn(ae,(Re,st)=>{this.deactivateRouteAndItsChildren(Re,re)})}deactivateRoutes(R,L,re){const ae=R.value,Re=L?L.value:null;if(ae===Re)if(ae.component){const st=re.getContext(ae.outlet);st&&this.deactivateChildRoutes(R,L,st.children)}else this.deactivateChildRoutes(R,L,re);else Re&&this.deactivateRouteAndItsChildren(L,re)}deactivateRouteAndItsChildren(R,L){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,L):this.deactivateRouteAndOutlet(R,L)}detachAndStoreRouteSubtree(R,L){const re=L.getContext(R.value.outlet),ae=re&&R.value.component?re.children:L,Re=No(R);for(const st of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[st],ae);if(re&&re.outlet){const st=re.outlet.detach(),ht=re.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:st,route:R,contexts:ht})}}deactivateRouteAndOutlet(R,L){const re=L.getContext(R.value.outlet),ae=re&&R.value.component?re.children:L,Re=No(R);for(const st of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[st],ae);re&&re.outlet&&(re.outlet.deactivate(),re.children.onOutletDeactivated(),re.attachRef=null,re.resolver=null,re.route=null)}activateChildRoutes(R,L,re){const ae=No(L);R.children.forEach(Re=>{this.activateRoutes(Re,ae[Re.value.outlet],re),this.forwardEvent(new Hn(Re.value.snapshot))}),R.children.length&&this.forwardEvent(new Ui(R.value.snapshot))}activateRoutes(R,L,re){const ae=R.value,Re=L?L.value:null;if(Go(ae),ae===Re)if(ae.component){const st=re.getOrCreateContext(ae.outlet);this.activateChildRoutes(R,L,st.children)}else this.activateChildRoutes(R,L,re);else if(ae.component){const st=re.getOrCreateContext(ae.outlet);if(this.routeReuseStrategy.shouldAttach(ae.snapshot)){const ht=this.routeReuseStrategy.retrieve(ae.snapshot);this.routeReuseStrategy.store(ae.snapshot,null),st.children.onOutletReAttached(ht.contexts),st.attachRef=ht.componentRef,st.route=ht.route.value,st.outlet&&st.outlet.attach(ht.componentRef,ht.route.value),Go(ht.route.value),this.activateChildRoutes(R,null,st.children)}else{const ht=function(H){for(let R=H.parent;R;R=R.parent){const L=R.routeConfig;if(L&&L._loadedConfig)return L._loadedConfig;if(L&&L.component)return null}return null}(ae.snapshot),Ft=ht?ht.module.componentFactoryResolver:null;st.attachRef=null,st.route=ae,st.resolver=Ft,st.outlet&&st.outlet.activateWith(ae,Ft),this.activateChildRoutes(R,null,st.children)}}else this.activateChildRoutes(R,null,re)}}class go{constructor(R,L){this.routes=R,this.module=L}}function $o(H){return"function"==typeof H}function Fo(H){return H instanceof Tn}const us=Symbol("INITIAL_VALUE");function Er(){return(0,Kt.w)(H=>function(...H){let R,L;return(0,he.K)(H[H.length-1])&&(L=H.pop()),"function"==typeof H[H.length-1]&&(R=H.pop()),1===H.length&&(0,Ne.k)(H[0])&&(H=H[0]),(0,ge.n)(H,L).lift(new we(R))}(H.map(R=>R.pipe((0,lt.q)(1),(0,$t.O)(us)))).pipe((0,_t.R)((R,L)=>{let re=!1;return L.reduce((ae,Re,st)=>ae!==us?ae:(Re===us&&(re=!0),re||!1!==Re&&st!==L.length-1&&!Fo(Re)?ae:Re),R)},us),(0,qt.h)(R=>R!==us),(0,jt.U)(R=>Fo(R)?R:!0===R),(0,lt.q)(1)))}class ie{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ne,this.attachRef=null}}class ne{constructor(){this.contexts=new Map}onChildOutletCreated(R,L){const re=this.getOrCreateContext(R);re.outlet=L,this.contexts.set(R,re)}onChildOutletDestroyed(R){const L=this.getContext(R);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let L=this.getContext(R);return L||(L=new ie,this.contexts.set(R,L)),L}getContext(R){return this.contexts.get(R)||null}}let Be=(()=>{class H{constructor(L,re,ae,Re,st){this.parentContexts=L,this.location=re,this.resolver=ae,this.changeDetector=st,this.activated=null,this._activatedRoute=null,this.activateEvents=new B.vpe,this.deactivateEvents=new B.vpe,this.attachEvents=new B.vpe,this.detachEvents=new B.vpe,this.name=Re||_i,L.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const L=this.parentContexts.getContext(this.name);L&&L.route&&(L.attachRef?this.attach(L.attachRef,L.route):this.activateWith(L.route,L.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const L=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(L.instance),L}attach(L,re){this.activated=L,this._activatedRoute=re,this.location.insert(L.hostView),this.attachEvents.emit(L.instance)}deactivate(){if(this.activated){const L=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(L)}}activateWith(L,re){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=L;const st=(re=re||this.resolver).resolveComponentFactory(L._futureSnapshot.routeConfig.component),ht=this.parentContexts.getOrCreateContext(this.name).children,Ft=new it(L,ht,this.location.injector);this.activated=this.location.createComponent(st,this.location.length,Ft),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return H.\u0275fac=function(L){return new(L||H)(B.Y36(ne),B.Y36(B.s_b),B.Y36(B._Vd),B.$8M("name"),B.Y36(B.sBO))},H.\u0275dir=B.lG2({type:H,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),H})();class it{constructor(R,L,re){this.route=R,this.childContexts=L,this.parent=re}get(R,L){return R===qo?this.route:R===ne?this.childContexts:this.parent.get(R,L)}}let V=(()=>{class H{}return H.\u0275fac=function(L){return new(L||H)},H.\u0275cmp=B.Xpm({type:H,selectors:[["ng-component"]],decls:1,vars:0,template:function(L,re){1&L&&B._UZ(0,"router-outlet")},directives:[Be],encapsulation:2}),H})();function le(H,R=""){for(let L=0;L<H.length;L++){const re=H[L];W(re,ve(R,re))}}function W(H,R){H.children&&le(H.children,R)}function ve(H,R){return R?H||R.path?H&&!R.path?`${H}/`:!H&&R.path?R.path:`${H}/${R.path}`:"":H}function Ze(H){const R=H.children&&H.children.map(Ze),L=R?_s(un({},H),{children:R}):un({},H);return!L.component&&(R||L.loadChildren)&&L.outlet&&L.outlet!==_i&&(L.component=V),L}function z(H){return H.outlet||_i}function G(H,R){const L=H.filter(re=>z(re)===R);return L.push(...H.filter(re=>z(re)!==R)),L}const $={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ce(H,R,L){var ht;if(""===R.path)return"full"===R.pathMatch&&(H.hasChildren()||L.length>0)?un({},$):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ae=(R.matcher||bt)(L,H,R);if(!ae)return un({},$);const Re={};Qn(ae.posParams,(Ft,Sn)=>{Re[Sn]=Ft.path});const st=ae.consumed.length>0?un(un({},Re),ae.consumed[ae.consumed.length-1].parameters):Re;return{matched:!0,consumedSegments:ae.consumed,lastChild:ae.consumed.length,parameters:st,positionalParamSegments:null!=(ht=ae.posParams)?ht:{}}}function xt(H,R,L,re,ae="corrected"){if(L.length>0&&function(H,R,L){return L.some(re=>Fi(H,R,re)&&z(re)!==_i)}(H,L,re)){const st=new kn(R,function(H,R,L,re){const ae={};ae[_i]=re,re._sourceSegment=H,re._segmentIndexShift=R.length;for(const Re of L)if(""===Re.path&&z(Re)!==_i){const st=new kn([],{});st._sourceSegment=H,st._segmentIndexShift=R.length,ae[z(Re)]=st}return ae}(H,R,re,new kn(L,H.children)));return st._sourceSegment=H,st._segmentIndexShift=R.length,{segmentGroup:st,slicedSegments:[]}}if(0===L.length&&function(H,R,L){return L.some(re=>Fi(H,R,re))}(H,L,re)){const st=new kn(H.segments,function(H,R,L,re,ae,Re){const st={};for(const ht of re)if(Fi(H,L,ht)&&!ae[z(ht)]){const Ft=new kn([],{});Ft._sourceSegment=H,Ft._segmentIndexShift="legacy"===Re?H.segments.length:R.length,st[z(ht)]=Ft}return un(un({},ae),st)}(H,R,L,re,H.children,ae));return st._sourceSegment=H,st._segmentIndexShift=R.length,{segmentGroup:st,slicedSegments:L}}const Re=new kn(H.segments,H.children);return Re._sourceSegment=H,Re._segmentIndexShift=R.length,{segmentGroup:Re,slicedSegments:L}}function Fi(H,R,L){return(!(H.hasChildren()||R.length>0)||"full"!==L.pathMatch)&&""===L.path}function yr(H,R,L,re){return!!(z(H)===re||re!==_i&&Fi(R,L,H))&&("**"===H.path||Ce(R,H,L).matched)}function uo(H,R,L){return 0===R.length&&!H.children[L]}class Sr{constructor(R){this.segmentGroup=R||null}}class ho{constructor(R){this.urlTree=R}}function ys(H){return new be.y(R=>R.error(new Sr(H)))}function ri(H){return new be.y(R=>R.error(new ho(H)))}function mo(H){return new be.y(R=>R.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${H}'`)))}class Mc{constructor(R,L,re,ae,Re){this.configLoader=L,this.urlSerializer=re,this.urlTree=ae,this.config=Re,this.allowRedirects=!0,this.ngModule=R.get(B.h0i)}apply(){const R=xt(this.urlTree.root,[],[],this.config).segmentGroup,L=new kn(R.segments,R.children);return this.expandSegmentGroup(this.ngModule,this.config,L,_i).pipe((0,jt.U)(Re=>this.createUrlTree(Sl(Re),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Et.K)(Re=>{if(Re instanceof ho)return this.allowRedirects=!1,this.match(Re.urlTree);throw Re instanceof Sr?this.noMatchError(Re):Re}))}match(R){return this.expandSegmentGroup(this.ngModule,this.config,R.root,_i).pipe((0,jt.U)(ae=>this.createUrlTree(Sl(ae),R.queryParams,R.fragment))).pipe((0,Et.K)(ae=>{throw ae instanceof Sr?this.noMatchError(ae):ae}))}noMatchError(R){return new Error(`Cannot match any routes. URL Segment: '${R.segmentGroup}'`)}createUrlTree(R,L,re){const ae=R.segments.length>0?new kn([],{[_i]:R}):R;return new Tn(ae,L,re)}expandSegmentGroup(R,L,re,ae){return 0===re.segments.length&&re.hasChildren()?this.expandChildren(R,L,re).pipe((0,jt.U)(Re=>new kn([],Re))):this.expandSegment(R,re,L,re.segments,ae,!0)}expandChildren(R,L,re){const ae=[];for(const Re of Object.keys(re.children))"primary"===Re?ae.unshift(Re):ae.push(Re);return(0,Xe.D)(ae).pipe((0,pn.b)(Re=>{const st=re.children[Re],ht=G(L,Re);return this.expandSegmentGroup(R,ht,st,Re).pipe((0,jt.U)(Ft=>({segment:Ft,outlet:Re})))}),(0,_t.R)((Re,st)=>(Re[st.outlet]=st.segment,Re),{}),function(H,R){const L=arguments.length>=2;return re=>re.pipe(H?(0,qt.h)((ae,Re)=>H(ae,Re,re)):He.y,At(1),L?(0,ze.d)(R):(0,je.T)(()=>new Oe.K))}())}expandSegment(R,L,re,ae,Re,st){return(0,Xe.D)(re).pipe((0,pn.b)(ht=>this.expandSegmentAgainstRoute(R,L,re,ht,ae,Re,st).pipe((0,Et.K)(Sn=>{if(Sn instanceof Sr)return(0,$e.of)(null);throw Sn}))),(0,jn.P)(ht=>!!ht),(0,Et.K)((ht,Ft)=>{if(ht instanceof Oe.K||"EmptyError"===ht.name){if(uo(L,ae,Re))return(0,$e.of)(new kn([],{}));throw new Sr(L)}throw ht}))}expandSegmentAgainstRoute(R,L,re,ae,Re,st,ht){return yr(ae,L,Re,st)?void 0===ae.redirectTo?this.matchSegmentAgainstRoute(R,L,ae,Re,st):ht&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,L,re,ae,Re,st):ys(L):ys(L)}expandSegmentAgainstRouteUsingRedirect(R,L,re,ae,Re,st){return"**"===ae.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,re,ae,st):this.expandRegularSegmentAgainstRouteUsingRedirect(R,L,re,ae,Re,st)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,L,re,ae){const Re=this.applyRedirectCommands([],re.redirectTo,{});return re.redirectTo.startsWith("/")?ri(Re):this.lineralizeSegments(re,Re).pipe((0,Zi.zg)(st=>{const ht=new kn(st,{});return this.expandSegment(R,ht,L,st,ae,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,L,re,ae,Re,st){const{matched:ht,consumedSegments:Ft,lastChild:Sn,positionalParamSegments:mi}=Ce(L,ae,Re);if(!ht)return ys(L);const ei=this.applyRedirectCommands(Ft,ae.redirectTo,mi);return ae.redirectTo.startsWith("/")?ri(ei):this.lineralizeSegments(ae,ei).pipe((0,Zi.zg)(ar=>this.expandSegment(R,L,re,ar.concat(Re.slice(Sn)),st,!1)))}matchSegmentAgainstRoute(R,L,re,ae,Re){if("**"===re.path)return re.loadChildren?(re._loadedConfig?(0,$e.of)(re._loadedConfig):this.configLoader.load(R.injector,re)).pipe((0,jt.U)(ar=>(re._loadedConfig=ar,new kn(ae,{})))):(0,$e.of)(new kn(ae,{}));const{matched:st,consumedSegments:ht,lastChild:Ft}=Ce(L,re,ae);if(!st)return ys(L);const Sn=ae.slice(Ft);return this.getChildConfig(R,re,ae).pipe((0,Zi.zg)(ei=>{const ar=ei.module,Bn=ei.routes,{segmentGroup:Il,slicedSegments:hs}=xt(L,ht,Sn,Bn),ra=new kn(Il.segments,Il.children);if(0===hs.length&&ra.hasChildren())return this.expandChildren(ar,Bn,ra).pipe((0,jt.U)(Me=>new kn(ht,Me)));if(0===Bn.length&&0===hs.length)return(0,$e.of)(new kn(ht,{}));const to=z(re)===Re;return this.expandSegment(ar,ra,Bn,hs,to?_i:Re,!0).pipe((0,jt.U)(fs=>new kn(ht.concat(fs.segments),fs.children)))}))}getChildConfig(R,L,re){return L.children?(0,$e.of)(new go(L.children,R)):L.loadChildren?void 0!==L._loadedConfig?(0,$e.of)(L._loadedConfig):this.runCanLoadGuards(R.injector,L,re).pipe((0,Zi.zg)(ae=>{return ae?this.configLoader.load(R.injector,L).pipe((0,jt.U)(Re=>(L._loadedConfig=Re,Re))):(H=L,new be.y(R=>R.error(nr(`Cannot load children because the guard of the route "path: '${H.path}'" returned false`))));var H})):(0,$e.of)(new go([],R))}runCanLoadGuards(R,L,re){const ae=L.canLoad;if(!ae||0===ae.length)return(0,$e.of)(!0);const Re=ae.map(st=>{const ht=R.get(st);let Ft;if((H=ht)&&$o(H.canLoad))Ft=ht.canLoad(L,re);else{if(!$o(ht))throw new Error("Invalid CanLoad guard");Ft=ht(L,re)}var H;return Fn(Ft)});return(0,$e.of)(Re).pipe(Er(),(0,Dn.b)(st=>{if(!Fo(st))return;const ht=nr(`Redirecting to "${this.urlSerializer.serialize(st)}"`);throw ht.url=st,ht}),(0,jt.U)(st=>!0===st))}lineralizeSegments(R,L){let re=[],ae=L.root;for(;;){if(re=re.concat(ae.segments),0===ae.numberOfChildren)return(0,$e.of)(re);if(ae.numberOfChildren>1||!ae.children[_i])return mo(R.redirectTo);ae=ae.children[_i]}}applyRedirectCommands(R,L,re){return this.applyRedirectCreatreUrlTree(L,this.urlSerializer.parse(L),R,re)}applyRedirectCreatreUrlTree(R,L,re,ae){const Re=this.createSegmentGroup(R,L.root,re,ae);return new Tn(Re,this.createQueryParams(L.queryParams,this.urlTree.queryParams),L.fragment)}createQueryParams(R,L){const re={};return Qn(R,(ae,Re)=>{if("string"==typeof ae&&ae.startsWith(":")){const ht=ae.substring(1);re[Re]=L[ht]}else re[Re]=ae}),re}createSegmentGroup(R,L,re,ae){const Re=this.createSegments(R,L.segments,re,ae);let st={};return Qn(L.children,(ht,Ft)=>{st[Ft]=this.createSegmentGroup(R,ht,re,ae)}),new kn(Re,st)}createSegments(R,L,re,ae){return L.map(Re=>Re.path.startsWith(":")?this.findPosParam(R,Re,ae):this.findOrReturn(Re,re))}findPosParam(R,L,re){const ae=re[L.path.substring(1)];if(!ae)throw new Error(`Cannot redirect to '${R}'. Cannot find '${L.path}'.`);return ae}findOrReturn(R,L){let re=0;for(const ae of L){if(ae.path===R.path)return L.splice(re),ae;re++}return R}}function Sl(H){const R={};for(const re of Object.keys(H.children)){const Re=Sl(H.children[re]);(Re.segments.length>0||Re.hasChildren())&&(R[re]=Re)}return function(H){if(1===H.numberOfChildren&&H.children[_i]){const R=H.children[_i];return new kn(H.segments.concat(R.segments),R.children)}return H}(new kn(H.segments,R))}class dn{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Ti{constructor(R,L){this.component=R,this.route=L}}function ul(H,R,L){const re=H._root;return Ds(re,R?R._root:null,L,[re.value])}function Ra(H,R,L){const re=function(H){if(!H)return null;for(let R=H.parent;R;R=R.parent){const L=R.routeConfig;if(L&&L._loadedConfig)return L._loadedConfig}return null}(R);return(re?re.module.injector:L).get(H)}function Ds(H,R,L,re,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Re=No(R);return H.children.forEach(st=>{(function(H,R,L,re,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Re=H.value,st=R?R.value:null,ht=L?L.getContext(H.value.outlet):null;if(st&&Re.routeConfig===st.routeConfig){const Ft=function(H,R,L){if("function"==typeof L)return L(H,R);switch(L){case"pathParamsChange":return!Ai(H.url,R.url);case"pathParamsOrQueryParamsChange":return!Ai(H.url,R.url)||!Dt(H.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ur(H,R)||!Dt(H.queryParams,R.queryParams);default:return!Ur(H,R)}}(st,Re,Re.routeConfig.runGuardsAndResolvers);Ft?ae.canActivateChecks.push(new dn(re)):(Re.data=st.data,Re._resolvedData=st._resolvedData),Ds(H,R,Re.component?ht?ht.children:null:L,re,ae),Ft&&ht&&ht.outlet&&ht.outlet.isActivated&&ae.canDeactivateChecks.push(new Ti(ht.outlet.component,st))}else st&&hl(R,ht,ae),ae.canActivateChecks.push(new dn(re)),Ds(H,null,Re.component?ht?ht.children:null:L,re,ae)})(st,Re[st.value.outlet],L,re.concat([st.value]),ae),delete Re[st.value.outlet]}),Qn(Re,(st,ht)=>hl(st,L.getContext(ht),ae)),ae}function hl(H,R,L){const re=No(H),ae=H.value;Qn(re,(Re,st)=>{hl(Re,ae.component?R?R.children.getContext(st):null:R,L)}),L.canDeactivateChecks.push(new Ti(ae.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,ae))}class Gl{}function Ua(H){return new be.y(R=>R.error(H))}class pl{constructor(R,L,re,ae,Re,st){this.rootComponentType=R,this.config=L,this.urlTree=re,this.url=ae,this.paramsInheritanceStrategy=Re,this.relativeLinkResolution=st}recognize(){const R=xt(this.urlTree.root,[],[],this.config.filter(st=>void 0===st.redirectTo),this.relativeLinkResolution).segmentGroup,L=this.processSegmentGroup(this.config,R,_i);if(null===L)return null;const re=new lo([],Object.freeze({}),Object.freeze(un({},this.urlTree.queryParams)),this.urlTree.fragment,{},_i,this.rootComponentType,null,this.urlTree.root,-1,{}),ae=new Oo(re,L),Re=new Ro(this.url,ae);return this.inheritParamsAndData(Re._root),Re}inheritParamsAndData(R){const L=R.value,re=Jr(L,this.paramsInheritanceStrategy);L.params=Object.freeze(re.params),L.data=Object.freeze(re.data),R.children.forEach(ae=>this.inheritParamsAndData(ae))}processSegmentGroup(R,L,re){return 0===L.segments.length&&L.hasChildren()?this.processChildren(R,L):this.processSegment(R,L,L.segments,re)}processChildren(R,L){const re=[];for(const Re of Object.keys(L.children)){const st=L.children[Re],ht=G(R,Re),Ft=this.processSegmentGroup(ht,st,Re);if(null===Ft)return null;re.push(...Ft)}const ae=Q(re);return ae.sort((R,L)=>R.value.outlet===_i?-1:L.value.outlet===_i?1:R.value.outlet.localeCompare(L.value.outlet)),ae}processSegment(R,L,re,ae){for(const Re of R){const st=this.processSegmentAgainstRoute(Re,L,re,ae);if(null!==st)return st}return uo(L,re,ae)?[]:null}processSegmentAgainstRoute(R,L,re,ae){if(R.redirectTo||!yr(R,L,re,ae))return null;let Re,st=[],ht=[];if("**"===R.path){const Bn=re.length>0?sn(re).parameters:{};Re=new lo(re,Bn,Object.freeze(un({},this.urlTree.queryParams)),this.urlTree.fragment,gt(R),z(R),R.component,R,Ue(L),ot(L)+re.length,Nt(R))}else{const Bn=Ce(L,R,re);if(!Bn.matched)return null;st=Bn.consumedSegments,ht=re.slice(Bn.lastChild),Re=new lo(st,Bn.parameters,Object.freeze(un({},this.urlTree.queryParams)),this.urlTree.fragment,gt(R),z(R),R.component,R,Ue(L),ot(L)+st.length,Nt(R))}const Ft=(H=R).children?H.children:H.loadChildren?H._loadedConfig.routes:[],{segmentGroup:Sn,slicedSegments:mi}=xt(L,st,ht,Ft.filter(Bn=>void 0===Bn.redirectTo),this.relativeLinkResolution);var H;if(0===mi.length&&Sn.hasChildren()){const Bn=this.processChildren(Ft,Sn);return null===Bn?null:[new Oo(Re,Bn)]}if(0===Ft.length&&0===mi.length)return[new Oo(Re,[])];const ei=z(R)===ae,ar=this.processSegment(Ft,Sn,mi,ei?_i:ae);return null===ar?null:[new Oo(Re,ar)]}}function O(H){const R=H.value.routeConfig;return R&&""===R.path&&void 0===R.redirectTo}function Q(H){const R=[],L=new Set;for(const re of H){if(!O(re)){R.push(re);continue}const ae=R.find(Re=>re.value.routeConfig===Re.value.routeConfig);void 0!==ae?(ae.children.push(...re.children),L.add(ae)):R.push(re)}for(const re of L){const ae=Q(re.children);R.push(new Oo(re.value,ae))}return R.filter(re=>!L.has(re))}function Ue(H){let R=H;for(;R._sourceSegment;)R=R._sourceSegment;return R}function ot(H){let R=H,L=R._segmentIndexShift?R._segmentIndexShift:0;for(;R._sourceSegment;)R=R._sourceSegment,L+=R._segmentIndexShift?R._segmentIndexShift:0;return L-1}function gt(H){return H.data||{}}function Nt(H){return H.resolve||{}}function wt(H){return(0,Kt.w)(R=>{const L=H(R);return L?(0,Xe.D)(L).pipe((0,jt.U)(()=>R)):(0,$e.of)(R)})}class bi extends class{shouldDetach(R){return!1}store(R,L){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,L){return R.routeConfig===L.routeConfig}}{}const wi=new B.OlP("ROUTES");class Ci{constructor(R,L,re,ae){this.injector=R,this.compiler=L,this.onLoadStartListener=re,this.onLoadEndListener=ae}load(R,L){if(L._loader$)return L._loader$;this.onLoadStartListener&&this.onLoadStartListener(L);const ae=this.loadModuleFactory(L.loadChildren).pipe((0,jt.U)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(L);const st=Re.create(R);return new go(Tt(st.injector.get(wi,void 0,B.XFs.Self|B.XFs.Optional)).map(Ze),st)}),(0,Et.K)(Re=>{throw L._loader$=void 0,Re}));return L._loader$=new dt.c(ae,()=>new Xt.xQ).pipe((0,kr.x)()),L._loader$}loadModuleFactory(R){return Fn(R()).pipe((0,Zi.zg)(L=>L instanceof B.YKP?(0,$e.of)(L):(0,Xe.D)(this.compiler.compileModuleAsync(L))))}}class Hs{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,L){return R}}function To(H){throw H}function eo(H,R,L){return R.parse("/")}function ws(H,R){return(0,$e.of)(null)}const ui={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{class H{constructor(L,re,ae,Re,st,ht,Ft){this.rootComponentType=L,this.urlSerializer=re,this.rootContexts=ae,this.location=Re,this.config=Ft,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xt.xQ,this.errorHandler=To,this.malformedUriErrorHandler=eo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ws,afterPreactivation:ws},this.urlHandlingStrategy=new Hs,this.routeReuseStrategy=new bi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=st.get(B.h0i),this.console=st.get(B.c2e);const ei=st.get(B.R0b);this.isNgZoneEnabled=ei instanceof B.R0b&&B.R0b.isInAngularZone(),this.resetConfig(Ft),this.currentUrlTree=new Tn(new kn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ci(st,ht,ar=>this.triggerEvent(new Or(ar)),ar=>this.triggerEvent(new vo(ar))),this.routerState=Ho(this.currentUrlTree,this.rootComponentType),this.transitions=new de.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var L;return null==(L=this.location.getState())?void 0:L.\u0275routerPageId}setupNavigations(L){const re=this.events;return L.pipe((0,qt.h)(ae=>0!==ae.id),(0,jt.U)(ae=>_s(un({},ae),{extractedUrl:this.urlHandlingStrategy.extract(ae.rawUrl)})),(0,Kt.w)(ae=>{let Re=!1,st=!1;return(0,$e.of)(ae).pipe((0,Dn.b)(ht=>{this.currentNavigation={id:ht.id,initialUrl:ht.currentRawUrl,extractedUrl:ht.extractedUrl,trigger:ht.source,extras:ht.extras,previousNavigation:this.lastSuccessfulNavigation?_s(un({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Kt.w)(ht=>{const Ft=this.browserUrlTree.toString(),Sn=!this.navigated||ht.extractedUrl.toString()!==Ft||Ft!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Sn)&&this.urlHandlingStrategy.shouldProcessUrl(ht.rawUrl))return Zo(ht.source)&&(this.browserUrlTree=ht.extractedUrl),(0,$e.of)(ht).pipe((0,Kt.w)(ei=>{const ar=this.transitions.getValue();return re.next(new Cn(ei.id,this.serializeUrl(ei.extractedUrl),ei.source,ei.restoredState)),ar!==this.transitions.getValue()?Se.E:Promise.resolve(ei)}),function(H,R,L,re){return(0,Kt.w)(ae=>function(H,R,L,re,ae){return new Mc(H,R,L,re,ae).apply()}(H,R,L,ae.extractedUrl,re).pipe((0,jt.U)(Re=>_s(un({},ae),{urlAfterRedirects:Re}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Dn.b)(ei=>{this.currentNavigation=_s(un({},this.currentNavigation),{finalUrl:ei.urlAfterRedirects})}),function(H,R,L,re,ae){return(0,Zi.zg)(Re=>function(H,R,L,re,ae="emptyOnly",Re="legacy"){try{const st=new pl(H,R,L,re,ae,Re).recognize();return null===st?Ua(new Gl):(0,$e.of)(st)}catch(st){return Ua(st)}}(H,R,Re.urlAfterRedirects,L(Re.urlAfterRedirects),re,ae).pipe((0,jt.U)(st=>_s(un({},Re),{targetSnapshot:st}))))}(this.rootComponentType,this.config,ei=>this.serializeUrl(ei),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Dn.b)(ei=>{if("eager"===this.urlUpdateStrategy){if(!ei.extras.skipLocationChange){const Bn=this.urlHandlingStrategy.merge(ei.urlAfterRedirects,ei.rawUrl);this.setBrowserUrl(Bn,ei)}this.browserUrlTree=ei.urlAfterRedirects}const ar=new fi(ei.id,this.serializeUrl(ei.extractedUrl),this.serializeUrl(ei.urlAfterRedirects),ei.targetSnapshot);re.next(ar)}));if(Sn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ar,extractedUrl:Bn,source:Il,restoredState:hs,extras:ra}=ht,to=new Cn(ar,this.serializeUrl(Bn),Il,hs);re.next(to);const fn=Ho(Bn,this.rootComponentType).snapshot;return(0,$e.of)(_s(un({},ht),{targetSnapshot:fn,urlAfterRedirects:Bn,extras:_s(un({},ra),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ht.rawUrl,ht.resolve(null),Se.E}),wt(ht=>{const{targetSnapshot:Ft,id:Sn,extractedUrl:mi,rawUrl:ei,extras:{skipLocationChange:ar,replaceUrl:Bn}}=ht;return this.hooks.beforePreactivation(Ft,{navigationId:Sn,appliedUrlTree:mi,rawUrlTree:ei,skipLocationChange:!!ar,replaceUrl:!!Bn})}),(0,Dn.b)(ht=>{const Ft=new Di(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent(Ft)}),(0,jt.U)(ht=>_s(un({},ht),{guards:ul(ht.targetSnapshot,ht.currentSnapshot,this.rootContexts)})),function(H,R){return(0,Zi.zg)(L=>{const{targetSnapshot:re,currentSnapshot:ae,guards:{canActivateChecks:Re,canDeactivateChecks:st}}=L;return 0===st.length&&0===Re.length?(0,$e.of)(_s(un({},L),{guardsResult:!0})):function(H,R,L,re){return(0,Xe.D)(H).pipe((0,Zi.zg)(ae=>function(H,R,L,re,ae){const Re=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!Re||0===Re.length)return(0,$e.of)(!0);const st=Re.map(ht=>{const Ft=Ra(ht,R,ae);let Sn;if(function(H){return H&&$o(H.canDeactivate)}(Ft))Sn=Fn(Ft.canDeactivate(H,R,L,re));else{if(!$o(Ft))throw new Error("Invalid CanDeactivate guard");Sn=Fn(Ft(H,R,L,re))}return Sn.pipe((0,jn.P)())});return(0,$e.of)(st).pipe(Er())}(ae.component,ae.route,L,R,re)),(0,jn.P)(ae=>!0!==ae,!0))}(st,re,ae,H).pipe((0,Zi.zg)(ht=>ht&&function(H){return"boolean"==typeof H}(ht)?function(H,R,L,re){return(0,Xe.D)(R).pipe((0,pn.b)(ae=>(0,Mt.z)(function(H,R){return null!==H&&R&&R(new oo(H)),(0,$e.of)(!0)}(ae.route.parent,re),function(H,R){return null!==H&&R&&R(new Gn(H)),(0,$e.of)(!0)}(ae.route,re),function(H,R,L){const re=R[R.length-1],Re=R.slice(0,R.length-1).reverse().map(st=>function(H){const R=H.routeConfig?H.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:H,guards:R}:null}(st)).filter(st=>null!==st).map(st=>ct(()=>{const ht=st.guards.map(Ft=>{const Sn=Ra(Ft,st.node,L);let mi;if(function(H){return H&&$o(H.canActivateChild)}(Sn))mi=Fn(Sn.canActivateChild(re,H));else{if(!$o(Sn))throw new Error("Invalid CanActivateChild guard");mi=Fn(Sn(re,H))}return mi.pipe((0,jn.P)())});return(0,$e.of)(ht).pipe(Er())}));return(0,$e.of)(Re).pipe(Er())}(H,ae.path,L),function(H,R,L){const re=R.routeConfig?R.routeConfig.canActivate:null;if(!re||0===re.length)return(0,$e.of)(!0);const ae=re.map(Re=>ct(()=>{const st=Ra(Re,R,L);let ht;if(function(H){return H&&$o(H.canActivate)}(st))ht=Fn(st.canActivate(R,H));else{if(!$o(st))throw new Error("Invalid CanActivate guard");ht=Fn(st(R,H))}return ht.pipe((0,jn.P)())}));return(0,$e.of)(ae).pipe(Er())}(H,ae.route,L))),(0,jn.P)(ae=>!0!==ae,!0))}(re,Re,H,R):(0,$e.of)(ht)),(0,jt.U)(ht=>_s(un({},L),{guardsResult:ht})))})}(this.ngModule.injector,ht=>this.triggerEvent(ht)),(0,Dn.b)(ht=>{if(Fo(ht.guardsResult)){const Sn=nr(`Redirecting to "${this.serializeUrl(ht.guardsResult)}"`);throw Sn.url=ht.guardsResult,Sn}const Ft=new Ei(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot,!!ht.guardsResult);this.triggerEvent(Ft)}),(0,qt.h)(ht=>!!ht.guardsResult||(this.restoreHistory(ht),this.cancelNavigationTransition(ht,""),!1)),wt(ht=>{if(ht.guards.canActivateChecks.length)return(0,$e.of)(ht).pipe((0,Dn.b)(Ft=>{const Sn=new Vo(Ft.id,this.serializeUrl(Ft.extractedUrl),this.serializeUrl(Ft.urlAfterRedirects),Ft.targetSnapshot);this.triggerEvent(Sn)}),(0,Kt.w)(Ft=>{let Sn=!1;return(0,$e.of)(Ft).pipe(function(H,R){return(0,Zi.zg)(L=>{const{targetSnapshot:re,guards:{canActivateChecks:ae}}=L;if(!ae.length)return(0,$e.of)(L);let Re=0;return(0,Xe.D)(ae).pipe((0,pn.b)(st=>function(H,R,L,re){return function(H,R,L,re){const ae=Object.keys(H);if(0===ae.length)return(0,$e.of)({});const Re={};return(0,Xe.D)(ae).pipe((0,Zi.zg)(st=>function(H,R,L,re){const ae=Ra(H,R,re);return Fn(ae.resolve?ae.resolve(R,L):ae(R,L))}(H[st],R,L,re).pipe((0,Dn.b)(ht=>{Re[st]=ht}))),At(1),(0,Zi.zg)(()=>Object.keys(Re).length===ae.length?(0,$e.of)(Re):Se.E))}(H._resolve,H,R,re).pipe((0,jt.U)(Re=>(H._resolvedData=Re,H.data=un(un({},H.data),Jr(H,L).resolve),null)))}(st.route,re,H,R)),(0,Dn.b)(()=>Re++),At(1),(0,Zi.zg)(st=>Re===ae.length?(0,$e.of)(L):Se.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Dn.b)({next:()=>Sn=!0,complete:()=>{Sn||(this.restoreHistory(Ft),this.cancelNavigationTransition(Ft,"At least one route resolver didn't emit any value."))}}))}),(0,Dn.b)(Ft=>{const Sn=new Rn(Ft.id,this.serializeUrl(Ft.extractedUrl),this.serializeUrl(Ft.urlAfterRedirects),Ft.targetSnapshot);this.triggerEvent(Sn)}))}),wt(ht=>{const{targetSnapshot:Ft,id:Sn,extractedUrl:mi,rawUrl:ei,extras:{skipLocationChange:ar,replaceUrl:Bn}}=ht;return this.hooks.afterPreactivation(Ft,{navigationId:Sn,appliedUrlTree:mi,rawUrlTree:ei,skipLocationChange:!!ar,replaceUrl:!!Bn})}),(0,jt.U)(ht=>{const Ft=function(H,R,L){const re=Ls(H,R._root,L?L._root:void 0);return new Eo(re,R)}(this.routeReuseStrategy,ht.targetSnapshot,ht.currentRouterState);return _s(un({},ht),{targetRouterState:Ft})}),(0,Dn.b)(ht=>{this.currentUrlTree=ht.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ht.urlAfterRedirects,ht.rawUrl),this.routerState=ht.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ht.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ht),this.browserUrlTree=ht.urlAfterRedirects)}),((H,R,L)=>(0,jt.U)(re=>(new zs(R,re.targetRouterState,re.currentRouterState,L).activate(H),re)))(this.rootContexts,this.routeReuseStrategy,ht=>this.triggerEvent(ht)),(0,Dn.b)({next(){Re=!0},complete(){Re=!0}}),function(H){return R=>R.lift(new Vt(H))}(()=>{var ht;Re||st||this.cancelNavigationTransition(ae,`Navigation ID ${ae.id} is not equal to the current navigation id ${this.navigationId}`),(null==(ht=this.currentNavigation)?void 0:ht.id)===ae.id&&(this.currentNavigation=null)}),(0,Et.K)(ht=>{if(st=!0,function(H){return H&&H[Ri]}(ht)){const Ft=Fo(ht.url);Ft||(this.navigated=!0,this.restoreHistory(ae,!0));const Sn=new Zn(ae.id,this.serializeUrl(ae.extractedUrl),ht.message);re.next(Sn),Ft?setTimeout(()=>{const mi=this.urlHandlingStrategy.merge(ht.url,this.rawUrlTree),ei={skipLocationChange:ae.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zo(ae.source)};this.scheduleNavigation(mi,"imperative",null,ei,{resolve:ae.resolve,reject:ae.reject,promise:ae.promise})},0):ae.resolve(!1)}else{this.restoreHistory(ae,!0);const Ft=new ai(ae.id,this.serializeUrl(ae.extractedUrl),ht);re.next(Ft);try{ae.resolve(this.errorHandler(ht))}catch(Sn){ae.reject(Sn)}}return Se.E}))}))}resetRootComponentType(L){this.rootComponentType=L,this.routerState.root.component=this.rootComponentType}setTransition(L){this.transitions.next(un(un({},this.transitions.value),L))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(L=>{const re="popstate"===L.type?"popstate":"hashchange";"popstate"===re&&setTimeout(()=>{var ht;const ae={replaceUrl:!0},Re=(null==(ht=L.state)?void 0:ht.navigationId)?L.state:null;if(Re){const Ft=un({},Re);delete Ft.navigationId,delete Ft.\u0275routerPageId,0!==Object.keys(Ft).length&&(ae.state=Ft)}const st=this.parseUrl(L.url);this.scheduleNavigation(st,re,Re,ae)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(L){this.events.next(L)}resetConfig(L){le(L),this.config=L.map(Ze),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(L,re={}){const{relativeTo:ae,queryParams:Re,fragment:st,queryParamsHandling:ht,preserveFragment:Ft}=re,Sn=ae||this.routerState.root,mi=Ft?this.currentUrlTree.fragment:st;let ei=null;switch(ht){case"merge":ei=un(un({},this.currentUrlTree.queryParams),Re);break;case"preserve":ei=this.currentUrlTree.queryParams;break;default:ei=Re||null}return null!==ei&&(ei=this.removeEmptyProps(ei)),function(H,R,L,re,ae){if(0===L.length)return za(R.root,R.root,R,re,ae);const Re=function(H){if("string"==typeof H[0]&&1===H.length&&"/"===H[0])return new ns(!0,0,H);let R=0,L=!1;const re=H.reduce((ae,Re,st)=>{if("object"==typeof Re&&null!=Re){if(Re.outlets){const ht={};return Qn(Re.outlets,(Ft,Sn)=>{ht[Sn]="string"==typeof Ft?Ft.split("/"):Ft}),[...ae,{outlets:ht}]}if(Re.segmentPath)return[...ae,Re.segmentPath]}return"string"!=typeof Re?[...ae,Re]:0===st?(Re.split("/").forEach((ht,Ft)=>{0==Ft&&"."===ht||(0==Ft&&""===ht?L=!0:".."===ht?R++:""!=ht&&ae.push(ht))}),ae):[...ae,Re]},[]);return new ns(L,R,re)}(L);if(Re.toRoot())return za(R.root,new kn([],{}),R,re,ae);const st=function(H,R,L){if(H.isAbsolute)return new Bs(R.root,!0,0);if(-1===L.snapshot._lastPathIndex){const Re=L.snapshot._urlSegment;return new Bs(Re,Re===R.root,0)}const re=Qs(H.commands[0])?0:1;return function(H,R,L){let re=H,ae=R,Re=L;for(;Re>ae;){if(Re-=ae,re=re.parent,!re)throw new Error("Invalid number of '../'");ae=re.segments.length}return new Bs(re,!1,ae-Re)}(L.snapshot._urlSegment,L.snapshot._lastPathIndex+re,H.numberOfDoubleDots)}(Re,R,H),ht=st.processChildren?ta(st.segmentGroup,st.index,Re.commands):ea(st.segmentGroup,st.index,Re.commands);return za(st.segmentGroup,ht,R,re,ae)}(Sn,this.currentUrlTree,L,ei,null!=mi?mi:null)}navigateByUrl(L,re={skipLocationChange:!1}){const ae=Fo(L)?L:this.parseUrl(L),Re=this.urlHandlingStrategy.merge(ae,this.rawUrlTree);return this.scheduleNavigation(Re,"imperative",null,re)}navigate(L,re={skipLocationChange:!1}){return function(H){for(let R=0;R<H.length;R++){const L=H[R];if(null==L)throw new Error(`The requested path contains ${L} segment at index ${R}`)}}(L),this.navigateByUrl(this.createUrlTree(L,re),re)}serializeUrl(L){return this.urlSerializer.serialize(L)}parseUrl(L){let re;try{re=this.urlSerializer.parse(L)}catch(ae){re=this.malformedUriErrorHandler(ae,this.urlSerializer,L)}return re}isActive(L,re){let ae;if(ae=!0===re?un({},ui):!1===re?un({},Cs):re,Fo(L))return Qr(this.currentUrlTree,L,ae);const Re=this.parseUrl(L);return Qr(this.currentUrlTree,Re,ae)}removeEmptyProps(L){return Object.keys(L).reduce((re,ae)=>{const Re=L[ae];return null!=Re&&(re[ae]=Re),re},{})}processNavigations(){this.navigations.subscribe(L=>{this.navigated=!0,this.lastSuccessfulId=L.id,this.currentPageId=L.targetPageId,this.events.next(new si(L.id,this.serializeUrl(L.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,L.resolve(!0)},L=>{this.console.warn(`Unhandled Navigation Error: ${L}`)})}scheduleNavigation(L,re,ae,Re,st){var to,fn,fs;if(this.disposed)return Promise.resolve(!1);const ht=this.transitions.value,Ft=Zo(re)&&ht&&!Zo(ht.source),Sn=ht.rawUrl.toString()===L.toString(),mi=ht.id===(null==(to=this.currentNavigation)?void 0:to.id);if(Ft&&Sn&&mi)return Promise.resolve(!0);let ar,Bn,Il;st?(ar=st.resolve,Bn=st.reject,Il=st.promise):Il=new Promise((Me,qa)=>{ar=Me,Bn=qa});const hs=++this.navigationId;let ra;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(ae=this.location.getState()),ra=ae&&ae.\u0275routerPageId?ae.\u0275routerPageId:Re.replaceUrl||Re.skipLocationChange?null!=(fn=this.browserPageId)?fn:0:(null!=(fs=this.browserPageId)?fs:0)+1):ra=0,this.setTransition({id:hs,targetPageId:ra,source:re,restoredState:ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:L,extras:Re,resolve:ar,reject:Bn,promise:Il,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Il.catch(Me=>Promise.reject(Me))}setBrowserUrl(L,re){const ae=this.urlSerializer.serialize(L),Re=un(un({},re.extras.state),this.generateNgRouterState(re.id,re.targetPageId));this.location.isCurrentPathEqualTo(ae)||re.extras.replaceUrl?this.location.replaceState(ae,"",Re):this.location.go(ae,"",Re)}restoreHistory(L,re=!1){var ae,Re;if("computed"===this.canceledNavigationResolution){const st=this.currentPageId-L.targetPageId;"popstate"!==L.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(ae=this.currentNavigation)?void 0:ae.finalUrl)||0===st?this.currentUrlTree===(null==(Re=this.currentNavigation)?void 0:Re.finalUrl)&&0===st&&(this.resetState(L),this.browserUrlTree=L.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(st)}else"replace"===this.canceledNavigationResolution&&(re&&this.resetState(L),this.resetUrlToCurrentUrlTree())}resetState(L){this.routerState=L.currentRouterState,this.currentUrlTree=L.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,L.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(L,re){const ae=new Zn(L.id,this.serializeUrl(L.extractedUrl),re);this.triggerEvent(ae),L.resolve(!1)}generateNgRouterState(L,re){return"computed"===this.canceledNavigationResolution?{navigationId:L,\u0275routerPageId:re}:{navigationId:L}}}return H.\u0275fac=function(L){B.$Z()},H.\u0275prov=B.Yz7({token:H,factory:H.\u0275fac}),H})();function Zo(H){return"imperative"!==H}let pa=(()=>{class H{constructor(L,re,ae,Re,st){this.router=L,this.route=re,this.tabIndexAttribute=ae,this.renderer=Re,this.el=st,this.commands=null,this.onChanges=new Xt.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(L){if(null!=this.tabIndexAttribute)return;const re=this.renderer,ae=this.el.nativeElement;null!==L?re.setAttribute(ae,"tabindex",L):re.removeAttribute(ae,"tabindex")}ngOnChanges(L){this.onChanges.next(this)}set routerLink(L){null!=L?(this.commands=Array.isArray(L)?L:[L],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const L={skipLocationChange:Ln(this.skipLocationChange),replaceUrl:Ln(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,L),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ln(this.preserveFragment)})}}return H.\u0275fac=function(L){return new(L||H)(B.Y36(qi),B.Y36(qo),B.$8M("tabindex"),B.Y36(B.Qsj),B.Y36(B.SBq))},H.\u0275dir=B.lG2({type:H,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(L,re){1&L&&B.NdJ("click",function(){return re.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[B.TTD]}),H})(),Fr=(()=>{class H{constructor(L,re,ae){this.router=L,this.route=re,this.locationStrategy=ae,this.commands=null,this.href=null,this.onChanges=new Xt.xQ,this.subscription=L.events.subscribe(Re=>{Re instanceof si&&this.updateTargetUrlAndHref()})}set routerLink(L){this.commands=null!=L?Array.isArray(L)?L:[L]:null}ngOnChanges(L){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(L,re,ae,Re,st){if(0!==L||re||ae||Re||st||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ht={skipLocationChange:Ln(this.skipLocationChange),replaceUrl:Ln(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ht),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ln(this.preserveFragment)})}}return H.\u0275fac=function(L){return new(L||H)(B.Y36(qi),B.Y36(qo),B.Y36(m.S$))},H.\u0275dir=B.lG2({type:H,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(L,re){1&L&&B.NdJ("click",function(Re){return re.onClick(Re.button,Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey)}),2&L&&B.uIk("target",re.target)("href",re.href,B.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[B.TTD]}),H})();function Ln(H){return""===H||!!H}let Xn=(()=>{class H{constructor(L,re,ae,Re,st,ht){this.router=L,this.element=re,this.renderer=ae,this.cdr=Re,this.link=st,this.linkWithHref=ht,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new B.vpe,this.routerEventsSubscription=L.events.subscribe(Ft=>{Ft instanceof si&&this.update()})}ngAfterContentInit(){(0,$e.of)(this.links.changes,this.linksWithHrefs.changes,(0,$e.of)(null)).pipe((0,br.J)()).subscribe(L=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var re;null==(re=this.linkInputChangesSubscription)||re.unsubscribe();const L=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(ae=>!!ae).map(ae=>ae.onChanges);this.linkInputChangesSubscription=(0,Xe.D)(L).pipe((0,br.J)()).subscribe(ae=>{this.isActive!==this.isLinkActive(this.router)(ae)&&this.update()})}set routerLinkActive(L){const re=Array.isArray(L)?L:L.split(" ");this.classes=re.filter(ae=>!!ae)}ngOnChanges(L){this.update()}ngOnDestroy(){var L;this.routerEventsSubscription.unsubscribe(),null==(L=this.linkInputChangesSubscription)||L.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const L=this.hasActiveLinks();this.isActive!==L&&(this.isActive=L,this.cdr.markForCheck(),this.classes.forEach(re=>{L?this.renderer.addClass(this.element.nativeElement,re):this.renderer.removeClass(this.element.nativeElement,re)}),this.isActiveChange.emit(L))})}isLinkActive(L){const re=function(H){return!!H.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ae=>!!ae.urlTree&&L.isActive(ae.urlTree,re)}hasActiveLinks(){const L=this.isLinkActive(this.router);return this.link&&L(this.link)||this.linkWithHref&&L(this.linkWithHref)||this.links.some(L)||this.linksWithHrefs.some(L)}}return H.\u0275fac=function(L){return new(L||H)(B.Y36(qi),B.Y36(B.SBq),B.Y36(B.Qsj),B.Y36(B.sBO),B.Y36(pa,8),B.Y36(Fr,8))},H.\u0275dir=B.lG2({type:H,selectors:[["","routerLinkActive",""]],contentQueries:function(L,re,ae){if(1&L&&(B.Suo(ae,pa,5),B.Suo(ae,Fr,5)),2&L){let Re;B.iGM(Re=B.CRH())&&(re.links=Re),B.iGM(Re=B.CRH())&&(re.linksWithHrefs=Re)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[B.TTD]}),H})();class ii{}class _o{preload(R,L){return(0,$e.of)(null)}}let ds=(()=>{class H{constructor(L,re,ae,Re){this.router=L,this.injector=ae,this.preloadingStrategy=Re,this.loader=new Ci(ae,re,Ft=>L.triggerEvent(new Or(Ft)),Ft=>L.triggerEvent(new vo(Ft)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,qt.h)(L=>L instanceof si),(0,pn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const L=this.injector.get(B.h0i);return this.processRoutes(L,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(L,re){const ae=[];for(const Re of re)if(Re.loadChildren&&!Re.canLoad&&Re._loadedConfig){const st=Re._loadedConfig;ae.push(this.processRoutes(st.module,st.routes))}else Re.loadChildren&&!Re.canLoad?ae.push(this.preloadConfig(L,Re)):Re.children&&ae.push(this.processRoutes(L,Re.children));return(0,Xe.D)(ae).pipe((0,br.J)(),(0,jt.U)(Re=>{}))}preloadConfig(L,re){return this.preloadingStrategy.preload(re,()=>(re._loadedConfig?(0,$e.of)(re._loadedConfig):this.loader.load(L.injector,re)).pipe((0,Zi.zg)(Re=>(re._loadedConfig=Re,this.processRoutes(Re.module,Re.routes)))))}}return H.\u0275fac=function(L){return new(L||H)(B.LFG(qi),B.LFG(B.Sil),B.LFG(B.zs3),B.LFG(ii))},H.\u0275prov=B.Yz7({token:H,factory:H.\u0275fac}),H})(),Yo=(()=>{class H{constructor(L,re,ae={}){this.router=L,this.viewportScroller=re,this.options=ae,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ae.scrollPositionRestoration=ae.scrollPositionRestoration||"disabled",ae.anchorScrolling=ae.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(L=>{L instanceof Cn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=L.navigationTrigger,this.restoredId=L.restoredState?L.restoredState.navigationId:0):L instanceof si&&(this.lastId=L.id,this.scheduleScrollEvent(L,this.router.parseUrl(L.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(L=>{L instanceof Vr&&(L.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(L.position):L.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(L.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(L,re){this.router.triggerEvent(new Vr(L,"popstate"===this.lastSource?this.store[this.restoredId]:null,re))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return H.\u0275fac=function(L){B.$Z()},H.\u0275prov=B.Yz7({token:H,factory:H.\u0275fac}),H})();const is=new B.OlP("ROUTER_CONFIGURATION"),rs=new B.OlP("ROUTER_FORROOT_GUARD"),Ha=[m.Ye,{provide:as,useClass:fr},{provide:qi,useFactory:function(H,R,L,re,ae,Re,st={},ht,Ft){const Sn=new qi(null,H,R,L,re,ae,Tt(Re));return ht&&(Sn.urlHandlingStrategy=ht),Ft&&(Sn.routeReuseStrategy=Ft),function(H,R){H.errorHandler&&(R.errorHandler=H.errorHandler),H.malformedUriErrorHandler&&(R.malformedUriErrorHandler=H.malformedUriErrorHandler),H.onSameUrlNavigation&&(R.onSameUrlNavigation=H.onSameUrlNavigation),H.paramsInheritanceStrategy&&(R.paramsInheritanceStrategy=H.paramsInheritanceStrategy),H.relativeLinkResolution&&(R.relativeLinkResolution=H.relativeLinkResolution),H.urlUpdateStrategy&&(R.urlUpdateStrategy=H.urlUpdateStrategy),H.canceledNavigationResolution&&(R.canceledNavigationResolution=H.canceledNavigationResolution)}(st,Sn),st.enableTracing&&Sn.events.subscribe(mi=>{var ei,ar;null==(ei=console.group)||ei.call(console,`Router Event: ${mi.constructor.name}`),console.log(mi.toString()),console.log(mi),null==(ar=console.groupEnd)||ar.call(console)}),Sn},deps:[as,ne,m.Ye,B.zs3,B.Sil,wi,is,[class{},new B.FiY],[class{},new B.FiY]]},ne,{provide:qo,useFactory:function(H){return H.routerState.root},deps:[qi]},ds,_o,class{preload(R,L){return L().pipe((0,Et.K)(()=>(0,$e.of)(null)))}},{provide:is,useValue:{enableTracing:!1}}];function Ca(){return new B.PXZ("Router",qi)}let So=(()=>{class H{constructor(L,re){}static forRoot(L,re){return{ngModule:H,providers:[Ha,ee(L),{provide:rs,useFactory:M,deps:[[qi,new B.FiY,new B.tp0]]},{provide:is,useValue:re||{}},{provide:m.S$,useFactory:T,deps:[m.lw,[new B.tBr(m.mr),new B.FiY],is]},{provide:Yo,useFactory:K,deps:[qi,m.EM,is]},{provide:ii,useExisting:re&&re.preloadingStrategy?re.preloadingStrategy:_o},{provide:B.PXZ,multi:!0,useFactory:Ca},[ir,{provide:B.ip1,multi:!0,useFactory:rn,deps:[ir]},{provide:gl,useFactory:Ir,deps:[ir]},{provide:B.tb,multi:!0,useExisting:gl}]]}}static forChild(L){return{ngModule:H,providers:[ee(L)]}}}return H.\u0275fac=function(L){return new(L||H)(B.LFG(rs,8),B.LFG(qi,8))},H.\u0275mod=B.oAB({type:H}),H.\u0275inj=B.cJS({}),H})();function K(H,R,L){return L.scrollOffset&&R.setOffset(L.scrollOffset),new Yo(H,R,L)}function T(H,R,L={}){return L.useHash?new m.Do(H,R):new m.b0(H,R)}function M(H){return"guarded"}function ee(H){return[{provide:B.deG,multi:!0,useValue:H},{provide:wi,multi:!0,useValue:H}]}let ir=(()=>{class H{constructor(L){this.injector=L,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Xt.xQ}appInitializer(){return this.injector.get(m.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let re=null;const ae=new Promise(ht=>re=ht),Re=this.injector.get(qi),st=this.injector.get(is);return"disabled"===st.initialNavigation?(Re.setUpLocationChangeListener(),re(!0)):"enabled"===st.initialNavigation||"enabledBlocking"===st.initialNavigation?(Re.hooks.afterPreactivation=()=>this.initNavigation?(0,$e.of)(null):(this.initNavigation=!0,re(!0),this.resultOfPreactivationDone),Re.initialNavigation()):re(!0),ae})}bootstrapListener(L){const re=this.injector.get(is),ae=this.injector.get(ds),Re=this.injector.get(Yo),st=this.injector.get(qi),ht=this.injector.get(B.z2F);L===ht.components[0]&&(("enabledNonBlocking"===re.initialNavigation||void 0===re.initialNavigation)&&st.initialNavigation(),ae.setUpPreloading(),Re.init(),st.resetRootComponentType(ht.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return H.\u0275fac=function(L){return new(L||H)(B.LFG(B.zs3))},H.\u0275prov=B.Yz7({token:H,factory:H.\u0275fac}),H})();function rn(H){return H.appInitializer.bind(H)}function Ir(H){return H.bootstrapListener.bind(H)}const gl=new B.OlP("Router Initializer")},2387:(Jt,vt,X)=>{"use strict";X.d(vt,{Rh:()=>It,_W:()=>He});var m=X(9619),B=X(9814),he=X(3405),Ne=X(6019),ce=X(5427);const U=["toast-component",""];function De(lt,$t){if(1&lt){const _t=m.EpF();m.TgZ(0,"button",5),m.NdJ("click",function(){return m.CHM(_t),m.oxw().remove()}),m.TgZ(1,"span",6),m._uU(2,"\xd7"),m.qZA(),m.qZA()}}function Y(lt,$t){if(1&lt&&(m.ynx(0),m._uU(1),m.BQk()),2&lt){const _t=m.oxw(2);m.xp6(1),m.hij("[",_t.duplicatesCount+1,"]")}}function be(lt,$t){if(1&lt&&(m.TgZ(0,"div"),m._uU(1),m.YNc(2,Y,2,1,"ng-container",4),m.qZA()),2&lt){const _t=m.oxw();m.Tol(_t.options.titleClass),m.uIk("aria-label",_t.title),m.xp6(1),m.hij(" ",_t.title," "),m.xp6(1),m.Q6J("ngIf",_t.duplicatesCount)}}function fe(lt,$t){if(1&lt&&m._UZ(0,"div",7),2&lt){const _t=m.oxw();m.Tol(_t.options.messageClass),m.Q6J("innerHTML",_t.message,m.oJD)}}function ge(lt,$t){if(1&lt&&(m.TgZ(0,"div",8),m._uU(1),m.qZA()),2&lt){const _t=m.oxw();m.Tol(_t.options.messageClass),m.uIk("aria-label",_t.message),m.xp6(1),m.hij(" ",_t.message," ")}}function _e(lt,$t){if(1&lt&&(m.TgZ(0,"div"),m._UZ(1,"div",9),m.qZA()),2&lt){const _t=m.oxw();m.xp6(1),m.Udp("width",_t.width+"%")}}function Te(lt,$t){if(1&lt){const _t=m.EpF();m.TgZ(0,"button",5),m.NdJ("click",function(){return m.CHM(_t),m.oxw().remove()}),m.TgZ(1,"span",6),m._uU(2,"\xd7"),m.qZA(),m.qZA()}}function we(lt,$t){if(1&lt&&(m.ynx(0),m._uU(1),m.BQk()),2&lt){const _t=m.oxw(2);m.xp6(1),m.hij("[",_t.duplicatesCount+1,"]")}}function Ve(lt,$t){if(1&lt&&(m.TgZ(0,"div"),m._uU(1),m.YNc(2,we,2,1,"ng-container",4),m.qZA()),2&lt){const _t=m.oxw();m.Tol(_t.options.titleClass),m.uIk("aria-label",_t.title),m.xp6(1),m.hij(" ",_t.title," "),m.xp6(1),m.Q6J("ngIf",_t.duplicatesCount)}}function Xe(lt,$t){if(1&lt&&m._UZ(0,"div",7),2&lt){const _t=m.oxw();m.Tol(_t.options.messageClass),m.Q6J("innerHTML",_t.message,m.oJD)}}function Se(lt,$t){if(1&lt&&(m.TgZ(0,"div",8),m._uU(1),m.qZA()),2&lt){const _t=m.oxw();m.Tol(_t.options.messageClass),m.uIk("aria-label",_t.message),m.xp6(1),m.hij(" ",_t.message," ")}}function ct(lt,$t){if(1&lt&&(m.TgZ(0,"div"),m._UZ(1,"div",9),m.qZA()),2&lt){const _t=m.oxw();m.xp6(1),m.Udp("width",_t.width+"%")}}class Oe{constructor($t,_t){this.component=$t,this.injector=_t}attach($t,_t){return this._attachedHost=$t,$t.attach(this,_t)}detach(){const $t=this._attachedHost;if($t)return this._attachedHost=void 0,$t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost($t){this._attachedHost=$t}}class dt{constructor($t,_t,Et,pn,jn,Zi){this.toastId=$t,this.config=_t,this.message=Et,this.title=pn,this.toastType=jn,this.toastRef=Zi,this._onTap=new he.xQ,this._onAction=new he.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction($t){this._onAction.next($t)}onAction(){return this._onAction.asObservable()}}const Xt={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},qt=new m.OlP("ToastConfig");class vn{constructor($t){this._overlayRef=$t,this.duplicatesCount=0,this._afterClosed=new he.xQ,this._activate=new he.xQ,this._manualClose=new he.xQ,this._resetTimeout=new he.xQ,this._countDuplicate=new he.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate($t,_t){$t&&this._resetTimeout.next(),_t&&this._countDuplicate.next(++this.duplicatesCount)}}class At{constructor($t,_t){this._toastPackage=$t,this._parentInjector=_t}get($t,_t,Et){return $t===dt?this._toastPackage:this._parentInjector.get($t,_t,Et)}}class et extends class{attach($t,_t){return this._attachedPortal=$t,this.attachComponentPortal($t,_t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn($t){this._disposeFn=$t}}{constructor($t,_t,Et){super(),this._hostDomElement=$t,this._componentFactoryResolver=_t,this._appRef=Et}attachComponentPortal($t,_t){const Et=this._componentFactoryResolver.resolveComponentFactory($t.component);let pn;return pn=Et.create($t.injector),this._appRef.attachView(pn.hostView),this.setDisposeFn(()=>{this._appRef.detachView(pn.hostView),pn.destroy()}),_t?this._hostDomElement.insertBefore(this._getComponentRootNode(pn),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(pn)),pn}_getComponentRootNode($t){return $t.hostView.rootNodes[0]}}class Ke{constructor($t){this._portalHost=$t}attach($t,_t=!0){return this._portalHost.attach($t,_t)}detach(){return this._portalHost.detach()}}let je=(()=>{class lt{constructor(_t){this._document=_t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const _t=this._document.createElement("div");_t.classList.add("overlay-container"),_t.setAttribute("aria-live","polite"),this._document.body.appendChild(_t),this._containerElement=_t}}return lt.\u0275fac=function(_t){return new(_t||lt)(m.LFG(Ne.K0))},lt.\u0275prov=m.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),ze=(()=>{class lt{constructor(_t,Et,pn,jn){this._overlayContainer=_t,this._componentFactoryResolver=Et,this._appRef=pn,this._document=jn,this._paneElements=new Map}create(_t,Et){return this._createOverlayRef(this.getPaneElement(_t,Et))}getPaneElement(_t="",Et){return this._paneElements.get(Et)||this._paneElements.set(Et,{}),this._paneElements.get(Et)[_t]||(this._paneElements.get(Et)[_t]=this._createPaneElement(_t,Et)),this._paneElements.get(Et)[_t]}_createPaneElement(_t,Et){const pn=this._document.createElement("div");return pn.id="toast-container",pn.classList.add(_t),pn.classList.add("toast-container"),Et?Et.getContainerElement().appendChild(pn):this._overlayContainer.getContainerElement().appendChild(pn),pn}_createPortalHost(_t){return new et(_t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(_t){return new Ke(this._createPortalHost(_t))}}return lt.\u0275fac=function(_t){return new(_t||lt)(m.LFG(je),m.LFG(m._Vd),m.LFG(m.z2F),m.LFG(Ne.K0))},lt.\u0275prov=m.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),He=(()=>{class lt{constructor(_t,Et,pn,jn,Zi){this.overlay=Et,this._injector=pn,this.sanitizer=jn,this.ngZone=Zi,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=un(un({},_t.default),_t.config),_t.config.iconClasses&&(this.toastrConfig.iconClasses=un(un({},_t.default.iconClasses),_t.config.iconClasses))}show(_t,Et,pn={},jn=""){return this._preBuildNotification(jn,_t,Et,this.applyConfig(pn))}success(_t,Et,pn={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",_t,Et,this.applyConfig(pn))}error(_t,Et,pn={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",_t,Et,this.applyConfig(pn))}info(_t,Et,pn={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",_t,Et,this.applyConfig(pn))}warning(_t,Et,pn={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",_t,Et,this.applyConfig(pn))}clear(_t){for(const Et of this.toasts)if(void 0!==_t){if(Et.toastId===_t)return void Et.toastRef.manualClose()}else Et.toastRef.manualClose()}remove(_t){const Et=this._findToast(_t);if(!Et||(Et.activeToast.toastRef.close(),this.toasts.splice(Et.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const pn=this.toasts[this.currentlyActive].toastRef;pn.isInactive()||(this.currentlyActive=this.currentlyActive+1,pn.activate())}return!0}findDuplicate(_t="",Et="",pn,jn){const{includeTitleDuplicates:Zi}=this.toastrConfig;for(const Dn of this.toasts){const kr=Zi&&Dn.title===_t;if((!Zi||kr)&&Dn.message===Et)return Dn.toastRef.onDuplicate(pn,jn),Dn}return null}applyConfig(_t={}){return un(un({},this.toastrConfig),_t)}_findToast(_t){for(let Et=0;Et<this.toasts.length;Et++)if(this.toasts[Et].toastId===_t)return{index:Et,activeToast:this.toasts[Et]};return null}_preBuildNotification(_t,Et,pn,jn){return jn.onActivateTick?this.ngZone.run(()=>this._buildNotification(_t,Et,pn,jn)):this._buildNotification(_t,Et,pn,jn)}_buildNotification(_t,Et,pn,jn){if(!jn.toastComponent)throw new Error("toastComponent required");const Zi=this.findDuplicate(pn,Et,this.toastrConfig.resetTimeoutOnDuplicate&&jn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&pn||Et)&&this.toastrConfig.preventDuplicates&&null!==Zi)return Zi;this.previousToastMessage=Et;let Dn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Dn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const kr=this.overlay.create(jn.positionClass,this.overlayContainer);this.index=this.index+1;let br=Et;Et&&jn.enableHtml&&(br=this.sanitizer.sanitize(m.q3G.HTML,Et));const Nn=new vn(kr),Cn=new dt(this.index,jn,br,pn,_t,Nn),si=new At(Cn,this._injector),Zn=new Oe(jn.toastComponent,si),ai=kr.attach(Zn,this.toastrConfig.newestOnTop);Nn.componentInstance=ai.instance;const fi={toastId:this.index,title:pn||"",message:Et||"",toastRef:Nn,onShown:Nn.afterActivate(),onHidden:Nn.afterClosed(),onTap:Cn.onTap(),onAction:Cn.onAction(),portal:ai};return Dn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{fi.toastRef.activate()})),this.toasts.push(fi),fi}}return lt.\u0275fac=function(_t){return new(_t||lt)(m.LFG(qt),m.LFG(ze),m.LFG(m.zs3),m.LFG(ce.H7),m.LFG(m.R0b))},lt.\u0275prov=m.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),Fe=(()=>{class lt{constructor(_t,Et,pn){this.toastrService=_t,this.toastPackage=Et,this.ngZone=pn,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Et.message,this.title=Et.title,this.options=Et.config,this.originalTimeout=Et.config.timeOut,this.toastClasses=`${Et.toastType} ${Et.config.toastClass}`,this.sub=Et.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Et.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Et.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Et.toastRef.countDuplicate().subscribe(jn=>{this.duplicatesCount=jn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=_s(un({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const _t=(new Date).getTime();this.width=(this.hideTime-_t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=_s(un({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=_s(un({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(_t,Et){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(_t),Et)):this.timeout=setTimeout(()=>_t(),Et)}outsideInterval(_t,Et){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(_t),Et)):this.intervalId=setInterval(()=>_t(),Et)}runInsideAngular(_t){this.ngZone?this.ngZone.run(()=>_t()):_t()}}return lt.\u0275fac=function(_t){return new(_t||lt)(m.Y36(He),m.Y36(dt),m.Y36(m.R0b))},lt.\u0275cmp=m.Xpm({type:lt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(_t,Et){1&_t&&m.NdJ("click",function(){return Et.tapToast()})("mouseenter",function(){return Et.stickAround()})("mouseleave",function(){return Et.delayedHideToast()}),2&_t&&(m.d8E("@flyInOut",Et.state),m.Tol(Et.toastClasses),m.Udp("display",Et.displayStyle))},attrs:U,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(_t,Et){1&_t&&(m.YNc(0,De,3,0,"button",0),m.YNc(1,be,3,5,"div",1),m.YNc(2,fe,1,3,"div",2),m.YNc(3,ge,2,4,"div",3),m.YNc(4,_e,2,2,"div",4)),2&_t&&(m.Q6J("ngIf",Et.options.closeButton),m.xp6(1),m.Q6J("ngIf",Et.title),m.xp6(1),m.Q6J("ngIf",Et.message&&Et.options.enableHtml),m.xp6(1),m.Q6J("ngIf",Et.message&&!Et.options.enableHtml),m.xp6(1),m.Q6J("ngIf",Et.options.progressBar))},directives:[Ne.O5],encapsulation:2,data:{animation:[(0,B.X$)("flyInOut",[(0,B.SB)("inactive",(0,B.oB)({opacity:0})),(0,B.SB)("active",(0,B.oB)({opacity:1})),(0,B.SB)("removed",(0,B.oB)({opacity:0})),(0,B.eR)("inactive => active",(0,B.jt)("{{ easeTime }}ms {{ easing }}")),(0,B.eR)("active => removed",(0,B.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),lt})();const Qe=_s(un({},Xt),{toastComponent:Fe});let It=(()=>{class lt{static forRoot(_t={}){return{ngModule:lt,providers:[{provide:qt,useValue:{default:Qe,config:_t}}]}}}return lt.\u0275fac=function(_t){return new(_t||lt)},lt.\u0275mod=m.oAB({type:lt}),lt.\u0275inj=m.cJS({imports:[[Ne.ez]]}),lt})(),Ht=(()=>{class lt{constructor(_t,Et,pn){this.toastrService=_t,this.toastPackage=Et,this.appRef=pn,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Et.message,this.title=Et.title,this.options=Et.config,this.originalTimeout=Et.config.timeOut,this.toastClasses=`${Et.toastType} ${Et.config.toastClass}`,this.sub=Et.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Et.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Et.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Et.toastRef.countDuplicate().subscribe(jn=>{this.duplicatesCount=jn})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const _t=(new Date).getTime();this.width=(this.hideTime-_t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return lt.\u0275fac=function(_t){return new(_t||lt)(m.Y36(He),m.Y36(dt),m.Y36(m.z2F))},lt.\u0275cmp=m.Xpm({type:lt,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(_t,Et){1&_t&&m.NdJ("click",function(){return Et.tapToast()})("mouseenter",function(){return Et.stickAround()})("mouseleave",function(){return Et.delayedHideToast()}),2&_t&&(m.Tol(Et.toastClasses),m.Udp("display",Et.displayStyle))},attrs:U,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(_t,Et){1&_t&&(m.YNc(0,Te,3,0,"button",0),m.YNc(1,Ve,3,5,"div",1),m.YNc(2,Xe,1,3,"div",2),m.YNc(3,Se,2,4,"div",3),m.YNc(4,ct,2,2,"div",4)),2&_t&&(m.Q6J("ngIf",Et.options.closeButton),m.xp6(1),m.Q6J("ngIf",Et.title),m.xp6(1),m.Q6J("ngIf",Et.message&&Et.options.enableHtml),m.xp6(1),m.Q6J("ngIf",Et.message&&!Et.options.enableHtml),m.xp6(1),m.Q6J("ngIf",Et.options.progressBar))},directives:[Ne.O5],encapsulation:2}),lt})();_s(un({},Xt),{toastComponent:Ht})},8239:(Jt,vt,X)=>{"use strict";function m(he,Ne,ce,U,De,Y,be){try{var fe=he[Y](be),ge=fe.value}catch(_e){return void ce(_e)}fe.done?Ne(ge):Promise.resolve(ge).then(U,De)}function B(he){return function(){var Ne=this,ce=arguments;return new Promise(function(U,De){var Y=he.apply(Ne,ce);function be(ge){m(Y,U,De,be,fe,"next",ge)}function fe(ge){m(Y,U,De,be,fe,"throw",ge)}be(void 0)})}}X.d(vt,{Z:()=>B})}},Jt=>{Jt(Jt.s=7892)}]);