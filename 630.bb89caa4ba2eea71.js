"use strict";(self.webpackChunksecuriskadmin=self.webpackChunksecuriskadmin||[]).push([[630],{3630:(E,_,c)=>{c.r(_),c.d(_,{LoginModule:()=>k});var m=c(2387),u=c(2581),i=c(9010),n=c(9619),p=c(2008),f=c(2739),a=c(3736),C=c(8438),d=c(6019);function h(t,s){1&t&&(n.TgZ(0,"span"),n._uU(1,"Email is required"),n.qZA())}function x(t,s){1&t&&(n.TgZ(0,"span"),n._uU(1,"Not a valid Email"),n.qZA())}function P(t,s){if(1&t&&(n.TgZ(0,"div",13),n.YNc(1,h,2,0,"span",14),n.YNc(2,x,2,0,"span",14),n.qZA()),2&t){const o=n.oxw(2);let e,r;n.xp6(1),n.Q6J("ngIf",null==(e=o.loginForm.get("email"))||null==e.errors?null:e.errors.required),n.xp6(1),n.Q6J("ngIf",null==(r=o.loginForm.get("email"))||null==r.errors?null:r.errors.email)}}function w(t,s){1&t&&(n.TgZ(0,"span"),n._uU(1,"Password is required"),n.qZA())}function M(t,s){if(1&t&&(n.TgZ(0,"div",13),n.YNc(1,w,2,0,"span",14),n.qZA()),2&t){const o=n.oxw(2);let e;n.xp6(1),n.Q6J("ngIf",null==(e=o.loginForm.get("password"))||null==e.errors?null:e.errors.required)}}function O(t,s){if(1&t){const o=n.EpF();n.TgZ(0,"form",3),n.NdJ("ngSubmit",function(){return n.CHM(o),n.oxw().login()}),n.TgZ(1,"div",4),n.TgZ(2,"label",5),n._uU(3,"Email"),n.qZA(),n._UZ(4,"input",6),n.YNc(5,P,3,2,"div",7),n.qZA(),n.TgZ(6,"div",4),n.TgZ(7,"label",8),n._uU(8,"Password"),n.qZA(),n.TgZ(9,"div",9),n._UZ(10,"input",10),n.TgZ(11,"i",11),n.NdJ("click",function(){n.CHM(o);const r=n.oxw();return r.showPassword=!r.showPassword}),n.qZA(),n.qZA(),n.YNc(12,M,2,1,"div",7),n.qZA(),n.TgZ(13,"p"),n._uU(14,"Don't have account? "),n.TgZ(15,"span",11),n.NdJ("click",function(){n.CHM(o);const r=n.oxw();return r.isLogin=!1,r.registerForm.reset(),r.showPassword=!1}),n._uU(16,"Register"),n.qZA(),n.qZA(),n.TgZ(17,"button",12),n._uU(18,"Login"),n.qZA(),n.qZA()}if(2&t){const o=n.oxw();let e,r;n.Q6J("formGroup",o.loginForm),n.xp6(5),n.Q6J("ngIf",((null==(e=o.loginForm.get("email"))?null:e.touched)||(null==(e=o.loginForm.get("email"))?null:e.dirty))&&(null==(e=o.loginForm.get("email"))?null:e.invalid)&&(null==(e=o.loginForm.get("email"))?null:e.errors)),n.xp6(5),n.Q6J("type",o.showPassword?"text":"password"),n.xp6(1),n.Gre("fa ",o.showPassword?"fa-eye-slash":"fa-eye",""),n.xp6(1),n.Q6J("ngIf",((null==(r=o.loginForm.get("password"))?null:r.touched)||(null==(r=o.loginForm.get("password"))?null:r.dirty))&&(null==(r=o.loginForm.get("password"))?null:r.invalid)&&(null==(r=o.loginForm.get("password"))?null:r.errors))}}function Z(t,s){1&t&&(n.TgZ(0,"span"),n._uU(1,"Email is required"),n.qZA())}function v(t,s){1&t&&(n.TgZ(0,"span"),n._uU(1,"Not a valid Email"),n.qZA())}function T(t,s){if(1&t&&(n.TgZ(0,"div",13),n.YNc(1,Z,2,0,"span",14),n.YNc(2,v,2,0,"span",14),n.qZA()),2&t){const o=n.oxw(2);let e,r;n.xp6(1),n.Q6J("ngIf",null==(e=o.registerForm.get("email"))||null==e.errors?null:e.errors.required),n.xp6(1),n.Q6J("ngIf",null==(r=o.registerForm.get("email"))||null==r.errors?null:r.errors.email)}}function F(t,s){1&t&&(n.TgZ(0,"span"),n._uU(1,"Password is required"),n.qZA())}function q(t,s){if(1&t&&(n.TgZ(0,"div",13),n.YNc(1,F,2,0,"span",14),n.qZA()),2&t){const o=n.oxw(2);let e;n.xp6(1),n.Q6J("ngIf",null==(e=o.registerForm.get("password"))||null==e.errors?null:e.errors.required)}}function A(t,s){1&t&&(n.TgZ(0,"span"),n._uU(1,"Confirm Password is required"),n.qZA())}function y(t,s){1&t&&(n.TgZ(0,"span"),n._uU(1,"Confirm Password must match with the Password"),n.qZA())}function b(t,s){if(1&t&&(n.TgZ(0,"div",13),n.YNc(1,A,2,0,"span",14),n.YNc(2,y,2,0,"span",14),n.qZA()),2&t){const o=n.oxw(2);let e,r;n.xp6(1),n.Q6J("ngIf",null==(e=o.registerForm.get("confirm_password"))||null==e.errors?null:e.errors.required),n.xp6(1),n.Q6J("ngIf",null==(r=o.registerForm.get("confirm_password"))||null==r.errors?null:r.errors.confirmedValidator)}}function L(t,s){1&t&&(n.TgZ(0,"span"),n._uU(1,"User Type is required"),n.qZA())}function I(t,s){if(1&t&&(n.TgZ(0,"div",13),n.YNc(1,L,2,0,"span",14),n.qZA()),2&t){const o=n.oxw(2);let e;n.xp6(1),n.Q6J("ngIf",null==(e=o.registerForm.get("user_type"))||null==e.errors?null:e.errors.required)}}function N(t,s){if(1&t){const o=n.EpF();n.TgZ(0,"form",3),n.NdJ("ngSubmit",function(){return n.CHM(o),n.oxw().register()}),n.TgZ(1,"div",4),n.TgZ(2,"label",5),n._uU(3,"Email"),n.qZA(),n._UZ(4,"input",6),n.YNc(5,T,3,2,"div",7),n.qZA(),n.TgZ(6,"div",4),n.TgZ(7,"label",8),n._uU(8,"Password"),n.qZA(),n.TgZ(9,"div",9),n._UZ(10,"input",10),n.TgZ(11,"i",11),n.NdJ("click",function(){n.CHM(o);const r=n.oxw();return r.showPassword=!r.showPassword}),n.qZA(),n.qZA(),n.YNc(12,q,2,1,"div",7),n.qZA(),n.TgZ(13,"div",4),n.TgZ(14,"label",15),n._uU(15,"Confirm Password"),n.qZA(),n.TgZ(16,"div",9),n._UZ(17,"input",16),n.TgZ(18,"i",11),n.NdJ("click",function(){n.CHM(o);const r=n.oxw();return r.showCfmPassword=!r.showCfmPassword}),n.qZA(),n.qZA(),n.YNc(19,b,3,2,"div",7),n.qZA(),n.TgZ(20,"div",4),n.TgZ(21,"label",17),n._uU(22,"User Type"),n.qZA(),n.TgZ(23,"select",18),n.TgZ(24,"option",19),n._uU(25,"Admin"),n.qZA(),n.qZA(),n.YNc(26,I,2,1,"div",7),n.qZA(),n.TgZ(27,"p"),n._uU(28,"Already have account? "),n.TgZ(29,"span",11),n.NdJ("click",function(){n.CHM(o);const r=n.oxw();return r.isLogin=!0,r.loginForm.reset(),r.showPassword=!1}),n._uU(30,"Login"),n.qZA(),n.qZA(),n.TgZ(31,"button",12),n._uU(32,"Register"),n.qZA(),n.qZA()}if(2&t){const o=n.oxw();let e,r,g,l;n.Q6J("formGroup",o.registerForm),n.xp6(5),n.Q6J("ngIf",((null==(e=o.registerForm.get("email"))?null:e.touched)||(null==(e=o.registerForm.get("email"))?null:e.dirty))&&(null==(e=o.registerForm.get("email"))?null:e.invalid)&&(null==(e=o.registerForm.get("email"))?null:e.errors)),n.xp6(5),n.Q6J("type",o.showPassword?"text":"password"),n.xp6(1),n.Gre("fa ",o.showPassword?"fa-eye-slash":"fa-eye",""),n.xp6(1),n.Q6J("ngIf",((null==(r=o.registerForm.get("password"))?null:r.touched)||(null==(r=o.registerForm.get("password"))?null:r.dirty))&&(null==(r=o.registerForm.get("password"))?null:r.invalid)&&(null==(r=o.registerForm.get("password"))?null:r.errors)),n.xp6(5),n.Q6J("type",o.showCfmPassword?"text":"password"),n.xp6(1),n.Gre("fa ",o.showCfmPassword?"fa-eye-slash":"fa-eye",""),n.xp6(1),n.Q6J("ngIf",((null==(g=o.registerForm.get("confirm_password"))?null:g.touched)||(null==(g=o.registerForm.get("confirm_password"))?null:g.dirty))&&(null==(g=o.registerForm.get("confirm_password"))?null:g.invalid)&&(null==(g=o.registerForm.get("confirm_password"))?null:g.errors)),n.xp6(7),n.Q6J("ngIf",((null==(l=o.registerForm.get("user_type"))?null:l.touched)||(null==(l=o.registerForm.get("user_type"))?null:l.dirty))&&(null==(l=o.registerForm.get("user_type"))?null:l.invalid)&&(null==(l=o.registerForm.get("user_type"))?null:l.errors))}}const J=[{path:"",component:(()=>{class t{constructor(o,e,r,g,l,Y,Q){this.fb=o,this.auth=e,this.afs=r,this.authService=g,this.router=l,this.spinner=Y,this.toastr=Q,this.isLogin=!0,this.showPassword=!1,this.showCfmPassword=!1,this.loginForm=this.fb.group({email:new i.NI("",[i.kI.required,i.kI.email]),password:new i.NI("",[i.kI.required])}),this.registerForm=this.fb.group({email:new i.NI("",[i.kI.required,i.kI.email]),password:new i.NI("",[i.kI.required]),confirm_password:new i.NI("",[i.kI.required]),user_type:new i.NI("",[i.kI.required])},{validator:this.confirmedValidator("password","confirm_password")})}ngOnInit(){this.spinner.show(),this.auth.authState.subscribe(o=>{this.spinner.hide(),o&&(this.authService.setUser(o),this.router.navigate(["/admin"]))})}confirmedValidator(o,e){return r=>{const l=r.controls[e];l.errors&&!l.errors.confirmedValidator||l.setErrors(r.controls[o].value!==l.value?{confirmedValidator:!0}:null)}}login(){for(let o in this.loginForm.controls)this.loginForm.controls[o].markAsTouched(),this.loginForm.controls[o].updateValueAndValidity();this.loginForm.valid&&(this.spinner.show(),this.auth.signInWithEmailAndPassword(this.loginForm.value.email,this.loginForm.value.password).then(o=>{this.spinner.hide()}).catch(o=>{this.spinner.hide(),this.toastr.error(o.message,"Error"),console.log(o.message)}))}register(){for(let o in this.registerForm.controls)this.registerForm.controls[o].markAsTouched(),this.registerForm.controls[o].updateValueAndValidity();this.registerForm.valid&&(this.spinner.show(),this.auth.createUserWithEmailAndPassword(this.registerForm.value.email,this.registerForm.value.password).then(o=>{var e;let r={email:this.registerForm.value.email,user_id:null===(e=o.user)||void 0===e?void 0:e.uid,user_type:this.registerForm.value.user_type};this.afs.collection("users").add(r).then(g=>{this.auth.signInWithEmailAndPassword(this.registerForm.value.email,this.registerForm.value.password).then(l=>{this.spinner.hide()}).catch(l=>{console.log(l.message),this.spinner.hide()})}).catch(g=>{console.log(g.message),this.toastr.error(g.message,"Error"),this.spinner.hide()})}).catch(o=>{console.log(o.message),this.toastr.error(o.message,"Error"),this.spinner.hide()}))}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(i.qu),n.Y36(p.zQ),n.Y36(u.ST),n.Y36(f.e),n.Y36(a.F0),n.Y36(C.t2),n.Y36(m._W))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],decls:6,vars:3,consts:[[1,"login_container"],[1,"login"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form_control"],["for","email"],["type","email","id","email","formControlName","email"],["class","error",4,"ngIf"],["for","password"],[2,"position","relative"],["id","password","formControlName","password",3,"type"],[3,"click"],["type","submit"],[1,"error"],[4,"ngIf"],["for","cfm_password"],["id","cfm_password","formControlName","confirm_password",3,"type"],["for","user_type"],["id","user_type","formControlName","user_type"],["value","admin"]],template:function(o,e){1&o&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"h5"),n._uU(3),n.qZA(),n.YNc(4,O,19,7,"form",2),n.YNc(5,N,33,13,"form",2),n.qZA(),n.qZA()),2&o&&(n.xp6(3),n.Oqu(e.isLogin?"Login":"Register"),n.xp6(1),n.Q6J("ngIf",e.isLogin),n.xp6(1),n.Q6J("ngIf",!e.isLogin))},directives:[d.O5,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.EJ,i.YN,i.Kr],styles:['.login_container[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;position:relative}.login_container[_ngcontent-%COMP%]:before{content:"";width:100%;height:100%;position:absolute;left:0;top:0;background-image:url(https://firebasestorage.googleapis.com/v0/b/juteproducts.appspot.com/o/securisk%2Fcarousel%2Flanding_carousel_9.jpeg?alt=media&token=bccd36cf-1477-48c6-a2d5-064723cdf34a);background-repeat:no-repeat;background-size:cover;background-position:center;opacity:.4;z-index:-2}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{min-width:430px;padding:20px;box-sizing:border-box;border:1px solid rgba(0,0,0,.25);border-radius:3px;background-color:#fff}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:#8a3265;margin-bottom:30px}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;display:flex;grid-gap:10px;gap:10px}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#8a3265;font-weight:500;cursor:pointer}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;grid-gap:5px;gap:5px;margin-bottom:15px}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:normal;margin-left:5px}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;outline:none;border:1px solid #d4d5d9;border-radius:5px;padding:0 10px;font-size:14px;font-weight:400;color:#454545;box-sizing:border-box}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{box-shadow:0 0 3px 2px #853262b3}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:40px}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:12px;right:15px;color:#454545;cursor:pointer}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:13px;color:#ef0000;font-weight:400}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px auto 0;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]{padding:15px 20px;border:1px solid #e4e5e9;border-radius:10px;box-shadow:1px 1px 6px #0003;display:flex;justify-content:space-between}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;grid-gap:25px;gap:25px}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .fa-eye[_ngcontent-%COMP%]{color:#8a3265}.login_container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#ec2525}']}),t})()}];let U=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[a.Bz.forChild(J)],a.Bz]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[d.ez,U,i.u5,i.UX,p.ww,u.yb,m.Rh]]}),t})()}}]);