var Jk=Object.defineProperty,Xk=Object.defineProperties,eA=Object.getOwnPropertyDescriptors,dk=Object.getOwnPropertySymbols,tA=Object.prototype.hasOwnProperty,nA=Object.prototype.propertyIsEnumerable,hk=(Kt,_t,X)=>_t in Kt?Jk(Kt,_t,{enumerable:!0,configurable:!0,writable:!0,value:X}):Kt[_t]=X,mn=(Kt,_t)=>{for(var X in _t||(_t={}))tA.call(_t,X)&&hk(Kt,X,_t[X]);if(dk)for(var X of dk(_t))nA.call(_t,X)&&hk(Kt,X,_t[X]);return Kt},va=(Kt,_t)=>Xk(Kt,eA(_t));(self.webpackChunksecuriskadmin=self.webpackChunksecuriskadmin||[]).push([[179],{2008:(Kt,_t,X)=>{"use strict";X.d(_t,{zQ:()=>Ze,ww:()=>Ie,Qv:()=>Bt});var m=X(9619),P=X(3405),Ve=X(2411),oe=X(5548),le=X(1915),he=X(8526),Le=X(7575),Z=X(1346),me=X(9254),_e=X(2108),ge=X(5973);class be extends P.xQ{constructor(at=Number.POSITIVE_INFINITY,jt=Number.POSITIVE_INFINITY,Vt){super(),this.scheduler=Vt,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=at<1?1:at,this._windowTime=jt<1?1:jt,jt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(at){if(!this.isStopped){const jt=this._events;jt.push(at),jt.length>this._bufferSize&&jt.shift()}super.next(at)}nextTimeWindow(at){this.isStopped||(this._events.push(new Se(this._getNow(),at)),this._trimBufferThenGetEvents()),super.next(at)}_subscribe(at){const jt=this._infiniteTimeWindow,Vt=jt?this._events:this._trimBufferThenGetEvents(),Xt=this.scheduler,Ot=Vt.length;let tn;if(this.closed)throw new _e.N;if(this.isStopped||this.hasError?tn=Z.w.EMPTY:(this.observers.push(at),tn=new ge.W(this,at)),Xt&&at.add(at=new me.ht(at,Xt)),jt)for(let Ht=0;Ht<Ot&&!at.closed;Ht++)at.next(Vt[Ht]);else for(let Ht=0;Ht<Ot&&!at.closed;Ht++)at.next(Vt[Ht].value);return this.hasError?at.error(this.thrownError):this.isStopped&&at.complete(),tn}_getNow(){return(this.scheduler||Le.c).now()}_trimBufferThenGetEvents(){const at=this._getNow(),jt=this._bufferSize,Vt=this._windowTime,Xt=this._events,Ot=Xt.length;let tn=0;for(;tn<Ot&&!(at-Xt[tn].time<Vt);)tn++;return Ot>jt&&(tn=Math.max(tn,Ot-jt)),tn>0&&Xt.splice(0,tn),Xt}}class Se{constructor(at,jt){this.time=at,this.value=jt}}function ne($e,at,jt){let Vt;return Vt=$e&&"object"==typeof $e?$e:{bufferSize:$e,windowTime:at,refCount:!1,scheduler:jt},Xt=>Xt.lift(function({bufferSize:$e=Number.POSITIVE_INFINITY,windowTime:at=Number.POSITIVE_INFINITY,refCount:jt,scheduler:Vt}){let Xt,tn,Ot=0,Ht=!1,zn=!1;return function($n){let xi;Ot++,!Xt||Ht?(Ht=!1,Xt=new be($e,at,Vt),xi=Xt.subscribe(this),tn=$n.subscribe({next(Zi){Xt.next(Zi)},error(Zi){Ht=!0,Xt.error(Zi)},complete(){zn=!0,tn=void 0,Xt.complete()}}),zn&&(tn=void 0)):xi=Xt.subscribe(this),this.add(()=>{Ot--,xi.unsubscribe(),xi=void 0,tn&&!zn&&jt&&0===Ot&&(tn.unsubscribe(),tn=void 0,Xt=void 0)})}}(Vt))}var Ee=X(9204);function Ke($e,at){return at?(0,Ee.w)(()=>$e,at):(0,Ee.w)(()=>$e)}var yt=X(8053),rt=X(739),we=X(2635),Ne=X(8735),At=X(436),dt=X(6019);const Bt=new m.OlP("angularfire2.auth.use-emulator"),_n=new m.OlP("angularfire2.auth.settings"),it=new m.OlP("angularfire2.auth.tenant-id"),st=new m.OlP("angularfire2.auth.langugage-code"),Te=new m.OlP("angularfire2.auth.use-device-language"),Fe=new m.OlP("angularfire.auth.persistence");let Ze=(()=>{class $e{constructor(jt,Vt,Xt,Ot,tn,Ht,zn,oi,$n,xi){const Zi=new At.HU(Ot),Sr=(0,At.ss)(Zi),Tn=new P.xQ,Hr=(0,Ve.of)(void 0).pipe((0,me.QV)(Zi.outsideAngular),(0,Ee.w)(()=>Ot.runOutsideAngular(()=>X.e(881).then(X.bind(X,4881)))),(0,yt.U)(()=>(0,At.on)(jt,Ot,Vt)),(0,yt.U)(Ir=>Ot.runOutsideAngular(()=>{const Ln=tn,wn=Ht;return(0,At.sI)(`${Ir.name}.auth`,"AngularFireAuth",Ir,()=>{const ci=Ot.runOutsideAngular(()=>Ir.auth());if(Ln&&ci.useEmulator(`http://${Ln.join(":")}`),zn&&(ci.tenantId=zn),ci.languageCode=oi,$n&&ci.useDeviceLanguage(),wn)for(const[Jn,di]of Object.entries(wn))ci.settings[Jn]=di;return xi&&ci.setPersistence(xi),ci},[Ln,zn,oi,$n,wn,xi])})),ne({bufferSize:1,refCount:!1}));if((0,dt.PM)(Xt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ve.of)(null);else{Hr.pipe((0,rt.P)()).subscribe();const Ln=Hr.pipe((0,Ee.w)(di=>di.getRedirectResult().then(pi=>pi,()=>null)),Sr,ne({bufferSize:1,refCount:!1})),wn=di=>new oe.y(pi=>({unsubscribe:Ot.runOutsideAngular(()=>di(pi))})),ci=Hr.pipe((0,Ee.w)(di=>wn(di.onAuthStateChanged.bind(di)))),Jn=Hr.pipe((0,Ee.w)(di=>wn(di.onIdTokenChanged.bind(di))));this.authState=Ln.pipe(Ke(ci),(0,we.R)(Zi.outsideAngular),(0,me.QV)(Zi.insideAngular)),this.user=Ln.pipe(Ke(Jn),(0,we.R)(Zi.outsideAngular),(0,me.QV)(Zi.insideAngular)),this.idToken=this.user.pipe((0,Ee.w)(di=>di?(0,le.D)(di.getIdToken()):(0,Ve.of)(null))),this.idTokenResult=this.user.pipe((0,Ee.w)(di=>di?(0,le.D)(di.getIdTokenResult()):(0,Ve.of)(null))),this.credential=(0,he.T)(Ln,Tn,this.authState.pipe((0,Ne.h)(di=>!di))).pipe((0,yt.U)(di=>(null==di?void 0:di.user)?di:null),(0,we.R)(Zi.outsideAngular),(0,me.QV)(Zi.insideAngular))}return(0,At.pX)(this,Hr,Ot,{spy:{apply:(Ir,Ln,wn)=>{(Ir.startsWith("signIn")||Ir.startsWith("createUser"))&&wn.then(ci=>Tn.next(ci))}}})}}return $e.\u0275fac=function(jt){return new(jt||$e)(m.LFG(At.Dh),m.LFG(At.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Bt,8),m.LFG(_n,8),m.LFG(it,8),m.LFG(st,8),m.LFG(Te,8),m.LFG(Fe,8))},$e.\u0275prov=m.Yz7({factory:function(){return new $e(m.LFG(At.Dh),m.LFG(At.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Bt,8),m.LFG(_n,8),m.LFG(it,8),m.LFG(st,8),m.LFG(Te,8),m.LFG(Fe,8))},token:$e,providedIn:"any"}),$e})(),Ie=(()=>{class $e{}return $e.\u0275fac=function(jt){return new(jt||$e)},$e.\u0275mod=m.oAB({type:$e}),$e.\u0275inj=m.cJS({providers:[Ze]}),$e})()},2581:(Kt,_t,X)=>{"use strict";X.d(_t,{ST:()=>yr,yb:()=>Ul});var m=X(9619),P=X(8178),Ve=X(5548),oe=X(1915),le=X(2411),he=X(4168);function Le(){return s=>s.lift(new Z)}class Z{call(i,c){return c.subscribe(new me(i))}}class me extends he.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let c;this.hasPrev?c=[this.prev,i]:this.hasPrev=!0,this.prev=i,c&&this.destination.next(c)}}var _e=X(1125),ge=X(8053),be=X(7434),Se=X(5389),ne=X(8735),gt=X(9254),Ee=X(436),Ke=X(6019),yt=X(7713),rt=X(417),we=X(4762),Ne=X(8305),At=X(6433),dt=function(s,i){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(c[b]=p[b])})(s,i)};function Bt(s){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&s[i],p=0;if(c)return c.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&p>=s.length&&(s=void 0),{value:s&&s[p++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var it,_n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},st=st||{},Te=_n||self;function Fe(){}function Ze(s){var i=typeof s;return"array"==(i="object"!=i?i:s?Array.isArray(s)?"array":i:"null")||"object"==i&&"number"==typeof s.length}function Ie(s){var i=typeof s;return"object"==i&&null!=s||"function"==i}var at="closure_uid_"+(1e9*Math.random()>>>0),jt=0;function Vt(s,i,c){return s.call.apply(s.bind,arguments)}function Xt(s,i,c){if(!s)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),s.apply(i,b)}}return function(){return s.apply(i,arguments)}}function Ot(s,i,c){return(Ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vt:Xt).apply(null,arguments)}function tn(s,i){var c=Array.prototype.slice.call(arguments,1);return function(){var p=c.slice();return p.push.apply(p,arguments),s.apply(this,p)}}function Ht(s,i){function c(){}c.prototype=i.prototype,s.Z=i.prototype,s.prototype=new c,s.prototype.constructor=s,s.Vb=function(p,b,A){for(var S=Array(arguments.length-2),j=2;j<arguments.length;j++)S[j-2]=arguments[j];return i.prototype[b].apply(p,S)}}function zn(){this.s=this.s,this.o=this.o}var $n={};zn.prototype.s=!1,zn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,at)&&s[at]||(s[at]=++jt)}(this);delete $n[s]}},zn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xi=Array.prototype.indexOf?function(s,i){return Array.prototype.indexOf.call(s,i,void 0)}:function(s,i){if("string"==typeof s)return"string"!=typeof i||1!=i.length?-1:s.indexOf(i,0);for(var c=0;c<s.length;c++)if(c in s&&s[c]===i)return c;return-1},Zi=Array.prototype.forEach?function(s,i,c){Array.prototype.forEach.call(s,i,c)}:function(s,i,c){for(var p=s.length,b="string"==typeof s?s.split(""):s,A=0;A<p;A++)A in b&&i.call(c,b[A],A,s)};function Tn(s){return Array.prototype.concat.apply([],arguments)}function Hr(s){var i=s.length;if(0<i){for(var c=Array(i),p=0;p<i;p++)c[p]=s[p];return c}return[]}function Ir(s){return/^[\s\xa0]*$/.test(s)}var Jn,Ln=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function wn(s,i){return-1!=s.indexOf(i)}function ci(s,i){return s<i?-1:s>i?1:0}e:{var di=Te.navigator;if(di){var pi=di.userAgent;if(pi){Jn=pi;break e}}Jn=""}function Mi(s,i,c){for(var p in s)i.call(c,s[p],p,s)}function Ai(s){var i={};for(var c in s)i[c]=s[c];return i}var Vo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sn(s,i){for(var c,p,b=1;b<arguments.length;b++){for(c in p=arguments[b])s[c]=p[c];for(var A=0;A<Vo.length;A++)c=Vo[A],Object.prototype.hasOwnProperty.call(p,c)&&(s[c]=p[c])}}function Pr(s){return Pr[" "](s),s}Pr[" "]=Fe;var Oi,s,oo=wn(Jn,"Opera"),Vi=wn(Jn,"Trident")||wn(Jn,"MSIE"),Vn=wn(Jn,"Edge"),Bn=Vn||Vi,zr=wn(Jn,"Gecko")&&!(wn(Jn.toLowerCase(),"webkit")&&!wn(Jn,"Edge"))&&!(wn(Jn,"Trident")||wn(Jn,"MSIE"))&&!wn(Jn,"Edge"),gi=wn(Jn.toLowerCase(),"webkit")&&!wn(Jn,"Edge");function lr(){var s=Te.document;return s?s.documentMode:void 0}e:{var Ni="",tr=(s=Jn,zr?/rv:([^\);]+)(\)|;)/.exec(s):Vn?/Edge\/([\d\.]+)/.exec(s):Vi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):gi?/WebKit\/(\S+)/.exec(s):oo?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(tr&&(Ni=tr?tr[1]:""),Vi){var Ii=lr();if(null!=Ii&&Ii>parseFloat(Ni)){Oi=String(Ii);break e}}Oi=Ni}var mt={};function Je(){return i=mt,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var s=0,i=Ln(String(Oi)).split("."),c=Ln("9").split("."),p=Math.max(i.length,c.length),b=0;0==s&&b<p;b++){var A=i[b]||"",S=c[b]||"";do{if(A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],0==A[0].length&&0==S[0].length)break;s=ci(0==A[1].length?0:parseInt(A[1],10),0==S[1].length?0:parseInt(S[1],10))||ci(0==A[2].length,0==S[2].length)||ci(A[2],S[2]),A=A[3],S=S[3]}while(0==s)}return 0<=s}();var i}var Et=Te.document&&Vi&&(lr()||parseInt(Oi,10))||void 0,nn=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var s=!1,i=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Te.addEventListener("test",Fe,i),Te.removeEventListener("test",Fe,i)}catch(c){}return s}();function Nn(s,i){this.type=s,this.g=this.target=i,this.defaultPrevented=!1}function Wn(s,i){if(Nn.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var c=this.type=s.type,p=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=i,i=s.relatedTarget){if(zr){e:{try{Pr(i.nodeName);var b=!0;break e}catch(A){}b=!1}b||(i=null)}}else"mouseover"==c?i=s.fromElement:"mouseout"==c&&(i=s.toElement);this.relatedTarget=i,p?(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:In[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Wn.Z.h.call(this)}}Nn.prototype.h=function(){this.defaultPrevented=!0},Ht(Wn,Nn);var In={2:"touch",3:"pen",4:"mouse"};Wn.prototype.h=function(){Wn.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Ei="closure_listenable_"+(1e6*Math.random()|0),Ui=0;function Fr(s,i,c,p,b){this.listener=s,this.proxy=null,this.src=i,this.type=c,this.capture=!!p,this.ia=b,this.key=++Ui,this.ca=this.fa=!1}function Qr(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function dr(s){this.src=s,this.g={},this.h=0}function Dt(s,i){var c=i.type;if(c in s.g){var A,p=s.g[c],b=xi(p,i);(A=0<=b)&&Array.prototype.splice.call(p,b,1),A&&(Qr(i),0==s.g[c].length&&(delete s.g[c],s.h--))}}function bt(s,i,c,p){for(var b=0;b<s.length;++b){var A=s[b];if(!A.ca&&A.listener==i&&A.capture==!!c&&A.ia==p)return b}return-1}dr.prototype.add=function(s,i,c,p,b){var A=s.toString();(s=this.g[A])||(s=this.g[A]=[],this.h++);var S=bt(s,i,p,b);return-1<S?(i=s[S],c||(i.fa=!1)):((i=new Fr(i,this.src,A,!!p,b)).fa=c,s.push(i)),i};var Qe="closure_lm_"+(1e6*Math.random()|0),Mt={};function $t(s,i,c,p,b){if(p&&p.once)return hi(s,i,c,p,b);if(Array.isArray(i)){for(var A=0;A<i.length;A++)$t(s,i[A],c,p,b);return null}return c=dn(c),s&&s[Ei]?s.N(i,c,Ie(p)?!!p.capture:!!p,b):An(s,i,c,!1,p,b)}function An(s,i,c,p,b,A){if(!i)throw Error("Invalid event type");var S=Ie(b)?!!b.capture:!!b,j=hr(s);if(j||(s[Qe]=j=new dr(s)),(c=j.add(i,c,p,S,A)).proxy)return c;if(p=function(){var i=as;return function s(c){return i.call(s.src,s.listener,c)}}(),c.proxy=p,p.src=s,p.listener=c,s.addEventListener)nn||(b=S),void 0===b&&(b=!1),s.addEventListener(i.toString(),p,b);else if(s.attachEvent)s.attachEvent(xo(i.toString()),p);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(p)}return c}function hi(s,i,c,p,b){if(Array.isArray(i)){for(var A=0;A<i.length;A++)hi(s,i[A],c,p,b);return null}return c=dn(c),s&&s[Ei]?s.O(i,c,Ie(p)?!!p.capture:!!p,b):An(s,i,c,!0,p,b)}function wr(s,i,c,p,b){if(Array.isArray(i))for(var A=0;A<i.length;A++)wr(s,i[A],c,p,b);else p=Ie(p)?!!p.capture:!!p,c=dn(c),s&&s[Ei]?(s=s.i,(i=String(i).toString())in s.g&&-1<(c=bt(A=s.g[i],c,p,b))&&(Qr(A[c]),Array.prototype.splice.call(A,c,1),0==A.length&&(delete s.g[i],s.h--))):s&&(s=hr(s))&&(i=s.g[i.toString()],s=-1,i&&(s=bt(i,c,p,b)),(c=-1<s?i[s]:null)&&Ci(c))}function Ci(s){if("number"!=typeof s&&s&&!s.ca){var i=s.src;if(i&&i[Ei])Dt(i.i,s);else{var c=s.type,p=s.proxy;i.removeEventListener?i.removeEventListener(c,p,s.capture):i.detachEvent?i.detachEvent(xo(c),p):i.addListener&&i.removeListener&&i.removeListener(p),(c=hr(i))?(Dt(c,s),0==c.h&&(c.src=null,i[Qe]=null)):Qr(s)}}}function xo(s){return s in Mt?Mt[s]:Mt[s]="on"+s}function as(s,i){if(s.ca)s=!0;else{i=new Wn(i,this);var c=s.listener,p=s.ia||s.src;s.fa&&Ci(s),s=c.call(p,i)}return s}function hr(s){return(s=s[Qe])instanceof dr?s:null}var Cr="__closure_events_fn_"+(1e9*Math.random()>>>0);function dn(s){return"function"==typeof s?s:(s[Cr]||(s[Cr]=function(i){return s.handleEvent(i)}),s[Cr])}function jn(){zn.call(this),this.i=new dr(this),this.P=this,this.I=null}function ui(s,i){var c,p=s.I;if(p)for(c=[];p;p=p.I)c.push(p);if(s=s.P,p=i.type||i,"string"==typeof i)i=new Nn(i,s);else if(i instanceof Nn)i.target=i.target||s;else{var b=i;Sn(i=new Nn(p,s),b)}if(b=!0,c)for(var A=c.length-1;0<=A;A--){var S=i.g=c[A];b=Ki(S,p,!0,i)&&b}if(b=Ki(S=i.g=s,p,!0,i)&&b,b=Ki(S,p,!1,i)&&b,c)for(A=0;A<c.length;A++)b=Ki(S=i.g=c[A],p,!1,i)&&b}function Ki(s,i,c,p){if(!(i=s.i.g[String(i)]))return!0;i=i.concat();for(var b=!0,A=0;A<i.length;++A){var S=i[A];if(S&&!S.ca&&S.capture==c){var j=S.listener,se=S.ia||S.src;S.fa&&Dt(s.i,S),b=!1!==j.call(se,p)&&b}}return b&&!p.defaultPrevented}Ht(jn,zn),jn.prototype[Ei]=!0,jn.prototype.removeEventListener=function(s,i,c,p){wr(this,s,i,c,p)},jn.prototype.M=function(){if(jn.Z.M.call(this),this.i){var i,s=this.i;for(i in s.g){for(var c=s.g[i],p=0;p<c.length;p++)Qr(c[p]);delete s.g[i],s.h--}}this.I=null},jn.prototype.N=function(s,i,c,p){return this.i.add(String(s),i,!1,c,p)},jn.prototype.O=function(s,i,c,p){return this.i.add(String(s),i,!0,c,p)};var yo=Te.JSON.stringify;function qr(){var s=As,i=null;return s.g&&(i=s.g,s.g=s.g.next,s.g||(s.h=null),i.next=null),i}var pr,wo=function(){function s(){this.h=this.g=null}return s.prototype.add=function(i,c){var p=Yi.get();p.set(i,c),this.h?this.h.next=p:this.g=p,this.h=p},s}(),Yi=new(function(){function s(i,c){this.i=i,this.j=c,this.h=0,this.g=null}return s.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},s}())(function(){return new or},function(s){return s.reset()}),or=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(i,c){this.h=i,this.g=c,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function so(s){Te.setTimeout(function(){throw s},0)}function qn(s,i){pr||function(){var s=Te.Promise.resolve(void 0);pr=function(){s.then(Zn)}}(),Xo||(pr(),Xo=!0),As.add(s,i)}var Xo=!1,As=new wo;function Zn(){for(var s;s=qr();){try{s.h.call(s.g)}catch(c){so(c)}var i=Yi;i.j(s),100>i.h&&(i.h++,s.next=i.g,i.g=s)}Xo=!1}function ls(s,i){jn.call(this),this.h=s||1,this.g=i||Te,this.j=Ot(this.kb,this),this.l=Date.now()}function Uo(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Or(s,i,c){if("function"==typeof s)c&&(s=Ot(s,c));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Ot(s.handleEvent,s)}return 2147483647<Number(i)?-1:Te.setTimeout(s,i||0)}function qi(s){s.g=Or(function(){s.g=null,s.i&&(s.i=!1,qi(s))},s.j);var i=s.h;s.h=null,s.m.apply(null,i)}Ht(ls,jn),(it=ls.prototype).da=!1,it.S=null,it.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ui(this,"tick"),this.da&&(Uo(this),this.start()))}},it.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){ls.Z.M.call(this),Uo(this),delete this.g};var cs=function(s){function i(c,p){var b=s.call(this)||this;return b.m=c,b.j=p,b.h=null,b.i=!1,b.g=null,b}return function(s,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function c(){this.constructor=s}dt(s,i),s.prototype=null===i?Object.create(i):(c.prototype=i.prototype,new c)}(i,s),i.prototype.l=function(c){this.h=arguments,this.g?this.i=!0:qi(this)},i.prototype.M=function(){s.prototype.M.call(this),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(zn);function Oo(s){zn.call(this),this.h=s,this.g={}}Ht(Oo,zn);var No=[];function Eo(s,i,c,p){Array.isArray(c)||(c&&(No[0]=c.toString()),c=No);for(var b=0;b<c.length;b++){var A=$t(i,c[b],p||s.handleEvent,!1,s.h||s);if(!A)break;s.g[A.key]=A}}function Ho(s){Mi(s.g,function(i,c){this.g.hasOwnProperty(c)&&Ci(i)},s),s.g={}}function es(){this.g=!0}function Xr(s,i,c,p){s.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(s,i){if(!s.g)return i;if(!i)return null;try{var c=JSON.parse(i);if(c)for(s=0;s<c.length;s++)if(Array.isArray(c[s])){var p=c[s];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if("noop"!=A&&"stop"!=A&&"close"!=A)for(var S=1;S<b.length;S++)b[S]=""}}}return yo(c)}catch(j){return i}}(s,c)+(p?" "+p:"")})}Oo.prototype.M=function(){Oo.Z.M.call(this),Ho(this)},Oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},es.prototype.Aa=function(){this.g=!1},es.prototype.info=function(){};var co={},_r=null;function Go(){return _r=_r||new jn}function Vr(s){Nn.call(this,co.Ma,s)}function _s(s){var i=Go();ui(i,new Vr(i,s))}function Fs(s,i){Nn.call(this,co.STAT_EVENT,s),this.stat=i}function Gr(s){var i=Go();ui(i,new Fs(i,s))}function ts(s,i){Nn.call(this,co.Na,s),this.size=i}function ua(s,i){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){s()},i)}co.Ma="serverreachability",Ht(Vr,Nn),co.STAT_EVENT="statevent",Ht(Fs,Nn),co.Na="timingevent",Ht(ts,Nn);var Ys={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Qs={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function za(){}function ns(){}za.prototype.h=null;var cl,Js={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ls(){Nn.call(this,"d")}function Qa(){Nn.call(this,"c")}function $r(){}function Xs(s,i,c,p){this.l=s,this.j=i,this.m=c,this.X=p||1,this.V=new Oo(this),this.P=Bs,this.W=new ls(s=Bn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ea}function ea(){this.i=null,this.g="",this.h=!1}Ht(Ls,Nn),Ht(Qa,Nn),Ht($r,za),$r.prototype.g=function(){return new XMLHttpRequest},$r.prototype.i=function(){return{}},cl=new $r;var Bs=45e3,Qi={},xs={};function Ji(s,i,c){s.K=1,s.v=q(V(i)),s.s=c,s.U=!0,cr(s,null)}function cr(s,i){s.F=Date.now(),go(s),s.A=V(s.v);var c=s.A,p=s.X;Array.isArray(p)||(p=[String(p)]),mo(c.h,"t",p),s.C=0,c=s.l.H,s.h=new ea,s.g=Rr(s.l,c?i:null,!s.s),0<s.O&&(s.L=new cs(Ot(s.Ia,s,s.g),s.O)),Eo(s.V,s.g,"readystatechange",s.gb),i=s.H?Ai(s.H):{},s.s?(s.u||(s.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,i)):(s.u="GET",s.g.ea(s.A,s.u,null,i)),_s(1),function(s,i,c,p,b,A){s.info(function(){if(s.g)if(A)for(var S="",j=A.split("&"),se=0;se<j.length;se++){var Me=j[se].split("=");if(1<Me.length){var Be=Me[0];Me=Me[1];var et=Be.split("_");S=2<=et.length&&"type"==et[1]?S+(Be+"=")+Me+"&":S+(Be+"=redacted&")}}else S=null;else S=A;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+i+"\n"+c+"\n"+S})}(s.j,s.u,s.A,s.m,s.X,s.s)}function ta(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function js(s,i,c){for(var b,p=!0;!s.I&&s.C<c.length;){if((b=Wr(s,c))==xs){4==i&&(s.o=4,Gr(14),p=!1),Xr(s.j,s.m,null,"[Incomplete Response]");break}if(b==Qi){s.o=4,Gr(15),Xr(s.j,s.m,c,"[Invalid Chunk]"),p=!1;break}Xr(s.j,s.m,b,null),Nr(s,b)}ta(s)&&b!=xs&&b!=Qi&&(s.h.g="",s.C=0),4!=i||0!=c.length||s.h.h||(s.o=1,Gr(16),p=!1),s.i=s.i&&p,p?0<c.length&&!s.aa&&(s.aa=!0,(i=s.l).g==s&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+c.length),eo(i),i.L=!0,Gr(11))):(Xr(s.j,s.m,c,"[Invalid Chunked Response]"),zs(s),Fo(s))}function Wr(s,i){var c=s.C,p=i.indexOf("\n",c);return-1==p?xs:(c=Number(i.substring(c,p)),isNaN(c)?Qi:(p+=1)+c>i.length?xs:(i=i.substr(p,c),s.C=p+c,i))}function go(s){s.Y=Date.now()+s.P,$o(s,s.P)}function $o(s,i){if(null!=s.B)throw Error("WatchDog timer not null");s.B=ua(Ot(s.eb,s),i)}function Es(s){s.B&&(Te.clearTimeout(s.B),s.B=null)}function Fo(s){0==s.l.G||s.I||ws(s.l,s)}function zs(s){Es(s);var i=s.L;i&&"function"==typeof i.na&&i.na(),s.L=null,Uo(s.W),Ho(s.V),s.g&&(i=s.g,s.g=null,i.abort(),i.na())}function Nr(s,i){try{var c=s.l;if(0!=c.G&&(c.g==s||Di(c.i,s)))if(c.I=s.N,!s.J&&Di(c.i,s)&&3==c.G){try{var p=c.Ca.g.parse(i)}catch(Cn){p=null}if(Array.isArray(p)&&3==p.length){var b=p;if(0==b[0])e:if(c.u)c.ta=b[1],0<c.ta-c.U&&37500>b[2]&&c.N&&0==c.A&&!c.v&&(c.v=ua(Ot(c.ab,c),6e3));else{if(c.g){if(!(c.g.F+3e3<s.F))break e;si(c),Nt(c)}To(c),Gr(18)}if(1>=an(c.i)&&c.ka){try{c.ka()}catch(Cn){}c.ka=void 0}}else Fi(c,11)}else if((s.J||c.g==s)&&si(c),!Ir(i))for(b=c.Ca.g.parse(i),i=0;i<b.length;i++){var A=b[i];if(c.U=A[0],A=A[1],2==c.G)if("c"==A[0]){c.J=A[1],c.la=A[2];var S=A[3];null!=S&&(c.ma=S,c.h.info("VER="+c.ma));var j=A[4];null!=j&&(c.za=j,c.h.info("SVER="+c.za));var se=A[5];null!=se&&"number"==typeof se&&0<se&&(c.K=p=1.5*se,c.h.info("backChannelRequestTimeoutMs_="+p)),p=c;var Me=s.g;if(Me){var Be=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Be){var et=p.i;!et.g&&(wn(Be,"spdy")||wn(Be,"quic")||wn(Be,"h2"))&&(et.j=et.l,et.g=new Set,et.h&&(ul(et,et.h),et.h=null))}if(p.D){var ht=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;ht&&(p.sa=ht,z(p.F,p.D,ht))}}c.G=3,c.j&&c.j.xa(),c.$&&(c.O=Date.now()-s.F,c.h.info("Handshake RTT: "+c.O+"ms"));var Rt=s;if((p=c).oa=fa(p,p.H?p.la:null,p.W),Rt.J){Co(p.i,Rt);var Lt=Rt,Gt=p.K;Gt&&Lt.setTimeout(Gt),Lt.B&&(Es(Lt),go(Lt)),p.g=Rt}else Us(p);0<c.l.length&&un(c)}else"stop"!=A[0]&&"close"!=A[0]||Fi(c,7);else 3==c.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?Fi(c,7):ut(c):"noop"!=A[0]&&c.j&&c.j.wa(A),c.A=0)}_s(4)}catch(Cn){}}function bs(s,i){if(s.forEach&&"function"==typeof s.forEach)s.forEach(i,void 0);else if(Ze(s)||"string"==typeof s)Zi(s,i,void 0);else{if(s.T&&"function"==typeof s.T)var c=s.T();else if(s.R&&"function"==typeof s.R)c=void 0;else if(Ze(s)||"string"==typeof s){c=[];for(var p=s.length,b=0;b<p;b++)c.push(b)}else for(b in c=[],p=0,s)c[p++]=b;p=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(Ze(s)){for(var i=[],c=s.length,p=0;p<c;p++)i.push(s[p]);return i}for(p in i=[],c=0,s)i[c++]=s[p];return i}(s),b=p.length;for(var A=0;A<b;A++)i.call(void 0,p[A],c&&c[A],s)}}function us(s,i){this.h={},this.g=[],this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var p=0;p<c;p+=2)this.set(arguments[p],arguments[p+1])}else if(s)if(s instanceof us)for(c=s.T(),p=0;p<c.length;p++)this.set(c[p],s.get(c[p]));else for(p in s)this.set(p,s[p])}function kr(s){if(s.i!=s.g.length){for(var i=0,c=0;i<s.g.length;){var p=s.g[i];ie(s.h,p)&&(s.g[c++]=p),i++}s.g.length=c}if(s.i!=s.g.length){var b={};for(c=i=0;i<s.g.length;)ie(b,p=s.g[i])||(s.g[c++]=p,b[p]=1),i++;s.g.length=c}}function ie(s,i){return Object.prototype.hasOwnProperty.call(s,i)}(it=Xs.prototype).setTimeout=function(s){this.P=s},it.gb=function(s){s=s.target;var i=this.L;i&&3==tt(s)?i.l():this.Ia(s)},it.Ia=function(s){try{if(s==this.g)e:{var i=tt(this.g),c=this.g.Da(),p=this.g.ba();if(!(3>i)&&(3!=i||Bn||this.g&&(this.h.h||this.g.ga()||ft(this.g)))){this.I||4!=i||7==c||_s(8==c||0>=p?3:2),Es(this);var b=this.g.ba();this.N=b;t:if(ta(this)){var A=ft(this.g);s="";var S=A.length,j=4==tt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){zs(this),Fo(this);var se="";break t}this.h.i=new Te.TextDecoder}for(c=0;c<S;c++)this.h.h=!0,s+=this.h.i.decode(A[c],{stream:j&&c==S-1});A.splice(0,S),this.h.g+=s,this.C=0,se=this.h.g}else se=this.g.ga();if(this.i=200==b,function(s,i,c,p,b,A,S){s.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+i+"\n"+c+"\n"+A+" "+S})}(this.j,this.u,this.A,this.m,this.X,i,b),this.i){if(this.$&&!this.J){t:{if(this.g){var Me,Be=this.g;if((Me=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ir(Me)){var et=Me;break t}}et=null}if(!(b=et)){this.i=!1,this.o=3,Gr(12),zs(this),Fo(this);break e}Xr(this.j,this.m,b,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nr(this,b)}this.U?(js(this,i,se),Bn&&this.i&&3==i&&(Eo(this.V,this.W,"tick",this.fb),this.W.start())):(Xr(this.j,this.m,se,null),Nr(this,se)),4==i&&zs(this),this.i&&!this.I&&(4==i?ws(this.l,this):(this.i=!1,go(this)))}else 400==b&&0<se.indexOf("Unknown SID")?(this.o=3,Gr(12)):(this.o=0,Gr(13)),zs(this),Fo(this)}}}catch(ht){}},it.fb=function(){if(this.g){var s=tt(this.g),i=this.g.ga();this.C<i.length&&(Es(this),js(this,s,i),this.i&&4!=s&&go(this))}},it.cancel=function(){this.I=!0,zs(this)},it.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,i){s.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(_s(3),Gr(17)),zs(this),this.o=2,Fo(this)):$o(this,this.Y-s)},(it=us.prototype).R=function(){kr(this);for(var s=[],i=0;i<this.g.length;i++)s.push(this.h[this.g[i]]);return s},it.T=function(){return kr(this),this.g.concat()},it.get=function(s,i){return ie(this.h,s)?this.h[s]:i},it.set=function(s,i){ie(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=i},it.forEach=function(s,i){for(var c=this.T(),p=0;p<c.length;p++){var b=c[p],A=this.get(b);s.call(i,A,b,this)}};var te=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xe(s,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof Xe){this.g=void 0!==i?i:s.g,ue(this,s.j),this.s=s.s,$(this,s.i),ve(this,s.m),this.l=s.l,i=s.h;var c=new Mr;c.i=i.i,i.g&&(c.g=new us(i.g),c.h=i.h),Ge(this,c),this.o=s.o}else s&&(c=String(s).match(te))?(this.g=!!i,ue(this,c[1]||"",!0),this.s=kt(c[2]||""),$(this,c[3]||"",!0),ve(this,c[4]),this.l=kt(c[5]||"",!0),Ge(this,c[6]||"",!0),this.o=kt(c[7]||"")):(this.g=!!i,this.h=new Mr(null,this.g))}function V(s){return new Xe(s)}function ue(s,i,c){s.j=c?kt(i,!0):i,s.j&&(s.j=s.j.replace(/:$/,""))}function $(s,i,c){s.i=c?kt(i,!0):i}function ve(s,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);s.m=i}else s.m=null}function Ge(s,i,c){i instanceof Mr?(s.h=i,function(s,i){i&&!s.j&&(ho(s),s.i=null,s.g.forEach(function(c,p){var b=p.toLowerCase();p!=b&&(vs(this,p),mo(this,b,c))},s)),s.j=i}(s.h,s.g)):(c||(i=Yt(i,br)),s.h=new Mr(i,s.g))}function z(s,i,c){s.h.set(i,c)}function q(s){return z(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function kt(s,i){return s?i?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Yt(s,i,c){return"string"==typeof s?(s=encodeURI(s).replace(i,hn),c&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function hn(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Xe.prototype.toString=function(){var s=[],i=this.j;i&&s.push(Yt(i,Xn,!0),":");var c=this.i;return(c||"file"==i)&&(s.push("//"),(i=this.s)&&s.push(Yt(i,Xn,!0),"@"),s.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.m)&&s.push(":",String(c))),(c=this.l)&&(this.i&&"/"!=c.charAt(0)&&s.push("/"),s.push(Yt(c,"/"==c.charAt(0)?Ri:ii,!0))),(c=this.h.toString())&&s.push("?",c),(c=this.o)&&s.push("#",Yt(c,uo)),s.join("")};var Xn=/[#\/\?@]/g,ii=/[#\?:]/g,Ri=/[#\?]/g,br=/[#\?@]/g,uo=/#/g;function Mr(s,i){this.h=this.g=null,this.i=s||null,this.j=!!i}function ho(s){s.g||(s.g=new us,s.h=0,s.i&&function(s,i){if(s){s=s.split("&");for(var c=0;c<s.length;c++){var p=s[c].indexOf("="),b=null;if(0<=p){var A=s[c].substring(0,p);b=s[c].substring(p+1)}else A=s[c];i(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}(s.i,function(i,c){s.add(decodeURIComponent(i.replace(/\+/g," ")),c)}))}function vs(s,i){ho(s),i=Tl(s,i),ie(s.g.h,i)&&(s.i=null,s.h-=s.g.get(i).length,ie((s=s.g).h,i)&&(delete s.h[i],s.i--,s.g.length>2*s.i&&kr(s)))}function ti(s,i){return ho(s),i=Tl(s,i),ie(s.g.h,i)}function mo(s,i,c){vs(s,i),0<c.length&&(s.i=null,s.g.set(Tl(s,i),Hr(c)),s.h+=c.length)}function Tl(s,i){return i=String(i),s.j&&(i=i.toLowerCase()),i}(it=Mr.prototype).add=function(s,i){ho(this),this.i=null,s=Tl(this,s);var c=this.g.get(s);return c||this.g.set(s,c=[]),c.push(i),this.h+=1,this},it.forEach=function(s,i){ho(this),this.g.forEach(function(c,p){Zi(c,function(b){s.call(i,b,p,this)},this)},this)},it.T=function(){ho(this);for(var s=this.g.R(),i=this.g.T(),c=[],p=0;p<i.length;p++)for(var b=s[p],A=0;A<b.length;A++)c.push(i[p]);return c},it.R=function(s){ho(this);var i=[];if("string"==typeof s)ti(this,s)&&(i=Tn(i,this.g.get(Tl(this,s))));else{s=this.g.R();for(var c=0;c<s.length;c++)i=Tn(i,s[c])}return i},it.set=function(s,i){return ho(this),this.i=null,ti(this,s=Tl(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[i]),this.h+=1,this},it.get=function(s,i){return s&&0<(s=this.R(s)).length?String(s[0]):i},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],i=this.g.T(),c=0;c<i.length;c++){var p=i[c],b=encodeURIComponent(String(p));p=this.R(p);for(var A=0;A<p.length;A++){var S=b;""!==p[A]&&(S+="="+encodeURIComponent(String(p[A]))),s.push(S)}}return this.i=s.join("&")};var Mc=function(i,c){this.h=i,this.g=c};function ql(s){this.l=s||Sl,s=Te.PerformanceNavigationTiming?0<(s=Te.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Te.g&&Te.g.Ea&&Te.g.Ea()&&Te.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sl=10;function ic(s){return!!s.h||!!s.g&&s.g.size>=s.j}function an(s){return s.h?1:s.g?s.g.size:0}function Di(s,i){return s.h?s.h==i:!!s.g&&s.g.has(i)}function ul(s,i){s.g?s.g.add(i):s.h=i}function Co(s,i){s.h&&s.h==i?s.h=null:s.g&&s.g.has(i)&&s.g.delete(i)}function Ra(s){var i,c;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var p=s.i;try{for(var b=Bt(s.g.values()),A=b.next();!A.done;A=b.next())p=p.concat(A.value.D)}catch(j){i={error:j}}finally{try{A&&!A.done&&(c=b.return)&&c.call(b)}finally{if(i)throw i.error}}return p}return Hr(s.i)}function Wo(){}function Ms(){this.g=new Wo}function Vs(s,i,c){var p=c||"";try{bs(s,function(b,A){var S=b;Ie(b)&&(S=yo(b)),i.push(p+A+"="+encodeURIComponent(S))})}catch(b){throw i.push(p+"type="+encodeURIComponent("_badmap")),b}}function hl(s,i,c,p,b){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,b(p)}catch(A){}}function rc(s){this.l=s.$b||null,this.j=s.ib||!1}function wa(s,i){jn.call(this),this.D=s,this.u=i,this.m=void 0,this.readyState=Va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ql.prototype.cancel=function(){var s,i;if(this.i=Ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var c=Bt(this.g.values()),p=c.next();!p.done;p=c.next())p.value.cancel()}catch(A){s={error:A}}finally{try{p&&!p.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.g.clear()}},Wo.prototype.stringify=function(s){return Te.JSON.stringify(s,void 0)},Wo.prototype.parse=function(s){return Te.JSON.parse(s,void 0)},Ht(rc,za),rc.prototype.g=function(){return new wa(this.l,this.j)},rc.prototype.i=function(s){return function(){return s}}({}),Ht(wa,jn);var Va=0;function Gi(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function na(s){s.readyState=4,s.l=null,s.j=null,s.A=null,da(s)}function da(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(it=wa.prototype).open=function(s,i){if(this.readyState!=Va)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=i,this.readyState=1,da(this)},it.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(i.body=s),(this.D||Te).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,na(this)),this.readyState=Va},it.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,da(this)),this.g&&(this.readyState=3,da(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Te.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gi(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},it.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var i=s.value?s.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!s.done}))&&(this.response=this.responseText+=i)}s.done?na(this):da(this),3==this.readyState&&Gi(this)}},it.Ua=function(s){this.g&&(this.response=this.responseText=s,na(this))},it.Ta=function(s){this.g&&(this.response=s,na(this))},it.ha=function(){this.g&&na(this)},it.setRequestHeader=function(s,i){this.v.append(s,i)},it.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],i=this.h.entries(),c=i.next();!c.done;)s.push((c=c.value)[0]+": "+c[1]),c=i.next();return s.join("\r\n")},Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var ha=Te.JSON.parse;function vr(s){jn.call(this),this.headers=new us,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gl,this.K=this.L=!1}Ht(vr,jn);var Gl="",Ua=/^https?$/i,fl=["POST","PUT"];function pe(s){return"content-type"==s.toLowerCase()}function I(s,i){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=i,s.m=5,N(s),ke(s)}function N(s){s.D||(s.D=!0,ui(s,"complete"),ui(s,"error"))}function Y(s){if(s.h&&void 0!==st&&(!s.C[1]||4!=tt(s)||2!=s.ba()))if(s.v&&4==tt(s))Or(s.Fa,0,s);else if(ui(s,"readystatechange"),4==tt(s)){s.h=!1;try{var p,i=s.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}if(!(p=c)){var b;if(b=0===i){var A=String(s.H).match(te)[1]||null;if(!A&&Te.self&&Te.self.location){var S=Te.self.location.protocol;A=S.substr(0,S.length-1)}b=!Ua.test(A?A.toLowerCase():"")}p=b}if(p)ui(s,"complete"),ui(s,"success");else{s.m=6;try{var j=2<tt(s)?s.g.statusText:""}catch(se){j=""}s.j=j+" ["+s.ba()+"]",N(s)}}finally{ke(s)}}}function ke(s,i){if(s.g){ze(s);var c=s.g,p=s.C[0]?Fe:null;s.g=null,s.C=null,i||ui(s,"ready");try{c.onreadystatechange=p}catch(b){}}}function ze(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Te.clearTimeout(s.A),s.A=null)}function tt(s){return s.g?s.g.readyState:0}function ft(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Gl:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(i){return null}}function qt(s,i,c){e:{for(p in c){var p=!1;break e}p=!0}p||(c=function(s){var i="";return Mi(s,function(c,p){i+=p,i+=":",i+=c,i+="\r\n"}),i}(c),"string"==typeof s?null!=c&&encodeURIComponent(String(c)):z(s,i,c))}function yn(s,i,c){return c&&c.internalChannelParams&&c.internalChannelParams[s]||i}function gn(s){this.za=0,this.l=[],this.h=new es,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yn("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yn("baseRetryDelayMs",5e3,s),this.$a=yn("retryDelaySeedMs",1e4,s),this.Ya=yn("forwardChannelMaxRetries",2,s),this.ra=yn("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new ql(s&&s.concurrentRequestLimit),this.Ca=new Ms,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function ut(s){if(vt(s),3==s.G){var i=s.V++,c=V(s.F);z(c,"SID",s.J),z(c,"RID",i),z(c,"TYPE","terminate"),yi(s,c),(i=new Xs(s,s.h,i,void 0)).K=2,i.v=q(V(c)),c=!1,Te.navigator&&Te.navigator.sendBeacon&&(c=Te.navigator.sendBeacon(i.v.toString(),"")),!c&&Te.Image&&((new Image).src=i.v,c=!0),c||(i.g=Rr(i.l,null),i.g.ea(i.v)),i.F=Date.now(),go(i)}Zo(s)}function Nt(s){s.g&&(eo(s),s.g.cancel(),s.g=null)}function vt(s){Nt(s),s.u&&(Te.clearTimeout(s.u),s.u=null),si(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Te.clearTimeout(s.m),s.m=null)}function Wt(s,i){s.l.push(new Mc(s.Za++,i)),3==s.G&&un(s)}function un(s){ic(s.i)||s.m||(s.m=!0,qn(s.Ha,s),s.C=0)}function vi(s,i){var c;c=i?i.m:s.V++;var p=V(s.F);z(p,"SID",s.J),z(p,"RID",c),z(p,"AID",s.U),yi(s,p),s.o&&s.s&&qt(p,s.o,s.s),c=new Xs(s,s.h,c,s.C+1),null===s.o&&(c.H=s.s),i&&(s.l=i.D.concat(s.l)),i=Do(s,c,1e3),c.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),ul(s.i,c),Ji(c,p,i)}function yi(s,i){s.j&&bs({},function(c,p){z(i,p,c)})}function Do(s,i,c){c=Math.min(s.l.length,c);var p=s.j?Ot(s.j.Oa,s.j,s):null;e:for(var b=s.l,A=-1;;){var S=["count="+c];-1==A?0<c?S.push("ofs="+(A=b[0].h)):A=0:S.push("ofs="+A);for(var j=!0,se=0;se<c;se++){var Me=b[se].h,Be=b[se].g;if(0>(Me-=A))A=Math.max(0,b[se].h-100),j=!1;else try{Vs(Be,S,"req"+Me+"_")}catch(et){p&&p(Be)}}if(j){p=S.join("&");break e}}return s=s.l.splice(0,c),i.D=s,p}function Us(s){s.g||s.u||(s.Y=1,qn(s.Ga,s),s.A=0)}function To(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=ua(Ot(s.Ga,s),Hi(s,s.A)),s.A++,0))}function eo(s){null!=s.B&&(Te.clearTimeout(s.B),s.B=null)}function ys(s){s.g=new Xs(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var i=V(s.oa);z(i,"RID","rpc"),z(i,"SID",s.J),z(i,"CI",s.N?"0":"1"),z(i,"AID",s.U),yi(s,i),z(i,"TYPE","xmlhttp"),s.o&&s.s&&qt(i,s.o,s.s),s.K&&s.g.setTimeout(s.K);var c=s.g;s=s.la,c.K=1,c.v=q(V(i)),c.s=null,c.U=!0,cr(c,s)}function si(s){null!=s.v&&(Te.clearTimeout(s.v),s.v=null)}function ws(s,i){var c=null;if(s.g==i){si(s),eo(s),s.g=null;var p=2}else{if(!Di(s.i,i))return;c=i.D,Co(s.i,i),p=1}if(s.I=i.N,0!=s.G)if(i.i)if(1==p){c=i.s?i.s.length:0,i=Date.now()-i.F;var b=s.C;ui(p=Go(),new ts(p,c,i,b)),un(s)}else Us(s);else if(3==(b=i.o)||0==b&&0<s.I||!(1==p&&function(s,i){return!(an(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=i.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=ua(Ot(s.Ha,s,i),Hi(s,s.C)),s.C++,0)))}(s,i)||2==p&&To(s)))switch(c&&0<c.length&&(i=s.i,i.i=i.i.concat(c)),b){case 1:Fi(s,5);break;case 4:Fi(s,10);break;case 3:Fi(s,6);break;default:Fi(s,2)}}function Hi(s,i){var c=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(c*=2),c*i}function Fi(s,i){if(s.h.info("Error code "+i),2==i){var c=null;s.j&&(c=null);var p=Ot(s.jb,s);c||(c=new Xe("//www.google.com/images/cleardot.gif"),Te.location&&"http"==Te.location.protocol||ue(c,"https"),q(c)),function(s,i){var c=new es;if(Te.Image){var p=new Image;p.onload=tn(hl,c,p,"TestLoadImage: loaded",!0,i),p.onerror=tn(hl,c,p,"TestLoadImage: error",!1,i),p.onabort=tn(hl,c,p,"TestLoadImage: abort",!1,i),p.ontimeout=tn(hl,c,p,"TestLoadImage: timeout",!1,i),Te.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=s}else i(!1)}(c.toString(),p)}else Gr(2);s.G=0,s.j&&s.j.va(i),Zo(s),vt(s)}function Zo(s){s.G=0,s.I=-1,s.j&&((0!=Ra(s.i).length||0!=s.l.length)&&(s.i.i.length=0,Hr(s.l),s.l.length=0),s.j.ua())}function fa(s,i,c){var p=function(s){return s instanceof Xe?V(s):new Xe(s,void 0)}(c);if(""!=p.i)i&&$(p,i+"."+p.i),ve(p,p.m);else{var b=Te.location;p=function(s,i,c,p){var b=new Xe(null,void 0);return s&&ue(b,s),i&&$(b,i),c&&ve(b,c),p&&(b.l=p),b}(b.protocol,i?i+"."+b.hostname:b.hostname,+b.port,c)}return s.aa&&Mi(s.aa,function(A,S){z(p,S,A)}),c=s.sa,(i=s.D)&&c&&z(p,i,c),z(p,"VER",s.ma),yi(s,p),p}function Rr(s,i,c){if(i&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new vr(c&&s.Ba&&!s.qa?new rc({ib:!0}):s.qa)).L=s.H,i}function Pn(){}function Kn(){if(Vi&&!(10<=Number(Et)))throw Error("Environmental error: no available transport.")}function ni(s,i){jn.call(this),this.g=new gn(i),this.l=s,this.h=i&&i.messageUrlParams||null,s=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(s?s["X-WebChannel-Content-Type"]=i.messageContentType:s={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(s?s["X-WebChannel-Client-Profile"]=i.ya:s={"X-WebChannel-Client-Profile":i.ya}),this.g.P=s,(s=i&&i.httpHeadersOverwriteParam)&&!Ir(s)&&(this.g.o=s),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Ir(i)&&(this.g.D=i,null!==(s=this.h)&&i in s&&i in(s=this.h)&&delete s[i]),this.j=new _o(this)}function ei(s){Ls.call(this);var i=s.__sm__;if(i){e:{for(var c in i){s=c;break e}s=void 0}(this.i=s)&&(s=this.i,i=null!==i&&s in i?i[s]:void 0),this.data=i}else this.data=s}function Zr(){Qa.call(this),this.status=1}function _o(s){this.g=s}(it=vr.prototype).ea=function(s,i,c,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);i=i?i.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cl.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:cl),this.g.onreadystatechange=Ot(this.Fa,this);try{this.F=!0,this.g.open(i,String(s),!0),this.F=!1}catch(A){return void I(this,A)}s=c||"";var b=new us(this.headers);p&&bs(p,function(A,S){b.set(S,A)}),p=function(s){e:{for(var i=pe,c=s.length,p="string"==typeof s?s.split(""):s,b=0;b<c;b++)if(b in p&&i.call(void 0,p[b],b,s)){i=b;break e}i=-1}return 0>i?null:"string"==typeof s?s.charAt(i):s[i]}(b.T()),c=Te.FormData&&s instanceof Te.FormData,!(0<=xi(fl,i))||p||c||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),b.forEach(function(A,S){this.g.setRequestHeader(S,A)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ze(this),0<this.B&&((this.K=function(s){return Vi&&Je()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.pa,this)):this.A=Or(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(A){I(this,A)}},it.pa=function(){void 0!==st&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ui(this,"timeout"),this.abort(8))},it.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,ui(this,"complete"),ui(this,"abort"),ke(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ke(this,!0)),vr.Z.M.call(this)},it.Fa=function(){this.s||(this.F||this.v||this.l?Y(this):this.cb())},it.cb=function(){Y(this)},it.ba=function(){try{return 2<tt(this)?this.g.status:-1}catch(s){return-1}},it.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},it.Qa=function(s){if(this.g){var i=this.g.responseText;return s&&0==i.indexOf(s)&&(i=i.substring(s.length)),ha(i)}},it.Da=function(){return this.m},it.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=gn.prototype).ma=8,it.G=1,it.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(i){}},it.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var i=new Xs(this,this.h,s,void 0),c=this.s;if(this.P&&(c?Sn(c=Ai(c),this.P):c=this.P),null===this.o&&(i.H=c),this.ja)e:{for(var p=0,b=0;b<this.l.length;b++){var A=this.l[b];if(void 0===(A="__data__"in A.g&&"string"==typeof(A=A.g.__data__)?A.length:void 0))break;if(4096<(p+=A)){p=b;break e}if(4096===p||b===this.l.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=Do(this,i,p),z(b=V(this.F),"RID",s),z(b,"CVER",22),this.D&&z(b,"X-HTTP-Session-Id",this.D),yi(this,b),this.o&&c&&qt(b,this.o,c),ul(this.i,i),this.Ra&&z(b,"TYPE","init"),this.ja?(z(b,"$req",p),z(b,"SID","null"),i.$=!0,Ji(i,b,null)):Ji(i,b,p),this.G=2}}else 3==this.G&&(s?vi(this,s):0==this.l.length||ic(this.i)||vi(this))},it.Ga=function(){if(this.u=null,ys(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=ua(Ot(this.bb,this),s)}},it.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gr(10),Nt(this),ys(this))},it.ab=function(){null!=this.v&&(this.v=null,Nt(this),To(this),Gr(19))},it.jb=function(s){s?(this.h.info("Successfully pinged google.com"),Gr(2)):(this.h.info("Failed to ping google.com"),Gr(1))},(it=Pn.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Oa=function(){},Kn.prototype.g=function(s,i){return new ni(s,i)},Ht(ni,jn),ni.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,i=this.l,c=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),qn(Ot(s.hb,s,i))),Gr(0),s.W=i,s.aa=c||{},s.N=s.X,s.F=fa(s,null,s.W),un(s)},ni.prototype.close=function(){ut(this.g)},ni.prototype.u=function(s){if("string"==typeof s){var i={};i.__data__=s,Wt(this.g,i)}else this.v?((i={}).__data__=yo(s),Wt(this.g,i)):Wt(this.g,s)},ni.prototype.M=function(){this.g.j=null,delete this.j,ut(this.g),delete this.g,ni.Z.M.call(this)},Ht(ei,Ls),Ht(Zr,Qa),Ht(_o,Pn),_o.prototype.xa=function(){ui(this.g,"a")},_o.prototype.wa=function(s){ui(this.g,new ei(s))},_o.prototype.va=function(s){ui(this.g,new Zr(s))},_o.prototype.ua=function(){ui(this.g,"b")},Kn.prototype.createWebChannel=Kn.prototype.g,ni.prototype.send=ni.prototype.u,ni.prototype.open=ni.prototype.m,ni.prototype.close=ni.prototype.close,Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,Qs.COMPLETE="complete",ns.EventType=Js,Js.OPEN="a",Js.CLOSE="b",Js.ERROR="c",Js.MESSAGE="d",jn.prototype.listen=jn.prototype.N,vr.prototype.listenOnce=vr.prototype.O,vr.prototype.getLastError=vr.prototype.La,vr.prototype.getLastErrorCode=vr.prototype.Da,vr.prototype.getStatus=vr.prototype.ba,vr.prototype.getResponseJson=vr.prototype.Qa,vr.prototype.getResponseText=vr.prototype.ga,vr.prototype.send=vr.prototype.ea;var Ar=Ys,is=Qs,rs=co,Ha_PROXY=10,Ha_NOPROXY=11,Ca=rc,So=ns,K=vr,J=function(){function s(i,c){var p=this;this.previousValue=i,c&&(c.sequenceNumberHandler=function(b){return p.t(b)},this.i=function(b){return c.writeSequenceNumber(b)})}return s.prototype.t=function(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue},s.prototype.next=function(){var i=++this.previousValue;return this.i&&this.i(i),i},s}();J.o=-1;var ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qe=function(s){function i(c,p){var b=this;return(b=s.call(this,p)||this).code=c,b.message=p,b.name="FirebaseError",b.toString=function(){return b.name+": [code="+b.code+"]: "+b.message},b}return(0,we.ZT)(i,s),i}(Error),Un=new At.Yd("@firebase/firestore");function nr(){return Un.logLevel}function Qt(s){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];if(Un.logLevel<=At.in.DEBUG){var p=i.map(ri);Un.debug.apply(Un,(0,we.ev)(["Firestore (8.10.0): "+s],p))}}function Dr(s){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];if(Un.logLevel<=At.in.ERROR){var p=i.map(ri);Un.error.apply(Un,(0,we.ev)(["Firestore (8.10.0): "+s],p))}}function gl(s){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];if(Un.logLevel<=At.in.WARN){var p=i.map(ri);Un.warn.apply(Un,(0,we.ev)(["Firestore (8.10.0): "+s],p))}}function ri(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(c){return s}}function En(s){void 0===s&&(s="Unexpected state");var i="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+s;throw Dr(i),new Error(i)}function U(s,i){s||En()}function F(s,i){return s}function B(s){var i="undefined"!=typeof self&&(self.crypto||self.msCrypto),c=new Uint8Array(s);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(c);else for(var p=0;p<s;p++)c[p]=Math.floor(256*Math.random());return c}var re=function(){function s(){}return s.u=function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=Math.floor(256/i.length)*i.length,p="";p.length<20;)for(var b=B(40),A=0;A<b.length;++A)p.length<20&&b[A]<c&&(p+=i.charAt(b[A]%i.length));return p},s}();function ce(s,i){return s<i?-1:s>i?1:0}function Re(s,i,c){return s.length===i.length&&s.every(function(p,b){return c(p,i[b])})}function nt(s){return s+"\0"}var ct=function(){function s(i,c){if(this.seconds=i,this.nanoseconds=c,c<0)throw new qe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(c>=1e9)throw new qe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(i<-62135596800)throw new qe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new qe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}return s.now=function(){return s.fromMillis(Date.now())},s.fromDate=function(i){return s.fromMillis(i.getTime())},s.fromMillis=function(i){var c=Math.floor(i/1e3);return new s(c,Math.floor(1e6*(i-1e3*c)))},s.prototype.toDate=function(){return new Date(this.toMillis())},s.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},s.prototype._compareTo=function(i){return this.seconds===i.seconds?ce(this.nanoseconds,i.nanoseconds):ce(this.seconds,i.seconds)},s.prototype.isEqual=function(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds},s.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},s.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},s.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},s}(),Pt=function(){function s(i){this.timestamp=i}return s.fromTimestamp=function(i){return new s(i)},s.min=function(){return new s(new ct(0,0))},s.prototype.compareTo=function(i){return this.timestamp._compareTo(i.timestamp)},s.prototype.isEqual=function(i){return this.timestamp.isEqual(i.timestamp)},s.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},s.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},s.prototype.toTimestamp=function(){return this.timestamp},s}();function xn(s){var i=0;for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&i++;return i}function fi(s,i){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&i(c,s[c])}function Yn(s){for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i))return!1;return!0}var sr=function(){function s(i,c,p){void 0===c?c=0:c>i.length&&En(),void 0===p?p=i.length-c:p>i.length-c&&En(),this.segments=i,this.offset=c,this.len=p}return Object.defineProperty(s.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(i){return 0===s.comparator(this,i)},s.prototype.child=function(i){var c=this.segments.slice(this.offset,this.limit());return i instanceof s?i.forEach(function(p){c.push(p)}):c.push(i),this.construct(c)},s.prototype.limit=function(){return this.offset+this.length},s.prototype.popFirst=function(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)},s.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},s.prototype.firstSegment=function(){return this.segments[this.offset]},s.prototype.lastSegment=function(){return this.get(this.length-1)},s.prototype.get=function(i){return this.segments[this.offset+i]},s.prototype.isEmpty=function(){return 0===this.length},s.prototype.isPrefixOf=function(i){if(i.length<this.length)return!1;for(var c=0;c<this.length;c++)if(this.get(c)!==i.get(c))return!1;return!0},s.prototype.isImmediateParentOf=function(i){if(this.length+1!==i.length)return!1;for(var c=0;c<this.length;c++)if(this.get(c)!==i.get(c))return!1;return!0},s.prototype.forEach=function(i){for(var c=this.offset,p=this.limit();c<p;c++)i(this.segments[c])},s.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},s.comparator=function(i,c){for(var p=Math.min(i.length,c.length),b=0;b<p;b++){var A=i.get(b),S=c.get(b);if(A<S)return-1;if(A>S)return 1}return i.length<c.length?-1:i.length>c.length?1:0},s}(),On=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,we.ZT)(i,s),i.prototype.construct=function(c,p,b){return new i(c,p,b)},i.prototype.canonicalString=function(){return this.toArray().join("/")},i.prototype.toString=function(){return this.canonicalString()},i.fromString=function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];for(var b=[],A=0,S=c;A<S.length;A++){var j=S[A];if(j.indexOf("//")>=0)throw new qe(ae.INVALID_ARGUMENT,"Invalid segment ("+j+"). Paths must not contain // in them.");b.push.apply(b,j.split("/").filter(function(se){return se.length>0}))}return new i(b)},i.emptyPath=function(){return new i([])},i}(sr),Il=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hs=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,we.ZT)(i,s),i.prototype.construct=function(c,p,b){return new i(c,p,b)},i.isValidIdentifier=function(c){return Il.test(c)},i.prototype.canonicalString=function(){return this.toArray().map(function(c){return c=c.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(c)||(c="`"+c+"`"),c}).join(".")},i.prototype.toString=function(){return this.canonicalString()},i.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},i.keyField=function(){return new i(["__name__"])},i.fromServerFormat=function(c){for(var p=[],b="",A=0,S=function(){if(0===b.length)throw new qe(ae.INVALID_ARGUMENT,"Invalid field path ("+c+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");p.push(b),b=""},j=!1;A<c.length;){var se=c[A];if("\\"===se){if(A+1===c.length)throw new qe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+c);var Me=c[A+1];if("\\"!==Me&&"."!==Me&&"`"!==Me)throw new qe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+c);b+=Me,A+=2}else"`"===se?(j=!j,A++):"."!==se||j?(b+=se,A++):(S(),A++)}if(S(),j)throw new qe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+c);return new i(p)},i.emptyPath=function(){return new i([])},i}(sr),ia=function(){function s(i){this.fields=i,i.sort(hs.comparator)}return s.prototype.covers=function(i){for(var c=0,p=this.fields;c<p.length;c++)if(p[c].isPrefixOf(i))return!0;return!1},s.prototype.isEqual=function(i){return Re(this.fields,i.fields,function(c,p){return c.isEqual(p)})},s}(),to=function(){function s(i){this.binaryString=i}return s.fromBase64String=function(i){return new s(atob(i))},s.fromUint8Array=function(i){return new s(function(c){for(var p="",b=0;b<c.length;++b)p+=String.fromCharCode(c[b]);return p}(i))},s.prototype.toBase64=function(){return btoa(this.binaryString)},s.prototype.toUint8Array=function(){return function(i){for(var c=new Uint8Array(i.length),p=0;p<i.length;p++)c[p]=i.charCodeAt(p);return c}(this.binaryString)},s.prototype.approximateByteSize=function(){return 2*this.binaryString.length},s.prototype.compareTo=function(i){return ce(this.binaryString,i.binaryString)},s.prototype.isEqual=function(i){return this.binaryString===i.binaryString},s}();to.EMPTY_BYTE_STRING=new to("");var cn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(s){if(U(!!s),"string"==typeof s){var i=0,c=cn.exec(s);if(U(!!c),c[1]){var p=c[1];p=(p+"000000000").substr(0,9),i=Number(p)}var b=new Date(s);return{seconds:Math.floor(b.getTime()/1e3),nanos:i}}return{seconds:De(s.seconds),nanos:De(s.nanos)}}function De(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function qa(s){return"string"==typeof s?to.fromBase64String(s):to.fromUint8Array(s)}function Pl(s){var i,c;return"server_timestamp"===(null===(c=((null===(i=null==s?void 0:s.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===c?void 0:c.stringValue)}function ka(s){var i=s.mapValue.fields.__previous_value__;return Pl(i)?ka(i):i}function fr(s){var i=fs(s.mapValue.fields.__local_write_time__.timestampValue);return new ct(i.seconds,i.nanos)}function no(s){return null==s}function Nh(s){return 0===s&&1/s==-1/0}function Li(s){return"number"==typeof s&&Number.isInteger(s)&&!Nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}var ai=function(){function s(i){this.path=i}return s.fromPath=function(i){return new s(On.fromString(i))},s.fromName=function(i){return new s(On.fromString(i).popFirst(5))},s.prototype.hasCollectionId=function(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i},s.prototype.isEqual=function(i){return null!==i&&0===On.comparator(this.path,i.path)},s.prototype.toString=function(){return this.path.toString()},s.comparator=function(i,c){return On.comparator(i.path,c.path)},s.isDocumentKey=function(i){return i.length%2==0},s.fromSegments=function(i){return new s(new On(i.slice()))},s}();function pd(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pl(s)?4:10:En()}function $l(s,i){var b,c=pd(s);if(c!==pd(i))return!1;switch(c){case 0:return!0;case 1:return s.booleanValue===i.booleanValue;case 4:return fr(s).isEqual(fr(i));case 3:return function(p,b){if("string"==typeof p.timestampValue&&"string"==typeof b.timestampValue&&p.timestampValue.length===b.timestampValue.length)return p.timestampValue===b.timestampValue;var A=fs(p.timestampValue),S=fs(b.timestampValue);return A.seconds===S.seconds&&A.nanos===S.nanos}(s,i);case 5:return s.stringValue===i.stringValue;case 6:return b=i,qa(s.bytesValue).isEqual(qa(b.bytesValue));case 7:return s.referenceValue===i.referenceValue;case 8:return function(p,b){return De(p.geoPointValue.latitude)===De(b.geoPointValue.latitude)&&De(p.geoPointValue.longitude)===De(b.geoPointValue.longitude)}(s,i);case 2:return function(p,b){if("integerValue"in p&&"integerValue"in b)return De(p.integerValue)===De(b.integerValue);if("doubleValue"in p&&"doubleValue"in b){var A=De(p.doubleValue),S=De(b.doubleValue);return A===S?Nh(A)===Nh(S):isNaN(A)&&isNaN(S)}return!1}(s,i);case 9:return Re(s.arrayValue.values||[],i.arrayValue.values||[],$l);case 10:return function(p,b){var A=p.mapValue.fields||{},S=b.mapValue.fields||{};if(xn(A)!==xn(S))return!1;for(var j in A)if(A.hasOwnProperty(j)&&(void 0===S[j]||!$l(A[j],S[j])))return!1;return!0}(s,i);default:return En()}}function oc(s,i){return void 0!==(s.values||[]).find(function(c){return $l(c,i)})}function bu(s,i){var b,A,S,j,c=pd(s),p=pd(i);if(c!==p)return ce(c,p);switch(c){case 0:return 0;case 1:return ce(s.booleanValue,i.booleanValue);case 2:return A=i,(S=De((b=s).integerValue||b.doubleValue))<(j=De(A.integerValue||A.doubleValue))?-1:S>j?1:S===j?0:isNaN(S)?isNaN(j)?0:-1:1;case 3:return vu(s.timestampValue,i.timestampValue);case 4:return vu(fr(s),fr(i));case 5:return ce(s.stringValue,i.stringValue);case 6:return function(b,A){var S=qa(b),j=qa(A);return S.compareTo(j)}(s.bytesValue,i.bytesValue);case 7:return function(b,A){for(var S=b.split("/"),j=A.split("/"),se=0;se<S.length&&se<j.length;se++){var Me=ce(S[se],j[se]);if(0!==Me)return Me}return ce(S.length,j.length)}(s.referenceValue,i.referenceValue);case 8:return function(b,A){var S=ce(De(b.latitude),De(A.latitude));return 0!==S?S:ce(De(b.longitude),De(A.longitude))}(s.geoPointValue,i.geoPointValue);case 9:return function(b,A){for(var S=b.values||[],j=A.values||[],se=0;se<S.length&&se<j.length;++se){var Me=bu(S[se],j[se]);if(Me)return Me}return ce(S.length,j.length)}(s.arrayValue,i.arrayValue);case 10:return function(b,A){var S=b.fields||{},j=Object.keys(S),se=A.fields||{},Me=Object.keys(se);j.sort(),Me.sort();for(var Be=0;Be<j.length&&Be<Me.length;++Be){var et=ce(j[Be],Me[Be]);if(0!==et)return et;var ht=bu(S[j[Be]],se[Me[Be]]);if(0!==ht)return ht}return ce(j.length,Me.length)}(s.mapValue,i.mapValue);default:throw En()}}function vu(s,i){if("string"==typeof s&&"string"==typeof i&&s.length===i.length)return ce(s,i);var c=fs(s),p=fs(i),b=ce(c.seconds,p.seconds);return 0!==b?b:ce(c.nanos,p.nanos)}function sc(s){return Hs(s)}function Hs(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?"time("+(b=fs(s.timestampValue)).seconds+","+b.nanos+")":"stringValue"in s?s.stringValue:"bytesValue"in s?qa(s.bytesValue).toBase64():"referenceValue"in s?ai.fromName(s.referenceValue).toString():"geoPointValue"in s?"geo("+(i=s.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in s?function(p){for(var b="[",A=!0,S=0,j=p.values||[];S<j.length;S++)A?A=!1:b+=",",b+=Hs(j[S]);return b+"]"}(s.arrayValue):"mapValue"in s?function(p){for(var b="{",A=!0,S=0,j=Object.keys(p.fields||{}).sort();S<j.length;S++){var se=j[S];A?A=!1:b+=",",b+=se+":"+Hs(p.fields[se])}return b+"}"}(s.mapValue):En();var b,i}function Wl(s,i){return{referenceValue:"projects/"+s.projectId+"/databases/"+s.database+"/documents/"+i.path.canonicalString()}}function yu(s){return!!s&&"integerValue"in s}function Yc(s){return!!s&&"arrayValue"in s}function ko(s){return!!s&&"nullValue"in s}function io(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ds(s){return!!s&&"mapValue"in s}function Uu(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){var i={mapValue:{fields:{}}};return fi(s.mapValue.fields,function(b,A){return i.mapValue.fields[b]=Uu(A)}),i}if(s.arrayValue){for(var c={arrayValue:{values:[]}},p=0;p<(s.arrayValue.values||[]).length;++p)c.arrayValue.values[p]=Uu(s.arrayValue.values[p]);return c}return Object.assign({},s)}var Aa=function(){function s(i){this.value=i}return s.empty=function(){return new s({mapValue:{}})},s.prototype.field=function(i){if(i.isEmpty())return this.value;for(var c=this.value,p=0;p<i.length-1;++p)if(!Ds(c=(c.mapValue.fields||{})[i.get(p)]))return null;return(c=(c.mapValue.fields||{})[i.lastSegment()])||null},s.prototype.set=function(i,c){this.getFieldsMap(i.popLast())[i.lastSegment()]=Uu(c)},s.prototype.setAll=function(i){var c=this,p=hs.emptyPath(),b={},A=[];i.forEach(function(j,se){if(!p.isImmediateParentOf(se)){var Me=c.getFieldsMap(p);c.applyChanges(Me,b,A),b={},A=[],p=se.popLast()}j?b[se.lastSegment()]=Uu(j):A.push(se.lastSegment())});var S=this.getFieldsMap(p);this.applyChanges(S,b,A)},s.prototype.delete=function(i){var c=this.field(i.popLast());Ds(c)&&c.mapValue.fields&&delete c.mapValue.fields[i.lastSegment()]},s.prototype.isEqual=function(i){return $l(this.value,i.value)},s.prototype.getFieldsMap=function(i){var c=this.value;c.mapValue.fields||(c.mapValue={fields:{}});for(var p=0;p<i.length;++p){var b=c.mapValue.fields[i.get(p)];Ds(b)&&b.mapValue.fields||(b={mapValue:{fields:{}}},c.mapValue.fields[i.get(p)]=b),c=b}return c.mapValue.fields},s.prototype.applyChanges=function(i,c,p){fi(c,function(j,se){return i[j]=se});for(var b=0,A=p;b<A.length;b++)delete i[A[b]]},s.prototype.clone=function(){return new s(Uu(this.value))},s}();function Qc(s){var i=[];return fi(s.fields,function(c,p){var b=new hs([c]);if(Ds(p)){var A=Qc(p.mapValue).fields;if(0===A.length)i.push(b);else for(var S=0,j=A;S<j.length;S++)i.push(b.child(j[S]))}else i.push(b)}),new ia(i)}var xa=function(){function s(i,c,p,b,A){this.key=i,this.documentType=c,this.version=p,this.data=b,this.documentState=A}return s.newInvalidDocument=function(i){return new s(i,0,Pt.min(),Aa.empty(),0)},s.newFoundDocument=function(i,c,p){return new s(i,1,c,p,0)},s.newNoDocument=function(i,c){return new s(i,2,c,Aa.empty(),0)},s.newUnknownDocument=function(i,c){return new s(i,3,c,Aa.empty(),2)},s.prototype.convertToFoundDocument=function(i,c){return this.version=i,this.documentType=1,this.data=c,this.documentState=0,this},s.prototype.convertToNoDocument=function(i){return this.version=i,this.documentType=2,this.data=Aa.empty(),this.documentState=0,this},s.prototype.convertToUnknownDocument=function(i){return this.version=i,this.documentType=3,this.data=Aa.empty(),this.documentState=2,this},s.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},s.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(s.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),s.prototype.isValidDocument=function(){return 0!==this.documentType},s.prototype.isFoundDocument=function(){return 1===this.documentType},s.prototype.isNoDocument=function(){return 2===this.documentType},s.prototype.isUnknownDocument=function(){return 3===this.documentType},s.prototype.isEqual=function(i){return i instanceof s&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)},s.prototype.clone=function(){return new s(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},s.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},s}(),wu=function(s,i,c,p,b,A,S){void 0===i&&(i=null),void 0===c&&(c=[]),void 0===p&&(p=[]),void 0===b&&(b=null),void 0===A&&(A=null),void 0===S&&(S=null),this.path=s,this.collectionGroup=i,this.orderBy=c,this.filters=p,this.limit=b,this.startAt=A,this.endAt=S,this.h=null};function wf(s,i,c,p,b,A,S){return void 0===i&&(i=null),void 0===c&&(c=[]),void 0===p&&(p=[]),void 0===b&&(b=null),void 0===A&&(A=null),void 0===S&&(S=null),new wu(s,i,c,p,b,A,S)}function gd(s){var i=F(s);if(null===i.h){var c=i.path.canonicalString();null!==i.collectionGroup&&(c+="|cg:"+i.collectionGroup),c+="|f:",c+=i.filters.map(function(p){return(b=p).field.canonicalString()+b.op.toString()+sc(b.value);var b}).join(","),c+="|ob:",c+=i.orderBy.map(function(p){return(b=p).field.canonicalString()+b.dir;var b}).join(","),no(i.limit)||(c+="|l:",c+=i.limit),i.startAt&&(c+="|lb:",c+=Dc(i.startAt)),i.endAt&&(c+="|ub:",c+=Dc(i.endAt)),i.h=c}return i.h}function Ol(s,i){if(s.limit!==i.limit||s.orderBy.length!==i.orderBy.length)return!1;for(var c=0;c<s.orderBy.length;c++)if(!_d(s.orderBy[c],i.orderBy[c]))return!1;if(s.filters.length!==i.filters.length)return!1;for(var p=0;p<s.filters.length;p++)if((b=s.filters[p]).op!==(A=i.filters[p]).op||!b.field.isEqual(A.field)||!$l(b.value,A.value))return!1;var b,A;return s.collectionGroup===i.collectionGroup&&!!s.path.isEqual(i.path)&&!!ml(s.startAt,i.startAt)&&ml(s.endAt,i.endAt)}function Qd(s){return ai.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}var os=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).field=c,A.op=p,A.value=b,A}return(0,we.ZT)(i,s),i.create=function(c,p,b){return c.isKeyField()?"in"===p||"not-in"===p?this.l(c,p,b):new Cf(c,p,b):"array-contains"===p?new kf(c,b):"in"===p?new $p(c,b):"not-in"===p?new Af(c,b):"array-contains-any"===p?new Xd(c,b):new i(c,p,b)},i.l=function(c,p,b){return"in"===p?new md(c,b):new nm(c,b)},i.prototype.matches=function(c){var p=c.data.field(this.field);return"!="===this.op?null!==p&&this.m(bu(p,this.value)):null!==p&&pd(this.value)===pd(p)&&this.m(bu(p,this.value))},i.prototype.m=function(c){switch(this.op){case"<":return c<0;case"<=":return c<=0;case"==":return 0===c;case"!=":return 0!==c;case">":return c>0;case">=":return c>=0;default:return En()}},i.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},i}(function(){}),Cf=function(s){function i(c,p,b){var A=this;return(A=s.call(this,c,p,b)||this).key=ai.fromName(b.referenceValue),A}return(0,we.ZT)(i,s),i.prototype.matches=function(c){var p=ai.comparator(c.key,this.key);return this.m(p)},i}(os),md=function(s){function i(c,p){var b=this;return(b=s.call(this,c,"in",p)||this).keys=Jd(0,p),b}return(0,we.ZT)(i,s),i.prototype.matches=function(c){return this.keys.some(function(p){return p.isEqual(c.key)})},i}(os),nm=function(s){function i(c,p){var b=this;return(b=s.call(this,c,"not-in",p)||this).keys=Jd(0,p),b}return(0,we.ZT)(i,s),i.prototype.matches=function(c){return!this.keys.some(function(p){return p.isEqual(c.key)})},i}(os);function Jd(s,i){var c;return((null===(c=i.arrayValue)||void 0===c?void 0:c.values)||[]).map(function(p){return ai.fromName(p.referenceValue)})}var kf=function(s){function i(c,p){return s.call(this,c,"array-contains",p)||this}return(0,we.ZT)(i,s),i.prototype.matches=function(c){var p=c.data.field(this.field);return Yc(p)&&oc(p.arrayValue,this.value)},i}(os),$p=function(s){function i(c,p){return s.call(this,c,"in",p)||this}return(0,we.ZT)(i,s),i.prototype.matches=function(c){var p=c.data.field(this.field);return null!==p&&oc(this.value.arrayValue,p)},i}(os),Af=function(s){function i(c,p){return s.call(this,c,"not-in",p)||this}return(0,we.ZT)(i,s),i.prototype.matches=function(c){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var p=c.data.field(this.field);return null!==p&&!oc(this.value.arrayValue,p)},i}(os),Xd=function(s){function i(c,p){return s.call(this,c,"array-contains-any",p)||this}return(0,we.ZT)(i,s),i.prototype.matches=function(c){var p=this,b=c.data.field(this.field);return!(!Yc(b)||!b.arrayValue.values)&&b.arrayValue.values.some(function(A){return oc(p.value.arrayValue,A)})},i}(os),Jc=function(s,i){this.position=s,this.before=i};function Dc(s){return(s.before?"b":"a")+":"+s.position.map(function(i){return sc(i)}).join(",")}var Xc=function(s,i){void 0===i&&(i="asc"),this.field=s,this.dir=i};function _d(s,i){return s.dir===i.dir&&s.field.isEqual(i.field)}function Wp(s,i,c){for(var p=0,b=0;b<s.position.length;b++){var A=i[b],S=s.position[b];if(p=A.field.isKeyField()?ai.comparator(ai.fromName(S.referenceValue),c.key):bu(S,c.data.field(A.field)),"desc"===A.dir&&(p*=-1),0!==p)break}return s.before?p<=0:p<0}function ml(s,i){if(null===s)return null===i;if(null===i||s.before!==i.before||s.position.length!==i.position.length)return!1;for(var c=0;c<s.position.length;c++)if(!$l(s.position[c],i.position[c]))return!1;return!0}var Nl=function(s,i,c,p,b,A,S,j){void 0===i&&(i=null),void 0===c&&(c=[]),void 0===p&&(p=[]),void 0===b&&(b=null),void 0===A&&(A="F"),void 0===S&&(S=null),void 0===j&&(j=null),this.path=s,this.collectionGroup=i,this.explicitOrderBy=c,this.filters=p,this.limit=b,this.limitType=A,this.startAt=S,this.endAt=j,this.p=null,this.T=null};function _l(s,i,c,p,b,A,S,j){return new Nl(s,i,c,p,b,A,S,j)}function pa(s){return new Nl(s)}function Rh(s){return!no(s.limit)&&"F"===s.limitType}function eh(s){return!no(s.limit)&&"L"===s.limitType}function Hu(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function qu(s){for(var i=0,c=s.filters;i<c.length;i++){var p=c[i];if(p.g())return p.field}return null}function Ja(s){return null!==s.collectionGroup}function Cu(s){var i=F(s);if(null===i.p){i.p=[];var c=qu(i),p=Hu(i);if(null!==c&&null===p)c.isKeyField()||i.p.push(new Xc(c)),i.p.push(new Xc(hs.keyField(),"asc"));else{for(var b=!1,A=0,S=i.explicitOrderBy;A<S.length;A++){var j=S[A];i.p.push(j),j.field.isKeyField()&&(b=!0)}if(!b){var se=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.p.push(new Xc(hs.keyField(),se))}}}return i.p}function Ea(s){var i=F(s);if(!i.T)if("F"===i.limitType)i.T=wf(i.path,i.collectionGroup,Cu(i),i.filters,i.limit,i.startAt,i.endAt);else{for(var c=[],p=0,b=Cu(i);p<b.length;p++){var A=b[p];c.push(new Xc(A.field,"desc"===A.dir?"asc":"desc"))}var j=i.endAt?new Jc(i.endAt.position,!i.endAt.before):null,se=i.startAt?new Jc(i.startAt.position,!i.startAt.before):null;i.T=wf(i.path,i.collectionGroup,c,i.filters,i.limit,j,se)}return i.T}function qs(s,i,c){return new Nl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),i,c,s.startAt,s.endAt)}function Gu(s,i){return Ol(Ea(s),Ea(i))&&s.limitType===i.limitType}function sp(s){return gd(Ea(s))+"|lt:"+s.limitType}function Gs(s){return"Query(target="+(c=(i=Ea(s)).path.canonicalString(),null!==i.collectionGroup&&(c+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(c+=", filters: ["+i.filters.map(function(p){return(b=p).field.canonicalString()+" "+b.op+" "+sc(b.value);var b}).join(", ")+"]"),no(i.limit)||(c+=", limit: "+i.limit),i.orderBy.length>0&&(c+=", orderBy: ["+i.orderBy.map(function(p){return(b=p).field.canonicalString()+" ("+b.dir+")";var b}).join(", ")+"]"),i.startAt&&(c+=", startAt: "+Dc(i.startAt)),i.endAt&&(c+=", endAt: "+Dc(i.endAt)),"Target("+c+"); limitType=")+s.limitType+")";var i,c}function ac(s,i){return i.isFoundDocument()&&(b=(p=i).key.path,null!==(c=s).collectionGroup?p.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(b):ai.isDocumentKey(c.path)?c.path.isEqual(b):c.path.isImmediateParentOf(b))&&function(c,p){for(var b=0,A=c.explicitOrderBy;b<A.length;b++){var S=A[b];if(!S.field.isKeyField()&&null===p.data.field(S.field))return!1}return!0}(s,i)&&function(c,p){for(var b=0,A=c.filters;b<A.length;b++)if(!A[b].matches(p))return!1;return!0}(s,i)&&function(c,p){return!(c.startAt&&!Wp(c.startAt,Cu(c),p)||c.endAt&&Wp(c.endAt,Cu(c),p))}(s,i);var c,p,b}function Fh(s){return function(i,c){for(var p=!1,b=0,A=Cu(s);b<A.length;b++){var S=A[b],j=eu(S,i,c);if(0!==j)return j;p=p||S.field.isKeyField()}return 0}}function eu(s,i,c){var b,S,j,se,p=s.field.isKeyField()?ai.comparator(i.key,c.key):(S=c,j=i.data.field(b=s.field),se=S.data.field(b),null!==j&&null!==se?bu(j,se):En());switch(s.dir){case"asc":return p;case"desc":return-1*p;default:return En()}}function Lh(s,i){if(s.I){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(i)?"-0":i}}function tu(s){return{integerValue:""+s}}function bl(s,i){return Li(i)?tu(i):Lh(s,i)}var $u=function(){this._=void 0};function Ts(s,i,c){return s instanceof ku?(A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(p=c).seconds,nanos:p.nanoseconds}}}},(b=i)&&(A.fields.__previous_value__=b),{mapValue:A}):s instanceof Tc?Wu(s,i):s instanceof Sc?Ma(s,i):function(p,b){var A=xf(p,b),S=Ic(A)+Ic(p.A);return yu(A)&&yu(p.A)?tu(S):Lh(p.R,S)}(s,i);var p,b,A}function Bh(s,i,c){return s instanceof Tc?Wu(s,i):s instanceof Sc?Ma(s,i):c}function xf(s,i){return s instanceof Rl?yu(c=i)||(p=c)&&"doubleValue"in p?i:{integerValue:0}:null;var p,c}var ku=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,we.ZT)(i,s),i}($u),Tc=function(s){function i(c){var p=this;return(p=s.call(this)||this).elements=c,p}return(0,we.ZT)(i,s),i}($u);function Wu(s,i){for(var c=Ef(i),p=function(S){c.some(function(j){return $l(j,S)})||c.push(S)},b=0,A=s.elements;b<A.length;b++)p(A[b]);return{arrayValue:{values:c}}}var Sc=function(s){function i(c){var p=this;return(p=s.call(this)||this).elements=c,p}return(0,we.ZT)(i,s),i}($u);function Ma(s,i){for(var c=Ef(i),p=function(S){c=c.filter(function(j){return!$l(j,S)})},b=0,A=s.elements;b<A.length;b++)p(A[b]);return{arrayValue:{values:c}}}var Rl=function(s){function i(c,p){var b=this;return(b=s.call(this)||this).R=c,b.A=p,b}return(0,we.ZT)(i,s),i}($u);function Ic(s){return De(s.integerValue||s.doubleValue)}function Ef(s){return Yc(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}var Zl=function(s,i){this.field=s,this.transform=i},Mf=function(s,i){this.version=s,this.transformResults=i},Fa=function(){function s(i,c){this.updateTime=i,this.exists=c}return s.none=function(){return new s},s.exists=function(i){return new s(void 0,i)},s.updateTime=function(i){return new s(i)},Object.defineProperty(s.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)},s}();function lc(s,i){return void 0!==s.updateTime?i.isFoundDocument()&&i.version.isEqual(s.updateTime):void 0===s.exists||s.exists===i.isFoundDocument()}var kn=function(){};function Bi(s,i,c){var p,b,A,S,j;s instanceof Ku?(b=i,A=c,S=(p=s).value.clone(),j=cc(p.fieldTransforms,b,A.transformResults),S.setAll(j),b.convertToFoundDocument(A.version,S).setHasCommittedMutations()):s instanceof Kl?function(p,b,A){if(lc(p.precondition,b)){var S=cc(p.fieldTransforms,b,A.transformResults),j=b.data;j.setAll(vd(p)),j.setAll(S),b.convertToFoundDocument(A.version,j).setHasCommittedMutations()}else b.convertToUnknownDocument(A.version)}(s,i,c):function(p,b,A){b.convertToNoDocument(A.version).setHasCommittedMutations()}(0,i,c)}function bd(s,i,c){var b;s instanceof Ku?function(p,b,A){if(lc(p.precondition,b)){var S=p.value.clone(),j=yd(p.fieldTransforms,A,b);S.setAll(j),b.convertToFoundDocument(vl(b),S).setHasLocalMutations()}}(s,i,c):s instanceof Kl?function(p,b,A){if(lc(p.precondition,b)){var S=yd(p.fieldTransforms,A,b),j=b.data;j.setAll(vd(p)),j.setAll(S),b.convertToFoundDocument(vl(b),j).setHasLocalMutations()}}(s,i,c):lc(s.precondition,b=i)&&b.convertToNoDocument(Pt.min())}function Fl(s,i){for(var c=null,p=0,b=s.fieldTransforms;p<b.length;p++){var A=b[p],S=i.data.field(A.field),j=xf(A.transform,S||null);null!=j&&(null==c&&(c=Aa.empty()),c.set(A.field,j))}return c||null}function Zu(s,i){return s.type===i.type&&!!s.key.isEqual(i.key)&&!!s.precondition.isEqual(i.precondition)&&(p=i.fieldTransforms,!!(void 0===(c=s.fieldTransforms)&&void 0===p||c&&p&&Re(c,p,function(b,A){return(S=b).field.isEqual((j=A).field)&&(Me=j.transform,(se=S.transform)instanceof Tc&&Me instanceof Tc||se instanceof Sc&&Me instanceof Sc?Re(se.elements,Me.elements,$l):se instanceof Rl&&Me instanceof Rl?$l(se.A,Me.A):se instanceof ku&&Me instanceof ku);var S,j,se,Me})))&&(0===s.type?s.value.isEqual(i.value):1!==s.type||s.data.isEqual(i.data)&&s.fieldMask.isEqual(i.fieldMask));var c,p}function vl(s){return s.isFoundDocument()?s.version:Pt.min()}var Ku=function(s){function i(c,p,b,A){void 0===A&&(A=[]);var S=this;return(S=s.call(this)||this).key=c,S.value=p,S.precondition=b,S.fieldTransforms=A,S.type=0,S}return(0,we.ZT)(i,s),i}(kn),Kl=function(s){function i(c,p,b,A,S){void 0===S&&(S=[]);var j=this;return(j=s.call(this)||this).key=c,j.data=p,j.fieldMask=b,j.precondition=A,j.fieldTransforms=S,j.type=1,j}return(0,we.ZT)(i,s),i}(kn);function vd(s){var i=new Map;return s.fieldMask.fields.forEach(function(c){if(!c.isEmpty()){var p=s.data.field(c);i.set(c,p)}}),i}function cc(s,i,c){var p=new Map;U(s.length===c.length);for(var b=0;b<c.length;b++){var A=s[b],S=A.transform,j=i.data.field(A.field);p.set(A.field,Bh(S,j,c[b]))}return p}function yd(s,i,c){for(var p=new Map,b=0,A=s;b<A.length;b++){var S=A[b],j=S.transform,se=c.data.field(S.field);p.set(S.field,Ts(j,se,i))}return p}var Yo,xr,Ll=function(s){function i(c,p){var b=this;return(b=s.call(this)||this).key=c,b.precondition=p,b.type=2,b.fieldTransforms=[],b}return(0,we.ZT)(i,s),i}(kn),Pc=function(s){function i(c,p){var b=this;return(b=s.call(this)||this).key=c,b.precondition=p,b.type=3,b.fieldTransforms=[],b}return(0,we.ZT)(i,s),i}(kn),Df=function(s){this.count=s};function th(s){switch(s){default:return En();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function Lo(s){if(void 0===s)return Dr("GRPC error has no .code"),ae.UNKNOWN;switch(s){case Yo.OK:return ae.OK;case Yo.CANCELLED:return ae.CANCELLED;case Yo.UNKNOWN:return ae.UNKNOWN;case Yo.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Yo.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Yo.INTERNAL:return ae.INTERNAL;case Yo.UNAVAILABLE:return ae.UNAVAILABLE;case Yo.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Yo.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Yo.NOT_FOUND:return ae.NOT_FOUND;case Yo.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Yo.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Yo.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Yo.ABORTED:return ae.ABORTED;case Yo.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Yo.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Yo.DATA_LOSS:return ae.DATA_LOSS;default:return En()}}(xr=Yo||(Yo={}))[xr.OK=0]="OK",xr[xr.CANCELLED=1]="CANCELLED",xr[xr.UNKNOWN=2]="UNKNOWN",xr[xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xr[xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xr[xr.NOT_FOUND=5]="NOT_FOUND",xr[xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",xr[xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",xr[xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",xr[xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xr[xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xr[xr.ABORTED=10]="ABORTED",xr[xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",xr[xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",xr[xr.INTERNAL=13]="INTERNAL",xr[xr.UNAVAILABLE=14]="UNAVAILABLE",xr[xr.DATA_LOSS=15]="DATA_LOSS";var ps=function(){function s(i,c){this.comparator=i,this.root=c||Da.EMPTY}return s.prototype.insert=function(i,c){return new s(this.comparator,this.root.insert(i,c,this.comparator).copy(null,null,Da.BLACK,null,null))},s.prototype.remove=function(i){return new s(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Da.BLACK,null,null))},s.prototype.get=function(i){for(var c=this.root;!c.isEmpty();){var p=this.comparator(i,c.key);if(0===p)return c.value;p<0?c=c.left:p>0&&(c=c.right)}return null},s.prototype.indexOf=function(i){for(var c=0,p=this.root;!p.isEmpty();){var b=this.comparator(i,p.key);if(0===b)return c+p.left.size;b<0?p=p.left:(c+=p.left.size+1,p=p.right)}return-1},s.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(s.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),s.prototype.minKey=function(){return this.root.minKey()},s.prototype.maxKey=function(){return this.root.maxKey()},s.prototype.inorderTraversal=function(i){return this.root.inorderTraversal(i)},s.prototype.forEach=function(i){this.inorderTraversal(function(c,p){return i(c,p),!1})},s.prototype.toString=function(){var i=[];return this.inorderTraversal(function(c,p){return i.push(c+":"+p),!1}),"{"+i.join(", ")+"}"},s.prototype.reverseTraversal=function(i){return this.root.reverseTraversal(i)},s.prototype.getIterator=function(){return new nh(this.root,null,this.comparator,!1)},s.prototype.getIteratorFrom=function(i){return new nh(this.root,i,this.comparator,!1)},s.prototype.getReverseIterator=function(){return new nh(this.root,null,this.comparator,!0)},s.prototype.getReverseIteratorFrom=function(i){return new nh(this.root,i,this.comparator,!0)},s}(),nh=function(){function s(i,c,p,b){this.isReverse=b,this.nodeStack=[];for(var A=1;!i.isEmpty();)if(A=c?p(i.key,c):1,b&&(A*=-1),A<0)i=this.isReverse?i.left:i.right;else{if(0===A){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}return s.prototype.getNext=function(){var i=this.nodeStack.pop(),c={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return c},s.prototype.hasNext=function(){return this.nodeStack.length>0},s.prototype.peek=function(){if(0===this.nodeStack.length)return null;var i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}},s}(),Da=function(){function s(i,c,p,b,A){this.key=i,this.value=c,this.color=null!=p?p:s.RED,this.left=null!=b?b:s.EMPTY,this.right=null!=A?A:s.EMPTY,this.size=this.left.size+1+this.right.size}return s.prototype.copy=function(i,c,p,b,A){return new s(null!=i?i:this.key,null!=c?c:this.value,null!=p?p:this.color,null!=b?b:this.left,null!=A?A:this.right)},s.prototype.isEmpty=function(){return!1},s.prototype.inorderTraversal=function(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)},s.prototype.reverseTraversal=function(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)},s.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},s.prototype.minKey=function(){return this.min().key},s.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},s.prototype.insert=function(i,c,p){var b=this,A=p(i,b.key);return(b=A<0?b.copy(null,null,null,b.left.insert(i,c,p),null):0===A?b.copy(null,c,null,null,null):b.copy(null,null,null,null,b.right.insert(i,c,p))).fixUp()},s.prototype.removeMin=function(){if(this.left.isEmpty())return s.EMPTY;var i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),(i=i.copy(null,null,null,i.left.removeMin(),null)).fixUp()},s.prototype.remove=function(i,c){var p,b=this;if(c(i,b.key)<0)b.left.isEmpty()||b.left.isRed()||b.left.left.isRed()||(b=b.moveRedLeft()),b=b.copy(null,null,null,b.left.remove(i,c),null);else{if(b.left.isRed()&&(b=b.rotateRight()),b.right.isEmpty()||b.right.isRed()||b.right.left.isRed()||(b=b.moveRedRight()),0===c(i,b.key)){if(b.right.isEmpty())return s.EMPTY;p=b.right.min(),b=b.copy(p.key,p.value,null,null,b.right.removeMin())}b=b.copy(null,null,null,null,b.right.remove(i,c))}return b.fixUp()},s.prototype.isRed=function(){return this.color},s.prototype.fixUp=function(){var i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i},s.prototype.moveRedLeft=function(){var i=this.colorFlip();return i.right.left.isRed()&&(i=(i=(i=i.copy(null,null,null,null,i.right.rotateRight())).rotateLeft()).colorFlip()),i},s.prototype.moveRedRight=function(){var i=this.colorFlip();return i.left.left.isRed()&&(i=(i=i.rotateRight()).colorFlip()),i},s.prototype.rotateLeft=function(){var i=this.copy(null,null,s.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},s.prototype.rotateRight=function(){var i=this.copy(null,null,s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},s.prototype.colorFlip=function(){var i=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,c)},s.prototype.checkMaxDepth=function(){var i=this.check();return Math.pow(2,i)<=this.size+1},s.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw En();var i=this.left.check();if(i!==this.right.check())throw En();return i+(this.isRed()?0:1)},s}();Da.EMPTY=null,Da.RED=!0,Da.BLACK=!1,Da.EMPTY=new(function(){function s(){this.size=0}return Object.defineProperty(s.prototype,"key",{get:function(){throw En()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){throw En()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"color",{get:function(){throw En()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"left",{get:function(){throw En()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"right",{get:function(){throw En()},enumerable:!1,configurable:!0}),s.prototype.copy=function(i,c,p,b,A){return this},s.prototype.insert=function(i,c,p){return new Da(i,c)},s.prototype.remove=function(i,c){return this},s.prototype.isEmpty=function(){return!0},s.prototype.inorderTraversal=function(i){return!1},s.prototype.reverseTraversal=function(i){return!1},s.prototype.minKey=function(){return null},s.prototype.maxKey=function(){return null},s.prototype.isRed=function(){return!1},s.prototype.checkMaxDepth=function(){return!0},s.prototype.check=function(){return 0},s}());var Qo=function(){function s(i){this.comparator=i,this.data=new ps(this.comparator)}return s.prototype.has=function(i){return null!==this.data.get(i)},s.prototype.first=function(){return this.data.minKey()},s.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(s.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),s.prototype.indexOf=function(i){return this.data.indexOf(i)},s.prototype.forEach=function(i){this.data.inorderTraversal(function(c,p){return i(c),!1})},s.prototype.forEachInRange=function(i,c){for(var p=this.data.getIteratorFrom(i[0]);p.hasNext();){var b=p.getNext();if(this.comparator(b.key,i[1])>=0)return;c(b.key)}},s.prototype.forEachWhile=function(i,c){var p;for(p=void 0!==c?this.data.getIteratorFrom(c):this.data.getIterator();p.hasNext();)if(!i(p.getNext().key))return},s.prototype.firstAfterOrEqual=function(i){var c=this.data.getIteratorFrom(i);return c.hasNext()?c.getNext().key:null},s.prototype.getIterator=function(){return new ih(this.data.getIterator())},s.prototype.getIteratorFrom=function(i){return new ih(this.data.getIteratorFrom(i))},s.prototype.add=function(i){return this.copy(this.data.remove(i).insert(i,!0))},s.prototype.delete=function(i){return this.has(i)?this.copy(this.data.remove(i)):this},s.prototype.isEmpty=function(){return this.data.isEmpty()},s.prototype.unionWith=function(i){var c=this;return c.size<i.size&&(c=i,i=this),i.forEach(function(p){c=c.add(p)}),c},s.prototype.isEqual=function(i){if(!(i instanceof s)||this.size!==i.size)return!1;for(var c=this.data.getIterator(),p=i.data.getIterator();c.hasNext();){var b=c.getNext().key,A=p.getNext().key;if(0!==this.comparator(b,A))return!1}return!0},s.prototype.toArray=function(){var i=[];return this.forEach(function(c){i.push(c)}),i},s.prototype.toString=function(){var i=[];return this.forEach(function(c){return i.push(c)}),"SortedSet("+i.toString()+")"},s.prototype.copy=function(i){var c=new s(this.comparator);return c.data=i,c},s}(),ih=function(){function s(i){this.iter=i}return s.prototype.getNext=function(){return this.iter.getNext().key},s.prototype.hasNext=function(){return this.iter.hasNext()},s}(),Xi=new ps(ai.comparator);function Bl(){return Xi}var Tf=new ps(ai.comparator);function Yu(){return Tf}var jh=new ps(ai.comparator);function rh(){return jh}var ap=new Qo(ai.comparator);function gr(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];for(var c=ap,p=0,b=s;p<b.length;p++){var A=b[p];c=c.add(A)}return c}var lp=new Qo(ce);function nu(){return lp}var Au=function(){function s(i,c,p,b,A){this.snapshotVersion=i,this.targetChanges=c,this.targetMismatches=p,this.documentUpdates=b,this.resolvedLimboDocuments=A}return s.createSynthesizedRemoteEventForCurrentChange=function(i,c){var p=new Map;return p.set(i,wd.createSynthesizedTargetChangeForCurrentChange(i,c)),new s(Pt.min(),p,nu(),Bl(),gr())},s}(),wd=function(){function s(i,c,p,b,A){this.resumeToken=i,this.current=c,this.addedDocuments=p,this.modifiedDocuments=b,this.removedDocuments=A}return s.createSynthesizedTargetChangeForCurrentChange=function(i,c){return new s(to.EMPTY_BYTE_STRING,c,gr(),gr(),gr())},s}(),Oc=function(s,i,c,p){this.v=s,this.removedTargetIds=i,this.key=c,this.P=p},Ga=function(s,i){this.targetId=s,this.V=i},Ta=function(s,i,c,p){void 0===c&&(c=to.EMPTY_BYTE_STRING),void 0===p&&(p=null),this.state=s,this.targetIds=i,this.resumeToken=c,this.cause=p},uc=function(){function s(){this.S=0,this.D=oh(),this.C=to.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(s.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),s.prototype.O=function(i){i.approximateByteSize()>0&&(this.k=!0,this.C=i)},s.prototype.M=function(){var i=gr(),c=gr(),p=gr();return this.D.forEach(function(b,A){switch(A){case 0:i=i.add(b);break;case 2:c=c.add(b);break;case 1:p=p.add(b);break;default:En()}}),new wd(this.C,this.N,i,c,p)},s.prototype.L=function(){this.k=!1,this.D=oh()},s.prototype.B=function(i,c){this.k=!0,this.D=this.D.insert(i,c)},s.prototype.q=function(i){this.k=!0,this.D=this.D.remove(i)},s.prototype.U=function(){this.S+=1},s.prototype.K=function(){this.S-=1},s.prototype.j=function(){this.k=!0,this.N=!0},s}(),Xa=function(){function s(i){this.W=i,this.G=new Map,this.H=Bl(),this.J=Nc(),this.Y=new Qo(ce)}return s.prototype.X=function(i){for(var c=0,p=i.v;c<p.length;c++){var b=p[c];i.P&&i.P.isFoundDocument()?this.Z(b,i.P):this.tt(b,i.key,i.P)}for(var A=0,S=i.removedTargetIds;A<S.length;A++)this.tt(b=S[A],i.key,i.P)},s.prototype.et=function(i){var c=this;this.forEachTarget(i,function(p){var b=c.nt(p);switch(i.state){case 0:c.st(p)&&b.O(i.resumeToken);break;case 1:b.K(),b.F||b.L(),b.O(i.resumeToken);break;case 2:b.K(),b.F||c.removeTarget(p);break;case 3:c.st(p)&&(b.j(),b.O(i.resumeToken));break;case 4:c.st(p)&&(c.it(p),b.O(i.resumeToken));break;default:En()}})},s.prototype.forEachTarget=function(i,c){var p=this;i.targetIds.length>0?i.targetIds.forEach(c):this.G.forEach(function(b,A){p.st(A)&&c(A)})},s.prototype.rt=function(i){var c=i.targetId,p=i.V.count,b=this.ot(c);if(b){var A=b.target;if(Qd(A))if(0===p){var S=new ai(A.path);this.tt(c,S,xa.newNoDocument(S,Pt.min()))}else U(1===p);else this.ct(c)!==p&&(this.it(c),this.Y=this.Y.add(c))}},s.prototype.ut=function(i){var c=this,p=new Map;this.G.forEach(function(S,j){var se=c.ot(j);if(se){if(S.current&&Qd(se.target)){var Me=new ai(se.target.path);null!==c.H.get(Me)||c.at(j,Me)||c.tt(j,Me,xa.newNoDocument(Me,i))}S.$&&(p.set(j,S.M()),S.L())}});var b=gr();this.J.forEach(function(S,j){var se=!0;j.forEachWhile(function(Me){var Be=c.ot(Me);return!Be||2===Be.purpose||(se=!1,!1)}),se&&(b=b.add(S))});var A=new Au(i,p,this.Y,this.H,b);return this.H=Bl(),this.J=Nc(),this.Y=new Qo(ce),A},s.prototype.Z=function(i,c){if(this.st(i)){var p=this.at(i,c.key)?2:0;this.nt(i).B(c.key,p),this.H=this.H.insert(c.key,c),this.J=this.J.insert(c.key,this.ht(c.key).add(i))}},s.prototype.tt=function(i,c,p){if(this.st(i)){var b=this.nt(i);this.at(i,c)?b.B(c,1):b.q(c),this.J=this.J.insert(c,this.ht(c).delete(i)),p&&(this.H=this.H.insert(c,p))}},s.prototype.removeTarget=function(i){this.G.delete(i)},s.prototype.ct=function(i){var c=this.nt(i).M();return this.W.getRemoteKeysForTarget(i).size+c.addedDocuments.size-c.removedDocuments.size},s.prototype.U=function(i){this.nt(i).U()},s.prototype.nt=function(i){var c=this.G.get(i);return c||(c=new uc,this.G.set(i,c)),c},s.prototype.ht=function(i){var c=this.J.get(i);return c||(c=new Qo(ce),this.J=this.J.insert(i,c)),c},s.prototype.st=function(i){var c=null!==this.ot(i);return c||Qt("WatchChangeAggregator","Detected inactive target",i),c},s.prototype.ot=function(i){var c=this.G.get(i);return c&&c.F?null:this.W.lt(i)},s.prototype.it=function(i){var c=this;this.G.set(i,new uc),this.W.getRemoteKeysForTarget(i).forEach(function(p){c.tt(i,p,null)})},s.prototype.at=function(i,c){return this.W.getRemoteKeysForTarget(i).has(c)},s}();function Nc(){return new ps(ai.comparator)}function oh(){return new ps(ai.comparator)}var Sf={asc:"ASCENDING",desc:"DESCENDING"},cp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},up=function(s,i){this.databaseId=s,this.I=i};function iu(s,i){return s.I?new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+i.nanoseconds).slice(-9)+"Z":{seconds:""+i.seconds,nanos:i.nanoseconds}}function Bo(s,i){return s.I?i.toBase64():i.toUint8Array()}function zh(s,i){return iu(s,i.toTimestamp())}function jo(s){return U(!!s),Pt.fromTimestamp((c=fs(s),new ct(c.seconds,c.nanos)));var c}function If(s,i){return(c=s,new On(["projects",c.projectId,"databases",c.database])).child("documents").child(i).canonicalString();var c}function sh(s){var i=On.fromString(s);return U(jl(i)),i}function ye(s,i){return If(s.databaseId,i.path)}function We(s,i){var c=sh(i);if(c.get(1)!==s.databaseId.projectId)throw new qe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+c.get(1)+" vs "+s.databaseId.projectId);if(c.get(3)!==s.databaseId.database)throw new qe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+c.get(3)+" vs "+s.databaseId.database);return new ai(wi(c))}function ot(s,i){return If(s.databaseId,i)}function en(s){var i=sh(s);return 4===i.length?On.emptyPath():wi(i)}function _i(s){return new On(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function wi(s){return U(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Wi(s,i,c){return{name:ye(s,i),fields:c.value.mapValue.fields}}function Pi(s,i,c){var p=We(s,i.name),b=jo(i.updateTime),A=new Aa({mapValue:{fields:i.fields}}),S=xa.newFoundDocument(p,b,A);return c&&S.setHasCommittedMutations(),c?S.setHasCommittedMutations():S}function Kr(s,i){var c,b;if(i instanceof Ku)c={update:Wi(s,i.key,i.value)};else if(i instanceof Ll)c={delete:ye(s,i.key)};else if(i instanceof Kl)c={update:Wi(s,i.key,i.data),updateMask:Ur(i.fieldMask)};else{if(!(i instanceof Pc))return En();c={verify:ye(s,i.key)}}return i.fieldTransforms.length>0&&(c.updateTransforms=i.fieldTransforms.map(function(p){return function(b,A){var S=A.transform;if(S instanceof ku)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof Tc)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Sc)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof Rl)return{fieldPath:A.field.canonicalString(),increment:S.A};throw En()}(0,p)})),i.precondition.isNone||(c.currentDocument=void 0!==(b=i.precondition).updateTime?{updateTime:zh(s,b.updateTime)}:void 0!==b.exists?{exists:b.exists}:En()),c}function Fn(s,i){var Me,c=i.currentDocument?void 0!==(Me=i.currentDocument).updateTime?Fa.updateTime(jo(Me.updateTime)):void 0!==Me.exists?Fa.exists(Me.exists):Fa.none():Fa.none(),p=i.updateTransforms?i.updateTransforms.map(function(Me){return function(Be,et){var ht=null;"setToServerValue"in et?(U("REQUEST_TIME"===et.setToServerValue),ht=new ku):"appendMissingElements"in et?ht=new Tc(et.appendMissingElements.values||[]):"removeAllFromArray"in et?ht=new Sc(et.removeAllFromArray.values||[]):"increment"in et?ht=new Rl(Be,et.increment):En();var Gt=hs.fromServerFormat(et.fieldPath);return new Zl(Gt,ht)}(s,Me)}):[];if(i.update){var b=We(s,i.update.name),A=new Aa({mapValue:{fields:i.update.fields}});if(i.updateMask){var S=function(Me){return new ia((Me.fieldPaths||[]).map(function(et){return hs.fromServerFormat(et)}))}(i.updateMask);return new Kl(b,A,S,c,p)}return new Ku(b,A,c,p)}if(i.delete){var j=We(s,i.delete);return new Ll(j,c)}if(i.verify){var se=We(s,i.verify);return new Pc(se,c)}return En()}function La(s,i){return{documents:[ot(s,i.path)]}}function Sa(s,i){var c={structuredQuery:{}},p=i.path;null!==i.collectionGroup?(c.parent=ot(s,p),c.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(c.parent=ot(s,p.popLast()),c.structuredQuery.from=[{collectionId:p.lastSegment()}]);var b=function(j){if(0!==j.length){var se=j.map(function(Me){return function(Be){if("=="===Be.op){if(io(Be.value))return{unaryFilter:{field:xu(Be.field),op:"IS_NAN"}};if(ko(Be.value))return{unaryFilter:{field:xu(Be.field),op:"IS_NULL"}}}else if("!="===Be.op){if(io(Be.value))return{unaryFilter:{field:xu(Be.field),op:"IS_NOT_NAN"}};if(ko(Be.value))return{unaryFilter:{field:xu(Be.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(Be.field),op:Ql(Be.op),value:Be.value}}}(Me)});return 1===se.length?se[0]:{compositeFilter:{op:"AND",filters:se}}}}(i.filters);b&&(c.structuredQuery.where=b);var A=function(j){if(0!==j.length)return j.map(function(se){return{field:xu((Me=se).field),direction:Yl(Me.dir)};var Me})}(i.orderBy);A&&(c.structuredQuery.orderBy=A);var se,S=(se=i.limit,s.I||no(se)?se:{value:se});return null!==S&&(c.structuredQuery.limit=S),i.startAt&&(c.structuredQuery.startAt=hc(i.startAt)),i.endAt&&(c.structuredQuery.endAt=hc(i.endAt)),c}function $a(s){var i=en(s.parent),c=s.structuredQuery,p=c.from?c.from.length:0,b=null;if(p>0){U(1===p);var A=c.from[0];A.allDescendants?b=A.collectionId:i=i.child(A.collectionId)}var S=[];c.where&&(S=dc(c.where));var j=[];c.orderBy&&(j=c.orderBy.map(function(et){return new Xc(Rc((ht=et).field),function(Rt){switch(Rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ht.direction));var ht}));var et,ht,se=null;c.limit&&(se=no(ht="object"==typeof(et=c.limit)?et.value:et)?null:ht);var Me=null;c.startAt&&(Me=Cd(c.startAt));var Be=null;return c.endAt&&(Be=Cd(c.endAt)),_l(i,b,j,S,se,"F",Me,Be)}function dc(s){return s?void 0!==s.unaryFilter?[Qu(s)]:void 0!==s.fieldFilter?[Vh(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(function(i){return dc(i)}).reduce(function(i,c){return i.concat(c)}):En():[]}function hc(s){return{before:s.before,values:s.position}}function Cd(s){return new Jc(s.values||[],!!s.before)}function Yl(s){return Sf[s]}function Ql(s){return cp[s]}function xu(s){return{fieldPath:s.canonicalString()}}function Rc(s){return hs.fromServerFormat(s.fieldPath)}function Vh(s){return os.create(Rc(s.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return En()}}(s.fieldFilter.op),s.fieldFilter.value)}function Qu(s){switch(s.unaryFilter.op){case"IS_NAN":var i=Rc(s.unaryFilter.field);return os.create(i,"==",{doubleValue:NaN});case"IS_NULL":var c=Rc(s.unaryFilter.field);return os.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var p=Rc(s.unaryFilter.field);return os.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var b=Rc(s.unaryFilter.field);return os.create(b,"!=",{nullValue:"NULL_VALUE"});default:return En()}}function Ur(s){var i=[];return s.fields.forEach(function(c){return i.push(c.canonicalString())}),{fieldPaths:i}}function jl(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function ga(s){for(var i="",c=0;c<s.length;c++)i.length>0&&(i=Ss(i)),i=Uh(s.get(c),i);return Ss(i)}function Uh(s,i){for(var c=i,p=s.length,b=0;b<p;b++){var A=s.charAt(b);switch(A){case"\0":c+="\x01\x10";break;case"\x01":c+="\x01\x11";break;default:c+=A}}return c}function Ss(s){return s+"\x01\x01"}function zl(s){var i=s.length;if(U(i>=2),2===i)return U("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),On.emptyPath();for(var c=i-2,p=[],b="",A=0;A<i;){var S=s.indexOf("\x01",A);switch((S<0||S>c)&&En(),s.charAt(S+1)){case"\x01":var j=s.substring(A,S),se=void 0;0===b.length?se=j:(se=b+=j,b=""),p.push(se);break;case"\x10":b+=s.substring(A,S),b+="\0";break;case"\x11":b+=s.substring(A,S+1);break;default:En()}A=S+2}return new On(p)}var Hh=function(s,i){this.seconds=s,this.nanoseconds=i},fc=function(s,i,c){this.ownerId=s,this.allowTabSynchronization=i,this.leaseTimestampMs=c};fc.store="owner",fc.key="owner";var Fc=function(s,i,c){this.userId=s,this.lastAcknowledgedBatchId=i,this.lastStreamToken=c};Fc.store="mutationQueues",Fc.keyPath="userId";var zo=function(s,i,c,p,b){this.userId=s,this.batchId=i,this.localWriteTimeMs=c,this.baseMutations=p,this.mutations=b};zo.store="mutations",zo.keyPath="batchId",zo.userMutationsIndex="userMutationsIndex",zo.userMutationsKeyPath=["userId","batchId"];var el=function(){function s(){}return s.prefixForUser=function(i){return[i]},s.prefixForPath=function(i,c){return[i,ga(c)]},s.key=function(i,c,p){return[i,ga(c),p]},s}();el.store="documentMutations",el.PLACEHOLDER=new el;var dp=function(s,i){this.path=s,this.readTime=i},im=function(s,i){this.path=s,this.version=i},Is=function(s,i,c,p,b,A){this.unknownDocument=s,this.noDocument=i,this.document=c,this.hasCommittedMutations=p,this.readTime=b,this.parentPath=A};Is.store="remoteDocuments",Is.readTimeIndex="readTimeIndex",Is.readTimeIndexPath="readTime",Is.collectionReadTimeIndex="collectionReadTimeIndex",Is.collectionReadTimeIndexPath=["parentPath","readTime"];var Wa=function(s){this.byteSize=s};Wa.store="remoteDocumentGlobal",Wa.key="remoteDocumentGlobalKey";var yl=function(s,i,c,p,b,A,S){this.targetId=s,this.canonicalId=i,this.readTime=c,this.resumeToken=p,this.lastListenSequenceNumber=b,this.lastLimboFreeSnapshotVersion=A,this.query=S};yl.store="targets",yl.keyPath="targetId",yl.queryTargetsIndexName="queryTargetsIndex",yl.queryTargetsKeyPath=["canonicalId","targetId"];var Ia=function(s,i,c){this.targetId=s,this.path=i,this.sequenceNumber=c};Ia.store="targetDocuments",Ia.keyPath=["targetId","path"],Ia.documentTargetsIndex="documentTargetsIndex",Ia.documentTargetsKeyPath=["path","targetId"];var Vl=function(s,i,c,p){this.highestTargetId=s,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=c,this.targetCount=p};Vl.key="targetGlobalKey",Vl.store="targetGlobal";var kd=function(s,i){this.collectionId=s,this.parent=i};kd.store="collectionParents",kd.keyPath=["collectionId","parent"];var Ju=function(s,i,c,p){this.clientId=s,this.updateTimeMs=i,this.networkEnabled=c,this.inForeground=p};Ju.store="clientMetadata",Ju.keyPath="clientId";var qh=function(s,i,c){this.bundleId=s,this.createTime=i,this.version=c};qh.store="bundles",qh.keyPath="bundleId";var tl=function(s,i,c){this.name=s,this.readTime=i,this.bundledQuery=c};tl.store="namedQueries",tl.keyPath="name";var Gh=(0,we.ev)((0,we.ev)([],(0,we.ev)((0,we.ev)([],(0,we.ev)((0,we.ev)([],(0,we.ev)((0,we.ev)([],[Fc.store,zo.store,el.store,Is.store,yl.store,fc.store,Vl.store,Ia.store]),[Ju.store])),[Wa.store])),[kd.store])),[qh.store,tl.store]),Pf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ad=function(){function s(){this.onCommittedListeners=[]}return s.prototype.addOnCommittedListener=function(i){this.onCommittedListeners.push(i)},s.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(i){return i()})},s}(),Pa=function(){var s=this;this.promise=new Promise(function(i,c){s.resolve=i,s.reject=c})},vn=function(){function s(i){var c=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(function(p){c.isDone=!0,c.result=p,c.nextCallback&&c.nextCallback(p)},function(p){c.isDone=!0,c.error=p,c.catchCallback&&c.catchCallback(p)})}return s.prototype.catch=function(i){return this.next(void 0,i)},s.prototype.next=function(i,c){var p=this;return this.callbackAttached&&En(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(c,this.error):this.wrapSuccess(i,this.result):new s(function(b,A){p.nextCallback=function(S){p.wrapSuccess(i,S).next(b,A)},p.catchCallback=function(S){p.wrapFailure(c,S).next(b,A)}})},s.prototype.toPromise=function(){var i=this;return new Promise(function(c,p){i.next(c,p)})},s.prototype.wrapUserFunction=function(i){try{var c=i();return c instanceof s?c:s.resolve(c)}catch(p){return s.reject(p)}},s.prototype.wrapSuccess=function(i,c){return i?this.wrapUserFunction(function(){return i(c)}):s.resolve(c)},s.prototype.wrapFailure=function(i,c){return i?this.wrapUserFunction(function(){return i(c)}):s.reject(c)},s.resolve=function(i){return new s(function(c,p){c(i)})},s.reject=function(i){return new s(function(c,p){p(i)})},s.waitFor=function(i){return new s(function(c,p){var b=0,A=0,S=!1;i.forEach(function(j){++b,j.next(function(){++A,S&&A===b&&c()},function(se){return p(se)})}),S=!0,A===b&&c()})},s.or=function(i){for(var c=s.resolve(!1),p=function(S){c=c.next(function(j){return j?s.resolve(j):S()})},b=0,A=i;b<A.length;b++)p(A[b]);return c},s.forEach=function(i,c){var p=this,b=[];return i.forEach(function(A,S){b.push(c.call(p,A,S))}),this.waitFor(b)},s}(),Ti=function(){function s(i,c){var p=this;this.action=i,this.transaction=c,this.aborted=!1,this.ft=new Pa,this.transaction.oncomplete=function(){p.ft.resolve()},this.transaction.onabort=function(){c.error?p.ft.reject(new Lc(i,c.error)):p.ft.resolve()},this.transaction.onerror=function(b){var A=fp(b.target.error);p.ft.reject(new Lc(i,A))}}return s.open=function(i,c,p,b){try{return new s(c,i.transaction(b,p))}catch(A){throw new Lc(c,A)}},Object.defineProperty(s.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),s.prototype.abort=function(i){i&&this.ft.reject(i),this.aborted||(Qt("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},s.prototype.store=function(i){var c=this.transaction.objectStore(i);return new hp(c)},s}(),Xu=function(){function s(i,c,p){this.name=i,this.version=c,this.wt=p,12.2===s._t((0,Ne.z$)())&&Dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return s.delete=function(i){return Qt("SimpleDb","Removing database:",i),xd(window.indexedDB.deleteDatabase(i)).toPromise()},s.yt=function(){if("undefined"==typeof indexedDB)return!1;if(s.gt())return!0;var i=(0,Ne.z$)(),c=s._t(i),p=0<c&&c<10,b=s.Et(i),A=0<b&&b<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||p||A)},s.gt=function(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Tt)},s.It=function(i,c){return i.store(c)},s._t=function(i){var c=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),p=c?c[1].split("_").slice(0,2).join("."):"-1";return Number(p)},s.Et=function(i){var c=i.match(/Android ([\d.]+)/i),p=c?c[1].split(".").slice(0,2).join("."):"-1";return Number(p)},s.prototype.At=function(i){return(0,we.mG)(this,void 0,void 0,function(){var c,p=this;return(0,we.Jh)(this,function(b){switch(b.label){case 0:return this.db?[3,2]:(Qt("SimpleDb","Opening database:",this.name),c=this,[4,new Promise(function(A,S){var j=indexedDB.open(p.name,p.version);j.onsuccess=function(se){A(se.target.result)},j.onblocked=function(){S(new Lc(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},j.onerror=function(se){var Me=se.target.error;S("VersionError"===Me.name?new qe(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Lc(i,Me))},j.onupgradeneeded=function(se){Qt("SimpleDb",'Database "'+p.name+'" requires upgrade from version:',se.oldVersion),p.wt.Rt(se.target.result,j.transaction,se.oldVersion,p.version).next(function(){Qt("SimpleDb","Database upgrade to version "+p.version+" complete")})}})]);case 1:c.db=b.sent(),b.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(A){return p.bt(A)}),this.db)]}})})},s.prototype.vt=function(i){this.bt=i,this.db&&(this.db.onversionchange=function(c){return i(c)})},s.prototype.runTransaction=function(i,c,p,b){return(0,we.mG)(this,void 0,void 0,function(){var A,S,j,se,Me;return(0,we.Jh)(this,function(Be){switch(Be.label){case 0:A="readonly"===c,S=0,j=function(){var et,ht,Rt,Lt,Gt;return(0,we.Jh)(this,function(Cn){switch(Cn.label){case 0:++S,Cn.label=1;case 1:return Cn.trys.push([1,4,,5]),[4,se.At(i)];case 2:return se.db=Cn.sent(),et=Ti.open(se.db,i,A?"readonly":"readwrite",p),ht=b(et).catch(function(Rn){return et.abort(Rn),vn.reject(Rn)}).toPromise(),Rt={},ht.catch(function(){}),[4,et.dt];case 3:return[2,(Rt.value=(Cn.sent(),ht),Rt)];case 4:return Qt("SimpleDb","Transaction failed with error:",(Lt=Cn.sent()).message,"Retrying:",Gt="FirebaseError"!==Lt.name&&S<3),se.close(),Gt?[3,5]:[2,{value:Promise.reject(Lt)}];case 5:return[2]}})},se=this,Be.label=1;case 1:return[5,j()];case 2:if("object"==typeof(Me=Be.sent()))return[2,Me.value];Be.label=3;case 3:return[3,1];case 4:return[2]}})})},s.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},s}(),Zp=function(){function s(i){this.Pt=i,this.Vt=!1,this.St=null}return Object.defineProperty(s.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"cursor",{set:function(i){this.Pt=i},enumerable:!1,configurable:!0}),s.prototype.done=function(){this.Vt=!0},s.prototype.Ct=function(i){this.St=i},s.prototype.delete=function(){return xd(this.Pt.delete())},s}(),Lc=function(s){function i(c,p){var b=this;return(b=s.call(this,ae.UNAVAILABLE,"IndexedDB transaction '"+c+"' failed: "+p)||this).name="IndexedDbTransactionError",b}return(0,we.ZT)(i,s),i}(qe);function ah(s){return"IndexedDbTransactionError"===s.name}var hp=function(){function s(i){this.store=i}return s.prototype.put=function(i,c){var p;return void 0!==c?(Qt("SimpleDb","PUT",this.store.name,i,c),p=this.store.put(c,i)):(Qt("SimpleDb","PUT",this.store.name,"<auto-key>",i),p=this.store.put(i)),xd(p)},s.prototype.add=function(i){return Qt("SimpleDb","ADD",this.store.name,i,i),xd(this.store.add(i))},s.prototype.get=function(i){var c=this;return xd(this.store.get(i)).next(function(p){return void 0===p&&(p=null),Qt("SimpleDb","GET",c.store.name,i,p),p})},s.prototype.delete=function(i){return Qt("SimpleDb","DELETE",this.store.name,i),xd(this.store.delete(i))},s.prototype.count=function(){return Qt("SimpleDb","COUNT",this.store.name),xd(this.store.count())},s.prototype.Nt=function(i,c){var p=this.cursor(this.options(i,c)),b=[];return this.xt(p,function(A,S){b.push(S)}).next(function(){return b})},s.prototype.kt=function(i,c){Qt("SimpleDb","DELETE ALL",this.store.name);var p=this.options(i,c);p.Ft=!1;var b=this.cursor(p);return this.xt(b,function(A,S,j){return j.delete()})},s.prototype.$t=function(i,c){var p;c?p=i:(p={},c=i);var b=this.cursor(p);return this.xt(b,c)},s.prototype.Ot=function(i){var c=this.cursor({});return new vn(function(p,b){c.onerror=function(A){var S=fp(A.target.error);b(S)},c.onsuccess=function(A){var S=A.target.result;S?i(S.primaryKey,S.value).next(function(j){j?S.continue():p()}):p()}})},s.prototype.xt=function(i,c){var p=[];return new vn(function(b,A){i.onerror=function(S){A(S.target.error)},i.onsuccess=function(S){var j=S.target.result;if(j){var se=new Zp(j),Me=c(j.primaryKey,j.value,se);if(Me instanceof vn){var Be=Me.catch(function(et){return se.done(),vn.reject(et)});p.push(Be)}se.isDone?b():null===se.Dt?j.continue():j.continue(se.Dt)}else b()}}).next(function(){return vn.waitFor(p)})},s.prototype.options=function(i,c){var p;return void 0!==i&&("string"==typeof i?p=i:c=i),{index:p,range:c}},s.prototype.cursor=function(i){var c="next";if(i.reverse&&(c="prev"),i.index){var p=this.store.index(i.index);return i.Ft?p.openKeyCursor(i.range,c):p.openCursor(i.range,c)}return this.store.openCursor(i.range,c)},s}();function xd(s){return new vn(function(i,c){s.onsuccess=function(p){i(p.target.result)},s.onerror=function(p){var b=fp(p.target.error);c(b)}})}var nl=!1;function fp(s){var i=Xu._t((0,Ne.z$)());if(i>=12.2&&i<13){var c="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(c)>=0){var p=new qe("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+c+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nl||(nl=!0,setTimeout(function(){throw p},0)),p}}return s}var rm=function(s){function i(c,p){var b=this;return(b=s.call(this)||this).Mt=c,b.currentSequenceNumber=p,b}return(0,we.ZT)(i,s),i}(Ad);function $s(s,i){var c=F(s);return Xu.It(c.Mt,i)}var Eu=function(){function s(i,c,p,b){this.batchId=i,this.localWriteTime=c,this.baseMutations=p,this.mutations=b}return s.prototype.applyToRemoteDocument=function(i,c){for(var p=c.mutationResults,b=0;b<this.mutations.length;b++){var A=this.mutations[b];A.key.isEqual(i.key)&&Bi(A,i,p[b])}},s.prototype.applyToLocalView=function(i){for(var c=0,p=this.baseMutations;c<p.length;c++)(S=p[c]).key.isEqual(i.key)&&bd(S,i,this.localWriteTime);for(var b=0,A=this.mutations;b<A.length;b++){var S;(S=A[b]).key.isEqual(i.key)&&bd(S,i,this.localWriteTime)}},s.prototype.applyToLocalDocumentSet=function(i){var c=this;this.mutations.forEach(function(p){var b=i.get(p.key),A=b;c.applyToLocalView(A),b.isValidDocument()||A.convertToNoDocument(Pt.min())})},s.prototype.keys=function(){return this.mutations.reduce(function(i,c){return i.add(c.key)},gr())},s.prototype.isEqual=function(i){return this.batchId===i.batchId&&Re(this.mutations,i.mutations,function(c,p){return Zu(c,p)})&&Re(this.baseMutations,i.baseMutations,function(c,p){return Zu(c,p)})},s}(),ru=function(){function s(i,c,p,b){this.batch=i,this.commitVersion=c,this.mutationResults=p,this.docVersions=b}return s.from=function(i,c,p){U(i.mutations.length===p.length);for(var b=rh(),A=i.mutations,S=0;S<A.length;S++)b=b.insert(A[S].key,p[S].version);return new s(i,c,p,b)},s}(),Er=function(){function s(i,c,p,b,A,S,j){void 0===A&&(A=Pt.min()),void 0===S&&(S=Pt.min()),void 0===j&&(j=to.EMPTY_BYTE_STRING),this.target=i,this.targetId=c,this.purpose=p,this.sequenceNumber=b,this.snapshotVersion=A,this.lastLimboFreeSnapshotVersion=S,this.resumeToken=j}return s.prototype.withSequenceNumber=function(i){return new s(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},s.prototype.withResumeToken=function(i,c){return new s(this.target,this.targetId,this.purpose,this.sequenceNumber,c,this.lastLimboFreeSnapshotVersion,i)},s.prototype.withLastLimboFreeSnapshotVersion=function(i){return new s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)},s}(),ou=function(s){this.Lt=s};function Io(s,i){if(i.document)return Pi(s.Lt,i.document,!!i.hasCommittedMutations);if(i.noDocument){var c=ai.fromSegments(i.noDocument.path),p=su(i.noDocument.readTime),b=xa.newNoDocument(c,p);return i.hasCommittedMutations?b.setHasCommittedMutations():b}if(i.unknownDocument){var A=ai.fromSegments(i.unknownDocument.path);return p=su(i.unknownDocument.version),xa.newUnknownDocument(A,p)}return En()}function Oa(s,i,c){var et,ht,p=ra(c),b=i.key.path.popLast().toArray();if(i.isFoundDocument()){var A={name:ye(et=s.Lt,(ht=i).key),fields:ht.data.value.mapValue.fields,updateTime:iu(et,ht.version.toTimestamp())},S=i.hasCommittedMutations;return new Is(null,null,A,S,p,b)}if(i.isNoDocument()){var j=i.key.path.toArray(),se=Bc(i.version);return S=i.hasCommittedMutations,new Is(null,new dp(j,se),null,S,p,b)}if(i.isUnknownDocument()){var Me=i.key.path.toArray(),Be=Bc(i.version);return new Is(new im(Me,Be),null,null,!0,p,b)}return En()}function ra(s){var i=s.toTimestamp();return[i.seconds,i.nanoseconds]}function sn(s){var i=new ct(s[0],s[1]);return Pt.fromTimestamp(i)}function Bc(s){var i=s.toTimestamp();return new Hh(i.seconds,i.nanoseconds)}function su(s){var i=new ct(s.seconds,s.nanoseconds);return Pt.fromTimestamp(i)}function lh(s,i){for(var c=(i.baseMutations||[]).map(function(se){return Fn(s.Lt,se)}),p=0;p<i.mutations.length-1;++p)p+1<i.mutations.length&&void 0!==i.mutations[p+1].transform&&(i.mutations[p].updateTransforms=i.mutations[p+1].transform.fieldTransforms,i.mutations.splice(p+1,1),++p);var S=i.mutations.map(function(se){return Fn(s.Lt,se)}),j=ct.fromMillis(i.localWriteTimeMs);return new Eu(i.batchId,j,c,S)}function ch(s){var i,c,p=su(s.readTime),b=void 0!==s.lastLimboFreeSnapshotVersion?su(s.lastLimboFreeSnapshotVersion):Pt.min();return void 0!==s.query.documents?(U(1===(c=s.query).documents.length),i=Ea(pa(en(c.documents[0])))):i=Ea($a(s.query)),new Er(i,s.targetId,0,s.lastListenSequenceNumber,p,b,to.fromBase64String(s.resumeToken))}function jc(s,i){var c,p=Bc(i.snapshotVersion),b=Bc(i.lastLimboFreeSnapshotVersion);c=Qd(i.target)?La(s.Lt,i.target):Sa(s.Lt,i.target);var A=i.resumeToken.toBase64();return new yl(i.targetId,gd(i.target),p,A,i.sequenceNumber,b,c)}function Ut(s){var i=$a({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?qs(i,i.limit,"L"):i}var pp=function(){function s(){}return s.prototype.getBundleMetadata=function(i,c){return gp(i).get(c).next(function(p){if(p)return{id:(b=p).bundleId,createTime:su(b.createTime),version:b.version};var b})},s.prototype.saveBundleMetadata=function(i,c){return gp(i).put({bundleId:(p=c).id,createTime:Bc(jo(p.createTime)),version:p.version});var p},s.prototype.getNamedQuery=function(i,c){return uh(i).get(c).next(function(p){if(p)return{name:(b=p).name,query:Ut(b.bundledQuery),readTime:su(b.readTime)};var b})},s.prototype.saveNamedQuery=function(i,c){return uh(i).put({name:(p=c).name,readTime:Bc(jo(p.readTime)),bundledQuery:p.bundledQuery});var p},s}();function gp(s){return $s(s,qh.store)}function uh(s){return $s(s,tl.store)}var Kp=function(){function s(){this.Bt=new om}return s.prototype.addToCollectionParentIndex=function(i,c){return this.Bt.add(c),vn.resolve()},s.prototype.getCollectionParents=function(i,c){return vn.resolve(this.Bt.getEntries(c))},s}(),om=function(){function s(){this.index={}}return s.prototype.add=function(i){var c=i.lastSegment(),p=i.popLast(),b=this.index[c]||new Qo(On.comparator),A=!b.has(p);return this.index[c]=b.add(p),A},s.prototype.has=function(i){var c=i.lastSegment(),p=i.popLast(),b=this.index[c];return b&&b.has(p)},s.prototype.getEntries=function(i){return(this.index[i]||new Qo(On.comparator)).toArray()},s}(),Ed=function(){function s(){this.qt=new om}return s.prototype.addToCollectionParentIndex=function(i,c){var p=this;if(!this.qt.has(c)){var b=c.lastSegment(),A=c.popLast();i.addOnCommittedListener(function(){p.qt.add(c)});var S={collectionId:b,parent:ga(A)};return Jl(i).put(S)}return vn.resolve()},s.prototype.getCollectionParents=function(i,c){var p=[],b=IDBKeyRange.bound([c,""],[nt(c),""],!1,!0);return Jl(i).Nt(b).next(function(A){for(var S=0,j=A;S<j.length;S++){var se=j[S];if(se.collectionId!==c)break;p.push(zl(se.parent))}return p})},s}();function Jl(s){return $s(s,kd.store)}var mp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zc=function(){function s(i,c,p){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=c,this.maximumSequenceNumbersToCollect=p}return s.withCacheSize=function(i){return new s(i,s.DEFAULT_COLLECTION_PERCENTILE,s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},s}();function $h(s,i,c){var p=s.store(zo.store),b=s.store(el.store),A=[],S=IDBKeyRange.only(c.batchId),j=0,se=p.$t({range:S},function(Lt,Gt,Cn){return j++,Cn.delete()});A.push(se.next(function(){U(1===j)}));for(var Me=[],Be=0,et=c.mutations;Be<et.length;Be++){var ht=et[Be],Rt=el.key(i,ht.key.path,c.batchId);A.push(b.delete(Rt)),Me.push(ht.key)}return vn.waitFor(A).next(function(){return Me})}function Mu(s){if(!s)return 0;var i;if(s.document)i=s.document;else if(s.unknownDocument)i=s.unknownDocument;else{if(!s.noDocument)throw En();i=s.noDocument}return JSON.stringify(i).length}zc.DEFAULT_COLLECTION_PERCENTILE=10,zc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zc.DEFAULT=new zc(41943040,zc.DEFAULT_COLLECTION_PERCENTILE,zc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zc.DISABLED=new zc(-1,0,0);var pc=function(){function s(i,c,p,b){this.userId=i,this.R=c,this.Ut=p,this.referenceDelegate=b,this.Kt={}}return s.Qt=function(i,c,p,b){return U(""!==i.uid),new s(i.isAuthenticated()?i.uid:"",c,p,b)},s.prototype.checkEmpty=function(i){var c=!0,p=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ed(i).$t({index:zo.userMutationsIndex,range:p},function(b,A,S){c=!1,S.done()}).next(function(){return c})},s.prototype.addMutationBatch=function(i,c,p,b){var A=this,S=gc(i),j=ed(i);return j.add({}).next(function(se){U("number"==typeof se);for(var Me=new Eu(se,c,p,b),Be=function(Rn,ki,Si){var Tr=Si.baseMutations.map(function(ms){return Kr(Rn.Lt,ms)}),bo=Si.mutations.map(function(ms){return Kr(Rn.Lt,ms)});return new zo(ki,Si.batchId,Si.localWriteTime.toMillis(),Tr,bo)}(A.R,A.userId,Me),et=[],ht=new Qo(function(Rn,ki){return ce(Rn.canonicalString(),ki.canonicalString())}),Rt=0,Lt=b;Rt<Lt.length;Rt++){var Gt=Lt[Rt],Cn=el.key(A.userId,Gt.key.path,se);ht=ht.add(Gt.key.path.popLast()),et.push(j.put(Be)),et.push(S.put(Cn,el.PLACEHOLDER))}return ht.forEach(function(Rn){et.push(A.Ut.addToCollectionParentIndex(i,Rn))}),i.addOnCommittedListener(function(){A.Kt[se]=Me.keys()}),vn.waitFor(et).next(function(){return Me})})},s.prototype.lookupMutationBatch=function(i,c){var p=this;return ed(i).get(c).next(function(b){return b?(U(b.userId===p.userId),lh(p.R,b)):null})},s.prototype.jt=function(i,c){var p=this;return this.Kt[c]?vn.resolve(this.Kt[c]):this.lookupMutationBatch(i,c).next(function(b){if(b){var A=b.keys();return p.Kt[c]=A,A}return null})},s.prototype.getNextMutationBatchAfterBatchId=function(i,c){var p=this,b=c+1,A=IDBKeyRange.lowerBound([this.userId,b]),S=null;return ed(i).$t({index:zo.userMutationsIndex,range:A},function(j,se,Me){se.userId===p.userId&&(U(se.batchId>=b),S=lh(p.R,se)),Me.done()}).next(function(){return S})},s.prototype.getHighestUnacknowledgedBatchId=function(i){var c=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),p=-1;return ed(i).$t({index:zo.userMutationsIndex,range:c,reverse:!0},function(b,A,S){p=A.batchId,S.done()}).next(function(){return p})},s.prototype.getAllMutationBatches=function(i){var c=this,p=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ed(i).Nt(zo.userMutationsIndex,p).next(function(b){return b.map(function(A){return lh(c.R,A)})})},s.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,c){var p=this,b=el.prefixForPath(this.userId,c.path),A=IDBKeyRange.lowerBound(b),S=[];return gc(i).$t({range:A},function(j,se,Me){var Be=j[0],ht=j[2],Rt=zl(j[1]);if(Be===p.userId&&c.path.isEqual(Rt))return ed(i).get(ht).next(function(Lt){if(!Lt)throw En();U(Lt.userId===p.userId),S.push(lh(p.R,Lt))});Me.done()}).next(function(){return S})},s.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,c){var p=this,b=new Qo(ce),A=[];return c.forEach(function(S){var j=el.prefixForPath(p.userId,S.path),se=IDBKeyRange.lowerBound(j),Me=gc(i).$t({range:se},function(Be,et,ht){var Rt=Be[0],Gt=Be[2],Cn=zl(Be[1]);Rt===p.userId&&S.path.isEqual(Cn)?b=b.add(Gt):ht.done()});A.push(Me)}),vn.waitFor(A).next(function(){return p.Wt(i,b)})},s.prototype.getAllMutationBatchesAffectingQuery=function(i,c){var p=this,b=c.path,A=b.length+1,S=el.prefixForPath(this.userId,b),j=IDBKeyRange.lowerBound(S),se=new Qo(ce);return gc(i).$t({range:j},function(Me,Be,et){var ht=Me[0],Lt=Me[2],Gt=zl(Me[1]);ht===p.userId&&b.isPrefixOf(Gt)?Gt.length===A&&(se=se.add(Lt)):et.done()}).next(function(){return p.Wt(i,se)})},s.prototype.Wt=function(i,c){var p=this,b=[],A=[];return c.forEach(function(S){A.push(ed(i).get(S).next(function(j){if(null===j)throw En();U(j.userId===p.userId),b.push(lh(p.R,j))}))}),vn.waitFor(A).next(function(){return b})},s.prototype.removeMutationBatch=function(i,c){var p=this;return $h(i.Mt,this.userId,c).next(function(b){return i.addOnCommittedListener(function(){p.Gt(c.batchId)}),vn.forEach(b,function(A){return p.referenceDelegate.markPotentiallyOrphaned(i,A)})})},s.prototype.Gt=function(i){delete this.Kt[i]},s.prototype.performConsistencyCheck=function(i){var c=this;return this.checkEmpty(i).next(function(p){if(!p)return vn.resolve();var b=IDBKeyRange.lowerBound(el.prefixForUser(c.userId)),A=[];return gc(i).$t({range:b},function(S,j,se){if(S[0]===c.userId){var Me=zl(S[1]);A.push(Me)}else se.done()}).next(function(){U(0===A.length)})})},s.prototype.containsKey=function(i,c){return Yp(i,this.userId,c)},s.prototype.zt=function(i){var c=this;return Xl(i).get(this.userId).next(function(p){return p||new Fc(c.userId,-1,"")})},s}();function Yp(s,i,c){var p=el.prefixForPath(i,c.path),b=p[1],A=IDBKeyRange.lowerBound(p),S=!1;return gc(s).$t({range:A,Ft:!0},function(j,se,Me){j[0]===i&&j[1]===b&&(S=!0),Me.done()}).next(function(){return S})}function ed(s){return $s(s,zo.store)}function gc(s){return $s(s,el.store)}function Xl(s){return $s(s,Fc.store)}var ec=function(){function s(i){this.Ht=i}return s.prototype.next=function(){return this.Ht+=2,this.Ht},s.Jt=function(){return new s(0)},s.Yt=function(){return new s(-1)},s}(),Vc=function(){function s(i,c){this.referenceDelegate=i,this.R=c}return s.prototype.allocateTargetId=function(i){var c=this;return this.Xt(i).next(function(p){var b=new ec(p.highestTargetId);return p.highestTargetId=b.next(),c.Zt(i,p).next(function(){return p.highestTargetId})})},s.prototype.getLastRemoteSnapshotVersion=function(i){return this.Xt(i).next(function(c){return Pt.fromTimestamp(new ct(c.lastRemoteSnapshotVersion.seconds,c.lastRemoteSnapshotVersion.nanoseconds))})},s.prototype.getHighestSequenceNumber=function(i){return this.Xt(i).next(function(c){return c.highestListenSequenceNumber})},s.prototype.setTargetsMetadata=function(i,c,p){var b=this;return this.Xt(i).next(function(A){return A.highestListenSequenceNumber=c,p&&(A.lastRemoteSnapshotVersion=p.toTimestamp()),c>A.highestListenSequenceNumber&&(A.highestListenSequenceNumber=c),b.Zt(i,A)})},s.prototype.addTargetData=function(i,c){var p=this;return this.te(i,c).next(function(){return p.Xt(i).next(function(b){return b.targetCount+=1,p.ee(c,b),p.Zt(i,b)})})},s.prototype.updateTargetData=function(i,c){return this.te(i,c)},s.prototype.removeTargetData=function(i,c){var p=this;return this.removeMatchingKeysForTargetId(i,c.targetId).next(function(){return Md(i).delete(c.targetId)}).next(function(){return p.Xt(i)}).next(function(b){return U(b.targetCount>0),b.targetCount-=1,p.Zt(i,b)})},s.prototype.removeTargets=function(i,c,p){var b=this,A=0,S=[];return Md(i).$t(function(j,se){var Me=ch(se);Me.sequenceNumber<=c&&null===p.get(Me.targetId)&&(A++,S.push(b.removeTargetData(i,Me)))}).next(function(){return vn.waitFor(S)}).next(function(){return A})},s.prototype.forEachTarget=function(i,c){return Md(i).$t(function(p,b){var A=ch(b);c(A)})},s.prototype.Xt=function(i){return au(i).get(Vl.key).next(function(c){return U(null!==c),c})},s.prototype.Zt=function(i,c){return au(i).put(Vl.key,c)},s.prototype.te=function(i,c){return Md(i).put(jc(this.R,c))},s.prototype.ee=function(i,c){var p=!1;return i.targetId>c.highestTargetId&&(c.highestTargetId=i.targetId,p=!0),i.sequenceNumber>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i.sequenceNumber,p=!0),p},s.prototype.getTargetCount=function(i){return this.Xt(i).next(function(c){return c.targetCount})},s.prototype.getTargetData=function(i,c){var p=gd(c),b=IDBKeyRange.bound([p,Number.NEGATIVE_INFINITY],[p,Number.POSITIVE_INFINITY]),A=null;return Md(i).$t({range:b,index:yl.queryTargetsIndexName},function(S,j,se){var Me=ch(j);Ol(c,Me.target)&&(A=Me,se.done())}).next(function(){return A})},s.prototype.addMatchingKeys=function(i,c,p){var b=this,A=[],S=Dd(i);return c.forEach(function(j){var se=ga(j.path);A.push(S.put(new Ia(p,se))),A.push(b.referenceDelegate.addReference(i,p,j))}),vn.waitFor(A)},s.prototype.removeMatchingKeys=function(i,c,p){var b=this,A=Dd(i);return vn.forEach(c,function(S){var j=ga(S.path);return vn.waitFor([A.delete([p,j]),b.referenceDelegate.removeReference(i,p,S)])})},s.prototype.removeMatchingKeysForTargetId=function(i,c){var p=Dd(i),b=IDBKeyRange.bound([c],[c+1],!1,!0);return p.delete(b)},s.prototype.getMatchingKeysForTargetId=function(i,c){var p=IDBKeyRange.bound([c],[c+1],!1,!0),b=Dd(i),A=gr();return b.$t({range:p,Ft:!0},function(S,j,se){var Me=zl(S[1]),Be=new ai(Me);A=A.add(Be)}).next(function(){return A})},s.prototype.containsKey=function(i,c){var p=ga(c.path),b=IDBKeyRange.bound([p],[nt(p)],!1,!0),A=0;return Dd(i).$t({index:Ia.documentTargetsIndex,Ft:!0,range:b},function(S,j,se){0!==S[0]&&(A++,se.done())}).next(function(){return A>0})},s.prototype.lt=function(i,c){return Md(i).get(c).next(function(p){return p?ch(p):null})},s}();function Md(s){return $s(s,yl.store)}function au(s){return $s(s,Vl.store)}function Dd(s){return $s(s,Ia.store)}function Td(s){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(i){if(s.code!==ae.FAILED_PRECONDITION||s.message!==Pf)throw s;return Qt("LocalStore","Unexpectedly lost primary lease"),[2]})})}function _p(s,i){var p=s[1],A=i[1],S=ce(s[0],i[0]);return 0===S?ce(p,A):S}var Qp=function(){function s(i){this.ne=i,this.buffer=new Qo(_p),this.se=0}return s.prototype.ie=function(){return++this.se},s.prototype.re=function(i){var c=[i,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(c);else{var p=this.buffer.last();_p(c,p)<0&&(this.buffer=this.buffer.delete(p).add(c))}},Object.defineProperty(s.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),s}(),lu=function(){function s(i,c){this.garbageCollector=i,this.asyncQueue=c,this.oe=!1,this.ce=null}return s.prototype.start=function(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(i)},s.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(s.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),s.prototype.ue=function(i){var c=this,p=this.oe?3e5:6e4;Qt("LruGarbageCollector","Garbage collection scheduled in "+p+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",p,function(){return(0,we.mG)(c,void 0,void 0,function(){var b;return(0,we.Jh)(this,function(A){switch(A.label){case 0:this.ce=null,this.oe=!0,A.label=1;case 1:return A.trys.push([1,3,,7]),[4,i.collectGarbage(this.garbageCollector)];case 2:return A.sent(),[3,7];case 3:return ah(b=A.sent())?(Qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",b),[3,6]):[3,4];case 4:return[4,Td(b)];case 5:A.sent(),A.label=6;case 6:return[3,7];case 7:return[4,this.ue(i)];case 8:return A.sent(),[2]}})})})},s}(),Jp=function(){function s(i,c){this.ae=i,this.params=c}return s.prototype.calculateTargetCount=function(i,c){return this.ae.he(i).next(function(p){return Math.floor(c/100*p)})},s.prototype.nthSequenceNumber=function(i,c){var p=this;if(0===c)return vn.resolve(J.o);var b=new Qp(c);return this.ae.forEachTarget(i,function(A){return b.re(A.sequenceNumber)}).next(function(){return p.ae.le(i,function(A){return b.re(A)})}).next(function(){return b.maxValue})},s.prototype.removeTargets=function(i,c,p){return this.ae.removeTargets(i,c,p)},s.prototype.removeOrphanedDocuments=function(i,c){return this.ae.removeOrphanedDocuments(i,c)},s.prototype.collect=function(i,c){var p=this;return-1===this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),vn.resolve(mp)):this.getCacheSize(i).next(function(b){return b<p.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector","Garbage collection skipped; Cache size "+b+" is lower than threshold "+p.params.cacheSizeCollectionThreshold),mp):p.fe(i,c)})},s.prototype.getCacheSize=function(i){return this.ae.getCacheSize(i)},s.prototype.fe=function(i,c){var p,b,A,S,j,se,Me,Be=this,et=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(function(ht){return ht>Be.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+Be.params.maximumSequenceNumbersToCollect+" from "+ht),b=Be.params.maximumSequenceNumbersToCollect):b=ht,S=Date.now(),Be.nthSequenceNumber(i,b)}).next(function(ht){return p=ht,j=Date.now(),Be.removeTargets(i,p,c)}).next(function(ht){return A=ht,se=Date.now(),Be.removeOrphanedDocuments(i,p)}).next(function(ht){return Me=Date.now(),nr()<=At.in.DEBUG&&Qt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(S-et)+"ms\n\tDetermined least recently used "+b+" in "+(j-S)+"ms\n\tRemoved "+A+" targets in "+(se-j)+"ms\n\tRemoved "+ht+" documents in "+(Me-se)+"ms\nTotal Duration: "+(Me-et)+"ms"),vn.resolve({didRun:!0,sequenceNumbersCollected:b,targetsRemoved:A,documentsRemoved:ht})})},s}(),Xp=function(){function s(i,c){this.db=i,this.garbageCollector=new Jp(this,c)}return s.prototype.he=function(i){var c=this.de(i);return this.db.getTargetCache().getTargetCount(i).next(function(p){return c.next(function(b){return p+b})})},s.prototype.de=function(i){var c=0;return this.le(i,function(p){c++}).next(function(){return c})},s.prototype.forEachTarget=function(i,c){return this.db.getTargetCache().forEachTarget(i,c)},s.prototype.le=function(i,c){return this.we(i,function(p,b){return c(b)})},s.prototype.addReference=function(i,c,p){return Wh(i,p)},s.prototype.removeReference=function(i,c,p){return Wh(i,p)},s.prototype.removeTargets=function(i,c,p){return this.db.getTargetCache().removeTargets(i,c,p)},s.prototype.markPotentiallyOrphaned=function(i,c){return Wh(i,c)},s.prototype._e=function(i,c){return b=c,A=!1,Xl(p=i).Ot(function(S){return Yp(p,S,b).next(function(j){return j&&(A=!0),vn.resolve(!j)})}).next(function(){return A});var p,b,A},s.prototype.removeOrphanedDocuments=function(i,c){var p=this,b=this.db.getRemoteDocumentCache().newChangeBuffer(),A=[],S=0;return this.we(i,function(j,se){if(se<=c){var Me=p._e(i,j).next(function(Be){if(!Be)return S++,b.getEntry(i,j).next(function(){return b.removeEntry(j),Dd(i).delete([0,ga(j.path)])})});A.push(Me)}}).next(function(){return vn.waitFor(A)}).next(function(){return b.apply(i)}).next(function(){return S})},s.prototype.removeTarget=function(i,c){var p=c.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,p)},s.prototype.updateLimboDocument=function(i,c){return Wh(i,c)},s.prototype.we=function(i,c){var p,b=Dd(i),A=J.o;return b.$t({index:Ia.documentTargetsIndex},function(S,j){var Me=j.path,Be=j.sequenceNumber;0===S[0]?(A!==J.o&&c(new ai(zl(p)),A),A=Be,p=Me):A=J.o}).next(function(){A!==J.o&&c(new ai(zl(p)),A)})},s.prototype.getCacheSize=function(i){return this.db.getRemoteDocumentCache().getSize(i)},s}();function Wh(s,i){return Dd(s).put((p=s.currentSequenceNumber,new Ia(0,ga(i.path),p)));var p}var Du=function(){function s(i,c){this.mapKeyFn=i,this.equalsFn=c,this.inner={}}return s.prototype.get=function(i){var c=this.mapKeyFn(i),p=this.inner[c];if(void 0!==p)for(var b=0,A=p;b<A.length;b++){var S=A[b],se=S[1];if(this.equalsFn(S[0],i))return se}},s.prototype.has=function(i){return void 0!==this.get(i)},s.prototype.set=function(i,c){var p=this.mapKeyFn(i),b=this.inner[p];if(void 0!==b){for(var A=0;A<b.length;A++)if(this.equalsFn(b[A][0],i))return void(b[A]=[i,c]);b.push([i,c])}else this.inner[p]=[[i,c]]},s.prototype.delete=function(i){var c=this.mapKeyFn(i),p=this.inner[c];if(void 0===p)return!1;for(var b=0;b<p.length;b++)if(this.equalsFn(p[b][0],i))return 1===p.length?delete this.inner[c]:p.splice(b,1),!0;return!1},s.prototype.forEach=function(i){fi(this.inner,function(c,p){for(var b=0,A=p;b<A.length;b++){var S=A[b];i(S[0],S[1])}})},s.prototype.isEmpty=function(){return Yn(this.inner)},s}(),eg=function(){function s(){this.changes=new Du(function(i){return i.toString()},function(i,c){return i.isEqual(c)}),this.changesApplied=!1}return s.prototype.getReadTime=function(i){var c=this.changes.get(i);return c?c.readTime:Pt.min()},s.prototype.addEntry=function(i,c){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:c})},s.prototype.removeEntry=function(i,c){void 0===c&&(c=null),this.assertNotApplied(),this.changes.set(i,{document:xa.newInvalidDocument(i),readTime:c})},s.prototype.getEntry=function(i,c){this.assertNotApplied();var p=this.changes.get(c);return void 0!==p?vn.resolve(p.document):this.getFromCache(i,c)},s.prototype.getEntries=function(i,c){return this.getAllFromCache(i,c)},s.prototype.apply=function(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)},s.prototype.assertNotApplied=function(){},s}(),tg=function(){function s(i,c){this.R=i,this.Ut=c}return s.prototype.addEntry=function(i,c,p){return Uc(i).put(Zh(c),p)},s.prototype.removeEntry=function(i,c){var p=Uc(i),b=Zh(c);return p.delete(b)},s.prototype.updateMetadata=function(i,c){var p=this;return this.getMetadata(i).next(function(b){return b.byteSize+=c,p.me(i,b)})},s.prototype.getEntry=function(i,c){var p=this;return Uc(i).get(Zh(c)).next(function(b){return p.ye(c,b)})},s.prototype.ge=function(i,c){var p=this;return Uc(i).get(Zh(c)).next(function(b){return{document:p.ye(c,b),size:Mu(b)}})},s.prototype.getEntries=function(i,c){var p=this,b=Bl();return this.pe(i,c,function(A,S){var j=p.ye(A,S);b=b.insert(A,j)}).next(function(){return b})},s.prototype.Ee=function(i,c){var p=this,b=Bl(),A=new ps(ai.comparator);return this.pe(i,c,function(S,j){var se=p.ye(S,j);b=b.insert(S,se),A=A.insert(S,Mu(j))}).next(function(){return{documents:b,Te:A}})},s.prototype.pe=function(i,c,p){if(c.isEmpty())return vn.resolve();var b=IDBKeyRange.bound(c.first().path.toArray(),c.last().path.toArray()),A=c.getIterator(),S=A.getNext();return Uc(i).$t({range:b},function(j,se,Me){for(var Be=ai.fromSegments(j);S&&ai.comparator(S,Be)<0;)p(S,null),S=A.getNext();S&&S.isEqual(Be)&&(p(S,se),S=A.hasNext()?A.getNext():null),S?Me.Ct(S.path.toArray()):Me.done()}).next(function(){for(;S;)p(S,null),S=A.hasNext()?A.getNext():null})},s.prototype.getDocumentsMatchingQuery=function(i,c,p){var b=this,A=Bl(),S=c.path.length+1,j={};if(p.isEqual(Pt.min())){var se=c.path.toArray();j.range=IDBKeyRange.lowerBound(se)}else{var Me=c.path.toArray(),Be=ra(p);j.range=IDBKeyRange.lowerBound([Me,Be],!0),j.index=Is.collectionReadTimeIndex}return Uc(i).$t(j,function(et,ht,Rt){if(et.length===S){var Lt=Io(b.R,ht);c.path.isPrefixOf(Lt.key.path)?ac(c,Lt)&&(A=A.insert(Lt.key,Lt)):Rt.done()}}).next(function(){return A})},s.prototype.newChangeBuffer=function(i){return new ng(this,!!i&&i.trackRemovals)},s.prototype.getSize=function(i){return this.getMetadata(i).next(function(c){return c.byteSize})},s.prototype.getMetadata=function(i){return bp(i).get(Wa.key).next(function(c){return U(!!c),c})},s.prototype.me=function(i,c){return bp(i).put(Wa.key,c)},s.prototype.ye=function(i,c){if(c){var p=Io(this.R,c);if(!p.isNoDocument()||!p.version.isEqual(Pt.min()))return p}return xa.newInvalidDocument(i)},s}(),ng=function(s){function i(c,p){var b=this;return(b=s.call(this)||this).Ie=c,b.trackRemovals=p,b.Ae=new Du(function(A){return A.toString()},function(A,S){return A.isEqual(S)}),b}return(0,we.ZT)(i,s),i.prototype.applyChanges=function(c){var p=this,b=[],A=0,S=new Qo(function(j,se){return ce(j.canonicalString(),se.canonicalString())});return this.changes.forEach(function(j,se){var Me=p.Ae.get(j);if(se.document.isValidDocument()){var Be=Oa(p.Ie.R,se.document,p.getReadTime(j));S=S.add(j.path.popLast());var et=Mu(Be);A+=et-Me,b.push(p.Ie.addEntry(c,j,Be))}else if(A-=Me,p.trackRemovals){var ht=Oa(p.Ie.R,xa.newNoDocument(j,Pt.min()),p.getReadTime(j));b.push(p.Ie.addEntry(c,j,ht))}else b.push(p.Ie.removeEntry(c,j))}),S.forEach(function(j){b.push(p.Ie.Ut.addToCollectionParentIndex(c,j))}),b.push(this.Ie.updateMetadata(c,A)),vn.waitFor(b)},i.prototype.getFromCache=function(c,p){var b=this;return this.Ie.ge(c,p).next(function(A){return b.Ae.set(p,A.size),A.document})},i.prototype.getAllFromCache=function(c,p){var b=this;return this.Ie.Ee(c,p).next(function(A){var S=A.documents;return A.Te.forEach(function(j,se){b.Ae.set(j,se)}),S})},i}(eg);function bp(s){return $s(s,Wa.store)}function Uc(s){return $s(s,Is.store)}function Zh(s){return s.path.toArray()}var Of=function(){function s(i){this.R=i}return s.prototype.Rt=function(i,c,p,b){var A=this;U(p<b&&p>=0&&b<=11);var se,S=new Ti("createOrUpgrade",c);p<1&&b>=1&&(i.createObjectStore(fc.store),(se=i).createObjectStore(Fc.store,{keyPath:Fc.keyPath}),se.createObjectStore(zo.store,{keyPath:zo.keyPath,autoIncrement:!0}).createIndex(zo.userMutationsIndex,zo.userMutationsKeyPath,{unique:!0}),se.createObjectStore(el.store),Nf(i),function(se){se.createObjectStore(Is.store)}(i));var j=vn.resolve();return p<3&&b>=3&&(0!==p&&(function(se){se.deleteObjectStore(Ia.store),se.deleteObjectStore(yl.store),se.deleteObjectStore(Vl.store)}(i),Nf(i)),j=j.next(function(){return function(se){var Me=se.store(Vl.store),Be=new Vl(0,0,Pt.min().toTimestamp(),0);return Me.put(Vl.key,Be)}(S)})),p<4&&b>=4&&(0!==p&&(j=j.next(function(){return function(se,Me){return Me.store(zo.store).Nt().next(function(Be){se.deleteObjectStore(zo.store),se.createObjectStore(zo.store,{keyPath:zo.keyPath,autoIncrement:!0}).createIndex(zo.userMutationsIndex,zo.userMutationsKeyPath,{unique:!0});var et=Me.store(zo.store),ht=Be.map(function(Rt){return et.put(Rt)});return vn.waitFor(ht)})}(i,S)})),j=j.next(function(){!function(se){se.createObjectStore(Ju.store,{keyPath:Ju.keyPath})}(i)})),p<5&&b>=5&&(j=j.next(function(){return A.Re(S)})),p<6&&b>=6&&(j=j.next(function(){return function(se){se.createObjectStore(Wa.store)}(i),A.be(S)})),p<7&&b>=7&&(j=j.next(function(){return A.ve(S)})),p<8&&b>=8&&(j=j.next(function(){return A.Pe(i,S)})),p<9&&b>=9&&(j=j.next(function(){(function(se){se.objectStoreNames.contains("remoteDocumentChanges")&&se.deleteObjectStore("remoteDocumentChanges")})(i),function(se){var Me=se.objectStore(Is.store);Me.createIndex(Is.readTimeIndex,Is.readTimeIndexPath,{unique:!1}),Me.createIndex(Is.collectionReadTimeIndex,Is.collectionReadTimeIndexPath,{unique:!1})}(c)})),p<10&&b>=10&&(j=j.next(function(){return A.Ve(S)})),p<11&&b>=11&&(j=j.next(function(){(function(se){se.createObjectStore(qh.store,{keyPath:qh.keyPath})})(i),function(se){se.createObjectStore(tl.store,{keyPath:tl.keyPath})}(i)})),j},s.prototype.be=function(i){var c=0;return i.store(Is.store).$t(function(p,b){c+=Mu(b)}).next(function(){var p=new Wa(c);return i.store(Wa.store).put(Wa.key,p)})},s.prototype.Re=function(i){var c=this,p=i.store(Fc.store),b=i.store(zo.store);return p.Nt().next(function(A){return vn.forEach(A,function(S){var j=IDBKeyRange.bound([S.userId,-1],[S.userId,S.lastAcknowledgedBatchId]);return b.Nt(zo.userMutationsIndex,j).next(function(se){return vn.forEach(se,function(Me){U(Me.userId===S.userId);var Be=lh(c.R,Me);return $h(i,S.userId,Be).next(function(){})})})})})},s.prototype.ve=function(i){var c=i.store(Ia.store),p=i.store(Is.store);return i.store(Vl.store).get(Vl.key).next(function(b){var A=[];return p.$t(function(S,j){var se=new On(S),Me=[0,ga(se)];A.push(c.get(Me).next(function(Be){return Be?vn.resolve():c.put(new Ia(0,ga(se),b.highestListenSequenceNumber))}))}).next(function(){return vn.waitFor(A)})})},s.prototype.Pe=function(i,c){i.createObjectStore(kd.store,{keyPath:kd.keyPath});var p=c.store(kd.store),b=new om,A=function(S){if(b.add(S)){var j=S.lastSegment(),se=S.popLast();return p.put({collectionId:j,parent:ga(se)})}};return c.store(Is.store).$t({Ft:!0},function(S,j){var se=new On(S);return A(se.popLast())}).next(function(){return c.store(el.store).$t({Ft:!0},function(S,j){var Me=zl(S[1]);return A(Me.popLast())})})},s.prototype.Ve=function(i){var c=this,p=i.store(yl.store);return p.$t(function(b,A){var S=ch(A),j=jc(c.R,S);return p.put(j)})},s}();function Nf(s){s.createObjectStore(Ia.store,{keyPath:Ia.keyPath}).createIndex(Ia.documentTargetsIndex,Ia.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(yl.store,{keyPath:yl.keyPath}).createIndex(yl.queryTargetsIndexName,yl.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Vl.store)}var Kh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Rf=function(){function s(i,c,p,b,A,S,j,se,Me,Be){if(this.allowTabSynchronization=i,this.persistenceKey=c,this.clientId=p,this.Se=A,this.window=S,this.document=j,this.De=Me,this.Ce=Be,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(et){return Promise.resolve()},!s.yt())throw new qe(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xp(this,b),this.Le=c+"main",this.R=new ou(se),this.Be=new Xu(this.Le,11,new Of(this.R)),this.qe=new Vc(this.referenceDelegate,this.R),this.Ut=new Ed,this.Ue=new tg(this.R,this.Ut),this.Ke=new pp,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===Be&&Dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return s.prototype.start=function(){var i=this;return this.je().then(function(){if(!i.isPrimary&&!i.allowTabSynchronization)throw new qe(ae.FAILED_PRECONDITION,Kh);return i.We(),i.Ge(),i.ze(),i.runTransaction("getHighestListenSequenceNumber","readonly",function(c){return i.qe.getHighestSequenceNumber(c)})}).then(function(c){i.Ne=new J(c,i.De)}).then(function(){i.xe=!0}).catch(function(c){return i.Be&&i.Be.close(),Promise.reject(c)})},s.prototype.He=function(i){var c=this;return this.Me=function(p){return(0,we.mG)(c,void 0,void 0,function(){return(0,we.Jh)(this,function(b){return this.started?[2,i(p)]:[2]})})},i(this.isPrimary)},s.prototype.setDatabaseDeletedListener=function(i){var c=this;this.Be.vt(function(p){return(0,we.mG)(c,void 0,void 0,function(){return(0,we.Jh)(this,function(b){switch(b.label){case 0:return null===p.newVersion?[4,i()]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})})})},s.prototype.setNetworkEnabled=function(i){var c=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Se.enqueueAndForget(function(){return(0,we.mG)(c,void 0,void 0,function(){return(0,we.Jh)(this,function(p){switch(p.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})}))},s.prototype.je=function(){var i=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(c){return dh(c).put(new Ju(i.clientId,Date.now(),i.networkEnabled,i.inForeground)).next(function(){if(i.isPrimary)return i.Je(c).next(function(p){p||(i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}))})}).next(function(){return i.Ye(c)}).next(function(p){return i.isPrimary&&!p?i.Xe(c).next(function(){return!1}):!!p&&i.Ze(c).next(function(){return!0})})}).catch(function(c){if(ah(c))return Qt("IndexedDbPersistence","Failed to extend owner lease: ",c),i.isPrimary;if(!i.allowTabSynchronization)throw c;return Qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",c),!1}).then(function(c){i.isPrimary!==c&&i.Se.enqueueRetryable(function(){return i.Me(c)}),i.isPrimary=c})},s.prototype.Je=function(i){var c=this;return Sd(i).get(fc.key).next(function(p){return vn.resolve(c.tn(p))})},s.prototype.en=function(i){return dh(i).delete(this.clientId)},s.prototype.nn=function(){return(0,we.mG)(this,void 0,void 0,function(){var i,c,p,A=this;return(0,we.Jh)(this,function(S){switch(S.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(j){var se=$s(j,Ju.store);return se.Nt().next(function(Me){var Be=A.rn(Me,18e5),et=Me.filter(function(ht){return-1===Be.indexOf(ht)});return vn.forEach(et,function(ht){return se.delete(ht.clientId)}).next(function(){return et})})}).catch(function(){return[]})]);case 1:if(i=S.sent(),this.Qe)for(c=0,p=i;c<p.length;c++)this.Qe.removeItem(this.on(p[c].clientId));S.label=2;case 2:return[2]}})})},s.prototype.ze=function(){var i=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return i.je().then(function(){return i.nn()}).then(function(){return i.ze()})})},s.prototype.tn=function(i){return!!i&&i.ownerId===this.clientId},s.prototype.Ye=function(i){var c=this;return this.Ce?vn.resolve(!0):Sd(i).get(fc.key).next(function(p){if(null!==p&&c.sn(p.leaseTimestampMs,5e3)&&!c.cn(p.ownerId)){if(c.tn(p)&&c.networkEnabled)return!0;if(!c.tn(p)){if(!p.allowTabSynchronization)throw new qe(ae.FAILED_PRECONDITION,Kh);return!1}}return!(!c.networkEnabled||!c.inForeground)||dh(i).Nt().next(function(b){return void 0===c.rn(b,5e3).find(function(A){return!(c.clientId===A.clientId||!(!c.networkEnabled&&A.networkEnabled||!c.inForeground&&A.inForeground&&c.networkEnabled===A.networkEnabled))})})}).next(function(p){return c.isPrimary!==p&&Qt("IndexedDbPersistence","Client "+(p?"is":"is not")+" eligible for a primary lease."),p})},s.prototype.shutdown=function(){return(0,we.mG)(this,void 0,void 0,function(){var i=this;return(0,we.Jh)(this,function(c){switch(c.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[fc.store,Ju.store],function(p){var b=new rm(p,J.o);return i.Xe(b).next(function(){return i.en(b)})})];case 1:return c.sent(),this.Be.close(),this.ln(),[2]}})})},s.prototype.rn=function(i,c){var p=this;return i.filter(function(b){return p.sn(b.updateTimeMs,c)&&!p.cn(b.clientId)})},s.prototype.fn=function(){var i=this;return this.runTransaction("getActiveClients","readonly",function(c){return dh(c).Nt().next(function(p){return i.rn(p,18e5).map(function(b){return b.clientId})})})},Object.defineProperty(s.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),s.prototype.getMutationQueue=function(i){return pc.Qt(i,this.R,this.Ut,this.referenceDelegate)},s.prototype.getTargetCache=function(){return this.qe},s.prototype.getRemoteDocumentCache=function(){return this.Ue},s.prototype.getIndexManager=function(){return this.Ut},s.prototype.getBundleCache=function(){return this.Ke},s.prototype.runTransaction=function(i,c,p){var A,b=this;return Qt("IndexedDbPersistence","Starting transaction:",i),this.Be.runTransaction(i,"readonly"===c?"readonly":"readwrite",Gh,function(j){return A=new rm(j,b.Ne?b.Ne.next():J.o),"readwrite-primary"===c?b.Je(A).next(function(se){return!!se||b.Ye(A)}).next(function(se){if(!se)throw Dr("Failed to obtain primary lease for action '"+i+"'."),b.isPrimary=!1,b.Se.enqueueRetryable(function(){return b.Me(!1)}),new qe(ae.FAILED_PRECONDITION,Pf);return p(A)}).next(function(se){return b.Ze(A).next(function(){return se})}):b.dn(A).next(function(){return p(A)})}).then(function(j){return A.raiseOnCommittedEvent(),j})},s.prototype.dn=function(i){var c=this;return Sd(i).get(fc.key).next(function(p){if(null!==p&&c.sn(p.leaseTimestampMs,5e3)&&!c.cn(p.ownerId)&&!c.tn(p)&&!(c.Ce||c.allowTabSynchronization&&p.allowTabSynchronization))throw new qe(ae.FAILED_PRECONDITION,Kh)})},s.prototype.Ze=function(i){var c=new fc(this.clientId,this.allowTabSynchronization,Date.now());return Sd(i).put(fc.key,c)},s.yt=function(){return Xu.yt()},s.prototype.Xe=function(i){var c=this,p=Sd(i);return p.get(fc.key).next(function(b){return c.tn(b)?(Qt("IndexedDbPersistence","Releasing primary lease."),p.delete(fc.key)):vn.resolve()})},s.prototype.sn=function(i,c){var p=Date.now();return!(i<p-c||i>p&&(Dr("Detected an update time that is in the future: "+i+" > "+p),1))},s.prototype.We=function(){var i=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){i.Se.enqueueAndForget(function(){return i.inForeground="visible"===i.document.visibilityState,i.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},s.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},s.prototype.Ge=function(){var i,c=this;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.ke=function(){c.un(),(0,Ne.G6)()&&navigator.appVersion.match("Version/14")&&c.Se.enterRestrictedMode(!0),c.Se.enqueueAndForget(function(){return c.shutdown()})},this.window.addEventListener("pagehide",this.ke))},s.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},s.prototype.cn=function(i){var c;try{var p=null!==(null===(c=this.Qe)||void 0===c?void 0:c.getItem(this.on(i)));return Qt("IndexedDbPersistence","Client '"+i+"' "+(p?"is":"is not")+" zombied in LocalStorage"),p}catch(b){return Dr("IndexedDbPersistence","Failed to get zombied client id.",b),!1}},s.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(i){Dr("Failed to set zombie client id.",i)}},s.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(i){}},s.prototype.on=function(i){return"firestore_zombie_"+this.persistenceKey+"_"+i},s}();function Sd(s){return $s(s,fc.store)}function dh(s){return $s(s,Ju.store)}function Id(s,i){var c=s.projectId;return s.isDefaultDatabase||(c+="."+s.database),"firestore/"+i+"/"+c+"/"}var sm=function(s,i){this.progress=s,this.wn=i},ig=function(){function s(i,c,p){this.Ue=i,this._n=c,this.Ut=p}return s.prototype.mn=function(i,c){var p=this;return this._n.getAllMutationBatchesAffectingDocumentKey(i,c).next(function(b){return p.yn(i,c,b)})},s.prototype.yn=function(i,c,p){return this.Ue.getEntry(i,c).next(function(b){for(var A=0,S=p;A<S.length;A++)S[A].applyToLocalView(b);return b})},s.prototype.gn=function(i,c){i.forEach(function(p,b){for(var A=0,S=c;A<S.length;A++)S[A].applyToLocalView(b)})},s.prototype.pn=function(i,c){var p=this;return this.Ue.getEntries(i,c).next(function(b){return p.En(i,b).next(function(){return b})})},s.prototype.En=function(i,c){var p=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(i,c).next(function(b){return p.gn(c,b)})},s.prototype.getDocumentsMatchingQuery=function(i,c,p){return ai.isDocumentKey((b=c).path)&&null===b.collectionGroup&&0===b.filters.length?this.Tn(i,c.path):Ja(c)?this.In(i,c,p):this.An(i,c,p);var b},s.prototype.Tn=function(i,c){return this.mn(i,new ai(c)).next(function(p){var b=Yu();return p.isFoundDocument()&&(b=b.insert(p.key,p)),b})},s.prototype.In=function(i,c,p){var b=this,A=c.collectionGroup,S=Yu();return this.Ut.getCollectionParents(i,A).next(function(j){return vn.forEach(j,function(se){var Be,et,Me=(Be=c,et=se.child(A),new Nl(et,null,Be.explicitOrderBy.slice(),Be.filters.slice(),Be.limit,Be.limitType,Be.startAt,Be.endAt));return b.An(i,Me,p).next(function(Be){Be.forEach(function(et,ht){S=S.insert(et,ht)})})}).next(function(){return S})})},s.prototype.An=function(i,c,p){var b,A,S=this;return this.Ue.getDocumentsMatchingQuery(i,c,p).next(function(j){return b=j,S._n.getAllMutationBatchesAffectingQuery(i,c)}).next(function(j){return S.Rn(i,A=j,b).next(function(se){b=se;for(var Me=0,Be=A;Me<Be.length;Me++)for(var et=Be[Me],ht=0,Rt=et.mutations;ht<Rt.length;ht++){var Lt=Rt[ht],Gt=Lt.key,Cn=b.get(Gt);null==Cn&&(Cn=xa.newInvalidDocument(Gt),b=b.insert(Gt,Cn)),bd(Lt,Cn,et.localWriteTime),Cn.isFoundDocument()||(b=b.remove(Gt))}})}).next(function(){return b.forEach(function(j,se){ac(c,se)||(b=b.remove(j))}),b})},s.prototype.Rn=function(i,c,p){for(var b=gr(),A=0,S=c;A<S.length;A++)for(var j=0,se=S[A].mutations;j<se.length;j++){var Me=se[j];Me instanceof Kl&&null===p.get(Me.key)&&(b=b.add(Me.key))}var Be=p;return this.Ue.getEntries(i,b).next(function(et){return et.forEach(function(ht,Rt){Rt.isFoundDocument()&&(Be=Be.insert(ht,Rt))}),Be})},s}(),wl=function(){function s(i,c,p,b){this.targetId=i,this.fromCache=c,this.bn=p,this.vn=b}return s.Pn=function(i,c){for(var p=gr(),b=gr(),A=0,S=c.docChanges;A<S.length;A++){var j=S[A];switch(j.type){case 0:p=p.add(j.doc.key);break;case 1:b=b.add(j.doc.key)}}return new s(i,c.fromCache,p,b)},s}(),Ff=function(){function s(){}return s.prototype.Vn=function(i){this.Sn=i},s.prototype.getDocumentsMatchingQuery=function(i,c,p,b){var S,A=this;return 0===(S=c).filters.length&&null===S.limit&&null==S.startAt&&null==S.endAt&&(0===S.explicitOrderBy.length||1===S.explicitOrderBy.length&&S.explicitOrderBy[0].field.isKeyField())||p.isEqual(Pt.min())?this.Dn(i,c):this.Sn.pn(i,b).next(function(S){var j=A.Cn(c,S);return(Rh(c)||eh(c))&&A.Nn(c.limitType,j,b,p)?A.Dn(i,c):(nr()<=At.in.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),Gs(c)),A.Sn.getDocumentsMatchingQuery(i,c,p).next(function(se){return j.forEach(function(Me){se=se.insert(Me.key,Me)}),se}))})},s.prototype.Cn=function(i,c){var p=new Qo(Fh(i));return c.forEach(function(b,A){ac(i,A)&&(p=p.add(A))}),p},s.prototype.Nn=function(i,c,p,b){if(p.size!==c.size)return!0;var A="F"===i?c.last():c.first();return!!A&&(A.hasPendingWrites||A.version.compareTo(b)>0)},s.prototype.Dn=function(i,c){return nr()<=At.in.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",Gs(c)),this.Sn.getDocumentsMatchingQuery(i,c,Pt.min())},s}(),am=function(){function s(i,c,p,b){this.persistence=i,this.xn=c,this.R=b,this.kn=new ps(ce),this.Fn=new Du(function(A){return gd(A)},Ol),this.$n=Pt.min(),this._n=i.getMutationQueue(p),this.On=i.getRemoteDocumentCache(),this.qe=i.getTargetCache(),this.Mn=new ig(this.On,this._n,this.persistence.getIndexManager()),this.Ke=i.getBundleCache(),this.xn.Vn(this.Mn)}return s.prototype.collectGarbage=function(i){var c=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(p){return i.collect(p,c.kn)})},s}();function vp(s,i,c,p){return new am(s,i,c,p)}function Tu(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,p,b,A;return(0,we.Jh)(this,function(S){switch(S.label){case 0:return c=F(s),p=c._n,b=c.Mn,[4,c.persistence.runTransaction("Handle user change","readonly",function(j){var se;return c._n.getAllMutationBatches(j).next(function(Me){return se=Me,p=c.persistence.getMutationQueue(i),b=new ig(c.On,p,c.persistence.getIndexManager()),p.getAllMutationBatches(j)}).next(function(Me){for(var Be=[],et=[],ht=gr(),Rt=0,Lt=se;Rt<Lt.length;Rt++){var Gt=Lt[Rt];Be.push(Gt.batchId);for(var Cn=0,Rn=Gt.mutations;Cn<Rn.length;Cn++)ht=ht.add(Rn[Cn].key)}for(var Si=0,Tr=Me;Si<Tr.length;Si++){var bo=Tr[Si];et.push(bo.batchId);for(var ms=0,al=bo.mutations;ms<al.length;ms++)ht=ht.add(al[ms].key)}return b.pn(j,ht).next(function(ip){return{Ln:ip,removedBatchIds:Be,addedBatchIds:et}})})})];case 1:return A=S.sent(),[2,(c._n=p,c.Mn=b,c.xn.Vn(c.Mn),A)]}})})}function D_(s,i){var c=F(s);return c.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(p){var S,j,se,Me,Be,et,ht,b=i.batch.keys(),A=c.On.newChangeBuffer({trackRemovals:!0});return(S=c,j=p,se=i,Me=A,Be=se.batch,et=Be.keys(),ht=vn.resolve(),et.forEach(function(Rt){ht=ht.next(function(){return Me.getEntry(j,Rt)}).next(function(Lt){var Gt=se.docVersions.get(Rt);U(null!==Gt),Lt.version.compareTo(Gt)<0&&(Be.applyToRemoteDocument(Lt,se),Lt.isValidDocument()&&Me.addEntry(Lt,se.commitVersion))})}),ht.next(function(){return S._n.removeMutationBatch(j,Be)})).next(function(){return A.apply(p)}).next(function(){return c._n.performConsistencyCheck(p)}).next(function(){return c.Mn.pn(p,b)})})}function rg(s){var i=F(s);return i.persistence.runTransaction("Get last remote snapshot version","readonly",function(c){return i.qe.getLastRemoteSnapshotVersion(c)})}function Gm(s,i){var c=F(s),p=i.snapshotVersion,b=c.kn;return c.persistence.runTransaction("Apply remote event","readwrite-primary",function(A){var S=c.On.newChangeBuffer({trackRemovals:!0});b=c.kn;var j=[];i.targetChanges.forEach(function(Be,et){var Gt,Cn,Rn,ht=b.get(et);if(ht){j.push(c.qe.removeMatchingKeys(A,Be.removedDocuments,et).next(function(){return c.qe.addMatchingKeys(A,Be.addedDocuments,et)}));var Rt=Be.resumeToken;if(Rt.approximateByteSize()>0){var Lt=ht.withResumeToken(Rt,p).withSequenceNumber(A.currentSequenceNumber);b=b.insert(et,Lt),Gt=ht,Rn=Be,U((Cn=Lt).resumeToken.approximateByteSize()>0),(0===Gt.resumeToken.approximateByteSize()||Cn.snapshotVersion.toMicroseconds()-Gt.snapshotVersion.toMicroseconds()>=3e8||Rn.addedDocuments.size+Rn.modifiedDocuments.size+Rn.removedDocuments.size>0)&&j.push(c.qe.updateTargetData(A,Lt))}}});var se=Bl();if(i.documentUpdates.forEach(function(Be,et){i.resolvedLimboDocuments.has(Be)&&j.push(c.persistence.referenceDelegate.updateLimboDocument(A,Be))}),j.push(og(A,S,i.documentUpdates,p,void 0).next(function(Be){se=Be})),!p.isEqual(Pt.min())){var Me=c.qe.getLastRemoteSnapshotVersion(A).next(function(Be){return c.qe.setTargetsMetadata(A,A.currentSequenceNumber,p)});j.push(Me)}return vn.waitFor(j).next(function(){return S.apply(A)}).next(function(){return c.Mn.En(A,se)}).next(function(){return se})}).then(function(A){return c.kn=b,A})}function og(s,i,c,p,b){var A=gr();return c.forEach(function(S){return A=A.add(S)}),i.getEntries(s,A).next(function(S){var j=Bl();return c.forEach(function(se,Me){var Be=S.get(se),et=(null==b?void 0:b.get(se))||p;Me.isNoDocument()&&Me.version.isEqual(Pt.min())?(i.removeEntry(se,et),j=j.insert(se,Me)):!Be.isValidDocument()||Me.version.compareTo(Be.version)>0||0===Me.version.compareTo(Be.version)&&Be.hasPendingWrites?(i.addEntry(Me,et),j=j.insert(se,Me)):Qt("LocalStore","Ignoring outdated watch update for ",se,". Current version:",Be.version," Watch version:",Me.version)}),j})}function sg(s,i){var c=F(s);return c.persistence.runTransaction("Get next mutation batch","readonly",function(p){return void 0===i&&(i=-1),c._n.getNextMutationBatchAfterBatchId(p,i)})}function Yh(s,i){var c=F(s);return c.persistence.runTransaction("Allocate target","readwrite",function(p){var b;return c.qe.getTargetData(p,i).next(function(A){return A?vn.resolve(b=A):c.qe.allocateTargetId(p).next(function(S){return b=new Er(i,S,0,p.currentSequenceNumber),c.qe.addTargetData(p,b).next(function(){return b})})})}).then(function(p){var b=c.kn.get(p.targetId);return(null===b||p.snapshotVersion.compareTo(b.snapshotVersion)>0)&&(c.kn=c.kn.insert(p.targetId,p),c.Fn.set(i,p.targetId)),p})}function Cl(s,i,c){return(0,we.mG)(this,void 0,void 0,function(){var p,b,A,S;return(0,we.Jh)(this,function(j){switch(j.label){case 0:p=F(s),b=p.kn.get(i),A=c?"readwrite":"readwrite-primary",j.label=1;case 1:return j.trys.push([1,4,,5]),c?[3,3]:[4,p.persistence.runTransaction("Release target",A,function(se){return p.persistence.referenceDelegate.removeTarget(se,b)})];case 2:j.sent(),j.label=3;case 3:return[3,5];case 4:if(!ah(S=j.sent()))throw S;return Qt("LocalStore","Failed to update sequence numbers for target "+i+": "+S),[3,5];case 5:return p.kn=p.kn.remove(i),p.Fn.delete(b.target),[2]}})})}function yp(s,i,c){var p=F(s),b=Pt.min(),A=gr();return p.persistence.runTransaction("Execute query","readonly",function(S){return(j=p,se=S,Me=Ea(i),Be=F(j),et=Be.Fn.get(Me),void 0!==et?vn.resolve(Be.kn.get(et)):Be.qe.getTargetData(se,Me)).next(function(j){if(j)return b=j.lastLimboFreeSnapshotVersion,p.qe.getMatchingKeysForTargetId(S,j.targetId).next(function(se){A=se})}).next(function(){return p.xn.getDocumentsMatchingQuery(S,i,c?b:Pt.min(),c?A:gr())}).next(function(j){return{documents:j,Bn:A}});var j,se,Me,Be,et})}function ag(s,i){var c=F(s),p=F(c.qe),b=c.kn.get(i);return b?Promise.resolve(b.target):c.persistence.runTransaction("Get target data","readonly",function(A){return p.lt(A,i).next(function(S){return S?S.target:null})})}function Pd(s){var i=F(s);return i.persistence.runTransaction("Get new document changes","readonly",function(c){return b=c,A=i.$n,S=F(i.On),j=Bl(),se=ra(A),Me=Uc(b),Be=IDBKeyRange.lowerBound(se,!0),Me.$t({index:Is.readTimeIndex,range:Be},function(et,ht){var Rt=Io(S.R,ht);j=j.insert(Rt.key,Rt),se=ht.readTime}).next(function(){return{wn:j,readTime:sn(se)}});var b,A,S,j,se,Me,Be}).then(function(c){var p=c.wn;return i.$n=c.readTime,p})}function $m(s){return(0,we.mG)(this,void 0,void 0,function(){var i;return(0,we.Jh)(this,function(c){return[2,(i=F(s)).persistence.runTransaction("Synchronize last document change read time","readonly",function(p){return A=Uc(p),S=Pt.min(),A.$t({index:Is.readTimeIndex,reverse:!0},function(j,se,Me){se.readTime&&(S=sn(se.readTime)),Me.done()}).next(function(){return S});var A,S}).then(function(p){i.$n=p})]})})}function Wm(s,i,c,p){return(0,we.mG)(this,void 0,void 0,function(){var b,A,S,j,se,Me,Be,et,ht,Rt;return(0,we.Jh)(this,function(Lt){switch(Lt.label){case 0:for(b=F(s),A=gr(),S=Bl(),j=rh(),se=0,Me=c;se<Me.length;se++)et=i.qn((Be=Me[se]).metadata.name),Be.document&&(A=A.add(et)),S=S.insert(et,i.Un(Be)),j=j.insert(et,i.Kn(Be.metadata.readTime));return ht=b.On.newChangeBuffer({trackRemovals:!0}),[4,Yh(b,(Gt=p,Ea(pa(On.fromString("__bundle__/docs/"+Gt)))))];case 1:return Rt=Lt.sent(),[2,b.persistence.runTransaction("Apply bundle documents","readwrite",function(Gt){return og(Gt,ht,S,Pt.min(),j).next(function(Cn){return ht.apply(Gt),Cn}).next(function(Cn){return b.qe.removeMatchingKeysForTargetId(Gt,Rt.targetId).next(function(){return b.qe.addMatchingKeys(Gt,A,Rt.targetId)}).next(function(){return b.Mn.En(Gt,Cn)}).next(function(){return Cn})})})]}var Gt})})}function lm(s,i,c){return void 0===c&&(c=gr()),(0,we.mG)(this,void 0,void 0,function(){var p,b;return(0,we.Jh)(this,function(A){switch(A.label){case 0:return[4,Yh(s,Ea(Ut(i.bundledQuery)))];case 1:return p=A.sent(),[2,(b=F(s)).persistence.runTransaction("Save named query","readwrite",function(S){var j=jo(i.readTime);if(p.snapshotVersion.compareTo(j)>=0)return b.Ke.saveNamedQuery(S,i);var se=p.withResumeToken(to.EMPTY_BYTE_STRING,j);return b.kn=b.kn.insert(se.targetId,se),b.qe.updateTargetData(S,se).next(function(){return b.qe.removeMatchingKeysForTargetId(S,p.targetId)}).next(function(){return b.qe.addMatchingKeys(S,c,p.targetId)}).next(function(){return b.Ke.saveNamedQuery(S,i)})})]}})})}var cm=function(){function s(i){this.R=i,this.Qn=new Map,this.jn=new Map}return s.prototype.getBundleMetadata=function(i,c){return vn.resolve(this.Qn.get(c))},s.prototype.saveBundleMetadata=function(i,c){var p;return this.Qn.set(c.id,{id:(p=c).id,version:p.version,createTime:jo(p.createTime)}),vn.resolve()},s.prototype.getNamedQuery=function(i,c){return vn.resolve(this.jn.get(c))},s.prototype.saveNamedQuery=function(i,c){return this.jn.set(c.name,{name:(p=c).name,query:Ut(p.bundledQuery),readTime:jo(p.readTime)}),vn.resolve();var p},s}(),lg=function(){function s(){this.Wn=new Qo(Za.Gn),this.zn=new Qo(Za.Hn)}return s.prototype.isEmpty=function(){return this.Wn.isEmpty()},s.prototype.addReference=function(i,c){var p=new Za(i,c);this.Wn=this.Wn.add(p),this.zn=this.zn.add(p)},s.prototype.Jn=function(i,c){var p=this;i.forEach(function(b){return p.addReference(b,c)})},s.prototype.removeReference=function(i,c){this.Yn(new Za(i,c))},s.prototype.Xn=function(i,c){var p=this;i.forEach(function(b){return p.removeReference(b,c)})},s.prototype.Zn=function(i){var c=this,p=new ai(new On([])),b=new Za(p,i),A=new Za(p,i+1),S=[];return this.zn.forEachInRange([b,A],function(j){c.Yn(j),S.push(j.key)}),S},s.prototype.ts=function(){var i=this;this.Wn.forEach(function(c){return i.Yn(c)})},s.prototype.Yn=function(i){this.Wn=this.Wn.delete(i),this.zn=this.zn.delete(i)},s.prototype.es=function(i){var c=new ai(new On([])),p=new Za(c,i),b=new Za(c,i+1),A=gr();return this.zn.forEachInRange([p,b],function(S){A=A.add(S.key)}),A},s.prototype.containsKey=function(i){var c=new Za(i,0),p=this.Wn.firstAfterOrEqual(c);return null!==p&&i.isEqual(p.key)},s}(),Za=function(){function s(i,c){this.key=i,this.ns=c}return s.Gn=function(i,c){return ai.comparator(i.key,c.key)||ce(i.ns,c.ns)},s.Hn=function(i,c){return ce(i.ns,c.ns)||ai.comparator(i.key,c.key)},s}(),Zm=function(){function s(i,c){this.Ut=i,this.referenceDelegate=c,this._n=[],this.ss=1,this.rs=new Qo(Za.Gn)}return s.prototype.checkEmpty=function(i){return vn.resolve(0===this._n.length)},s.prototype.addMutationBatch=function(i,c,p,b){var A=this.ss;this.ss++;var S=new Eu(A,c,p,b);this._n.push(S);for(var j=0,se=b;j<se.length;j++){var Me=se[j];this.rs=this.rs.add(new Za(Me.key,A)),this.Ut.addToCollectionParentIndex(i,Me.key.path.popLast())}return vn.resolve(S)},s.prototype.lookupMutationBatch=function(i,c){return vn.resolve(this.os(c))},s.prototype.getNextMutationBatchAfterBatchId=function(i,c){var b=this.cs(c+1),A=b<0?0:b;return vn.resolve(this._n.length>A?this._n[A]:null)},s.prototype.getHighestUnacknowledgedBatchId=function(){return vn.resolve(0===this._n.length?-1:this.ss-1)},s.prototype.getAllMutationBatches=function(i){return vn.resolve(this._n.slice())},s.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,c){var p=this,b=new Za(c,0),A=new Za(c,Number.POSITIVE_INFINITY),S=[];return this.rs.forEachInRange([b,A],function(j){var se=p.os(j.ns);S.push(se)}),vn.resolve(S)},s.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,c){var p=this,b=new Qo(ce);return c.forEach(function(A){var S=new Za(A,0),j=new Za(A,Number.POSITIVE_INFINITY);p.rs.forEachInRange([S,j],function(se){b=b.add(se.ns)})}),vn.resolve(this.us(b))},s.prototype.getAllMutationBatchesAffectingQuery=function(i,c){var p=c.path,b=p.length+1,A=p;ai.isDocumentKey(A)||(A=A.child(""));var S=new Za(new ai(A),0),j=new Qo(ce);return this.rs.forEachWhile(function(se){var Me=se.key.path;return!!p.isPrefixOf(Me)&&(Me.length===b&&(j=j.add(se.ns)),!0)},S),vn.resolve(this.us(j))},s.prototype.us=function(i){var c=this,p=[];return i.forEach(function(b){var A=c.os(b);null!==A&&p.push(A)}),p},s.prototype.removeMutationBatch=function(i,c){var p=this;U(0===this.hs(c.batchId,"removed")),this._n.shift();var b=this.rs;return vn.forEach(c.mutations,function(A){var S=new Za(A.key,c.batchId);return b=b.delete(S),p.referenceDelegate.markPotentiallyOrphaned(i,A.key)}).next(function(){p.rs=b})},s.prototype.Gt=function(i){},s.prototype.containsKey=function(i,c){var p=new Za(c,0),b=this.rs.firstAfterOrEqual(p);return vn.resolve(c.isEqual(b&&b.key))},s.prototype.performConsistencyCheck=function(i){return vn.resolve()},s.prototype.hs=function(i,c){return this.cs(i)},s.prototype.cs=function(i){return 0===this._n.length?0:i-this._n[0].batchId},s.prototype.os=function(i){var c=this.cs(i);return c<0||c>=this._n.length?null:this._n[c]},s}(),ur=function(){function s(i,c){this.Ut=i,this.ls=c,this.docs=new ps(ai.comparator),this.size=0}return s.prototype.addEntry=function(i,c,p){var b=c.key,A=this.docs.get(b),S=A?A.size:0,j=this.ls(c);return this.docs=this.docs.insert(b,{document:c.clone(),size:j,readTime:p}),this.size+=j-S,this.Ut.addToCollectionParentIndex(i,b.path.popLast())},s.prototype.removeEntry=function(i){var c=this.docs.get(i);c&&(this.docs=this.docs.remove(i),this.size-=c.size)},s.prototype.getEntry=function(i,c){var p=this.docs.get(c);return vn.resolve(p?p.document.clone():xa.newInvalidDocument(c))},s.prototype.getEntries=function(i,c){var p=this,b=Bl();return c.forEach(function(A){var S=p.docs.get(A);b=b.insert(A,S?S.document.clone():xa.newInvalidDocument(A))}),vn.resolve(b)},s.prototype.getDocumentsMatchingQuery=function(i,c,p){for(var b=Bl(),A=new ai(c.path.child("")),S=this.docs.getIteratorFrom(A);S.hasNext();){var j=S.getNext(),Me=j.value,Be=Me.document,et=Me.readTime;if(!c.path.isPrefixOf(j.key.path))break;et.compareTo(p)<=0||ac(c,Be)&&(b=b.insert(Be.key,Be.clone()))}return vn.resolve(b)},s.prototype.fs=function(i,c){return vn.forEach(this.docs,function(p){return c(p)})},s.prototype.newChangeBuffer=function(i){return new wp(this)},s.prototype.getSize=function(i){return vn.resolve(this.size)},s}(),wp=function(s){function i(c){var p=this;return(p=s.call(this)||this).Ie=c,p}return(0,we.ZT)(i,s),i.prototype.applyChanges=function(c){var p=this,b=[];return this.changes.forEach(function(A,S){S.document.isValidDocument()?b.push(p.Ie.addEntry(c,S.document,p.getReadTime(A))):p.Ie.removeEntry(A)}),vn.waitFor(b)},i.prototype.getFromCache=function(c,p){return this.Ie.getEntry(c,p)},i.prototype.getAllFromCache=function(c,p){return this.Ie.getEntries(c,p)},i}(eg),cg=function(){function s(i){this.persistence=i,this.ds=new Du(function(c){return gd(c)},Ol),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.ws=0,this._s=new lg,this.targetCount=0,this.ys=ec.Jt()}return s.prototype.forEachTarget=function(i,c){return this.ds.forEach(function(p,b){return c(b)}),vn.resolve()},s.prototype.getLastRemoteSnapshotVersion=function(i){return vn.resolve(this.lastRemoteSnapshotVersion)},s.prototype.getHighestSequenceNumber=function(i){return vn.resolve(this.ws)},s.prototype.allocateTargetId=function(i){return this.highestTargetId=this.ys.next(),vn.resolve(this.highestTargetId)},s.prototype.setTargetsMetadata=function(i,c,p){return p&&(this.lastRemoteSnapshotVersion=p),c>this.ws&&(this.ws=c),vn.resolve()},s.prototype.te=function(i){this.ds.set(i.target,i);var c=i.targetId;c>this.highestTargetId&&(this.ys=new ec(c),this.highestTargetId=c),i.sequenceNumber>this.ws&&(this.ws=i.sequenceNumber)},s.prototype.addTargetData=function(i,c){return this.te(c),this.targetCount+=1,vn.resolve()},s.prototype.updateTargetData=function(i,c){return this.te(c),vn.resolve()},s.prototype.removeTargetData=function(i,c){return this.ds.delete(c.target),this._s.Zn(c.targetId),this.targetCount-=1,vn.resolve()},s.prototype.removeTargets=function(i,c,p){var b=this,A=0,S=[];return this.ds.forEach(function(j,se){se.sequenceNumber<=c&&null===p.get(se.targetId)&&(b.ds.delete(j),S.push(b.removeMatchingKeysForTargetId(i,se.targetId)),A++)}),vn.waitFor(S).next(function(){return A})},s.prototype.getTargetCount=function(i){return vn.resolve(this.targetCount)},s.prototype.getTargetData=function(i,c){var p=this.ds.get(c)||null;return vn.resolve(p)},s.prototype.addMatchingKeys=function(i,c,p){return this._s.Jn(c,p),vn.resolve()},s.prototype.removeMatchingKeys=function(i,c,p){this._s.Xn(c,p);var b=this.persistence.referenceDelegate,A=[];return b&&c.forEach(function(S){A.push(b.markPotentiallyOrphaned(i,S))}),vn.waitFor(A)},s.prototype.removeMatchingKeysForTargetId=function(i,c){return this._s.Zn(c),vn.resolve()},s.prototype.getMatchingKeysForTargetId=function(i,c){var p=this._s.es(c);return vn.resolve(p)},s.prototype.containsKey=function(i,c){return vn.resolve(this._s.containsKey(c))},s}(),mc=function(){function s(i,c){var p=this;this.gs={},this.Ne=new J(0),this.xe=!1,this.xe=!0,this.referenceDelegate=i(this),this.qe=new cg(this),this.Ut=new Kp,this.Ue=new ur(this.Ut,function(S){return p.referenceDelegate.ps(S)}),this.R=new ou(c),this.Ke=new cm(this.R)}return s.prototype.start=function(){return Promise.resolve()},s.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(s.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),s.prototype.setDatabaseDeletedListener=function(){},s.prototype.setNetworkEnabled=function(){},s.prototype.getIndexManager=function(){return this.Ut},s.prototype.getMutationQueue=function(i){var c=this.gs[i.toKey()];return c||(c=new Zm(this.Ut,this.referenceDelegate),this.gs[i.toKey()]=c),c},s.prototype.getTargetCache=function(){return this.qe},s.prototype.getRemoteDocumentCache=function(){return this.Ue},s.prototype.getBundleCache=function(){return this.Ke},s.prototype.runTransaction=function(i,c,p){var b=this;Qt("MemoryPersistence","Starting transaction:",i);var A=new Qh(this.Ne.next());return this.referenceDelegate.Es(),p(A).next(function(S){return b.referenceDelegate.Ts(A).next(function(){return S})}).toPromise().then(function(S){return A.raiseOnCommittedEvent(),S})},s.prototype.Is=function(i,c){return vn.or(Object.values(this.gs).map(function(p){return function(){return p.containsKey(i,c)}}))},s}(),Qh=function(s){function i(c){var p=this;return(p=s.call(this)||this).currentSequenceNumber=c,p}return(0,we.ZT)(i,s),i}(Ad),Hc=function(){function s(i){this.persistence=i,this.As=new lg,this.Rs=null}return s.bs=function(i){return new s(i)},Object.defineProperty(s.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw En()},enumerable:!1,configurable:!0}),s.prototype.addReference=function(i,c,p){return this.As.addReference(p,c),this.vs.delete(p.toString()),vn.resolve()},s.prototype.removeReference=function(i,c,p){return this.As.removeReference(p,c),this.vs.add(p.toString()),vn.resolve()},s.prototype.markPotentiallyOrphaned=function(i,c){return this.vs.add(c.toString()),vn.resolve()},s.prototype.removeTarget=function(i,c){var p=this;this.As.Zn(c.targetId).forEach(function(A){return p.vs.add(A.toString())});var b=this.persistence.getTargetCache();return b.getMatchingKeysForTargetId(i,c.targetId).next(function(A){A.forEach(function(S){return p.vs.add(S.toString())})}).next(function(){return b.removeTargetData(i,c)})},s.prototype.Es=function(){this.Rs=new Set},s.prototype.Ts=function(i){var c=this,p=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vn.forEach(this.vs,function(b){var A=ai.fromPath(b);return c.Ps(i,A).next(function(S){S||p.removeEntry(A)})}).next(function(){return c.Rs=null,p.apply(i)})},s.prototype.updateLimboDocument=function(i,c){var p=this;return this.Ps(i,c).next(function(b){b?p.vs.delete(c.toString()):p.vs.add(c.toString())})},s.prototype.ps=function(i){return 0},s.prototype.Ps=function(i,c){var p=this;return vn.or([function(){return vn.resolve(p.As.containsKey(c))},function(){return p.persistence.getTargetCache().containsKey(i,c)},function(){return p.persistence.Is(i,c)}])},s}(),oa=function(){function s(i){this.uid=i}return s.prototype.isAuthenticated=function(){return null!=this.uid},s.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},s.prototype.isEqual=function(i){return i.uid===this.uid},s}();function ug(s,i){return"firestore_clients_"+s+"_"+i}function Su(s,i,c){var p="firestore_mutations_"+s+"_"+c;return i.isAuthenticated()&&(p+="_"+i.uid),p}function kl(s,i){return"firestore_targets_"+s+"_"+i}oa.UNAUTHENTICATED=new oa(null),oa.GOOGLE_CREDENTIALS=new oa("google-credentials-uid"),oa.FIRST_PARTY=new oa("first-party-uid"),oa.MOCK_USER=new oa("mock-user");var Lf=function(){function s(i,c,p,b){this.user=i,this.batchId=c,this.state=p,this.error=b}return s.Vs=function(i,c,p){var b,A=JSON.parse(p),S="object"==typeof A&&-1!==["pending","acknowledged","rejected"].indexOf(A.state)&&(void 0===A.error||"object"==typeof A.error);return S&&A.error&&(S="string"==typeof A.error.message&&"string"==typeof A.error.code)&&(b=new qe(A.error.code,A.error.message)),S?new s(i,c,A.state,b):(Dr("SharedClientState","Failed to parse mutation state for ID '"+c+"': "+p),null)},s.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},s}(),Yr=function(){function s(i,c,p){this.targetId=i,this.state=c,this.error=p}return s.Vs=function(i,c){var p,b=JSON.parse(c),A="object"==typeof b&&-1!==["not-current","current","rejected"].indexOf(b.state)&&(void 0===b.error||"object"==typeof b.error);return A&&b.error&&(A="string"==typeof b.error.message&&"string"==typeof b.error.code)&&(p=new qe(b.error.code,b.error.message)),A?new s(i,b.state,p):(Dr("SharedClientState","Failed to parse target state for ID '"+i+"': "+c),null)},s.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},s}(),ma=function(){function s(i,c){this.clientId=i,this.activeTargetIds=c}return s.Vs=function(i,c){for(var p=JSON.parse(c),b="object"==typeof p&&p.activeTargetIds instanceof Array,A=nu(),S=0;b&&S<p.activeTargetIds.length;++S)b=Li(p.activeTargetIds[S]),A=A.add(p.activeTargetIds[S]);return b?new s(i,A):(Dr("SharedClientState","Failed to parse client data for instance '"+i+"': "+c),null)},s}(),_c=function(){function s(i,c){this.clientId=i,this.onlineState=c}return s.Vs=function(i){var c=JSON.parse(i);return"object"==typeof c&&-1!==["Unknown","Online","Offline"].indexOf(c.onlineState)&&"string"==typeof c.clientId?new s(c.clientId,c.onlineState):(Dr("SharedClientState","Failed to parse online state: "+i),null)},s}(),Bf=function(){function s(){this.activeTargetIds=nu()}return s.prototype.Ds=function(i){this.activeTargetIds=this.activeTargetIds.add(i)},s.prototype.Cs=function(i){this.activeTargetIds=this.activeTargetIds.delete(i)},s.prototype.Ss=function(){var i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)},s}(),sa=function(){function s(i,c,p,b,A){this.window=i,this.Se=c,this.persistenceKey=p,this.Ns=b,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ps(ce),this.started=!1,this.$s=[];var S=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=A,this.Os=ug(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Bf),this.Ls=new RegExp("^firestore_clients_"+S+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+S+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+S+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(j){return"firestore_bundle_loaded_"+j}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return s.yt=function(i){return!(!i||!i.localStorage)},s.prototype.start=function(){return(0,we.mG)(this,void 0,void 0,function(){var i,c,p,b,A,S,j,se,Me,Be,ht=this;return(0,we.Jh)(this,function(Rt){switch(Rt.label){case 0:return[4,this.syncEngine.fn()];case 1:for(i=Rt.sent(),c=0,p=i;c<p.length;c++)(b=p[c])!==this.Ns&&(A=this.getItem(ug(this.persistenceKey,b)))&&(S=ma.Vs(b,A))&&(this.Fs=this.Fs.insert(S.clientId,S));for(this.Qs(),(j=this.storage.getItem(this.Us))&&(se=this.js(j))&&this.Ws(se),Me=0,Be=this.$s;Me<Be.length;Me++)this.ks(Be[Me]);return this.$s=[],this.window.addEventListener("pagehide",function(){return ht.shutdown()}),this.started=!0,[2]}})})},s.prototype.writeSequenceNumber=function(i){this.setItem(this.Ms,JSON.stringify(i))},s.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},s.prototype.isActiveQueryTarget=function(i){var c=!1;return this.Fs.forEach(function(p,b){b.activeTargetIds.has(i)&&(c=!0)}),c},s.prototype.addPendingMutation=function(i){this.zs(i,"pending")},s.prototype.updateMutationState=function(i,c,p){this.zs(i,c,p),this.Hs(i)},s.prototype.addLocalQueryTarget=function(i){var c="not-current";if(this.isActiveQueryTarget(i)){var p=this.storage.getItem(kl(this.persistenceKey,i));if(p){var b=Yr.Vs(i,p);b&&(c=b.state)}}return this.Js.Ds(i),this.Qs(),c},s.prototype.removeLocalQueryTarget=function(i){this.Js.Cs(i),this.Qs()},s.prototype.isLocalQueryTarget=function(i){return this.Js.activeTargetIds.has(i)},s.prototype.clearQueryState=function(i){this.removeItem(kl(this.persistenceKey,i))},s.prototype.updateQueryState=function(i,c,p){this.Ys(i,c,p)},s.prototype.handleUserChange=function(i,c,p){var b=this;c.forEach(function(A){b.Hs(A)}),this.currentUser=i,p.forEach(function(A){b.addPendingMutation(A)})},s.prototype.setOnlineState=function(i){this.Xs(i)},s.prototype.notifyBundleLoaded=function(){this.Zs()},s.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},s.prototype.getItem=function(i){var c=this.storage.getItem(i);return Qt("SharedClientState","READ",i,c),c},s.prototype.setItem=function(i,c){Qt("SharedClientState","SET",i,c),this.storage.setItem(i,c)},s.prototype.removeItem=function(i){Qt("SharedClientState","REMOVE",i),this.storage.removeItem(i)},s.prototype.ks=function(i){var c=this,p=i;if(p.storageArea===this.storage){if(Qt("SharedClientState","EVENT",p.key,p.newValue),p.key===this.Os)return void Dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,we.mG)(c,void 0,void 0,function(){var b,A,S,j,se,Me;return(0,we.Jh)(this,function(Be){if(this.started){if(null!==p.key)if(this.Ls.test(p.key)){if(null==p.newValue)return b=this.ti(p.key),[2,this.ei(b,null)];if(A=this.ni(p.key,p.newValue))return[2,this.ei(A.clientId,A)]}else if(this.Bs.test(p.key)){if(null!==p.newValue&&(S=this.si(p.key,p.newValue)))return[2,this.ii(S)]}else if(this.qs.test(p.key)){if(null!==p.newValue&&(j=this.ri(p.key,p.newValue)))return[2,this.oi(j)]}else if(p.key===this.Us){if(null!==p.newValue&&(se=this.js(p.newValue)))return[2,this.Ws(se)]}else if(p.key===this.Ms)(Me=function(et){var ht=J.o;if(null!=et)try{var Rt=JSON.parse(et);U("number"==typeof Rt),ht=Rt}catch(Lt){Dr("SharedClientState","Failed to read sequence number from WebStorage",Lt)}return ht}(p.newValue))!==J.o&&this.sequenceNumberHandler(Me);else if(p.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(p);return[2]})})})}},Object.defineProperty(s.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),s.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},s.prototype.zs=function(i,c,p){var b=new Lf(this.currentUser,i,c,p),A=Su(this.persistenceKey,this.currentUser,i);this.setItem(A,b.Ss())},s.prototype.Hs=function(i){var c=Su(this.persistenceKey,this.currentUser,i);this.removeItem(c)},s.prototype.Xs=function(i){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:i}))},s.prototype.Ys=function(i,c,p){var b=kl(this.persistenceKey,i),A=new Yr(i,c,p);this.setItem(b,A.Ss())},s.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},s.prototype.ti=function(i){var c=this.Ls.exec(i);return c?c[1]:null},s.prototype.ni=function(i,c){var p=this.ti(i);return ma.Vs(p,c)},s.prototype.si=function(i,c){var p=this.Bs.exec(i),b=Number(p[1]);return Lf.Vs(new oa(void 0!==p[2]?p[2]:null),b,c)},s.prototype.ri=function(i,c){var p=this.qs.exec(i),b=Number(p[1]);return Yr.Vs(b,c)},s.prototype.js=function(i){return _c.Vs(i)},s.prototype.ii=function(i){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(c){return i.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(i.batchId,i.state,i.error)]:(Qt("SharedClientState","Ignoring mutation for non-active user "+i.user.uid),[2])})})},s.prototype.oi=function(i){return this.syncEngine.ai(i.targetId,i.state,i.error)},s.prototype.ei=function(i,c){var p=this,b=c?this.Fs.insert(i,c):this.Fs.remove(i),A=this.Gs(this.Fs),S=this.Gs(b),j=[],se=[];return S.forEach(function(Me){A.has(Me)||j.push(Me)}),A.forEach(function(Me){S.has(Me)||se.push(Me)}),this.syncEngine.hi(j,se).then(function(){p.Fs=b})},s.prototype.Ws=function(i){this.Fs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)},s.prototype.Gs=function(i){var c=nu();return i.forEach(function(p,b){c=c.unionWith(b.activeTargetIds)}),c},s}(),aa=function(){function s(){this.li=new Bf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return s.prototype.addPendingMutation=function(i){},s.prototype.updateMutationState=function(i,c,p){},s.prototype.addLocalQueryTarget=function(i){return this.li.Ds(i),this.fi[i]||"not-current"},s.prototype.updateQueryState=function(i,c,p){this.fi[i]=c},s.prototype.removeLocalQueryTarget=function(i){this.li.Cs(i)},s.prototype.isLocalQueryTarget=function(i){return this.li.activeTargetIds.has(i)},s.prototype.clearQueryState=function(i){delete this.fi[i]},s.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},s.prototype.isActiveQueryTarget=function(i){return this.li.activeTargetIds.has(i)},s.prototype.start=function(){return this.li=new Bf,Promise.resolve()},s.prototype.handleUserChange=function(i,c,p){},s.prototype.setOnlineState=function(i){},s.prototype.shutdown=function(){},s.prototype.writeSequenceNumber=function(i){},s.prototype.notifyBundleLoaded=function(){},s}(),il=function(){function s(){}return s.prototype.di=function(i){},s.prototype.shutdown=function(){},s}(),bc=function(){function s(){var i=this;this.wi=function(){return i._i()},this.mi=function(){return i.yi()},this.gi=[],this.pi()}return s.prototype.di=function(i){this.gi.push(i)},s.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},s.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},s.prototype._i=function(){Qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var i=0,c=this.gi;i<c.length;i++)(0,c[i])(0)},s.prototype.yi=function(){Qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var i=0,c=this.gi;i<c.length;i++)(0,c[i])(1)},s.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},s}(),Ps={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},fo=function(){function s(i){this.Ei=i.Ei,this.Ti=i.Ti}return s.prototype.Ii=function(i){this.Ai=i},s.prototype.Ri=function(i){this.bi=i},s.prototype.onMessage=function(i){this.vi=i},s.prototype.close=function(){this.Ti()},s.prototype.send=function(i){this.Ei(i)},s.prototype.Pi=function(){this.Ai()},s.prototype.Vi=function(i){this.bi(i)},s.prototype.Si=function(i){this.vi(i)},s}(),Iu=function(s){function i(c){var p=this;return(p=s.call(this,c)||this).forceLongPolling=c.forceLongPolling,p.autoDetectLongPolling=c.autoDetectLongPolling,p.useFetchStreams=c.useFetchStreams,p}return(0,we.ZT)(i,s),i.prototype.Fi=function(c,p,b,A){return new Promise(function(S,j){var se=new K;se.listenOnce(is.COMPLETE,function(){try{switch(se.getLastErrorCode()){case Ar.NO_ERROR:var Be=se.getResponseJson();Qt("Connection","XHR received:",JSON.stringify(Be)),S(Be);break;case Ar.TIMEOUT:Qt("Connection",'RPC "'+c+'" timed out'),j(new qe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Ar.HTTP_ERROR:var et=se.getStatus();if(Qt("Connection",'RPC "'+c+'" failed with status:',et,"response text:",se.getResponseText()),et>0){var ht=se.getResponseJson().error;if(ht&&ht.status&&ht.message){var Rt=(Gt=ht.status.toLowerCase().replace(/_/g,"-"),Object.values(ae).indexOf(Gt)>=0?Gt:ae.UNKNOWN);j(new qe(Rt,ht.message))}else j(new qe(ae.UNKNOWN,"Server responded with status "+se.getStatus()))}else j(new qe(ae.UNAVAILABLE,"Connection failed."));break;default:En()}}finally{Qt("Connection",'RPC "'+c+'" completed.')}var Gt});var Me=JSON.stringify(A);se.send(p,"POST",Me,b,15)})},i.prototype.Oi=function(c,p){var b=[this.Di,"/","google.firestore.v1.Firestore","/",c,"/channel"],A=new Kn,S=Go(),j={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(j.xmlHttpFactory=new Ca({})),this.ki(j.initMessageHeaders,p),(0,Ne.uI)()||(0,Ne.b$)()||(0,Ne.d)()||(0,Ne.w1)()||(0,Ne.Mn)()||(0,Ne.ru)()||(j.httpHeadersOverwriteParam="$httpHeaders");var se=b.join("");Qt("Connection","Creating WebChannel: "+se,j);var Me=A.createWebChannel(se,j),Be=!1,et=!1,ht=new fo({Ei:function(Lt){et?Qt("Connection","Not sending because WebChannel is closed:",Lt):(Be||(Qt("Connection","Opening WebChannel transport."),Me.open(),Be=!0),Qt("Connection","WebChannel sending:",Lt),Me.send(Lt))},Ti:function(){return Me.close()}}),Rt=function(Lt,Gt,Cn){Lt.listen(Gt,function(Rn){try{Cn(Rn)}catch(ki){setTimeout(function(){throw ki},0)}})};return Rt(Me,So.EventType.OPEN,function(){et||Qt("Connection","WebChannel transport opened.")}),Rt(Me,So.EventType.CLOSE,function(){et||(et=!0,Qt("Connection","WebChannel transport closed"),ht.Vi())}),Rt(Me,So.EventType.ERROR,function(Lt){et||(et=!0,gl("Connection","WebChannel transport errored:",Lt),ht.Vi(new qe(ae.UNAVAILABLE,"The operation could not be completed")))}),Rt(Me,So.EventType.MESSAGE,function(Lt){var Gt;if(!et){var Cn=Lt.data[0];U(!!Cn);var ki=Cn.error||(null===(Gt=Cn[0])||void 0===Gt?void 0:Gt.error);if(ki){Qt("Connection","WebChannel received error:",ki);var Si=ki.status,Tr=function(ms){var al=Yo[ms];if(void 0!==al)return Lo(al)}(Si),bo=ki.message;void 0===Tr&&(Tr=ae.INTERNAL,bo="Unknown error status: "+Si+" with message "+ki.message),et=!0,ht.Vi(new qe(Tr,bo)),Me.close()}else Qt("Connection","WebChannel received:",Cn),ht.Si(Cn)}}),Rt(S,rs.STAT_EVENT,function(Lt){Lt.stat===Ha_PROXY?Qt("Connection","Detected buffering proxy"):Lt.stat===Ha_NOPROXY&&Qt("Connection","Detected no buffering proxy")}),setTimeout(function(){ht.Pi()},0),ht},i}(function(){function s(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Di=(i.ssl?"https":"http")+"://"+i.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return s.prototype.Ni=function(i,c,p,b){var A=this.xi(i,c);Qt("RestConnection","Sending: ",A,p);var S={};return this.ki(S,b),this.Fi(i,A,S,p).then(function(j){return Qt("RestConnection","Received: ",j),j},function(j){throw gl("RestConnection",i+" failed with error: ",j,"url: ",A,"request:",p),j})},s.prototype.$i=function(i,c,p,b){return this.Ni(i,c,p,b)},s.prototype.ki=function(i,c){if(i["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),c)for(var p in c.authHeaders)c.authHeaders.hasOwnProperty(p)&&(i[p]=c.authHeaders[p])},s.prototype.xi=function(i,c){return this.Di+"/v1/"+c+":"+Ps[i]},s}());function um(){return"undefined"!=typeof window?window:null}function Jh(){return"undefined"!=typeof document?document:null}function Lr(s){return new up(s,!0)}var dg=function(){function s(i,c,p,b,A){void 0===p&&(p=1e3),void 0===b&&(b=1.5),void 0===A&&(A=6e4),this.Se=i,this.timerId=c,this.Mi=p,this.Li=b,this.Bi=A,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return s.prototype.reset=function(){this.qi=0},s.prototype.Qi=function(){this.qi=this.Bi},s.prototype.ji=function(i){var c=this;this.cancel();var p=Math.floor(this.qi+this.Wi()),b=Math.max(0,Date.now()-this.Ki),A=Math.max(0,p-b);A>0&&Qt("ExponentialBackoff","Backing off for "+A+" ms (base delay: "+this.qi+" ms, delay with jitter: "+p+" ms, last attempt: "+b+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,A,function(){return c.Ki=Date.now(),i()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},s.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},s.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},s.prototype.Wi=function(){return(Math.random()-.5)*this.qi},s}(),Cp=function(){function s(i,c,p,b,A,S){this.Se=i,this.zi=p,this.Hi=b,this.Ji=A,this.listener=S,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new dg(i,c)}return s.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},s.prototype.er=function(){return 2===this.state},s.prototype.start=function(){3!==this.state?this.auth():this.nr()},s.prototype.stop=function(){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(i){switch(i.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},s.prototype.sr=function(){this.state=0,this.Zi.reset()},s.prototype.ir=function(){var i=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return i.rr()}))},s.prototype.cr=function(i){this.ur(),this.stream.send(i)},s.prototype.rr=function(){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(i){return this.er()?[2,this.close(0)]:[2]})})},s.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},s.prototype.close=function(i,c){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(p){switch(p.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==i?this.Zi.reset():c&&c.code===ae.RESOURCE_EXHAUSTED?(Dr(c.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):c&&c.code===ae.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=i,[4,this.listener.Ri(c)];case 1:return p.sent(),[2]}})})},s.prototype.ar=function(){},s.prototype.auth=function(){var i=this;this.state=1;var c=this.hr(this.Yi),p=this.Yi;this.Ji.getToken().then(function(b){i.Yi===p&&i.lr(b)},function(b){c(function(){var A=new qe(ae.UNKNOWN,"Fetching auth token failed: "+b.message);return i.dr(A)})})},s.prototype.lr=function(i){var c=this,p=this.hr(this.Yi);this.stream=this.wr(i),this.stream.Ii(function(){p(function(){return c.state=2,c.listener.Ii()})}),this.stream.Ri(function(b){p(function(){return c.dr(b)})}),this.stream.onMessage(function(b){p(function(){return c.onMessage(b)})})},s.prototype.nr=function(){var i=this;this.state=4,this.Zi.ji(function(){return(0,we.mG)(i,void 0,void 0,function(){return(0,we.Jh)(this,function(c){return this.state=0,this.start(),[2]})})})},s.prototype.dr=function(i){return Qt("PersistentStream","close with error: "+i),this.stream=null,this.close(3,i)},s.prototype.hr=function(i){var c=this;return function(p){c.Se.enqueueAndForget(function(){return c.Yi===i?p():(Qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},s}(),T_=function(s){function i(c,p,b,A,S){var j=this;return(j=s.call(this,c,"listen_stream_connection_backoff","listen_stream_idle",p,b,S)||this).R=A,j}return(0,we.ZT)(i,s),i.prototype.wr=function(c){return this.Hi.Oi("Listen",c)},i.prototype.onMessage=function(c){this.Zi.reset();var p=function(A,S){var j,Cn;if("targetChange"in S){var se="NO_CHANGE"===(Cn=S.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Cn?1:"REMOVE"===Cn?2:"CURRENT"===Cn?3:"RESET"===Cn?4:En(),Me=S.targetChange.targetIds||[],Be=function(Cn,Rn){return Cn.I?(U(void 0===Rn||"string"==typeof Rn),to.fromBase64String(Rn||"")):(U(void 0===Rn||Rn instanceof Uint8Array),to.fromUint8Array(Rn||new Uint8Array))}(A,S.targetChange.resumeToken),et=(ht=S.targetChange.cause)&&function(Cn){var Rn=void 0===Cn.code?ae.UNKNOWN:Lo(Cn.code);return new qe(Rn,Cn.message||"")}(ht);j=new Ta(se,Me,Be,et||null)}else if("documentChange"in S){Me=We(A,(se=S.documentChange).document.name),Be=jo(se.document.updateTime);var ht=new Aa({mapValue:{fields:se.document.fields}}),Rt=(et=xa.newFoundDocument(Me,Be,ht),se.targetIds||[]);j=new Oc(Rt,se.removedTargetIds||[],et.key,et)}else if("documentDelete"in S)Me=We(A,(se=S.documentDelete).document),Be=se.readTime?jo(se.readTime):Pt.min(),ht=xa.newNoDocument(Me,Be),j=new Oc([],et=se.removedTargetIds||[],ht.key,ht);else if("documentRemove"in S)Me=We(A,(se=S.documentRemove).document),j=new Oc([],Be=se.removedTargetIds||[],Me,null);else{if(!("filter"in S))return En();var Gt=S.filter;Me=new Df(se=Gt.count||0),j=new Ga(Be=Gt.targetId,Me)}return j}(this.R,c),b=function(A){if(!("targetChange"in A))return Pt.min();var S=A.targetChange;return S.targetIds&&S.targetIds.length?Pt.min():S.readTime?jo(S.readTime):Pt.min()}(c);return this.listener._r(p,b)},i.prototype.mr=function(c){var A,S,j,se,p={};p.database=_i(this.R),p.addTarget=(A=this.R,(j=Qd(se=(S=c).target)?{documents:La(A,se)}:{query:Sa(A,se)}).targetId=S.targetId,S.resumeToken.approximateByteSize()>0?j.resumeToken=Bo(A,S.resumeToken):S.snapshotVersion.compareTo(Pt.min())>0&&(j.readTime=iu(A,S.snapshotVersion.toTimestamp())),j);var b=function(A,S){var j=function(se,Me){switch(Me){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return En()}}(0,S.purpose);return null==j?null:{"goog-listen-tags":j}}(0,c);b&&(p.labels=b),this.cr(p)},i.prototype.yr=function(c){var p={};p.database=_i(this.R),p.removeTarget=c,this.cr(p)},i}(Cp),Km=function(s){function i(c,p,b,A,S){var j=this;return(j=s.call(this,c,"write_stream_connection_backoff","write_stream_idle",p,b,S)||this).R=A,j.gr=!1,j}return(0,we.ZT)(i,s),Object.defineProperty(i.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,s.prototype.start.call(this)},i.prototype.ar=function(){this.gr&&this.Er([])},i.prototype.wr=function(c){return this.Hi.Oi("Write",c)},i.prototype.onMessage=function(c){if(U(!!c.streamToken),this.lastStreamToken=c.streamToken,this.gr){this.Zi.reset();var p=(S=c.commitTime,(A=c.writeResults)&&A.length>0?(U(void 0!==S),A.map(function(j){return Me=S,(Be=jo((se=j).updateTime?se.updateTime:Me)).isEqual(Pt.min())&&(Be=jo(Me)),new Mf(Be,se.transformResults||[]);var se,Me,Be})):[]),b=jo(c.commitTime);return this.listener.Tr(b,p)}var A,S;return U(!c.writeResults||0===c.writeResults.length),this.gr=!0,this.listener.Ir()},i.prototype.Ar=function(){var c={};c.database=_i(this.R),this.cr(c)},i.prototype.Er=function(c){var p=this,b={streamToken:this.lastStreamToken,writes:c.map(function(A){return Kr(p.R,A)})};this.cr(b)},i}(Cp),Ym=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).credentials=c,A.Hi=p,A.R=b,A.Rr=!1,A}return(0,we.ZT)(i,s),i.prototype.br=function(){if(this.Rr)throw new qe(ae.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.Ni=function(c,p,b){var A=this;return this.br(),this.credentials.getToken().then(function(S){return A.Hi.Ni(c,p,b,S)}).catch(function(S){throw"FirebaseError"===S.name?(S.code===ae.UNAUTHENTICATED&&A.credentials.invalidateToken(),S):new qe(ae.UNKNOWN,S.toString())})},i.prototype.$i=function(c,p,b){var A=this;return this.br(),this.credentials.getToken().then(function(S){return A.Hi.$i(c,p,b,S)}).catch(function(S){throw"FirebaseError"===S.name?(S.code===ae.UNAUTHENTICATED&&A.credentials.invalidateToken(),S):new qe(ae.UNKNOWN,S.toString())})},i.prototype.terminate=function(){this.Rr=!0},i}(function(){}),hg=function(){function s(i,c){this.asyncQueue=i,this.onlineStateHandler=c,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return s.prototype.Sr=function(){var i=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return i.Pr=null,i.Cr("Backend didn't respond within 10 seconds."),i.Dr("Offline"),Promise.resolve()}))},s.prototype.Nr=function(i){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+i.toString()),this.Dr("Offline")))},s.prototype.set=function(i){this.kr(),this.vr=0,"Online"===i&&(this.Vr=!1),this.Dr(i)},s.prototype.Dr=function(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))},s.prototype.Cr=function(i){var c="Could not reach Cloud Firestore backend. "+i+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Dr(c),this.Vr=!1):Qt("OnlineStateTracker",c)},s.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},s}(),fg=function(s,i,c,p,b){var A=this;this.localStore=s,this.datastore=i,this.asyncQueue=c,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=b,this.Lr.di(function(S){c.enqueueAndForget(function(){return(0,we.mG)(A,void 0,void 0,function(){return(0,we.Jh)(this,function(j){switch(j.label){case 0:return fh(this)?(Qt("RemoteStore","Restarting streams for network reachability change."),[4,function(se){return(0,we.mG)(this,void 0,void 0,function(){var Me;return(0,we.Jh)(this,function(Be){switch(Be.label){case 0:return(Me=F(se)).Or.add(4),[4,vc(Me)];case 1:return Be.sent(),Me.Br.set("Unknown"),Me.Or.delete(4),[4,Xh(Me)];case 2:return Be.sent(),[2]}})})}(this)]):[3,2];case 1:j.sent(),j.label=2;case 2:return[2]}})})})}),this.Br=new hg(c,p)};function Xh(s){return(0,we.mG)(this,void 0,void 0,function(){var i,c;return(0,we.Jh)(this,function(p){switch(p.label){case 0:if(!fh(s))return[3,4];i=0,c=s.Mr,p.label=1;case 1:return i<c.length?[4,(0,c[i])(!0)]:[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function vc(s){return(0,we.mG)(this,void 0,void 0,function(){var i,c;return(0,we.Jh)(this,function(p){switch(p.label){case 0:i=0,c=s.Mr,p.label=1;case 1:return i<c.length?[4,(0,c[i])(!1)]:[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function Ba(s,i){var c=F(s);c.$r.has(i.targetId)||(c.$r.set(i.targetId,i),gg(c)?pg(c):uu(c).er()&&dm(c,i))}function kp(s,i){var c=F(s),p=uu(c);c.$r.delete(i),p.er()&&hh(c,i),0===c.$r.size&&(p.er()?p.ir():fh(c)&&c.Br.set("Unknown"))}function dm(s,i){s.qr.U(i.targetId),uu(s).mr(i)}function hh(s,i){s.qr.U(i),uu(s).yr(i)}function pg(s){s.qr=new Xa({getRemoteKeysForTarget:function(i){return s.remoteSyncer.getRemoteKeysForTarget(i)},lt:function(i){return s.$r.get(i)||null}}),uu(s).start(),s.Br.Sr()}function gg(s){return fh(s)&&!uu(s).tr()&&s.$r.size>0}function fh(s){return 0===F(s).Or.size}function Qm(s){s.qr=void 0}function S_(s){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(i){return s.$r.forEach(function(c,p){dm(s,c)}),[2]})})}function ef(s,i){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(c){return Qm(s),gg(s)?(s.Br.Nr(i),pg(s)):s.Br.set("Unknown"),[2]})})}function Pu(s,i,c){return(0,we.mG)(this,void 0,void 0,function(){var p,b,A;return(0,we.Jh)(this,function(S){switch(S.label){case 0:if(s.Br.set("Online"),!(i instanceof Ta&&2===i.state&&i.cause))return[3,6];S.label=1;case 1:return S.trys.push([1,3,,5]),[4,function(j,se){return(0,we.mG)(this,void 0,void 0,function(){var Me,Be,et,ht;return(0,we.Jh)(this,function(Rt){switch(Rt.label){case 0:Me=se.cause,Be=0,et=se.targetIds,Rt.label=1;case 1:return Be<et.length?j.$r.has(ht=et[Be])?[4,j.remoteSyncer.rejectListen(ht,Me)]:[3,3]:[3,5];case 2:Rt.sent(),j.$r.delete(ht),j.qr.removeTarget(ht),Rt.label=3;case 3:Rt.label=4;case 4:return Be++,[3,1];case 5:return[2]}})})}(s,i)];case 2:return S.sent(),[3,5];case 3:return p=S.sent(),Qt("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),p),[4,tf(s,p)];case 4:return S.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof Oc?s.qr.X(i):i instanceof Ga?s.qr.rt(i):s.qr.et(i),c.isEqual(Pt.min()))return[3,13];S.label=7;case 7:return S.trys.push([7,11,,13]),[4,rg(s.localStore)];case 8:return b=S.sent(),c.compareTo(b)>=0?[4,(j=s,se=c,Me=j.qr.ut(se),Me.targetChanges.forEach(function(Be,et){if(Be.resumeToken.approximateByteSize()>0){var ht=j.$r.get(et);ht&&j.$r.set(et,ht.withResumeToken(Be.resumeToken,se))}}),Me.targetMismatches.forEach(function(Be){var et=j.$r.get(Be);if(et){j.$r.set(Be,et.withResumeToken(to.EMPTY_BYTE_STRING,et.snapshotVersion)),hh(j,Be);var ht=new Er(et.target,Be,1,et.sequenceNumber);dm(j,ht)}}),j.remoteSyncer.applyRemoteEvent(Me))]:[3,10];case 9:S.sent(),S.label=10;case 10:return[3,13];case 11:return Qt("RemoteStore","Failed to raise snapshot:",A=S.sent()),[4,tf(s,A)];case 12:return S.sent(),[3,13];case 13:return[2]}var j,se,Me})})}function tf(s,i,c){return(0,we.mG)(this,void 0,void 0,function(){var p=this;return(0,we.Jh)(this,function(b){switch(b.label){case 0:if(!ah(i))throw i;return s.Or.add(1),[4,vc(s)];case 1:return b.sent(),s.Br.set("Offline"),c||(c=function(){return rg(s.localStore)}),s.asyncQueue.enqueueRetryable(function(){return(0,we.mG)(p,void 0,void 0,function(){return(0,we.Jh)(this,function(A){switch(A.label){case 0:return Qt("RemoteStore","Retrying IndexedDB access"),[4,c()];case 1:return A.sent(),s.Or.delete(1),[4,Xh(s)];case 2:return A.sent(),[2]}})})}),[2]}})})}function mg(s,i){return i().catch(function(c){return tf(s,c,i)})}function ph(s){return(0,we.mG)(this,void 0,void 0,function(){var i,c,p,b,A;return(0,we.Jh)(this,function(S){switch(S.label){case 0:i=F(s),c=id(i),p=i.Fr.length>0?i.Fr[i.Fr.length-1].batchId:-1,S.label=1;case 1:if(!(fh(j=i)&&j.Fr.length<10))return[3,7];S.label=2;case 2:return S.trys.push([2,4,,6]),[4,sg(i.localStore,p)];case 3:return null===(b=S.sent())?(0===i.Fr.length&&c.ir(),[3,7]):(p=b.batchId,function(j,se){j.Fr.push(se);var Me=id(j);Me.er()&&Me.pr&&Me.Er(se.mutations)}(i,b),[3,6]);case 4:return A=S.sent(),[4,tf(i,A)];case 5:return S.sent(),[3,6];case 6:return[3,1];case 7:return td(i)&&_g(i),[2]}var j})})}function td(s){return fh(s)&&!id(s).tr()&&s.Fr.length>0}function _g(s){id(s).start()}function cu(s){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(i){return id(s).Ar(),[2]})})}function Jm(s){return(0,we.mG)(this,void 0,void 0,function(){var i,c,p;return(0,we.Jh)(this,function(A){for(i=id(s),c=0,p=s.Fr;c<p.length;c++)i.Er(p[c].mutations);return[2]})})}function nd(s,i,c){return(0,we.mG)(this,void 0,void 0,function(){var p,b;return(0,we.Jh)(this,function(A){switch(A.label){case 0:return p=s.Fr.shift(),b=ru.from(p,i,c),[4,mg(s,function(){return s.remoteSyncer.applySuccessfulWrite(b)})];case 1:return A.sent(),[4,ph(s)];case 2:return A.sent(),[2]}})})}function bg(s,i){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(c){switch(c.label){case 0:return i&&id(s).pr?[4,function(p,b){return(0,we.mG)(this,void 0,void 0,function(){var A,S;return(0,we.Jh)(this,function(j){switch(j.label){case 0:return th(S=b.code)&&S!==ae.ABORTED?(A=p.Fr.shift(),id(p).sr(),[4,mg(p,function(){return p.remoteSyncer.rejectFailedWrite(A.batchId,b)})]):[3,3];case 1:return j.sent(),[4,ph(p)];case 2:j.sent(),j.label=3;case 3:return[2]}})})}(s,i)]:[3,2];case 1:c.sent(),c.label=2;case 2:return td(s)&&_g(s),[2]}})})}function gh(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c;return(0,we.Jh)(this,function(p){switch(p.label){case 0:return c=F(s),i?(c.Or.delete(2),[4,Xh(c)]):[3,2];case 1:return p.sent(),[3,5];case 2:return i?[3,4]:(c.Or.add(2),[4,vc(c)]);case 3:p.sent(),c.Br.set("Unknown"),p.label=4;case 4:p.label=5;case 5:return[2]}})})}function uu(s){var c,p,b,A,i=this;return s.Ur||(s.Ur=(c=s.datastore,p=s.asyncQueue,b={Ii:S_.bind(null,s),Ri:ef.bind(null,s),_r:Pu.bind(null,s)},(A=F(c)).br(),new T_(p,A.Hi,A.credentials,A.R,b)),s.Mr.push(function(c){return(0,we.mG)(i,void 0,void 0,function(){return(0,we.Jh)(this,function(p){switch(p.label){case 0:return c?(s.Ur.sr(),gg(s)?pg(s):s.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,s.Ur.stop()];case 2:p.sent(),Qm(s),p.label=3;case 3:return[2]}})})})),s.Ur}function id(s){var c,p,b,A,i=this;return s.Kr||(s.Kr=(c=s.datastore,p=s.asyncQueue,b={Ii:cu.bind(null,s),Ri:bg.bind(null,s),Ir:Jm.bind(null,s),Tr:nd.bind(null,s)},(A=F(c)).br(),new Km(p,A.Hi,A.credentials,A.R,b)),s.Mr.push(function(c){return(0,we.mG)(i,void 0,void 0,function(){return(0,we.Jh)(this,function(p){switch(p.label){case 0:return c?(s.Kr.sr(),[4,ph(s)]):[3,2];case 1:return p.sent(),[3,4];case 2:return[4,s.Kr.stop()];case 3:p.sent(),s.Fr.length>0&&(Qt("RemoteStore","Stopping write stream with "+s.Fr.length+" pending writes"),s.Fr=[]),p.label=4;case 4:return[2]}})})})),s.Kr}var vg=function(){function s(i,c,p,b,A){this.asyncQueue=i,this.timerId=c,this.targetTimeMs=p,this.op=b,this.removalCallback=A,this.deferred=new Pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(S){})}return s.createAndSchedule=function(i,c,p,b,A){var S=new s(i,c,Date.now()+p,b,A);return S.start(p),S},s.prototype.start=function(i){var c=this;this.timerHandle=setTimeout(function(){return c.handleDelayElapsed()},i)},s.prototype.skipDelay=function(){return this.handleDelayElapsed()},s.prototype.cancel=function(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qe(ae.CANCELLED,"Operation cancelled"+(i?": "+i:""))))},s.prototype.handleDelayElapsed=function(){var i=this;this.asyncQueue.enqueueAndForget(function(){return null!==i.timerHandle?(i.clearTimeout(),i.op().then(function(c){return i.deferred.resolve(c)})):Promise.resolve()})},s.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},s}();function mh(s,i){if(Dr("AsyncQueue",i+": "+s),ah(s))return new qe(ae.UNAVAILABLE,i+": "+s);throw s}var jf=function(){function s(i){this.comparator=i?function(c,p){return i(c,p)||ai.comparator(c.key,p.key)}:function(c,p){return ai.comparator(c.key,p.key)},this.keyedMap=Yu(),this.sortedSet=new ps(this.comparator)}return s.emptySet=function(i){return new s(i.comparator)},s.prototype.has=function(i){return null!=this.keyedMap.get(i)},s.prototype.get=function(i){return this.keyedMap.get(i)},s.prototype.first=function(){return this.sortedSet.minKey()},s.prototype.last=function(){return this.sortedSet.maxKey()},s.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},s.prototype.indexOf=function(i){var c=this.keyedMap.get(i);return c?this.sortedSet.indexOf(c):-1},Object.defineProperty(s.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),s.prototype.forEach=function(i){this.sortedSet.inorderTraversal(function(c,p){return i(c),!1})},s.prototype.add=function(i){var c=this.delete(i.key);return c.copy(c.keyedMap.insert(i.key,i),c.sortedSet.insert(i,null))},s.prototype.delete=function(i){var c=this.get(i);return c?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(c)):this},s.prototype.isEqual=function(i){if(!(i instanceof s)||this.size!==i.size)return!1;for(var c=this.sortedSet.getIterator(),p=i.sortedSet.getIterator();c.hasNext();){var b=c.getNext().key,A=p.getNext().key;if(!b.isEqual(A))return!1}return!0},s.prototype.toString=function(){var i=[];return this.forEach(function(c){i.push(c.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"},s.prototype.copy=function(i,c){var p=new s;return p.comparator=this.comparator,p.keyedMap=i,p.sortedSet=c,p},s}(),Od=function(){function s(){this.Qr=new ps(ai.comparator)}return s.prototype.track=function(i){var c=i.doc.key,p=this.Qr.get(c);p?0!==i.type&&3===p.type?this.Qr=this.Qr.insert(c,i):3===i.type&&1!==p.type?this.Qr=this.Qr.insert(c,{type:p.type,doc:i.doc}):2===i.type&&2===p.type?this.Qr=this.Qr.insert(c,{type:2,doc:i.doc}):2===i.type&&0===p.type?this.Qr=this.Qr.insert(c,{type:0,doc:i.doc}):1===i.type&&0===p.type?this.Qr=this.Qr.remove(c):1===i.type&&2===p.type?this.Qr=this.Qr.insert(c,{type:1,doc:p.doc}):0===i.type&&1===p.type?this.Qr=this.Qr.insert(c,{type:2,doc:i.doc}):En():this.Qr=this.Qr.insert(c,i)},s.prototype.jr=function(){var i=[];return this.Qr.inorderTraversal(function(c,p){i.push(p)}),i},s}(),Ou=function(){function s(i,c,p,b,A,S,j,se){this.query=i,this.docs=c,this.oldDocs=p,this.docChanges=b,this.mutatedKeys=A,this.fromCache=S,this.syncStateChanged=j,this.excludesMetadataChanges=se}return s.fromInitialDocuments=function(i,c,p,b){var A=[];return c.forEach(function(S){A.push({type:0,doc:S})}),new s(i,c,jf.emptySet(c),A,p,b,!0,!1)},Object.defineProperty(s.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&Gu(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;var c=this.docChanges,p=i.docChanges;if(c.length!==p.length)return!1;for(var b=0;b<c.length;b++)if(c[b].type!==p[b].type||!c[b].doc.isEqual(p[b].doc))return!1;return!0},s}(),zf=function(){this.Wr=void 0,this.listeners=[]},Nd=function(){this.queries=new Du(function(s){return sp(s)},Gu),this.onlineState="Unknown",this.Gr=new Set};function rd(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,p,b,A,S,j,se;return(0,we.Jh)(this,function(Me){switch(Me.label){case 0:if(c=F(s),b=!1,(A=c.queries.get(p=i.query))||(b=!0,A=new zf),!b)return[3,4];Me.label=1;case 1:return Me.trys.push([1,3,,4]),S=A,[4,c.onListen(p)];case 2:return S.Wr=Me.sent(),[3,4];case 3:return j=Me.sent(),se=mh(j,"Initialization of query '"+Gs(i.query)+"' failed"),[2,void i.onError(se)];case 4:return c.queries.set(p,A),A.listeners.push(i),i.zr(c.onlineState),A.Wr&&i.Hr(A.Wr)&&_h(c),[2]}})})}function od(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,p,b,A,S;return(0,we.Jh)(this,function(j){return c=F(s),b=!1,(A=c.queries.get(p=i.query))&&(S=A.listeners.indexOf(i))>=0&&(A.listeners.splice(S,1),b=0===A.listeners.length),b?[2,(c.queries.delete(p),c.onUnlisten(p))]:[2]})})}function hm(s,i){for(var c=F(s),p=!1,b=0,A=i;b<A.length;b++){var S=A[b],se=c.queries.get(S.query);if(se){for(var Me=0,Be=se.listeners;Me<Be.length;Me++)Be[Me].Hr(S)&&(p=!0);se.Wr=S}}p&&_h(c)}function nf(s,i,c){var p=F(s),b=p.queries.get(i);if(b)for(var A=0,S=b.listeners;A<S.length;A++)S[A].onError(c);p.queries.delete(i)}function _h(s){s.Gr.forEach(function(i){i.next()})}var rf=function(){function s(i,c,p){this.query=i,this.Jr=c,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=p||{}}return s.prototype.Hr=function(i){if(!this.options.includeMetadataChanges){for(var c=[],p=0,b=i.docChanges;p<b.length;p++){var A=b[p];3!==A.type&&c.push(A)}i=new Ou(i.query,i.docs,i.oldDocs,c,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}var S=!1;return this.Yr?this.Zr(i)&&(this.Jr.next(i),S=!0):this.eo(i,this.onlineState)&&(this.no(i),S=!0),this.Xr=i,S},s.prototype.onError=function(i){this.Jr.error(i)},s.prototype.zr=function(i){this.onlineState=i;var c=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,i)&&(this.no(this.Xr),c=!0),c},s.prototype.eo=function(i,c){return!i.fromCache||!(this.options.so&&"Offline"!==c||i.docs.isEmpty()&&"Offline"!==c)},s.prototype.Zr=function(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges},s.prototype.no=function(i){i=Ou.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.Yr=!0,this.Jr.next(i)},s}(),yg=function(){function s(i,c){this.payload=i,this.byteLength=c}return s.prototype.io=function(){return"metadata"in this.payload},s}(),Vf=function(){function s(i){this.R=i}return s.prototype.qn=function(i){return We(this.R,i)},s.prototype.Un=function(i){return i.metadata.exists?Pi(this.R,i.document,!1):xa.newNoDocument(this.qn(i.metadata.name),this.Kn(i.metadata.readTime))},s.prototype.Kn=function(i){return jo(i)},s}();!function(){function s(i,c,p){this.ro=i,this.localStore=c,this.R=p,this.queries=[],this.documents=[],this.progress=function(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}(i)}s.prototype.oo=function(i){this.progress.bytesLoaded+=i.byteLength;var c=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++c):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++c),c!==this.progress.documentsLoaded?(this.progress.documentsLoaded=c,Object.assign({},this.progress)):null},s.prototype.co=function(i){for(var c=new Map,p=new Vf(this.R),b=0,A=i;b<A.length;b++){var S=A[b];if(S.metadata.queries)for(var j=p.qn(S.metadata.name),se=0,Me=S.metadata.queries;se<Me.length;se++){var Be=Me[se],et=(c.get(Be)||gr()).add(j);c.set(Be,et)}}return c},s.prototype.complete=function(){return(0,we.mG)(this,void 0,void 0,function(){var i,c,p,b,A;return(0,we.Jh)(this,function(S){switch(S.label){case 0:return[4,Wm(this.localStore,new Vf(this.R),this.documents,this.ro.id)];case 1:i=S.sent(),c=this.co(this.documents),p=0,b=this.queries,S.label=2;case 2:return p<b.length?[4,lm(this.localStore,A=b[p],c.get(A.name))]:[3,5];case 3:S.sent(),S.label=4;case 4:return p++,[3,2];case 5:return[2,(this.progress.taskState="Success",new sm(Object.assign({},this.progress),i))]}})})}}();var wg=function(s){this.key=s},Xm=function(s){this.key=s},Cg=function(){function s(i,c){this.query=i,this.uo=c,this.ao=null,this.current=!1,this.ho=gr(),this.mutatedKeys=gr(),this.lo=Fh(i),this.fo=new jf(this.lo)}return Object.defineProperty(s.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),s.prototype._o=function(i,c){var p=this,b=c?c.mo:new Od,A=c?c.fo:this.fo,S=c?c.mutatedKeys:this.mutatedKeys,j=A,se=!1,Me=Rh(this.query)&&A.size===this.query.limit?A.last():null,Be=eh(this.query)&&A.size===this.query.limit?A.first():null;if(i.inorderTraversal(function(ht,Rt){var Lt=A.get(ht),Gt=ac(p.query,Rt)?Rt:null,Cn=!!Lt&&p.mutatedKeys.has(Lt.key),Rn=!!Gt&&(Gt.hasLocalMutations||p.mutatedKeys.has(Gt.key)&&Gt.hasCommittedMutations),ki=!1;Lt&&Gt?Lt.data.isEqual(Gt.data)?Cn!==Rn&&(b.track({type:3,doc:Gt}),ki=!0):p.yo(Lt,Gt)||(b.track({type:2,doc:Gt}),ki=!0,(Me&&p.lo(Gt,Me)>0||Be&&p.lo(Gt,Be)<0)&&(se=!0)):!Lt&&Gt?(b.track({type:0,doc:Gt}),ki=!0):Lt&&!Gt&&(b.track({type:1,doc:Lt}),ki=!0,(Me||Be)&&(se=!0)),ki&&(Gt?(j=j.add(Gt),S=Rn?S.add(ht):S.delete(ht)):(j=j.delete(ht),S=S.delete(ht)))}),Rh(this.query)||eh(this.query))for(;j.size>this.query.limit;){var et=Rh(this.query)?j.last():j.first();j=j.delete(et.key),S=S.delete(et.key),b.track({type:1,doc:et})}return{fo:j,mo:b,Nn:se,mutatedKeys:S}},s.prototype.yo=function(i,c){return i.hasLocalMutations&&c.hasCommittedMutations&&!c.hasLocalMutations},s.prototype.applyChanges=function(i,c,p){var b=this,A=this.fo;this.fo=i.fo,this.mutatedKeys=i.mutatedKeys;var S=i.mo.jr();S.sort(function(Be,et){return Rt=et.type,(Lt=function(Gt){switch(Gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return En()}})(Be.type)-Lt(Rt)||b.lo(Be.doc,et.doc);var Rt,Lt}),this.po(p);var j=c?this.Eo():[],se=0===this.ho.size&&this.current?1:0,Me=se!==this.ao;return this.ao=se,0!==S.length||Me?{snapshot:new Ou(this.query,i.fo,A,S,i.mutatedKeys,0===se,Me,!1),To:j}:{To:j}},s.prototype.zr=function(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Od,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},s.prototype.Io=function(i){return!this.uo.has(i)&&!!this.fo.has(i)&&!this.fo.get(i).hasLocalMutations},s.prototype.po=function(i){var c=this;i&&(i.addedDocuments.forEach(function(p){return c.uo=c.uo.add(p)}),i.modifiedDocuments.forEach(function(p){}),i.removedDocuments.forEach(function(p){return c.uo=c.uo.delete(p)}),this.current=i.current)},s.prototype.Eo=function(){var i=this;if(!this.current)return[];var c=this.ho;this.ho=gr(),this.fo.forEach(function(b){i.Io(b.key)&&(i.ho=i.ho.add(b.key))});var p=[];return c.forEach(function(b){i.ho.has(b)||p.push(new Xm(b))}),this.ho.forEach(function(b){c.has(b)||p.push(new wg(b))}),p},s.prototype.Ao=function(i){this.uo=i.Bn,this.ho=gr();var c=this._o(i.documents);return this.applyChanges(c,!0)},s.prototype.Ro=function(){return Ou.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},s}(),Ap=function(s,i,c){this.query=s,this.targetId=i,this.view=c},of=function(s){this.key=s,this.bo=!1},pm=function(){function s(i,c,p,b,A,S){this.localStore=i,this.remoteStore=c,this.eventManager=p,this.sharedClientState=b,this.currentUser=A,this.maxConcurrentLimboResolutions=S,this.vo={},this.Po=new Du(function(j){return sp(j)},Gu),this.Vo=new Map,this.So=new Set,this.Do=new ps(ai.comparator),this.Co=new Map,this.No=new lg,this.xo={},this.ko=new Map,this.Fo=ec.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(s.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),s}();function e_(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,b,A,S,j;return(0,we.Jh)(this,function(se){switch(se.label){case 0:return c=Mp(s),(A=c.Po.get(i))?(c.sharedClientState.addLocalQueryTarget(A.targetId),b=A.view.Ro(),[3,4]):[3,1];case 1:return[4,Yh(c.localStore,Ea(i))];case 2:return S=se.sent(),j=c.sharedClientState.addLocalQueryTarget(S.targetId),[4,kg(c,i,S.targetId,"current"===j)];case 3:b=se.sent(),c.isPrimaryClient&&Ba(c.remoteStore,S),se.label=4;case 4:return[2,b]}})})}function kg(s,i,c,p){return(0,we.mG)(this,void 0,void 0,function(){var b,A,S,j,se,Me;return(0,we.Jh)(this,function(Be){switch(Be.label){case 0:return s.Oo=function(et,ht,Rt){return function(Lt,Gt,Cn,Rn){return(0,we.mG)(this,void 0,void 0,function(){var ki,Si,Tr;return(0,we.Jh)(this,function(bo){switch(bo.label){case 0:return(ki=Gt.view._o(Cn)).Nn?[4,yp(Lt.localStore,Gt.query,!1).then(function(ms){return Gt.view._o(ms.documents,ki)})]:[3,2];case 1:ki=bo.sent(),bo.label=2;case 2:return Si=Rn&&Rn.targetChanges.get(Gt.targetId),Tr=Gt.view.applyChanges(ki,Lt.isPrimaryClient,Si),[2,(du(Lt,Gt.targetId,Tr.To),Tr.snapshot)]}})})}(s,et,ht,Rt)},[4,yp(s.localStore,i,!0)];case 1:return b=Be.sent(),A=new Cg(i,b.Bn),S=A._o(b.documents),j=wd.createSynthesizedTargetChangeForCurrentChange(c,p&&"Offline"!==s.onlineState),se=A.applyChanges(S,s.isPrimaryClient,j),du(s,c,se.To),Me=new Ap(i,c,A),[2,(s.Po.set(i,Me),s.Vo.has(c)?s.Vo.get(c).push(i):s.Vo.set(c,[i]),se.snapshot)]}})})}function yc(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,p,b;return(0,we.Jh)(this,function(A){switch(A.label){case 0:return c=F(s),p=c.Po.get(i),(b=c.Vo.get(p.targetId)).length>1?[2,(c.Vo.set(p.targetId,b.filter(function(S){return!Gu(S,i)})),void c.Po.delete(i))]:c.isPrimaryClient?(c.sharedClientState.removeLocalQueryTarget(p.targetId),c.sharedClientState.isActiveQueryTarget(p.targetId)?[3,2]:[4,Cl(c.localStore,p.targetId,!1).then(function(){c.sharedClientState.clearQueryState(p.targetId),kp(c.remoteStore,p.targetId),gs(c,p.targetId)}).catch(Td)]):[3,3];case 1:A.sent(),A.label=2;case 2:return[3,5];case 3:return gs(c,p.targetId),[4,Cl(c.localStore,p.targetId,!0)];case 4:A.sent(),A.label=5;case 5:return[2]}})})}function Ag(s,i,c){return(0,we.mG)(this,void 0,void 0,function(){var p,b,A,S;return(0,we.Jh)(this,function(j){switch(j.label){case 0:p=Eg(s),j.label=1;case 1:return j.trys.push([1,5,,6]),[4,(se=p.localStore,Me=i,et=F(se),ht=ct.now(),Rt=Me.reduce(function(Lt,Gt){return Lt.add(Gt.key)},gr()),et.persistence.runTransaction("Locally write mutations","readwrite",function(Lt){return et.Mn.pn(Lt,Rt).next(function(Gt){Be=Gt;for(var Cn=[],Rn=0,ki=Me;Rn<ki.length;Rn++){var Si=ki[Rn],Tr=Fl(Si,Be.get(Si.key));null!=Tr&&Cn.push(new Kl(Si.key,Tr,Qc(Tr.value.mapValue),Fa.exists(!0)))}return et._n.addMutationBatch(Lt,ht,Cn,Me)})}).then(function(Lt){return Lt.applyToLocalDocumentSet(Be),{batchId:Lt.batchId,changes:Be}}))];case 2:return b=j.sent(),p.sharedClientState.addPendingMutation(b.batchId),function(se,Me,Be){var et=se.xo[se.currentUser.toKey()];et||(et=new ps(ce)),et=et.insert(Me,Be),se.xo[se.currentUser.toKey()]=et}(p,b.batchId,c),[4,hu(p,b.changes)];case 3:return j.sent(),[4,ph(p.remoteStore)];case 4:return j.sent(),[3,6];case 5:return A=j.sent(),S=mh(A,"Failed to persist write"),c.reject(S),[3,6];case 6:return[2]}var se,Me,Be,et,ht,Rt})})}function Rd(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,p;return(0,we.Jh)(this,function(b){switch(b.label){case 0:c=F(s),b.label=1;case 1:return b.trys.push([1,4,,6]),[4,Gm(c.localStore,i)];case 2:return p=b.sent(),i.targetChanges.forEach(function(A,S){var j=c.Co.get(S);j&&(U(A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size<=1),A.addedDocuments.size>0?j.bo=!0:A.modifiedDocuments.size>0?U(j.bo):A.removedDocuments.size>0&&(U(j.bo),j.bo=!1))}),[4,hu(c,p,i)];case 3:return b.sent(),[3,6];case 4:return[4,Td(b.sent())];case 5:return b.sent(),[3,6];case 6:return[2]}})})}function _a(s,i,c){var p=F(s);if(p.isPrimaryClient&&0===c||!p.isPrimaryClient&&1===c){var b=[];p.Po.forEach(function(A,S){var j=S.view.zr(i);j.snapshot&&b.push(j.snapshot)}),function(A,S){var j=F(A);j.onlineState=S;var se=!1;j.queries.forEach(function(Me,Be){for(var et=0,ht=Be.listeners;et<ht.length;et++)ht[et].zr(S)&&(se=!0)}),se&&_h(j)}(p.eventManager,i),b.length&&p.vo._r(b),p.onlineState=i,p.isPrimaryClient&&p.sharedClientState.setOnlineState(i)}}function xp(s,i,c){return(0,we.mG)(this,void 0,void 0,function(){var p,b,A,S,j,se;return(0,we.Jh)(this,function(Me){switch(Me.label){case 0:return(p=F(s)).sharedClientState.updateQueryState(i,"rejected",c),b=p.Co.get(i),(A=b&&b.key)?(S=(S=new ps(ai.comparator)).insert(A,xa.newNoDocument(A,Pt.min())),j=gr().add(A),se=new Au(Pt.min(),new Map,new Qo(ce),S,j),[4,Rd(p,se)]):[3,2];case 1:return Me.sent(),p.Do=p.Do.remove(A),p.Co.delete(i),Ep(p),[3,4];case 2:return[4,Cl(p.localStore,i,!1).then(function(){return gs(p,i,c)}).catch(Td)];case 3:Me.sent(),Me.label=4;case 4:return[2]}})})}function gm(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,p,b;return(0,we.Jh)(this,function(A){switch(A.label){case 0:c=F(s),p=i.batch.batchId,A.label=1;case 1:return A.trys.push([1,4,,6]),[4,D_(c.localStore,i)];case 2:return b=A.sent(),rl(c,p,null),sf(c,p),c.sharedClientState.updateMutationState(p,"acknowledged"),[4,hu(c,b)];case 3:return A.sent(),[3,6];case 4:return[4,Td(A.sent())];case 5:return A.sent(),[3,6];case 6:return[2]}})})}function bh(s,i,c){return(0,we.mG)(this,void 0,void 0,function(){var p,b;return(0,we.Jh)(this,function(A){switch(A.label){case 0:p=F(s),A.label=1;case 1:return A.trys.push([1,4,,6]),[4,(S=p.localStore,j=i,se=F(S),se.persistence.runTransaction("Reject batch","readwrite-primary",function(Me){var Be;return se._n.lookupMutationBatch(Me,j).next(function(et){return U(null!==et),Be=et.keys(),se._n.removeMutationBatch(Me,et)}).next(function(){return se._n.performConsistencyCheck(Me)}).next(function(){return se.Mn.pn(Me,Be)})}))];case 2:return b=A.sent(),rl(p,i,c),sf(p,i),p.sharedClientState.updateMutationState(i,"rejected",c),[4,hu(p,b)];case 3:return A.sent(),[3,6];case 4:return[4,Td(A.sent())];case 5:return A.sent(),[3,6];case 6:return[2]}var S,j,se})})}function ir(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,p,b,A,S;return(0,we.Jh)(this,function(j){switch(j.label){case 0:fh((c=F(s)).remoteStore)||Qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),j.label=1;case 1:return j.trys.push([1,3,,4]),[4,(se=c.localStore,Me=F(se),Me.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Be){return Me._n.getHighestUnacknowledgedBatchId(Be)}))];case 2:return-1===(p=j.sent())?[2,void i.resolve()]:((b=c.ko.get(p)||[]).push(i),c.ko.set(p,b),[3,4]);case 3:return A=j.sent(),S=mh(A,"Initialization of waitForPendingWrites() operation failed"),i.reject(S),[3,4];case 4:return[2]}var se,Me})})}function sf(s,i){(s.ko.get(i)||[]).forEach(function(c){c.resolve()}),s.ko.delete(i)}function rl(s,i,c){var p=F(s),b=p.xo[p.currentUser.toKey()];if(b){var A=b.get(i);A&&(c?A.reject(c):A.resolve(),b=b.remove(i)),p.xo[p.currentUser.toKey()]=b}}function gs(s,i,c){void 0===c&&(c=null),s.sharedClientState.removeLocalQueryTarget(i);for(var p=0,b=s.Vo.get(i);p<b.length;p++){var A=b[p];s.Po.delete(A),c&&s.vo.Mo(A,c)}s.Vo.delete(i),s.isPrimaryClient&&s.No.Zn(i).forEach(function(S){s.No.containsKey(S)||mm(s,S)})}function mm(s,i){s.So.delete(i.path.canonicalString());var c=s.Do.get(i);null!==c&&(kp(s.remoteStore,c),s.Do=s.Do.remove(i),s.Co.delete(c),Ep(s))}function du(s,i,c){for(var p=0,b=c;p<b.length;p++){var A=b[p];A instanceof wg?(s.No.addReference(A.key,i),xg(s,A)):A instanceof Xm?(Qt("SyncEngine","Document no longer in limbo: "+A.key),s.No.removeReference(A.key,i),s.No.containsKey(A.key)||mm(s,A.key)):En()}}function xg(s,i){var c=i.key,p=c.path.canonicalString();s.Do.get(c)||s.So.has(p)||(Qt("SyncEngine","New document in limbo: "+c),s.So.add(p),Ep(s))}function Ep(s){for(;s.So.size>0&&s.Do.size<s.maxConcurrentLimboResolutions;){var i=s.So.values().next().value;s.So.delete(i);var c=new ai(On.fromString(i)),p=s.Fo.next();s.Co.set(p,new of(c)),s.Do=s.Do.insert(c,p),Ba(s.remoteStore,new Er(Ea(pa(c.path)),p,2,J.o))}}function hu(s,i,c){return(0,we.mG)(this,void 0,void 0,function(){var p,b,A,S;return(0,we.Jh)(this,function(j){switch(j.label){case 0:return p=F(s),b=[],A=[],S=[],p.Po.isEmpty()?[3,3]:(p.Po.forEach(function(se,Me){S.push(p.Oo(Me,i,c).then(function(Be){if(Be){p.isPrimaryClient&&p.sharedClientState.updateQueryState(Me.targetId,Be.fromCache?"not-current":"current"),b.push(Be);var et=wl.Pn(Me.targetId,Be);A.push(et)}}))}),[4,Promise.all(S)]);case 1:return j.sent(),p.vo._r(b),[4,function(se,Me){return(0,we.mG)(this,void 0,void 0,function(){var Be,et,ht,Rt,Lt,Gt,Cn,ki;return(0,we.Jh)(this,function(Si){switch(Si.label){case 0:Be=F(se),Si.label=1;case 1:return Si.trys.push([1,3,,4]),[4,Be.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Tr){return vn.forEach(Me,function(bo){return vn.forEach(bo.bn,function(ms){return Be.persistence.referenceDelegate.addReference(Tr,bo.targetId,ms)}).next(function(){return vn.forEach(bo.vn,function(ms){return Be.persistence.referenceDelegate.removeReference(Tr,bo.targetId,ms)})})})})];case 2:return Si.sent(),[3,4];case 3:if(!ah(et=Si.sent()))throw et;return Qt("LocalStore","Failed to update sequence numbers: "+et),[3,4];case 4:for(ht=0,Rt=Me;ht<Rt.length;ht++)Gt=(Lt=Rt[ht]).targetId,Lt.fromCache||(Cn=Be.kn.get(Gt),ki=Cn.withLastLimboFreeSnapshotVersion(Cn.snapshotVersion),Be.kn=Be.kn.insert(Gt,ki));return[2]}})})}(p.localStore,A)];case 2:j.sent(),j.label=3;case 3:return[2]}})})}function _m(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,p;return(0,we.Jh)(this,function(b){switch(b.label){case 0:return(c=F(s)).currentUser.isEqual(i)?[3,3]:(Qt("SyncEngine","User change. New user:",i.toKey()),[4,Tu(c.localStore,i)]);case 1:return p=b.sent(),c.currentUser=i,(A=c).ko.forEach(function(j){j.forEach(function(se){se.reject(new qe(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),A.ko.clear(),c.sharedClientState.handleUserChange(i,p.removedBatchIds,p.addedBatchIds),[4,hu(c,p.Ln)];case 2:b.sent(),b.label=3;case 3:return[2]}var A})})}function bm(s,i){var c=F(s),p=c.Co.get(i);if(p&&p.bo)return gr().add(p.key);var b=gr(),A=c.Vo.get(i);if(!A)return b;for(var S=0,j=A;S<j.length;S++){var Me=c.Po.get(j[S]);b=b.unionWith(Me.view.wo)}return b}function sd(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,p,b;return(0,we.Jh)(this,function(A){switch(A.label){case 0:return[4,yp((c=F(s)).localStore,i.query,!0)];case 1:return p=A.sent(),b=i.view.Ao(p),[2,(c.isPrimaryClient&&du(c,i.targetId,b.To),b)]}})})}function Hf(s){return(0,we.mG)(this,void 0,void 0,function(){var i;return(0,we.Jh)(this,function(c){return[2,Pd((i=F(s)).localStore).then(function(p){return hu(i,p)})]})})}function fu(s,i,c,p){return(0,we.mG)(this,void 0,void 0,function(){var b,A;return(0,we.Jh)(this,function(S){switch(S.label){case 0:return[4,(j=(b=F(s)).localStore,se=i,Me=F(j),Be=F(Me._n),Me.persistence.runTransaction("Lookup mutation documents","readonly",function(et){return Be.jt(et,se).next(function(ht){return ht?Me.Mn.pn(et,ht):vn.resolve(null)})}))];case 1:return null===(A=S.sent())?[3,6]:"pending"!==c?[3,3]:[4,ph(b.remoteStore)];case 2:return S.sent(),[3,4];case 3:"acknowledged"===c||"rejected"===c?(rl(b,i,p||null),sf(b,i),function(j,se){F(F(j)._n).Gt(se)}(b.localStore,i)):En(),S.label=4;case 4:return[4,hu(b,A)];case 5:return S.sent(),[3,7];case 6:Qt("SyncEngine","Cannot apply mutation batch with id: "+i),S.label=7;case 7:return[2]}var j,se,Me,Be})})}function wc(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,p,b,A,S,se,Me;return(0,we.Jh)(this,function(Be){switch(Be.label){case 0:return Mp(c=F(s)),Eg(c),!0!==i||!0===c.$o?[3,3]:(p=c.sharedClientState.getAllActiveQueryTargets(),[4,Fd(c,p.toArray())]);case 1:return b=Be.sent(),c.$o=!0,[4,gh(c.remoteStore,!0)];case 2:for(Be.sent(),A=0,S=b;A<S.length;A++)Ba(c.remoteStore,S[A]);return[3,7];case 3:return!1!==i||!1===c.$o?[3,7]:(se=[],Me=Promise.resolve(),c.Vo.forEach(function(et,ht){c.sharedClientState.isLocalQueryTarget(ht)?se.push(ht):Me=Me.then(function(){return gs(c,ht),Cl(c.localStore,ht,!0)}),kp(c.remoteStore,ht)}),[4,Me]);case 4:return Be.sent(),[4,Fd(c,se)];case 5:return Be.sent(),(ht=F(c)).Co.forEach(function(Rt,Lt){kp(ht.remoteStore,Lt)}),ht.No.ts(),ht.Co=new Map,ht.Do=new ps(ai.comparator),c.$o=!1,[4,gh(c.remoteStore,!1)];case 6:Be.sent(),Be.label=7;case 7:return[2]}var ht})})}function Fd(s,i,c){return(0,we.mG)(this,void 0,void 0,function(){var p,b,A,S,j,se,Me,Be,et,ht,Lt,Gt,Cn;return(0,we.Jh)(this,function(Rn){switch(Rn.label){case 0:p=F(s),b=[],A=[],S=0,j=i,Rn.label=1;case 1:return S<j.length?(Me=void 0,(Be=p.Vo.get(se=j[S]))&&0!==Be.length?[4,Yh(p.localStore,Ea(Be[0]))]:[3,7]):[3,13];case 2:Me=Rn.sent(),et=0,ht=Be,Rn.label=3;case 3:return et<ht.length?(Lt=p.Po.get(ht[et]),[4,sd(p,Lt)]):[3,6];case 4:(Gt=Rn.sent()).snapshot&&A.push(Gt.snapshot),Rn.label=5;case 5:return et++,[3,3];case 6:return[3,11];case 7:return[4,ag(p.localStore,se)];case 8:return Cn=Rn.sent(),[4,Yh(p.localStore,Cn)];case 9:return Me=Rn.sent(),[4,kg(p,Cs(Cn),se,!1)];case 10:Rn.sent(),Rn.label=11;case 11:b.push(Me),Rn.label=12;case 12:return S++,[3,1];case 13:return[2,(p.vo._r(A),b)]}})})}function Cs(s){return _l(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Ws(s){var i=F(s);return F(F(i.localStore).persistence).fn()}function t_(s,i,c,p){return(0,we.mG)(this,void 0,void 0,function(){var b,A,S;return(0,we.Jh)(this,function(j){switch(j.label){case 0:return(b=F(s)).$o?(Qt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!b.Vo.has(i))return[3,8];switch(c){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Pd(b.localStore)];case 3:return A=j.sent(),S=Au.createSynthesizedRemoteEventForCurrentChange(i,"current"===c),[4,hu(b,A,S)];case 4:return j.sent(),[3,8];case 5:return[4,Cl(b.localStore,i,!0)];case 6:return j.sent(),gs(b,i,p),[3,8];case 7:En(),j.label=8;case 8:return[2]}})})}function Br(s,i,c){return(0,we.mG)(this,void 0,void 0,function(){var p,b,A,S,j,se,Me,Be,et;return(0,we.Jh)(this,function(Rt){switch(Rt.label){case 0:if(!(p=Mp(s)).$o)return[3,10];b=0,A=i,Rt.label=1;case 1:return b<A.length?p.Vo.has(S=A[b])?(Qt("SyncEngine","Adding an already active target "+S),[3,5]):[4,ag(p.localStore,S)]:[3,6];case 2:return j=Rt.sent(),[4,Yh(p.localStore,j)];case 3:return se=Rt.sent(),[4,kg(p,Cs(j),se.targetId,!1)];case 4:Rt.sent(),Ba(p.remoteStore,se),Rt.label=5;case 5:return b++,[3,1];case 6:Me=function(Lt){return(0,we.Jh)(this,function(Gt){switch(Gt.label){case 0:return p.Vo.has(Lt)?[4,Cl(p.localStore,Lt,!1).then(function(){kp(p.remoteStore,Lt),gs(p,Lt)}).catch(Td)]:[3,2];case 1:Gt.sent(),Gt.label=2;case 2:return[2]}})},Be=0,et=c,Rt.label=7;case 7:return Be<et.length?[5,Me(et[Be])]:[3,10];case 8:Rt.sent(),Rt.label=9;case 9:return Be++,[3,7];case 10:return[2]}})})}function Mp(s){var i=F(s);return i.remoteStore.remoteSyncer.applyRemoteEvent=Rd.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=bm.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=xp.bind(null,i),i.vo._r=hm.bind(null,i.eventManager),i.vo.Mo=nf.bind(null,i.eventManager),i}function Eg(s){var i=F(s);return i.remoteStore.remoteSyncer.applySuccessfulWrite=gm.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=bh.bind(null,i),i}var qf=function(){function s(){this.synchronizeTabs=!1}return s.prototype.initialize=function(i){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(c){switch(c.label){case 0:return this.R=Lr(i.databaseInfo.databaseId),this.sharedClientState=this.Bo(i),this.persistence=this.qo(i),[4,this.persistence.start()];case 1:return c.sent(),this.gcScheduler=this.Uo(i),this.localStore=this.Ko(i),[2]}})})},s.prototype.Uo=function(i){return null},s.prototype.Ko=function(i){return vp(this.persistence,new Ff,i.initialUser,this.R)},s.prototype.qo=function(i){return new mc(Hc.bs,this.R)},s.prototype.Bo=function(i){return new aa},s.prototype.terminate=function(){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(i){switch(i.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return i.sent(),[4,this.persistence.shutdown()];case 2:return i.sent(),[2]}})})},s}(),Al=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).Qo=c,A.cacheSizeBytes=p,A.forceOwnership=b,A.synchronizeTabs=!1,A}return(0,we.ZT)(i,s),i.prototype.initialize=function(c){return(0,we.mG)(this,void 0,void 0,function(){var p=this;return(0,we.Jh)(this,function(b){switch(b.label){case 0:return[4,s.prototype.initialize.call(this,c)];case 1:return b.sent(),[4,$m(this.localStore)];case 2:return b.sent(),[4,this.Qo.initialize(this,c)];case 3:return b.sent(),[4,Eg(this.Qo.syncEngine)];case 4:return b.sent(),[4,ph(this.Qo.remoteStore)];case 5:return b.sent(),[4,this.persistence.He(function(){return p.gcScheduler&&!p.gcScheduler.started&&p.gcScheduler.start(p.localStore),Promise.resolve()})];case 6:return b.sent(),[2]}})})},i.prototype.Ko=function(c){return vp(this.persistence,new Ff,c.initialUser,this.R)},i.prototype.Uo=function(c){return new lu(this.persistence.referenceDelegate.garbageCollector,c.asyncQueue)},i.prototype.qo=function(c){var p=Id(c.databaseInfo.databaseId,c.databaseInfo.persistenceKey),b=void 0!==this.cacheSizeBytes?zc.withCacheSize(this.cacheSizeBytes):zc.DEFAULT;return new Rf(this.synchronizeTabs,p,c.clientId,b,c.asyncQueue,um(),Jh(),this.R,this.sharedClientState,!!this.forceOwnership)},i.prototype.Bo=function(c){return new aa},i}(qf),Dp=function(s){function i(c,p){var b=this;return(b=s.call(this,c,p,!1)||this).Qo=c,b.cacheSizeBytes=p,b.synchronizeTabs=!0,b}return(0,we.ZT)(i,s),i.prototype.initialize=function(c){return(0,we.mG)(this,void 0,void 0,function(){var p,b=this;return(0,we.Jh)(this,function(A){switch(A.label){case 0:return[4,s.prototype.initialize.call(this,c)];case 1:return A.sent(),p=this.Qo.syncEngine,this.sharedClientState instanceof sa?(this.sharedClientState.syncEngine={ui:fu.bind(null,p),ai:t_.bind(null,p),hi:Br.bind(null,p),fn:Ws.bind(null,p),ci:Hf.bind(null,p)},[4,this.sharedClientState.start()]):[3,3];case 2:A.sent(),A.label=3;case 3:return[4,this.persistence.He(function(S){return(0,we.mG)(b,void 0,void 0,function(){return(0,we.Jh)(this,function(j){switch(j.label){case 0:return[4,wc(this.Qo.syncEngine,S)];case 1:return j.sent(),this.gcScheduler&&(S&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):S||this.gcScheduler.stop()),[2]}})})})];case 4:return A.sent(),[2]}})})},i.prototype.Bo=function(c){var p=um();if(!sa.yt(p))throw new qe(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var b=Id(c.databaseInfo.databaseId,c.databaseInfo.persistenceKey);return new sa(p,c.asyncQueue,b,c.clientId,c.initialUser)},i}(Al),pu=function(){function s(){}return s.prototype.initialize=function(i,c){return(0,we.mG)(this,void 0,void 0,function(){var p=this;return(0,we.Jh)(this,function(b){switch(b.label){case 0:return this.localStore?[3,2]:(this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(c),this.remoteStore=this.createRemoteStore(c),this.eventManager=this.createEventManager(c),this.syncEngine=this.createSyncEngine(c,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(A){return _a(p.syncEngine,A,1)},this.remoteStore.remoteSyncer.handleCredentialChange=_m.bind(null,this.syncEngine),[4,gh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:b.sent(),b.label=2;case 2:return[2]}})})},s.prototype.createEventManager=function(i){return new Nd},s.prototype.createDatastore=function(i){var p=Lr(i.databaseInfo.databaseId),b=new Iu(i.databaseInfo);return new Ym(i.credentials,b,p)},s.prototype.createRemoteStore=function(i){var c,p,b,A,S,j=this;return c=this.localStore,p=this.datastore,b=i.asyncQueue,A=function(se){return _a(j.syncEngine,se,0)},S=bc.yt()?new bc:new il,new fg(c,p,b,A,S)},s.prototype.createSyncEngine=function(i,c){return Me=c,Be=new pm(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions),Me&&(Be.$o=!0),Be;var Me,Be},s.prototype.terminate=function(){return function(i){return(0,we.mG)(this,void 0,void 0,function(){var c;return(0,we.Jh)(this,function(p){switch(p.label){case 0:return c=F(i),Qt("RemoteStore","RemoteStore shutting down."),c.Or.add(5),[4,vc(c)];case 1:return p.sent(),c.Lr.shutdown(),c.Br.set("Unknown"),[2]}})})}(this.remoteStore)},s}(),Tp=function(){function s(i){this.observer=i,this.muted=!1}return s.prototype.next=function(i){this.observer.next&&this.jo(this.observer.next,i)},s.prototype.error=function(i){this.observer.error?this.jo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)},s.prototype.Wo=function(){this.muted=!0},s.prototype.jo=function(i,c){var p=this;this.muted||setTimeout(function(){p.muted||i(c)},0)},s}(),Zs=(function(){function s(i,c){var p=this;this.Go=i,this.R=c,this.metadata=new Pa,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(b){b&&b.io()?p.metadata.resolve(b.payload.metadata):p.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==b?void 0:b.payload)))},function(b){return p.metadata.reject(b)})}s.prototype.close=function(){return this.Go.cancel()},s.prototype.getMetadata=function(){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(i){return[2,this.metadata.promise]})})},s.prototype.Lo=function(){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(i){switch(i.label){case 0:return[4,this.getMetadata()];case 1:return[2,(i.sent(),this.Ho())]}})})},s.prototype.Ho=function(){return(0,we.mG)(this,void 0,void 0,function(){var i,c,p,b;return(0,we.Jh)(this,function(A){switch(A.label){case 0:return[4,this.Jo()];case 1:return null===(i=A.sent())?[2,null]:(c=this.zo.decode(i),p=Number(c),isNaN(p)&&this.Yo("length string ("+c+") is not valid number"),[4,this.Xo(p)]);case 2:return b=A.sent(),[2,new yg(JSON.parse(b),i.length+p)]}})})},s.prototype.Zo=function(){return this.buffer.findIndex(function(i){return i==="{".charCodeAt(0)})},s.prototype.Jo=function(){return(0,we.mG)(this,void 0,void 0,function(){var i,c;return(0,we.Jh)(this,function(p){switch(p.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(p.sent())return[3,3];p.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((i=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),c=this.buffer.slice(0,i),[2,(this.buffer=this.buffer.slice(i),c)])}})})},s.prototype.Xo=function(i){return(0,we.mG)(this,void 0,void 0,function(){var c;return(0,we.Jh)(this,function(p){switch(p.label){case 0:return this.buffer.length<i?[4,this.tc()]:[3,3];case 1:p.sent()&&this.Yo("Reached the end of bundle when more is expected."),p.label=2;case 2:return[3,0];case 3:return c=this.zo.decode(this.buffer.slice(0,i)),[2,(this.buffer=this.buffer.slice(i),c)]}})})},s.prototype.Yo=function(i){throw this.Go.cancel(),new Error("Invalid bundle format: "+i)},s.prototype.tc=function(){return(0,we.mG)(this,void 0,void 0,function(){var i,c;return(0,we.Jh)(this,function(p){switch(p.label){case 0:return[4,this.Go.read()];case 1:return(i=p.sent()).done||((c=new Uint8Array(this.buffer.length+i.value.length)).set(this.buffer),c.set(i.value,this.buffer.length),this.buffer=c),[2,i.done]}})})}}(),function(){function s(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return s.prototype.lookup=function(i){return(0,we.mG)(this,void 0,void 0,function(){var c,p=this;return(0,we.Jh)(this,function(b){switch(b.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new qe(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(A,S){return(0,we.mG)(this,void 0,void 0,function(){var j,se,Me,Be,et,ht;return(0,we.Jh)(this,function(Rt){switch(Rt.label){case 0:return j=F(A),se=_i(j.R)+"/documents",Me={documents:S.map(function(Lt){return ye(j.R,Lt)})},[4,j.$i("BatchGetDocuments",se,Me)];case 1:return Be=Rt.sent(),et=new Map,Be.forEach(function(Lt){var Cn,Rn,Gt=(Cn=j.R,"found"in(Rn=Lt)?function(ki,Si){U(!!Si.found);var Tr=We(ki,Si.found.name),bo=jo(Si.found.updateTime),ms=new Aa({mapValue:{fields:Si.found.fields}});return xa.newFoundDocument(Tr,bo,ms)}(Cn,Rn):"missing"in Rn?function(ki,Si){U(!!Si.missing),U(!!Si.readTime);var Tr=We(ki,Si.missing),bo=jo(Si.readTime);return xa.newNoDocument(Tr,bo)}(Cn,Rn):En());et.set(Gt.key.toString(),Gt)}),ht=[],[2,(S.forEach(function(Lt){var Gt=et.get(Lt.toString());U(!!Gt),ht.push(Gt)}),ht)]}})})}(this.datastore,i)];case 1:return[2,((c=b.sent()).forEach(function(A){return p.recordVersion(A)}),c)]}})})},s.prototype.set=function(i,c){this.write(c.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())},s.prototype.update=function(i,c){try{this.write(c.toMutation(i,this.preconditionForUpdate(i)))}catch(p){this.lastWriteError=p}this.writtenDocs.add(i.toString())},s.prototype.delete=function(i){this.write(new Ll(i,this.precondition(i))),this.writtenDocs.add(i.toString())},s.prototype.commit=function(){return(0,we.mG)(this,void 0,void 0,function(){var i,c=this;return(0,we.Jh)(this,function(p){switch(p.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return i=this.readVersions,this.mutations.forEach(function(b){i.delete(b.key.toString())}),i.forEach(function(b,A){var S=ai.fromPath(A);c.mutations.push(new Pc(S,c.precondition(S)))}),[4,function(b,A){return(0,we.mG)(this,void 0,void 0,function(){var S,j,se;return(0,we.Jh)(this,function(Me){switch(Me.label){case 0:return S=F(b),j=_i(S.R)+"/documents",se={writes:A.map(function(Be){return Kr(S.R,Be)})},[4,S.Ni("Commit",j,se)];case 1:return Me.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return p.sent(),this.committed=!0,[2]}})})},s.prototype.recordVersion=function(i){var c;if(i.isFoundDocument())c=i.version;else{if(!i.isNoDocument())throw En();c=Pt.min()}var p=this.readVersions.get(i.key.toString());if(p){if(!c.isEqual(p))throw new qe(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),c)},s.prototype.precondition=function(i){var c=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&c?Fa.updateTime(c):Fa.none()},s.prototype.preconditionForUpdate=function(i){var c=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&c){if(c.isEqual(Pt.min()))throw new qe(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fa.updateTime(c)}return Fa.exists(!0)},s.prototype.write=function(i){this.ensureCommitNotCalled(),this.mutations.push(i)},s.prototype.ensureCommitNotCalled=function(){},s}()),xl=function(){function s(i,c,p,b){this.asyncQueue=i,this.datastore=c,this.updateFunction=p,this.deferred=b,this.ec=5,this.Zi=new dg(this.asyncQueue,"transaction_retry")}return s.prototype.run=function(){this.ec-=1,this.nc()},s.prototype.nc=function(){var i=this;this.Zi.ji(function(){return(0,we.mG)(i,void 0,void 0,function(){var c,p,b=this;return(0,we.Jh)(this,function(A){return c=new Zs(this.datastore),(p=this.sc(c))&&p.then(function(S){b.asyncQueue.enqueueAndForget(function(){return c.commit().then(function(){b.deferred.resolve(S)}).catch(function(j){b.ic(j)})})}).catch(function(S){b.ic(S)}),[2]})})})},s.prototype.sc=function(i){try{var c=this.updateFunction(i);return!no(c)&&c.catch&&c.then?c:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(p){return this.deferred.reject(p),null}},s.prototype.ic=function(i){var c=this;this.ec>0&&this.rc(i)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return c.nc(),Promise.resolve()})):this.deferred.reject(i)},s.prototype.rc=function(i){if("FirebaseError"===i.name){var c=i.code;return"aborted"===c||"failed-precondition"===c||!th(c)}return!1},s}(),af=function(){function s(i,c,p){var b=this;this.credentials=i,this.asyncQueue=c,this.databaseInfo=p,this.user=oa.UNAUTHENTICATED,this.clientId=re.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(c,function(A){return(0,we.mG)(b,void 0,void 0,function(){return(0,we.Jh)(this,function(S){switch(S.label){case 0:return Qt("FirestoreClient","Received user=",A.uid),[4,this.credentialListener(A)];case 1:return S.sent(),this.user=A,[2]}})})})}return s.prototype.getConfiguration=function(){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(i){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},s.prototype.setCredentialChangeListener=function(i){this.credentialListener=i},s.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new qe(ae.FAILED_PRECONDITION,"The client has already been terminated.")},s.prototype.terminate=function(){var i=this;this.asyncQueue.enterRestrictedMode();var c=new Pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,we.mG)(i,void 0,void 0,function(){var p,b;return(0,we.Jh)(this,function(A){switch(A.label){case 0:return A.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:A.sent(),A.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:A.sent(),A.label=4;case 4:return this.credentials.removeChangeListener(),c.resolve(),[3,6];case 5:return p=A.sent(),b=mh(p,"Failed to shutdown persistence"),c.reject(b),[3,6];case 6:return[2]}})})}),c.promise},s}();function Mg(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,p,b=this;return(0,we.Jh)(this,function(A){switch(A.label){case 0:return s.asyncQueue.verifyOperationInProgress(),Qt("FirestoreClient","Initializing OfflineComponentProvider"),[4,s.getConfiguration()];case 1:return c=A.sent(),[4,i.initialize(c)];case 2:return A.sent(),p=c.initialUser,s.setCredentialChangeListener(function(S){return(0,we.mG)(b,void 0,void 0,function(){return(0,we.Jh)(this,function(j){switch(j.label){case 0:return p.isEqual(S)?[3,2]:[4,Tu(i.localStore,S)];case 1:j.sent(),p=S,j.label=2;case 2:return[2]}})})}),i.persistence.setDatabaseDeletedListener(function(){return s.terminate()}),s.offlineComponents=i,[2]}})})}function yh(s,i){return(0,we.mG)(this,void 0,void 0,function(){var c,p;return(0,we.Jh)(this,function(b){switch(b.label){case 0:return s.asyncQueue.verifyOperationInProgress(),[4,Sp(s)];case 1:return c=b.sent(),Qt("FirestoreClient","Initializing OnlineComponentProvider"),[4,s.getConfiguration()];case 2:return p=b.sent(),[4,i.initialize(c,p)];case 3:return b.sent(),s.setCredentialChangeListener(function(A){return function(S,j){return(0,we.mG)(this,void 0,void 0,function(){var se,Me;return(0,we.Jh)(this,function(Be){switch(Be.label){case 0:return(se=F(S)).asyncQueue.verifyOperationInProgress(),Qt("RemoteStore","RemoteStore received new credentials"),Me=fh(se),se.Or.add(3),[4,vc(se)];case 1:return Be.sent(),Me&&se.Br.set("Unknown"),[4,se.remoteSyncer.handleCredentialChange(j)];case 2:return Be.sent(),se.Or.delete(3),[4,Xh(se)];case 3:return Be.sent(),[2]}})})}(i.remoteStore,A)}),s.onlineComponents=i,[2]}})})}function Sp(s){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(i){switch(i.label){case 0:return s.offlineComponents?[3,2]:(Qt("FirestoreClient","Using default OfflineComponentProvider"),[4,Mg(s,new qf)]);case 1:i.sent(),i.label=2;case 2:return[2,s.offlineComponents]}})})}function $f(s){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(i){switch(i.label){case 0:return s.onlineComponents?[3,2]:(Qt("FirestoreClient","Using default OnlineComponentProvider"),[4,yh(s,new pu)]);case 1:i.sent(),i.label=2;case 2:return[2,s.onlineComponents]}})})}function Os(s){return Sp(s).then(function(i){return i.persistence})}function wh(s){return Sp(s).then(function(i){return i.localStore})}function Cc(s){return $f(s).then(function(i){return i.remoteStore})}function rr(s){return $f(s).then(function(i){return i.syncEngine})}function Ld(s){return(0,we.mG)(this,void 0,void 0,function(){var i,c;return(0,we.Jh)(this,function(p){switch(p.label){case 0:return[4,$f(s)];case 1:return i=p.sent(),[2,((c=i.eventManager).onListen=e_.bind(null,i.syncEngine),c.onUnlisten=yc.bind(null,i.syncEngine),c)]}})})}function la(s,i,c){var p=this;void 0===c&&(c={});var b=new Pa;return s.asyncQueue.enqueueAndForget(function(){return(0,we.mG)(p,void 0,void 0,function(){var A;return(0,we.Jh)(this,function(S){switch(S.label){case 0:return A=function(j,se,Me,Be,et){var ht=new Tp({next:function(Lt){se.enqueueAndForget(function(){return od(j,Rt)});var Gt=Lt.docs.has(Me);!Gt&&Lt.fromCache?et.reject(new qe(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):Gt&&Lt.fromCache&&Be&&"server"===Be.source?et.reject(new qe(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):et.resolve(Lt)},error:function(Lt){return et.reject(Lt)}}),Rt=new rf(pa(Me.path),ht,{includeMetadataChanges:!0,so:!0});return rd(j,Rt)},[4,Ld(s)];case 1:return[2,A.apply(void 0,[S.sent(),s.asyncQueue,i,c,b])]}})})}),b.promise}function lf(s,i,c){var p=this;void 0===c&&(c={});var b=new Pa;return s.asyncQueue.enqueueAndForget(function(){return(0,we.mG)(p,void 0,void 0,function(){var A;return(0,we.Jh)(this,function(S){switch(S.label){case 0:return A=function(j,se,Me,Be,et){var ht=new Tp({next:function(Lt){se.enqueueAndForget(function(){return od(j,Rt)}),Lt.fromCache&&"server"===Be.source?et.reject(new qe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):et.resolve(Lt)},error:function(Lt){return et.reject(Lt)}}),Rt=new rf(Me,ht,{includeMetadataChanges:!0,so:!0});return rd(j,Rt)},[4,Ld(s)];case 1:return[2,A.apply(void 0,[S.sent(),s.asyncQueue,i,c,b])]}})})}),b.promise}var Ip=function(s,i,c,p,b,A,S,j){this.databaseId=s,this.appId=i,this.persistenceKey=c,this.host=p,this.ssl=b,this.forceLongPolling=A,this.autoDetectLongPolling=S,this.useFetchStreams=j},ro=function(){function s(i,c){this.projectId=i,this.database=c||"(default)"}return Object.defineProperty(s.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(i){return i instanceof s&&i.projectId===this.projectId&&i.database===this.database},s}(),n_=new Map,Po=function(s,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+s},Ch=function(){function s(){this.changeListener=null}return s.prototype.getToken=function(){return Promise.resolve(null)},s.prototype.invalidateToken=function(){},s.prototype.setChangeListener=function(i,c){this.changeListener=c,i.enqueueRetryable(function(){return c(oa.UNAUTHENTICATED)})},s.prototype.removeChangeListener=function(){this.changeListener=null},s}(),Dg=function(){function s(i){this.token=i,this.changeListener=null}return s.prototype.getToken=function(){return Promise.resolve(this.token)},s.prototype.invalidateToken=function(){},s.prototype.setChangeListener=function(i,c){var p=this;this.changeListener=c,i.enqueueRetryable(function(){return c(p.token.user)})},s.prototype.removeChangeListener=function(){this.changeListener=null},s}(),Bd=function(){function s(i){var c=this;this.currentUser=oa.UNAUTHENTICATED,this.oc=new Pa,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){c.cc++,c.currentUser=c.ac(),c.oc.resolve(),c.changeListener&&c.asyncQueue.enqueueRetryable(function(){return c.changeListener(c.currentUser)})};var p=function(b){Qt("FirebaseCredentialsProvider","Auth detected"),c.auth=b,c.auth.addAuthTokenListener(c.uc)};i.onInit(function(b){return p(b)}),setTimeout(function(){if(!c.auth){var b=i.getImmediate({optional:!0});b?p(b):(Qt("FirebaseCredentialsProvider","Auth not yet detected"),c.oc.resolve())}},0)}return s.prototype.getToken=function(){var i=this,c=this.cc,p=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(p).then(function(b){return i.cc!==c?(Qt("FirebaseCredentialsProvider","getToken aborted due to token change."),i.getToken()):b?(U("string"==typeof b.accessToken),new Po(b.accessToken,i.currentUser)):null}):Promise.resolve(null)},s.prototype.invalidateToken=function(){this.forceRefresh=!0},s.prototype.setChangeListener=function(i,c){var p=this;this.asyncQueue=i,this.asyncQueue.enqueueRetryable(function(){return(0,we.mG)(p,void 0,void 0,function(){return(0,we.Jh)(this,function(b){switch(b.label){case 0:return[4,this.oc.promise];case 1:return b.sent(),[4,c(this.currentUser)];case 2:return b.sent(),this.changeListener=c,[2]}})})})},s.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},s.prototype.ac=function(){var i=this.auth&&this.auth.getUid();return U(null===i||"string"==typeof i),new oa(i)},s}(),ym=function(){function s(i,c,p){this.hc=i,this.lc=c,this.fc=p,this.type="FirstParty",this.user=oa.FIRST_PARTY}return Object.defineProperty(s.prototype,"authHeaders",{get:function(){var i={"X-Goog-AuthUser":this.lc},c=this.hc.auth.getAuthHeaderValueForFirstParty([]);return c&&(i.Authorization=c),this.fc&&(i["X-Goog-Iam-Authorization-Token"]=this.fc),i},enumerable:!1,configurable:!0}),s}(),Tg=function(){function s(i,c,p){this.hc=i,this.lc=c,this.fc=p}return s.prototype.getToken=function(){return Promise.resolve(new ym(this.hc,this.lc,this.fc))},s.prototype.setChangeListener=function(i,c){i.enqueueRetryable(function(){return c(oa.FIRST_PARTY)})},s.prototype.removeChangeListener=function(){},s.prototype.invalidateToken=function(){},s}();function Wf(s,i,c){if(!c)throw new qe(ae.INVALID_ARGUMENT,"Function "+s+"() cannot be called with an empty "+i+".")}function Pp(s,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new qe(ae.INVALID_ARGUMENT,"Invalid options passed to function "+s+'(): You cannot specify both "merge" and "mergeFields".');return i}function Op(s,i,c,p){if(!0===i&&!0===p)throw new qe(ae.INVALID_ARGUMENT,s+" and "+c+" cannot be used together.")}function wm(s){if(!ai.isDocumentKey(s))throw new qe(ae.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s+" has "+s.length+".")}function cf(s){if(ai.isDocumentKey(s))throw new qe(ae.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+s+" has "+s.length+".")}function Np(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=s.substring(0,20)+"..."),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";var i=function(c){if(c.constructor){var p=/function\s+([^\s(]+)\s*\(/.exec(c.constructor.toString());if(p&&p.length>1)return p[1]}return null}(s);return i?"a custom "+i+" object":"an object"}return"function"==typeof s?"a function":En()}function po(s,i){if("_delegate"in s&&(s=s._delegate),!(s instanceof i)){if(i.name===s.constructor.name)throw new qe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var c=Np(s);throw new qe(ae.INVALID_ARGUMENT,"Expected type '"+i.name+"', but it was: "+c)}return s}function Sg(s,i){if(i<=0)throw new qe(ae.INVALID_ARGUMENT,"Function "+s+"() requires a positive number, but it was: "+i+".")}var qc=function(){function s(i){var c;if(void 0===i.host){if(void 0!==i.ssl)throw new qe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(c=i.ssl)||void 0===c||c;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new qe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,Op("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}return s.prototype.isEqual=function(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams},s}(),kc=function(){function s(i,c){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qc({}),this._settingsFrozen=!1,i instanceof ro?(this._databaseId=i,this._credentials=new Ch):(this._app=i,this._databaseId=function(p){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new qe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(p.options.projectId)}(i),this._credentials=new Bd(c))}return Object.defineProperty(s.prototype,"app",{get:function(){if(!this._app)throw new qe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),s.prototype._setSettings=function(i){if(this._settingsFrozen)throw new qe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qc(i),void 0!==i.credentials&&(this._credentials=function(c){if(!c)return new Ch;switch(c.type){case"gapi":var p=c.client;return U(!("object"!=typeof p||null===p||!p.auth||!p.auth.getAuthHeaderValueForFirstParty)),new Tg(p,c.sessionIndex||"0",c.iamToken||null);case"provider":return c.client;default:throw new qe(ae.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))},s.prototype._getSettings=function(){return this._settings},s.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},s.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},s.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},s.prototype._terminate=function(){return(c=n_.get(this))&&(Qt("ComponentProvider","Removing Datastore"),n_.delete(this),c.terminate()),Promise.resolve();var c},s}(),ks=function(){function s(i,c,p){this.converter=c,this._key=p,this.type="document",this.firestore=i}return Object.defineProperty(s.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){return new Ac(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),s.prototype.withConverter=function(i){return new s(this.firestore,i,this._key)},s}(),ol=function(){function s(i,c,p){this.converter=c,this._query=p,this.type="query",this.firestore=i}return s.prototype.withConverter=function(i){return new s(this.firestore,i,this._query)},s}(),Ac=function(s){function i(c,p,b){var A=this;return(A=s.call(this,c,p,pa(b))||this)._path=b,A.type="collection",A}return(0,we.ZT)(i,s),Object.defineProperty(i.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var c=this._path.popLast();return c.isEmpty()?null:new ks(this.firestore,null,new ai(c))},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(c){return new i(this.firestore,c,this._path)},i}(ol);function Ig(s,i){for(var c,p=[],b=2;b<arguments.length;b++)p[b-2]=arguments[b];if(s=(0,Ne.m9)(s),Wf("collection","path",i),s instanceof kc)return cf(c=On.fromString.apply(On,(0,we.ev)([i],p))),new Ac(s,null,c);if(!(s instanceof ks||s instanceof Ac))throw new qe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cf(c=On.fromString.apply(On,(0,we.ev)([s.path],p)).child(On.fromString(i))),new Ac(s.firestore,null,c)}function Zf(s,i){for(var c,p=[],b=2;b<arguments.length;b++)p[b-2]=arguments[b];if(s=(0,Ne.m9)(s),1===arguments.length&&(i=re.u()),Wf("doc","path",i),s instanceof kc)return wm(c=On.fromString.apply(On,(0,we.ev)([i],p))),new ks(s,null,new ai(c));if(!(s instanceof ks||s instanceof Ac))throw new qe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wm(c=s._path.child(On.fromString.apply(On,(0,we.ev)([i],p)))),new ks(s.firestore,s instanceof Ac?s.converter:null,new ai(c))}function ja(s,i){return s=(0,Ne.m9)(s),i=(0,Ne.m9)(i),(s instanceof ks||s instanceof Ac)&&(i instanceof ks||i instanceof Ac)&&s.firestore===i.firestore&&s.path===i.path&&s.converter===i.converter}function El(s,i){return s=(0,Ne.m9)(s),i=(0,Ne.m9)(i),s instanceof ol&&i instanceof ol&&s.firestore===i.firestore&&Gu(s._query,i._query)&&s.converter===i.converter}var Gc=function(){function s(){var i=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new dg(this,"async_queue_retry"),this.Ic=function(){var p=Jh();p&&Qt("AsyncQueue","Visibility state changed to "+p.visibilityState),i.Zi.Gi()};var c=Jh();c&&"function"==typeof c.addEventListener&&c.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(s.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),s.prototype.enqueueAndForget=function(i){this.enqueue(i)},s.prototype.enqueueAndForgetEvenWhileRestricted=function(i){this.Ac(),this.Rc(i)},s.prototype.enterRestrictedMode=function(i){if(!this._c){this._c=!0,this.Ec=i||!1;var c=Jh();c&&"function"==typeof c.removeEventListener&&c.removeEventListener("visibilitychange",this.Ic)}},s.prototype.enqueue=function(i){var c=this;if(this.Ac(),this._c)return new Promise(function(){});var p=new Pa;return this.Rc(function(){return c._c&&c.Ec?Promise.resolve():(i().then(p.resolve,p.reject),p.promise)}).then(function(){return p.promise})},s.prototype.enqueueRetryable=function(i){var c=this;this.enqueueAndForget(function(){return c.wc.push(i),c.bc()})},s.prototype.bc=function(){return(0,we.mG)(this,void 0,void 0,function(){var i,c=this;return(0,we.Jh)(this,function(p){switch(p.label){case 0:if(0===this.wc.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return p.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ah(i=p.sent()))throw i;return Qt("AsyncQueue","Operation failed with retryable error: "+i),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return c.bc()}),p.label=5;case 5:return[2]}})})},s.prototype.Rc=function(i){var c=this,p=this.dc.then(function(){return c.gc=!0,i().catch(function(b){throw c.yc=b,c.gc=!1,Dr("INTERNAL UNHANDLED ERROR: ",(S=(A=b).message||"",A.stack&&(S=A.stack.includes(A.message)?A.stack:A.message+"\n"+A.stack),S)),b;var A,S}).then(function(b){return c.gc=!1,b})});return this.dc=p,p},s.prototype.enqueueAfterDelay=function(i,c,p){var b=this;this.Ac(),this.Tc.indexOf(i)>-1&&(c=0);var A=vg.createAndSchedule(this,i,c,p,function(S){return b.vc(S)});return this.mc.push(A),A},s.prototype.Ac=function(){this.yc&&En()},s.prototype.verifyOperationInProgress=function(){},s.prototype.Pc=function(){return(0,we.mG)(this,void 0,void 0,function(){var i;return(0,we.Jh)(this,function(c){switch(c.label){case 0:return[4,i=this.dc];case 1:c.sent(),c.label=2;case 2:if(i!==this.dc)return[3,0];c.label=3;case 3:return[2]}})})},s.prototype.Vc=function(i){for(var c=0,p=this.mc;c<p.length;c++)if(p[c].timerId===i)return!0;return!1},s.prototype.Sc=function(i){var c=this;return this.Pc().then(function(){c.mc.sort(function(S,j){return S.targetTimeMs-j.targetTimeMs});for(var p=0,b=c.mc;p<b.length;p++){var A=b[p];if(A.skipDelay(),"all"!==i&&A.timerId===i)break}return c.Pc()})},s.prototype.Dc=function(i){this.Tc.push(i)},s.prototype.vc=function(i){var c=this.mc.indexOf(i);this.mc.splice(c,1)},s}();function Nu(s){return function(i,c){if("object"!=typeof i||null===i)return!1;for(var p=i,b=0,A=["next","error","complete"];b<A.length;b++){var S=A[b];if(S in p&&"function"==typeof p[S])return!0}return!1}(s)}!function(){function s(){this._progressObserver={},this._taskCompletionResolver=new Pa,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}s.prototype.onProgress=function(i,c,p){this._progressObserver={next:i,error:c,complete:p}},s.prototype.catch=function(i){return this._taskCompletionResolver.promise.catch(i)},s.prototype.then=function(i,c){return this._taskCompletionResolver.promise.then(i,c)},s.prototype._completeWith=function(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)},s.prototype._failWith=function(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)},s.prototype._updateProgress=function(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}();var ca=function(s){function i(c,p){var b=this;return(b=s.call(this,c,p)||this).type="firestore",b._queue=new Gc,b._persistenceKey="name"in c?c.name:"[DEFAULT]",b}return(0,we.ZT)(i,s),i.prototype._terminate=function(){return this._firestoreClient||km(this),this._firestoreClient.terminate()},i}(kc);function Na(s){return s._firestoreClient||km(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function km(s){var i,A,j,c=s._freezeSettings(),p=(A=(null===(i=s._app)||void 0===i?void 0:i.options.appId)||"",new Ip(s._databaseId,A,s._persistenceKey,(j=c).host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,j.useFetchStreams));s._firestoreClient=new af(s._credentials,s._queue,p)}function Og(s,i,c){var p=this,b=new Pa;return s.asyncQueue.enqueue(function(){return(0,we.mG)(p,void 0,void 0,function(){var A;return(0,we.Jh)(this,function(S){switch(S.label){case 0:return S.trys.push([0,3,,4]),[4,Mg(s,c)];case 1:return S.sent(),[4,yh(s,i)];case 2:return S.sent(),b.resolve(),[3,4];case 3:if(!("FirebaseError"===(j=A=S.sent()).name?j.code===ae.FAILED_PRECONDITION||j.code===ae.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&j instanceof DOMException)||22===j.code||20===j.code||11===j.code))throw A;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+A),b.reject(A),[3,4];case 4:return[2]}var j})})}).then(function(){return b.promise})}function Ng(s){if(s._initialized||s._terminated)throw new qe(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ru=function(){function s(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];for(var p=0;p<i.length;++p)if(0===i[p].length)throw new qe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hs(i)}return s.prototype.isEqual=function(i){return this._internalPath.isEqual(i._internalPath)},s}(),ad=function(){function s(i){this._byteString=i}return s.fromBase64String=function(i){try{return new s(to.fromBase64String(i))}catch(c){throw new qe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+c)}},s.fromUint8Array=function(i){return new s(to.fromUint8Array(i))},s.prototype.toBase64=function(){return this._byteString.toBase64()},s.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},s.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},s.prototype.isEqual=function(i){return this._byteString.isEqual(i._byteString)},s}(),kh=function(s){this._methodName=s},Ah=function(){function s(i,c){if(!isFinite(i)||i<-90||i>90)throw new qe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(c)||c<-180||c>180)throw new qe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+c);this._lat=i,this._long=c}return Object.defineProperty(s.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(i){return this._lat===i._lat&&this._long===i._long},s.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},s.prototype._compareTo=function(i){return ce(this._lat,i._lat)||ce(this._long,i._long)},s}(),i_=/^__.*__$/,jd=function(){function s(i,c,p){this.data=i,this.fieldMask=c,this.fieldTransforms=p}return s.prototype.toMutation=function(i,c){return null!==this.fieldMask?new Kl(i,this.data,this.fieldMask,c,this.fieldTransforms):new Ku(i,this.data,c,this.fieldTransforms)},s}(),Rg=function(){function s(i,c,p){this.data=i,this.fieldMask=c,this.fieldTransforms=p}return s.prototype.toMutation=function(i,c){return new Kl(i,this.data,this.fieldMask,c,this.fieldTransforms)},s}();function Am(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw En()}}var Fu=function(){function s(i,c,p,b,A,S){this.settings=i,this.databaseId=c,this.R=p,this.ignoreUndefinedProperties=b,void 0===A&&this.Cc(),this.fieldTransforms=A||[],this.fieldMask=S||[]}return Object.defineProperty(s.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),s.prototype.xc=function(i){return new s(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},s.prototype.kc=function(i){var c,p=null===(c=this.path)||void 0===c?void 0:c.child(i),b=this.xc({path:p,Fc:!1});return b.$c(i),b},s.prototype.Oc=function(i){var c,p=null===(c=this.path)||void 0===c?void 0:c.child(i),b=this.xc({path:p,Fc:!1});return b.Cc(),b},s.prototype.Mc=function(i){return this.xc({path:void 0,Fc:!0})},s.prototype.Lc=function(i){return df(i,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},s.prototype.contains=function(i){return void 0!==this.fieldMask.find(function(c){return i.isPrefixOf(c)})||void 0!==this.fieldTransforms.find(function(c){return i.isPrefixOf(c.field)})},s.prototype.Cc=function(){if(this.path)for(var i=0;i<this.path.length;i++)this.$c(this.path.get(i))},s.prototype.$c=function(i){if(0===i.length)throw this.Lc("Document fields must not be empty");if(Am(this.Nc)&&i_.test(i))throw this.Lc('Document fields cannot begin and end with "__"')},s}(),xm=function(){function s(i,c,p){this.databaseId=i,this.ignoreUndefinedProperties=c,this.R=p||Lr(i)}return s.prototype.Uc=function(i,c,p,b){return void 0===b&&(b=!1),new Fu({Nc:i,methodName:c,qc:p,path:hs.emptyPath(),Fc:!1,Bc:b},this.databaseId,this.R,this.ignoreUndefinedProperties)},s}();function zd(s){var i=s._freezeSettings(),c=Lr(s._databaseId);return new xm(s._databaseId,!!i.ignoreUndefinedProperties,c)}function Kf(s,i,c,p,b,A){void 0===A&&(A={});var S=s.Uc(A.merge||A.mergeFields?2:0,i,c,b);uf("Data must be an object, but it was:",S,p);var j,se,Me=Rp(p,S);if(A.merge)j=new ia(S.fieldMask),se=S.fieldTransforms;else if(A.mergeFields){for(var Be=[],et=0,ht=A.mergeFields;et<ht.length;et++){var Rt=Bg(i,ht[et],c);if(!S.contains(Rt))throw new qe(ae.INVALID_ARGUMENT,"Field '"+Rt+"' is specified in your field mask but missing from your input data.");zg(Be,Rt)||Be.push(Rt)}j=new ia(Be),se=S.fieldTransforms.filter(function(Lt){return j.covers(Lt.field)})}else j=null,se=S.fieldTransforms;return new jd(new Aa(Me),j,se)}var Fg=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,we.ZT)(i,s),i.prototype._toFieldTransform=function(c){if(2!==c.Nc)throw c.Lc(1===c.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return c.fieldMask.push(c.path),null},i.prototype.isEqual=function(c){return c instanceof i},i}(kh);function $c(s,i,c){return new Fu({Nc:3,qc:i.settings.qc,methodName:s._methodName,Fc:c},i.databaseId,i.R,i.ignoreUndefinedProperties)}var Em=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,we.ZT)(i,s),i.prototype._toFieldTransform=function(c){return new Zl(c.path,new ku)},i.prototype.isEqual=function(c){return c instanceof i},i}(kh),r_=function(s){function i(c,p){var b=this;return(b=s.call(this,c)||this).Kc=p,b}return(0,we.ZT)(i,s),i.prototype._toFieldTransform=function(c){var p=$c(this,c,!0),b=this.Kc.map(function(S){return Vd(S,p)}),A=new Tc(b);return new Zl(c.path,A)},i.prototype.isEqual=function(c){return this===c},i}(kh),Mm=function(s){function i(c,p){var b=this;return(b=s.call(this,c)||this).Kc=p,b}return(0,we.ZT)(i,s),i.prototype._toFieldTransform=function(c){var p=$c(this,c,!0),b=this.Kc.map(function(S){return Vd(S,p)}),A=new Sc(b);return new Zl(c.path,A)},i.prototype.isEqual=function(c){return this===c},i}(kh),Dm=function(s){function i(c,p){var b=this;return(b=s.call(this,c)||this).Qc=p,b}return(0,we.ZT)(i,s),i.prototype._toFieldTransform=function(c){var p=new Rl(c.R,bl(c.R,this.Qc));return new Zl(c.path,p)},i.prototype.isEqual=function(c){return this===c},i}(kh);function Yf(s,i,c,p){var b=s.Uc(1,i,c);uf("Data must be an object, but it was:",b,p);var A=[],S=Aa.empty();fi(p,function(se,Me){var Be=Qf(i,se,c);Me=(0,Ne.m9)(Me);var et=b.Oc(Be);if(Me instanceof Fg)A.push(Be);else{var ht=Vd(Me,et);null!=ht&&(A.push(Be),S.set(Be,ht))}});var j=new ia(A);return new Rg(S,j,b.fieldTransforms)}function Lg(s,i,c,p,b,A){var S=s.Uc(1,i,c),j=[Bg(i,p,c)],se=[b];if(A.length%2!=0)throw new qe(ae.INVALID_ARGUMENT,"Function "+i+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var Me=0;Me<A.length;Me+=2)j.push(Bg(i,A[Me])),se.push(A[Me+1]);for(var Be=[],et=Aa.empty(),ht=j.length-1;ht>=0;--ht)if(!zg(Be,j[ht])){var Rt=j[ht],Lt=se[ht];Lt=(0,Ne.m9)(Lt);var Gt=S.Oc(Rt);if(Lt instanceof Fg)Be.push(Rt);else{var Cn=Vd(Lt,Gt);null!=Cn&&(Be.push(Rt),et.set(Rt,Cn))}}var Rn=new ia(Be);return new Rg(et,Rn,S.fieldTransforms)}function Tm(s,i,c,p){return void 0===p&&(p=!1),Vd(c,s.Uc(p?4:3,i))}function Vd(s,i){if(Sm(s=(0,Ne.m9)(s)))return uf("Unsupported field value:",i,s),Rp(s,i);if(s instanceof kh)return function(c,p){if(!Am(p.Nc))throw p.Lc(c._methodName+"() can only be used with update() and set()");if(!p.path)throw p.Lc(c._methodName+"() is not currently supported inside arrays");var b=c._toFieldTransform(p);b&&p.fieldTransforms.push(b)}(s,i),null;if(void 0===s&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),s instanceof Array){if(i.settings.Fc&&4!==i.Nc)throw i.Lc("Nested arrays are not supported");return function(c,p){for(var b=[],A=0,S=0,j=c;S<j.length;S++){var se=Vd(j[S],p.Mc(A));null==se&&(se={nullValue:"NULL_VALUE"}),b.push(se),A++}return{arrayValue:{values:b}}}(s,i)}return function(c,p){if(null===(c=(0,Ne.m9)(c)))return{nullValue:"NULL_VALUE"};if("number"==typeof c)return bl(p.R,c);if("boolean"==typeof c)return{booleanValue:c};if("string"==typeof c)return{stringValue:c};if(c instanceof Date){var b=ct.fromDate(c);return{timestampValue:iu(p.R,b)}}if(c instanceof ct)return b=new ct(c.seconds,1e3*Math.floor(c.nanoseconds/1e3)),{timestampValue:iu(p.R,b)};if(c instanceof Ah)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof ad)return{bytesValue:Bo(p.R,c._byteString)};if(c instanceof ks){var A=c.firestore._databaseId;if(!A.isEqual(b=p.databaseId))throw p.Lc("Document reference is for database "+A.projectId+"/"+A.database+" but should be for database "+b.projectId+"/"+b.database);return{referenceValue:If(c.firestore._databaseId||p.databaseId,c._key.path)}}throw p.Lc("Unsupported field value: "+Np(c))}(s,i)}function Rp(s,i){var c={};return Yn(s)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):fi(s,function(p,b){var A=Vd(b,i.kc(p));null!=A&&(c[p]=A)}),{mapValue:{fields:c}}}function Sm(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof ct||s instanceof Ah||s instanceof ad||s instanceof ks||s instanceof kh)}function uf(s,i,c){if(!Sm(c)||"object"!=typeof(b=c)||null===b||Object.getPrototypeOf(b)!==Object.prototype&&null!==Object.getPrototypeOf(b)){var p=Np(c);throw i.Lc("an object"===p?s+" a custom object":s+" "+p)}var b}function Bg(s,i,c){if((i=(0,Ne.m9)(i))instanceof Ru)return i._internalPath;if("string"==typeof i)return Qf(s,i);throw df("Field path arguments must be of type string or FieldPath.",s,!1,void 0,c)}var jg=new RegExp("[~\\*/\\[\\]]");function Qf(s,i,c){if(i.search(jg)>=0)throw df("Invalid field path ("+i+"). Paths must not contain '~', '*', '/', '[', or ']'",s,!1,void 0,c);try{return(new(Ru.bind.apply(Ru,(0,we.ev)([void 0],i.split(".")))))._internalPath}catch(p){throw df("Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",s,!1,void 0,c)}}function df(s,i,c,p,b){var A=p&&!p.isEmpty(),S=void 0!==b,j="Function "+i+"() called with invalid data";c&&(j+=" (via `toFirestore()`)");var se="";return(A||S)&&(se+=" (found",A&&(se+=" in field "+p),S&&(se+=" in document "+b),se+=")"),new qe(ae.INVALID_ARGUMENT,(j+=". ")+s+se)}function zg(s,i){return s.some(function(c){return c.isEqual(i)})}var hf=function(){function s(i,c,p,b,A){this._firestore=i,this._userDataWriter=c,this._key=p,this._document=b,this._converter=A}return Object.defineProperty(s.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ref",{get:function(){return new ks(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),s.prototype.exists=function(){return null!==this._document},s.prototype.data=function(){if(this._document){if(this._converter){var i=new Fp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}},s.prototype.get=function(i){if(this._document){var c=this._document.data.field(Lu("DocumentSnapshot.get",i));if(null!==c)return this._userDataWriter.convertValue(c)}},s}(),Fp=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,we.ZT)(i,s),i.prototype.data=function(){return s.prototype.data.call(this)},i}(hf);function Lu(s,i){return"string"==typeof i?Qf(s,i):i instanceof Ru?i._internalPath:i._delegate._internalPath}var xh=function(){function s(i,c){this.hasPendingWrites=i,this.fromCache=c}return s.prototype.isEqual=function(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache},s}(),Ml=function(s){function i(c,p,b,A,S,j){var se=this;return(se=s.call(this,c,p,b,A,j)||this)._firestore=c,se._firestoreImpl=c,se.metadata=S,se}return(0,we.ZT)(i,s),i.prototype.exists=function(){return s.prototype.exists.call(this)},i.prototype.data=function(c){if(void 0===c&&(c={}),this._document){if(this._converter){var p=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(p,c)}return this._userDataWriter.convertValue(this._document.data.value,c.serverTimestamps)}},i.prototype.get=function(c,p){if(void 0===p&&(p={}),this._document){var b=this._document.data.field(Lu("DocumentSnapshot.get",c));if(null!==b)return this._userDataWriter.convertValue(b,p.serverTimestamps)}},i}(hf),Ud=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,we.ZT)(i,s),i.prototype.data=function(c){return void 0===c&&(c={}),s.prototype.data.call(this,c)},i}(Ml),Hd=function(){function s(i,c,p,b){this._firestore=i,this._userDataWriter=c,this._snapshot=b,this.metadata=new xh(b.hasPendingWrites,b.fromCache),this.query=p}return Object.defineProperty(s.prototype,"docs",{get:function(){var i=[];return this.forEach(function(c){return i.push(c)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),s.prototype.forEach=function(i,c){var p=this;this._snapshot.docs.forEach(function(b){i.call(c,new Ud(p._firestore,p._userDataWriter,b.key,b,new xh(p._snapshot.mutatedKeys.has(b.key),p._snapshot.fromCache),p.query.converter))})},s.prototype.docChanges=function(i){void 0===i&&(i={});var c=!!i.includeMetadataChanges;if(c&&this._snapshot.excludesMetadataChanges)throw new qe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===c||(this._cachedChanges=function(p,b){if(p._snapshot.oldDocs.isEmpty()){var A=0;return p._snapshot.docChanges.map(function(j){return{type:"added",doc:new Ud(p._firestore,p._userDataWriter,j.doc.key,j.doc,new xh(p._snapshot.mutatedKeys.has(j.doc.key),p._snapshot.fromCache),p.query.converter),oldIndex:-1,newIndex:A++}})}var S=p._snapshot.oldDocs;return p._snapshot.docChanges.filter(function(j){return b||3!==j.type}).map(function(j){var se=new Ud(p._firestore,p._userDataWriter,j.doc.key,j.doc,new xh(p._snapshot.mutatedKeys.has(j.doc.key),p._snapshot.fromCache),p.query.converter),Me=-1,Be=-1;return 0!==j.type&&(Me=S.indexOf(j.doc.key),S=S.delete(j.doc.key)),1!==j.type&&(Be=(S=S.add(j.doc)).indexOf(j.doc.key)),{type:Vg(j.type),doc:se,oldIndex:Me,newIndex:Be}})}(this,c),this._cachedChangesIncludeMetadataChanges=c),this._cachedChanges},s}();function Vg(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return En()}}function Wc(s,i){return s instanceof Ml&&i instanceof Ml?s._firestore===i._firestore&&s._key.isEqual(i._key)&&(null===s._document?null===i._document:s._document.isEqual(i._document))&&s._converter===i._converter:s instanceof Hd&&i instanceof Hd&&s._firestore===i._firestore&&El(s.query,i.query)&&s.metadata.isEqual(i.metadata)&&s._snapshot.isEqual(i._snapshot)}function ff(s){if(eh(s)&&0===s.explicitOrderBy.length)throw new qe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ns=function(){};function Dl(s){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];for(var p=0,b=i;p<b.length;p++){var A=b[p];s=A._apply(s)}return s}var pf=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).jc=c,A.Wc=p,A.Gc=b,A.type="where",A}return(0,we.ZT)(i,s),i.prototype._apply=function(c){var A,j,p=zd(c.firestore),b=function(A,S,j,se,Me,Be,et){var ht;if(Me.isKeyField()){if("array-contains"===Be||"array-contains-any"===Be)throw new qe(ae.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+Be+"' queries on FieldPath.documentId().");if("in"===Be||"not-in"===Be){Dh(et,Be);for(var Rt=[],Lt=0,Gt=et;Lt<Gt.length;Lt++)Rt.push(Mh(se,A,Gt[Lt]));ht={arrayValue:{values:Rt}}}else ht=Mh(se,A,et)}else"in"!==Be&&"not-in"!==Be&&"array-contains-any"!==Be||Dh(et,Be),ht=Tm(j,"where",et,"in"===Be||"not-in"===Be);var Rn=os.create(Me,Be,ht);return function(ki,Si){if(Si.g()){var Tr=qu(ki);if(null!==Tr&&!Tr.isEqual(Si.field))throw new qe(ae.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Tr.toString()+"' and '"+Si.field.toString()+"'");var bo=Hu(ki);null!==bo&&Bu(0,Si.field,bo)}var ms=function(al,Nm){for(var ip=0,Wg=al.filters;ip<Wg.length;ip++){var a_=Wg[ip];if(Nm.indexOf(a_.op)>=0)return a_.op}return null}(ki,function(al){switch(al){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Si.op));if(null!==ms)throw new qe(ae.INVALID_ARGUMENT,ms===Si.op?"Invalid query. You cannot use more than one '"+Si.op.toString()+"' filter.":"Invalid query. You cannot use '"+Si.op.toString()+"' filters with '"+ms.toString()+"' filters.")}(A,Rn),Rn}(c._query,0,p,c.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ol(c.firestore,c.converter,(j=(A=c._query).filters.concat([b]),new Nl(A.path,A.collectionGroup,A.explicitOrderBy.slice(),j,A.limit,A.limitType,A.startAt,A.endAt)))},i}(Ns),xc=function(s){function i(c,p){var b=this;return(b=s.call(this)||this).jc=c,b.zc=p,b.type="orderBy",b}return(0,we.ZT)(i,s),i.prototype._apply=function(c){var b,S,p=function(b,A,S){if(null!==b.startAt)throw new qe(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==b.endAt)throw new qe(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var j=new Xc(A,S);return function(se,Me){if(null===Hu(se)){var Be=qu(se);null!==Be&&Bu(0,Be,Me.field)}}(b,j),j}(c._query,this.jc,this.zc);return new ol(c.firestore,c.converter,(S=(b=c._query).explicitOrderBy.concat([p]),new Nl(b.path,b.collectionGroup,S,b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)))},i}(Ns),Ug=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).type=c,A.Hc=p,A.Jc=b,A}return(0,we.ZT)(i,s),i.prototype._apply=function(c){return new ol(c.firestore,c.converter,qs(c._query,this.Hc,this.Jc))},i}(Ns),Eh=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).type=c,A.Yc=p,A.Xc=b,A}return(0,we.ZT)(i,s),i.prototype._apply=function(c){var b,A,p=ld(c,this.type,this.Yc,this.Xc);return new ol(c.firestore,c.converter,(A=p,new Nl((b=c._query).path,b.collectionGroup,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,A,b.endAt)))},i}(Ns),qd=function(s){function i(c,p,b){var A=this;return(A=s.call(this)||this).type=c,A.Yc=p,A.Xc=b,A}return(0,we.ZT)(i,s),i.prototype._apply=function(c){var b,A,p=ld(c,this.type,this.Yc,this.Xc);return new ol(c.firestore,c.converter,(A=p,new Nl((b=c._query).path,b.collectionGroup,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,A)))},i}(Ns);function ld(s,i,c,p){if(c[0]=(0,Ne.m9)(c[0]),c[0]instanceof hf)return function(A,S,j,se,Me){if(!se)throw new qe(ae.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+j+"().");for(var Be=[],et=0,ht=Cu(A);et<ht.length;et++){var Rt=ht[et];if(Rt.field.isKeyField())Be.push(Wl(S,se.key));else{var Lt=se.data.field(Rt.field);if(Pl(Lt))throw new qe(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Rt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Lt){var Gt=Rt.field.canonicalString();throw new qe(ae.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Gt+"' (used as the orderBy) does not exist.")}Be.push(Lt)}}return new Jc(Be,Me)}(s._query,s.firestore._databaseId,i,c[0]._document,p);var b=zd(s.firestore);return function(A,S,j,se,Me,Be){var et=A.explicitOrderBy;if(Me.length>et.length)throw new qe(ae.INVALID_ARGUMENT,"Too many arguments provided to "+se+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var ht=[],Rt=0;Rt<Me.length;Rt++){var Lt=Me[Rt];if(et[Rt].field.isKeyField()){if("string"!=typeof Lt)throw new qe(ae.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+se+"(), but got a "+typeof Lt);if(!Ja(A)&&-1!==Lt.indexOf("/"))throw new qe(ae.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+se+"() must be a plain document ID, but '"+Lt+"' contains a slash.");var Gt=A.path.child(On.fromString(Lt));if(!ai.isDocumentKey(Gt))throw new qe(ae.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+se+"() must result in a valid document path, but '"+Gt+"' is not because it contains an odd number of segments.");var Cn=new ai(Gt);ht.push(Wl(S,Cn))}else{var Rn=Tm(j,se,Lt);ht.push(Rn)}}return new Jc(ht,Be)}(s._query,s.firestore._databaseId,b,i,c,p)}function Mh(s,i,c){if("string"==typeof(c=(0,Ne.m9)(c))){if(""===c)throw new qe(ae.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ja(i)&&-1!==c.indexOf("/"))throw new qe(ae.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+c+"' contains a '/' character.");var p=i.path.child(On.fromString(c));if(!ai.isDocumentKey(p))throw new qe(ae.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+p+"' is not because it has an odd number of segments ("+p.length+").");return Wl(s,new ai(p))}if(c instanceof ks)return Wl(s,c._key);throw new qe(ae.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Np(c)+".")}function Dh(s,i){if(!Array.isArray(s)||0===s.length)throw new qe(ae.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+i.toString()+"' filters.");if(s.length>10)throw new qe(ae.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bu(s,i,c){if(!c.isEqual(i))throw new qe(ae.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+i.toString()+"' and so you must also use '"+i.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+c.toString()+"' instead.")}var Ks=function(){function s(){}return s.prototype.convertValue=function(i,c){switch(void 0===c&&(c="none"),pd(i)){case 0:return null;case 1:return i.booleanValue;case 2:return De(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,c);case 5:return i.stringValue;case 6:return this.convertBytes(qa(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,c);case 10:return this.convertObject(i.mapValue,c);default:throw En()}},s.prototype.convertObject=function(i,c){var p=this,b={};return fi(i.fields,function(A,S){b[A]=p.convertValue(S,c)}),b},s.prototype.convertGeoPoint=function(i){return new Ah(De(i.latitude),De(i.longitude))},s.prototype.convertArray=function(i,c){var p=this;return(i.values||[]).map(function(b){return p.convertValue(b,c)})},s.prototype.convertServerTimestamp=function(i,c){switch(c){case"previous":var p=ka(i);return null==p?null:this.convertValue(p,c);case"estimate":return this.convertTimestamp(fr(i));default:return null}},s.prototype.convertTimestamp=function(i){var c=fs(i);return new ct(c.seconds,c.nanos)},s.prototype.convertDocumentKey=function(i,c){var p=On.fromString(i);U(jl(p));var b=new ro(p.get(1),p.get(3)),A=new ai(p.popFirst(5));return b.isEqual(c)||Dr("Document "+A+" contains a document reference within a different database ("+b.projectId+"/"+b.database+") which is not supported. It will be treated as a reference in the current database ("+c.projectId+"/"+c.database+") instead."),A},s}();function Zc(s,i,c){return s?c&&(c.merge||c.mergeFields)?s.toFirestore(i,c):s.toFirestore(i):i}var Th=function(s){function i(c){var p=this;return(p=s.call(this)||this).firestore=c,p}return(0,we.ZT)(i,s),i.prototype.convertBytes=function(c){return new ad(c)},i.prototype.convertReference=function(c){var p=this.convertDocumentKey(c,this.firestore._databaseId);return new ks(this.firestore,null,p)},i}(Ks),gu=function(){function s(i,c){this._firestore=i,this._commitHandler=c,this._mutations=[],this._committed=!1,this._dataReader=zd(i)}return s.prototype.set=function(i,c,p){this._verifyNotCommitted();var b=ju(i,this._firestore),A=Zc(b.converter,c,p),S=Kf(this._dataReader,"WriteBatch.set",b._key,A,null!==b.converter,p);return this._mutations.push(S.toMutation(b._key,Fa.none())),this},s.prototype.update=function(i,c,p){for(var b=[],A=3;A<arguments.length;A++)b[A-3]=arguments[A];this._verifyNotCommitted();var S,j=ju(i,this._firestore);return S="string"==typeof(c=(0,Ne.m9)(c))||c instanceof Ru?Lg(this._dataReader,"WriteBatch.update",j._key,c,p,b):Yf(this._dataReader,"WriteBatch.update",j._key,c),this._mutations.push(S.toMutation(j._key,Fa.exists(!0))),this},s.prototype.delete=function(i){this._verifyNotCommitted();var c=ju(i,this._firestore);return this._mutations=this._mutations.concat(new Ll(c._key,Fa.none())),this},s.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},s.prototype._verifyNotCommitted=function(){if(this._committed)throw new qe(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},s}();function ju(s,i){if((s=(0,Ne.m9)(s)).firestore!==i)throw new qe(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}var Gd=function(s){function i(c){var p=this;return(p=s.call(this)||this).firestore=c,p}return(0,we.ZT)(i,s),i.prototype.convertBytes=function(c){return new ad(c)},i.prototype.convertReference=function(c){var p=this.convertDocumentKey(c,this.firestore._databaseId);return new ks(this.firestore,null,p)},i}(Ks);function gf(s,i,c){for(var p=[],b=3;b<arguments.length;b++)p[b-3]=arguments[b];s=po(s,ks);var A=po(s.firestore,ca),S=zd(A);return cd(A,[("string"==typeof(i=(0,Ne.m9)(i))||i instanceof Ru?Lg(S,"updateDoc",s._key,i,c,p):Yf(S,"updateDoc",s._key,i)).toMutation(s._key,Fa.exists(!0))])}function Hg(s){for(var i,c,p,b=[],A=1;A<arguments.length;A++)b[A-1]=arguments[A];s=(0,Ne.m9)(s);var S={includeMetadataChanges:!1},j=0;"object"!=typeof b[j]||Nu(b[j])||(S=b[j],j++);var se,Me,Be,et={includeMetadataChanges:S.includeMetadataChanges};if(Nu(b[j])){var ht=b[j];b[j]=null===(i=ht.next)||void 0===i?void 0:i.bind(ht),b[j+1]=null===(c=ht.error)||void 0===c?void 0:c.bind(ht),b[j+2]=null===(p=ht.complete)||void 0===p?void 0:p.bind(ht)}if(s instanceof ks)Me=po(s.firestore,ca),Be=pa(s._key.path),se={next:function(Gt){b[j]&&b[j](Jf(Me,s,Gt))},error:b[j+1],complete:b[j+2]};else{var Rt=po(s,ol);Me=po(Rt.firestore,ca),Be=Rt._query;var Lt=new Gd(Me);se={next:function(Gt){b[j]&&b[j](new Hd(Me,Lt,Rt,Gt))},error:b[j+1],complete:b[j+2]},ff(s._query)}return function(Gt,Cn,Rn,ki){var Si=this,Tr=new Tp(ki),bo=new rf(Cn,Tr,Rn);return Gt.asyncQueue.enqueueAndForget(function(){return(0,we.mG)(Si,void 0,void 0,function(){var ms;return(0,we.Jh)(this,function(al){switch(al.label){case 0:return ms=rd,[4,Ld(Gt)];case 1:return[2,ms.apply(void 0,[al.sent(),bo])]}})})}),function(){Tr.Wo(),Gt.asyncQueue.enqueueAndForget(function(){return(0,we.mG)(Si,void 0,void 0,function(){var ms;return(0,we.Jh)(this,function(al){switch(al.label){case 0:return ms=od,[4,Ld(Gt)];case 1:return[2,ms.apply(void 0,[al.sent(),bo])]}})})})}}(Na(Me),Be,et,se)}function cd(s,i){return function(c,p){var b=this,A=new Pa;return c.asyncQueue.enqueueAndForget(function(){return(0,we.mG)(b,void 0,void 0,function(){var S;return(0,we.Jh)(this,function(j){switch(j.label){case 0:return S=Ag,[4,rr(c)];case 1:return[2,S.apply(void 0,[j.sent(),p,A])]}})})}),A.promise}(Na(s),i)}function Jf(s,i,c){var p=c.docs.get(i._key),b=new Gd(s);return new Ml(s,b,i._key,p,new xh(c.hasPendingWrites,c.fromCache),i.converter)}var qg=function(s){function i(c,p){var b=this;return(b=s.call(this,c,p)||this)._firestore=c,b}return(0,we.ZT)(i,s),i.prototype.get=function(c){var p=this,b=ju(c,this._firestore),A=new Gd(this._firestore);return s.prototype.get.call(this,c).then(function(S){return new Ml(p._firestore,A,b._key,S._document,new xh(!1,!1),b.converter)})},i}(function(){function s(i,c){this._firestore=i,this._transaction=c,this._dataReader=zd(i)}return s.prototype.get=function(i){var c=this,p=ju(i,this._firestore),b=new Th(this._firestore);return this._transaction.lookup([p._key]).then(function(A){if(!A||1!==A.length)return En();var S=A[0];if(S.isFoundDocument())return new hf(c._firestore,b,S.key,S,p.converter);if(S.isNoDocument())return new hf(c._firestore,b,p._key,null,p.converter);throw En()})},s.prototype.set=function(i,c,p){var b=ju(i,this._firestore),A=Zc(b.converter,c,p),S=Kf(this._dataReader,"Transaction.set",b._key,A,null!==b.converter,p);return this._transaction.set(b._key,S),this},s.prototype.update=function(i,c,p){for(var b=[],A=3;A<arguments.length;A++)b[A-3]=arguments[A];var S,j=ju(i,this._firestore);return S="string"==typeof(c=(0,Ne.m9)(c))||c instanceof Ru?Lg(this._dataReader,"Transaction.update",j._key,c,p,b):Yf(this._dataReader,"Transaction.update",j._key,c),this._transaction.update(j._key,S),this},s.prototype.delete=function(i){var c=ju(i,this._firestore);return this._transaction.delete(c._key),this},s}());function Lp(){if("undefined"==typeof Uint8Array)throw new qe(ae.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ud(){if("undefined"==typeof atob)throw new qe(ae.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var dd=function(){function s(i){this._delegate=i}return s.fromBase64String=function(i){return ud(),new s(ad.fromBase64String(i))},s.fromUint8Array=function(i){return Lp(),new s(ad.fromUint8Array(i))},s.prototype.toBase64=function(){return ud(),this._delegate.toBase64()},s.prototype.toUint8Array=function(){return Lp(),this._delegate.toUint8Array()},s.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},s.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},s}(),Xf=function(){function s(){}return s.prototype.enableIndexedDbPersistence=function(i,c){return function(p,b){Ng(p=po(p,ca));var A=Na(p),S=p._freezeSettings(),j=new pu;return Og(A,j,new Al(j,S.cacheSizeBytes,null==b?void 0:b.forceOwnership))}(i._delegate,{forceOwnership:c})},s.prototype.enableMultiTabIndexedDbPersistence=function(i){return function(c){Ng(c=po(c,ca));var p=Na(c),b=c._freezeSettings(),A=new pu;return Og(p,A,new Dp(A,b.cacheSizeBytes))}(i._delegate)},s.prototype.clearIndexedDbPersistence=function(i){return function(c){var p=this;if(c._initialized&&!c._terminated)throw new qe(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var b=new Pa;return c._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,we.mG)(p,void 0,void 0,function(){var A;return(0,we.Jh)(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,function(j){return(0,we.mG)(this,void 0,void 0,function(){return(0,we.Jh)(this,function(Me){switch(Me.label){case 0:return Xu.yt()?[4,Xu.delete(j+"main")]:[2,Promise.resolve()];case 1:return Me.sent(),[2]}})})}(Id(c._databaseId,c._persistenceKey))];case 1:return S.sent(),b.resolve(),[3,3];case 2:return A=S.sent(),b.reject(A),[3,3];case 3:return[2]}})})}),b.promise}(i._delegate)},s}(),Bp=function(){function s(i,c,p){var b=this;this._delegate=c,this.Zc=p,this.INTERNAL={delete:function(){return b.terminate()}},i instanceof ro||(this.tu=i)}return Object.defineProperty(s.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),s.prototype.settings=function(i){var c=this._delegate._getSettings();i.merge||c.host===i.host||gl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},c),i)).merge,this._delegate._setSettings(i)},s.prototype.useEmulator=function(i,c,p){void 0===p&&(p={}),function(b,A,S,j){var se;void 0===j&&(j={});var Me=(b=po(b,kc))._getSettings();if("firestore.googleapis.com"!==Me.host&&Me.host!==A&&gl("Host has been set in both settings() and useEmulator(), emulator host will be used"),b._setSettings(Object.assign(Object.assign({},Me),{host:A+":"+S,ssl:!1})),j.mockUserToken){var Be,et;if("string"==typeof j.mockUserToken)Be=j.mockUserToken,et=oa.MOCK_USER;else{Be=(0,Ne.Sg)(j.mockUserToken,null===(se=b._app)||void 0===se?void 0:se.options.projectId);var ht=j.mockUserToken.sub||j.mockUserToken.user_id;if(!ht)throw new qe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");et=new oa(ht)}b._credentials=new Dg(new Po(Be,et))}}(this._delegate,i,c,p)},s.prototype.enableNetwork=function(){return function(i){var c=this;return i.asyncQueue.enqueue(function(){return(0,we.mG)(c,void 0,void 0,function(){var p,b;return(0,we.Jh)(this,function(A){switch(A.label){case 0:return[4,Os(i)];case 1:return p=A.sent(),[4,Cc(i)];case 2:return b=A.sent(),[2,(p.setNetworkEnabled(!0),S=b,j=F(S),j.Or.delete(0),Xh(j))]}var S,j})})})}(Na(po(this._delegate,ca)))},s.prototype.disableNetwork=function(){return function(i){var c=this;return i.asyncQueue.enqueue(function(){return(0,we.mG)(c,void 0,void 0,function(){var p,b;return(0,we.Jh)(this,function(A){switch(A.label){case 0:return[4,Os(i)];case 1:return p=A.sent(),[4,Cc(i)];case 2:return b=A.sent(),[2,(p.setNetworkEnabled(!1),function(S){return(0,we.mG)(this,void 0,void 0,function(){var j;return(0,we.Jh)(this,function(se){switch(se.label){case 0:return(j=F(S)).Or.add(0),[4,vc(j)];case 1:return se.sent(),j.Br.set("Offline"),[2]}})})}(b))]}})})})}(Na(po(this._delegate,ca)))},s.prototype.enablePersistence=function(i){var c=!1,p=!1;return i&&Op("synchronizeTabs",c=!!i.synchronizeTabs,"experimentalForceOwningTab",p=!!i.experimentalForceOwningTab),c?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,p)},s.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},s.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},s.prototype.waitForPendingWrites=function(){return function(i){var c=this,p=new Pa;return i.asyncQueue.enqueueAndForget(function(){return(0,we.mG)(c,void 0,void 0,function(){var b;return(0,we.Jh)(this,function(A){switch(A.label){case 0:return b=ir,[4,rr(i)];case 1:return[2,b.apply(void 0,[A.sent(),p])]}})})}),p.promise}(Na(po(this._delegate,ca)))},s.prototype.onSnapshotsInSync=function(i){return p=i,function(b,A){var S=this,j=new Tp(A);return b.asyncQueue.enqueueAndForget(function(){return(0,we.mG)(S,void 0,void 0,function(){var se;return(0,we.Jh)(this,function(Me){switch(Me.label){case 0:return se=function(Be,et){F(Be).Gr.add(et),et.next()},[4,Ld(b)];case 1:return[2,se.apply(void 0,[Me.sent(),j])]}})})}),function(){j.Wo(),b.asyncQueue.enqueueAndForget(function(){return(0,we.mG)(S,void 0,void 0,function(){var se;return(0,we.Jh)(this,function(Me){switch(Me.label){case 0:return se=function(Be,et){F(Be).Gr.delete(et)},[4,Ld(b)];case 1:return[2,se.apply(void 0,[Me.sent(),j])]}})})})}}(Na(po(this._delegate,ca)),Nu(p)?p:{next:p});var p},Object.defineProperty(s.prototype,"app",{get:function(){if(!this.tu)throw new qe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),s.prototype.collection=function(i){try{return new Hp(this,Ig(this._delegate,i))}catch(c){throw sl(c,"collection()","Firestore.collection()")}},s.prototype.doc=function(i){try{return new hd(this,Zf(this._delegate,i))}catch(c){throw sl(c,"doc()","Firestore.doc()")}},s.prototype.collectionGroup=function(i){try{return new Sh(this,function(c,p){if(c=po(c,kc),Wf("collectionGroup","collection id",p),p.indexOf("/")>=0)throw new qe(ae.INVALID_ARGUMENT,"Invalid collection ID '"+p+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ol(c,null,(b=p,new Nl(On.emptyPath(),b)));var b}(this._delegate,i))}catch(c){throw sl(c,"collectionGroup()","Firestore.collectionGroup()")}},s.prototype.runTransaction=function(i){var p,c=this;return function(A,S){var j=this,se=new Pa;return A.asyncQueue.enqueueAndForget(function(){return(0,we.mG)(j,void 0,void 0,function(){var Me;return(0,we.Jh)(this,function(Be){switch(Be.label){case 0:return[4,(et=A,$f(et).then(function(ht){return ht.datastore}))];case 1:return Me=Be.sent(),new xl(A.asyncQueue,Me,S,se).run(),[2]}var et})})}),se.promise}(Na(p=this._delegate),function(A){return function(p){return i(new jp(c,p))}(new qg(p,A))})},s.prototype.batch=function(){var i=this;return Na(this._delegate),new zp(new gu(this._delegate,function(c){return cd(i._delegate,c)}))},s.prototype.loadBundle=function(i){throw new qe(ae.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},s.prototype.namedQuery=function(i){throw new qe(ae.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},s}(),ep=function(s){function i(c){var p=this;return(p=s.call(this)||this).firestore=c,p}return(0,we.ZT)(i,s),i.prototype.convertBytes=function(c){return new dd(new ad(c))},i.prototype.convertReference=function(c){var p=this.convertDocumentKey(c,this.firestore._databaseId);return hd.eu(p,this.firestore,null)},i}(Ks),jp=function(){function s(i,c){this._firestore=i,this._delegate=c,this._userDataWriter=new ep(i)}return s.prototype.get=function(i){var c=this,p=mf(i);return this._delegate.get(p).then(function(b){return new $d(c._firestore,new Ml(c._firestore._delegate,c._userDataWriter,b._key,b._document,b.metadata,p.converter))})},s.prototype.set=function(i,c,p){var b=mf(i);return p?(Pp("Transaction.set",p),this._delegate.set(b,c,p)):this._delegate.set(b,c),this},s.prototype.update=function(i,c,p){for(var b,A=[],S=3;S<arguments.length;S++)A[S-3]=arguments[S];var j=mf(i);return 2===arguments.length?this._delegate.update(j,c):(b=this._delegate).update.apply(b,(0,we.ev)([j,c,p],A)),this},s.prototype.delete=function(i){var c=mf(i);return this._delegate.delete(c),this},s}(),zp=function(){function s(i){this._delegate=i}return s.prototype.set=function(i,c,p){var b=mf(i);return p?(Pp("WriteBatch.set",p),this._delegate.set(b,c,p)):this._delegate.set(b,c),this},s.prototype.update=function(i,c,p){for(var b,A=[],S=3;S<arguments.length;S++)A[S-3]=arguments[S];var j=mf(i);return 2===arguments.length?this._delegate.update(j,c):(b=this._delegate).update.apply(b,(0,we.ev)([j,c,p],A)),this},s.prototype.delete=function(i){var c=mf(i);return this._delegate.delete(c),this},s.prototype.commit=function(){return this._delegate.commit()},s}(),tp=function(){function s(i,c,p){this._firestore=i,this._userDataWriter=c,this._delegate=p}return s.prototype.fromFirestore=function(i,c){var p=new Ud(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new Wd(this._firestore,p),null!=c?c:{})},s.prototype.toFirestore=function(i,c){return c?this._delegate.toFirestore(i,c):this._delegate.toFirestore(i)},s.nu=function(i,c){var p=s.su,b=p.get(i);b||(b=new WeakMap,p.set(i,b));var A=b.get(c);return A||(A=new s(i,new ep(i),c),b.set(c,A)),A},s}();tp.su=new WeakMap;var hd=function(){function s(i,c){this.firestore=i,this._delegate=c,this._userDataWriter=new ep(i)}return s.iu=function(i,c,p){if(i.length%2!=0)throw new qe(ae.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i.canonicalString()+" has "+i.length);return new s(c,new ks(c._delegate,p,new ai(i)))},s.eu=function(i,c,p){return new s(c,new ks(c._delegate,p,i))},Object.defineProperty(s.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){return new Hp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),s.prototype.collection=function(i){try{return new Hp(this.firestore,Ig(this._delegate,i))}catch(c){throw sl(c,"collection()","DocumentReference.collection()")}},s.prototype.isEqual=function(i){return(i=(0,Ne.m9)(i))instanceof ks&&ja(this._delegate,i)},s.prototype.set=function(i,c){c=Pp("DocumentReference.set",c);try{return function(p,b,A){p=po(p,ks);var S=po(p.firestore,ca),j=Zc(p.converter,b,A);return cd(S,[Kf(zd(S),"setDoc",p._key,j,null!==p.converter,A).toMutation(p._key,Fa.none())])}(this._delegate,i,c)}catch(p){throw sl(p,"setDoc()","DocumentReference.set()")}},s.prototype.update=function(i,c){for(var p=[],b=2;b<arguments.length;b++)p[b-2]=arguments[b];try{return 1===arguments.length?gf(this._delegate,i):gf.apply(void 0,(0,we.ev)([this._delegate,i,c],p))}catch(A){throw sl(A,"updateDoc()","DocumentReference.update()")}},s.prototype.delete=function(){return cd(po((i=this._delegate).firestore,ca),[new Ll(i._key,Fa.none())]);var i},s.prototype.onSnapshot=function(){for(var i=this,c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];var b=Vp(c),A=Up(c,function(S){return new $d(i.firestore,new Ml(i.firestore._delegate,i._userDataWriter,S._key,S._document,S.metadata,i._delegate.converter))});return Hg(this._delegate,b,A)},s.prototype.get=function(i){var c=this;return("cache"===(null==i?void 0:i.source)?function(p){p=po(p,ks);var b=po(p.firestore,ca),A=Na(b),S=new Gd(b);return function(j,se){var Me=this,Be=new Pa;return j.asyncQueue.enqueueAndForget(function(){return(0,we.mG)(Me,void 0,void 0,function(){var et;return(0,we.Jh)(this,function(ht){switch(ht.label){case 0:return et=function(Rt,Lt,Gt){return(0,we.mG)(this,void 0,void 0,function(){var Cn,Rn;return(0,we.Jh)(this,function(ki){switch(ki.label){case 0:return ki.trys.push([0,2,,3]),[4,(Si=Rt,Tr=Lt,bo=F(Si),bo.persistence.runTransaction("read document","readonly",function(ms){return bo.Mn.mn(ms,Tr)}))];case 1:return(Rn=ki.sent()).isFoundDocument()?Gt.resolve(Rn):Rn.isNoDocument()?Gt.resolve(null):Gt.reject(new qe(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Cn=ki.sent(),Rn=mh(Cn,"Failed to get document '"+Lt+" from cache"),Gt.reject(Rn),[3,3];case 3:return[2]}var Si,Tr,bo})})},[4,wh(j)];case 1:return[2,et.apply(void 0,[ht.sent(),se,Be])]}})})}),Be.promise}(A,p._key).then(function(j){return new Ml(b,S,p._key,j,new xh(null!==j&&j.hasLocalMutations,!0),p.converter)})}(this._delegate):"server"===(null==i?void 0:i.source)?function(p){p=po(p,ks);var b=po(p.firestore,ca);return la(Na(b),p._key,{source:"server"}).then(function(A){return Jf(b,p,A)})}(this._delegate):function(p){p=po(p,ks);var b=po(p.firestore,ca);return la(Na(b),p._key).then(function(A){return Jf(b,p,A)})}(this._delegate)).then(function(p){return new $d(c.firestore,new Ml(c.firestore._delegate,c._userDataWriter,p._key,p._document,p.metadata,c._delegate.converter))})},s.prototype.withConverter=function(i){return new s(this.firestore,this._delegate.withConverter(i?tp.nu(this.firestore,i):null))},s}();function sl(s,i,c){return s.message=s.message.replace(i,c),s}function Vp(s){for(var i=0,c=s;i<c.length;i++){var p=c[i];if("object"==typeof p&&!Nu(p))return p}return{}}function Up(s,i){var c,p,b;return{next:function(A){b.next&&b.next(i(A))},error:null===(c=(b=Nu(s[0])?s[0]:Nu(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]}).error)||void 0===c?void 0:c.bind(b),complete:null===(p=b.complete)||void 0===p?void 0:p.bind(b)}}var $d=function(){function s(i,c){this._firestore=i,this._delegate=c}return Object.defineProperty(s.prototype,"ref",{get:function(){return new hd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),s.prototype.data=function(i){return this._delegate.data(i)},s.prototype.get=function(i,c){return this._delegate.get(i,c)},s.prototype.isEqual=function(i){return Wc(this._delegate,i._delegate)},s}(),Wd=function(s){function i(){return null!==s&&s.apply(this,arguments)||this}return(0,we.ZT)(i,s),i.prototype.data=function(c){return this._delegate.data(c)},i}($d),Sh=function(){function s(i,c){this.firestore=i,this._delegate=c,this._userDataWriter=new ep(i)}return s.prototype.where=function(i,c,p){try{return new s(this.firestore,Dl(this._delegate,(S=p,j=c,se=Lu("where",b=i),new pf(se,j,S))))}catch(b){throw sl(b,/(orderBy|where)\(\)/,"Query.$1()")}var b,S,j,se},s.prototype.orderBy=function(i,c){try{return new s(this.firestore,Dl(this._delegate,function(p,b){void 0===b&&(b="asc");var A=b,S=Lu("orderBy",p);return new xc(S,A)}(i,c)))}catch(p){throw sl(p,/(orderBy|where)\(\)/,"Query.$1()")}},s.prototype.limit=function(i){try{return new s(this.firestore,Dl(this._delegate,(Sg("limit",c=i),new Ug("limit",c,"F"))))}catch(c){throw sl(c,"limit()","Query.limit()")}var c},s.prototype.limitToLast=function(i){try{return new s(this.firestore,Dl(this._delegate,(Sg("limitToLast",c=i),new Ug("limitToLast",c,"L"))))}catch(c){throw sl(c,"limitToLast()","Query.limitToLast()")}var c},s.prototype.startAt=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];try{return new s(this.firestore,Dl(this._delegate,function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];return new Eh("startAt",p,!0)}.apply(void 0,i)))}catch(p){throw sl(p,"startAt()","Query.startAt()")}},s.prototype.startAfter=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];try{return new s(this.firestore,Dl(this._delegate,function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];return new Eh("startAfter",p,!1)}.apply(void 0,i)))}catch(p){throw sl(p,"startAfter()","Query.startAfter()")}},s.prototype.endBefore=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];try{return new s(this.firestore,Dl(this._delegate,function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];return new qd("endBefore",p,!0)}.apply(void 0,i)))}catch(p){throw sl(p,"endBefore()","Query.endBefore()")}},s.prototype.endAt=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];try{return new s(this.firestore,Dl(this._delegate,function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];return new qd("endAt",p,!1)}.apply(void 0,i)))}catch(p){throw sl(p,"endAt()","Query.endAt()")}},s.prototype.isEqual=function(i){return El(this._delegate,i._delegate)},s.prototype.get=function(i){var c=this;return("cache"===(null==i?void 0:i.source)?function(p){p=po(p,ol);var b=po(p.firestore,ca),A=Na(b),S=new Gd(b);return function(j,se){var Me=this,Be=new Pa;return j.asyncQueue.enqueueAndForget(function(){return(0,we.mG)(Me,void 0,void 0,function(){var et;return(0,we.Jh)(this,function(ht){switch(ht.label){case 0:return et=function(Rt,Lt,Gt){return(0,we.mG)(this,void 0,void 0,function(){var Cn,Rn,ki,Si,Tr;return(0,we.Jh)(this,function(bo){switch(bo.label){case 0:return bo.trys.push([0,2,,3]),[4,yp(Rt,Lt,!0)];case 1:return Tr=bo.sent(),Cn=new Cg(Lt,Tr.Bn),Rn=Cn._o(Tr.documents),ki=Cn.applyChanges(Rn,!1),Gt.resolve(ki.snapshot),[3,3];case 2:return Si=bo.sent(),Tr=mh(Si,"Failed to execute query '"+Lt+" against cache"),Gt.reject(Tr),[3,3];case 3:return[2]}})})},[4,wh(j)];case 1:return[2,et.apply(void 0,[ht.sent(),se,Be])]}})})}),Be.promise}(A,p._query).then(function(j){return new Hd(b,S,p,j)})}(this._delegate):"server"===(null==i?void 0:i.source)?function(p){p=po(p,ol);var b=po(p.firestore,ca),A=Na(b),S=new Gd(b);return lf(A,p._query,{source:"server"}).then(function(j){return new Hd(b,S,p,j)})}(this._delegate):function(p){p=po(p,ol);var b=po(p.firestore,ca),A=Na(b),S=new Gd(b);return ff(p._query),lf(A,p._query).then(function(j){return new Hd(b,S,p,j)})}(this._delegate)).then(function(p){return new Gg(c.firestore,new Hd(c.firestore._delegate,c._userDataWriter,c._delegate,p._snapshot))})},s.prototype.onSnapshot=function(){for(var i=this,c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];var b=Vp(c),A=Up(c,function(S){return new Gg(i.firestore,new Hd(i.firestore._delegate,i._userDataWriter,i._delegate,S._snapshot))});return Hg(this._delegate,b,A)},s.prototype.withConverter=function(i){return new s(this.firestore,this._delegate.withConverter(i?tp.nu(this.firestore,i):null))},s}(),o_=function(){function s(i,c){this._firestore=i,this._delegate=c}return Object.defineProperty(s.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"doc",{get:function(){return new Wd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),s}(),Gg=function(){function s(i,c){this._firestore=i,this._delegate=c}return Object.defineProperty(s.prototype,"query",{get:function(){return new Sh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"docs",{get:function(){var i=this;return this._delegate.docs.map(function(c){return new Wd(i._firestore,c)})},enumerable:!1,configurable:!0}),s.prototype.docChanges=function(i){var c=this;return this._delegate.docChanges(i).map(function(p){return new o_(c._firestore,p)})},s.prototype.forEach=function(i,c){var p=this;this._delegate.forEach(function(b){i.call(c,new Wd(p._firestore,b))})},s.prototype.isEqual=function(i){return Wc(this._delegate,i._delegate)},s}(),Hp=function(s){function i(c,p){var b=this;return(b=s.call(this,c,p)||this).firestore=c,b._delegate=p,b}return(0,we.ZT)(i,s),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var c=this._delegate.parent;return c?new hd(this.firestore,c):null},enumerable:!1,configurable:!0}),i.prototype.doc=function(c){try{return new hd(this.firestore,void 0===c?Zf(this._delegate):Zf(this._delegate,c))}catch(p){throw sl(p,"doc()","CollectionReference.doc()")}},i.prototype.add=function(c){var b,A,S,j,se,p=this;return(b=this._delegate,A=c,S=po(b.firestore,ca),j=Zf(b),se=Zc(b.converter,A),cd(S,[Kf(zd(b.firestore),"addDoc",j._key,se,null!==b.converter,{}).toMutation(j._key,Fa.exists(!1))]).then(function(){return j})).then(function(b){return new hd(p.firestore,b)})},i.prototype.isEqual=function(c){return ja(this._delegate,c._delegate)},i.prototype.withConverter=function(c){return new i(this.firestore,this._delegate.withConverter(c?tp.nu(this.firestore,c):null))},i}(Sh);function mf(s){return po(s,ks)}var s_=function(){function s(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];this._delegate=new(Ru.bind.apply(Ru,(0,we.ev)([void 0],i)))}return s.documentId=function(){return new s(hs.keyField().canonicalString())},s.prototype.isEqual=function(i){return(i=(0,Ne.m9)(i))instanceof Ru&&this._delegate._internalPath.isEqual(i._internalPath)},s}(),Im=function(){function s(i){this._delegate=i}return s.serverTimestamp=function(){var i=new Em("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new s(i)},s.delete=function(){var i=new Fg("deleteField");return i._methodName="FieldValue.delete",new s(i)},s.arrayUnion=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var p=function(){for(var b=[],A=0;A<arguments.length;A++)b[A]=arguments[A];return new r_("arrayUnion",b)}.apply(void 0,i);return p._methodName="FieldValue.arrayUnion",new s(p)},s.arrayRemove=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var p=function(){for(var b=[],A=0;A<arguments.length;A++)b[A]=arguments[A];return new Mm("arrayRemove",b)}.apply(void 0,i);return p._methodName="FieldValue.arrayRemove",new s(p)},s.increment=function(i){var c=new Dm("increment",i);return c._methodName="FieldValue.increment",new s(c)},s.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},s}(),mu=X(8391),Pm={Firestore:Bp,GeoPoint:Ah,Timestamp:ct,Blob:dd,Transaction:jp,WriteBatch:zp,DocumentReference:hd,DocumentSnapshot:$d,Query:Sh,QueryDocumentSnapshot:Wd,QuerySnapshot:Gg,CollectionReference:Hp,FieldPath:s_,FieldValue:Im,setLogLevel:function(s){Un.setLogLevel(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){s.INTERNAL.registerComponent(new mu.wA("firestore",function(p){return i=p.getProvider("app").getImmediate(),c=p.getProvider("auth-internal"),new Bp(i,new ca(i,c),new Xf);var i,c},"PUBLIC").setServiceProps(Object.assign({},Pm))),s.registerVersion("@firebase/firestore","2.4.0")}(rt.Z);var Om=X(2008);function C(s,i){return function(s,i=P.z){return new Ve.y(c=>{let p;return null!=i?i.schedule(()=>{p=s.onSnapshot({includeMetadataChanges:!0},c)}):p=s.onSnapshot({includeMetadataChanges:!0},c),()=>{null!=p&&p()}})}(s,i)}function ee(s,i){return C(s,i).pipe((0,ge.U)(c=>({payload:c,type:"query"})))}function xe(s,i){return ee(s,i).pipe((0,_e.O)(void 0),Le(),(0,ge.U)(([c,p])=>{const b=p.payload.docChanges(),A=b.map(S=>({type:S.type,payload:S}));return c&&JSON.stringify(c.payload.metadata)!==JSON.stringify(p.payload.metadata)&&p.payload.docs.forEach((S,j)=>{const se=b.find(Be=>Be.doc.ref.isEqual(S.ref)),Me=null==c?void 0:c.payload.docs.find(Be=>Be.ref.isEqual(S.ref));se&&JSON.stringify(se.doc.metadata)===JSON.stringify(S.metadata)||!se&&Me&&JSON.stringify(Me.metadata)===JSON.stringify(S.metadata)||A.push({type:"modified",payload:{oldIndex:j,newIndex:j,type:"modified",doc:S}})}),A}))}function Ue(s,i,c){return xe(s,c).pipe((0,be.R)((p,b)=>function(s,i,c){return i.forEach(p=>{c.indexOf(p.type)>-1&&(s=function(s,i){switch(i.type){case"added":if(!s[i.newIndex]||!s[i.newIndex].doc.ref.isEqual(i.doc.ref))return Ct(s,i.newIndex,0,i);break;case"modified":if(null==s[i.oldIndex]||s[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const c=s.slice();return c.splice(i.oldIndex,1),c.splice(i.newIndex,0,i),c}return Ct(s,i.newIndex,1,i)}break;case"removed":if(s[i.oldIndex]&&s[i.oldIndex].doc.ref.isEqual(i.doc.ref))return Ct(s,i.oldIndex,1)}return s}(s,p))}),s}(p,b.map(A=>A.payload),i),[]),(0,Se.x)(),(0,ge.U)(p=>p.map(b=>({type:b.type,payload:b}))))}function Ct(s,i,c,...p){const b=s.slice();return b.splice(i,c,...p),b}function on(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class ln{constructor(i,c,p){this.ref=i,this.query=c,this.afs=p}stateChanges(i){let c=xe(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(c=c.pipe((0,ge.U)(p=>p.filter(b=>i.indexOf(b.type)>-1)))),c.pipe((0,_e.O)(void 0),Le(),(0,ne.h)(([p,b])=>b.length>0||!p),(0,ge.U)(([p,b])=>b),this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe((0,be.R)((c,p)=>[...c,...p],[]))}snapshotChanges(i){const c=on(i);return Ue(this.query,c,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return ee(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(c=>c.payload.docs.map(p=>i.idField?Object.assign(Object.assign({},p.data()),{[i.idField]:p.id}):p.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,oe.D)(this.query.get(i)).pipe((0,gt.QV)(this.afs.schedulers.insideAngular))}add(i){return this.ref.add(i)}doc(i){return new fn(this.ref.doc(i),this.afs)}}class fn{constructor(i,c){this.ref=i,this.afs=c}set(i,c){return this.ref.set(i,c)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,c){const p=this.ref.collection(i),{ref:b,query:A}=jr(p,c);return new ln(b,A,this.afs)}snapshotChanges(){return function(s,i){return C(s,i).pipe((0,_e.O)(void 0),Le(),(0,ge.U)(([c,p])=>p.exists?(null==c?void 0:c.exists)?{payload:p,type:"modified"}:{payload:p,type:"added"}:{payload:p,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:c})=>i.idField?Object.assign(Object.assign({},c.data()),{[i.idField]:c.id}):c.data()))}get(i){return(0,oe.D)(this.ref.get(i)).pipe((0,gt.QV)(this.afs.schedulers.insideAngular))}}class Hn{constructor(i,c){this.query=i,this.afs=c}stateChanges(i){return i&&0!==i.length?xe(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(c=>c.filter(p=>i.indexOf(p.type)>-1)),(0,ne.h)(c=>c.length>0),this.afs.keepUnstableUntilFirst):xe(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe((0,be.R)((c,p)=>[...c,...p],[]))}snapshotChanges(i){const c=on(i);return Ue(this.query,c,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return ee(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(p=>p.payload.docs.map(b=>i.idField?Object.assign({[i.idField]:b.id},b.data()):b.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,oe.D)(this.query.get(i)).pipe((0,gt.QV)(this.afs.schedulers.insideAngular))}}const li=new m.OlP("angularfire2.enableFirestorePersistence"),Qn=new m.OlP("angularfire2.firestore.persistenceSettings"),ar=new m.OlP("angularfire2.firestore.settings"),ji=new m.OlP("angularfire2.firestore.use-emulator");function jr(s,i=(c=>c)){return{query:i(s),ref:s}}let yr=(()=>{class s{constructor(c,p,b,A,S,j,se,Me,Be){this.schedulers=new Ee.HU(j),this.keepUnstableUntilFirst=(0,Ee.ss)(this.schedulers);const et=(0,Ee.on)(c,j,p);!yt.Z.auth&&Be&&(0,Ee.yq)();const ht=Me;[this.firestore,this.persistenceEnabled$]=(0,Ee.sI)(`${et.name}.firestore`,"AngularFirestore",et,()=>{const Rt=j.runOutsideAngular(()=>et.firestore());if(A&&Rt.settings(A),ht&&Rt.useEmulator(...ht),b&&!(0,Ke.PM)(S)){const Lt=()=>{try{return(0,oe.D)(Rt.enablePersistence(se||void 0).then(()=>!0,()=>!1))}catch(Gt){return"undefined"!=typeof console&&console.warn(Gt),(0,le.of)(!1)}};return[Rt,j.runOutsideAngular(Lt)]}return[Rt,(0,le.of)(!1)]},[A,ht,b])}collection(c,p){let b;b="string"==typeof c?this.firestore.collection(c):c;const{ref:A,query:S}=jr(b,p),j=this.schedulers.ngZone.run(()=>A);return new ln(j,S,this)}collectionGroup(c,p){const b=p||(S=>S),A=this.firestore.collectionGroup(c);return new Hn(b(A),this)}doc(c){let p;p="string"==typeof c?this.firestore.doc(c):c;const b=this.schedulers.ngZone.run(()=>p);return new fn(b,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(c){return new(c||s)(m.LFG(Ee.Dh),m.LFG(Ee.xv,8),m.LFG(li,8),m.LFG(ar,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Qn,8),m.LFG(ji,8),m.LFG(Om.Qv,8))},s.\u0275prov=m.Yz7({factory:function(){return new s(m.LFG(Ee.Dh),m.LFG(Ee.xv,8),m.LFG(li,8),m.LFG(ar,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Qn,8),m.LFG(ji,8),m.LFG(Om.Qv,8))},token:s,providedIn:"any"}),s})(),Ul=(()=>{class s{static enablePersistence(c){return{ngModule:s,providers:[{provide:li,useValue:!0},{provide:Qn,useValue:c}]}}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[yr]}),s})()},9629:(Kt,_t,X)=>{"use strict";X.d(_t,{Q1:()=>ya,TE:()=>kr});var m=X(5548),P=X(2411),Ve=X(1915),oe=X(5686),le=X(8053),he=X(9254),Le=X(9204),Z=X(9619),me=X(436),_e=X(417),ge=X(4762),be=X(8305),Se=X(8391),ne="firebasestorage.googleapis.com",gt="storageBucket",yt=function(ie){function te(je,Xe){var V=ie.call(this,rt(je),"Firebase Storage: "+Xe+" ("+rt(je)+")")||this;return V.customData={serverResponse:null},V._baseMessage=V.message,Object.setPrototypeOf(V,te.prototype),V}return(0,ge.ZT)(te,ie),te.prototype._codeEquals=function(je){return rt(je)===this.code},Object.defineProperty(te.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(je){this.customData.serverResponse=je,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),te}(be.ZR);function rt(ie){return"storage/"+ie}function we(){return new yt("unknown","An unknown error occurred, please check the error payload for server response.")}function it(){return new yt("canceled","User canceled the upload/download.")}function Ze(){return new yt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function at(ie){return new yt("invalid-argument",ie)}function jt(){return new yt("app-deleted","The Firebase app was deleted.")}function Vt(ie){return new yt("invalid-root-operation","The operation '"+ie+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xt(ie,te){return new yt("invalid-format","String does not match format '"+ie+"': "+te)}function Ot(ie){throw new yt("internal-error","Internal error: "+ie)}var Ht={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},zn=function(te,je){this.data=te,this.contentType=je||null};function oi(ie,te){switch(ie){case Ht.RAW:return new zn($n(te));case Ht.BASE64:case Ht.BASE64URL:return new zn(Zi(ie,te));case Ht.DATA_URL:return new zn(function(ie){var te=new Sr(ie);return te.base64?Zi(Ht.BASE64,te.rest):function(ie){var te;try{te=decodeURIComponent(ie)}catch(je){throw Xt(Ht.DATA_URL,"Malformed data URL.")}return $n(te)}(te.rest)}(te),function(ie){return new Sr(ie).contentType}(te))}throw we()}function $n(ie){for(var te=[],je=0;je<ie.length;je++){var Xe=ie.charCodeAt(je);if(Xe<=127)te.push(Xe);else if(Xe<=2047)te.push(192|Xe>>6,128|63&Xe);else if(55296==(64512&Xe))if(je<ie.length-1&&56320==(64512&ie.charCodeAt(je+1))){var ue=Xe,$=ie.charCodeAt(++je);te.push(240|(Xe=65536|(1023&ue)<<10|1023&$)>>18,128|Xe>>12&63,128|Xe>>6&63,128|63&Xe)}else te.push(239,191,189);else 56320==(64512&Xe)?te.push(239,191,189):te.push(224|Xe>>12,128|Xe>>6&63,128|63&Xe)}return new Uint8Array(te)}function Zi(ie,te){switch(ie){case Ht.BASE64:var je=-1!==te.indexOf("-"),Xe=-1!==te.indexOf("_");if(je||Xe)throw Xt(ie,"Invalid character '"+(je?"-":"_")+"' found: is it base64url encoded?");break;case Ht.BASE64URL:var ue=-1!==te.indexOf("+"),$=-1!==te.indexOf("/");if(ue||$)throw Xt(ie,"Invalid character '"+(ue?"+":"/")+"' found: is it base64 encoded?");te=te.replace(/-/g,"+").replace(/_/g,"/")}var ve;try{ve=function(ie){return atob(ie)}(te)}catch(q){throw Xt(ie,"Invalid character found")}for(var Ge=new Uint8Array(ve.length),z=0;z<ve.length;z++)Ge[z]=ve.charCodeAt(z);return Ge}var Sr=function(te){this.base64=!1,this.contentType=null;var je=te.match(/^data:([^,]+)?,/);if(null===je)throw Xt(Ht.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var Xe=je[1]||null;null!=Xe&&(this.base64=function(ie,te){return ie.length>=te.length&&ie.substring(ie.length-te.length)===te}(Xe,";base64"),this.contentType=this.base64?Xe.substring(0,Xe.length-";base64".length):Xe),this.rest=te.substring(te.indexOf(",")+1)},wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ci(ie){switch(ie){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;default:return wn.ERROR}}var Jn=(()=>{return(ie=Jn||(Jn={}))[ie.NO_ERROR=0]="NO_ERROR",ie[ie.NETWORK_ERROR=1]="NETWORK_ERROR",ie[ie.ABORT=2]="ABORT",Jn;var ie})(),di=function(){function ie(){var te=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Jn.NO_ERROR,this.sendPromise_=new Promise(function(je){te.xhr_.addEventListener("abort",function(){te.errorCode_=Jn.ABORT,je()}),te.xhr_.addEventListener("error",function(){te.errorCode_=Jn.NETWORK_ERROR,je()}),te.xhr_.addEventListener("load",function(){je()})})}return ie.prototype.send=function(te,je,Xe,V){if(this.sent_)throw Ot("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(je,te,!0),void 0!==V)for(var ue in V)V.hasOwnProperty(ue)&&this.xhr_.setRequestHeader(ue,V[ue].toString());return void 0!==Xe?this.xhr_.send(Xe):this.xhr_.send(),this.sendPromise_},ie.prototype.getErrorCode=function(){if(!this.sent_)throw Ot("cannot .getErrorCode() before sending");return this.errorCode_},ie.prototype.getStatus=function(){if(!this.sent_)throw Ot("cannot .getStatus() before sending");try{return this.xhr_.status}catch(te){return-1}},ie.prototype.getResponseText=function(){if(!this.sent_)throw Ot("cannot .getResponseText() before sending");return this.xhr_.responseText},ie.prototype.abort=function(){this.xhr_.abort()},ie.prototype.getResponseHeader=function(te){return this.xhr_.getResponseHeader(te)},ie.prototype.addUploadProgressListener=function(te){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",te)},ie.prototype.removeUploadProgressListener=function(te){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",te)},ie}(),Mi=function(){function ie(){}return ie.prototype.createConnection=function(){return new di},ie}(),Ai=function(){function ie(te,je){this.bucket=te,this.path_=je}return Object.defineProperty(ie.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),ie.prototype.fullServerUrl=function(){var te=encodeURIComponent;return"/b/"+te(this.bucket)+"/o/"+te(this.path)},ie.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},ie.makeFromBucketSpec=function(te,je){var Xe;try{Xe=ie.makeFromUrl(te,je)}catch(V){return new ie(te,"")}if(""===Xe.path)return Xe;throw function(ie){return new yt("invalid-default-bucket","Invalid default bucket '"+ie+"'.")}(te)},ie.makeFromUrl=function(te,je){var Xe=null,V="([A-Za-z0-9.\\-_]+)",ve=new RegExp("^gs://"+V+"(/(.*))?$","i");function z(mo){mo.path_=decodeURIComponent(mo.path)}for(var G=je.replace(/[.]/g,"\\."),br=[{regex:ve,indices:{bucket:1,path:3},postModify:function(mo){"/"===mo.path.charAt(mo.path.length-1)&&(mo.path_=mo.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+G+"/v[A-Za-z0-9_]+/b/"+V+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:z},{regex:new RegExp("^https?://"+(je===ne?"(?:storage.googleapis.com|storage.cloud.google.com)":je)+"/"+V+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:z}],uo=0;uo<br.length;uo++){var Mr=br[uo],ho=Mr.regex.exec(te);if(ho){var ti=ho[Mr.indices.path];ti||(ti=""),Xe=new ie(ho[Mr.indices.bucket],ti),Mr.postModify(Xe);break}}if(null==Xe)throw function(ie){return new yt("invalid-url","Invalid URL '"+ie+"'.")}(te);return Xe},ie}(),Vo=function(){function ie(te){this.promise_=Promise.reject(te)}return ie.prototype.getPromise=function(){return this.promise_},ie.prototype.cancel=function(te){},ie}();function Vn(ie){return"string"==typeof ie||ie instanceof String}function Bn(ie){return zr()&&ie instanceof Blob}function zr(){return"undefined"!=typeof Blob}function gi(ie,te,je,Xe){if(Xe<te)throw at("Invalid value for '"+ie+"'. Expected "+te+" or greater.");if(Xe>je)throw at("Invalid value for '"+ie+"'. Expected "+je+" or less.")}function lr(ie,te){var je=te.match(/^(\w+):\/\/.+/),V=te;return null==(null==je?void 0:je[1])&&(V="https://"+te),V+"/v0"+ie}function Oi(ie){var te=encodeURIComponent,je="?";for(var Xe in ie)ie.hasOwnProperty(Xe)&&(je=je+(te(Xe)+"=")+te(ie[Xe])+"&");return je.slice(0,-1)}var Ni=function(){function ie(te,je,Xe,V,ue,$,ve,Ge,z,q,G){var Ce=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=te,this.method_=je,this.headers_=Xe,this.body_=V,this.successCodes_=ue.slice(),this.additionalRetryCodes_=$.slice(),this.callback_=ve,this.errorCallback_=Ge,this.progressCallback_=q,this.timeout_=z,this.pool_=G,this.promise_=new Promise(function(kt,Yt){Ce.resolve_=kt,Ce.reject_=Yt,Ce.start_()})}return ie.prototype.start_=function(){var te=this;function Xe(V,ue){var $=te.resolve_,ve=te.reject_,Ge=ue.connection;if(ue.wasSuccessCode)try{var z=te.callback_(Ge,Ge.getResponseText());!function(ie){return void 0!==ie}(z)?$():$(z)}catch(G){ve(G)}else if(null!==Ge)(q=we()).serverResponse=Ge.getResponseText(),ve(te.errorCallback_?te.errorCallback_(Ge,q):q);else if(ue.canceled)ve(q=te.appDelete_?jt():it());else{var q;ve(q=new yt("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?Xe(0,new tr(!1,null,!0)):this.backoffId_=function(ie,te,je){var Xe=1,V=null,ue=!1,$=0;function ve(){return 2===$}var Ge=!1;function z(){for(var Yt=[],hn=0;hn<arguments.length;hn++)Yt[hn]=arguments[hn];Ge||(Ge=!0,te.apply(null,Yt))}function q(Yt){V=setTimeout(function(){V=null,ie(G,ve())},Yt)}function G(Yt){for(var hn=[],Xn=1;Xn<arguments.length;Xn++)hn[Xn-1]=arguments[Xn];if(!Ge){if(Yt)return void z.call.apply(z,(0,ge.ev)([null,Yt],hn));var Ri;if(ve()||ue)return void z.call.apply(z,(0,ge.ev)([null,Yt],hn));Xe<64&&(Xe*=2),1===$?($=2,Ri=0):Ri=1e3*(Xe+Math.random()),q(Ri)}}var Ce=!1;function kt(Yt){Ce||(Ce=!0,!Ge&&(null!==V?(Yt||($=2),clearTimeout(V),q(0)):Yt||($=1)))}return q(0),setTimeout(function(){ue=!0,kt(!0)},je),kt}(function(V,ue){if(ue)V(!1,new tr(!1,null,!0));else{var $=te.pool_.createConnection();te.pendingConnection_=$,null!==te.progressCallback_&&$.addUploadProgressListener(ve),$.send(te.url_,te.method_,te.body_,te.headers_).then(function(){null!==te.progressCallback_&&$.removeUploadProgressListener(ve),te.pendingConnection_=null;var Ge=$.getErrorCode()===Jn.NO_ERROR,z=$.getStatus();if(Ge&&!te.isRetryStatusCode_(z)){var G=-1!==te.successCodes_.indexOf(z);V(!0,new tr(G,$))}else{var q=$.getErrorCode()===Jn.ABORT;V(!1,new tr(!1,null,q))}})}function ve(Ge){null!==te.progressCallback_&&te.progressCallback_(Ge.loaded,Ge.lengthComputable?Ge.total:-1)}},Xe,this.timeout_)},ie.prototype.getPromise=function(){return this.promise_},ie.prototype.cancel=function(te){this.canceled_=!0,this.appDelete_=te||!1,null!==this.backoffId_&&function(ie){ie(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},ie.prototype.isRetryStatusCode_=function(te){var je=te>=500&&te<600,V=-1!==[408,429].indexOf(te),ue=-1!==this.additionalRetryCodes_.indexOf(te);return je||V||ue},ie}(),tr=function(te,je,Xe){this.wasSuccessCode=te,this.connection=je,this.canceled=!!Xe};function Et(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function nn(){for(var ie=[],te=0;te<arguments.length;te++)ie[te]=arguments[te];var je=Et();if(void 0!==je){for(var Xe=new je,V=0;V<ie.length;V++)Xe.append(ie[V]);return Xe.getBlob()}if(zr())return new Blob(ie);throw new yt("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Wn=function(){function ie(te,je){var Xe=0,V="";Bn(te)?(this.data_=te,Xe=te.size,V=te.type):te instanceof ArrayBuffer?(je?this.data_=new Uint8Array(te):(this.data_=new Uint8Array(te.byteLength),this.data_.set(new Uint8Array(te))),Xe=this.data_.length):te instanceof Uint8Array&&(je?this.data_=te:(this.data_=new Uint8Array(te.length),this.data_.set(te)),Xe=te.length),this.size_=Xe,this.type_=V}return ie.prototype.size=function(){return this.size_},ie.prototype.type=function(){return this.type_},ie.prototype.slice=function(te,je){if(Bn(this.data_)){var V=function(ie,te,je){return ie.webkitSlice?ie.webkitSlice(te,je):ie.mozSlice?ie.mozSlice(te,je):ie.slice?ie.slice(te,je):null}(this.data_,te,je);return null===V?null:new ie(V)}return new ie(new Uint8Array(this.data_.buffer,te,je-te),!0)},ie.getBlob=function(){for(var te=[],je=0;je<arguments.length;je++)te[je]=arguments[je];if(zr()){var Xe=te.map(function(Ge){return Ge instanceof ie?Ge.data_:Ge});return new ie(nn.apply(null,Xe))}var V=te.map(function(Ge){return Vn(Ge)?oi(Ht.RAW,Ge).data:Ge.data_}),ue=0;V.forEach(function(Ge){ue+=Ge.byteLength});var $=new Uint8Array(ue),ve=0;return V.forEach(function(Ge){for(var z=0;z<Ge.length;z++)$[ve++]=Ge[z]}),new ie($,!0)},ie.prototype.uploadData=function(){return this.data_},ie}();function In(ie){var te;try{te=JSON.parse(ie)}catch(je){return null}return function(ie){return"object"==typeof ie&&!Array.isArray(ie)}(te)?te:null}function Fr(ie){var te=ie.lastIndexOf("/",ie.length-2);return-1===te?ie:ie.slice(te+1)}function Qr(ie,te){return te}var dr=function(te,je,Xe,V){this.server=te,this.local=je||te,this.writable=!!Xe,this.xform=V||Qr},Dt=null;function Qe(){if(Dt)return Dt;var ie=[];ie.push(new dr("bucket")),ie.push(new dr("generation")),ie.push(new dr("metageneration")),ie.push(new dr("name","fullPath",!0));var je=new dr("name");je.xform=function(ue,$){return function(ie){return!Vn(ie)||ie.length<2?ie:Fr(ie)}($)},ie.push(je);var V=new dr("size");return V.xform=function(ue,$){return void 0!==$?Number($):$},ie.push(V),ie.push(new dr("timeCreated")),ie.push(new dr("updated")),ie.push(new dr("md5Hash",null,!0)),ie.push(new dr("cacheControl",null,!0)),ie.push(new dr("contentDisposition",null,!0)),ie.push(new dr("contentEncoding",null,!0)),ie.push(new dr("contentLanguage",null,!0)),ie.push(new dr("contentType",null,!0)),ie.push(new dr("metadata","customMetadata",!0)),Dt=ie}function An(ie,te,je){var Xe=In(te);return null===Xe?null:function(ie,te,je){for(var Xe={type:"file"},V=je.length,ue=0;ue<V;ue++){var $=je[ue];Xe[$.local]=$.xform(Xe,te[$.server])}return function(ie,te){Object.defineProperty(ie,"ref",{get:function(){var ue=new Ai(ie.bucket,ie.fullPath);return te._makeStorageReference(ue)}})}(Xe,ie),Xe}(ie,Xe,je)}function hi(ie,te){for(var je={},Xe=te.length,V=0;V<Xe;V++){var ue=te[V];ue.writable&&(je[ue.server]=ie[ue.local])}return JSON.stringify(je)}var wr="prefixes";var hr=function(te,je,Xe,V){this.url=te,this.method=je,this.handler=Xe,this.timeout=V,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Cr(ie){if(!ie)throw we()}function dn(ie,te){return function(Xe,V){var ue=An(ie,V,te);return Cr(null!==ue),ue}}function Ki(ie){return function(je,Xe){var V;return V=401===je.getStatus()?je.getResponseText().includes("Firebase App Check token is invalid")?new yt("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new yt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===je.getStatus()?function(ie){return new yt("quota-exceeded","Quota for bucket '"+ie+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ie.bucket):403===je.getStatus()?function(ie){return new yt("unauthorized","User does not have permission to access '"+ie+"'.")}(ie.path):Xe,V.serverResponse=Xe.serverResponse,V}}function yo(ie){var te=Ki(ie);return function(Xe,V){var ue=te(Xe,V);return 404===Xe.getStatus()&&(ue=function(ie){return new yt("object-not-found","Object '"+ie+"' does not exist.")}(ie.path)),ue.serverResponse=V.serverResponse,ue}}function qr(ie,te,je){var V=lr(te.fullServerUrl(),ie.host),$=ie.maxOperationRetryTime,ve=new hr(V,"GET",dn(ie,je),$);return ve.errorHandler=yo(te),ve}function wo(ie,te,je,Xe,V){var ue={};ue.prefix=te.isRoot?"":te.path+"/",je&&je.length>0&&(ue.delimiter=je),Xe&&(ue.pageToken=Xe),V&&(ue.maxResults=V);var ve=lr(te.bucketOnlyServerUrl(),ie.host),z=ie.maxOperationRetryTime,q=new hr(ve,"GET",function(ie,te){return function(Xe,V){var ue=function(ie,te,je){var Xe=In(je);return null===Xe?null:function(ie,te,je){var Xe={prefixes:[],items:[],nextPageToken:je.nextPageToken};if(je[wr])for(var V=0,ue=je[wr];V<ue.length;V++){var ve=ue[V].replace(/\/$/,""),Ge=ie._makeStorageReference(new Ai(te,ve));Xe.prefixes.push(Ge)}if(je.items)for(var z=0,q=je.items;z<q.length;z++)Ge=ie._makeStorageReference(new Ai(te,q[z].name)),Xe.items.push(Ge);return Xe}(ie,te,Xe)}(ie,te,V);return Cr(null!==ue),ue}}(ie,te.bucket),z);return q.urlParams=ue,q.errorHandler=Ki(te),q}function pr(ie,te,je){var Xe=Object.assign({},je);return Xe.fullPath=ie.path,Xe.size=te.size(),Xe.contentType||(Xe.contentType=function(ie,te){return te&&te.type()||"application/octet-stream"}(0,te)),Xe}var Xo=function(te,je,Xe,V){this.current=te,this.total=je,this.finalized=!!Xe,this.metadata=V||null};function As(ie,te){var je=null;try{je=ie.getResponseHeader("X-Goog-Upload-Status")}catch(V){Cr(!1)}return Cr(!!je&&-1!==(te||["active"]).indexOf(je)),je}var qi=function(te,je,Xe){var V=function(ie){return"function"==typeof ie}(te)||null!=je||null!=Xe;if(V)this.next=te,this.error=je,this.complete=Xe;else{var ue=te;this.next=ue.next,this.error=ue.error,this.complete=ue.complete}};function cs(ie){return function(){for(var te=[],je=0;je<arguments.length;je++)te[je]=arguments[je];Promise.resolve().then(function(){return ie.apply(void 0,te)})}}var Oo=function(){function ie(te,je,Xe){var V=this;void 0===Xe&&(Xe=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=te,this._blob=je,this._metadata=Xe,this._mappings=Qe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(ue){V._request=void 0,V._chunkMultiplier=1,ue._codeEquals("canceled")?(V._needToFetchStatus=!0,V.completeTransitions_()):(V._error=ue,V._transition("error"))},this._metadataErrorHandler=function(ue){V._request=void 0,ue._codeEquals("canceled")?V.completeTransitions_():(V._error=ue,V._transition("error"))},this._promise=new Promise(function(ue,$){V._resolve=ue,V._reject=$,V._start()}),this._promise.then(null,function(){})}return ie.prototype._makeProgressCallback=function(){var te=this,je=this._transferred;return function(Xe){return te._updateProgress(je+Xe)}},ie.prototype._shouldDoResumable=function(te){return te.size()>262144},ie.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},ie.prototype._resolveToken=function(te){var je=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(Xe){var V=Xe[0],ue=Xe[1];switch(je._state){case"running":te(V,ue);break;case"canceling":je._transition("canceled");break;case"pausing":je._transition("paused")}})},ie.prototype._createResumable=function(){var te=this;this._resolveToken(function(je,Xe){var V=function(ie,te,je,Xe,V){var ue=te.bucketOnlyServerUrl(),$=pr(te,Xe,V),ve={name:$.fullPath},Ge=lr(ue,ie.host),q={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+Xe.size(),"X-Goog-Upload-Header-Content-Type":$.contentType,"Content-Type":"application/json; charset=utf-8"},G=hi($,je),Yt=new hr(Ge,"POST",function(hn){var Xn;As(hn);try{Xn=hn.getResponseHeader("X-Goog-Upload-URL")}catch(ii){Cr(!1)}return Cr(Vn(Xn)),Xn},ie.maxUploadRetryTime);return Yt.urlParams=ve,Yt.headers=q,Yt.body=G,Yt.errorHandler=Ki(te),Yt}(te._ref.storage,te._ref._location,te._mappings,te._blob,te._metadata),ue=te._ref.storage._makeRequest(V,je,Xe);te._request=ue,ue.getPromise().then(function($){te._request=void 0,te._uploadUrl=$,te._needToFetchStatus=!1,te.completeTransitions_()},te._errorHandler)})},ie.prototype._fetchStatus=function(){var te=this,je=this._uploadUrl;this._resolveToken(function(Xe,V){var ue=function(ie,te,je,Xe){var Ge=new hr(je,"POST",function(z){var q=As(z,["active","final"]),G=null;try{G=z.getResponseHeader("X-Goog-Upload-Size-Received")}catch(kt){Cr(!1)}G||Cr(!1);var Ce=Number(G);return Cr(!isNaN(Ce)),new Xo(Ce,Xe.size(),"final"===q)},ie.maxUploadRetryTime);return Ge.headers={"X-Goog-Upload-Command":"query"},Ge.errorHandler=Ki(te),Ge}(te._ref.storage,te._ref._location,je,te._blob),$=te._ref.storage._makeRequest(ue,Xe,V);te._request=$,$.getPromise().then(function(ve){ve=ve,te._request=void 0,te._updateProgress(ve.current),te._needToFetchStatus=!1,ve.finalized&&(te._needToFetchMetadata=!0),te.completeTransitions_()},te._errorHandler)})},ie.prototype._continueUpload=function(){var te=this,je=262144*this._chunkMultiplier,Xe=new Xo(this._transferred,this._blob.size()),V=this._uploadUrl;this._resolveToken(function(ue,$){var ve;try{ve=function(ie,te,je,Xe,V,ue,$,ve){var Ge=new Xo(0,0);if($?(Ge.current=$.current,Ge.total=$.total):(Ge.current=0,Ge.total=Xe.size()),Xe.size()!==Ge.total)throw new yt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var z=Ge.total-Ge.current,q=z;V>0&&(q=Math.min(q,V));var G=Ge.current,Yt={"X-Goog-Upload-Command":q===z?"upload, finalize":"upload","X-Goog-Upload-Offset":""+Ge.current},hn=Xe.slice(G,G+q);if(null===hn)throw Ze();var br=new hr(je,"POST",function(uo,Mr){var mo,ho=As(uo,["active","final"]),vs=Ge.current+q,ti=Xe.size();return mo="final"===ho?dn(te,ue)(uo,Mr):null,new Xo(vs,ti,"final"===ho,mo)},te.maxUploadRetryTime);return br.headers=Yt,br.body=hn.uploadData(),br.progressCallback=ve||null,br.errorHandler=Ki(ie),br}(te._ref._location,te._ref.storage,V,te._blob,je,te._mappings,Xe,te._makeProgressCallback())}catch(z){return te._error=z,void te._transition("error")}var Ge=te._ref.storage._makeRequest(ve,ue,$);te._request=Ge,Ge.getPromise().then(function(z){te._increaseMultiplier(),te._request=void 0,te._updateProgress(z.current),z.finalized?(te._metadata=z.metadata,te._transition("success")):te.completeTransitions_()},te._errorHandler)})},ie.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},ie.prototype._fetchMetadata=function(){var te=this;this._resolveToken(function(je,Xe){var V=qr(te._ref.storage,te._ref._location,te._mappings),ue=te._ref.storage._makeRequest(V,je,Xe);te._request=ue,ue.getPromise().then(function($){te._request=void 0,te._metadata=$,te._transition("success")},te._metadataErrorHandler)})},ie.prototype._oneShotUpload=function(){var te=this;this._resolveToken(function(je,Xe){var V=function(ie,te,je,Xe,V){var ue=te.bucketOnlyServerUrl(),$={"X-Goog-Upload-Protocol":"multipart"},Ge=function(){for(var br="",uo=0;uo<2;uo++)br+=Math.random().toString().slice(2);return br}();$["Content-Type"]="multipart/related; boundary="+Ge;var z=pr(te,Xe,V),q=hi(z,je),kt=Wn.getBlob("--"+Ge+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+q+"\r\n--"+Ge+"\r\nContent-Type: "+z.contentType+"\r\n\r\n",Xe,"\r\n--"+Ge+"--");if(null===kt)throw Ze();var Yt={name:z.fullPath},hn=lr(ue,ie.host),ii=ie.maxUploadRetryTime,Ri=new hr(hn,"POST",dn(ie,je),ii);return Ri.urlParams=Yt,Ri.headers=$,Ri.body=kt.uploadData(),Ri.errorHandler=Ki(te),Ri}(te._ref.storage,te._ref._location,te._mappings,te._blob,te._metadata),ue=te._ref.storage._makeRequest(V,je,Xe);te._request=ue,ue.getPromise().then(function($){te._request=void 0,te._metadata=$,te._updateProgress(te._blob.size()),te._transition("success")},te._errorHandler)})},ie.prototype._updateProgress=function(te){var je=this._transferred;this._transferred=te,this._transferred!==je&&this._notifyObservers()},ie.prototype._transition=function(te){if(this._state!==te)switch(te){case"canceling":case"pausing":this._state=te,void 0!==this._request&&this._request.cancel();break;case"running":var je="paused"===this._state;this._state=te,je&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=te,this._notifyObservers();break;case"canceled":this._error=it(),this._state=te,this._notifyObservers()}},ie.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(ie.prototype,"snapshot",{get:function(){var te=ci(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:te,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),ie.prototype.on=function(te,je,Xe,V){var ue=this,$=new qi(je,Xe,V);return this._addObserver($),function(){ue._removeObserver($)}},ie.prototype.then=function(te,je){return this._promise.then(te,je)},ie.prototype.catch=function(te){return this.then(null,te)},ie.prototype._addObserver=function(te){this._observers.push(te),this._notifyObserver(te)},ie.prototype._removeObserver=function(te){var je=this._observers.indexOf(te);-1!==je&&this._observers.splice(je,1)},ie.prototype._notifyObservers=function(){var te=this;this._finishPromise(),this._observers.slice().forEach(function(Xe){te._notifyObserver(Xe)})},ie.prototype._finishPromise=function(){if(void 0!==this._resolve){var te=!0;switch(ci(this._state)){case wn.SUCCESS:cs(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:cs(this._reject.bind(null,this._error))();break;default:te=!1}te&&(this._resolve=void 0,this._reject=void 0)}},ie.prototype._notifyObserver=function(te){switch(ci(this._state)){case wn.RUNNING:case wn.PAUSED:te.next&&cs(te.next.bind(te,this.snapshot))();break;case wn.SUCCESS:te.complete&&cs(te.complete.bind(te))();break;default:te.error&&cs(te.error.bind(te,this._error))()}},ie.prototype.resume=function(){var te="paused"===this._state||"pausing"===this._state;return te&&this._transition("running"),te},ie.prototype.pause=function(){var te="running"===this._state;return te&&this._transition("pausing"),te},ie.prototype.cancel=function(){var te="running"===this._state||"pausing"===this._state;return te&&this._transition("canceling"),te},ie}(),No=function(){function ie(te,je){this._service=te,this._location=je instanceof Ai?je:Ai.makeFromUrl(je,te.host)}return ie.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},ie.prototype._newRef=function(te,je){return new ie(te,je)},Object.defineProperty(ie.prototype,"root",{get:function(){var te=new Ai(this._location.bucket,"");return this._newRef(this._service,te)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"name",{get:function(){return Fr(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"parent",{get:function(){var te=function(ie){if(0===ie.length)return null;var te=ie.lastIndexOf("/");return-1===te?"":ie.slice(0,te)}(this._location.path);if(null===te)return null;var je=new Ai(this._location.bucket,te);return new ie(this._service,je)},enumerable:!1,configurable:!0}),ie.prototype._throwIfRoot=function(te){if(""===this._location.path)throw Vt(te)},ie}();function Ho(ie){var te={prefixes:[],items:[]};return es(ie,te).then(function(){return te})}function es(ie,te,je){return(0,ge.mG)(this,void 0,void 0,function(){var V,ue,$;return(0,ge.Jh)(this,function(ve){switch(ve.label){case 0:return[4,qo(ie,{pageToken:je})];case 1:return V=ve.sent(),(ue=te.prefixes).push.apply(ue,V.prefixes),($=te.items).push.apply($,V.items),null==V.nextPageToken?[3,3]:[4,es(ie,te,V.nextPageToken)];case 2:ve.sent(),ve.label=3;case 3:return[2]}})})}function qo(ie,te){return(0,ge.mG)(this,void 0,void 0,function(){var je,Xe;return(0,ge.Jh)(this,function(V){switch(V.label){case 0:return null!=te&&"number"==typeof te.maxResults&&gi("options.maxResults",1,1e3,te.maxResults),Xe=wo(ie.storage,ie._location,"/",(je=te||{}).pageToken,je.maxResults),[4,ie.storage.makeRequestWithTokens(Xe)];case 1:return[2,V.sent().getPromise()]}})})}function lo(ie){return(0,ge.mG)(this,void 0,void 0,function(){var te;return(0,ge.Jh)(this,function(je){switch(je.label){case 0:return ie._throwIfRoot("getDownloadURL"),te=function(ie,te,je){var V=lr(te.fullServerUrl(),ie.host),$=ie.maxOperationRetryTime,ve=new hr(V,"GET",function(ie,te){return function(Xe,V){var ue=An(ie,V,te);return Cr(null!==ue),function(ie,te,je){var Xe=In(te);if(null===Xe||!Vn(Xe.downloadTokens))return null;var V=Xe.downloadTokens;if(0===V.length)return null;var ue=encodeURIComponent;return V.split(",").map(function(Ge){var q=ie.fullPath;return lr("/b/"+ue(ie.bucket)+"/o/"+ue(q),je)+Oi({alt:"media",token:Ge})})[0]}(ue,V,ie.host)}}(ie,je),$);return ve.errorHandler=yo(te),ve}(ie.storage,ie._location,Qe()),[4,ie.storage.makeRequestWithTokens(te)];case 1:return[2,je.sent().getPromise().then(function(Xe){if(null===Xe)throw new yt("no-download-url","The given file does not have any download URLs.");return Xe})]}})})}function co(ie,te){var je=function(ie,te){var je=te.split("/").filter(function(Xe){return Xe.length>0}).join("/");return 0===ie.length?je:ie+"/"+je}(ie._location.path,te),Xe=new Ai(ie._location.bucket,je);return new No(ie.storage,Xe)}function _r(ie){return/^[A-Za-z]+:\/\//.test(ie)}function Vr(ie,te){if(ie instanceof ts){var je=ie;if(null==je._bucket)throw new yt("no-default-bucket","No default bucket found. Did you set the '"+gt+"' property when initializing the app?");var Xe=new No(je,je._bucket);return null!=te?Vr(Xe,te):Xe}return void 0!==te?co(ie,te):ie}function _s(ie,te){if(te&&_r(te)){if(ie instanceof ts)return function(ie,te){return new No(ie,te)}(ie,te);throw at("To use ref(service, url), the first argument must be a Storage instance.")}return Vr(ie,te)}function Fs(ie,te){var je=null==te?void 0:te[gt];return null==je?null:Ai.makeFromBucketSpec(je,ie)}var ts=function(){function ie(te,je,Xe,V,ue,$){this.app=te,this._authProvider=je,this._appCheckProvider=Xe,this._pool=V,this._url=ue,this._firebaseVersion=$,this._bucket=null,this._host=ne,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ue?Ai.makeFromBucketSpec(ue,this._host):Fs(this._host,this.app.options)}return Object.defineProperty(ie.prototype,"host",{get:function(){return this._host},set:function(te){this._host=te,this._bucket=null!=this._url?Ai.makeFromBucketSpec(this._url,te):Fs(te,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(te){gi("time",0,Number.POSITIVE_INFINITY,te),this._maxUploadRetryTime=te},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(te){gi("time",0,Number.POSITIVE_INFINITY,te),this._maxOperationRetryTime=te},enumerable:!1,configurable:!0}),ie.prototype._getAuthToken=function(){return(0,ge.mG)(this,void 0,void 0,function(){var te,je;return(0,ge.Jh)(this,function(Xe){switch(Xe.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(te=this._authProvider.getImmediate({optional:!0}))?[4,te.getToken()]:[3,2];case 1:if(null!==(je=Xe.sent()))return[2,je.accessToken];Xe.label=2;case 2:return[2,null]}})})},ie.prototype._getAppCheckToken=function(){return(0,ge.mG)(this,void 0,void 0,function(){var te;return(0,ge.Jh)(this,function(Xe){switch(Xe.label){case 0:return(te=this._appCheckProvider.getImmediate({optional:!0}))?[4,te.getToken()]:[3,2];case 1:return[2,Xe.sent().token];case 2:return[2,null]}})})},ie.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(te){return te.cancel()}),this._requests.clear()),Promise.resolve()},ie.prototype._makeStorageReference=function(te){return new No(this,te)},ie.prototype._makeRequest=function(te,je,Xe){var V=this;if(this._deleted)return new Vo(jt());var ue=function(ie,te,je,Xe,V,ue){var $=Oi(ie.urlParams),ve=ie.url+$,Ge=Object.assign({},ie.headers);return function(ie,te){te&&(ie["X-Firebase-GMPID"]=te)}(Ge,te),function(ie,te){null!==te&&te.length>0&&(ie.Authorization="Firebase "+te)}(Ge,je),function(ie,te){ie["X-Firebase-Storage-Version"]="webjs/"+(null!=te?te:"AppManager")}(Ge,ue),function(ie,te){null!==te&&(ie["X-Firebase-AppCheck"]=te)}(Ge,Xe),new Ni(ve,ie.method,Ge,ie.body,ie.successCodes,ie.additionalRetryCodes,ie.handler,ie.errorHandler,ie.timeout,ie.progressCallback,V)}(te,this._appId,je,Xe,this._pool,this._firebaseVersion);return this._requests.add(ue),ue.getPromise().then(function(){return V._requests.delete(ue)},function(){return V._requests.delete(ue)}),ue},ie.prototype.makeRequestWithTokens=function(te){return(0,ge.mG)(this,void 0,void 0,function(){var je;return(0,ge.Jh)(this,function(ue){switch(ue.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return je=ue.sent(),[2,this._makeRequest(te,je[0],je[1])]}})})},ie}();function Ls(ie,te){return _s(ie=(0,be.m9)(ie),te)}var ie,te,$r=function(){function ie(te,je,Xe){this._delegate=te,this.task=je,this.ref=Xe}return Object.defineProperty(ie.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),ie}(),Xs=function(){function ie(te,je){this._delegate=te,this._ref=je,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(ie.prototype,"snapshot",{get:function(){return new $r(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),ie.prototype.then=function(te,je){var Xe=this;return this._delegate.then(function(V){if(te)return te(new $r(V,Xe,Xe._ref))},je)},ie.prototype.on=function(te,je,Xe,V){var ue=this,$=void 0;return je&&($="function"==typeof je?function(ve){return je(new $r(ve,ue,ue._ref))}:{next:je.next?function(ve){return je.next(new $r(ve,ue,ue._ref))}:void 0,complete:je.complete||void 0,error:je.error||void 0}),this._delegate.on(te,$,Xe||void 0,V||void 0)},ie}(),ea=function(){function ie(te,je){this._delegate=te,this._service=je}return Object.defineProperty(ie.prototype,"prefixes",{get:function(){var te=this;return this._delegate.prefixes.map(function(je){return new Bs(je,te._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"items",{get:function(){var te=this;return this._delegate.items.map(function(je){return new Bs(je,te._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),ie}(),Bs=function(){function ie(te,je){this._delegate=te,this.storage=je}return Object.defineProperty(ie.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),ie.prototype.toString=function(){return this._delegate.toString()},ie.prototype.child=function(te){var je=function(ie,te){return co(ie,te)}(this._delegate,te);return new ie(je,this.storage)},Object.defineProperty(ie.prototype,"root",{get:function(){return new ie(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"parent",{get:function(){var te=this._delegate.parent;return null==te?null:new ie(te,this.storage)},enumerable:!1,configurable:!0}),ie.prototype.put=function(te,je){return this._throwIfRoot("put"),new Xs(function(ie,te,je){return function(ie,te,je){return ie._throwIfRoot("uploadBytesResumable"),new Oo(ie,new Wn(te),je)}(ie=(0,be.m9)(ie),te,je)}(this._delegate,te,je),this)},ie.prototype.putString=function(te,je,Xe){void 0===je&&(je=Ht.RAW),this._throwIfRoot("putString");var V=oi(je,te),ue=(0,ge.pi)({},Xe);return null==ue.contentType&&null!=V.contentType&&(ue.contentType=V.contentType),new Xs(new Oo(this._delegate,new Wn(V.data,!0),ue),this)},ie.prototype.listAll=function(){var te=this;return function(ie){return Ho(ie=(0,be.m9)(ie))}(this._delegate).then(function(je){return new ea(je,te.storage)})},ie.prototype.list=function(te){var je=this;return function(ie,te){return qo(ie=(0,be.m9)(ie),te)}(this._delegate,te||void 0).then(function(Xe){return new ea(Xe,je.storage)})},ie.prototype.getMetadata=function(){return function(ie){return function(ie){return(0,ge.mG)(this,void 0,void 0,function(){var te;return(0,ge.Jh)(this,function(je){switch(je.label){case 0:return ie._throwIfRoot("getMetadata"),te=qr(ie.storage,ie._location,Qe()),[4,ie.storage.makeRequestWithTokens(te)];case 1:return[2,je.sent().getPromise()]}})})}(ie=(0,be.m9)(ie))}(this._delegate)},ie.prototype.updateMetadata=function(te){return function(ie,te){return function(ie,te){return(0,ge.mG)(this,void 0,void 0,function(){var je;return(0,ge.Jh)(this,function(Xe){switch(Xe.label){case 0:return ie._throwIfRoot("updateMetadata"),je=function(ie,te,je,Xe){var ue=lr(te.fullServerUrl(),ie.host),ve=hi(je,Xe),z=ie.maxOperationRetryTime,q=new hr(ue,"PATCH",dn(ie,Xe),z);return q.headers={"Content-Type":"application/json; charset=utf-8"},q.body=ve,q.errorHandler=yo(te),q}(ie.storage,ie._location,te,Qe()),[4,ie.storage.makeRequestWithTokens(je)];case 1:return[2,Xe.sent().getPromise()]}})})}(ie=(0,be.m9)(ie),te)}(this._delegate,te)},ie.prototype.getDownloadURL=function(){return function(ie){return lo(ie=(0,be.m9)(ie))}(this._delegate)},ie.prototype.delete=function(){return this._throwIfRoot("delete"),function(ie){return function(ie){return(0,ge.mG)(this,void 0,void 0,function(){var te;return(0,ge.Jh)(this,function(je){switch(je.label){case 0:return ie._throwIfRoot("deleteObject"),te=function(ie,te){var Xe=lr(te.fullServerUrl(),ie.host),ve=new hr(Xe,"DELETE",function(Ge,z){},ie.maxOperationRetryTime);return ve.successCodes=[200,204],ve.errorHandler=yo(te),ve}(ie.storage,ie._location),[4,ie.storage.makeRequestWithTokens(te)];case 1:return[2,je.sent().getPromise()]}})})}(ie=(0,be.m9)(ie))}(this._delegate)},ie.prototype._throwIfRoot=function(te){if(""===this._delegate._location.path)throw Vt(te)},ie}(),Qi=function(){function ie(te,je){this.app=te,this._delegate=je}return Object.defineProperty(ie.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),ie.prototype.ref=function(te){if(_r(te))throw at("ref() expected a child path but got a URL, use refFromURL instead.");return new Bs(Ls(this._delegate,te),this)},ie.prototype.refFromURL=function(te){if(!_r(te))throw at("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ai.makeFromUrl(te,this._delegate.host)}catch(je){throw at("refFromUrl() expected a valid full URL but got an invalid one.")}return new Bs(Ls(this._delegate,te),this)},ie.prototype.setMaxUploadRetryTime=function(te){this._delegate.maxUploadRetryTime=te},ie.prototype.setMaxOperationRetryTime=function(te){this._delegate.maxOperationRetryTime=te},ie.prototype.useEmulator=function(te,je,Xe){void 0===Xe&&(Xe={}),function(ie,te,je,Xe){void 0===Xe&&(Xe={}),function(ie,te,je,Xe){void 0===Xe&&(Xe={}),ie.host="http://"+te+":"+je;var V=Xe.mockUserToken;V&&(ie._overrideAuthToken="string"==typeof V?V:(0,be.Sg)(V,ie.app.options.projectId))}(ie,te,je,Xe)}(this._delegate,te,je,Xe)},ie}();function $o(ie){const te=function(ie){return new m.y(te=>{const je=$=>te.next($);je(ie.snapshot);const ue=ie.on("state_changed",je);return ie.then($=>{je($),te.complete()},$=>{je(ie.snapshot),($=>{te.error($)})($)}),function(){ue()}}).pipe((0,oe.b)(0))}(ie);return{task:ie,then:ie.then.bind(ie),catch:ie.catch.bind(ie),pause:ie.pause.bind(ie),cancel:ie.cancel.bind(ie),resume:ie.resume.bind(ie),snapshotChanges:()=>te,percentageChanges:()=>te.pipe((0,le.U)(je=>je.bytesTransferred/je.totalBytes*100))}}function Es(ie,te,je){return{getDownloadURL:()=>(0,P.of)(void 0).pipe((0,he.QV)(te.outsideAngular),(0,Le.w)(()=>ie.getDownloadURL()),je),getMetadata:()=>(0,P.of)(void 0).pipe((0,he.QV)(te.outsideAngular),(0,Le.w)(()=>ie.getMetadata()),je),delete:()=>(0,Ve.D)(ie.delete()),child:Xe=>Es(ie.child(Xe),te,je),updateMetadata:Xe=>(0,Ve.D)(ie.updateMetadata(Xe)),put:(Xe,V)=>$o(ie.put(Xe,V)),putString:(Xe,V,ue)=>$o(ie.putString(Xe,V,ue)),listAll:()=>(0,Ve.D)(ie.listAll())}}te={TaskState:wn,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Ht,Storage:ts,Reference:Bs},(ie=_e.Z).INTERNAL.registerComponent(new Se.wA("storage",function(ie,te){var je=te.instanceIdentifier,Xe=ie.getProvider("app").getImmediate(),V=ie.getProvider("auth-internal"),ue=ie.getProvider("app-check-internal");return new Qi(Xe,new ts(Xe,V,ue,new Mi,je,_e.Z.SDK_VERSION))},"PUBLIC").setServiceProps(te).setMultipleInstances(!0)),ie.registerVersion("@firebase/storage","0.7.0"),X(6019);const Fo=new Z.OlP("angularfire2.storageBucket"),zs=new Z.OlP("angularfire2.storage.maxUploadRetryTime"),Nr=new Z.OlP("angularfire2.storage.maxOperationRetryTime");let ya=(()=>{class ie{constructor(je,Xe,V,ue,$,ve,Ge){this.schedulers=new me.HU($),this.keepUnstableUntilFirst=(0,me.ss)(this.schedulers);const z=(0,me.on)(je,$,Xe);this.storage=(0,me.sI)(`${z.name}.storage.${V}`,"AngularFireStorage",z,()=>{const q=$.runOutsideAngular(()=>z.storage(V||void 0));return ve&&q.setMaxUploadRetryTime(ve),Ge&&q.setMaxOperationRetryTime(Ge),q},[ve,Ge])}ref(je){return Es(this.storage.ref(je),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(je){return Es(this.storage.refFromURL(je),this.schedulers,this.keepUnstableUntilFirst)}upload(je,Xe,V){return Es(this.storage.ref(je),this.schedulers,this.keepUnstableUntilFirst).put(Xe,V)}}return ie.\u0275fac=function(je){return new(je||ie)(Z.LFG(me.Dh),Z.LFG(me.xv,8),Z.LFG(Fo,8),Z.LFG(Z.Lbi),Z.LFG(Z.R0b),Z.LFG(zs,8),Z.LFG(Nr,8))},ie.\u0275prov=Z.Yz7({factory:function(){return new ie(Z.LFG(me.Dh),Z.LFG(me.xv,8),Z.LFG(Fo,8),Z.LFG(Z.Lbi),Z.LFG(Z.R0b),Z.LFG(zs,8),Z.LFG(Nr,8))},token:ie,providedIn:"any"}),ie})(),us=(()=>{class ie{}return ie.\u0275fac=function(je){return new(je||ie)},ie.\u0275mod=Z.oAB({type:ie}),ie.\u0275inj=Z.cJS({}),ie})(),kr=(()=>{class ie{}return ie.\u0275fac=function(je){return new(je||ie)},ie.\u0275mod=Z.oAB({type:ie}),ie.\u0275inj=Z.cJS({providers:[ya],imports:[us]}),ie})()},436:(Kt,_t,X)=>{"use strict";X.d(_t,{hO:()=>_n,xv:()=>Ke,Dh:()=>Ee,HU:()=>ge,GT:()=>gt,sI:()=>Jt,on:()=>we,ss:()=>be,pX:()=>ne,yq:()=>Ne});var m=X(7575),P=X(8178),Ve=X(5722),oe=X(2635),le=X(9254),he=X(9619),Le=X(7713);function Z(){}Kt=X.hmd(Kt);class me{constructor(st,Te=m.N){this.zone=st,this.delegate=Te}now(){return this.delegate.now()}schedule(st,Te,Fe){const Ze=this.zone;return this.delegate.schedule(function($e){Ze.runGuarded(()=>{st.apply(this,[$e])})},Te,Fe)}}class _e{constructor(st){this.zone=st,this.task=null}call(st,Te){const Fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Z,{},Z,Z)),Te.pipe((0,Ve.b)({next:Fe,complete:Fe,error:Fe})).subscribe(st).add(Fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ge{constructor(st){this.ngZone=st,this.outsideAngular=st.runOutsideAngular(()=>new me(Zone.current)),this.insideAngular=st.run(()=>new me(Zone.current,P.z))}}function be(it){return function(Te){return(Te=Te.lift(new _e(it.ngZone))).pipe((0,oe.R)(it.outsideAngular),(0,le.QV)(it.insideAngular))}}const Se=["ngOnDestroy"],ne=(it,st,Te,Fe={})=>new Proxy(it,{get:(Ze,Ie)=>Te.runOutsideAngular(()=>{var $e;if(it[Ie])return(null===($e=null==Fe?void 0:Fe.spy)||void 0===$e?void 0:$e.get)&&Fe.spy.get(Ie,it[Ie]),it[Ie];if(Se.indexOf(Ie)>-1)return()=>{};const at=st.toPromise().then(jt=>{const Vt=jt&&jt[Ie];return"function"==typeof Vt?Vt.bind(jt):Vt&&Vt.then?Vt.then(Xt=>Te.run(()=>Xt)):Te.run(()=>Vt)});return new Proxy(()=>{},{get:(jt,Vt)=>at[Vt],apply:(jt,Vt,Xt)=>at.then(Ot=>{var tn;const Ht=Ot&&Ot(...Xt);return(null===(tn=null==Fe?void 0:Fe.spy)||void 0===tn?void 0:tn.apply)&&Fe.spy.apply(Ie,Xt,Ht),Ht})})})}),gt=(it,st)=>{st.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(Fe=>{Object.defineProperty(it.prototype,Fe,Object.getOwnPropertyDescriptor(Te.prototype||Te,Fe))})})},Ee=new he.OlP("angularfire2.app.options"),Ke=new he.OlP("angularfire2.app.nameOrConfig"),rt=new he.GfV("6.1.5");function we(it,st,Te){const Ze="object"==typeof Te&&Te||{};Ze.name=Ze.name||"string"==typeof Te&&Te||"[DEFAULT]";const $e=Le.Z.apps.filter(at=>at&&at.name===Ze.name)[0]||st.runOutsideAngular(()=>Le.Z.initializeApp(it,Ze));try{JSON.stringify(it)!==JSON.stringify($e.options)&&At("error",`${$e.name} Firebase App already initialized with different options${Kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(at){}return $e}const Ne=()=>{At("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},At=(it,...st)=>{(0,he.X6Q)()&&"undefined"!=typeof console&&console[it](...st)};function Jt(it,st,Te,Fe,Ze){const[Ie,...$e]=globalThis.\u0275AngularfireInstanceCache.get(it)||[];if(Ie){try{Ze.some((at,jt)=>{const Vt=$e[jt];return at&&"object"==typeof at?JSON.stringify(at)!==JSON.stringify(Vt):at!==Vt})&&At("error",`${st} was already initialized on the ${Te.name} Firebase App instance with different settings.${Kt.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(at){}return Ie}{const at=Fe();return globalThis.\u0275AngularfireInstanceCache.set(it,[at,...Ze]),at}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Bt={provide:class{},useFactory:we,deps:[Ee,he.R0b,[new he.FiY,Ke]]};let _n=(()=>{class it{constructor(Te){Le.Z.registerVersion("angularfire",rt.full,Te.toString()),Le.Z.registerVersion("angular",he.q4F.full)}static initializeApp(Te,Fe){return{ngModule:it,providers:[{provide:Ee,useValue:Te},{provide:Ke,useValue:Fe}]}}}return it.\u0275fac=function(Te){return new(Te||it)(he.LFG(he.Lbi))},it.\u0275mod=he.oAB({type:it}),it.\u0275inj=he.cJS({providers:[Bt]}),it})()},2467:(Kt,_t,X)=>{"use strict";X.d(_t,{u:()=>If,d:()=>sh});var m=X(4762),P=X(9619);const oe=function(ye){var We=typeof ye;return null!=ye&&("object"==We||"function"==We)},he="object"==typeof global&&global&&global.Object===Object&&global;var Le="object"==typeof self&&self&&self.Object===Object&&self;const me=he||Le||Function("return this")(),ge=function(){return me.Date.now()};var be=/\s/;var gt=/^\s+/;const Ke=function(ye){return ye&&ye.slice(0,function(ye){for(var We=ye.length;We--&&be.test(ye.charAt(We)););return We}(ye)+1).replace(gt,"")},rt=me.Symbol;var we=Object.prototype,Ne=we.hasOwnProperty,At=we.toString,dt=rt?rt.toStringTag:void 0;var it=Object.prototype.toString;var Ie=rt?rt.toStringTag:void 0;const at=function(ye){return null==ye?void 0===ye?"[object Undefined]":"[object Null]":Ie&&Ie in Object(ye)?function(ye){var We=Ne.call(ye,dt),ot=ye[dt];try{ye[dt]=void 0;var en=!0}catch(wi){}var _i=At.call(ye);return en&&(We?ye[dt]=ot:delete ye[dt]),_i}(ye):function(ye){return it.call(ye)}(ye)},Vt=function(ye){return null!=ye&&"object"==typeof ye};var zn=/^[-+]0x[0-9a-f]+$/i,oi=/^0b[01]+$/i,$n=/^0o[0-7]+$/i,xi=parseInt;const Sr=function(ye){if("number"==typeof ye)return ye;if(function(ye){return"symbol"==typeof ye||Vt(ye)&&"[object Symbol]"==at(ye)}(ye))return NaN;if(oe(ye)){var We="function"==typeof ye.valueOf?ye.valueOf():ye;ye=oe(We)?We+"":We}if("string"!=typeof ye)return 0===ye?ye:+ye;ye=Ke(ye);var ot=oi.test(ye);return ot||$n.test(ye)?xi(ye.slice(2),ot?2:8):zn.test(ye)?NaN:+ye};var Hr=Math.max,Ir=Math.min;const di=function(ye,We,ot){var en=!0,_i=!0;if("function"!=typeof ye)throw new TypeError("Expected a function");return oe(ot)&&(en="leading"in ot?!!ot.leading:en,_i="trailing"in ot?!!ot.trailing:_i),function(ye,We,ot){var en,_i,wi,Wi,Pi,Kr,Fn=0,La=!1,Sa=!1,$a=!0;if("function"!=typeof ye)throw new TypeError("Expected a function");function dc(Ur){var jl=en,ga=_i;return en=_i=void 0,Fn=Ur,Wi=ye.apply(ga,jl)}function hc(Ur){return Fn=Ur,Pi=setTimeout(Ql,We),La?dc(Ur):Wi}function Yl(Ur){var jl=Ur-Kr;return void 0===Kr||jl>=We||jl<0||Sa&&Ur-Fn>=wi}function Ql(){var Ur=ge();if(Yl(Ur))return xu(Ur);Pi=setTimeout(Ql,function(Ur){var Uh=We-(Ur-Kr);return Sa?Ir(Uh,wi-(Ur-Fn)):Uh}(Ur))}function xu(Ur){return Pi=void 0,$a&&en?dc(Ur):(en=_i=void 0,Wi)}function Qu(){var Ur=ge(),jl=Yl(Ur);if(en=arguments,_i=this,Kr=Ur,jl){if(void 0===Pi)return hc(Kr);if(Sa)return clearTimeout(Pi),Pi=setTimeout(Ql,We),dc(Kr)}return void 0===Pi&&(Pi=setTimeout(Ql,We)),Wi}return We=Sr(We)||0,oe(ot)&&(La=!!ot.leading,wi=(Sa="maxWait"in ot)?Hr(Sr(ot.maxWait)||0,We):wi,$a="trailing"in ot?!!ot.trailing:$a),Qu.cancel=function(){void 0!==Pi&&clearTimeout(Pi),Fn=0,en=Kr=_i=Pi=void 0},Qu.flush=function(){return void 0===Pi?Wi:xu(ge())},Qu}(ye,We,{leading:en,maxWait:We,trailing:_i})},Vo=function(ye,We){return ye===We||ye!=ye&&We!=We},Pr=function(ye,We){for(var ot=ye.length;ot--;)if(Vo(ye[ot][0],We))return ot;return-1};var oo=Array.prototype.splice;function tr(ye){var We=-1,ot=null==ye?0:ye.length;for(this.clear();++We<ot;){var en=ye[We];this.set(en[0],en[1])}}tr.prototype.clear=function(){this.__data__=[],this.size=0},tr.prototype.delete=function(ye){var We=this.__data__,ot=Pr(We,ye);return!(ot<0||(ot==We.length-1?We.pop():oo.call(We,ot,1),--this.size,0))},tr.prototype.get=function(ye){var We=this.__data__,ot=Pr(We,ye);return ot<0?void 0:We[ot][1]},tr.prototype.has=function(ye){return Pr(this.__data__,ye)>-1},tr.prototype.set=function(ye,We){var ot=this.__data__,en=Pr(ot,ye);return en<0?(++this.size,ot.push([ye,We])):ot[en][1]=We,this};const Ii=tr,dr=function(ye){if(!oe(ye))return!1;var We=at(ye);return"[object Function]"==We||"[object GeneratorFunction]"==We||"[object AsyncFunction]"==We||"[object Proxy]"==We};var ye,Dt=me["__core-js_shared__"],Qe=(ye=/[^.]+$/.exec(Dt&&Dt.keys&&Dt.keys.IE_PROTO||""))?"Symbol(src)_1."+ye:"";var bn=Function.prototype.toString;const wr=function(ye){if(null!=ye){try{return bn.call(ye)}catch(We){}try{return ye+""}catch(We){}}return""};var xo=/^\[object .+?Constructor\]$/,jn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ki=function(ye){return!(!oe(ye)||function(ye){return!!Qe&&Qe in ye}(ye))&&(dr(ye)?jn:xo).test(wr(ye))},Yi=function(ye,We){var ot=function(ye,We){return null==ye?void 0:ye[We]}(ye,We);return Ki(ot)?ot:void 0},so=Yi(me,"Map"),pr=Yi(Object,"create");var Or=Object.prototype.hasOwnProperty;var No=Object.prototype.hasOwnProperty;function Xr(ye){var We=-1,ot=null==ye?0:ye.length;for(this.clear();++We<ot;){var en=ye[We];this.set(en[0],en[1])}}Xr.prototype.clear=function(){this.__data__=pr?pr(null):{},this.size=0},Xr.prototype.delete=function(ye){var We=this.has(ye)&&delete this.__data__[ye];return this.size-=We?1:0,We},Xr.prototype.get=function(ye){var We=this.__data__;if(pr){var ot=We[ye];return"__lodash_hash_undefined__"===ot?void 0:ot}return Or.call(We,ye)?We[ye]:void 0},Xr.prototype.has=function(ye){var We=this.__data__;return pr?void 0!==We[ye]:No.call(We,ye)},Xr.prototype.set=function(ye,We){var ot=this.__data__;return this.size+=this.has(ye)?0:1,ot[ye]=pr&&void 0===We?"__lodash_hash_undefined__":We,this};const lo=Xr,_s=function(ye,We){var ot=ye.__data__;return function(ye){var We=typeof ye;return"string"==We||"number"==We||"symbol"==We||"boolean"==We?"__proto__"!==ye:null===ye}(We)?ot["string"==typeof We?"string":"hash"]:ot.map};function ns(ye){var We=-1,ot=null==ye?0:ye.length;for(this.clear();++We<ot;){var en=ye[We];this.set(en[0],en[1])}}ns.prototype.clear=function(){this.size=0,this.__data__={hash:new lo,map:new(so||Ii),string:new lo}},ns.prototype.delete=function(ye){var We=_s(this,ye).delete(ye);return this.size-=We?1:0,We},ns.prototype.get=function(ye){return _s(this,ye).get(ye)},ns.prototype.has=function(ye){return _s(this,ye).has(ye)},ns.prototype.set=function(ye,We){var ot=_s(this,ye),en=ot.size;return ot.set(ye,We),this.size+=ot.size==en?0:1,this};const Js=ns;function $r(ye){var We=this.__data__=new Ii(ye);this.size=We.size}$r.prototype.clear=function(){this.__data__=new Ii,this.size=0},$r.prototype.delete=function(ye){var We=this.__data__,ot=We.delete(ye);return this.size=We.size,ot},$r.prototype.get=function(ye){return this.__data__.get(ye)},$r.prototype.has=function(ye){return this.__data__.has(ye)},$r.prototype.set=function(ye,We){var ot=this.__data__;if(ot instanceof Ii){var en=ot.__data__;if(!so||en.length<199)return en.push([ye,We]),this.size=++ot.size,this;ot=this.__data__=new Js(en)}return ot.set(ye,We),this.size=ot.size,this};const Xs=$r;var Qi=function(){try{var ye=Yi(Object,"defineProperty");return ye({},"",{}),ye}catch(We){}}();const xs=Qi,cr=function(ye,We,ot){"__proto__"==We&&xs?xs(ye,We,{configurable:!0,enumerable:!0,value:ot,writable:!0}):ye[We]=ot};var js=Object.prototype.hasOwnProperty;const go=function(ye,We,ot){var en=ye[We];(!js.call(ye,We)||!Vo(en,ot)||void 0===ot&&!(We in ye))&&cr(ye,We,ot)},Es=function(ye,We,ot,en){var _i=!ot;ot||(ot={});for(var wi=-1,Wi=We.length;++wi<Wi;){var Pi=We[wi],Kr=en?en(ot[Pi],ye[Pi],Pi,ot,ye):void 0;void 0===Kr&&(Kr=ye[Pi]),_i?cr(ot,Pi,Kr):go(ot,Pi,Kr)}return ot},bs=function(ye){return Vt(ye)&&"[object Arguments]"==at(ye)};var us=Object.prototype,kr=us.hasOwnProperty,ie=us.propertyIsEnumerable,te=bs(function(){return arguments}())?bs:function(ye){return Vt(ye)&&kr.call(ye,"callee")&&!ie.call(ye,"callee")};const je=te,V=Array.isArray;var ve="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ge=ve&&"object"==typeof module&&module&&!module.nodeType&&module,q=Ge&&Ge.exports===ve?me.Buffer:void 0;const kt=(q?q.isBuffer:void 0)||function(){return!1};var hn=/^(?:0|[1-9]\d*)$/;const ii=function(ye,We){var ot=typeof ye;return!!(We=null==We?9007199254740991:We)&&("number"==ot||"symbol"!=ot&&hn.test(ye))&&ye>-1&&ye%1==0&&ye<We},uo=function(ye){return"number"==typeof ye&&ye>-1&&ye%1==0&&ye<=9007199254740991};var Gi={};Gi["[object Float32Array]"]=Gi["[object Float64Array]"]=Gi["[object Int8Array]"]=Gi["[object Int16Array]"]=Gi["[object Int32Array]"]=Gi["[object Uint8Array]"]=Gi["[object Uint8ClampedArray]"]=Gi["[object Uint16Array]"]=Gi["[object Uint32Array]"]=!0,Gi["[object Arguments]"]=Gi["[object Array]"]=Gi["[object ArrayBuffer]"]=Gi["[object Boolean]"]=Gi["[object DataView]"]=Gi["[object Date]"]=Gi["[object Error]"]=Gi["[object Function]"]=Gi["[object Map]"]=Gi["[object Number]"]=Gi["[object Object]"]=Gi["[object RegExp]"]=Gi["[object Set]"]=Gi["[object String]"]=Gi["[object WeakMap]"]=!1;const vr=function(ye){return function(We){return ye(We)}};var Gl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ua=Gl&&"object"==typeof module&&module&&!module.nodeType&&module,pl=Ua&&Ua.exports===Gl&&he.process;const I=function(){try{return Ua&&Ua.require&&Ua.require("util").types||pl&&pl.binding&&pl.binding("util")}catch(We){}}();var N=I&&I.isTypedArray;const ke=N?vr(N):function(ye){return Vt(ye)&&uo(ye.length)&&!!Gi[at(ye)]};var tt=Object.prototype.hasOwnProperty;const St=function(ye,We){var ot=V(ye),en=!ot&&je(ye),_i=!ot&&!en&&kt(ye),wi=!ot&&!en&&!_i&&ke(ye),Wi=ot||en||_i||wi,Pi=Wi?function(ye,We){for(var ot=-1,en=Array(ye);++ot<ye;)en[ot]=We(ot);return en}(ye.length,String):[],Kr=Pi.length;for(var Fn in ye)(We||tt.call(ye,Fn))&&(!Wi||!("length"==Fn||_i&&("offset"==Fn||"parent"==Fn)||wi&&("buffer"==Fn||"byteLength"==Fn||"byteOffset"==Fn)||ii(Fn,Kr)))&&Pi.push(Fn);return Pi};var qt=Object.prototype;const gn=function(ye){var We=ye&&ye.constructor;return ye===("function"==typeof We&&We.prototype||qt)},Nt=function(ye,We){return function(ot){return ye(We(ot))}},Wt=Nt(Object.keys,Object);var mi=Object.prototype.hasOwnProperty;const Us=function(ye){return null!=ye&&uo(ye.length)&&!dr(ye)},eo=function(ye){return Us(ye)?St(ye):function(ye){if(!gn(ye))return Wt(ye);var We=[];for(var ot in Object(ye))mi.call(ye,ot)&&"constructor"!=ot&&We.push(ot);return We}(ye)};var Zo=Object.prototype.hasOwnProperty;const Rr=function(ye){if(!oe(ye))return function(ye){var We=[];if(null!=ye)for(var ot in Object(ye))We.push(ot);return We}(ye);var We=gn(ye),ot=[];for(var en in ye)"constructor"==en&&(We||!Zo.call(ye,en))||ot.push(en);return ot},Kn=function(ye){return Us(ye)?St(ye,!0):Rr(ye)};var Zr="object"==typeof exports&&exports&&!exports.nodeType&&exports,_o=Zr&&"object"==typeof module&&module&&!module.nodeType&&module,Ko=_o&&_o.exports===Zr?me.Buffer:void 0,Ar=Ko?Ko.allocUnsafe:void 0;const M=function(){return[]};var ae=Object.prototype.propertyIsEnumerable,qe=Object.getOwnPropertySymbols,Un=qe?function(ye){return null==ye?[]:(ye=Object(ye),function(ye,We){for(var ot=-1,en=null==ye?0:ye.length,_i=0,wi=[];++ot<en;){var Wi=ye[ot];We(Wi,ot,ye)&&(wi[_i++]=Wi)}return wi}(qe(ye),function(We){return ae.call(ye,We)}))}:M;const nr=Un,ri=function(ye,We){for(var ot=-1,en=We.length,_i=ye.length;++ot<en;)ye[_i+ot]=We[ot];return ye},U=Nt(Object.getPrototypeOf,Object);var B=Object.getOwnPropertySymbols?function(ye){for(var We=[];ye;)ri(We,nr(ye)),ye=U(ye);return We}:M;const re=B,ct=function(ye,We,ot){var en=We(ye);return V(ye)?en:ri(en,ot(ye))},xn=function(ye){return ct(ye,eo,nr)},Yn=function(ye){return ct(ye,Kn,re)},On=Yi(me,"DataView"),hs=Yi(me,"Promise"),to=Yi(me,"Set"),fs=Yi(me,"WeakMap");var De="[object Map]",Pl="[object Promise]",ka="[object Set]",fr="[object WeakMap]",no="[object DataView]",Nh=wr(On),Li=wr(so),ai=wr(hs),pd=wr(to),$l=wr(fs),oc=at;(On&&oc(new On(new ArrayBuffer(1)))!=no||so&&oc(new so)!=De||hs&&oc(hs.resolve())!=Pl||to&&oc(new to)!=ka||fs&&oc(new fs)!=fr)&&(oc=function(ye){var We=at(ye),ot="[object Object]"==We?ye.constructor:void 0,en=ot?wr(ot):"";if(en)switch(en){case Nh:return no;case Li:return De;case ai:return Pl;case pd:return ka;case $l:return fr}return We});const bu=oc;var sc=Object.prototype.hasOwnProperty;const Yc=me.Uint8Array,io=function(ye){var We=new ye.constructor(ye.byteLength);return new Yc(We).set(new Yc(ye)),We};var Aa=/\w*$/;var wu=rt?rt.prototype:void 0,wf=wu?wu.valueOf:void 0;const qu=function(ye,We,ot){var en=ye.constructor;switch(We){case"[object ArrayBuffer]":return io(ye);case"[object Boolean]":case"[object Date]":return new en(+ye);case"[object DataView]":return function(ye,We){var ot=We?io(ye.buffer):ye.buffer;return new ye.constructor(ot,ye.byteOffset,ye.byteLength)}(ye,ot);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(ye,We){var ot=We?io(ye.buffer):ye.buffer;return new ye.constructor(ot,ye.byteOffset,ye.length)}(ye,ot);case"[object Map]":case"[object Set]":return new en;case"[object Number]":case"[object String]":return new en(ye);case"[object RegExp]":return function(ye){var We=new ye.constructor(ye.source,Aa.exec(ye));return We.lastIndex=ye.lastIndex,We}(ye);case"[object Symbol]":return function(ye){return wf?Object(wf.call(ye)):{}}(ye)}};var Ja=Object.create,Cu=function(){function ye(){}return function(We){if(!oe(We))return{};if(Ja)return Ja(We);ye.prototype=We;var ot=new ye;return ye.prototype=void 0,ot}}();const Ea=Cu;var Fh=I&&I.isMap;const Lh=Fh?vr(Fh):function(ye){return Vt(ye)&&"[object Map]"==bu(ye)};var Ts=I&&I.isSet;const xf=Ts?vr(Ts):function(ye){return Vt(ye)&&"[object Set]"==bu(ye)};var Sc="[object Arguments]",Zl="[object Function]",kn="[object Object]",Lo={};Lo[Sc]=Lo["[object Array]"]=Lo["[object ArrayBuffer]"]=Lo["[object DataView]"]=Lo["[object Boolean]"]=Lo["[object Date]"]=Lo["[object Float32Array]"]=Lo["[object Float64Array]"]=Lo["[object Int8Array]"]=Lo["[object Int16Array]"]=Lo["[object Int32Array]"]=Lo["[object Map]"]=Lo["[object Number]"]=Lo[kn]=Lo["[object RegExp]"]=Lo["[object Set]"]=Lo["[object String]"]=Lo["[object Symbol]"]=Lo["[object Uint8Array]"]=Lo["[object Uint8ClampedArray]"]=Lo["[object Uint16Array]"]=Lo["[object Uint32Array]"]=!0,Lo["[object Error]"]=Lo[Zl]=Lo["[object WeakMap]"]=!1;const nh=function ps(ye,We,ot,en,_i,wi){var Wi,Pi=1&We,Kr=2&We,Fn=4&We;if(ot&&(Wi=_i?ot(ye,en,_i,wi):ot(ye)),void 0!==Wi)return Wi;if(!oe(ye))return ye;var La=V(ye);if(La){if(Wi=function(ye){var We=ye.length,ot=new ye.constructor(We);return We&&"string"==typeof ye[0]&&sc.call(ye,"index")&&(ot.index=ye.index,ot.input=ye.input),ot}(ye),!Pi)return function(ye,We){var ot=-1,en=ye.length;for(We||(We=Array(en));++ot<en;)We[ot]=ye[ot];return We}(ye,Wi)}else{var Sa=bu(ye),$a=Sa==Zl||"[object GeneratorFunction]"==Sa;if(kt(ye))return function(ye,We){if(We)return ye.slice();var ot=ye.length,en=Ar?Ar(ot):new ye.constructor(ot);return ye.copy(en),en}(ye,Pi);if(Sa==kn||Sa==Sc||$a&&!_i){if(Wi=Kr||$a?{}:function(ye){return"function"!=typeof ye.constructor||gn(ye)?{}:Ea(U(ye))}(ye),!Pi)return Kr?function(ye,We){return Es(ye,re(ye),We)}(ye,function(ye,We){return ye&&Es(We,Kn(We),ye)}(Wi,ye)):function(ye,We){return Es(ye,nr(ye),We)}(ye,function(ye,We){return ye&&Es(We,eo(We),ye)}(Wi,ye))}else{if(!Lo[Sa])return _i?ye:{};Wi=qu(ye,Sa,Pi)}}wi||(wi=new Xs);var dc=wi.get(ye);if(dc)return dc;wi.set(ye,Wi),xf(ye)?ye.forEach(function(Yl){Wi.add(ps(Yl,We,ot,Yl,ye,wi))}):Lh(ye)&&ye.forEach(function(Yl,Ql){Wi.set(Ql,ps(Yl,We,ot,Ql,ye,wi))});var Cd=La?void 0:(Fn?Kr?Yn:xn:Kr?Kn:eo)(ye);return function(ye,We){for(var ot=-1,en=null==ye?0:ye.length;++ot<en&&!1!==We(ye[ot],ot,ye););}(Cd||ye,function(Yl,Ql){Cd&&(Yl=ye[Ql=Yl]),go(Wi,Ql,ps(Yl,We,ot,Ql,ye,wi))}),Wi};var jh=Function.prototype.toString,rh=Object.prototype.hasOwnProperty,ap=jh.call(Object);const Au=function(ye){return Vt(ye)&&1===ye.nodeType&&!function(ye){if(!Vt(ye)||"[object Object]"!=at(ye))return!1;var We=U(ye);if(null===We)return!0;var ot=rh.call(We,"constructor")&&We.constructor;return"function"==typeof ot&&ot instanceof ot&&jh.call(ot)==ap}(ye)};function wd(ye,We=new Set){const ot=[ye],en=new Set;let _i=0;for(;ot.length>_i;){const wi=ot[_i++];if(!(en.has(wi)||Oc(wi)||We.has(wi)))if(en.add(wi),wi[Symbol.iterator])try{for(const Wi of wi)ot.push(Wi)}catch(Wi){}else for(const Wi in wi)"defaultValue"!==Wi&&ot.push(wi[Wi])}return en}function Oc(ye){const We=Object.prototype.toString.call(ye),ot=typeof ye;return"number"===ot||"boolean"===ot||"string"===ot||"symbol"===ot||"function"===ot||"[object Date]"===We||"[object RegExp]"===We||"[object Module]"===We||null==ye||ye instanceof EventTarget||ye instanceof Event}class Nc extends class{constructor(We){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof We.crashNumberLimit?We.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof We.minimumNonErrorTimePeriod?We.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=ot=>{const en=ot.error||ot.reason;en instanceof Error&&this._handleError(en,ot)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(We){this._creator=We}setDestructor(We){this._destructor=We}destroy(){this._stopErrorHandling(),this._listeners={}}on(We,ot){this._listeners[We]||(this._listeners[We]=[]),this._listeners[We].push(ot)}off(We,ot){this._listeners[We]=this._listeners[We].filter(en=>en!==ot)}_fire(We,...ot){const en=this._listeners[We]||[];for(const _i of en)_i.apply(this,[null,...ot])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(We,ot){if(this._shouldReactToError(We)){this.crashes.push({message:We.message,stack:We.stack,filename:ot.filename,lineno:ot.lineno,colno:ot.colno,date:this._now()});const en=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:We,causesRestart:en}),en?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(We){return We.is&&We.is("CKEditorError")&&null!=We.context&&"ready"===this.state&&this._isErrorComingFromThisItem(We)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(We,ot={}){super(ot),this._editor=null,this._throttledSave=di(this._save.bind(this),"number"==typeof ot.saveInterval?ot.saveInterval:5e3),this._creator=(en,_i)=>We.create(en,_i),this._destructor=en=>en.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(We=>{console.error("An error happened during the editor destroying.",We)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const We=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,We,We.context)}}).then(()=>{this._fire("restart")})}create(We=this._elementOrData,ot=this._config,en){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=We,this._config=this._cloneEditorConfiguration(ot)||{},this._config.context=en,this._creator(We,this._config))).then(_i=>{this._editor=_i,_i.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=_i.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const We=this._editor;return this._editor=null,We.model.document.off("change:data",this._throttledSave),this._destructor(We)})}_save(){const We=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=We}catch(ot){console.error(ot,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(We){this._excludedProps=We}_getData(){const We={};for(const ot of this._editor.model.document.getRootNames())We[ot]=this._editor.data.get({rootName:ot});return We}_isErrorComingFromThisItem(We){return function(ye,We,ot=new Set){if(ye===We&&function(ye){return"object"==typeof ye&&null!==ye}(ye))return!0;const en=wd(ye,ot),_i=wd(We,ot);for(const wi of en)if(_i.has(wi))return!0;return!1}(this._editor,We.context,this._excludedProps)}_cloneEditorConfiguration(We){return function(ye,We){return nh(ye,5,We="function"==typeof We?We:void 0)}(We,(ot,en)=>{if(Au(ot)||"context"===en)return ot})}}var oh=X(739),Sf=X(9010),cp=X(6019);function up(ye,We){}const Bo=new Array(256).fill(0).map((ye,We)=>("0"+We.toString(16)).slice(-2)),jo="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let If=(()=>{class ye{constructor(ot,en){this.config={},this.data="",this.tagName="div",this.ready=new P.vpe,this.change=new P.vpe,this.blur=new P.vpe,this.focus=new P.vpe,this.error=new P.vpe,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function(){const ye=4294967296*Math.random()>>>0,We=4294967296*Math.random()>>>0,ot=4294967296*Math.random()>>>0,en=4294967296*Math.random()>>>0;return"e"+Bo[ye>>0&255]+Bo[ye>>8&255]+Bo[ye>>16&255]+Bo[ye>>24&255]+Bo[We>>0&255]+Bo[We>>8&255]+Bo[We>>16&255]+Bo[We>>24&255]+Bo[ot>>0&255]+Bo[ot>>8&255]+Bo[ot>>16&255]+Bo[ot>>24&255]+Bo[en>>0&255]+Bo[en>>8&255]+Bo[en>>16&255]+Bo[en>>24&255]}(),this.ngZone=en,this.elementRef=ot;const{CKEDITOR_VERSION:_i}=window;if(_i){const[wi]=_i.split(".").map(Number);wi<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(ot){this.setDisabledState(ot)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let ot=this.editorWatchdog;return this.watchdog&&(ot=this.watchdog._watchdogs.get(this.id)),ot?ot.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return(0,m.mG)(this,void 0,void 0,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(ot){null===ot&&(ot=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(ot),this.isEditorSettingData=!1):(this.data=ot,this.ready.pipe((0,oh.P)()).subscribe(en=>{en.setData(this.data)}))}registerOnChange(ot){this.cvaOnChange=ot}registerOnTouched(ot){this.cvaOnTouched=ot}setDisabledState(ot){this.editorInstance&&(ot?this.editorInstance.enableReadOnlyMode(jo):this.editorInstance.disableReadOnlyMode(jo)),this.initiallyDisabled=ot}attachToWatchdog(){const ot=(Pi,Kr)=>(0,m.mG)(this,void 0,void 0,function*(){return this.ngZone.runOutsideAngular(()=>(0,m.mG)(this,void 0,void 0,function*(){this.elementRef.nativeElement.appendChild(Pi);const Fn=yield this.editor.create(Pi,Kr);return this.initiallyDisabled&&Fn.enableReadOnlyMode(jo),this.ngZone.run(()=>{this.ready.emit(Fn)}),this.setUpEditorEvents(Fn),Fn}))}),en=Pi=>(0,m.mG)(this,void 0,void 0,function*(){yield Pi.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),_i=()=>{this.ngZone.run(()=>{this.error.emit()})},wi=document.createElement(this.tagName),Wi=this.getConfig();if(this.editorElement=wi,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:ot,destructor:en,sourceElementOrData:wi,config:Wi}),this.watchdog.on("itemError",(Pi,{itemId:Kr})=>{Kr===this.id&&_i()});else{const Pi=new Nc(this.editor);Pi.setCreator(ot),Pi.setDestructor(en),Pi.on("error",_i),this.editorWatchdog=Pi,this.editorWatchdog.create(wi,Wi)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const ot=Object.assign({},this.config),en=this.config.initialData||this.data;return en&&(ot.initialData=en),ot}setUpEditorEvents(ot){const _i=ot.editing.view.document;ot.model.document.on("change:data",wi=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const Wi=ot.getData();this.cvaOnChange(Wi)}this.change.emit({event:wi,editor:ot})})}),_i.on("focus",wi=>{this.ngZone.run(()=>{this.focus.emit({event:wi,editor:ot})})}),_i.on("blur",wi=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:wi,editor:ot})})})}}return ye.\u0275fac=function(ot){return new(ot||ye)(P.Y36(P.SBq),P.Y36(P.R0b))},ye.\u0275cmp=P.Xpm({type:ye,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[P._Bn([{provide:Sf.JU,useExisting:(0,P.Gpc)(()=>ye),multi:!0}])],decls:1,vars:0,template:function(ot,en){1&ot&&P.YNc(0,up,0,0,"ng-template")},encapsulation:2}),ye})(),sh=(()=>{class ye{}return ye.\u0275fac=function(ot){return new(ot||ye)},ye.\u0275mod=P.oAB({type:ye}),ye.\u0275inj=P.cJS({imports:[[Sf.u5,cp.ez]]}),ye})()},9217:(Kt,_t,X)=>{Kt=X.nmd(Kt);var m=X(1052).default;(function(P){const Ve=P.en=P.en||{};Ve.dictionary=Object.assign(Ve.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),self,Kt.exports=(()=>(()=>{"use strict";var P={3062:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const Se=be},903:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t// Horizontal drop target (between blocks).\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 0;\n\t\tmargin: 0;\n\t\ttext-align: initial;\n\n\t\t& .ck-clipboard-drop-target__line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-top: -1px;\n\n\t\t\t&::before {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n'],sourceRoot:""}]);const Se=be},3143:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-modal);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-toolbar {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\n\t\t& .ck-sticky-panel__content_sticky .ck-toolbar {\n\t\t\tborder-bottom-width: 1px;\n\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Se=be},4717:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);const Se=be},9315:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const Se=be},8733:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const Se=be},3508:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\n\t/*\n\t * Make sure the selected inline image always stays on top of its siblings.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t */\n\t& .image.ck-widget_selected {\n\t\tz-index: 1;\n\t}\n\n\t& .image-inline.ck-widget_selected {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the native browser selection style is not displayed.\n\t\t * Inline image widgets have their own styles for the selected state and\n\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t */\n\t\t& ::selection {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Se=be},2640:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highligted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot:""}]);const Se=be},5083:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Se=be},4036:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);const Se=be},3773:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);const Se=be},3689:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);const Se=be},1905:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Se=be},9773:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const Se=be},2347:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Se=be},7754:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Se=be},4652:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);const Se=be},7442:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read\u2013only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Se=be},9292:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Se=be},1613:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const Se=be},6306:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);const Se=be},3881:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Se=be},6945:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Se=be},4906:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const Se=be},5332:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const Se=be},6781:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);const Se=be},5485:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Se=be},3949:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Se=be},7686:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* Make sure the divider stretches 100% height of the button\n\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\n\t& > .ck-splitbutton__arrow:not(:focus) {\n\t\tborder-top-width: 0px;\n\t\tborder-bottom-width: 0px;\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t/* Make sure the divider between the buttons looks fine when the button is focused */\n\t\t& > .ck-splitbutton__arrow:focus::after {\n\t\t\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Se=be},7339:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const Se=be},9688:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Se=be},8847:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]);const Se=be},6574:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Se=be},4879:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Se=be},3662:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const Se=be},2577:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Se=be},1046:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Se=be},8793:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Se=be},4650:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const Se=be},7676:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Se=be},5868:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Se=be},6764:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Se=be},9695:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const Se=be},5542:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Se=be},3332:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t/* Keep tooltips transparent for any interactions. */\n\tpointer-events: none;\n\n\tz-index: calc( var(--ck-z-modal) + 100 );\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);const Se=be},4793:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const Se=be},3488:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Se=be},8506:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const Se=be},4921:(he,Le,Z)=>{Z.d(Le,{Z:()=>Se});var me=Z(1799),_e=Z.n(me),ge=Z(2609),be=Z.n(ge)()(_e());be.push([he.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const Se=be},2609:he=>{he.exports=function(Le){var Z=[];return Z.toString=function(){return this.map(function(me){var _e=Le(me);return me[2]?"@media ".concat(me[2]," {").concat(_e,"}"):_e}).join("")},Z.i=function(me,_e,ge){"string"==typeof me&&(me=[[null,me,""]]);var be={};if(ge)for(var Se=0;Se<this.length;Se++){var ne=this[Se][0];null!=ne&&(be[ne]=!0)}for(var gt=0;gt<me.length;gt++){var Ee=[].concat(me[gt]);ge&&be[Ee[0]]||(_e&&(Ee[2]=Ee[2]?"".concat(_e," and ").concat(Ee[2]):_e),Z.push(Ee))}},Z}},1799:he=>{function Z(me,_e){(null==_e||_e>me.length)&&(_e=me.length);for(var ge=0,be=new Array(_e);ge<_e;ge++)be[ge]=me[ge];return be}he.exports=function(me){var _e=function(me,_e){return function(ge){if(Array.isArray(ge))return ge}(me)||function(ge,be){var Se=ge&&("undefined"!=typeof Symbol&&ge[Symbol.iterator]||ge["@@iterator"]);if(null!=Se){var ne,gt,Ee=[],Ke=!0,yt=!1;try{for(Se=Se.call(ge);!(Ke=(ne=Se.next()).done)&&(Ee.push(ne.value),4!==Ee.length);Ke=!0);}catch(rt){yt=!0,gt=rt}finally{try{Ke||null==Se.return||Se.return()}finally{if(yt)throw gt}}return Ee}}(me)||function(ge,be){if(ge){if("string"==typeof ge)return Z(ge,4);var Se=Object.prototype.toString.call(ge).slice(8,-1);if("Object"===Se&&ge.constructor&&(Se=ge.constructor.name),"Map"===Se||"Set"===Se)return Array.from(ge);if("Arguments"===Se||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se))return Z(ge,4)}}(me)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(me),ge=_e[1],be=_e[3];if(!be)return ge;if("function"==typeof btoa){var Se=btoa(unescape(encodeURIComponent(JSON.stringify(be)))),ne="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(Se),gt="/*# ".concat(ne," */"),Ee=be.sources.map(function(Ke){return"/*# sourceURL=".concat(be.sourceRoot||"").concat(Ke," */")});return[ge].concat(Ee).concat([gt]).join("\n")}return[ge].join("\n")}},6062:(he,Le,Z)=>{var me,dt,ge=(dt={},function(Jt){if(void 0===dt[Jt]){var Bt=document.querySelector(Jt);if(window.HTMLIFrameElement&&Bt instanceof window.HTMLIFrameElement)try{Bt=Bt.contentDocument.head}catch(_n){Bt=null}dt[Jt]=Bt}return dt[Jt]}),be=[];function Se(dt){for(var Jt=-1,Bt=0;Bt<be.length;Bt++)if(be[Bt].identifier===dt){Jt=Bt;break}return Jt}function ne(dt,Jt){for(var Bt={},_n=[],it=0;it<dt.length;it++){var st=dt[it],Te=Jt.base?st[0]+Jt.base:st[0],Fe=Bt[Te]||0,Ze="".concat(Te," ").concat(Fe);Bt[Te]=Fe+1;var Ie=Se(Ze),$e={css:st[1],media:st[2],sourceMap:st[3]};-1!==Ie?(be[Ie].references++,be[Ie].updater($e)):be.push({identifier:Ze,updater:At($e,Jt),references:1}),_n.push(Ze)}return _n}function gt(dt){var Jt=document.createElement("style"),Bt=dt.attributes||{};if(void 0===Bt.nonce){var _n=Z.nc;_n&&(Bt.nonce=_n)}if(Object.keys(Bt).forEach(function(st){Jt.setAttribute(st,Bt[st])}),"function"==typeof dt.insert)dt.insert(Jt);else{var it=ge(dt.insert||"head");if(!it)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");it.appendChild(Jt)}return Jt}var Ee,Ke=(Ee=[],function(dt,Jt){return Ee[dt]=Jt,Ee.filter(Boolean).join("\n")});function yt(dt,Jt,Bt,_n){var it=Bt?"":_n.media?"@media ".concat(_n.media," {").concat(_n.css,"}"):_n.css;if(dt.styleSheet)dt.styleSheet.cssText=Ke(Jt,it);else{var st=document.createTextNode(it),Te=dt.childNodes;Te[Jt]&&dt.removeChild(Te[Jt]),Te.length?dt.insertBefore(st,Te[Jt]):dt.appendChild(st)}}function rt(dt,Jt,Bt){var _n=Bt.css,it=Bt.media,st=Bt.sourceMap;if(it?dt.setAttribute("media",it):dt.removeAttribute("media"),st&&"undefined"!=typeof btoa&&(_n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(st))))," */")),dt.styleSheet)dt.styleSheet.cssText=_n;else{for(;dt.firstChild;)dt.removeChild(dt.firstChild);dt.appendChild(document.createTextNode(_n))}}var we=null,Ne=0;function At(dt,Jt){var Bt,_n,it;if(Jt.singleton){var st=Ne++;Bt=we||(we=gt(Jt)),_n=yt.bind(null,Bt,st,!1),it=yt.bind(null,Bt,st,!0)}else Bt=gt(Jt),_n=rt.bind(null,Bt,Jt),it=function(){!function(Te){if(null===Te.parentNode)return!1;Te.parentNode.removeChild(Te)}(Bt)};return _n(dt),function(Te){if(Te){if(Te.css===dt.css&&Te.media===dt.media&&Te.sourceMap===dt.sourceMap)return;_n(dt=Te)}else it()}}he.exports=function(dt,Jt){(Jt=Jt||{}).singleton||"boolean"==typeof Jt.singleton||(Jt.singleton=(void 0===me&&(me=Boolean(window&&document&&document.all&&!window.atob)),me));var Bt=ne(dt=dt||[],Jt);return function(_n){if(_n=_n||[],"[object Array]"===Object.prototype.toString.call(_n)){for(var it=0;it<Bt.length;it++){var st=Se(Bt[it]);be[st].references--}for(var Te=ne(_n,Jt),Fe=0;Fe<Bt.length;Fe++){var Ze=Se(Bt[Fe]);0===be[Ze].references&&(be[Ze].updater(),be.splice(Ze,1))}Bt=Te}}}}},Ve={};function oe(he){var Le=Ve[he];if(void 0!==Le)return Le.exports;var Z=Ve[he]={id:he,exports:{}};return P[he](Z,Z.exports,oe),Z.exports}oe.n=he=>{var Le=he&&he.__esModule?()=>he.default:()=>he;return oe.d(Le,{a:Le}),Le},oe.d=(he,Le)=>{for(var Z in Le)oe.o(Le,Z)&&!oe.o(he,Z)&&Object.defineProperty(he,Z,{enumerable:!0,get:Le[Z]})},oe.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(he){if("object"==typeof window)return window}}(),oe.o=(he,Le)=>Object.prototype.hasOwnProperty.call(he,Le),oe.nc=void 0;var le={};return(()=>{oe.d(le,{default:()=>x_});const he=function(){try{return navigator.userAgent.toLowerCase()}catch(d){return""}}(),Z_isMac=me(he),Z_isGecko=(he.indexOf("windows"),function(d){return!!d.match(/gecko\/\d+/)}(he)),Z_isSafari=function(d){return d.indexOf(" applewebkit/")>-1&&-1===d.indexOf("chrome")}(he),Z_isAndroid=(function(d){!!d.match(/iphone|ipad/i)||me(d)&&navigator}(he),function(d){return d.indexOf("android")>-1}(he)),Z_isBlink=function(d){return d.indexOf("chrome/")>-1&&d.indexOf("edge/")<0}(he);!function(){let d=!1;try{d=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(e){}}();function me(d){return d.indexOf("macintosh")>-1}function _e(d,e,t,o){t=t||function(k,E){return k===E};const a=Array.isArray(d)?d:Array.prototype.slice.call(d),h=Array.isArray(e)?e:Array.prototype.slice.call(e),g=function(k,E,D){const L=ge(k,E,D);if(-1===L)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const Ae=ge(be(k,L),be(E,L),D);return{firstIndex:L,lastIndexOld:k.length-Ae,lastIndexNew:E.length-Ae}}(a,h,t);return o?function(k,E){const{firstIndex:D,lastIndexOld:L,lastIndexNew:W}=k;if(-1===D)return Array(E).fill("equal");let de=[];return D>0&&(de=de.concat(Array(D).fill("equal"))),W-D>0&&(de=de.concat(Array(W-D).fill("insert"))),L-D>0&&(de=de.concat(Array(L-D).fill("delete"))),W<E&&(de=de.concat(Array(E-W).fill("equal"))),de}(g,h.length):function(k,E){const D=[],{firstIndex:L,lastIndexOld:W,lastIndexNew:de}=E;return de-L>0&&D.push({index:L,type:"insert",values:k.slice(L,de)}),W-L>0&&D.push({index:L+(de-L),type:"delete",howMany:W-L}),D}(h,g)}function ge(d,e,t){for(let o=0;o<Math.max(d.length,e.length);o++)if(void 0===d[o]||void 0===e[o]||!t(d[o],e[o]))return o;return-1}function be(d,e){return d.slice(e).reverse()}function Se(d,e,t){t=t||function(Oe,He){return Oe===He};const o=d.length,a=e.length;if(o>200||a>200||o+a>300)return Se.fastDiff(d,e,t,!0);let h,g;if(a<o){const Oe=d;d=e,e=Oe,h="delete",g="insert"}else h="insert",g="delete";const y=d.length,k=e.length,E=k-y,D={},L={};function W(Oe){const He=(void 0!==L[Oe-1]?L[Oe-1]:-1)+1,pt=void 0!==L[Oe+1]?L[Oe+1]:-1,Tt=He>pt?-1:1;D[Oe+Tt]&&(D[Oe]=D[Oe+Tt].slice(0)),D[Oe]||(D[Oe]=[]),D[Oe].push(He>pt?h:g);let Zt=Math.max(He,pt),Mn=Zt-Oe;for(;Mn<y&&Zt<k&&t(d[Mn],e[Zt]);)Mn++,Zt++,D[Oe].push("equal");return Zt}let de,Ae=0;do{for(de=-Ae;de<E;de++)L[de]=W(de);for(de=E+Ae;de>E;de--)L[de]=W(de);L[E]=W(E),Ae++}while(L[E]!==k);return D[E].slice(1)}function ne(d,...e){e.forEach(t=>{const o=Object.getOwnPropertyNames(t),a=Object.getOwnPropertySymbols(t);o.concat(a).forEach(h=>{if(h in d.prototype||"function"==typeof t&&("length"==h||"name"==h||"prototype"==h))return;const g=Object.getOwnPropertyDescriptor(t,h);g.enumerable=!1,Object.defineProperty(d.prototype,h,g)})})}Se.fastDiff=_e;class Ee{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=function d(){d.called=!0},this.off=function d(){d.called=!0}}}const Ke=new Array(256).fill("").map((d,e)=>("0"+e.toString(16)).slice(-2));function yt(){const d=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0;return"e"+Ke[d>>0&255]+Ke[d>>8&255]+Ke[d>>16&255]+Ke[d>>24&255]+Ke[e>>0&255]+Ke[e>>8&255]+Ke[e>>16&255]+Ke[e>>24&255]+Ke[t>>0&255]+Ke[t>>8&255]+Ke[t>>16&255]+Ke[t>>24&255]+Ke[o>>0&255]+Ke[o>>8&255]+Ke[o>>16&255]+Ke[o>>24&255]}const rt={get(d="normal"){return"number"!=typeof d?this[d]||this.normal:d},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function we(d,e){const t=rt.get(e.priority);for(let o=0;o<d.length;o++)if(rt.get(d[o].priority)<t)return void d.splice(o,0,e);d.push(e)}class Ne extends Error{constructor(e,t,o){super(function(a,h){const g=new WeakSet;return a+(h?` ${JSON.stringify(h,(D,L)=>{if("object"==typeof L&&null!==L){if(g.has(L))return`[object ${L.constructor.name}]`;g.add(L)}return L})}`:"")+Jt(a)}(e,o)),this.name="CKEditorError",this.context=t,this.data=o}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const o=new Ne(e.message,t);throw o.stack=e.stack,o}}function At(d,e){console.warn(...Bt(d,e))}function dt(d,e){console.error(...Bt(d,e))}function Jt(d){return`\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${d}`}function Bt(d,e){const t=Jt(d);return e?[d,e,t]:[d,t]}const it="object"==typeof window?window:oe.g;if(it.CKEDITOR_VERSION)throw new Ne("ckeditor-duplicated-modules",null);it.CKEDITOR_VERSION="35.4.0";const st=Symbol("listeningTo"),Te=Symbol("emitterId"),Fe=Symbol("delegations"),Ze=Ie(Object);function Ie(d){return d?class extends d{on(e,t,o){this.listenTo(this,e,t,o)}once(e,t,o){let a=!1;this.listenTo(this,e,(h,...g)=>{a||(a=!0,h.off(),t.call(this,h,...g))},o)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,o,a={}){let h,g;this[st]||(this[st]={});const y=this[st];at(e)||$e(e);const k=at(e);var D,L,W,de;(h=y[k])||(h=y[k]={emitter:e,callbacks:{}}),(g=h.callbacks[t])||(g=h.callbacks[t]=[]),g.push(o),L=t,W=o,de=a,(D=e)._addEventListener?D._addEventListener(L,W,de):this._addEventListener.call(D,L,W,de)}stopListening(e,t,o){const a=this[st];let h=e&&at(e);const g=a&&h?a[h]:void 0,y=g&&t?g.callbacks[t]:void 0;if(!(!a||e&&!g||t&&!y))if(o)tn(this,e,t,o),-1!==y.indexOf(o)&&(1===y.length?delete g.callbacks[t]:tn(this,e,t,o));else if(y){for(;o=y.pop();)tn(this,e,t,o);delete g.callbacks[t]}else if(g){for(t in g.callbacks)this.stopListening(e,t);delete a[h]}else{for(h in a)this.stopListening(a[h].emitter);delete this[st]}}fire(e,...t){try{const o=e instanceof Ee?e:new Ee(this,e),a=o.name;let h=Xt(this,a);if(o.path.push(this),h){const y=[o,...t];h=Array.from(h);for(let k=0;k<h.length&&(h[k].callback.apply(this,y),o.off.called&&(delete o.off.called,this._removeEventListener(a,h[k].callback)),!o.stop.called);k++);}const g=this[Fe];if(g){const y=g.get(a),k=g.get("*");y&&Ot(y,o,t),k&&Ot(k,o,t)}return o.return}catch(o){Ne.rethrowUnexpectedError(o,this)}}delegate(...e){return{to:(t,o)=>{this[Fe]||(this[Fe]=new Map),e.forEach(a=>{const h=this[Fe].get(a);h?h.set(t,o):this[Fe].set(a,new Map([[t,o]]))})}}}stopDelegating(e,t){if(this[Fe])if(e)if(t){const o=this[Fe].get(e);o&&o.delete(t)}else this[Fe].delete(e);else this[Fe].clear()}_addEventListener(e,t,o){!function(g,y){const k=jt(g);if(k[y])return;let E=y,D=null;const L=[];for(;""!==E&&!k[E];)k[E]={callbacks:[],childEvents:[]},L.push(k[E]),D&&k[E].childEvents.push(D),D=E,E=E.substr(0,E.lastIndexOf(":"));if(""!==E){for(const W of L)W.callbacks=k[E].callbacks.slice();k[E].childEvents.push(D)}}(this,e);const a=Vt(this,e),h={callback:t,priority:rt.get(o.priority)};for(const g of a)we(g,h)}_removeEventListener(e,t){const o=Vt(this,e);for(const a of o)for(let h=0;h<a.length;h++)a[h].callback==t&&(a.splice(h,1),h--)}}:Ze}function $e(d,e){d[Te]||(d[Te]=e||yt())}function at(d){return d[Te]}function jt(d){return d._events||Object.defineProperty(d,"_events",{value:{}}),d._events}function Vt(d,e){const t=jt(d)[e];if(!t)return[];let o=[t.callbacks];for(let a=0;a<t.childEvents.length;a++){const h=Vt(d,t.childEvents[a]);o=o.concat(h)}return o}function Xt(d,e){let t;return d._events&&(t=d._events[e])&&t.callbacks.length?t.callbacks:e.indexOf(":")>-1?Xt(d,e.substr(0,e.lastIndexOf(":"))):null}function Ot(d,e,t){for(let[o,a]of d){a?"function"==typeof a&&(a=a(e.name)):a=e.name;const h=new Ee(e.source,a);h.path=[...e.path],o.fire(h,...t)}}function tn(d,e,t,o){e._removeEventListener?e._removeEventListener(t,o):d._removeEventListener.call(e,t,o)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(d=>{Ie[d]=Ze.prototype[d]});const Ht=function(d){var e=typeof d;return null!=d&&("object"==e||"function"==e)},zn=Symbol("observableProperties"),oi=Symbol("boundObservables"),$n=Symbol("boundProperties"),xi=Symbol("decoratedMethods"),Zi=Symbol("decoratedOriginal"),Sr=Tn(Ie());function Tn(d){return d?class extends d{set(e,t){if(Ht(e))return void Object.keys(e).forEach(a=>{this.set(a,e[a])},this);Hr(this);const o=this[zn];if(e in this&&!o.has(e))throw new Ne("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>o.get(e),set(a){const h=o.get(e);let g=this.fire(`set:${e}`,e,a,h);void 0===g&&(g=a),h===g&&o.has(e)||(o.set(e,g),this.fire(`change:${e}`,e,g,h))}}),this[e]=t}bind(...e){if(!e.length||!wn(e))throw new Ne("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new Ne("observable-bind-duplicate-properties",this);Hr(this);const t=this[$n];e.forEach(a=>{if(t.has(a))throw new Ne("observable-bind-rebind",this)});const o=new Map;return e.forEach(a=>{const h={property:a,to:[]};t.set(a,h),o.set(a,h)}),{to:Ir,toMany:Ln,_observable:this,_bindProperties:e,_to:[],_bindings:o}}unbind(...e){if(!this[zn])return;const t=this[$n],o=this[oi];if(e.length){if(!wn(e))throw new Ne("observable-unbind-wrong-properties",this);e.forEach(a=>{const h=t.get(a);h&&(h.to.forEach(([g,y])=>{const k=o.get(g),E=k[y];E.delete(h),E.size||delete k[y],Object.keys(k).length||(o.delete(g),this.stopListening(g,"change"))}),t.delete(a))})}else o.forEach((a,h)=>{this.stopListening(h,"change")}),o.clear(),t.clear()}decorate(e){Hr(this);const t=this[e];if(!t)throw new Ne("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(o,a)=>{o.return=t.apply(this,a)}),this[e]=function(...o){return this.fire(e,o)},this[e][Zi]=t,this[xi]||(this[xi]=[]),this[xi].push(e)}stopListening(e,t,o){if(!e&&this[xi]){for(const a of this[xi])this[a]=this[a][Zi];delete this[xi]}super.stopListening(e,t,o)}}:Sr}function Hr(d){d[zn]||(Object.defineProperty(d,zn,{value:new Map}),Object.defineProperty(d,oi,{value:new Map}),Object.defineProperty(d,$n,{value:new Map}))}function Ir(...d){const e=function(...h){if(!h.length)throw new Ne("observable-bind-to-parse-error",null);const g={to:[]};let y;return"function"==typeof h[h.length-1]&&(g.callback=h.pop()),h.forEach(k=>{if("string"==typeof k)y.properties.push(k);else{if("object"!=typeof k)throw new Ne("observable-bind-to-parse-error",null);y={observable:k,properties:[]},g.to.push(y)}}),g}(...d),t=Array.from(this._bindings.keys()),o=t.length;if(!e.callback&&e.to.length>1)throw new Ne("observable-bind-to-no-callback",this);if(o>1&&e.callback)throw new Ne("observable-bind-to-extra-callback",this);var a;e.to.forEach(h=>{if(h.properties.length&&h.properties.length!==o)throw new Ne("observable-bind-to-properties-length",this);h.properties.length||(h.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),a=this._observable,this._to.forEach(h=>{const g=a[oi];let y;g.get(h.observable)||a.listenTo(h.observable,"change",(k,E)=>{y=g.get(h.observable)[E],y&&y.forEach(D=>{ci(a,D.property)})})}),function(h){let g;h._bindings.forEach((y,k)=>{h._to.forEach(E=>{g=E.properties[y.callback?0:h._bindProperties.indexOf(k)],y.to.push([E.observable,g]),function(D,L,W,de){const Ae=D[oi],Oe=Ae.get(W),He=Oe||{};He[de]||(He[de]=new Set),He[de].add(L),Oe||Ae.set(W,He)}(h._observable,y,E.observable,g)})})}(this),this._bindProperties.forEach(h=>{ci(this._observable,h)})}function Ln(d,e,t){if(this._bindings.size>1)throw new Ne("observable-bind-to-many-not-one-binding",this);this.to(...function(o,a){const h=o.map(g=>[g,a]);return Array.prototype.concat.apply([],h)}(d,e),t)}function wn(d){return d.every(e=>"string"==typeof e)}function ci(d,e){const t=d[$n].get(e);let o;t.callback?o=t.callback.apply(d,t.to.map(a=>a[0][a[1]])):(o=t.to[0],o=o[0][o[1]]),Object.prototype.hasOwnProperty.call(d,e)?d[e]=o:d.set(e,o)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(d=>{Tn[d]=Sr.prototype[d]});class Jn{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}function di(d){let e=0;for(const t of d)e++;return e}function pi(d,e){const t=Math.min(d.length,e.length);for(let o=0;o<t;o++)if(d[o]!=e[o])return o;return d.length==e.length?"same":d.length<e.length?"prefix":"extension"}function Mi(d){return!(!d||!d[Symbol.iterator])}const Ai="object"==typeof global&&global&&global.Object===Object&&global;var Vo="object"==typeof self&&self&&self.Object===Object&&self;const Sn=Ai||Vo||Function("return this")(),Pr=Sn.Symbol;var vo=Object.prototype,oo=vo.hasOwnProperty,Vi=vo.toString,Vn=Pr?Pr.toStringTag:void 0,zr=Object.prototype.toString,lr=Pr?Pr.toStringTag:void 0;const Oi=function(d){return null==d?void 0===d?"[object Undefined]":"[object Null]":lr&&lr in Object(d)?function(d){var e=oo.call(d,Vn),t=d[Vn];try{d[Vn]=void 0;var o=!0}catch(h){}var a=Vi.call(d);return o&&(e?d[Vn]=t:delete d[Vn]),a}(d):function(d){return zr.call(d)}(d)},Ni=Array.isArray,tr=function(d){return null!=d&&"object"==typeof d},Ii=function(d){return"string"==typeof d||!Ni(d)&&tr(d)&&"[object String]"==Oi(d)};function mt(d,e,t={},o=[]){const a=t&&t.xmlns,h=a?d.createElementNS(a,e):d.createElement(e);for(const g in t)h.setAttribute(g,t[g]);!Ii(o)&&Mi(o)||(o=[o]);for(let g of o)Ii(g)&&(g=d.createTextNode(g)),h.appendChild(g);return h}const Je=function(d,e){return function(t){return d(e(t))}},xt=Je(Object.getPrototypeOf,Object);var nn=Function.prototype.toString,Nn=Object.prototype.hasOwnProperty,Wn=nn.call(Object);const In=function(d){if(!tr(d)||"[object Object]"!=Oi(d))return!1;var e=xt(d);if(null===e)return!0;var t=Nn.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&nn.call(t)==Wn},Ui=function(d,e){return d===e||d!=d&&e!=e},Fr=function(d,e){for(var t=d.length;t--;)if(Ui(d[t][0],e))return t;return-1};var Qr=Array.prototype.splice;function Mt(d){var e=-1,t=null==d?0:d.length;for(this.clear();++e<t;){var o=d[e];this.set(o[0],o[1])}}Mt.prototype.clear=function(){this.__data__=[],this.size=0},Mt.prototype.delete=function(d){var e=this.__data__,t=Fr(e,d);return!(t<0||(t==e.length-1?e.pop():Qr.call(e,t,1),--this.size,0))},Mt.prototype.get=function(d){var e=this.__data__,t=Fr(e,d);return t<0?void 0:e[t][1]},Mt.prototype.has=function(d){return Fr(this.__data__,d)>-1},Mt.prototype.set=function(d,e){var t=this.__data__,o=Fr(t,d);return o<0?(++this.size,t.push([d,e])):t[o][1]=e,this};const $t=Mt,Ci=function(d){if(!Ht(d))return!1;var e=Oi(d);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},xo=Sn["__core-js_shared__"];var as=function(){var d=/[^.]+$/.exec(xo&&xo.keys&&xo.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),Cr=Function.prototype.toString;const dn=function(d){if(null!=d){try{return Cr.call(d)}catch(e){}try{return d+""}catch(e){}}return""};var jn=/^\[object .+?Constructor\]$/,wo=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const so=function(d,e){var t=function(d,e){return null==d?void 0:d[e]}(d,e);return function(d){return!(!Ht(d)||function(d){return!!as&&as in d}(d))&&(Ci(d)?wo:jn).test(dn(d))}(t)?t:void 0},qn=so(Sn,"Map"),pr=so(Object,"create");var As=Object.prototype.hasOwnProperty,ls=Object.prototype.hasOwnProperty;function qi(d){var e=-1,t=null==d?0:d.length;for(this.clear();++e<t;){var o=d[e];this.set(o[0],o[1])}}qi.prototype.clear=function(){this.__data__=pr?pr(null):{},this.size=0},qi.prototype.delete=function(d){var e=this.has(d)&&delete this.__data__[d];return this.size-=e?1:0,e},qi.prototype.get=function(d){var e=this.__data__;if(pr){var t=e[d];return"__lodash_hash_undefined__"===t?void 0:t}return As.call(e,d)?e[d]:void 0},qi.prototype.has=function(d){var e=this.__data__;return pr?void 0!==e[d]:ls.call(e,d)},qi.prototype.set=function(d,e){var t=this.__data__;return this.size+=this.has(d)?0:1,t[d]=pr&&void 0===e?"__lodash_hash_undefined__":e,this};const cs=qi,Eo=function(d,e){var t=d.__data__;return function(d){var e=typeof d;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==d:null===d}(e)?t["string"==typeof e?"string":"hash"]:t.map};function Xr(d){var e=-1,t=null==d?0:d.length;for(this.clear();++e<t;){var o=d[e];this.set(o[0],o[1])}}Xr.prototype.clear=function(){this.size=0,this.__data__={hash:new cs,map:new(qn||$t),string:new cs}},Xr.prototype.delete=function(d){var e=Eo(this,d).delete(d);return this.size-=e?1:0,e},Xr.prototype.get=function(d){return Eo(this,d).get(d)},Xr.prototype.has=function(d){return Eo(this,d).has(d)},Xr.prototype.set=function(d,e){var t=Eo(this,d),o=t.size;return t.set(d,e),this.size+=t.size==o?0:1,this};const lo=Xr;function co(d){var e=this.__data__=new $t(d);this.size=e.size}co.prototype.clear=function(){this.__data__=new $t,this.size=0},co.prototype.delete=function(d){var e=this.__data__,t=e.delete(d);return this.size=e.size,t},co.prototype.get=function(d){return this.__data__.get(d)},co.prototype.has=function(d){return this.__data__.has(d)},co.prototype.set=function(d,e){var t=this.__data__;if(t instanceof $t){var o=t.__data__;if(!qn||o.length<199)return o.push([d,e]),this.size=++t.size,this;t=this.__data__=new lo(o)}return t.set(d,e),this.size=t.size,this};const _r=co,Vr=function(){try{var d=so(Object,"defineProperty");return d({},"",{}),d}catch(e){}}(),_s=function(d,e,t){"__proto__"==e&&Vr?Vr(d,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):d[e]=t};var Fs=Object.prototype.hasOwnProperty;const Gr=function(d,e,t){var o=d[e];Fs.call(d,e)&&Ui(o,t)&&(void 0!==t||e in d)||_s(d,e,t)},ts=function(d,e,t,o){var a=!t;t||(t={});for(var h=-1,g=e.length;++h<g;){var y=e[h],k=o?o(t[y],d[y],y,t,d):void 0;void 0===k&&(k=d[y]),a?_s(t,y,k):Gr(t,y,k)}return t},Ys=function(d){return tr(d)&&"[object Arguments]"==Oi(d)};var Qs=Object.prototype,za=Qs.hasOwnProperty,Mo=Qs.propertyIsEnumerable;const ns=Ys(function(){return arguments}())?Ys:function(d){return tr(d)&&za.call(d,"callee")&&!Mo.call(d,"callee")};var Ls=_t&&!_t.nodeType&&_t,Qa=Ls&&Kt&&!Kt.nodeType&&Kt,cl=Qa&&Qa.exports===Ls?Sn.Buffer:void 0;const $r=(cl?cl.isBuffer:void 0)||function(){return!1};var Xs=/^(?:0|[1-9]\d*)$/;const ea=function(d,e){var t=typeof d;return!!(e=null==e?9007199254740991:e)&&("number"==t||"symbol"!=t&&Xs.test(d))&&d>-1&&d%1==0&&d<e},Bs=function(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=9007199254740991};var Qi={};Qi["[object Float32Array]"]=Qi["[object Float64Array]"]=Qi["[object Int8Array]"]=Qi["[object Int16Array]"]=Qi["[object Int32Array]"]=Qi["[object Uint8Array]"]=Qi["[object Uint8ClampedArray]"]=Qi["[object Uint16Array]"]=Qi["[object Uint32Array]"]=!0,Qi["[object Arguments]"]=Qi["[object Array]"]=Qi["[object ArrayBuffer]"]=Qi["[object Boolean]"]=Qi["[object DataView]"]=Qi["[object Date]"]=Qi["[object Error]"]=Qi["[object Function]"]=Qi["[object Map]"]=Qi["[object Number]"]=Qi["[object Object]"]=Qi["[object RegExp]"]=Qi["[object Set]"]=Qi["[object String]"]=Qi["[object WeakMap]"]=!1;const Ji=function(d){return function(e){return d(e)}};var cr=_t&&!_t.nodeType&&_t,ta=cr&&Kt&&!Kt.nodeType&&Kt,js=ta&&ta.exports===cr&&Ai.process;const Wr=function(){try{return ta&&ta.require&&ta.require("util").types||js&&js.binding&&js.binding("util")}catch(e){}}();var go=Wr&&Wr.isTypedArray;const $o=go?Ji(go):function(d){return tr(d)&&Bs(d.length)&&!!Qi[Oi(d)]};var Es=Object.prototype.hasOwnProperty;const Fo=function(d,e){var t=Ni(d),o=!t&&ns(d),a=!t&&!o&&$r(d),h=!t&&!o&&!a&&$o(d),g=t||o||a||h,y=g?function(d,e){for(var t=-1,o=Array(d);++t<d;)o[t]=e(t);return o}(d.length,String):[],k=y.length;for(var E in d)!e&&!Es.call(d,E)||g&&("length"==E||a&&("offset"==E||"parent"==E)||h&&("buffer"==E||"byteLength"==E||"byteOffset"==E)||ea(E,k))||y.push(E);return y};var zs=Object.prototype;const Nr=function(d){var e=d&&d.constructor;return d===("function"==typeof e&&e.prototype||zs)},ya=Je(Object.keys,Object);var bs=Object.prototype.hasOwnProperty;const kr=function(d){return null!=d&&Bs(d.length)&&!Ci(d)},ie=function(d){return kr(d)?Fo(d):function(d){if(!Nr(d))return ya(d);var e=[];for(var t in Object(d))bs.call(d,t)&&"constructor"!=t&&e.push(t);return e}(d)};var Xe=Object.prototype.hasOwnProperty;const ue=function(d){return kr(d)?Fo(d,!0):function(d){if(!Ht(d))return function(d){var e=[];if(null!=d)for(var t in Object(d))e.push(t);return e}(d);var e=Nr(d),t=[];for(var o in d)("constructor"!=o||!e&&Xe.call(d,o))&&t.push(o);return t}(d)};var ve=_t&&!_t.nodeType&&_t,Ge=ve&&Kt&&!Kt.nodeType&&Kt,z=Ge&&Ge.exports===ve?Sn.Buffer:void 0,q=z?z.allocUnsafe:void 0;const G=function(d,e){if(e)return d.slice();var t=d.length,o=q?q(t):new d.constructor(t);return d.copy(o),o},Ce=function(d,e){var t=-1,o=d.length;for(e||(e=Array(o));++t<o;)e[t]=d[t];return e},Yt=function(){return[]};var hn=Object.prototype.propertyIsEnumerable,Xn=Object.getOwnPropertySymbols;const ii=Xn?function(d){return null==d?[]:(d=Object(d),function(d,e){for(var t=-1,o=null==d?0:d.length,a=0,h=[];++t<o;){var g=d[t];e(g)&&(h[a++]=g)}return h}(Xn(d),function(e){return hn.call(d,e)}))}:Yt,br=function(d,e){for(var t=-1,o=e.length,a=d.length;++t<o;)d[a+t]=e[t];return d},uo=Object.getOwnPropertySymbols?function(d){for(var e=[];d;)br(e,ii(d)),d=xt(d);return e}:Yt,ho=function(d,e,t){var o=e(d);return Ni(d)?o:br(o,t(d))},vs=function(d){return ho(d,ie,ii)},ti=function(d){return ho(d,ue,uo)},mo=so(Sn,"DataView"),Tl=so(Sn,"Promise"),nc=so(Sn,"Set"),Mc=so(Sn,"WeakMap");var ql="[object Map]",Sl="[object Promise]",ic="[object Set]",an="[object WeakMap]",Di="[object DataView]",ul=dn(mo),Co=dn(qn),Ra=dn(Tl),Wo=dn(nc),Ms=dn(Mc),Vs=Oi;(mo&&Vs(new mo(new ArrayBuffer(1)))!=Di||qn&&Vs(new qn)!=ql||Tl&&Vs(Tl.resolve())!=Sl||nc&&Vs(new nc)!=ic||Mc&&Vs(new Mc)!=an)&&(Vs=function(d){var e=Oi(d),t="[object Object]"==e?d.constructor:void 0,o=t?dn(t):"";if(o)switch(o){case ul:return Di;case Co:return ql;case Ra:return Sl;case Wo:return ic;case Ms:return an}return e});const dl=Vs;var hl=Object.prototype.hasOwnProperty;const wa=Sn.Uint8Array,Va=function(d){var e=new d.constructor(d.byteLength);return new wa(e).set(new wa(d)),e};var na=/\w*$/,ha=Pr?Pr.prototype:void 0,vr=ha?ha.valueOf:void 0;const Ua=function(d,e){var t=e?Va(d.buffer):d.buffer;return new d.constructor(t,d.byteOffset,d.length)};var pl=Object.create;const pe=function(){function d(){}return function(e){if(!Ht(e))return{};if(pl)return pl(e);d.prototype=e;var t=new d;return d.prototype=void 0,t}}(),I=function(d){return"function"!=typeof d.constructor||Nr(d)?{}:pe(xt(d))};var Y=Wr&&Wr.isMap;const ke=Y?Ji(Y):function(d){return tr(d)&&"[object Map]"==dl(d)};var tt=Wr&&Wr.isSet;const ft=tt?Ji(tt):function(d){return tr(d)&&"[object Set]"==dl(d)};var St="[object Arguments]",qt="[object Function]",yn="[object Object]",gn={};gn[St]=gn["[object Array]"]=gn["[object ArrayBuffer]"]=gn["[object DataView]"]=gn["[object Boolean]"]=gn["[object Date]"]=gn["[object Float32Array]"]=gn["[object Float64Array]"]=gn["[object Int8Array]"]=gn["[object Int16Array]"]=gn["[object Int32Array]"]=gn["[object Map]"]=gn["[object Number]"]=gn[yn]=gn["[object RegExp]"]=gn["[object Set]"]=gn["[object String]"]=gn["[object Symbol]"]=gn["[object Uint8Array]"]=gn["[object Uint8ClampedArray]"]=gn["[object Uint16Array]"]=gn["[object Uint32Array]"]=!0,gn["[object Error]"]=gn[qt]=gn["[object WeakMap]"]=!1;const ut=function d(e,t,o,a,h,g){var y,k=1&t,E=2&t,D=4&t;if(o&&(y=h?o(e,a,h,g):o(e)),void 0!==y)return y;if(!Ht(e))return e;var L=Ni(e);if(L){if(y=function(d){var e=d.length,t=new d.constructor(e);return e&&"string"==typeof d[0]&&hl.call(d,"index")&&(t.index=d.index,t.input=d.input),t}(e),!k)return Ce(e,y)}else{var W=dl(e),de=W==qt||"[object GeneratorFunction]"==W;if($r(e))return G(e,k);if(W==yn||W==St||de&&!h){if(y=E||de?{}:I(e),!k)return E?function(d,e){return ts(d,uo(d),e)}(e,function(d,e){return d&&ts(e,ue(e),d)}(y,e)):function(d,e){return ts(d,ii(d),e)}(e,function(d,e){return d&&ts(e,ie(e),d)}(y,e))}else{if(!gn[W])return h?e:{};y=function(d,e,t){var o=d.constructor;switch(e){case"[object ArrayBuffer]":return Va(d);case"[object Boolean]":case"[object Date]":return new o(+d);case"[object DataView]":return function(d,e){var t=e?Va(d.buffer):d.buffer;return new d.constructor(t,d.byteOffset,d.byteLength)}(d,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ua(d,t);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(d);case"[object RegExp]":return function(d){var e=new d.constructor(d.source,na.exec(d));return e.lastIndex=d.lastIndex,e}(d);case"[object Symbol]":return function(d){return vr?Object(vr.call(d)):{}}(d)}}(e,W,k)}}g||(g=new _r);var Ae=g.get(e);if(Ae)return Ae;g.set(e,y),ft(e)?e.forEach(function(He){y.add(d(He,t,o,He,e,g))}):ke(e)&&e.forEach(function(He,pt){y.set(pt,d(He,t,o,pt,e,g))});var Oe=L?void 0:(D?E?ti:vs:E?ue:ie)(e);return function(d,e){for(var t=-1,o=null==d?0:d.length;++t<o&&!1!==e(d[t],t););}(Oe||e,function(He,pt){Oe&&(He=e[pt=He]),Gr(y,pt,d(He,t,o,pt,e,g))}),y},Nt=function(d,e){return ut(d,5,e="function"==typeof e?e:void 0)},vt=function(d){return tr(d)&&1===d.nodeType&&!In(d)};class Wt{constructor(e,t){this._config={},t&&this.define(un(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,o,a=!1){if(In(t))return void this._setObjectToTarget(e,t,a);const h=t.split(".");t=h.pop();for(const g of h)In(e[g])||(e[g]={}),e=e[g];if(In(o))return In(e[t])||(e[t]={}),void this._setObjectToTarget(e=e[t],o,a);a&&void 0!==e[t]||(e[t]=o)}_getFromSource(e,t){const o=t.split(".");t=o.pop();for(const a of o){if(!In(e[a])){e=null;break}e=e[a]}return e?un(e[t]):void 0}_setObjectToTarget(e,t,o){Object.keys(t).forEach(a=>{this._setToTarget(e,a,t[a],o)})}}function un(d){return Nt(d,mi)}function mi(d){return vt(d)?d:void 0}function vi(d){if(d){if(d.defaultView)return d instanceof d.defaultView.Document;if(d.ownerDocument&&d.ownerDocument.defaultView)return d instanceof d.ownerDocument.defaultView.Node}return!1}function yi(d){const e=Object.prototype.toString.apply(d);return"[object Window]"==e||"[object global]"==e}const Do=Us(Ie());function Us(d){return d?class extends d{listenTo(e,t,o,a={}){if(vi(e)||yi(e)){const h={capture:!!a.useCapture,passive:!!a.usePassive},g=this._getProxyEmitter(e,h)||new To(e,h);this.listenTo(g,t,o,a)}else super.listenTo(e,t,o,a)}stopListening(e,t,o){if(vi(e)||yi(e)){const a=this._getAllProxyEmitters(e);for(const h of a)this.stopListening(h,t,o)}else super.stopListening(e,t,o)}_getProxyEmitter(e,t){return function(o,a){const h=o[st];return h&&h[a]?h[a].emitter:null}(this,eo(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(t=>!!t)}}:Do}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(d=>{Us[d]=Do.prototype[d]});class To extends(Ie()){constructor(e,t){super(),$e(this,eo(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,o){this.attach(e),Ie().prototype._addEventListener.call(this,e,t,o)}_removeEventListener(e,t){Ie().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=o=>{this.fire(e,o)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function eo(d,e){let t=(o=d)["data-ck-expando"]||(o["data-ck-expando"]=yt());var o;for(const o of Object.keys(e).sort())e[o]&&(t+="-"+o);return t}let ys;try{ys={window,document}}catch(d){ys={window:{},document:{}}}const si=ys;function ws(d){const e=[];let t=d;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}function Hi(d){return"[object Text]"==Object.prototype.toString.call(d)}function Fi(d){return"[object Range]"==Object.prototype.toString.apply(d)}function Zo(d){const e=d.ownerDocument.defaultView.getComputedStyle(d);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const fa=["top","right","bottom","left","width","height"];class Rr{constructor(e){const t=Fi(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),ni(e)||t)if(t){const o=Rr.getDomRangeRects(e);Pn(this,Rr.getBoundingRect(o))}else Pn(this,e.getBoundingClientRect());else if(yi(e)){const{innerWidth:o,innerHeight:a}=e;Pn(this,{top:0,right:o,bottom:a,left:0,width:o,height:a})}else Pn(this,e)}clone(){return new Rr(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0?null:new Rr(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(!Kn(e)){let o=e.parentNode||e.commonAncestorContainer;for(;o&&!Kn(o);){const a=new Rr(o),h=t.getIntersection(a);if(!h)return null;h.getArea()<t.getArea()&&(t=h),o=o.parentNode}}return t}isEqual(e){for(const t of fa)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,o,a;if(yi(e))t=e.innerWidth-e.document.documentElement.clientWidth,o=e.innerHeight-e.document.documentElement.clientHeight,a=e.getComputedStyle(e.document.documentElement).direction;else{const h=Zo(e);t=e.offsetWidth-e.clientWidth-h.left-h.right,o=e.offsetHeight-e.clientHeight-h.top-h.bottom,a=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=h.left,this.top+=h.top,this.right-=h.right,this.bottom-=h.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,"ltr"===a?this.right-=t:this.left+=t,this.height-=o,this.bottom-=o,this}static getDomRangeRects(e){const t=[],o=Array.from(e.getClientRects());if(o.length)for(const a of o)t.push(new Rr(a));else{let a=e.startContainer;Hi(a)&&(a=a.parentNode);const h=new Rr(a.getBoundingClientRect());h.right=h.left,h.width=0,t.push(h)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let o=0;for(const a of e)o++,t.left=Math.min(t.left,a.left),t.top=Math.min(t.top,a.top),t.right=Math.max(t.right,a.right),t.bottom=Math.max(t.bottom,a.bottom);return 0==o?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new Rr(t))}}function Pn(d,e){for(const t of fa)d[t]=e[t]}function Kn(d){return!!ni(d)&&d===d.ownerDocument.body}function ni(d){return null!==d&&"object"==typeof d&&1===d.nodeType&&"function"==typeof d.getBoundingClientRect}class ei{constructor(e,t){ei._observerInstance||ei._createObserver(),this._element=e,this._callback=t,ei._addElementCallback(e,t),ei._observerInstance.observe(e)}destroy(){ei._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){ei._elementCallbacks||(ei._elementCallbacks=new Map);let o=ei._elementCallbacks.get(e);o||(o=new Set,ei._elementCallbacks.set(e,o)),o.add(t)}static _deleteElementCallback(e,t){const o=ei._getElementCallbacks(e);o&&(o.delete(t),o.size||(ei._elementCallbacks.delete(e),ei._observerInstance.unobserve(e))),ei._elementCallbacks&&!ei._elementCallbacks.size&&(ei._observerInstance=null,ei._elementCallbacks=null)}static _getElementCallbacks(e){return ei._elementCallbacks?ei._elementCallbacks.get(e):null}static _createObserver(){ei._observerInstance=new si.window.ResizeObserver(e=>{for(const t of e){const o=ei._getElementCallbacks(t.target);if(o)for(const a of o)a(t)}})}}function _o(d){return e=>e+d}function ds(d){let e=0;for(;d.previousSibling;)d=d.previousSibling,e++;return e}function Ko(d,e,t){d.insertBefore(t,d.childNodes[e]||null)}function Ar(d){return d&&d.nodeType===Node.COMMENT_NODE}function is(d){return!!(d&&d.getClientRects&&d.getClientRects().length)}function rs({element:d,target:e,positions:t,limiter:o,fitInViewport:a,viewportOffsetConfig:h}){Ci(e)&&(e=e()),Ci(o)&&(o=o());const g=(W=d)&&W.parentNode?W.offsetParent===si.document.body?null:W.offsetParent:null,y=new Rr(d),k=new Rr(e);var W;let E;const D=a&&function(W){W=Object.assign({top:0,bottom:0,left:0,right:0},W);const de=new Rr(si.window);return de.top+=W.top,de.height-=W.top,de.bottom-=W.bottom,de.height-=W.bottom,de}(h)||null,L={targetRect:k,elementRect:y,positionedElementAncestor:g,viewportRect:D};if(o||a){const W=o&&new Rr(o).getVisible();Object.assign(L,{limiterRect:W,viewportRect:D}),E=function(de,Ae){const{elementRect:Oe}=Ae,He=Oe.getArea(),pt=de.map(Mn=>new Ca(Mn,Ae)).filter(Mn=>!!Mn.name);let Tt=0,Zt=null;for(const Mn of pt){const{limiterIntersectionArea:er,viewportIntersectionArea:mr}=Mn;if(er===He)return Mn;const Jo=mr**2+er**2;Jo>Tt&&(Tt=Jo,Zt=Mn)}return Zt}(t,L)||new Ca(t[0],L)}else E=new Ca(t[0],L);return E}function Ha(d){const{scrollX:e,scrollY:t}=si.window;return d.clone().moveBy(e,t)}ei._observerInstance=null,ei._elementCallbacks=null;class Ca{constructor(e,t){const o=e(t.targetRect,t.elementRect,t.viewportRect);if(!o)return;const{left:a,top:h,name:g,config:y}=o;this.name=g,this.config=y,this._positioningFunctionCorrdinates={left:a,top:h},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const t=this._options.viewportRect;if(!t)return e.getIntersectionArea(this._rect);{const o=e.getIntersection(t);if(o)return o.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=Ha(this._rect),this._options.positionedElementAncestor&&function(e,t){const o=Ha(new Rr(t)),a=Zo(t);let h=0,g=0;h-=o.left,g-=o.top,h+=t.scrollLeft,g+=t.scrollTop,h-=a.left,g-=a.top,e.moveBy(h,g)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function So(d){const e=d.parentNode;e&&e.removeChild(d)}function K(d,e,t){const o=e.clone().moveBy(0,t),a=e.clone().moveBy(0,-t),h=new Rr(d).excludeScrollbarsAndBorders();if(![a,o].every(g=>h.contains(g))){let{scrollX:g,scrollY:y}=d;J(a,h)?y-=h.top-e.top+t:M(o,h)&&(y+=e.bottom-h.bottom+t),ae(e,h)?g-=h.left-e.left+t:qe(e,h)&&(g+=e.right-h.right+t),d.scrollTo(g,y)}}function T(d,e){const t=Un(d);let o,a;for(;d!=t.document.body;)a=e(),o=new Rr(d).excludeScrollbarsAndBorders(),o.contains(a)||(J(a,o)?d.scrollTop-=o.top-a.top:M(a,o)&&(d.scrollTop+=a.bottom-o.bottom),ae(a,o)?d.scrollLeft-=o.left-a.left:qe(a,o)&&(d.scrollLeft+=a.right-o.right)),d=d.parentNode}function M(d,e){return d.bottom>e.bottom}function J(d,e){return d.top<e.top}function ae(d,e){return d.left<e.left}function qe(d,e){return d.right>e.right}function Un(d){return Fi(d)?d.startContainer.ownerDocument.defaultView:d.ownerDocument.defaultView}function nr(d){if(Fi(d)){let e=d.commonAncestorContainer;return Hi(e)&&(e=e.parentNode),e}return d.parentNode}function Qt(d,e){const t=Un(d),o=new Rr(d);if(t===e)return o;{let a=t;for(;a!=e;){const g=new Rr(a.frameElement).excludeScrollbarsAndBorders();o.moveBy(g.left,g.top),a=a.parent}}return o}const Dr={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},gl={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},ri=function(){const d={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)d[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)d[e-48]=e;for(let e=112;e<=123;e++)d["f"+(e-111)]=e;for(const e of"`-=[];',./\\")d[e]=e.charCodeAt(0);return d}(),En=Object.fromEntries(Object.entries(ri).map(([d,e])=>[e,d.charAt(0).toUpperCase()+d.slice(1)]));function U(d){let e;if("string"==typeof d){if(e=ri[d.toLowerCase()],!e)throw new Ne("keyboard-unknown-key",null,{key:d})}else e=d.keyCode+(d.altKey?ri.alt:0)+(d.ctrlKey?ri.ctrl:0)+(d.shiftKey?ri.shift:0)+(d.metaKey?ri.cmd:0);return e}function F(d){return"string"==typeof d&&(d=d.split("+").map(t=>t.trim())),d.map(e=>"string"==typeof e?function(t){if(t.endsWith("!"))return U(t.slice(0,-1));const o=U(t);return Z_isMac&&o==ri.ctrl?ri.cmd:o}(e):e).reduce((e,t)=>t+e,0)}function B(d){let e=F(d);return Object.entries(Z_isMac?Dr:gl).reduce((t,[o,a])=>(0!=(e&ri[o])&&(e&=~ri[o],t+=a),t),"")+(e?En[e]:"")}function re(d,e){const t="ltr"===e;switch(d){case ri.arrowleft:return t?"left":"right";case ri.arrowright:return t?"right":"left";case ri.arrowup:return"up";case ri.arrowdown:return"down"}}function ce(d){return Array.isArray(d)?d:[d]}si.window.CKEDITOR_TRANSLATIONS||(si.window.CKEDITOR_TRANSLATIONS={});const nt=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function ct(d){return nt.includes(d)?"rtl":"ltr"}class Pt{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=ct(this.uiLanguage),this.contentLanguageDirection=ct(this.contentLanguage),this.t=(o,a)=>this._t(o,a)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){return t=ce(t),"string"==typeof e&&(e={string:e}),a=function(d,e,t=1){if("number"!=typeof t)throw new Ne("translation-service-quantity-not-a-number",null,{quantity:t});const o=Object.keys(si.window.CKEDITOR_TRANSLATIONS).length;1===o&&(d=Object.keys(si.window.CKEDITOR_TRANSLATIONS)[0]);const a=e.id||e.string;if(0===o||(!si.window.CKEDITOR_TRANSLATIONS[k=d]||!si.window.CKEDITOR_TRANSLATIONS[k].dictionary[a]))return 1!==t?e.plural:e.string;var k;const g=si.window.CKEDITOR_TRANSLATIONS[d].getPluralForm||(k=>1===k?0:1),y=si.window.CKEDITOR_TRANSLATIONS[d].dictionary[a];return"string"==typeof y?y:y[Number(g(t))]}(this.uiLanguage,e,e.plural?t[0]:1),h=t,a.replace(/%(\d+)/g,(g,y)=>y<h.length?h[y]:g);var a,h}}class xn extends(Ie()){constructor(e={},t={}){super();const o=Mi(e);if(o||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],o)for(const a of e)this._items.push(a),this._itemMap.set(this._getItemIdBeforeAdding(a),a)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new Ne("collection-add-item-invalid-index",this);let o=0;for(const a of e){const h=this._getItemIdBeforeAdding(a),g=t+o;this._items.splice(g,0,a),this._itemMap.set(h,a),this.fire("add",a,g),o++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new Ne("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if("string"==typeof e)return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t="string"==typeof e?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,o]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:o}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new Ne("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(o=>new t(o))},using:t=>{this._setUpBindToBinding("function"==typeof t?t:o=>o[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,o=(a,h,g)=>{const y=t._bindToCollection==this,k=t._bindToInternalToExternalMap.get(h);if(y&&k)this._bindToExternalToInternalMap.set(h,k),this._bindToInternalToExternalMap.set(k,h);else{const E=e(h);if(!E)return void this._skippedIndexesFromExternal.push(g);let D=g;for(const L of this._skippedIndexesFromExternal)g>L&&D--;for(const L of t._skippedIndexesFromExternal)D>=L&&D++;this._bindToExternalToInternalMap.set(h,E),this._bindToInternalToExternalMap.set(E,h),this.add(E,D);for(let L=0;L<t._skippedIndexesFromExternal.length;L++)D<=t._skippedIndexesFromExternal[L]&&t._skippedIndexesFromExternal[L]++}};for(const a of t)o(0,a,t.getIndex(a));this.listenTo(t,"add",o),this.listenTo(t,"remove",(a,h,g)=>{const y=this._bindToExternalToInternalMap.get(h);y&&this.remove(y),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((k,E)=>(g<E&&k.push(E-1),g>E&&k.push(E),k),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let o;if(t in e){if(o=e[t],"string"!=typeof o)throw new Ne("collection-add-invalid-id",this);if(this.get(o))throw new Ne("collection-add-item-already-exists",this)}else e[t]=o=yt();return o}_remove(e){let t,o,a,h=!1;const g=this._idProperty;if("string"==typeof e?(o=e,a=this._itemMap.get(o),h=!a,a&&(t=this._items.indexOf(a))):"number"==typeof e?(t=e,a=this._items[t],h=!a,a&&(o=a[g])):(a=e,o=a[g],t=this._items.indexOf(a),h=-1==t||!this._itemMap.get(o)),h)throw new Ne("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(o);const y=this._bindToInternalToExternalMap.get(a);return this._bindToInternalToExternalMap.delete(a),this._bindToExternalToInternalMap.delete(y),this.fire("remove",a,t),[a,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function fi(d){const e=d.next();return e.done?null:e.value}class Yn extends(Us(Tn())){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new Ne("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class sr{constructor(){this._listener=new(Us())}listenTo(e){this._listener.listenTo(e,"keydown",(t,o)=>{this._listener.fire("_keydown:"+U(o),o)})}set(e,t,o={}){const a=F(e);this._listener.listenTo(this._listener,"_keydown:"+a,(g,y)=>{t(y,()=>{y.preventDefault(),y.stopPropagation(),g.stop()}),g.return=!0},{priority:o.priority})}press(e){return!!this._listener.fire("_keydown:"+U(e),e)}destroy(){this._listener.stopListening()}}function On(d){return Mi(d)?new Map(d):function(e){const t=new Map;for(const o in e)t.set(o,e[o]);return t}(d)}function Il(d,e){return!!(t=d.charAt(e-1))&&1==t.length&&/[\ud800-\udbff]/.test(t)&&!!(o=d.charAt(e))&&1==o.length&&/[\udc00-\udfff]/.test(o);var o,t}function hs(d,e){return!!(t=d.charAt(e))&&1==t.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);var t}const ia=function(){const d=/\p{Regional_Indicator}{2}/u.source,e="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(t=>t.source).join("|")+")";return new RegExp(`${d}|${e}(?:\u200d${e})*`,"ug")}();function to(d,e){const t=String(d).matchAll(ia);return Array.from(t).some(o=>o.index<e&&e<o.index+o[0].length)}class cn extends(Tn()){constructor(e){super(),this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",fs,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",fs),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function fs(d){d.return=!1,d.stop()}class De extends(Tn()){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(t,o,a)=>{a&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",qa,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",qa),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function qa(d){d.return=!1,d.stop()}class Pl extends De{constructor(e){super(e),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){we(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class ka extends(Ie()){constructor(e,t=[],o=[]){super(),this._context=e,this._plugins=new Map,this._availablePlugins=new Map;for(const a of t)a.pluginName&&this._availablePlugins.set(a.pluginName,a);this._contextPlugins=new Map;for(const[a,h]of o)this._contextPlugins.set(a,h),this._contextPlugins.set(h,a),a.pluginName&&this._availablePlugins.set(a.pluginName,a)}*[Symbol.iterator](){for(const e of this._plugins)"function"==typeof e[0]&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let o=e;throw"function"==typeof e&&(o=e.pluginName||e.name),new Ne("plugincollection-plugin-not-loaded",this._context,{plugin:o})}return t}has(e){return this._plugins.has(e)}init(e,t=[],o=[]){const a=this,h=this._context;(function Ae(Oe,He=new Set){Oe.forEach(pt=>{k(pt)&&(He.has(pt)||(He.add(pt),pt.pluginName&&!a._availablePlugins.has(pt.pluginName)&&a._availablePlugins.set(pt.pluginName,pt),pt.requires&&Ae(pt.requires,He)))})})(e),W(e);const g=[...function Ae(Oe,He=new Set){return Oe.map(pt=>k(pt)?pt:a._availablePlugins.get(pt)).reduce((pt,Tt)=>He.has(Tt)?pt:(He.add(Tt),Tt.requires&&(W(Tt.requires,Tt),Ae(Tt.requires,He).forEach(Zt=>pt.add(Zt))),pt.add(Tt)),new Set)}(e.filter(Ae=>!D(Ae,t)))];!function(Ae,Oe){for(const He of Oe){if("function"!=typeof He)throw new Ne("plugincollection-replace-plugin-invalid-type",null,{pluginItem:He});const pt=He.pluginName;if(!pt)throw new Ne("plugincollection-replace-plugin-missing-name",null,{pluginItem:He});if(He.requires&&He.requires.length)throw new Ne("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:pt});const Tt=a._availablePlugins.get(pt);if(!Tt)throw new Ne("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:pt});const Zt=Ae.indexOf(Tt);if(-1===Zt){if(a._contextPlugins.has(Tt))return;throw new Ne("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:pt})}if(Tt.requires&&Tt.requires.length)throw new Ne("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:pt});Ae.splice(Zt,1,He),a._availablePlugins.set(pt,He)}}(g,o);const y=g.map(Oe=>{let He=a._contextPlugins.get(Oe);return He=He||new Oe(h),a._add(Oe,He),He});return de(y,"init").then(()=>de(y,"afterInit")).then(()=>y);function k(Ae){return"function"==typeof Ae}function E(Ae){return k(Ae)&&Ae.isContextPlugin}function D(Ae,Oe){return Oe.some(He=>He===Ae||L(Ae)===He||L(He)===Ae)}function L(Ae){return k(Ae)?Ae.pluginName||Ae.name:Ae}function W(Ae,Oe=null){Ae.map(He=>k(He)?He:a._availablePlugins.get(He)||He).forEach(He=>{(function(pt,Tt){if(!k(pt))throw Tt?new Ne("plugincollection-soft-required",h,{missingPlugin:pt,requiredBy:L(Tt)}):new Ne("plugincollection-plugin-not-found",h,{plugin:pt})})(He,Oe),function(pt,Tt){if(E(Tt)&&!E(pt))throw new Ne("plugincollection-context-required",h,{plugin:L(pt),requiredBy:L(Tt)})}(He,Oe),function(pt,Tt){if(Tt&&D(pt,t))throw new Ne("plugincollection-required",h,{plugin:L(pt),requiredBy:L(Tt)})}(He,Oe)})}function de(Ae,Oe){return Ae.reduce((He,pt)=>pt[Oe]?a._contextPlugins.has(pt)?He:He.then(pt[Oe].bind(pt)):He,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)"function"!=typeof t.destroy||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const o=e.pluginName;if(o){if(this._plugins.has(o))throw new Ne("plugincollection-plugin-name-conflict",null,{pluginName:o,plugin1:this._plugins.get(o).constructor,plugin2:e});this._plugins.set(o,t)}}}class fr{constructor(e){this.config=new Wt(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new ka(this,t);const o=this.config.get("language")||{};this.locale=new Pt({uiLanguage:"string"==typeof o?o:o.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new xn,this._contextOwner=null}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const o of e.concat(t)){if("function"!=typeof o)throw new Ne("context-initplugins-constructor-only",null,{Plugin:o});if(!0!==o.isContextPlugin)throw new Ne("context-initplugins-invalid-plugin",null,{Plugin:o})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new Ne("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const o=new this(e);t(o.initPlugins().then(()=>o))})}}class no extends(Tn()){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var Nh=oe(6062),Li=oe.n(Nh),ai=oe(4717);Li()(ai.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const $l=new WeakMap;function oc(d){const{view:e,element:t,text:o,isDirectHost:a=!0,keepOnFocus:h=!1}=d,g=e.document;$l.has(g)||($l.set(g,new Map),g.registerPostFixer(y=>vu(g,y)),g.on("change:isComposing",()=>{e.change(y=>vu(g,y))},{priority:"high"})),$l.get(g).set(t,{text:o,isDirectHost:a,keepOnFocus:h,hostElement:a?t:null}),e.change(y=>vu(g,y))}function vu(d,e){const t=$l.get(d),o=[];let a=!1;for(const[h,g]of t)g.isDirectHost&&(o.push(h),sc(e,h,g)&&(a=!0));for(const[h,g]of t){if(g.isDirectHost)continue;const y=Hs(h);y&&(o.includes(y)||(g.hostElement=y,sc(e,h,g)&&(a=!0)))}return a}function sc(d,e,t){const{text:o,isDirectHost:a,hostElement:h}=t;let g=!1;return h.getAttribute("data-placeholder")!==o&&(d.setAttribute("data-placeholder",o,h),g=!0),(a||1==e.childCount)&&function(y,k){if(!y.isAttached()||Array.from(y.getChildren()).some(W=>!W.is("uiElement")))return!1;const D=y.document,L=D.selection.anchor;return!(D.isComposing&&L&&L.parent===y||!k&&D.isFocused&&(!L||L.parent===y))}(h,t.keepOnFocus)?(y=d,!(k=h).hasClass("ck-placeholder")&&(y.addClass("ck-placeholder",k),!0)&&(g=!0)):function(d,e){return!!e.hasClass("ck-placeholder")&&(d.removeClass("ck-placeholder",e),!0)}(d,h)&&(g=!0),g;var y,k}function Hs(d){if(d.childCount){const e=d.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Wl{is(){throw new Error("is() method is abstract")}}const yu=function(d){return ut(d,4)};class Yc extends(Ie(Wl)){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new Ne("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let o=e.includeSelf?this:this.parent;for(;o;)t[e.parentFirst?"push":"unshift"](o),o=o.parent;return t}getCommonAncestor(e,t={}){const o=this.getAncestors(t),a=e.getAncestors(t);let h=0;for(;o[h]==a[h]&&o[h];)h++;return 0===h?null:o[h-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),o=e.getPath(),a=pi(t,o);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<o[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=yu(this);return delete e.parent,e}}Yc.prototype.is=function(d){return"node"===d||"view:node"===d};class ko extends Yc{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof ko&&(this===e||this.data===e.data)}_clone(){return new ko(this.document,this.data)}}ko.prototype.is=function(d){return"$text"===d||"view:$text"===d||"text"===d||"view:text"===d||"node"===d||"view:node"===d};class io extends Wl{constructor(e,t,o){if(super(),this.textNode=e,t<0||t>e.data.length)throw new Ne("view-textproxy-wrong-offsetintext",this);if(o<0||t+o>e.data.length)throw new Ne("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+o),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let o=e.includeSelf?this.textNode:this.parent;for(;null!==o;)t[e.parentFirst?"push":"unshift"](o),o=o.parent;return t}}io.prototype.is=function(d){return"$textProxy"===d||"view:$textProxy"===d||"textProxy"===d||"view:textProxy"===d};class Ds{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)("string"==typeof t||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const o of this._patterns){const a=Uu(t,o);if(a)return{element:t,pattern:o,match:a}}return null}matchAll(...e){const t=[];for(const o of e)for(const a of this._patterns){const h=Uu(o,a);h&&t.push({element:o,pattern:a,match:h})}return t.length>0?t:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}function Uu(d,e){if("function"==typeof e)return e(d);const t={};return e.name&&(t.name=(a=d.name,(o=e.name)instanceof RegExp?!!a.match(o):o===a),!t.name)||e.attributes&&(t.attributes=function(o,a){const h=new Set(a.getAttributeKeys());return In(o)?(void 0!==o.style&&At("matcher-pattern-deprecated-attributes-style-key",o),void 0!==o.class&&At("matcher-pattern-deprecated-attributes-class-key",o)):(h.delete("style"),h.delete("class")),Aa(o,h,g=>a.getAttribute(g))}(e.attributes,d),!t.attributes)||e.classes&&(t.classes=function(o,a){return Aa(o,a.getClassNames(),()=>{})}(e.classes,d),!t.classes)||e.styles&&(t.styles=function(o,a){return Aa(o,a.getStyleNames(!0),h=>a.getStyle(h))}(e.styles,d),!t.styles)?null:t;var o,a}function Aa(d,e,t){const o=(g=d,Array.isArray(g)?g.map(y=>In(y)?(void 0!==y.key&&void 0!==y.value||At("matcher-pattern-missing-key-or-value",y),[y.key,y.value]):[y,!0]):In(g)?Object.entries(g):[[g,!0]]),a=Array.from(e),h=[];var g;if(o.forEach(([g,y])=>{a.forEach(k=>{var E,D;D=k,(!0===(E=g)||E===D||E instanceof RegExp&&D.match(E))&&function(E,D,L){if(!0===E)return!0;const W=L(D);return E===W||E instanceof RegExp&&!!String(W).match(E)}(y,k,t)&&h.push(k)})}),o.length&&!(h.length<o.length))return h}const Qc=function(d){return"symbol"==typeof d||tr(d)&&"[object Symbol]"==Oi(d)};var xa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wu=/^\w*$/;function gd(d,e){if("function"!=typeof d||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var o=arguments,a=e?e.apply(this,o):o[0],h=t.cache;if(h.has(a))return h.get(a);var g=d.apply(this,o);return t.cache=h.set(a,g)||h,g};return t.cache=new(gd.Cache||lo),t}gd.Cache=lo;var e,t,Qd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,os=/\\(\\)?/g,Cf=(e=gd(function(d){var e=[];return 46===d.charCodeAt(0)&&e.push(""),d.replace(Qd,function(t,o,a,h){e.push(a?h.replace(os,"$1"):o||t)}),e},function(o){return 500===t.size&&t.clear(),o}),t=e.cache,e);const md=Cf;var Jd=Pr?Pr.prototype:void 0,kf=Jd?Jd.toString:void 0;const $p=function d(e){if("string"==typeof e)return e;if(Ni(e))return function(d,e){for(var t=-1,o=null==d?0:d.length,a=Array(o);++t<o;)a[t]=e(d[t],t,d);return a}(e,d)+"";if(Qc(e))return kf?kf.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Af=function(d){return null==d?"":$p(d)},Xd=function(d,e){return Ni(d)?d:function(d,e){if(Ni(d))return!1;var t=typeof d;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=d&&!Qc(d))||wu.test(d)||!xa.test(d)||null!=e&&d in Object(e)}(d,e)?[d]:md(Af(d))},Dc=function(d){if("string"==typeof d||Qc(d))return d;var e=d+"";return"0"==e&&1/d==-1/0?"-0":e},Xc=function(d,e){for(var t=0,o=(e=Xd(e,d)).length;null!=d&&t<o;)d=d[Dc(e[t++])];return t&&t==o?d:void 0},_d=function(d,e,t){var o=-1,a=d.length;e<0&&(e=-e>a?0:a+e),(t=t>a?a:t)<0&&(t+=a),a=e>t?0:t-e>>>0,e>>>=0;for(var h=Array(a);++o<a;)h[o]=d[o+e];return h},_l=function(d,e,t){var o=null==d?void 0:Xc(d,e);return void 0===o?t:o},pa=function(d,e,t){(void 0!==t&&!Ui(d[e],t)||void 0===t&&!(e in d))&&_s(d,e,t)},Hu=function(d,e){if(("constructor"!==e||"function"!=typeof d[e])&&"__proto__"!=e)return d[e]},Cu=function d(e,t,o,a,h){e!==t&&function(e,t,o){for(var a=-1,h=Object(e),g=o(e),y=g.length;y--;){var k=g[++a];if(!1===t(h[k],k,h))break}}(t,function(g,y){if(h||(h=new _r),Ht(g))!function(d,e,t,o,a,h,g){var y=Hu(d,t),k=Hu(e,t),E=g.get(k);if(E)pa(d,t,E);else{var D=h?h(y,k,t+"",d,e,g):void 0,L=void 0===D;if(L){var W=Ni(k),de=!W&&$r(k),Ae=!W&&!de&&$o(k);D=k,W||de||Ae?Ni(y)?D=y:function(d){return tr(d)&&kr(d)}(y)?D=Ce(y):de?(L=!1,D=G(k,!0)):Ae?(L=!1,D=Ua(k,!0)):D=[]:In(k)||ns(k)?(D=y,ns(y)?D=function(d){return ts(d,ue(d))}(y):Ht(y)&&!Ci(y)||(D=I(k))):L=!1}L&&(g.set(k,D),a(D,k,o,h,g),g.delete(k)),pa(d,t,D)}}(e,t,y,o,d,a,h);else{var k=a?a(Hu(e,y),g,y+"",e,t,h):void 0;void 0===k&&(k=g),pa(e,y,k)}},ue)},Ea=function(d){return d},qs=function(d,e,t){switch(t.length){case 0:return d.call(e);case 1:return d.call(e,t[0]);case 2:return d.call(e,t[0],t[1]);case 3:return d.call(e,t[0],t[1],t[2])}return d.apply(e,t)};var Gu=Math.max;const Gs=function(d){return function(){return d}},ac=Vr?function(d,e){return Vr(d,"toString",{configurable:!0,enumerable:!1,value:Gs(e),writable:!0})}:Ea;var Fh=Date.now;const Lh=function(d){var e=0,t=0;return function(){var o=Fh(),a=16-(o-t);if(t=o,a>0){if(++e>=800)return arguments[0]}else e=0;return d.apply(void 0,arguments)}}(ac),$u=function(d){return function(d,e){return Lh(function(d,e,t){return e=Gu(void 0===e?d.length-1:e,0),function(){for(var o=arguments,a=-1,h=Gu(o.length-e,0),g=Array(h);++a<h;)g[a]=o[e+a];a=-1;for(var y=Array(e+1);++a<e;)y[a]=o[a];return y[e]=t(g),qs(d,this,y)}}(d,e,Ea),d+"")}(function(e,t){var o=-1,a=t.length,h=a>1?t[a-1]:void 0,g=a>2?t[2]:void 0;for(h=d.length>3&&"function"==typeof h?(a--,h):void 0,g&&function(d,e,t){if(!Ht(t))return!1;var o=typeof e;return!!("number"==o?kr(t)&&ea(e,t.length):"string"==o&&e in t)&&Ui(t[e],d)}(t[0],t[1],g)&&(h=a<3?void 0:h,a=1),e=Object(e);++o<a;){var y=t[o];y&&d(e,y,o,h)}return e})},Ts=$u(function(d,e,t){Cu(d,e,t)});class ku{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(function(o){let a=null,h=0,g=0,y=null;const k=new Map;if(""===o)return k;";"!=o.charAt(o.length-1)&&(o+=";");for(let E=0;E<o.length;E++){const D=o.charAt(E);if(null===a)switch(D){case":":y||(y=o.substr(h,E-h),g=E+1);break;case'"':case"'":a=D;break;case";":{const L=o.substr(g,E-g);y&&k.set(y.trim(),L.trim()),y=null,h=E+1;break}}else D===a&&(a=null)}return k}(e).entries());for(const[o,a]of t)this._styleProcessor.toNormalizedForm(o,a,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(t)}set(e,t){if(Ht(e))for(const[o,a]of Object.entries(e))this._styleProcessor.toNormalizedForm(o,a,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=Wu(e);(function(d,e){null==d||function(d,e){null==(d=function(d,e){return e.length<2?d:Xc(d,_d(e,0,-1))}(d,e=Xd(e,d)))||delete d[Dc(function(d){var e=null==d?0:d.length;return e?d[e-1]:void 0}(e))]}(d,e)})(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Ht(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const o of t)e.push(...this._styleProcessor.getReducedForm(o,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const o=t.splice(0,t.length-1).join("."),a=_l(this._styles,o);!a||!Array.from(Object.keys(a)).length&&this.remove(o)}}class Tc{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,o){if(Ht(t))Sc(o,Wu(e),t);else if(this._normalizers.has(e)){const a=this._normalizers.get(e),{path:h,value:g}=a(t);Sc(o,h,g)}else Sc(o,e,t)}getNormalized(e,t){if(!e)return Ts({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){const o=this._extractors.get(e);if("string"==typeof o)return _l(t,o);const a=o(e,t);if(a)return a}return _l(t,Wu(e))}getReducedForm(e,t){const o=this.getNormalized(e,t);return void 0===o?[]:this._reducers.has(e)?this._reducers.get(e)(o):[[e,o]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(a=>{const h=this.getNormalized(a,e);return h&&"object"==typeof h?Object.keys(h).length:h}),o=new Set([...t,...Object.keys(e)]);return Array.from(o.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const o of t)this._mapStyleNames(o,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function Wu(d){return d.replace("-",".")}function Sc(d,e,t){let o=t;Ht(t)&&(o=Ts({},_l(d,e),t)),function(d,e,t){null==d||function(d,e,t,o){if(!Ht(d))return d;for(var a=-1,h=(e=Xd(e,d)).length,g=h-1,y=d;null!=y&&++a<h;){var k=Dc(e[a]),E=t;if("__proto__"===k||"constructor"===k||"prototype"===k)return d;if(a!=g){var D=y[k];void 0===(E=void 0)&&(E=Ht(D)?D:ea(e[a+1])?[]:{})}Gr(y,k,E),y=y[k]}}(d,e,t)}(d,e,o)}class Ma extends Yc{constructor(e,t,o,a){if(super(e),this.name=t,this._attrs=function(h){const g=On(h);for(const[y,k]of g)null===k?g.delete(y):"string"!=typeof k&&g.set(y,String(k));return g}(o),this._children=[],a&&this._insertChild(0,a),this._classes=new Set,this._attrs.has("class")){const h=this._attrs.get("class");Rl(this._classes,h),this._attrs.delete("class")}this._styles=new ku(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if("class"==e)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==e){const t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(e)}hasAttribute(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Ma))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,o]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==o)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Ds(...e);let o=this.parent;for(;o&&!o.is("documentFragment");){if(t.match(o))return o;o=o.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),o=Array.from(this._attrs).map(a=>`${a[0]}="${a[1]}"`).sort().join(" ");return this.name+(""==e?"":` class="${e}"`)+(t?` style="${t}"`:"")+(""==o?"":` ${o}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const a of this.getChildren())t.push(a._clone(e));const o=new this.constructor(this.document,this.name,this._attrs,t);return o._classes=new Set(this._classes),o._styles.set(this._styles.getNormalized()),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o._unsafeAttributesToRender=this._unsafeAttributesToRender,o}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let o=0;const a=(h=this.document,"string"==typeof(g=t)?[new ko(h,g)]:(Mi(g)||(g=[g]),Array.from(g).map(y=>"string"==typeof y?new ko(h,y):y instanceof io?new ko(h,y.data):y)));var h,g;for(const h of a)null!==h.parent&&h._remove(),h.parent=this,h.document=this.document,this._children.splice(e,0,h),e++,o++;return o}_removeChildren(e,t=1){this._fireChange("children",this);for(let o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){t=String(t),this._fireChange("attributes",this),"class"==e?Rl(this._classes,t):"style"==e?this._styles.setTo(t):this._attrs.set(e,t)}_removeAttribute(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of ce(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of ce(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),In(e)?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of ce(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Rl(d,e){const t=e.split(/\s+/);d.clear(),t.forEach(o=>d.add(o))}Ma.prototype.is=function(d,e){return e?e===this.name&&("element"===d||"view:element"===d):"element"===d||"view:element"===d||"node"===d||"view:node"===d};class Ic extends Ma{constructor(...e){super(...e),this.getFillerOffset=Ef}}function Ef(){const d=[...this.getChildren()],e=d[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of d)if(!t.is("uiElement"))return null;return this.childCount}Ic.prototype.is=function(d,e){return e?e===this.name&&("containerElement"===d||"view:containerElement"===d||"element"===d||"view:element"===d):"containerElement"===d||"view:containerElement"===d||"element"===d||"view:element"===d||"node"===d||"view:node"===d};class Zl extends(Tn(Ic)){constructor(...e){super(...e);const t=e[0];this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",o=>o&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}Zl.prototype.is=function(d,e){return e?e===this.name&&("editableElement"===d||"view:editableElement"===d||"containerElement"===d||"view:containerElement"===d||"element"===d||"view:element"===d):"editableElement"===d||"view:editableElement"===d||"containerElement"===d||"view:containerElement"===d||"element"===d||"view:element"===d||"node"===d||"view:node"===d};const Mf=Symbol("rootName");class Fa extends Zl{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(Mf)}set rootName(e){this._setCustomProperty(Mf,e)}set _name(e){this.name=e}}Fa.prototype.is=function(d,e){return e?e===this.name&&("rootElement"===d||"view:rootElement"===d||"editableElement"===d||"view:editableElement"===d||"containerElement"===d||"view:containerElement"===d||"element"===d||"view:element"===d):"rootElement"===d||"view:rootElement"===d||"editableElement"===d||"view:editableElement"===d||"containerElement"===d||"view:containerElement"===d||"element"===d||"view:element"===d||"node"===d||"view:node"===d};class lc{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new Ne("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new Ne("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,this.position=kn._createAt(e.startPosition?e.startPosition:e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(e){let t,o,a;do{a=this.position,({done:t,value:o}=this.next())}while(!t&&e(o));t||(this.position=a)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,o=e.parent;if(null===o.parent&&e.offset===o.childCount)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let a;if(o instanceof ko){if(e.isAtEnd)return this.position=kn._createAfter(o),this._next();a=o.data[e.offset]}else a=o.getChild(e.offset);if(a instanceof Ma)return this.shallow?e.offset++:e=new kn(a,0),this.position=e,this._formatReturnValue("elementStart",a,t,e,1);if(a instanceof ko){if(this.singleCharacters)return e=new kn(a,0),this.position=e,this._next();{let h,g=a.data.length;return a==this._boundaryEndParent?(g=this.boundaries.end.offset,h=new io(a,0,g),e=kn._createAfter(h)):(h=new io(a,0,a.data.length),e.offset++),this.position=e,this._formatReturnValue("text",h,t,e,g)}}if("string"==typeof a){let h;h=this.singleCharacters?1:(o===this._boundaryEndParent?this.boundaries.end.offset:o.data.length)-e.offset;const g=new io(o,e.offset,h);return e.offset+=h,this.position=e,this._formatReturnValue("text",g,t,e,h)}return e=kn._createAfter(o),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",o,t,e)}_previous(){let e=this.position.clone();const t=this.position,o=e.parent;if(null===o.parent&&0===e.offset)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let a;if(o instanceof ko){if(e.isAtStart)return this.position=kn._createBefore(o),this._previous();a=o.data[e.offset-1]}else a=o.getChild(e.offset-1);if(a instanceof Ma)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",a,t,e,1)):(e=new kn(a,a.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",a,t,e));if(a instanceof ko){if(this.singleCharacters)return e=new kn(a,a.data.length),this.position=e,this._previous();{let h,g=a.data.length;if(a==this._boundaryStartParent){const y=this.boundaries.start.offset;h=new io(a,y,a.data.length-y),g=h.data.length,e=kn._createBefore(h)}else h=new io(a,0,a.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",h,t,e,g)}}if("string"==typeof a){let h;h=this.singleCharacters?1:e.offset-(o===this._boundaryStartParent?this.boundaries.start.offset:0),e.offset-=h;const g=new io(o,e.offset,h);return this.position=e,this._formatReturnValue("text",g,t,e,h)}return e=kn._createBefore(o),this.position=e,this._formatReturnValue("elementStart",o,t,e,1)}_formatReturnValue(e,t,o,a,h){return t instanceof io&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?o=kn._createAfter(t.textNode):(a=kn._createAfter(t.textNode),this.position=a)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?o=kn._createBefore(t.textNode):(a=kn._createBefore(t.textNode),this.position=a))),{done:!1,value:{type:e,item:t,previousPosition:o,nextPosition:a,length:h}}}}class kn extends Wl{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Zl);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=kn._createAt(this),o=t.offset+e;return t.offset=o<0?0:o,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const o=new lc(t);return o.skip(e),o.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),o=e.getAncestors();let a=0;for(;t[a]==o[a]&&t[a];)a++;return 0===a?null:t[a-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return"before"==this.compareWith(e)}isAfter(e){return"after"==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],o=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),o.push(e.offset);const a=pi(t,o);switch(a){case"prefix":return"before";case"extension":return"after";default:return t[a]<o[a]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new lc(e)}clone(){return new kn(this.parent,this.offset)}static _createAt(e,t){if(e instanceof kn)return new this(e.parent,e.offset);{const o=e;if("end"==t)t=o.is("$text")?o.data.length:o.childCount;else{if("before"==t)return this._createBefore(o);if("after"==t)return this._createAfter(o);if(0!==t&&!t)throw new Ne("view-createpositionat-offset-required",o)}return new kn(o,t)}}static _createAfter(e){if(e.is("$textProxy"))return new kn(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new Ne("view-position-after-root",e,{root:e});return new kn(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new kn(e.textNode,e.offsetInText);if(!e.parent)throw new Ne("view-position-before-root",e,{root:e});return new kn(e.parent,e.index)}}kn.prototype.is=function(d){return"position"===d||"view:position"===d};class Bi extends Wl{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new lc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(bd,{direction:"backward"}),t=this.end.getLastMatchingPosition(bd);return e.parent.is("$text")&&e.isAtStart&&(e=kn._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=kn._createAfter(t.parent)),new Bi(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(bd);if(e.isAfter(this.end)||e.isEqual(this.end))return new Bi(e,e);let t=this.end.getLastMatchingPosition(bd,{direction:"backward"});const o=e.nodeAfter,a=t.nodeBefore;return o&&o.is("$text")&&(e=new kn(o,0)),a&&a.is("$text")&&(t=new kn(a,a.data.length)),new Bi(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&a}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Bi(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Bi(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,o=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(o=e.end),new Bi(t,o)}return null}getWalker(e={}){return e.boundaries=this,new lc(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Bi(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new lc(e);for(const o of t)yield o.item}*getPositions(e={}){e.boundaries=this;const t=new lc(e);yield t.position;for(const o of t)yield o.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,o,a){return new this(new kn(e,t),new kn(o,a))}static _createFromPositionAndShift(e,t){const o=e,a=e.getShiftedBy(t);return t>0?new this(o,a):new this(a,o)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(kn._createBefore(e),t)}}function bd(d){return!(!d.item.is("attributeElement")&&!d.item.is("uiElement"))}Bi.prototype.is=function(d){return"range"===d||"view:range"===d};class Fl extends(Ie(Wl)){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let o=!1;for(const a of e._ranges)if(t.isEqual(a)){o=!0;break}if(!o)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=di(this.getRanges());if(t!=di(e.getRanges()))return!1;if(0==t)return!0;for(let o of this.getRanges()){o=o.getTrimmed();let a=!1;for(let h of e.getRanges())if(h=h.getTrimmed(),o.start.isEqual(h.start)&&o.end.isEqual(h.end)){a=!0;break}if(!a)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,o,a]=e;if("object"==typeof o&&(a=o,o=void 0),null===t)this._setRanges([]),this._setFakeOptions(a);else if(t instanceof Fl||t instanceof Zu)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Bi)this._setRanges([t],a&&a.backward),this._setFakeOptions(a);else if(t instanceof kn)this._setRanges([new Bi(t)]),this._setFakeOptions(a);else if(t instanceof Yc){const h=!!a&&!!a.backward;let g;if(void 0===o)throw new Ne("view-selection-setto-required-second-parameter",this);g="in"==o?Bi._createIn(t):"on"==o?Bi._createOn(t):new Bi(kn._createAt(t,o)),this._setRanges([g],h),this._setFakeOptions(a)}else{if(!Mi(t))throw new Ne("view-selection-setto-not-selectable",this);this._setRanges(t,a&&a.backward),this._setFakeOptions(a)}this.fire("change")}setFocus(e,t){if(null===this.anchor)throw new Ne("view-selection-setfocus-no-ranges",this);const o=kn._createAt(e,t);if("same"==o.compareWith(this.focus))return;const a=this.anchor;this._ranges.pop(),"before"==o.compareWith(a)?this._addRange(new Bi(o,a),!0):this._addRange(new Bi(a,o)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const o of e)this._addRange(o);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof Bi))throw new Ne("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new Ne("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Bi(e.start,e.end))}}Fl.prototype.is=function(d){return"selection"===d||"view:selection"===d};class Zu extends(Ie(Wl)){constructor(...e){super(),this._selection=new Fl,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}Zu.prototype.is=function(d){return"selection"===d||"documentSelection"==d||"view:selection"==d||"view:documentSelection"==d};class vl extends Ee{constructor(e,t,o){super(e,t),this.startRange=o,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Ku=Symbol("bubbling contexts");function Kl(d){return class extends d{fire(e,...t){try{const o=e instanceof Ee?e:new Ee(this,e),a=Yo(this);if(!a.size)return;if(vd(o,"capturing",this),cc(a,"$capture",o,...t))return o.return;const h=o.startRange||this.selection.getFirstRange(),g=h?h.getContainedElement():null,y=!!g&&Boolean(yd(a,g));let k=g||function(E){if(!E)return null;const D=E.start.parent,L=E.end.parent,W=D.getPath(),de=L.getPath();return W.length>de.length?D:L}(h);if(vd(o,"atTarget",k),!y){if(cc(a,"$text",o,...t))return o.return;vd(o,"bubbling",k)}for(;k;){if(k.is("rootElement")){if(cc(a,"$root",o,...t))return o.return}else if(k.is("element")&&cc(a,k.name,o,...t))return o.return;if(cc(a,k,o,...t))return o.return;k=k.parent,vd(o,"bubbling",k)}return vd(o,"bubbling",this),cc(a,"$document",o,...t),o.return}catch(o){Ne.rethrowUnexpectedError(o,this)}}_addEventListener(e,t,o){const a=ce(o.context||"$document"),h=Yo(this);for(const g of a){let y=h.get(g);y||(y=new(Ie()),h.set(g,y)),this.listenTo(y,e,t,o)}}_removeEventListener(e,t){const o=Yo(this);for(const a of o.values())this.stopListening(a,e,t)}}}{const d=Kl(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Kl[e]=d.prototype[e]})}function vd(d,e,t){d instanceof vl&&(d._eventPhase=e,d._currentTarget=t)}function cc(d,e,t,...o){const a="string"==typeof e?d.get(e):yd(d,e);return!!a&&(a.fire(t,...o),t.stop.called)}function yd(d,e){for(const[t,o]of d)if("function"==typeof t&&t(e))return o;return null}function Yo(d){return d[Ku]||(d[Ku]=new Map),d[Ku]}class xr extends(Kl(Tn())){constructor(e){super(),this.selection=new Zu,this.roots=new xn({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("_isFocusChanging",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do{for(const o of this._postFixers)if(t=o(e),t)break}while(t)}}class Ll extends Ma{constructor(...e){super(...e),this.getFillerOffset=Pc,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new Ne("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function Pc(){if(Df(this))return null;let d=this.parent;for(;d&&d.is("attributeElement");){if(Df(d)>1)return null;d=d.parent}return!d||Df(d)>1?null:this.childCount}function Df(d){return Array.from(d.getChildren()).filter(e=>!e.is("uiElement")).length}Ll.DEFAULT_PRIORITY=10,Ll.prototype.is=function(d,e){return e?e===this.name&&("attributeElement"===d||"view:attributeElement"===d||"element"===d||"view:element"===d):"attributeElement"===d||"view:attributeElement"===d||"element"===d||"view:element"===d||"node"===d||"view:node"===d};class th extends Ma{constructor(e,t,o,a){super(e,t,o,a),this.getFillerOffset=Lo}_insertChild(e,t){if(t&&(t instanceof Yc||Array.from(t).length>0))throw new Ne("view-emptyelement-cannot-add",[this,t]);return 0}}function Lo(){return null}th.prototype.is=function(d,e){return e?e===this.name&&("emptyElement"===d||"view:emptyElement"===d||"element"===d||"view:element"===d):"emptyElement"===d||"view:emptyElement"===d||"element"===d||"view:element"===d||"node"===d||"view:node"===d};class ps extends Ma{constructor(...e){super(...e),this.getFillerOffset=Da}_insertChild(e,t){if(t&&(t instanceof Yc||Array.from(t).length>0))throw new Ne("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const o of this.getAttributeKeys())t.setAttribute(o,this.getAttribute(o));return t}}function Da(){return null}ps.prototype.is=function(d,e){return e?e===this.name&&("uiElement"===d||"view:uiElement"===d||"element"===d||"view:element"===d):"uiElement"===d||"view:uiElement"===d||"element"===d||"view:element"===d||"node"===d||"view:node"===d};class Qo extends Ma{constructor(...e){super(...e),this.getFillerOffset=ih}_insertChild(e,t){if(t&&(t instanceof Yc||Array.from(t).length>0))throw new Ne("view-rawelement-cannot-add",[this,t]);return 0}render(){}}function ih(){return null}Qo.prototype.is=function(d,e){return e?e===this.name&&("rawElement"===d||"view:rawElement"===d||"element"===d||"view:element"===d):"rawElement"===d||"view:rawElement"===d||d===this.name||d==="view:"+this.name||"element"===d||"view:element"===d||"node"===d||"view:node"===d};class Xi extends(Ie(Wl)){constructor(e,t){super(),this.document=e,this._children=[],t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let o=0;const a=(h=this.document,"string"==typeof(g=t)?[new ko(h,g)]:(Mi(g)||(g=[g]),Array.from(g).map(y=>"string"==typeof y?new ko(h,y):y instanceof io?new ko(h,y.data):y)));var h,g;for(const h of a)null!==h.parent&&h._remove(),h.parent=this,this._children.splice(e,0,h),e++,o++;return o}_removeChildren(e,t=1){this._fireChange("children",this);for(let o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}}Xi.prototype.is=function(d){return"documentFragment"===d||"view:documentFragment"===d};class Bl{constructor(e){this.document=e,this._cloneGroups=new Map,this._slotFactory=null}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(...e){this.document.selection._setFocus(...e)}createDocumentFragment(e){return new Xi(this.document,e)}createText(e){return new ko(this.document,e)}createAttributeElement(e,t,o={}){const a=new Ll(this.document,e,t);return"number"==typeof o.priority&&(a._priority=o.priority),o.id&&(a._id=o.id),o.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),a}createContainerElement(e,t,o={},a={}){let h=null;In(o)?a=o:h=o;const g=new Ic(this.document,e,t,h);return a.renderUnsafeAttributes&&g._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),g}createEditableElement(e,t,o={}){const a=new Zl(this.document,e,t);return o.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),a}createEmptyElement(e,t,o={}){const a=new th(this.document,e,t);return o.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),a}createUIElement(e,t,o){const a=new ps(this.document,e,t);return o&&(a.render=o),a}createRawElement(e,t,o,a={}){const h=new Qo(this.document,e,t);return o&&(h.render=o),a.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),h}setAttribute(e,t,o){o._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,o){In(e)&&void 0===o?t._setStyle(e):o._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,o){o._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof kn?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new Ne("view-writer-break-non-container-element",this.document);if(!t.parent)throw new Ne("view-writer-break-root",this.document);if(e.isAtStart)return kn._createBefore(t);if(!e.isAtEnd){const o=t._clone(!1);this.insert(kn._createAfter(t),o);const a=new Bi(e,kn._createAt(t,"end")),h=new kn(o,0);this.move(a,h)}return kn._createAfter(t)}mergeAttributes(e){const t=e.offset,o=e.parent;if(o.is("$text"))return e;if(o.is("attributeElement")&&0===o.childCount){const g=o.parent,y=o.index;return o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new kn(g,y))}const a=o.getChild(t-1),h=o.getChild(t);if(!a||!h)return e;if(a.is("$text")&&h.is("$text"))return ap(a,h);if(a.is("attributeElement")&&h.is("attributeElement")&&a.isSimilar(h)){const g=a.childCount;return a._appendChild(h.getChildren()),h._remove(),this._removeFromClonedElementsGroup(h),this.mergeAttributes(new kn(a,g))}return e}mergeContainers(e){const t=e.nodeBefore,o=e.nodeAfter;if(!(t&&o&&t.is("containerElement")&&o.is("containerElement")))throw new Ne("view-writer-merge-containers-invalid-position",this.document);const a=t.getChild(t.childCount-1),h=kn._createAt(a instanceof ko?a:t,"end");return this.move(Bi._createIn(o),kn._createAt(t,"end")),this.remove(Bi._createOn(o)),h}insert(e,t){lp(t=Mi(t)?[...t]:[t],this.document);const o=t.reduce((g,y)=>{const k=g[g.length-1],E=!y.is("uiElement");return k&&k.breakAttributes==E?k.nodes.push(y):g.push({breakAttributes:E,nodes:[y]}),g},[]);let a=null,h=e;for(const{nodes:g,breakAttributes:y}of o){const k=this._insertNodes(h,g,y);a||(a=k.start),h=k.end}return a?new Bi(a,h):new Bi(e)}remove(e){const t=e instanceof Bi?e:Bi._createOn(e);if(Au(t,this.document),t.isCollapsed)return new Xi(this.document);const{start:o,end:a}=this._breakAttributesRange(t,!0),y=o.parent._removeChildren(o.offset,a.offset-o.offset);for(const E of y)this._removeFromClonedElementsGroup(E);const k=this.mergeAttributes(o);return t.start=k,t.end=k.clone(),new Xi(this.document,y)}clear(e,t){Au(e,this.document);const o=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const a of o){const h=a.item;let g;if(h.is("element")&&t.isSimilar(h))g=Bi._createOn(h);else if(!a.nextPosition.isAfter(e.start)&&h.is("$textProxy")){const y=h.getAncestors().find(k=>k.is("element")&&t.isSimilar(k));y&&(g=Bi._createIn(y))}g&&(g.end.isAfter(e.end)&&(g.end=e.end),g.start.isBefore(e.start)&&(g.start=e.start),this.remove(g))}}move(e,t){let o;if(t.isAfter(e.end)){const a=(t=this._breakAttributes(t,!0)).parent,h=a.childCount;e=this._breakAttributesRange(e,!0),o=this.remove(e),t.offset+=a.childCount-h}else o=this.remove(e);return this.insert(t,o)}wrap(e,t){if(!(t instanceof Ll))throw new Ne("view-writer-wrap-invalid-attribute",this.document);if(Au(e,this.document),e.isCollapsed){let a=e.start;a.parent.is("element")&&!Array.from(a.parent.getChildren()).some(g=>!g.is("uiElement"))&&(a=a.getLastMatchingPosition(g=>g.item.is("uiElement"))),a=this._wrapPosition(a,t);const h=this.document.selection;return h.isCollapsed&&h.getFirstPosition().isEqual(e.start)&&this.setSelection(a),new Bi(a)}return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof Ll))throw new Ne("view-writer-unwrap-invalid-attribute",this.document);if(Au(e,this.document),e.isCollapsed)return e;const{start:o,end:a}=this._breakAttributesRange(e,!0),g=this._unwrapChildren(o.parent,o.offset,a.offset,t),y=this.mergeAttributes(g.start);y.isEqual(g.start)||g.end.offset--;const k=this.mergeAttributes(g.end);return new Bi(y,k)}rename(e,t){const o=new Ic(this.document,e,t.getAttributes());return this.insert(kn._createAfter(t),o),this.move(Bi._createIn(t),kn._createAt(o,0)),this.remove(Bi._createOn(t)),o}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return kn._createAt(e,t)}createPositionAfter(e){return kn._createAfter(e)}createPositionBefore(e){return kn._createBefore(e)}createRange(...e){return new Bi(...e)}createRangeOn(e){return Bi._createOn(e)}createRangeIn(e){return Bi._createIn(e)}createSelection(...e){return new Fl(...e)}createSlot(e){if(!this._slotFactory)throw new Ne("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,o){let a,h;if(a=o?Tf(e):e.parent.is("$text")?e.parent.parent:e.parent,!a)throw new Ne("view-writer-invalid-position-container",this.document);h=o?this._breakAttributes(e,!0):e.parent.is("$text")?rh(e):e;const g=a._insertChild(h.offset,t);for(const D of t)this._addToClonedElementsGroup(D);const y=h.getShiftedBy(g),k=this.mergeAttributes(h);k.isEqual(h)||y.offset--;const E=this.mergeAttributes(y);return new Bi(k,E)}_wrapChildren(e,t,o,a){let h=t;const g=[];for(;h<o;){const k=e.getChild(h),E=k.is("$text"),D=k.is("attributeElement");if(D&&this._wrapAttributeElement(a,k))g.push(new kn(e,h));else if(E||!D||Yu(a,k)){const L=a._clone();k._remove(),L._appendChild(k),e._insertChild(h,L),this._addToClonedElementsGroup(L),g.push(new kn(e,h))}else this._wrapChildren(k,0,k.childCount,a);h++}let y=0;for(const k of g)k.offset-=y,k.offset!=t&&(this.mergeAttributes(k).isEqual(k)||(y++,o--));return Bi._createFromParentsAndOffsets(e,t,e,o)}_unwrapChildren(e,t,o,a){let h=t;const g=[];for(;h<o;){const k=e.getChild(h);if(k.is("attributeElement"))if(k.isSimilar(a)){const E=k.getChildren(),D=k.childCount;k._remove(),e._insertChild(h,E),this._removeFromClonedElementsGroup(k),g.push(new kn(e,h),new kn(e,h+D)),h+=D,o+=D-1}else this._unwrapAttributeElement(a,k)?(g.push(new kn(e,h),new kn(e,h+1)),h++):(this._unwrapChildren(k,0,k.childCount,a),h++);else h++}let y=0;for(const k of g)k.offset-=y,k.offset!=t&&k.offset!=o&&(this.mergeAttributes(k).isEqual(k)||(y++,o--));return Bi._createFromParentsAndOffsets(e,t,e,o)}_wrapRange(e,t){const{start:o,end:a}=this._breakAttributesRange(e,!0),g=this._wrapChildren(o.parent,o.offset,a.offset,t),y=this.mergeAttributes(g.start);y.isEqual(g.start)||g.end.offset--;const k=this.mergeAttributes(g.end);return new Bi(y,k)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return jh(e.clone());e.parent.is("$text")&&(e=rh(e));const o=this.createAttributeElement("_wrapPosition-fake-element");o._priority=Number.POSITIVE_INFINITY,o.isSimilar=()=>!1,e.parent._insertChild(e.offset,o);const a=new Bi(e,e.getShiftedBy(1));this.wrap(a,t);const h=new kn(o.parent,o.index);o._remove();const g=h.nodeBefore,y=h.nodeAfter;return g instanceof ko&&y instanceof ko?ap(g,y):jh(h)}_wrapAttributeElement(e,t){if(!wd(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const o of e.getAttributeKeys())if("class"!==o&&"style"!==o&&t.hasAttribute(o)&&t.getAttribute(o)!==e.getAttribute(o))return!1;for(const o of e.getStyleNames())if(t.hasStyle(o)&&t.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())"class"!==o&&"style"!==o&&(t.hasAttribute(o)||this.setAttribute(o,e.getAttribute(o),t));for(const o of e.getStyleNames())t.hasStyle(o)||this.setStyle(o,e.getStyle(o),t);for(const o of e.getClassNames())t.hasClass(o)||this.addClass(o,t);return!0}_unwrapAttributeElement(e,t){if(!wd(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const o of e.getAttributeKeys())if("class"!==o&&"style"!==o&&(!t.hasAttribute(o)||t.getAttribute(o)!==e.getAttribute(o)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const o of e.getStyleNames())if(!t.hasStyle(o)||t.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())"class"!==o&&"style"!==o&&this.removeAttribute(o,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const o=e.start,a=e.end;if(Au(e,this.document),e.isCollapsed){const k=this._breakAttributes(e.start,t);return new Bi(k,k)}const h=this._breakAttributes(a,t),g=h.parent.childCount,y=this._breakAttributes(o,t);return h.offset+=h.parent.childCount-g,new Bi(y,h)}_breakAttributes(e,t=!1){const o=e.offset,a=e.parent;if(e.parent.is("emptyElement"))throw new Ne("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new Ne("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new Ne("view-writer-cannot-break-raw-element",this.document);if(!t&&a.is("$text")&&nu(a.parent)||nu(a))return e.clone();if(a.is("$text"))return this._breakAttributes(rh(e),t);if(o==a.childCount){const h=new kn(a.parent,a.index+1);return this._breakAttributes(h,t)}if(0===o){const h=new kn(a.parent,a.index);return this._breakAttributes(h,t)}{const h=a.index+1,g=a._clone();a.parent._insertChild(h,g),this._addToClonedElementsGroup(g);const k=a._removeChildren(o,a.childCount-o);g._appendChild(k);const E=new kn(a.parent,h);return this._breakAttributes(E,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const a of e.getChildren())this._addToClonedElementsGroup(a);const t=e.id;if(!t)return;let o=this._cloneGroups.get(t);o||(o=new Set,this._cloneGroups.set(t,o)),o.add(e),e._clonesGroup=o}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const a of e.getChildren())this._removeFromClonedElementsGroup(a);const t=e.id;if(!t)return;const o=this._cloneGroups.get(t);o&&o.delete(e)}}function Tf(d){let e=d.parent;for(;!nu(e);){if(!e)return;e=e.parent}return e}function Yu(d,e){return d.priority<e.priority||!(d.priority>e.priority)&&d.getIdentity()<e.getIdentity()}function jh(d){const e=d.nodeBefore;if(e&&e.is("$text"))return new kn(e,e.data.length);const t=d.nodeAfter;return t&&t.is("$text")?new kn(t,0):d}function rh(d){if(d.offset==d.parent.data.length)return new kn(d.parent.parent,d.parent.index+1);if(0===d.offset)return new kn(d.parent.parent,d.parent.index);const e=d.parent.data.slice(d.offset);return d.parent._data=d.parent.data.slice(0,d.offset),d.parent.parent._insertChild(d.parent.index+1,new ko(d.root.document,e)),new kn(d.parent.parent,d.parent.index+1)}function ap(d,e){const t=d.data.length;return d._data+=e.data,e._remove(),new kn(d,t)}const gr=[ko,Ll,Ic,th,Qo,ps];function lp(d,e){for(const t of d){if(!gr.some(o=>t instanceof o))throw new Ne("view-writer-insert-invalid-node-type",e);t.is("$text")||lp(t.getChildren(),e)}}function nu(d){return d&&(d.is("containerElement")||d.is("documentFragment"))}function Au(d,e){const t=Tf(d.start),o=Tf(d.end);if(!t||!o||t!==o)throw new Ne("view-writer-invalid-range-container",e)}function wd(d,e){return null===d.id&&null===e.id}const Oc=d=>d.createTextNode("\xa0"),Ga=d=>{const e=d.createElement("span");return e.dataset.ckeFiller="true",e.innerText="\xa0",e},Ta=d=>{const e=d.createElement("br");return e.dataset.ckeFiller="true",e},uc="\u2060".repeat(7);function Xa(d){return Hi(d)&&d.data.substr(0,7)===uc}function Nc(d){return 7==d.data.length&&Xa(d)}function oh(d){return Xa(d)?d.data.slice(7):d.data}function Sf(d,e){if(e.keyCode==ri.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const o=t.getRangeAt(0).startContainer,a=t.getRangeAt(0).startOffset;Xa(o)&&a<=7&&t.collapse(o,0)}}}var cp=oe(9315);Li()(cp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class iu extends(Tn()){constructor(e,t){super(),this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=t,this.set("isFocused",!1),this.set("_isFocusChanging",!1),this.set("isSelecting",!1),Z_isBlink&&!Z_isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new Ne("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!Z_isAndroid)return;let e=null;const t=!(Z_isBlink&&!Z_isAndroid&&this.isSelecting);for(const o of this.markedChildren)this._updateChildrenMappings(o);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=kn._createBefore(e.parent)));for(const o of this.markedAttributes)this._updateAttrs(o);for(const o of this.markedChildren)this._updateChildren(o,{inlineFillerPosition:e});for(const o of this.markedTexts)!this.markedChildren.has(o.parent)&&this.domConverter.mapViewToDom(o.parent)&&this._updateText(o,{inlineFillerPosition:e});if(t)if(e){const o=this.domConverter.viewPositionToDom(e),a=o.parent.ownerDocument;this._inlineFiller=Xa(o.parent)?o.parent:Bo(a,o.parent,o.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const t=Array.from(this.domConverter.mapViewToDom(e).childNodes),o=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),a=this._diffNodeLists(t,o),h=this._findReplaceActions(a,t,o);if(-1!==h.indexOf("replace")){const g={equal:0,insert:0,delete:0};for(const y of h)if("replace"===y){const k=g.equal+g.insert,E=g.equal+g.delete,D=e.getChild(k);!D||D.is("uiElement")||D.is("rawElement")||this._updateElementMappings(D,t[E]),So(o[k]),g.equal++}else g[y]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?kn._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Hi(t.parent)&&Xa(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Xa(e))throw new Ne("view-renderer-filler-was-lost",this);Nc(e)?e.remove():e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,o=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(g){if("false"==g.getAttribute("contenteditable"))return!1;const y=g.findAncestor(k=>k.hasAttribute("contenteditable"));return!y||"true"==y.getAttribute("contenteditable")}(t)||o===t.getFillerOffset())return!1;const a=e.nodeBefore,h=e.nodeAfter;return!(a instanceof ko||h instanceof ko||Z_isAndroid&&(a||h))}_updateText(e,t){const o=this.domConverter.findCorrespondingDomText(e);let a=this.domConverter.viewToDom(e).data;const h=t.inlineFillerPosition;h&&h.parent==e.parent&&h.offset==e.index&&(a=uc+a),sh(o,a)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const o=Array.from(t.attributes).map(h=>h.name),a=e.getAttributeKeys();for(const h of a)this.domConverter.setDomElementAttribute(t,h,e.getAttribute(h),e);for(const h of o)e.hasAttribute(h)||this.domConverter.removeDomElementAttribute(t,h)}_updateChildren(e,t){const o=this.domConverter.mapViewToDom(e);if(!o)return;if(Z_isAndroid){let L=null;for(const W of Array.from(o.childNodes)){if(L&&Hi(L)&&Hi(W)){o.normalize();break}L=W}}const a=t.inlineFillerPosition,h=o.childNodes,g=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));a&&a.parent===e&&Bo(o.ownerDocument,g,a.offset);const y=this._diffNodeLists(h,g),k=Z_isAndroid?this._findReplaceActions(y,h,g,{replaceText:!0}):y;let E=0;const D=new Set;for(const L of k)"delete"===L?(D.add(h[E]),So(h[E])):"equal"!==L&&"replace"!==L||E++;E=0;for(const L of k)"insert"===L?(Ko(o,E,g[E]),E++):"replace"===L?(sh(h[E],g[E].data),E++):"equal"===L&&(this._markDescendantTextToSync(this.domConverter.domToView(g[E])),E++);for(const L of D)L.parentNode||this.domConverter.unbindDomElement(L)}_diffNodeLists(e,t){return Se(e=function(o,a){const h=Array.from(o);return 0==h.length||!a||h[h.length-1]==a&&h.pop(),h}(e,this._fakeSelectionContainer),t,If.bind(null,this.domConverter))}_findReplaceActions(e,t,o,a={}){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;let h=[],g=[],y=[];const k={equal:0,insert:0,delete:0};for(const E of e)"insert"===E?y.push(o[k.equal+k.insert]):"delete"===E?g.push(t[k.equal+k.delete]):(h=h.concat(Se(g,y,a.replaceText?jo:zh).map(D=>"equal"===D?"replace":D)),h.push("equal"),g=[],y=[]),k[E]++;return h.concat(Se(g,y,a.replaceText?jo:zh).map(E=>"equal"===E?"replace":E))}_markDescendantTextToSync(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}_updateSelection(){if(Z_isBlink&&!Z_isAndroid&&this.isSelecting&&!this.markedChildren.size||this._isFocusChanging)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&Z_isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(g){const y=g.createElement("div");return y.className="ck-fake-selection-container",Object.assign(y.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),y.textContent="\xa0",y}(t));const o=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(o,this.selection),!this._fakeSelectionNeedsUpdate(e))return;o.parentElement&&o.parentElement==e||e.appendChild(o),o.textContent=this.selection.fakeSelectionLabel||"\xa0";const a=t.getSelection(),h=t.createRange();a.removeAllRanges(),h.selectNodeContents(o),a.addRange(h)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const o=this.domConverter.viewPositionToDom(this.selection.anchor),a=this.domConverter.viewPositionToDom(this.selection.focus);t.collapse(o.parent,o.offset),t.extend(a.parent,a.offset),Z_isGecko&&function(h,g){const y=h.parent;if(y.nodeType!=Node.ELEMENT_NODE||h.offset!=y.childNodes.length-1)return;const k=y.childNodes[h.offset];k&&"BR"==k.tagName&&g.addRange(g.getRangeAt(0))}(a,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,o=e.ownerDocument.getSelection();return!t||t.parentElement!==e||o.anchorNode!==t&&!t.contains(o.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const o=e.activeElement,a=this.domConverter.mapDomToView(o);o&&a&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Bo(d,e,t){const o=e instanceof Array?e:e.childNodes,a=o[t];if(Hi(a))return a.data=uc+a.data,a;{const h=d.createTextNode(uc);return Array.isArray(e)?o.splice(t,0,h):Ko(e,t,h),h}}function zh(d,e){return vi(d)&&vi(e)&&!Hi(d)&&!Hi(e)&&!Ar(d)&&!Ar(e)&&d.tagName.toLowerCase()===e.tagName.toLowerCase()}function jo(d,e){return vi(d)&&vi(e)&&Hi(d)&&Hi(e)}function If(d,e,t){return e===t||(Hi(e)&&Hi(t)?e.data===t.data:!(!d.isBlockFiller(e)||!d.isBlockFiller(t)))}function sh(d,e){const t=d.data;if(t==e)return;const o=_e(t,e);for(const a of o)"insert"===a.type?d.insertData(a.index,a.values.join("")):d.deleteData(a.index,a.howMany)}const ye=Ta(si.document),We=Oc(si.document),ot=Ga(si.document),en="data-ck-unsafe-attribute-",_i="data-ck-unsafe-element";class wi{constructor(e,t={}){this.document=e,this.renderingMode=t.renderingMode||"editing",this.blockFillerMode=t.blockFillerMode||("editing"===this.renderingMode?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?si.document:si.document.implementation.createHTMLDocument(""),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Ds,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Fl(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const o of Array.from(e.children))this.unbindDomElement(o)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,o){return"data"===this.renderingMode||!(e=e.toLowerCase()).startsWith("on")&&("srcdoc"!==e||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===o&&("src"===e||"srcset"===e)||"source"===o&&"srcset"===e||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if("data"===this.renderingMode)return void(e.innerHTML=t);const o=(new DOMParser).parseFromString(t,"text/html"),a=o.createDocumentFragment(),h=o.body.childNodes;for(;h.length>0;)a.appendChild(h[0]);const g=o.createTreeWalker(a,NodeFilter.SHOW_ELEMENT),y=[];let k;for(;k=g.nextNode();)y.push(k);for(const E of y){for(const L of E.getAttributeNames())this.setDomElementAttribute(E,L,E.getAttribute(L));const D=E.tagName.toLowerCase();this._shouldRenameElement(D)&&(Kr(D),E.replaceWith(this._createReplacementDomElement(D,E)))}for(;e.firstChild;)e.firstChild.remove();e.append(a)}viewToDom(e,t={}){if(e.is("$text")){const o=this._processDataFromViewText(e);return this._domDocument.createTextNode(o)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let o;if(e.is("documentFragment"))o=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(o,e);else{if(e.is("uiElement"))return o="$comment"===e.name?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),t.bind&&this.bindElements(o,e),o;this._shouldRenameElement(e.name)?(Kr(e.name),o=this._createReplacementDomElement(e.name)):o=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(o,this),t.bind&&this.bindElements(o,e);for(const a of e.getAttributeKeys())this.setDomElementAttribute(o,a,e.getAttribute(a),e)}if(!1!==t.withChildren)for(const a of this.viewChildrenToDom(e,t))o.appendChild(a);return o}}setDomElementAttribute(e,t,o,a){const h=this.shouldRenderAttribute(t,o,e.tagName.toLowerCase())||a&&a.shouldRenderUnsafeAttribute(t);h||At("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:o}),e.hasAttribute(t)&&!h?e.removeAttribute(t):e.hasAttribute(en+t)&&h&&e.removeAttribute(en+t),e.setAttribute(h?t:en+t,o)}removeDomElementAttribute(e,t){t!=_i&&(e.removeAttribute(t),e.removeAttribute(en+t))}*viewChildrenToDom(e,t={}){const o=e.getFillerOffset&&e.getFillerOffset();let a=0;for(const h of e.getChildren()){o===a&&(yield this._getBlockFiller());const g=h.is("element")&&h.getCustomProperty("dataPipeline:transparentRendering");g&&"data"==this.renderingMode?yield*this.viewChildrenToDom(h,t):(g&&At("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:h}),yield this.viewToDom(h,t)),a++}o===a&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),o=this.viewPositionToDom(e.end),a=this._domDocument.createRange();return a.setStart(t.parent,t.offset),a.setEnd(o.parent,o.offset),a}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const o=this.findCorrespondingDomText(t);if(!o)return null;let a=e.offset;return Xa(o)&&(a+=7),{parent:o,offset:a}}{let o,a,h;if(0===e.offset){if(o=this.mapViewToDom(t),!o)return null;h=o.childNodes[0]}else{const g=e.nodeBefore;if(a=g.is("$text")?this.findCorrespondingDomText(g):this.mapViewToDom(g),!a)return null;o=a.parentNode,h=a.nextSibling}return Hi(h)&&Xa(h)?{parent:h,offset:7}:{parent:o,offset:a?ds(a)+1:0}}}domToView(e,t={}){if(this.isBlockFiller(e))return null;const o=this.getHostViewElement(e);if(o)return o;if(Ar(e)&&t.skipComments)return null;if(Hi(e)){if(Nc(e))return null;{const a=this._processDataFromDomText(e);return""===a?null:new ko(this.document,a)}}{if(this.mapDomToView(e))return this.mapDomToView(e);let a;if(this.isDocumentFragment(e))a=new Xi(this.document),t.bind&&this.bindDocumentFragments(e,a);else{a=this._createViewElement(e,t),t.bind&&this.bindElements(e,a);const h=e.attributes;if(h)for(let g=h.length,y=0;y<g;y++)a._setAttribute(h[y].name,h[y].value);if(this._isViewElementWithRawContent(a,t)||Ar(e)){const g=Ar(e)?e.data:e.innerHTML;return a._setCustomProperty("$rawContent",g),this._encounteredRawContentDomNodes.add(e),a}}if(!1!==t.withChildren)for(const h of this.domChildrenToView(e,t))a._appendChild(h);return a}}*domChildrenToView(e,t){for(let o=0;o<e.childNodes.length;o++){const h=this.domToView(e.childNodes[o],t);null!==h&&(yield h)}}domSelectionToView(e){if(1===e.rangeCount){let a=e.getRangeAt(0).startContainer;Hi(a)&&(a=a.parentNode);const h=this.fakeSelectionToView(a);if(h)return h}const t=this.isDomSelectionBackward(e),o=[];for(let a=0;a<e.rangeCount;a++){const h=e.getRangeAt(a),g=this.domRangeToView(h);g&&o.push(g)}return new Fl(o,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),o=this.domPositionToView(e.endContainer,e.endOffset);return t&&o?new Bi(t,o):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,ds(e));const o=this.mapDomToView(e);if(o&&(o.is("uiElement")||o.is("rawElement")))return kn._createBefore(o);if(Hi(e)){if(Nc(e))return this.domPositionToView(e.parentNode,ds(e));const a=this.findCorrespondingViewText(e);let h=t;return a?(Xa(e)&&(h-=7,h=h<0?0:h),new kn(a,h)):null}if(0===t){const a=this.mapDomToView(e);if(a)return new kn(a,0)}else{const a=e.childNodes[t-1];if(Hi(a)&&Nc(a))return this.domPositionToView(a.parentNode,ds(a));const h=Hi(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(h&&h.parent)return new kn(h.parent,h.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Nc(e))return null;const t=this.getHostViewElement(e);if(t)return t;const o=e.previousSibling;if(o){if(!this.isElement(o))return null;const a=this.mapDomToView(o);if(a){const h=a.nextSibling;return h instanceof ko?h:null}}else{const a=this.mapDomToView(e.parentNode);if(a){const h=a.getChild(0);return h instanceof ko?h:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:o,scrollY:a}=si.window,h=[];Wi(t,g=>{const{scrollLeft:y,scrollTop:k}=g;h.push([y,k])}),t.focus(),Wi(t,g=>{const[y,k]=h.shift();g.scrollLeft=y,g.scrollTop=k}),si.window.scrollTo(o,a)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return"br"==this.blockFillerMode?e.isEqualNode(ye):!("BR"!==e.tagName||!Pi(e,this.blockElements)||1!==e.parentNode.childNodes.length)||e.isEqualNode(ot)||function(t,o){return t.isEqualNode(We)&&Pi(t,o)&&1===t.parentNode.childNodes.length}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch(a){return!1}const o=t.collapsed;return t.detach(),o}getHostViewElement(e){const t=ws(e);for(t.pop();t.length;){const o=t.pop(),a=this._domToViewMapping.get(o);if(a&&(a.is("uiElement")||a.is("rawElement")))return a}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Oc(this._domDocument);case"markedNbsp":return Ga(this._domDocument);case"br":return Ta(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Hi(e)&&Xa(e)&&t<7||this.isElement(e)&&Xa(e.childNodes[t]))return!1;const o=this.mapDomToView(e);return!o||!o.is("uiElement")&&!o.is("rawElement")}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(o=>this.preElements.includes(o.name)))return t;if(" "==t.charAt(0)){const o=this._getTouchingInlineViewNode(e,!1);!(o&&o.is("$textProxy")&&this._nodeEndsWithSpace(o))&&o||(t="\xa0"+t.substr(1))}if(" "==t.charAt(t.length-1)){const o=this._getTouchingInlineViewNode(e,!0),a=o&&o.is("$textProxy")&&" "==o.data.charAt(0);" "!=t.charAt(t.length-2)&&o&&!a||(t=t.substr(0,t.length-1)+"\xa0")}return t.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(e){if(e.getAncestors().some(o=>this.preElements.includes(o.name)))return!1;const t=this._processDataFromViewText(e);return" "==t.charAt(t.length-1)}_processDataFromDomText(e){let t=e.data;if(D=this.preElements,ws(e).some(W=>W.tagName&&D.includes(W.tagName.toLowerCase())))return oh(e);var D;t=t.replace(/[ \n\t\r]{1,}/g," ");const o=this._getTouchingInlineDomNode(e,!1),a=this._getTouchingInlineDomNode(e,!0),h=this._checkShouldLeftTrimDomText(e,o),g=this._checkShouldRightTrimDomText(e,a);h&&(t=t.replace(/^ /,"")),g&&(t=t.replace(/ $/,"")),t=oh(new Text(t)),t=t.replace(/ \u00A0/g,"  ");const y=a&&this.isElement(a)&&"BR"!=a.tagName,k=a&&Hi(a)&&" "==a.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(t)||!a||y||k)&&(t=t.replace(/\u00A0$/," ")),(h||o&&this.isElement(o)&&"BR"!=o.tagName)&&(t=t.replace(/^\u00A0/," ")),t}_checkShouldLeftTrimDomText(e,t){return!t||(this.isElement(t)?"BR"===t.tagName:!this._encounteredRawContentDomNodes.has(e.previousSibling)&&/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)))}_checkShouldRightTrimDomText(e,t){return!t&&!Xa(e)}_getTouchingInlineViewNode(e,t){const o=new lc({startPosition:t?kn._createAfter(e):kn._createBefore(e),direction:t?"forward":"backward"});for(const a of o){if(a.item.is("element")&&this.inlineObjectElements.includes(a.item.name))return a.item;if(a.item.is("containerElement")||a.item.is("element","br"))return null;if(a.item.is("$textProxy"))return a.item}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode)return null;const o=t?"firstChild":"lastChild",a=t?"nextSibling":"previousSibling";let h=!0,g=e;do{if(!h&&g[o]?g=g[o]:g[a]?(g=g[a],h=!1):(g=g.parentNode,h=!0),!g||this._isBlockElement(g))return null}while(!Hi(g)&&"BR"!=g.tagName&&!this._isInlineObjectElement(g));return g}_isBlockElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isInlineObjectElement(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}_createViewElement(e,t){if(Ar(e))return new ps(this.document,"$comment");const o=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Ma(this.document,o)}_isViewElementWithRawContent(e,t){return!1!==t.withChildren&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const o=this._domDocument.createElement("span");if(o.setAttribute(_i,e),t){for(;t.firstChild;)o.appendChild(t.firstChild);for(const a of t.getAttributeNames())o.setAttribute(a,t.getAttribute(a))}return o}}function Wi(d,e){let t=d;for(;t;)e(t),t=t.parentElement}function Pi(d,e){const t=d.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Kr(d){"script"===d&&At("domconverter-unsafe-script-element-detected"),"style"===d&&At("domconverter-unsafe-style-element-detected")}class Fn extends(Us()){constructor(e){super(),this.view=e,this.document=e.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&3===e.nodeType&&(e=e.parentNode),!(!e||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const La=$u(function(d,e){ts(e,ue(e),d)});class Sa{constructor(e,t,o){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,La(this,o)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class $a extends Fn{constructor(e){super(e),this.useCapture=!1}observe(e){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(o,a)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(a.target)&&this.onDomEvent(a)},{useCapture:this.useCapture})})}fire(e,t,o){this.isEnabled&&this.document.fire(e,new Sa(this.view,t,o))}}class dc extends $a{constructor(e){super(e),this.domEventType=["keydown","keyup"]}onDomEvent(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return U(this)}})}}const hc=function(){return Sn.Date.now()};var Cd=/\s/,Ql=/^\s+/;var Rc=/^[-+]0x[0-9a-f]+$/i,Vh=/^0b[01]+$/i,Qu=/^0o[0-7]+$/i,Ur=parseInt;const jl=function(d){if("number"==typeof d)return d;if(Qc(d))return NaN;if(Ht(d)){var e="function"==typeof d.valueOf?d.valueOf():d;d=Ht(e)?e+"":e}if("string"!=typeof d)return 0===d?d:+d;d=function(d){return d&&d.slice(0,function(d){for(var e=d.length;e--&&Cd.test(d.charAt(e)););return e}(d)+1).replace(Ql,"")}(d);var t=Vh.test(d);return t||Qu.test(d)?Ur(d.slice(2),t?2:8):Rc.test(d)?NaN:+d};var ga=Math.max,Uh=Math.min;const Ss=function(d,e,t){var o,a,h,g,y,k,E=0,D=!1,L=!1,W=!0;if("function"!=typeof d)throw new TypeError("Expected a function");function de(Zt){var Mn=o,er=a;return o=a=void 0,E=Zt,g=d.apply(er,Mn)}function Ae(Zt){return E=Zt,y=setTimeout(He,e),D?de(Zt):g}function Oe(Zt){var Mn=Zt-k;return void 0===k||Mn>=e||Mn<0||L&&Zt-E>=h}function He(){var Mn,er,Zt=hc();if(Oe(Zt))return pt(Zt);y=setTimeout(He,(er=e-((Mn=Zt)-k),L?Uh(er,h-(Mn-E)):er))}function pt(Zt){return y=void 0,W&&o?de(Zt):(o=a=void 0,g)}function Tt(){var Zt=hc(),Mn=Oe(Zt);if(o=arguments,a=this,k=Zt,Mn){if(void 0===y)return Ae(k);if(L)return clearTimeout(y),y=setTimeout(He,e),de(k)}return void 0===y&&(y=setTimeout(He,e)),g}return e=jl(e)||0,Ht(t)&&(D=!!t.leading,h=(L="maxWait"in t)?ga(jl(t.maxWait)||0,e):h,W="trailing"in t?!!t.trailing:W),Tt.cancel=function(){void 0!==y&&clearTimeout(y),E=0,o=k=a=y=void 0},Tt.flush=function(){return void 0===y?g:pt(hc())},Tt};class zl extends Fn{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Ss(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,o)=>{e.selection.isFake&&this.isEnabled&&o.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,o)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(o.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,o=new Fl(t.getRanges(),{backward:t.isBackward,fake:!1});e!=ri.arrowleft&&e!=ri.arrowup||o.setTo(o.getFirstPosition()),e!=ri.arrowright&&e!=ri.arrowdown||o.setTo(o.getLastPosition());const a={oldSelection:t,newSelection:o,domSelection:null};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}function Fc(d){var e=-1,t=null==d?0:d.length;for(this.__data__=new lo;++e<t;)this.add(d[e])}Fc.prototype.add=Fc.prototype.push=function(d){return this.__data__.set(d,"__lodash_hash_undefined__"),this},Fc.prototype.has=function(d){return this.__data__.has(d)};const zo=Fc,el=function(d,e){for(var t=-1,o=null==d?0:d.length;++t<o;)if(e(d[t],t,d))return!0;return!1},dp=function(d,e){return d.has(e)},im=function(d,e,t,o,a,h){var g=1&t,y=d.length,k=e.length;if(y!=k&&!(g&&k>y))return!1;var E=h.get(d),D=h.get(e);if(E&&D)return E==e&&D==d;var L=-1,W=!0,de=2&t?new zo:void 0;for(h.set(d,e),h.set(e,d);++L<y;){var Ae=d[L],Oe=e[L];if(o)var He=g?o(Oe,Ae,L,e,d,h):o(Ae,Oe,L,d,e,h);if(void 0!==He){if(He)continue;W=!1;break}if(de){if(!el(e,function(pt,Tt){if(!dp(de,Tt)&&(Ae===pt||a(Ae,pt,t,o,h)))return de.push(Tt)})){W=!1;break}}else if(Ae!==Oe&&!a(Ae,Oe,t,o,h)){W=!1;break}}return h.delete(d),h.delete(e),W},Is=function(d){var e=-1,t=Array(d.size);return d.forEach(function(o,a){t[++e]=[a,o]}),t},Wa=function(d){var e=-1,t=Array(d.size);return d.forEach(function(o){t[++e]=o}),t};var yl=Pr?Pr.prototype:void 0,Ia=yl?yl.valueOf:void 0,kd=Object.prototype.hasOwnProperty,qh="[object Arguments]",tl="[object Array]",Gh="[object Object]",Pf=Object.prototype.hasOwnProperty;const Pa=function d(e,t,o,a,h){return e===t||(null==e||null==t||!tr(e)&&!tr(t)?e!=e&&t!=t:function(d,e,t,o,a,h){var g=Ni(d),y=Ni(e),k=g?tl:dl(d),E=y?tl:dl(e),D=(k=k==qh?Gh:k)==Gh,L=(E=E==qh?Gh:E)==Gh,W=k==E;if(W&&$r(d)){if(!$r(e))return!1;g=!0,D=!1}if(W&&!D)return h||(h=new _r),g||$o(d)?im(d,e,t,o,a,h):function(d,e,t,o,a,h,g){switch(t){case"[object DataView]":if(d.byteLength!=e.byteLength||d.byteOffset!=e.byteOffset)return!1;d=d.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(d.byteLength!=e.byteLength||!h(new wa(d),new wa(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ui(+d,+e);case"[object Error]":return d.name==e.name&&d.message==e.message;case"[object RegExp]":case"[object String]":return d==e+"";case"[object Map]":var y=Is;case"[object Set]":if(y||(y=Wa),d.size!=e.size&&!(1&o))return!1;var E=g.get(d);if(E)return E==e;o|=2,g.set(d,e);var D=im(y(d),y(e),o,a,h,g);return g.delete(d),D;case"[object Symbol]":if(Ia)return Ia.call(d)==Ia.call(e)}return!1}(d,e,k,t,o,a,h);if(!(1&t)){var de=D&&Pf.call(d,"__wrapped__"),Ae=L&&Pf.call(e,"__wrapped__");if(de||Ae){var Oe=de?d.value():d,He=Ae?e.value():e;return h||(h=new _r),a(Oe,He,t,o,h)}}return!!W&&(h||(h=new _r),function(d,e,t,o,a,h){var g=1&t,y=vs(d),k=y.length;if(k!=vs(e).length&&!g)return!1;for(var E=k;E--;){var D=y[E];if(!(g?D in e:kd.call(e,D)))return!1}var L=h.get(d),W=h.get(e);if(L&&W)return L==e&&W==d;var de=!0;h.set(d,e),h.set(e,d);for(var Ae=g;++E<k;){var Oe=d[D=y[E]],He=e[D];if(o)var pt=g?o(He,Oe,D,e,d,h):o(Oe,He,D,d,e,h);if(!(void 0===pt?Oe===He||a(Oe,He,t,o,h):pt)){de=!1;break}Ae||(Ae="constructor"==D)}if(de&&!Ae){var Tt=d.constructor,Zt=e.constructor;Tt==Zt||!("constructor"in d)||!("constructor"in e)||"function"==typeof Tt&&Tt instanceof Tt&&"function"==typeof Zt&&Zt instanceof Zt||(de=!1)}return h.delete(d),h.delete(e),de}(d,e,t,o,a,h))}(e,t,o,a,d,h))},vn=function(d,e,t){var o=(t="function"==typeof t?t:void 0)?t(d,e):void 0;return void 0===o?Pa(d,e,void 0,t):!!o};class Ti extends Fn{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(0===e.length)return;const t=this.domConverter,o=new Set,a=new Set;for(const g of e){const y=t.mapDomToView(g.target);y&&(y.is("uiElement")||y.is("rawElement")||"childList"!==g.type||this._isBogusBrMutation(g)||a.add(y))}for(const g of e){const y=t.mapDomToView(g.target);if((!y||!y.is("uiElement")&&!y.is("rawElement"))&&"characterData"===g.type){const k=t.findCorrespondingViewText(g.target);k&&!a.has(k.parent)?o.add(k):!k&&Xa(g.target)&&a.add(t.mapDomToView(g.target.parentNode))}}let h=!1;for(const g of o)h=!0,this.renderer.markToSync("text",g);for(const g of a){const y=t.mapViewToDom(g),k=Array.from(g.getChildren()),E=Array.from(t.domChildrenToView(y,{withChildren:!1}));vn(k,E,Xu)||(h=!0,this.renderer.markToSync("children",g))}h&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function Xu(d,e){if(!Array.isArray(d))return d===e||!(!d.is("$text")||!e.is("$text"))&&d.data===e.data}class Zp extends Fn{constructor(e){super(e),this.mutationObserver=e.getObserver(Ti),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Ss(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Ss(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,o=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",o,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",o,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",o,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(a,h)=>{this.document.isComposing&&!Z_isAndroid||(this._handleSelectionChange(h,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(e,t){if(!this.isEnabled)return;const o=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(o.anchorNode))return;this.mutationObserver.flush();const a=this.domConverter.domSelectionToView(o);if(0!=a.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(a)&&this.domConverter.isDomSelectionCorrect(o)||++this._loopbackCounter>60))if(this.selection.isSimilar(a))this.view.forceRender();else{const h={oldSelection:this.selection,newSelection:a,domSelection:o};this.document._isFocusChanging=!1,this.document.fire("selectionChange",h),this._fireSelectionChangeDoneDebounced(h)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Lc extends $a{constructor(e){super(e),this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{t.isFocused=!0,t._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{t._isFocusChanging=!1,e.change(()=>{})},50)}),t.on("blur",(o,a)=>{const h=t.selection.editableElement;null!==h&&h!==a.target||(t.isFocused=!1,e.change(()=>{}))})}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class ah extends $a{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class hp{constructor(e){this.files=function(t){const o=Array.from(t.files||[]),a=Array.from(t.items||[]);return o.length?o:a.filter(h=>"file"===h.kind).map(h=>h.getAsFile())}(e),this._native=e}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}class xd extends $a{constructor(e){super(e),this.domEventType=["beforeinput"]}onDomEvent(e){const t=e.getTargetRanges(),o=this.view,a=o.document;let h=null,g=null,y=[];if(e.dataTransfer&&(h=new hp(e.dataTransfer)),null!==e.data?g=e.data:h&&(g=h.getData("text/plain")),a.selection.isFake)y=Array.from(a.selection.getRanges());else if(t.length)y=t.map(k=>o.domConverter.domRangeToView(k));else if(Z_isAndroid){const k=e.target.ownerDocument.defaultView.getSelection();y=Array.from(o.domConverter.domSelectionToView(k).getRanges())}if(Z_isAndroid&&"insertCompositionText"==e.inputType&&g&&g.endsWith("\n"))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[o.createRange(y[0].end)]});else if("insertText"==e.inputType&&g&&g.includes("\n")){const k=g.split(/\n{1,2}/g);let E=y;for(let D=0;D<k.length;D++){const L=k[D];""!=L&&(this.fire(e.type,e,{data:L,dataTransfer:h,targetRanges:E,inputType:e.inputType,isComposing:e.isComposing}),E=[a.selection.getFirstRange()]),D+1<k.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:E}),E=[a.selection.getFirstRange()])}}else this.fire(e.type,e,{data:g,dataTransfer:h,targetRanges:y,inputType:e.inputType,isComposing:e.isComposing})}}class nl extends Fn{constructor(e){super(e),this.document.on("keydown",(t,o)=>{if(this.isEnabled&&((a=o.keyCode)==ri.arrowright||a==ri.arrowleft||a==ri.arrowup||a==ri.arrowdown)){const h=new vl(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(h,o),h.stop.called&&t.stop()}var a})}observe(){}}class fp extends Fn{constructor(e){super(e);const t=this.document;t.on("keydown",(o,a)=>{if(!this.isEnabled||a.keyCode!=ri.tab||a.ctrlKey)return;const h=new vl(t,"tab",t.selection.getFirstRange());t.fire(h,a),h.stop.called&&o.stop()})}observe(){}}class rm extends(Tn()){constructor(e){super(),this.document=new xr(e),this.domConverter=new wi(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new iu(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing","_isFocusChanging").to(this.document,"isFocused","isSelecting","isComposing","_isFocusChanging"),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Bl(this.document),this.addObserver(Ti),this.addObserver(Zp),this.addObserver(Lc),this.addObserver(dc),this.addObserver(zl),this.addObserver(ah),this.addObserver(nl),this.addObserver(xd),this.addObserver(fp),this.document.on("arrowKey",Sf,{priority:"low"}),function(d){d.document.on("arrowKey",(e,t)=>function(o,a,h){if(a.keyCode==ri.arrowright){const g=a.domTarget.ownerDocument.defaultView.getSelection(),y=1==g.rangeCount&&g.getRangeAt(0).collapsed;if(y||a.shiftKey){const D=h.domPositionToView(g.focusNode,g.focusOffset);if(null===D)return;let L=!1;const W=D.getLastMatchingPosition(de=>(de.item.is("uiElement")&&(L=!0),!(!de.item.is("uiElement")&&!de.item.is("attributeElement"))));if(L){const de=h.viewPositionToDom(W);y?g.collapse(de.parent,de.offset):g.extend(de.parent,de.offset)}}}}(0,t,d.domConverter),{priority:"low"})}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,t="main"){const o=this.document.getRoot(t);o._name=e.tagName.toLowerCase();const a={};for(const{name:g,value:y}of Array.from(e.attributes))a[g]=y,"class"===g?this._writer.addClass(y.split(" "),o):this._writer.setAttribute(g,y,o);this._initialDomRootAttributes.set(e,a);const h=()=>{this._writer.setAttribute("contenteditable",(!o.isReadOnly).toString(),o),o.isReadOnly?this._writer.addClass("ck-read-only",o):this._writer.removeClass("ck-read-only",o)};h(),this.domRoots.set(t,e),this.domConverter.bindElements(e,o),this._renderer.markToSync("children",o),this._renderer.markToSync("attributes",o),this._renderer.domDocuments.add(e.ownerDocument),o.on("change:children",(g,y)=>this._renderer.markToSync("children",y)),o.on("change:attributes",(g,y)=>this._renderer.markToSync("attributes",y)),o.on("change:text",(g,y)=>this._renderer.markToSync("text",y)),o.on("change:isReadOnly",()=>this.change(h)),o.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const g of this._observers.values())g.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:a})=>t.removeAttribute(a));const o=this._initialDomRootAttributes.get(t);for(const a in o)t.setAttribute(a,o[a]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[o,a]of this.domRoots)t.observe(a,o);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){const e=this.document.selection.getFirstRange();e&&function({target:t,viewportOffset:o=0}){const a=Un(t);let h=a,g=null;for(;h;){let y;y=nr(h==a?t:g),T(y,()=>Qt(t,h));const k=Qt(t,h);if(K(h,k,o),h.parent!=h){if(g=h.frameElement,h=h.parent,!g)return}else h=null}}({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new Ne("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){Ne.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.document._isFocusChanging=!1,this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return kn._createAt(e,t)}createPositionAfter(e){return kn._createAfter(e)}createPositionBefore(e){return kn._createBefore(e)}createRange(...e){return new Bi(...e)}createRangeOn(e){return Bi._createOn(e)}createRangeIn(e){return Bi._createIn(e)}createSelection(...e){return new Fl(...e)}_disableRendering(e){this._renderingDisabled=e,0==e&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class $s{is(){throw new Error("is() method is abstract")}}class Eu extends $s{constructor(e){super(),this.parent=null,this._attrs=On(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new Ne("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new Ne("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let o=e.includeSelf?this:this.parent;for(;o;)t[e.parentFirst?"push":"unshift"](o),o=o.parent;return t}getCommonAncestor(e,t={}){const o=this.getAncestors(t),a=e.getAncestors(t);let h=0;for(;o[h]==a[h]&&o[h];)h++;return 0===h?null:o[h-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),o=e.getPath(),a=pi(t,o);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<o[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,o)=>(t[o[0]]=o[1],t),{})),e}_clone(e){return new Eu(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=On(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Eu.prototype.is=function(d){return"node"===d||"model:node"===d};class ru{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return-1==t?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce((o,a)=>o+a.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new Ne("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const o of this._nodes){if(e>=t&&e<t+o.offsetSize)return this.getNodeIndex(o);t+=o.offsetSize}if(t!=e)throw new Ne("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const o of t)if(!(o instanceof Eu))throw new Ne("model-nodelist-insertnodes-not-node",this);this._nodes=function(o,a,h,g){if(Math.max(a.length,o.length)>1e4)return o.slice(0,h).concat(a).concat(o.slice(h+0,o.length));{const y=Array.from(o);return y.splice(h,0,...a),y}}(this._nodes,Array.from(t),e)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Er extends Eu{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Er(this.data,this.getAttributes())}static fromJSON(e){return new Er(e.data,e.attributes)}}Er.prototype.is=function(d){return"$text"===d||"model:$text"===d||"text"===d||"model:text"===d||"node"===d||"model:node"===d};class ou extends $s{constructor(e,t,o){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new Ne("model-textproxy-wrong-offsetintext",this);if(o<0||t+o>e.offsetSize)throw new Ne("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+o),this.offsetInText=t}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let o=e.includeSelf?this:this.parent;for(;o;)t[e.parentFirst?"push":"unshift"](o),o=o.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ou.prototype.is=function(d){return"$textProxy"===d||"model:$textProxy"===d||"textProxy"===d||"model:textProxy"===d};class Io extends Eu{constructor(e,t,o){super(t),this.name=e,this._children=new ru,o&&this._insertChild(0,o)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const o of e)t=t.getChild(t.offsetToIndex(o));return t}findAncestor(e,t={}){let o=t.includeSelf?this:this.parent;for(;o;){if(o.name===e)return o;o=o.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(o=>o._clone(!0)):void 0;return new Io(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const o="string"==typeof(a=t)?[new Er(a)]:(Mi(a)||(a=[a]),Array.from(a).map(h=>"string"==typeof h?new Er(h):h instanceof ou?new Er(h.data,h.getAttributes()):h));var a;for(const a of o)null!==a.parent&&a._remove(),a.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,t=1){const o=this._children._removeNodes(e,t);for(const a of o)a.parent=null;return o}static fromJSON(e){let t;if(e.children){t=[];for(const o of e.children)t.push(o.name?Io.fromJSON(o):Er.fromJSON(o))}return new Io(e.name,e.attributes,t)}}Io.prototype.is=function(d,e){return e?e===this.name&&("element"===d||"model:element"===d):"element"===d||"model:element"===d||"node"===d||"model:node"===d};class Oa{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new Ne("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if("forward"!=t&&"backward"!=t)throw new Ne("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,this.position=e.startPosition?e.startPosition.clone():sn._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(e){let t,o,a,h;do{a=this.position,h=this._visitedParent,({done:t,value:o}=this.next())}while(!t&&e(o));t||(this.position=a,this._visitedParent=h)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),o=this._visitedParent;if(null===o.parent&&t.offset===o.maxOffset)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const a=Bc(t,o),h=a||su(t,o,a);if(h instanceof Io)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=h),this.position=t,ra("elementStart",h,e,t,1);if(h instanceof Er){let g;if(this.singleCharacters)g=1;else{let E=h.endOffset;this._boundaryEndParent==o&&this.boundaries.end.offset<E&&(E=this.boundaries.end.offset),g=E-t.offset}const k=new ou(h,t.offset-h.startOffset,g);return t.offset+=g,this.position=t,ra("text",k,e,t,g)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=o.parent,this.ignoreElementEnd?this._next():ra("elementEnd",o,e,t)}_previous(){const e=this.position,t=this.position.clone(),o=this._visitedParent;if(null===o.parent&&0===t.offset)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const a=t.parent,h=Bc(t,a),g=h||lh(t,a,h);if(g instanceof Io)return t.offset--,this.shallow?(this.position=t,ra("elementStart",g,e,t,1)):(t.path.push(g.maxOffset),this.position=t,this._visitedParent=g,this.ignoreElementEnd?this._previous():ra("elementEnd",g,e,t));if(g instanceof Er){let y;if(this.singleCharacters)y=1;else{let D=g.startOffset;this._boundaryStartParent==o&&this.boundaries.start.offset>D&&(D=this.boundaries.start.offset),y=t.offset-D}const E=new ou(g,t.offset-g.startOffset-y,y);return t.offset-=y,this.position=t,ra("text",E,e,t,y)}return t.path.pop(),this.position=t,this._visitedParent=o.parent,ra("elementStart",o,e,t,1)}}function ra(d,e,t,o,a){return{done:!1,value:{type:d,item:e,previousPosition:t,nextPosition:o,length:a}}}class sn extends $s{constructor(e,t,o="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new Ne("model-position-root-invalid",e);if(!(t instanceof Array)||0===t.length)throw new Ne("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=o}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new Ne("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new Ne("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Bc(this,this.parent)}get nodeAfter(){const e=this.parent;return su(this,e,Bc(this,e))}get nodeBefore(){const e=this.parent;return lh(this,e,Bc(this,e))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=pi(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const o=new Oa(t);return o.skip(e),o.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=pi(this.path,e.path),o="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,o)}getCommonAncestor(e){const t=this.getAncestors(),o=e.getAncestors();let a=0;for(;t[a]==o[a]&&t[a];)a++;return 0===a?null:t[a-1]}getShiftedBy(e){const t=this.clone(),o=t.offset+e;return t.offset=o<0?0:o,t}isAfter(e){return"after"==this.compareWith(e)}isBefore(e){return"before"==this.compareWith(e)}isEqual(e){return"same"==this.compareWith(e)}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let o=0;o<t;o++){const a=this.path[o]-e.path[o];if(a<-1||a>1)return!1;if(1===a)return ch(e,this,o);if(-1===a)return ch(this,e,o)}return this.path.length===e.path.length||jc(this.path.length>e.path.length?this.path:e.path,t)}hasSameParentAs(e){return this.root===e.root&&"same"==pi(this.getParentPath(),e.getParentPath())}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=sn._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let o;return t.containsPosition(this)||t.start.isEqual(this)?(o=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(o=o._getTransformedByDeletion(e.deletionPosition,1))):o=this.isEqual(e.deletionPosition)?sn._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),o}_getTransformedByDeletion(e,t){const o=sn._createAt(this);if(this.root!=e.root)return o;if("same"==pi(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;o.offset-=t}}else if("prefix"==pi(e.getParentPath(),this.getParentPath())){const a=e.path.length-1;if(e.offset<=this.path[a]){if(e.offset+t>this.path[a])return null;o.path[a]-=t}}return o}_getTransformedByInsertion(e,t){const o=sn._createAt(this);if(this.root!=e.root)return o;if("same"==pi(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(o.offset+=t);else if("prefix"==pi(e.getParentPath(),this.getParentPath())){const a=e.path.length-1;e.offset<=this.path[a]&&(o.path[a]+=t)}return o}_getTransformedByMove(e,t,o){if(t=t._getTransformedByDeletion(e,o),e.isEqual(t))return sn._createAt(this);const a=this._getTransformedByDeletion(e,o);return null===a||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(o).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):a._getTransformedByInsertion(t,o)}_getCombined(e,t){const o=e.path.length-1,a=sn._createAt(t);return a.stickiness=this.stickiness,a.offset=a.offset+this.path[o]-e.offset,a.path=[...a.path,...this.path.slice(o+1)],a}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,o="toNone"){if(e instanceof sn)return new sn(e.root,e.path,e.stickiness);{const a=e;if("end"==t)t=a.maxOffset;else{if("before"==t)return this._createBefore(a,o);if("after"==t)return this._createAfter(a,o);if(0!==t&&!t)throw new Ne("model-createpositionat-offset-required",[this,e])}if(!a.is("element")&&!a.is("documentFragment"))throw new Ne("model-position-parent-incorrect",[this,e]);const h=a.getPath();return h.push(t),new this(a.root,h,o)}}static _createAfter(e,t){if(!e.parent)throw new Ne("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new Ne("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if("$graveyard"===e.root){const o=new sn(t.graveyard,e.path);return o.stickiness=e.stickiness,o}if(!t.getRoot(e.root))throw new Ne("model-position-fromjson-no-root",t,{rootName:e.root});return new sn(t.getRoot(e.root),e.path,e.stickiness)}}function Bc(d,e){const t=e.getChild(e.offsetToIndex(d.offset));return t&&t.is("$text")&&t.startOffset<d.offset?t:null}function su(d,e,t){return null!==t?null:e.getChild(e.offsetToIndex(d.offset))}function lh(d,e,t){return null!==t?null:e.getChild(e.offsetToIndex(d.offset)-1)}function ch(d,e,t){return t+1!==d.path.length&&!!jc(e.path,t+1)&&!!function(o,a){let h=o.parent,g=o.path.length-1,y=0;for(;g>=a;){if(o.path[g]+y!==h.maxOffset)return!1;y=1,g--,h=h.parent}return!0}(d,t+1)}function jc(d,e){for(;e<d.length;){if(0!==d[e])return!1;e++}return!0}sn.prototype.is=function(d){return"position"===d||"model:position"===d};class Ut extends $s{constructor(e,t){super(),this.start=sn._createAt(e),this.end=sn._createAt(t||e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Oa({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==pi(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&a}containsItem(e){const t=sn._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Ut(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Ut(e.end,this.end))):t.push(new Ut(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,o=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(o=e.end),new Ut(t,o)}return null}getJoined(e,t=!1){let o=this.isIntersecting(e);if(o||(o=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!o)return null;let a=this.start,h=this.end;return e.start.isBefore(a)&&(a=e.start),e.end.isAfter(h)&&(h=e.end),new Ut(a,h)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,o=sn._createAt(this.start);let a=o.parent;for(;o.path.length>t+1;){const h=a.maxOffset-o.offset;0!==h&&e.push(new Ut(o,o.getShiftedBy(h))),o.path=o.path.slice(0,-1),o.offset++,a=a.parent}for(;o.path.length<=this.end.path.length;){const h=this.end.path[o.path.length-1],g=h-o.offset;0!==g&&e.push(new Ut(o,o.getShiftedBy(g))),o.offset=h,o.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Oa(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Oa(e);for(const o of t)yield o.item}*getPositions(e={}){e.boundaries=this;const t=new Oa(e);yield t.position;for(const o of t)yield o.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Ut(this.start,this.end)]}getTransformedByOperations(e){const t=[new Ut(this.start,this.end)];for(const o of e)for(let a=0;a<t.length;a++){const h=t[a].getTransformedByOperation(o);t.splice(a,1,...h),a+=h.length-1}for(let o=0;o<t.length;o++){const a=t[o];for(let h=o+1;h<t.length;h++){const g=t[h];(a.containsRange(g)||g.containsRange(a)||a.isEqual(g))&&t.splice(h,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let o=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(o=this.end.getShiftedBy(1)),t.root!=o.root&&(o=this.end.getShiftedBy(-1)),new Ut(t,o)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Ut(this.start);let t=this.start._getTransformedByMergeOperation(e),o=this.end._getTransformedByMergeOperation(e);return t.root!=o.root&&(o=this.end.getShiftedBy(-1)),t.isAfter(o)?(e.sourcePosition.isBefore(e.targetPosition)?(t=sn._createAt(o),t.offset=0):(e.deletionPosition.isEqual(t)||(o=e.deletionPosition),t=e.targetPosition),new Ut(t,o)):new Ut(t,o)}_getTransformedByInsertion(e,t,o=!1){if(o&&this.containsPosition(e))return[new Ut(this.start,e),new Ut(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const a=new Ut(this.start,this.end);return a.start=a.start._getTransformedByInsertion(e,t),a.end=a.end._getTransformedByInsertion(e,t),[a]}}_getTransformedByMove(e,t,o,a=!1){if(this.isCollapsed){const L=this.start._getTransformedByMove(e,t,o);return[new Ut(L)]}const h=Ut._createFromPositionAndShift(e,o),g=t._getTransformedByDeletion(e,o);if(this.containsPosition(t)&&!a&&(h.containsPosition(this.start)||h.containsPosition(this.end))){const L=this.start._getTransformedByMove(e,t,o),W=this.end._getTransformedByMove(e,t,o);return[new Ut(L,W)]}let y;const k=this.getDifference(h);let E=null;const D=this.getIntersection(h);if(1==k.length?E=new Ut(k[0].start._getTransformedByDeletion(e,o),k[0].end._getTransformedByDeletion(e,o)):2==k.length&&(E=new Ut(this.start,this.end._getTransformedByDeletion(e,o))),y=E?E._getTransformedByInsertion(g,o,null!==D||a):[],D){const L=new Ut(D.start._getCombined(h.start,g),D.end._getCombined(h.start,g));2==y.length?y.splice(1,0,L):y.push(L)}return y}_getTransformedByDeletion(e,t){let o=this.start._getTransformedByDeletion(e,t),a=this.end._getTransformedByDeletion(e,t);return null==o&&null==a?null:(null==o&&(o=e),null==a&&(a=e),new Ut(o,a))}static _createFromPositionAndShift(e,t){const o=e,a=e.getShiftedBy(t);return t>0?new this(o,a):new this(a,o)}static _createIn(e){return new this(sn._createAt(e,0),sn._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(sn._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(0===e.length)throw new Ne("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();const t=e[0];e.sort((h,g)=>h.start.isAfter(g.start)?1:-1);const o=e.indexOf(t),a=new this(t.start,t.end);if(o>0)for(let h=o-1;e[h].end.isEqual(a.start);h++)a.start=sn._createAt(e[h].start);for(let h=o+1;h<e.length&&e[h].start.isEqual(a.end);h++)a.end=sn._createAt(e[h].end);return a}static fromJSON(e,t){return new this(sn.fromJSON(e.start,t),sn.fromJSON(e.end,t))}}Ut.prototype.is=function(d){return"range"===d||"model:range"===d};class pp extends(Ie()){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const o=this._modelToViewMapping.get(t.modelPosition.parent);if(!o)throw new Ne("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(o,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const o=this.findMappedViewAncestor(t.viewPosition),a=this._viewToModelMapping.get(o),h=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,o);t.modelPosition=sn._createAt(a,h)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const o=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const a of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(a);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(o)==e&&this._modelToViewMapping.delete(o))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const o=this._markerNameToElements.get(t)||new Set;o.add(e);const a=this._elementToMarkerNames.get(e)||new Set;a.add(t),this._markerNameToElements.set(t,o),this._elementToMarkerNames.set(e,a)}unbindElementFromMarkerName(e,t){const o=this._markerNameToElements.get(t);o&&(o.delete(e),0==o.size&&this._markerNameToElements.delete(t));const a=this._elementToMarkerNames.get(e);a&&(a.delete(t),0==a.size&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Ut(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Bi(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const o={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",o),o.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const o=new Set;for(const a of t)if(a.is("attributeElement"))for(const h of a.getElementsWithSameId())o.add(h);else o.add(a);return o}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,o){if(o!=e)return this._toModelOffset(e.parent,e.index,o)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let a=0;for(let h=0;h<t;h++)a+=this.getModelLength(e.getChild(h));return a}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const o of e.getChildren())t+=this.getModelLength(o);return t}}findPositionIn(e,t){let o,a=0,h=0,g=0;if(e.is("$text"))return new kn(e,t);for(;h<t;)o=e.getChild(g),a=this.getModelLength(o),h+=a,g++;return h==t?this._moveViewPositionToTextNode(new kn(e,g)):this.findPositionIn(o,t-(h-a))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,o=e.nodeAfter;return t instanceof ko?new kn(t,t.data.length):o instanceof ko?new kn(o,0):e}}class gp{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=uh(t),e instanceof ou&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=uh(t),e instanceof ou&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=uh(t),e instanceof ou&&(e=this._getSymbolForTextProxy(e));const o=this._consumable.get(e);if(void 0===o)return null;const a=o.get(t);return void 0===a?null:a}revert(e,t){t=uh(t),e instanceof ou&&(e=this._getSymbolForTextProxy(e));const o=this.test(e,t);return!1===o?(this._consumable.get(e).set(t,!0),!0):!0!==o&&null}verifyAllConsumed(e){const t=[];for(const[o,a]of this._consumable)for(const[h,g]of a){const y=h.split(":")[0];g&&e==y&&t.push({event:h,item:o.name||o.description})}if(t.length)throw new Ne("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const o=this._textProxyRegistry.get(e.startOffset);if(o){const a=o.get(e.endOffset);a&&(t=a.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,o=e.endOffset,a=e.parent,h=Symbol("$textProxy:"+e.data);let g,y;return g=this._textProxyRegistry.get(t),g||(g=new Map,this._textProxyRegistry.set(t,g)),y=g.get(o),y||(y=new Map,g.set(o,y)),y.set(a,h),h}}function uh(d){const e=d.split(":");return"insert"==e[0]?e[0]:"addMarker"==e[0]||"removeMarker"==e[0]?d:e.length>1?e[0]+":"+e[1]:e[0]}class Kp extends(Ie()){constructor(e){super(),this._conversionApi=mn({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,o){const a=this._createConversionApi(o,e.getRefreshedItems());for(const g of e.getMarkersToRemove())this._convertMarkerRemove(g.name,g.range,a);const h=this._reduceChanges(e.getChanges());for(const g of h)"insert"===g.type?this._convertInsert(Ut._createFromPositionAndShift(g.position,g.length),a):"reinsert"===g.type?this._convertReinsert(Ut._createFromPositionAndShift(g.position,g.length),a):"remove"===g.type?this._convertRemove(g.position,g.length,g.name,a):this._convertAttribute(g.range,g.attributeKey,g.attributeOldValue,g.attributeNewValue,a);for(const g of a.mapper.flushUnboundMarkerNames()){const y=t.get(g).getRange();this._convertMarkerRemove(g,y,a),this._convertMarkerAdd(g,y,a)}for(const g of e.getMarkersToAdd())this._convertMarkerAdd(g.name,g.range,a);a.mapper.flushDeferredBindings(),a.consumable.verifyAllConsumed("insert")}convert(e,t,o,a={}){const h=this._createConversionApi(o,void 0,a);this._convertInsert(e,h);for(const[g,y]of t)this._convertMarkerAdd(g,y,h);h.consumable.verifyAllConsumed("insert")}convertSelection(e,t,o){const a=Array.from(t.getMarkersAtPosition(e.getFirstPosition())),h=this._createConversionApi(o);if(this._addConsumablesForSelection(h.consumable,e,a),this.fire("selection",{selection:e},h),e.isCollapsed){for(const g of a){const y=g.getRange();if(!om(e.getFirstPosition(),g,h.mapper))continue;const k={item:e,markerName:g.name,markerRange:y};h.consumable.test(e,"addMarker:"+g.name)&&this.fire(`addMarker:${g.name}`,k,h)}for(const g of e.getAttributeKeys()){const y={item:e,range:e.getFirstRange(),attributeKey:g,attributeOldValue:null,attributeNewValue:e.getAttribute(g)};h.consumable.test(e,"attribute:"+y.attributeKey)&&this.fire(`attribute:${y.attributeKey}:$text`,y,h)}}}_convertInsert(e,t,o={}){o.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const a of Array.from(e.getWalker({shallow:!0})).map(Ed))this._testAndFire("insert",a,t)}_convertRemove(e,t,o,a){this.fire(`remove:${o}`,{position:e,length:t},a)}_convertAttribute(e,t,o,a,h){this._addConsumablesForRange(h.consumable,e,`attribute:${t}`);for(const g of e){const y={item:g.item,range:Ut._createFromPositionAndShift(g.previousPosition,g.length),attributeKey:t,attributeOldValue:o,attributeNewValue:a};this._testAndFire(`attribute:${t}`,y,h)}}_convertReinsert(e,t){const o=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,o);for(const a of o.map(Ed))this._testAndFire("insert",va(mn({},a),{reconversion:!0}),t)}_convertMarkerAdd(e,t,o){if("$graveyard"==t.root.rootName)return;const a=`addMarker:${e}`;if(o.consumable.add(t,a),this.fire(a,{markerName:e,markerRange:t},o),o.consumable.consume(t,a)){this._addConsumablesForRange(o.consumable,t,a);for(const h of t.getItems()){if(!o.consumable.test(h,a))continue;const g={item:h,range:Ut._createOn(h),markerName:e,markerRange:t};this.fire(a,g,o)}}}_convertMarkerRemove(e,t,o){"$graveyard"!=t.root.rootName&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},o)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const o of t){const a=o.item;if(null===e.test(a,"insert")){e.add(a,"insert");for(const h of a.getAttributeKeys())e.add(a,"attribute:"+h)}}return e}_addConsumablesForRange(e,t,o){for(const a of t.getItems())e.add(a,o);return e}_addConsumablesForSelection(e,t,o){e.add(t,"selection");for(const a of o)e.add(t,"addMarker:"+a.name);for(const a of t.getAttributeKeys())e.add(t,"attribute:"+a);return e}_testAndFire(e,t,o){const a=`${e}:${(E=t).item.is("element")?E.item.name:"$text"}`,h=t.item.is("$textProxy")?o.consumable._getSymbolForTextProxy(t.item):t.item,g=this._firedEventsMap.get(o),y=g.get(h);var E;if(y){if(y.has(a))return;y.add(a)}else g.set(h,new Set([a]));this.fire(a,t,o)}_testAndFireAddAttributes(e,t){const o={item:e,range:Ut._createOn(e)};for(const a of o.item.getAttributeKeys())o.attributeKey=a,o.attributeOldValue=null,o.attributeNewValue=o.item.getAttribute(a),this._testAndFire(`attribute:${a}`,o,t)}_createConversionApi(e,t=new Set,o={}){const a=va(mn({},this._conversionApi),{consumable:new gp,writer:e,options:o,convertItem:h=>this._convertInsert(Ut._createOn(h),a),convertChildren:h=>this._convertInsert(Ut._createIn(h),a,{doNotAddConsumables:!0}),convertAttributes:h=>this._testAndFireAddAttributes(h,a),canReuseView:h=>!t.has(a.mapper.toModelElement(h))});return this._firedEventsMap.set(a,new Map),a}}function om(d,e,t){const o=e.getRange(),a=Array.from(d.getAncestors());return a.shift(),a.reverse(),!a.some(h=>{if(o.containsItem(h))return!!t.toViewElement(h).getCustomProperty("addHighlight")})}function Ed(d){return{item:d.item,range:Ut._createFromPositionAndShift(d.previousPosition,d.length)}}class Jl extends(Ie($s)){constructor(...e){super(),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let o=!1;for(const a of e._ranges)if(t.isEqual(a)){o=!0;break}if(!o)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Ut(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Ut(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Ut(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,o,a]=e;if("object"==typeof o&&(a=o,o=void 0),null===t)this._setRanges([]);else if(t instanceof Jl)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Ut)this._setRanges([t],!!a&&!!a.backward);else if(t instanceof sn)this._setRanges([new Ut(t)]);else if(t instanceof Eu){const h=!!a&&!!a.backward;let g;if("in"==o)g=Ut._createIn(t);else if("on"==o)g=Ut._createOn(t);else{if(void 0===o)throw new Ne("model-selection-setto-required-second-parameter",[this,t]);g=new Ut(sn._createAt(t,o))}this._setRanges([g],h)}else{if(!Mi(t))throw new Ne("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,a&&!!a.backward)}}_setRanges(e,t=!1){const o=Array.from(e),a=o.some(h=>{if(!(h instanceof Ut))throw new Ne("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(g=>!g.isEqual(h))});(o.length!==this._ranges.length||a)&&(this._replaceAllRanges(o),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(null===this.anchor)throw new Ne("model-selection-setfocus-no-ranges",[this,e]);const o=sn._createAt(e,t);if("same"==o.compareWith(this.focus))return;const a=this.anchor;this._ranges.length&&this._popRange(),"before"==o.compareWith(a)?(this._pushRange(new Ut(o,a)),this._lastRangeBackward=!0):(this._pushRange(new Ut(a,o)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const o=$h(t.start,e);o&&Mu(o,t)&&(yield o);for(const h of t.getWalker()){const g=h.item;"elementEnd"==h.type&&zc(g,e,t)&&(yield g)}const a=$h(t.end,e);a&&!t.end.isTouching(sn._createAt(a,0))&&Mu(a,t)&&(yield a)}}containsEntireContent(e=this.anchor.root){const t=sn._createAt(e,0),o=sn._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&o.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Ut(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new Ne("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function mp(d,e){return!e.has(d)&&(e.add(d),d.root.document.model.schema.isBlock(d)&&!!d.parent)}function zc(d,e,t){return mp(d,e)&&Mu(d,t)}function $h(d,e){const t=d.parent.root.document.model.schema,o=d.parent.getAncestors({parentFirst:!0,includeSelf:!0});let a=!1;const h=o.find(g=>!a&&(a=t.isLimit(g),!a&&mp(g,e)));return o.forEach(g=>e.add(g)),h}function Mu(d,e){const t=function(o){const a=o.root.document.model.schema;let h=o.parent;for(;h;){if(a.isBlock(h))return h;h=h.parent}}(d);return!t||!e.containsRange(Ut._createOn(t),!0)}Jl.prototype.is=function(d){return"selection"===d||"model:selection"===d};class pc extends(Ie(Ut)){constructor(e,t){super(e,t),Yp.call(this)}detach(){this.stopListening()}toRange(){return new Ut(this.start,this.end)}static fromRange(e){return new pc(e.start,e.end)}}function Yp(){this.listenTo(this.root.document.model,"applyOperation",(d,e)=>{const t=e[0];t.isDocumentOperation&&ed.call(this,t)},{priority:"low"})}function ed(d){const e=this.getTransformedByOperation(d),t=Ut._createFromRanges(e),o=!t.isEqual(this),a=function(g,y){switch(y.type){case"insert":return g.containsPosition(y.position);case"move":case"remove":case"reinsert":case"merge":return g.containsPosition(y.sourcePosition)||g.start.isEqual(y.sourcePosition)||g.containsPosition(y.targetPosition);case"split":return g.containsPosition(y.splitPosition)||g.containsPosition(y.insertionPosition)}return!1}(this,d);let h=null;if(o){"$graveyard"==t.root.rootName&&(h="remove"==d.type?d.sourcePosition:d.deletionPosition);const g=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",g,{deletionPosition:h})}else a&&this.fire("change:content",this.toRange(),{deletionPosition:h})}pc.prototype.is=function(d){return"liveRange"===d||"model:liveRange"===d||"range"==d||"model:range"===d};const gc="selection:";class Xl extends(Ie($s)){constructor(e){super(),this._selection=new ec(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return gc+e}static _isStoreAttributeKey(e){return e.startsWith(gc)}}Xl.prototype.is=function(d){return"selection"===d||"model:selection"==d||"documentSelection"==d||"model:documentSelection"==d};class ec extends Jl{constructor(e){super(),this.markers=new xn({idProperty:"name"}),this._model=e.model,this._document=e,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this.listenTo(this._model,"applyOperation",(t,o)=>{const a=o[0];a.isDocumentOperation&&"marker"!=a.type&&"rename"!=a.type&&"noop"!=a.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,o,a,h)=>{this._updateMarker(o,h)}),this.listenTo(this._document,"change",(t,o)=>{!function(a,h){const g=a.document.differ;for(const y of g.getChanges()){if("insert"!=y.type)continue;const k=y.position.parent;y.length===k.maxOffset&&a.enqueueChange(h,E=>{const D=Array.from(k.getAttributeKeys()).filter(L=>L.startsWith(gc));for(const L of D)E.removeAttribute(L,k)})}}(this._model,o)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){this._setAttribute(e,t)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}removeAttribute(e){this._removeAttribute(e)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}overrideGravity(){const e=yt();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new Ne("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new Ne("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=pc.fromRange(e);return t.on("change:range",(o,a,h)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=h.deletionPosition;const g=this._ranges.indexOf(t);this._ranges.splice(g,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const a of this._model.markers){const h=a.name.split(":",1)[0];if(!this._observedMarkers.has(h))continue;const g=a.getRange();for(const y of this.getRanges())g.containsRange(y,!y.isCollapsed)&&e.push(a)}const o=Array.from(this.markers);for(const a of e)this.markers.has(a)||(this.markers.add(a),t=!0);for(const a of Array.from(this.markers))e.includes(a)||(this.markers.remove(a),t=!0);t&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateMarker(e,t){const o=e.name.split(":",1)[0];if(!this._observedMarkers.has(o))return;let a=!1;const h=Array.from(this.markers),g=this.markers.has(e);if(t){let y=!1;for(const k of this.getRanges())if(t.containsRange(k,!k.isCollapsed)){y=!0;break}y&&!g?(this.markers.add(e),a=!0):!y&&g&&(this.markers.remove(e),a=!0)}else g&&(this.markers.remove(e),a=!0);a&&this.fire("change:marker",{oldMarkers:h,directChange:!1})}_updateAttributes(e){const t=On(this._getSurroundingAttributes()),o=On(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[h,g]of this._attributePriority)"low"==g&&(this._attrs.delete(h),this._attributePriority.delete(h));this._setAttributesTo(t);const a=[];for(const[h,g]of this.getAttributes())o.has(h)&&o.get(h)===g||a.push(h);for(const[h]of o)this.hasAttribute(h)||a.push(h);a.length>0&&this.fire("change:attribute",{attributeKeys:a,directChange:!1})}_setAttribute(e,t,o=!0){const a=o?"normal":"low";return("low"!=a||"normal"!=this._attributePriority.get(e))&&super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,a),!0)}_removeAttribute(e,t=!0){const o=t?"normal":"low";return!("low"==o&&"normal"==this._attributePriority.get(e)||(this._attributePriority.set(e,o),!super.hasAttribute(e)||(this._attrs.delete(e),0)))}_setAttributesTo(e){const t=new Set;for(const[o,a]of this.getAttributes())e.get(o)!==a&&this._removeAttribute(o,!1);for(const[o,a]of e)this._setAttribute(o,a,!1)&&t.add(o);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(gc)&&(yield[t.substr(gc.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;let o=null;if(this.isCollapsed){const a=e.textNode?e.textNode:e.nodeBefore,h=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(o=Vc(a)),o||(o=Vc(h)),!this.isGravityOverridden&&!o){let g=a;for(;g&&!t.isInline(g)&&!o;)g=g.previousSibling,o=Vc(g)}if(!o){let g=h;for(;g&&!t.isInline(g)&&!o;)g=g.nextSibling,o=Vc(g)}o||(o=this.getStoredAttributes())}else{const a=this.getFirstRange();for(const h of a){if(h.item.is("element")&&t.isObject(h.item))break;if("text"==h.type){o=h.item.getAttributes();break}}}return o}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function Vc(d){return d instanceof ou||d instanceof Er?d.getAttributes():null}class Md{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}const au=function(d){return ut(d,5)};class Dd extends Md{elementToElement(e){return this.add(function(t){const o=Qp(t.model),a=lu(t.view,"container");return o.attributes.length&&(o.children=!0),h=>{h.on(`insert:${o.name}`,function(g,y=bp){return(k,E,D)=>{if(!y(E.item,D.consumable,{preflight:!0}))return;const L=g(E.item,D,E);if(!L)return;y(E.item,D.consumable);const W=D.mapper.toViewPosition(E.range.start);D.mapper.bindElements(E.item,L),D.writer.insert(W,L),D.convertAttributes(E.item),tg(L,E.item.getChildren(),D,{reconversion:E.reconversion})}}(a,eg(o)),{priority:t.converterPriority||"normal"}),(o.children||o.attributes.length)&&h.on("reduceChanges",Du(o),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const o=Qp(t.model),a=lu(t.view,"container");return o.children=!0,h=>{if(h._conversionApi.schema.checkChild(o.name,"$text"))throw new Ne("conversion-element-to-structure-disallowed-text",h,{elementName:o.name});var g,y;h.on(`insert:${o.name}`,(g=a,y=eg(o),(k,E,D)=>{if(!y(E.item,D.consumable,{preflight:!0}))return;const L=new Map;var Ae,Oe,He;D.writer._registerSlotFactory((Ae=E.item,Oe=L,He=D,(pt,Tt="children")=>{const Zt=pt.createContainerElement("$slot");let Mn=null;if("children"===Tt)Mn=Array.from(Ae.getChildren());else{if("function"!=typeof Tt)throw new Ne("conversion-slot-mode-unknown",He.dispatcher,{modeOrFilter:Tt});Mn=Array.from(Ae.getChildren()).filter(er=>Tt(er))}return Oe.set(Zt,Mn),Zt}));const W=g(E.item,D,E);if(D.writer._clearSlotFactory(),!W)return;(function(Ae,Oe,He){const pt=Array.from(Oe.values()).flat(),Tt=new Set(pt);if(Tt.size!=pt.length)throw new Ne("conversion-slot-filter-overlap",He.dispatcher,{element:Ae});if(Tt.size!=Ae.childCount)throw new Ne("conversion-slot-filter-incomplete",He.dispatcher,{element:Ae})})(E.item,L,D),y(E.item,D.consumable);const de=D.mapper.toViewPosition(E.range.start);D.mapper.bindElements(E.item,W),D.writer.insert(de,W),D.convertAttributes(E.item),function(Ae,Oe,He,pt){He.mapper.on("modelToViewPosition",Mn,{priority:"highest"});let Tt=null,Zt=null;for([Tt,Zt]of Oe)tg(Ae,Zt,He,pt),He.writer.move(He.writer.createRangeIn(Tt),He.writer.createPositionBefore(Tt)),He.writer.remove(Tt);function Mn(er,mr){const ll=Zt.indexOf(mr.modelPosition.nodeAfter);ll<0||(mr.viewPosition=mr.mapper.findPositionIn(Tt,ll))}He.mapper.off("modelToViewPosition",Mn)}(W,L,D,{reconversion:E.reconversion})}),{priority:t.converterPriority||"normal"}),h.on("reduceChanges",Du(o),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){let o=(t=au(t)).model;"string"==typeof o&&(o={key:o});let a=`attribute:${o.key}`;if(o.name&&(a+=":"+o.name),o.values)for(const g of o.values)t.view[g]=lu(t.view[g],"attribute");else t.view=lu(t.view,"attribute");const h=Jp(t);return g=>{var y;g.on(a,(y=h,(k,E,D)=>{if(!D.consumable.test(E.item,k.name))return;const L=y(E.attributeOldValue,D,E),W=y(E.attributeNewValue,D,E);if(!L&&!W)return;D.consumable.consume(E.item,k.name);const de=D.writer;if(E.item instanceof Jl||E.item instanceof Xl)de.wrap(de.document.selection.getFirstRange(),W);else{let Oe=D.mapper.toViewRange(E.range);null!==E.attributeOldValue&&L&&(Oe=de.unwrap(Oe,L)),null!==E.attributeNewValue&&W&&de.wrap(Oe,W)}}),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){let o=(t=au(t)).model;"string"==typeof o&&(o={key:o});let a=`attribute:${o.key}`;if(o.name&&(a+=":"+o.name),o.values)for(const g of o.values)t.view[g]=Xp(t.view[g]);else t.view=Xp(t.view);const h=Jp(t);return g=>{var y;g.on(a,(y=h,(k,E,D)=>{if(!D.consumable.test(E.item,k.name))return;const L=y(E.attributeOldValue,D,E),W=y(E.attributeNewValue,D,E);if(!L&&!W)return;D.consumable.consume(E.item,k.name);const de=D.mapper.toViewElement(E.item),Ae=D.writer;if(!de)throw new Ne("conversion-attribute-to-attribute-on-text",D.dispatcher,E);if(null!==E.attributeOldValue&&L)if("class"==L.key){const Oe=ce(L.value);for(const He of Oe)Ae.removeClass(He,de)}else if("style"==L.key){const Oe=Object.keys(L.value);for(const He of Oe)Ae.removeStyle(He,de)}else Ae.removeAttribute(L.key,de);if(null!==E.attributeNewValue&&W)if("class"==W.key){const Oe=ce(W.value);for(const He of Oe)Ae.addClass(He,de)}else if("style"==W.key){const Oe=Object.keys(W.value);for(const He of Oe)Ae.setStyle(He,W.value[He],de)}else Ae.setAttribute(W.key,W.value,de)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const o=lu(t.view,"ui");return a=>{var h;a.on(`addMarker:${t.model}`,(h=o,(g,y,k)=>{y.isOpening=!0;const E=h(y,k);y.isOpening=!1;const D=h(y,k);if(!E||!D)return;const L=y.markerRange;if(L.isCollapsed&&!k.consumable.consume(L,g.name))return;for(const Ae of L)if(!k.consumable.consume(Ae.item,g.name))return;const W=k.mapper,de=k.writer;de.insert(W.toViewPosition(L.start),E),k.mapper.bindElementToMarker(E,y.markerName),L.isCollapsed||(de.insert(W.toViewPosition(L.end),D),k.mapper.bindElementToMarker(D,y.markerName)),g.stop()}),{priority:t.converterPriority||"normal"}),a.on(`removeMarker:${t.model}`,(g,y,k)=>{const E=k.mapper.markerNameToElements(y.markerName);if(E){for(const D of E)k.mapper.unbindElementFromMarkerName(D,y.markerName),k.writer.clear(k.writer.createRangeOn(D),D);k.writer.clearClonedElementsGroup(y.markerName),g.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return o=>{var a,h;o.on(`addMarker:${t.model}`,(a=t.view,(h,g,y)=>{if(!g.item||!(g.item instanceof Jl||g.item instanceof Xl||g.item.is("$textProxy")))return;const k=Wh(a,g,y);if(!k||!y.consumable.consume(g.item,h.name))return;const E=y.writer,D=Td(E,k);if(g.item instanceof Jl||g.item instanceof Xl)E.wrap(E.document.selection.getFirstRange(),D);else{const W=y.mapper.toViewRange(g.range),de=E.wrap(W,D);for(const Ae of de.getItems())if(Ae.is("attributeElement")&&Ae.isSimilar(D)){y.mapper.bindElementToMarker(Ae,g.markerName);break}}}),{priority:t.converterPriority||"normal"}),o.on(`addMarker:${t.model}`,(h=t.view,(g,y,k)=>{if(!(y.item&&y.item instanceof Io))return;const E=Wh(h,y,k);if(!E||!k.consumable.test(y.item,g.name))return;const D=k.mapper.toViewElement(y.item);if(D&&D.getCustomProperty("addHighlight")){k.consumable.consume(y.item,g.name);for(const L of Ut._createIn(y.item))k.consumable.consume(L.item,g.name);D.getCustomProperty("addHighlight")(D,E,k.writer),k.mapper.bindElementToMarker(D,y.markerName)}}),{priority:t.converterPriority||"normal"}),o.on(`removeMarker:${t.model}`,function(h){return(g,y,k)=>{if(y.markerRange.isCollapsed)return;const E=Wh(h,y,k);if(!E)return;const D=Td(k.writer,E),L=k.mapper.markerNameToElements(y.markerName);if(L){for(const W of L)k.mapper.unbindElementFromMarkerName(W,y.markerName),W.is("attributeElement")?k.writer.unwrap(k.writer.createRangeOn(W),D):W.getCustomProperty("removeHighlight")(W,E.id,k.writer);k.writer.clearClonedElementsGroup(y.markerName),g.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){const o=(t=au(t)).model;let a=t.view;return a||(a=h=>({group:o,name:h.substr(t.model.length+1)})),h=>{var g,y;h.on(`addMarker:${o}`,(g=a,(y,k,E)=>{const D=g(k.markerName,E);if(!D)return;const L=k.markerRange;E.consumable.consume(L,y.name)&&(_p(L,!1,E,k,D),_p(L,!0,E,k,D),y.stop())}),{priority:t.converterPriority||"normal"}),h.on(`removeMarker:${o}`,(y=a,(k,E,D)=>{const L=y(E.markerName,D);if(!L)return;const W=D.mapper.markerNameToElements(E.markerName);if(W){for(const Ae of W)D.mapper.unbindElementFromMarkerName(Ae,E.markerName),Ae.is("containerElement")?(de(`data-${L.group}-start-before`,Ae),de(`data-${L.group}-start-after`,Ae),de(`data-${L.group}-end-before`,Ae),de(`data-${L.group}-end-after`,Ae)):D.writer.clear(D.writer.createRangeOn(Ae),Ae);D.writer.clearClonedElementsGroup(E.markerName),k.stop()}function de(Ae,Oe){if(Oe.hasAttribute(Ae)){const He=new Set(Oe.getAttribute(Ae).split(","));He.delete(L.name),0==He.size?D.writer.removeAttribute(Ae,Oe):D.writer.setAttribute(Ae,Array.from(He).join(","),Oe)}}}),{priority:t.converterPriority||"normal"})}}(e))}}function Td(d,e){const t=d.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),"number"==typeof e.priority&&(t._priority=e.priority),t._id=e.id,t}function _p(d,e,t,o,a){const h=e?d.start:d.end,g=h.nodeAfter&&h.nodeAfter.is("element")?h.nodeAfter:null,y=h.nodeBefore&&h.nodeBefore.is("element")?h.nodeBefore:null;if(g||y){let k,E;e&&g||!e&&!y?(k=g,E=!0):(k=y,E=!1);const D=t.mapper.toViewElement(k);if(D)return void function(L,W,de,Ae,Oe,He){const pt=`data-${He.group}-${W?"start":"end"}-${de?"before":"after"}`,Tt=L.hasAttribute(pt)?L.getAttribute(pt).split(","):[];Tt.unshift(He.name),Ae.writer.setAttribute(pt,Tt.join(","),L),Ae.mapper.bindElementToMarker(L,Oe.markerName)}(D,e,E,t,o,a)}!function(k,E,D,L,W){const Oe=D.writer.createUIElement(`${W.group}-${E?"start":"end"}`,W.name?{name:W.name}:null);D.writer.insert(k,Oe),D.mapper.bindElementToMarker(Oe,L.markerName)}(t.mapper.toViewPosition(h),e,t,o,a)}function Qp(d){return"string"==typeof d&&(d={name:d}),d.attributes?Array.isArray(d.attributes)||(d.attributes=[d.attributes]):d.attributes=[],d.children=!!d.children,d}function lu(d,e){return"function"==typeof d?d:(t,o)=>function(a,h,g){let y;"string"==typeof a&&(a={name:a});const k=h.writer,E=Object.assign({},a.attributes);if(y="container"==g?k.createContainerElement(a.name,E):"attribute"==g?k.createAttributeElement(a.name,E,{priority:a.priority||Ll.DEFAULT_PRIORITY}):k.createUIElement(a.name,E),a.styles){const D=Object.keys(a.styles);for(const L of D)k.setStyle(L,a.styles[L],y)}if(a.classes){const D=a.classes;if("string"==typeof D)k.addClass(D,y);else for(const L of D)k.addClass(L,y)}return y}(d,o,e)}function Jp(d){return d.model.values?(e,t,o)=>{const a=d.view[e];return a?a(e,t,o):null}:d.view}function Xp(d){return"string"==typeof d?e=>({key:d,value:e}):"object"==typeof d?d.value?()=>d:e=>({key:d.key,value:e}):d}function Wh(d,e,t){const o="function"==typeof d?d(e,t):d;return o?(o.priority||(o.priority=10),o.id||(o.id=e.markerName),o):null}function Du(d){const e=function(t){return(o,a)=>{if(!o.is("element",t.name))return!1;if("attribute"==a.type){if(t.attributes.includes(a.attributeKey))return!0}else if(t.children)return!0;return!1}}(d);return(t,o)=>{const a=[];o.reconvertedElements||(o.reconvertedElements=new Set);for(const h of o.changes){const g="attribute"==h.type?h.range.start.nodeAfter:h.position.parent;if(g&&e(g,h)){if(!o.reconvertedElements.has(g)){o.reconvertedElements.add(g);const y=sn._createBefore(g);a.push({type:"remove",name:g.name,position:y,length:1},{type:"reinsert",name:g.name,position:y,length:1})}}else a.push(h)}o.changes=a}}function eg(d){return(e,t,o={})=>{const a=["insert"];for(const h of d.attributes)e.hasAttribute(h)&&a.push(`attribute:${h}`);return!!a.every(h=>t.test(e,h))&&(o.preflight||a.forEach(h=>t.consume(e,h)),!0)}}function tg(d,e,t,o){for(const a of e)ng(d.root,a,t,o)||t.convertItem(a)}function ng(d,e,t,o){const{writer:a,mapper:h}=t;if(!o.reconversion)return!1;const g=h.toViewElement(e);return!(!g||g.root==d||!t.canReuseView(g)||(a.move(a.createRangeOn(g),h.toViewPosition(sn._createBefore(e))),0))}function bp(d,e,{preflight:t}={}){return t?e.test(d,"insert"):e.consume(d,"insert")}function Uc(d){const{schema:e,document:t}=d.model;for(const o of t.getRootNames()){const a=t.getRoot(o);if(a.isEmpty&&!e.checkChild(a,"$text")&&e.checkChild(a,"paragraph"))return d.insertElement("paragraph",a),!0}return!1}function Zh(d,e,t){const o=t.createContext(d);return!!t.checkChild(o,"paragraph")&&!!t.checkChild(o.push("paragraph"),e)}function Of(d,e){const t=e.createElement("paragraph");return e.insert(t,d),e.createPositionAt(t,0)}class Nf extends Md{elementToElement(e){return this.add(Kh(e))}elementToAttribute(e){return this.add(function(t){dh(t=au(t));const o=Id(t,!1),a=Rf(t.view),h=a?`element:${a}`:"element";return g=>{g.on(h,o,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){let o=null;("string"==typeof(t=au(t)).view||t.view.key)&&(o=function(h){"string"==typeof h.view&&(h.view={key:h.view});const g=h.view.key;let y;return y="class"==g||"style"==g?{["class"==g?"classes":"styles"]:h.view.value}:{attributes:{[g]:void 0===h.view.value?/[\s\S]*/:h.view.value}},h.view.name&&(y.name=h.view.name),h.view=y,g}(t)),dh(t,o);const a=Id(t,!0);return h=>{h.on("element",a,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const o=(a=t.model,(h,g)=>{const y="string"==typeof a?a:a(h,g);return g.writer.createElement("$marker",{"data-name":y})});var a;return Kh(va(mn({},t),{model:o}))}(e))}dataToMarker(e){return this.add(function(t){(t=au(t)).model||(t.model=g=>g?t.view+":"+g:t.view);const o={view:t.view,model:t.model},a=Sd(sm(o,"start")),h=Sd(sm(o,"end"));return g=>{g.on(`element:${t.view}-start`,a,{priority:t.converterPriority||"normal"}),g.on(`element:${t.view}-end`,h,{priority:t.converterPriority||"normal"});const y=rt.get("low"),k=rt.get("highest"),E=rt.get(t.converterPriority)/k;var D;g.on("element",(D=o,(L,W,de)=>{const Ae=`data-${D.view}`;function Oe(He,pt){for(const Tt of pt){const Zt=D.model(Tt,de),Mn=de.writer.createElement("$marker",{"data-name":Zt});de.writer.insert(Mn,He),W.modelCursor=W.modelCursor.isEqual(He)?W.modelCursor.getShiftedBy(1):W.modelCursor._getTransformedByInsertion(He,1),W.modelRange=W.modelRange._getTransformedByInsertion(He,1)[0]}}(de.consumable.test(W.viewItem,{attributes:Ae+"-end-after"})||de.consumable.test(W.viewItem,{attributes:Ae+"-start-after"})||de.consumable.test(W.viewItem,{attributes:Ae+"-end-before"})||de.consumable.test(W.viewItem,{attributes:Ae+"-start-before"}))&&(W.modelRange||Object.assign(W,de.convertChildren(W.viewItem,W.modelCursor)),de.consumable.consume(W.viewItem,{attributes:Ae+"-end-after"})&&Oe(W.modelRange.end,W.viewItem.getAttribute(Ae+"-end-after").split(",")),de.consumable.consume(W.viewItem,{attributes:Ae+"-start-after"})&&Oe(W.modelRange.end,W.viewItem.getAttribute(Ae+"-start-after").split(",")),de.consumable.consume(W.viewItem,{attributes:Ae+"-end-before"})&&Oe(W.modelRange.start,W.viewItem.getAttribute(Ae+"-end-before").split(",")),de.consumable.consume(W.viewItem,{attributes:Ae+"-start-before"})&&Oe(W.modelRange.start,W.viewItem.getAttribute(Ae+"-start-before").split(",")))}),{priority:y+E})}}(e))}}function Kh(d){const e=Sd(d=au(d)),t=Rf(d.view),o=t?`element:${t}`:"element";return a=>{a.on(o,e,{priority:d.converterPriority||"normal"})}}function Rf(d){return"string"==typeof d?d:"object"==typeof d&&"string"==typeof d.name?d.name:null}function Sd(d){const e=new Ds(d.view);return(t,o,a)=>{const h=e.match(o.viewItem);if(!h)return;const g=h.match;if(g.name=!0,!a.consumable.test(o.viewItem,g))return;const y=(D=a,(k=d.model)instanceof Function?k(o.viewItem,D):D.writer.createElement(k));var k,D;y&&a.safeInsert(y,o.modelCursor)&&(a.consumable.consume(o.viewItem,g),a.convertChildren(o.viewItem,y),a.updateConversionResult(y,o))}}function dh(d,e=null){d.model={key:"object"!=typeof d.model?d.model:d.model.key,value:"object"!=typeof d.model||void 0===d.model.value?null===e||(h=>h.getAttribute(e)):d.model.value}}function Id(d,e){const t=new Ds(d.view);return(o,a,h)=>{if(!a.modelRange&&e)return;const g=t.match(a.viewItem);if(!g||(function(D,L){const W="function"==typeof D?D(L):D;return!("object"==typeof W&&!Rf(W)||W.classes||W.attributes||W.styles)}(d.view,a.viewItem)?g.match.name=!0:delete g.match.name,!h.consumable.test(a.viewItem,g.match)))return;const y=d.model.key,k="function"==typeof d.model.value?d.model.value(a.viewItem,h):d.model.value;null!==k&&(a.modelRange||Object.assign(a,h.convertChildren(a.viewItem,a.modelCursor)),function(D,L,W,de){let Ae=!1;for(const Oe of Array.from(D.getItems({shallow:W})))de.schema.checkAttribute(Oe,L.key)&&(Ae=!0,Oe.hasAttribute(L.key)||de.writer.setAttribute(L.key,L.value,Oe));return Ae}(a.modelRange,{key:y,value:k},e,h)&&(h.consumable.test(a.viewItem,{name:!0})&&(g.match.name=!0),h.consumable.consume(a.viewItem,g.match)))}}function sm(d,e){return{view:`${d.view}-${e}`,model:(t,o)=>{const a=t.getAttribute("name"),h=d.model(a,o);return o.writer.createElement("$marker",{"data-name":h})}}}class ig extends(Tn()){constructor(e,t){super(),this.model=e,this.view=new rm(t),this.mapper=new pp,this.downcastDispatcher=new Kp({mapper:this.mapper,schema:e.schema});const o=this.model.document,a=o.selection,h=this.model.markers;var g,y;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(o,"change",()=>{this.view.change(g=>{this.downcastDispatcher.convertChanges(o.differ,h,g),this.downcastDispatcher.convertSelection(a,h,g)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(g=this.model,y=this.mapper,(k,E)=>{const D=E.newSelection,L=[];for(const de of D.getRanges())L.push(y.toModelRange(de));const W=g.createSelection(L,{backward:D.isBackward});W.isEqual(g.document.selection)||g.change(de=>{de.setSelection(W)})})),this.downcastDispatcher.on("insert:$text",(g,y,k)=>{if(!k.consumable.consume(y.item,g.name))return;const E=k.writer,D=k.mapper.toViewPosition(y.range.start),L=E.createText(y.item.data);E.insert(D,L)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(g,y,k)=>{k.convertAttributes(y.item),y.reconversion||!y.item.is("element")||y.item.isEmpty||k.convertChildren(y.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(g,y,k)=>{const E=k.mapper.toViewPosition(y.position),D=y.position.getShiftedBy(y.length),L=k.mapper.toViewPosition(D,{isPhantom:!0}),W=k.writer.createRange(E,L),de=k.writer.remove(W.getTrimmed());for(const Ae of k.writer.createRangeIn(de).getItems())k.mapper.unbindViewElement(Ae,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(g,y,k)=>{const E=k.writer,D=E.document.selection;for(const L of D.getRanges())L.isCollapsed&&L.end.parent.isAttached()&&k.writer.mergeAttributes(L.start);E.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(g,y,k)=>{const E=y.selection;if(E.isCollapsed||!k.consumable.consume(E,"selection"))return;const D=[];for(const L of E.getRanges())D.push(k.mapper.toViewRange(L));k.writer.setSelection(D,{backward:E.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(g,y,k)=>{const E=y.selection;if(!E.isCollapsed||!k.consumable.consume(E,"selection"))return;const D=k.writer,L=E.getFirstPosition(),W=k.mapper.toViewPosition(L),de=D.breakAttributes(W);D.setSelection(de)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(g=>{if("$graveyard"==g.rootName)return null;const y=new Fa(this.view.document,g.name);return y.rootName=g.rootName,this.mapper.bindElements(g,y),y})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t="string"==typeof e?e:e.name,o=this.model.markers.get(t);if(!o)throw new Ne("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(o)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class wl{constructor(){this._consumables=new Map}add(e,t){let o;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?o=this._consumables.get(e):(o=new am(e),this._consumables.set(e,o)),o.add(t))}test(e,t){const o=this._consumables.get(e);return void 0===o?null:e.is("$text")||e.is("documentFragment")?o:o.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const o=this._consumables.get(e);void 0!==o&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):o.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},o=e.getAttributeKeys();for(const g of o)"style"!=g&&"class"!=g&&t.attributes.push(g);const a=e.getClassNames();for(const g of a)t.classes.push(g);const h=e.getStyleNames();for(const g of h)t.styles.push(g);return t}static createFrom(e,t){if(t||(t=new wl),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,wl.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const o of e.getChildren())t=wl.createFrom(o,t);return t}}const Ff=["attributes","classes","styles"];class am{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Ff)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Ff)if(t in e){const o=this._test(t,e[t]);if(!0!==o)return o}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Ff)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Ff)t in e&&this._revert(t,e[t])}_add(e,t){const o=Ni(t)?t:[t],a=this._consumables[e];for(const h of o){if("attributes"===e&&("class"===h||"style"===h))throw new Ne("viewconsumable-invalid-attribute",this);if(a.set(h,!0),"styles"===e)for(const g of this.element.document.stylesProcessor.getRelatedStyles(h))a.set(g,!0)}}_test(e,t){const o=Ni(t)?t:[t],a=this._consumables[e];for(const h of o)if("attributes"!==e||"class"!==h&&"style"!==h){const g=a.get(h);if(void 0===g)return null;if(!g)return!1}else{const g="class"==h?"classes":"styles",y=this._test(g,[...this._consumables[g].keys()]);if(!0!==y)return y}return!0}_consume(e,t){const o=Ni(t)?t:[t],a=this._consumables[e];for(const h of o)if("attributes"!==e||"class"!==h&&"style"!==h){if(a.set(h,!1),"styles"==e)for(const g of this.element.document.stylesProcessor.getRelatedStyles(h))a.set(g,!1)}else{const g="class"==h?"classes":"styles";this._consume(g,[...this._consumables[g].keys()])}}_revert(e,t){const o=Ni(t)?t:[t],a=this._consumables[e];for(const h of o)if("attributes"!==e||"class"!==h&&"style"!==h)!1===a.get(h)&&a.set(h,!0);else{const g="class"==h?"classes":"styles";this._revert(g,[...this._consumables[g].keys()])}}}class vp extends(Tn()){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Tu(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Tu(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new Ne("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new Ne("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t="string"==typeof e?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!(!t||!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!(!t||!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!(!t||!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const o=this.getDefinition(e.last);return!!o&&o.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof sn){const o=e.nodeBefore,a=e.nodeAfter;if(!(o instanceof Io))throw new Ne("schema-check-merge-no-element-before",this);if(!(a instanceof Io))throw new Ne("schema-check-merge-no-element-after",this);return this.checkMerge(o,a)}for(const o of t.getChildren())if(!this.checkChild(e,o))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[o,a])=>{if(!a)return;const h=e(o,a);"boolean"==typeof h&&(t.stop(),t.return=h)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[o,a])=>{const h=e(o,a);"boolean"==typeof h&&(t.stop(),t.return=h)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(t=e instanceof sn?e.parent:(e instanceof Ut?[e]:Array.from(e.getRanges())).reduce((o,a)=>{const h=a.getCommonAncestor();return o?o.getCommonAncestor(h,{includeSelf:!0}):h},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const o=[...e.getFirstPosition().getAncestors(),new Er("",e.getAttributes())];return this.checkAttribute(o,t)}{const o=e.getRanges();for(const a of o)for(const h of a)if(this.checkAttribute(h.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(o){for(const a of o)yield*a.getMinimalFlatRanges()}(e);for(const o of e)yield*this._getValidRangesForRange(o,t)}getNearestSelectionRange(e,t="both"){if(this.checkChild(e,"$text"))return new Ut(e);let o,a;const h=e.getAncestors().reverse().find(g=>this.isLimit(g))||e.root;"both"!=t&&"backward"!=t||(o=new Oa({boundaries:Ut._createIn(h),startPosition:e,direction:"backward"})),"both"!=t&&"forward"!=t||(a=new Oa({boundaries:Ut._createIn(h),startPosition:e}));for(const g of function*(y,k){let E=!1;for(;!E;){if(E=!0,y){const D=y.next();D.done||(E=!1,yield{walker:y,value:D.value})}if(k){const D=k.next();D.done||(E=!1,yield{walker:k,value:D.value})}}}(o,a)){const k=g.value;if(k.type==(g.walker==o?"elementEnd":"elementStart")&&this.isObject(k.item))return Ut._createOn(k.item);if(this.checkChild(k.nextPosition,"$text"))return new Ut(k.nextPosition)}return null}findAllowedParent(e,t){let o=e.parent;for(;o;){if(this.checkChild(o,t))return o;if(this.isLimit(o))return null;o=o.parent}return null}setAllowedAttributes(e,t,o){const a=o.model;for(const[h,g]of Object.entries(t))a.schema.checkAttribute(e,h)&&o.setAttribute(h,g,e)}removeDisallowedAttributes(e,t){for(const o of e)if(o.is("$text"))lm(this,o,t);else{const a=Ut._createIn(o).getPositions();for(const h of a)lm(this,h.nodeBefore||h.parent,t)}}getAttributesWithProperty(e,t,o){const a={};for(const[h,g]of e.getAttributes()){const y=this.getAttributeProperties(h);void 0!==y[t]&&(void 0!==o&&o!==y[t]||(a[h]=g))}return a}createContext(e){return new Tu(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,o=Object.keys(t);for(const a of o)e[a]=D_(t[a],a);for(const a of o)rg(e,a);for(const a of o)Gm(e,a);for(const a of o)og(e,a);for(const a of o)sg(e,a),Yh(e,a);for(const a of o)Cl(e,a),yp(e,a),ag(e,a);this._compiledDefinitions=e}_checkContextMatch(e,t,o=t.length-1){const a=t.getItem(o);if(e.allowIn.includes(a.name)){if(0==o)return!0;{const h=this.getDefinition(a);return this._checkContextMatch(h,t,o-1)}}return!1}*_getValidRangesForRange(e,t){let o=e.start,a=e.start;for(const h of e.getItems({shallow:!0}))h.is("element")&&(yield*this._getValidRangesForRange(Ut._createIn(h),t)),this.checkAttribute(h,t)||(o.isEqual(a)||(yield new Ut(o,a)),o=sn._createAfter(h)),a=sn._createAfter(h);o.isEqual(a)||(yield new Ut(o,a))}}class Tu{constructor(e){if(e instanceof Tu)return e;let t;t="string"==typeof e?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(Wm)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Tu([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function D_(d,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(o,a){for(const h of o){const g=Object.keys(h).filter(y=>y.startsWith("is"));for(const y of g)a[y]=!!h[y]}}(d,t),Pd(d,t,"allowIn"),Pd(d,t,"allowContentOf"),Pd(d,t,"allowWhere"),Pd(d,t,"allowAttributes"),Pd(d,t,"allowAttributesOf"),Pd(d,t,"allowChildren"),Pd(d,t,"inheritTypesFrom"),function(o,a){for(const h of o){const g=h.inheritAllFrom;g&&(a.allowContentOf.push(g),a.allowWhere.push(g),a.allowAttributesOf.push(g),a.inheritTypesFrom.push(g))}}(d,t),t}function rg(d,e){const t=d[e];for(const o of t.allowChildren){const a=d[o];a&&a.allowIn.push(e)}t.allowChildren.length=0}function Gm(d,e){for(const t of d[e].allowContentOf)d[t]&&$m(d,t).forEach(o=>{o.allowIn.push(e)});delete d[e].allowContentOf}function og(d,e){for(const t of d[e].allowWhere){const o=d[t];o&&d[e].allowIn.push(...o.allowIn)}delete d[e].allowWhere}function sg(d,e){for(const t of d[e].allowAttributesOf){const o=d[t];o&&d[e].allowAttributes.push(...o.allowAttributes)}delete d[e].allowAttributesOf}function Yh(d,e){const t=d[e];for(const o of t.inheritTypesFrom){const a=d[o];if(a){const h=Object.keys(a).filter(g=>g.startsWith("is"));for(const g of h)g in t||(t[g]=a[g])}}delete t.inheritTypesFrom}function Cl(d,e){const t=d[e],o=t.allowIn.filter(a=>d[a]);t.allowIn=Array.from(new Set(o))}function yp(d,e){const t=d[e];for(const o of t.allowIn)d[o].allowChildren.push(e)}function ag(d,e){const t=d[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function Pd(d,e,t){for(const o of d){const a=o[t];"string"==typeof a?e[t].push(a):Array.isArray(a)&&e[t].push(...a)}}function $m(d,e){const t=d[e];return(o=d,Object.keys(o).map(a=>o[a])).filter(a=>a.allowIn.includes(t.name));var o}function Wm(d){return"string"==typeof d||d.is("documentFragment")?{name:"string"==typeof d?d:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:d.is("element")?d.name:"$text",*getAttributeKeys(){yield*d.getAttributeKeys()},getAttribute:e=>d.getAttribute(e)}}function lm(d,e,t){for(const o of e.getAttributeKeys())d.checkAttribute(e,o)||t.removeAttribute(o,e)}class cm extends(Ie()){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=va(mn({},e),{consumable:null,writer:null,store:null,convertItem:(t,o)=>this._convertItem(t,o),convertChildren:(t,o)=>this._convertChildren(t,o),safeInsert:(t,o)=>this._safeInsert(t,o),updateConversionResult:(t,o)=>this._updateConversionResult(t,o),splitToAllowedParent:(t,o)=>this._splitToAllowedParent(t,o),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)})}convert(e,t,o=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(g,y){let k;for(const E of new Tu(g)){const D={};for(const W of E.getAttributeKeys())D[W]=E.getAttribute(W);const L=y.createElement(E.name,D);k&&y.insert(L,k),k=sn._createAt(L,0)}return k}(o,t),this.conversionApi.writer=t,this.conversionApi.consumable=wl.createFrom(e),this.conversionApi.store={};const{modelRange:a}=this._convertItem(e,this._modelCursor),h=t.createDocumentFragment();if(a){this._removeEmptyElements();for(const g of Array.from(this._modelCursor.parent.getChildren()))t.append(g,h);h.markers=function(g,y){const k=new Set,E=new Map,D=Ut._createIn(g).getItems();for(const L of D)L.is("element","$marker")&&k.add(L);for(const L of k){const W=L.getAttribute("data-name"),de=y.createPositionBefore(L);E.has(W)?E.get(W).end=de.clone():E.set(W,new Ut(de.clone())),y.remove(L)}return E}(h,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,h}_convertItem(e,t){const o={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,o,this.conversionApi):e.is("$text")?this.fire("text",o,this.conversionApi):this.fire("documentFragment",o,this.conversionApi),o.modelRange&&!(o.modelRange instanceof Ut))throw new Ne("view-conversion-dispatcher-incorrect-result",this);return{modelRange:o.modelRange,modelCursor:o.modelCursor}}_convertChildren(e,t){let o=t.is("position")?t:sn._createAt(t,0);const a=new Ut(o);for(const h of Array.from(e.getChildren())){const g=this._convertItem(h,o);g.modelRange instanceof Ut&&(a.end=g.modelRange.end,o=g.modelCursor)}return{modelRange:a,modelCursor:o}}_safeInsert(e,t){const o=this._splitToAllowedParent(e,t);return!!o&&(this.conversionApi.writer.insert(e,o.position),!0)}_updateConversionResult(e,t){const o=this._getSplitParts(e),a=this.conversionApi.writer;t.modelRange||(t.modelRange=a.createRange(a.createPositionBefore(e),a.createPositionAfter(o[o.length-1])));const h=this._cursorParents.get(e);t.modelCursor=h?a.createPositionAt(h,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:o,writer:a}=this.conversionApi;let h=o.findAllowedParent(t,e);if(h){if(h===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(h)&&(h=null)}if(!h)return Zh(t,e,o)?{position:Of(t,a)}:null;const g=this.conversionApi.writer.split(t,h),y=[];for(const E of g.range.getWalker())if("elementEnd"==E.type)y.push(E.item);else{const D=y.pop();this._registerSplitPair(D,E.item)}const k=g.range.end.parent;return this._cursorParents.set(e,k),{position:g.position,cursorParent:k}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const o=this._splitParts.get(e);this._splitParts.set(t,o),o.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class lg{getHtml(e){const t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class Za{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new wi(e,{renderingMode:"data"}),this.htmlWriter=new lg}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode="marked"==e?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),o=t.createDocumentFragment(),a=t.body.childNodes;for(;a.length>0;)o.appendChild(a[0]);return o}}class Zm extends(Ie()){constructor(e,t){super(),this.model=e,this.mapper=new pp,this.downcastDispatcher=new Kp({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(o,a,h)=>{if(!h.consumable.consume(a.item,o.name))return;const g=h.writer,y=h.mapper.toViewPosition(a.range.start),k=g.createText(a.item.data);g.insert(y,k)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(o,a,h)=>{h.convertAttributes(a.item),a.reconversion||!a.item.is("element")||a.item.isEmpty||h.convertChildren(a.item)},{priority:"lowest"}),this.upcastDispatcher=new cm({schema:e.schema}),this.viewDocument=new xr(t),this.stylesProcessor=t,this.htmlProcessor=new Za(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Bl(this.viewDocument),this.upcastDispatcher.on("text",(o,a,{schema:h,consumable:g,writer:y})=>{let k=a.modelCursor;if(!g.test(a.viewItem))return;if(!h.checkChild(k,"$text")){if(!Zh(k,"$text",h)||0==a.viewItem.data.trim().length)return;k=Of(k,y)}g.consume(a.viewItem);const E=y.createText(a.viewItem.data);y.insert(E,k),a.modelRange=y.createRange(k,k.getShiftedBy(E.offsetSize)),a.modelCursor=a.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(o,a,h)=>{if(!a.modelRange&&h.consumable.consume(a.viewItem,{name:!0})){const{modelRange:g,modelCursor:y}=h.convertChildren(a.viewItem,a.modelCursor);a.modelRange=g,a.modelCursor=y}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(o,a,h)=>{if(!a.modelRange&&h.consumable.consume(a.viewItem,{name:!0})){const{modelRange:g,modelCursor:y}=h.convertChildren(a.viewItem,a.modelCursor);a.modelRange=g,a.modelCursor=y}},{priority:"lowest"}),Tn().prototype.decorate.call(this,"init"),Tn().prototype.decorate.call(this,"set"),Tn().prototype.decorate.call(this,"get"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Uc)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:o="empty"}=e;if(!this._checkIfRootsExists([t]))throw new Ne("datacontroller-get-non-existent-root",this);const a=this.model.document.getRoot(t);return"empty"!==o||this.model.hasContent(a,{ignoreWhitespaces:!0})?this.stringify(a,e):""}stringify(e,t={}){const o=this.toView(e,t);return this.processor.toData(o)}toView(e,t={}){const o=this.viewDocument,a=this._viewWriter;this.mapper.clearBindings();const h=Ut._createIn(e),g=new Xi(o);this.mapper.bindElements(e,g);const y=e.is("documentFragment")?e.markers:function(k){const E=[],D=k.root.document;if(!D)return new Map;const L=Ut._createIn(k);for(const W of D.model.markers){const de=W.getRange(),Ae=de.isCollapsed,Oe=de.start.isEqual(L.start)||de.end.isEqual(L.end);if(Ae&&Oe)E.push([W.name,de]);else{const He=L.getIntersection(de);He&&E.push([W.name,He])}}return E.sort(([W,de],[Ae,Oe])=>{if("after"!==de.end.compareWith(Oe.start))return 1;if("before"!==de.start.compareWith(Oe.end))return-1;switch(de.start.compareWith(Oe.start)){case"before":return 1;case"after":return-1;default:switch(de.end.compareWith(Oe.end)){case"before":return 1;case"after":return-1;default:return Ae.localeCompare(W)}}}),new Map(E)}(e);return this.downcastDispatcher.convert(h,y,a,t),g}init(e){if(this.model.document.version)throw new Ne("datacontroller-init-document-not-empty",this);let t={};if("string"==typeof e?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new Ne("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},o=>{for(const a of Object.keys(t)){const h=this.model.document.getRoot(a);o.insert(this.parse(t[a],h),h,0)}}),Promise.resolve()}set(e,t={}){let o={};if("string"==typeof e?o.main=e:o=e,!this._checkIfRootsExists(Object.keys(o)))throw new Ne("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},a=>{a.setSelection(null),a.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const h of Object.keys(o)){const g=this.model.document.getRoot(h);a.remove(a.createRangeIn(g)),a.insert(this.parse(o[h],g),g,0)}})}parse(e,t="$root"){const o=this.processor.toView(e);return this.toModel(o,t)}toModel(e,t="$root"){return this.model.change(o=>this.upcastDispatcher.convert(e,o,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRootNames().includes(t))return!1;return!0}}class ur{constructor(e,t){this._helpers=new Map,this._downcast=ce(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=ce(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const o=this._downcast.includes(t);if(!this._upcast.includes(t)&&!o)throw new Ne("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:o})}for(e){if(!this._helpers.has(e))throw new Ne("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:o}of wp(e))this.for("upcast").elementToElement({model:t,view:o,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:o}of wp(e))this.for("upcast").elementToAttribute({view:o,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:o}of wp(e))this.for("upcast").attributeToAttribute({view:o,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:o}){if(this._helpers.has(e))throw new Ne("conversion-group-exists",this);const a=o?new Dd(t):new Nf(t);this._helpers.set(e,a)}}function*wp(d){if(d.model.values)for(const e of d.model.values){const t={key:d.model.key,value:e},o=d.view[e],a=d.upcastAlso?d.upcastAlso[e]:void 0;yield*cg(t,o,a)}else yield*cg(d.model,d.view,d.upcastAlso)}function*cg(d,e,t){if(yield{model:d,view:e},t)for(const o of ce(t))yield{model:d,view:o}}class mc{constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Qh(d,e){const t=ug(e),o=t.reduce((g,y)=>g+y.offsetSize,0),a=d.parent;kl(d);const h=d.index;return a._insertChild(h,t),Su(a,h+t.length),Su(a,h),new Ut(d,d.getShiftedBy(o))}function Hc(d){if(!d.isFlat)throw new Ne("operation-utils-remove-range-not-flat",this);const e=d.start.parent;kl(d.start),kl(d.end);const t=e._removeChildren(d.start.index,d.end.index-d.start.index);return Su(e,d.start.index),t}function oa(d,e){if(!d.isFlat)throw new Ne("operation-utils-move-range-not-flat",this);const t=Hc(d);return Qh(e=e._getTransformedByDeletion(d.start,d.end.offset-d.start.offset),t)}function ug(d){const e=[];!function t(o){if("string"==typeof o)e.push(new Er(o));else if(o instanceof ou)e.push(new Er(o.data,o.getAttributes()));else if(o instanceof Eu)e.push(o);else if(Mi(o))for(const a of o)t(a)}(d);for(let t=1;t<e.length;t++){const o=e[t],a=e[t-1];o instanceof Er&&a instanceof Er&&Lf(o,a)&&(e.splice(t-1,2,new Er(a.data+o.data,a.getAttributes())),t--)}return e}function Su(d,e){const t=d.getChild(e-1),o=d.getChild(e);if(t&&o&&t.is("$text")&&o.is("$text")&&Lf(t,o)){const a=new Er(t.data+o.data,t.getAttributes());d._removeChildren(e-1,2),d._insertChild(e-1,a)}}function kl(d){const e=d.textNode,t=d.parent;if(e){const o=d.offset-e.startOffset,a=e.index;t._removeChildren(a,1);const h=new Er(e.data.substr(0,o),e.getAttributes()),g=new Er(e.data.substr(o),e.getAttributes());t._insertChild(a,[h,g])}}function Lf(d,e){const t=d.getAttributes(),o=e.getAttributes();for(const a of t){if(a[1]!==e.getAttribute(a[0]))return!1;o.next()}return o.next().done}class Yr extends mc{constructor(e,t,o,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new Yr(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Yr(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,o=this.sourcePosition.offset,a=this.targetPosition.offset;if(o+this.howMany>e.maxOffset)throw new Ne("move-operation-nodes-do-not-exist",this);if(e===t&&o<a&&a<o+this.howMany)throw new Ne("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==pi(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const h=this.sourcePosition.path.length-1;if(this.targetPosition.path[h]>=o&&this.targetPosition.path[h]<o+this.howMany)throw new Ne("move-operation-node-into-itself",this)}}_execute(){oa(Ut._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const o=sn.fromJSON(e.sourcePosition,t),a=sn.fromJSON(e.targetPosition,t);return new this(o,e.howMany,a,e.baseVersion)}}class ma extends mc{constructor(e,t,o){super(o),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new ru(ug(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new ru([...this.nodes].map(o=>o._clone(!0))),t=new ma(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const t=new sn(this.position.root.document.graveyard,[0]);return new Yr(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new Ne("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new ru([...e].map(t=>t._clone(!0))),Qh(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const o=[];for(const h of e.nodes)o.push(h.name?Io.fromJSON(h):Er.fromJSON(h));const a=new ma(sn.fromJSON(e.position,t),o,e.baseVersion);return a.shouldReceiveAttributes=e.shouldReceiveAttributes,a}}class _c extends mc{constructor(e,t,o,a,h,g){super(g),this.name=e,this.oldRange=t?t.clone():null,this.newRange=o?o.clone():null,this.affectsData=h,this._markers=a}get type(){return"marker"}clone(){return new _c(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new _c(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new _c(e.name,e.oldRange?Ut.fromJSON(e.oldRange,t):null,e.newRange?Ut.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const Bf=function(d,e){return Pa(d,e)};class sa extends mc{constructor(e,t,o,a,h){super(h),this.range=e.clone(),this.key=t,this.oldValue=void 0===o?null:o,this.newValue=void 0===a?null:a}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new sa(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new sa(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new Ne("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!Bf(e.getAttribute(this.key),this.oldValue))throw new Ne("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new Ne("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Bf(this.oldValue,this.newValue)||function(e,t,o){kl(e.start),kl(e.end);for(const a of e.getItems({shallow:!0})){const h=a.is("$textProxy")?a.textNode:a;null!==o?h._setAttribute(t,o):h._removeAttribute(t),Su(h.parent,h.index)}Su(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new sa(Ut.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class aa extends mc{get type(){return"noop"}clone(){return new aa(this.baseVersion)}getReversed(){return new aa(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class il extends mc{constructor(e,t,o,a){super(a),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=o}get type(){return"rename"}clone(){return new il(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new il(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Io))throw new Ne("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new Ne("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new il(sn.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class bc extends mc{constructor(e,t,o,a,h){super(h),this.root=e,this.key=t,this.oldValue=o,this.newValue=a}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new bc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new bc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new Ne("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new Ne("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new Ne("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new Ne("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new bc(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ps extends mc{constructor(e,t,o,a,h){super(h),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=a.clone()}get type(){return"merge"}get deletionPosition(){return new sn(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Ut(this.sourcePosition,e)}clone(){return new Ps(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),o=new sn(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new fo(e,this.howMany,o,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new Ne("merge-operation-source-position-invalid",this);if(!t.parent)throw new Ne("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new Ne("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;oa(Ut._createIn(e),this.targetPosition),oa(Ut._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const o=sn.fromJSON(e.sourcePosition,t),a=sn.fromJSON(e.targetPosition,t),h=sn.fromJSON(e.graveyardPosition,t);return new this(o,e.howMany,a,h,e.baseVersion)}}class fo extends mc{constructor(e,t,o,a,h){super(h),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=o,this.graveyardPosition=a?a.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new sn(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Ut(this.splitPosition,e)}clone(){return new fo(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=new sn(this.splitPosition.root.document.graveyard,[0]);return new Ps(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent;if(!e||e.maxOffset<this.splitPosition.offset)throw new Ne("split-operation-position-invalid",this);if(!e.parent)throw new Ne("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new Ne("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new Ne("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)oa(Ut._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Qh(this.insertionPosition,t)}oa(new Ut(sn._createAt(e,this.splitPosition.offset),sn._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new sn(e.root,t,"toPrevious")}static fromJSON(e,t){const o=sn.fromJSON(e.splitPosition,t),a=sn.fromJSON(e.insertionPosition,t),h=e.graveyardPosition?sn.fromJSON(e.graveyardPosition,t):null;return new this(o,e.howMany,a,h,e.baseVersion)}}const Iu={};Iu[sa.className]=sa,Iu[ma.className]=ma,Iu[_c.className]=_c,Iu[Yr.className]=Yr,Iu[aa.className]=aa,Iu[mc.className]=mc,Iu[il.className]=il,Iu[bc.className]=bc,Iu[fo.className]=fo,Iu[Ps.className]=Ps;const Jh=new Map;function Lr(d,e,t){let o=Jh.get(d);o||(o=new Map,Jh.set(d,o)),o.set(e,t)}function dg(d){return[d]}function Cp(d,e,t={}){const o=function(a,h){const g=Jh.get(a);return g&&g.has(h)?g.get(h):dg}(d.constructor,e.constructor);try{return o(d=d.clone(),e,t)}catch(a){throw a}}function T_(d,e,t){d=d.slice(),e=e.slice();const o=new Km(t.document,t.useRelations,t.forceWeakRemove);o.setOriginalOperations(d),o.setOriginalOperations(e);const a=o.originalOperations;if(0==d.length||0==e.length)return{operationsA:d,operationsB:e,originalOperations:a};const h=new WeakMap;for(const k of d)h.set(k,0);const g={nextBaseVersionA:d[d.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:d.length,originalOperationsBCount:e.length};let y=0;for(;y<d.length;){const k=d[y],E=h.get(k);if(E==e.length){y++;continue}const D=e[E],L=Cp(k,D,o.getContext(k,D,!0)),W=Cp(D,k,o.getContext(D,k,!1));o.updateRelation(k,D),o.setOriginalOperations(L,k),o.setOriginalOperations(W,D);for(const de of L)h.set(de,E+W.length);d.splice(y,1,...L),e.splice(E,1,...W)}if(t.padWithNoOps){const k=d.length-g.originalOperationsACount,E=e.length-g.originalOperationsBCount;hg(d,E-k),hg(e,k-E)}return Ym(d,g.nextBaseVersionB),Ym(e,g.nextBaseVersionA),{operationsA:d,operationsB:e,originalOperations:a}}class Km{constructor(e,t,o=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!o,this._relations=new Map}setOriginalOperations(e,t=null){const o=t?this.originalOperations.get(t):null;for(const a of e)this.originalOperations.set(a,o||a)}updateRelation(e,t){if(e instanceof Yr)t instanceof Ps?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Yr&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof fo){if(t instanceof Ps)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Yr)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const o=Ut._createFromPositionAndShift(t.sourcePosition,t.howMany);e.splitPosition.hasSameParentAs(t.sourcePosition)&&o.containsPosition(e.splitPosition)&&this._setRelation(e,t,{howMany:o.end.offset-e.splitPosition.offset,offset:e.splitPosition.offset-o.start.offset})}}else if(e instanceof Ps)t instanceof Ps?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof fo&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof _c){const o=e.newRange;if(!o)return;if(t instanceof Yr){const a=Ut._createFromPositionAndShift(t.sourcePosition,t.howMany),h=a.containsPosition(o.start)||a.start.isEqual(o.start),g=a.containsPosition(o.end)||a.end.isEqual(o.end);!h&&!g||a.containsRange(o)||this._setRelation(e,t,{side:h?"left":"right",path:h?o.start.path.slice():o.end.path.slice()})}else if(t instanceof Ps){const a=o.start.isEqual(t.targetPosition),h=o.start.isEqual(t.deletionPosition),g=o.end.isEqual(t.deletionPosition),y=o.end.isEqual(t.sourcePosition);(a||h||g||y)&&this._setRelation(e,t,{wasInLeftElement:a,wasStartBeforeMergedElement:h,wasEndBeforeMergedElement:g,wasInRightElement:y})}}}getContext(e,t,o){return{aIsStrong:o,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const o=this.originalOperations.get(t),a=this._history.getUndoneOperation(o);if(!a)return null;const h=this.originalOperations.get(e),g=this._relations.get(h);return g&&g.get(a)||null}_setRelation(e,t,o){const a=this.originalOperations.get(e),h=this.originalOperations.get(t);let g=this._relations.get(a);g||(g=new Map,this._relations.set(a,g)),g.set(h,o)}}function Ym(d,e){for(const t of d)t.baseVersion=e++}function hg(d,e){for(let t=0;t<e;t++)d.push(new aa(0))}function fg(d,e,t){const o=d.nodes.getNode(0).getAttribute(e);if(o==t)return null;const a=new Ut(d.position,d.position.getShiftedBy(d.howMany));return new sa(a,e,o,t,0)}function Xh(d,e){return null===d.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function vc(d,e){const t=[];for(let o=0;o<d.length;o++){const a=d[o],h=new Yr(a.start,a.end.offset-a.start.offset,e,0);t.push(h);for(let g=o+1;g<d.length;g++)d[g]=d[g]._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)[0];e=e._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)}return t}Lr(sa,sa,(d,e,t)=>{if(d.key===e.key&&d.range.start.hasSameParentAs(e.range.start)){const o=d.range.getDifference(e.range).map(h=>new sa(h,d.key,d.oldValue,d.newValue,0)),a=d.range.getIntersection(e.range);return a&&t.aIsStrong&&o.push(new sa(a,e.key,e.newValue,d.newValue,0)),0==o.length?[new aa(0)]:o}return[d]}),Lr(sa,ma,(d,e)=>{if(d.range.start.hasSameParentAs(e.position)&&d.range.containsPosition(e.position)){const t=d.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(o=>new sa(o,d.key,d.oldValue,d.newValue,d.baseVersion));if(e.shouldReceiveAttributes){const o=fg(e,d.key,d.oldValue);o&&t.unshift(o)}return t}return d.range=d.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[d]}),Lr(sa,Ps,(d,e)=>{const t=[];d.range.start.hasSameParentAs(e.deletionPosition)&&(d.range.containsPosition(e.deletionPosition)||d.range.start.isEqual(e.deletionPosition))&&t.push(Ut._createFromPositionAndShift(e.graveyardPosition,1));const o=d.range._getTransformedByMergeOperation(e);return o.isCollapsed||t.push(o),t.map(a=>new sa(a,d.key,d.oldValue,d.newValue,d.baseVersion))}),Lr(sa,Yr,(d,e)=>function(o,a){const h=Ut._createFromPositionAndShift(a.sourcePosition,a.howMany);let g=null,y=[];h.containsRange(o,!0)?g=o:o.start.hasSameParentAs(h.start)?(y=o.getDifference(h),g=o.getIntersection(h)):y=[o];const k=[];for(let E of y){E=E._getTransformedByDeletion(a.sourcePosition,a.howMany);const D=a.getMovedRangeStart(),L=E.start.hasSameParentAs(D),W=E._getTransformedByInsertion(D,a.howMany,L);k.push(...W)}return g&&k.push(g._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany,!1)[0]),k}(d.range,e).map(o=>new sa(o,d.key,d.oldValue,d.newValue,d.baseVersion))),Lr(sa,fo,(d,e)=>{if(d.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||d.range.end.offset++,[d];if(d.range.start.hasSameParentAs(e.splitPosition)&&d.range.containsPosition(e.splitPosition)){const t=d.clone();return t.range=new Ut(e.moveTargetPosition.clone(),d.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),d.range.end=e.splitPosition.clone(),d.range.end.stickiness="toPrevious",[d,t]}return d.range=d.range._getTransformedBySplitOperation(e),[d]}),Lr(ma,sa,(d,e)=>{const t=[d];if(d.shouldReceiveAttributes&&d.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(d.position)){const o=fg(d,e.key,e.newValue);o&&t.push(o)}return t}),Lr(ma,ma,(d,e,t)=>(d.position.isEqual(e.position)&&t.aIsStrong||(d.position=d.position._getTransformedByInsertOperation(e)),[d])),Lr(ma,Yr,(d,e)=>(d.position=d.position._getTransformedByMoveOperation(e),[d])),Lr(ma,fo,(d,e)=>(d.position=d.position._getTransformedBySplitOperation(e),[d])),Lr(ma,Ps,(d,e)=>(d.position=d.position._getTransformedByMergeOperation(e),[d])),Lr(_c,ma,(d,e)=>(d.oldRange&&(d.oldRange=d.oldRange._getTransformedByInsertOperation(e)[0]),d.newRange&&(d.newRange=d.newRange._getTransformedByInsertOperation(e)[0]),[d])),Lr(_c,_c,(d,e,t)=>{if(d.name==e.name){if(!t.aIsStrong)return[new aa(0)];d.oldRange=e.newRange?e.newRange.clone():null}return[d]}),Lr(_c,Ps,(d,e)=>(d.oldRange&&(d.oldRange=d.oldRange._getTransformedByMergeOperation(e)),d.newRange&&(d.newRange=d.newRange._getTransformedByMergeOperation(e)),[d])),Lr(_c,Yr,(d,e,t)=>{if(d.oldRange&&(d.oldRange=Ut._createFromRanges(d.oldRange._getTransformedByMoveOperation(e))),d.newRange){if(t.abRelation){const o=Ut._createFromRanges(d.newRange._getTransformedByMoveOperation(e));if("left"==t.abRelation.side&&e.targetPosition.isEqual(d.newRange.start))return d.newRange.end=o.end,d.newRange.start.path=t.abRelation.path,[d];if("right"==t.abRelation.side&&e.targetPosition.isEqual(d.newRange.end))return d.newRange.start=o.start,d.newRange.end.path=t.abRelation.path,[d]}d.newRange=Ut._createFromRanges(d.newRange._getTransformedByMoveOperation(e))}return[d]}),Lr(_c,fo,(d,e,t)=>{if(d.oldRange&&(d.oldRange=d.oldRange._getTransformedBySplitOperation(e)),d.newRange){if(t.abRelation){const o=d.newRange._getTransformedBySplitOperation(e);return d.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?d.newRange.start=sn._createAt(e.insertionPosition):d.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(d.newRange.start=sn._createAt(e.moveTargetPosition)),d.newRange.end=d.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?sn._createAt(e.moveTargetPosition):d.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?sn._createAt(e.insertionPosition):o.end,[d]}d.newRange=d.newRange._getTransformedBySplitOperation(e)}return[d]}),Lr(Ps,ma,(d,e)=>(d.sourcePosition.hasSameParentAs(e.position)&&(d.howMany+=e.howMany),d.sourcePosition=d.sourcePosition._getTransformedByInsertOperation(e),d.targetPosition=d.targetPosition._getTransformedByInsertOperation(e),[d])),Lr(Ps,Ps,(d,e,t)=>{if(d.sourcePosition.isEqual(e.sourcePosition)&&d.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const o=e.graveyardPosition.path.slice();return o.push(0),d.sourcePosition=new sn(e.graveyardPosition.root,o),d.howMany=0,[d]}return[new aa(0)]}if(d.sourcePosition.isEqual(e.sourcePosition)&&!d.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&"splitAtSource"!=t.abRelation){const o="$graveyard"==d.targetPosition.root.rootName,a="$graveyard"==e.targetPosition.root.rootName;if(a&&!o||(!o||a)&&t.aIsStrong){const h=e.targetPosition._getTransformedByMergeOperation(e),g=d.targetPosition._getTransformedByMergeOperation(e);return[new Yr(h,d.howMany,g,0)]}return[new aa(0)]}return d.sourcePosition.hasSameParentAs(e.targetPosition)&&(d.howMany+=e.howMany),d.sourcePosition=d.sourcePosition._getTransformedByMergeOperation(e),d.targetPosition=d.targetPosition._getTransformedByMergeOperation(e),d.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(d.graveyardPosition=d.graveyardPosition._getTransformedByMergeOperation(e)),[d]}),Lr(Ps,Yr,(d,e,t)=>{const o=Ut._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!t.bWasUndone&&!t.forceWeakRemove&&d.deletionPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(d.sourcePosition)?[new aa(0)]:(d.sourcePosition.hasSameParentAs(e.targetPosition)&&(d.howMany+=e.howMany),d.sourcePosition.hasSameParentAs(e.sourcePosition)&&(d.howMany-=e.howMany),d.sourcePosition=d.sourcePosition._getTransformedByMoveOperation(e),d.targetPosition=d.targetPosition._getTransformedByMoveOperation(e),d.graveyardPosition.isEqual(e.targetPosition)||(d.graveyardPosition=d.graveyardPosition._getTransformedByMoveOperation(e)),[d])}),Lr(Ps,fo,(d,e,t)=>{if(e.graveyardPosition&&(d.graveyardPosition=d.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),d.deletionPosition.isEqual(e.graveyardPosition)&&(d.howMany=e.howMany)),d.targetPosition.isEqual(e.splitPosition)){const o=0!=e.howMany,a=e.graveyardPosition&&d.deletionPosition.isEqual(e.graveyardPosition);if(o||a||"mergeTargetNotMoved"==t.abRelation)return d.sourcePosition=d.sourcePosition._getTransformedBySplitOperation(e),[d]}if(d.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==t.abRelation)return d.howMany=0,d.targetPosition=d.targetPosition._getTransformedBySplitOperation(e),[d];if("mergeSameElement"==t.abRelation||d.sourcePosition.offset>0)return d.sourcePosition=e.moveTargetPosition.clone(),d.targetPosition=d.targetPosition._getTransformedBySplitOperation(e),[d]}return d.sourcePosition.hasSameParentAs(e.splitPosition)&&(d.howMany=e.splitPosition.offset),d.sourcePosition=d.sourcePosition._getTransformedBySplitOperation(e),d.targetPosition=d.targetPosition._getTransformedBySplitOperation(e),[d]}),Lr(Yr,ma,(d,e)=>{const t=Ut._createFromPositionAndShift(d.sourcePosition,d.howMany)._getTransformedByInsertOperation(e,!1)[0];return d.sourcePosition=t.start,d.howMany=t.end.offset-t.start.offset,d.targetPosition.isEqual(e.position)||(d.targetPosition=d.targetPosition._getTransformedByInsertOperation(e)),[d]}),Lr(Yr,Yr,(d,e,t)=>{const o=Ut._createFromPositionAndShift(d.sourcePosition,d.howMany),a=Ut._createFromPositionAndShift(e.sourcePosition,e.howMany);let h,g=t.aIsStrong,y=!t.aIsStrong;if("insertBefore"==t.abRelation||"insertAfter"==t.baRelation?y=!0:"insertAfter"!=t.abRelation&&"insertBefore"!=t.baRelation||(y=!1),h=d.targetPosition.isEqual(e.targetPosition)&&y?d.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):d.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Xh(d,e)&&Xh(e,d))return[e.getReversed()];if(o.containsPosition(e.targetPosition)&&o.containsRange(a,!0))return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),vc([o],h);if(a.containsPosition(d.targetPosition)&&a.containsRange(o,!0))return o.start=o.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),o.end=o.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),vc([o],h);const k=pi(d.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==k||"extension"==k)return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),vc([o],h);"remove"!=d.type||"remove"==e.type||t.aWasUndone||t.forceWeakRemove?"remove"==d.type||"remove"!=e.type||t.bWasUndone||t.forceWeakRemove||(g=!1):g=!0;const E=[],D=o.getDifference(a);for(const W of D){W.start=W.start._getTransformedByDeletion(e.sourcePosition,e.howMany),W.end=W.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const de="same"==pi(W.start.getParentPath(),e.getMovedRangeStart().getParentPath()),Ae=W._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,de);E.push(...Ae)}const L=o.getIntersection(a);return null!==L&&g&&(L.start=L.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),L.end=L.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===E.length?E.push(L):1==E.length?a.start.isBefore(o.start)||a.start.isEqual(o.start)?E.unshift(L):E.push(L):E.splice(1,0,L)),0===E.length?[new aa(d.baseVersion)]:vc(E,h)}),Lr(Yr,fo,(d,e,t)=>{let o=d.targetPosition.clone();d.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=t.abRelation||(o=d.targetPosition._getTransformedBySplitOperation(e));const a=Ut._createFromPositionAndShift(d.sourcePosition,d.howMany);if(a.end.isEqual(e.insertionPosition))return e.graveyardPosition||d.howMany++,d.targetPosition=o,[d];if(a.start.hasSameParentAs(e.splitPosition)&&a.containsPosition(e.splitPosition)){let g=new Ut(e.splitPosition,a.end);return g=g._getTransformedBySplitOperation(e),vc([new Ut(a.start,e.splitPosition),g],o)}d.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==t.abRelation&&(o=e.moveTargetPosition),d.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==t.abRelation&&(o=d.targetPosition);const h=[a._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const g=a.start.isEqual(e.graveyardPosition)||a.containsPosition(e.graveyardPosition);d.howMany>1&&g&&!t.aWasUndone&&h.push(Ut._createFromPositionAndShift(e.insertionPosition,1))}return vc(h,o)}),Lr(Yr,Ps,(d,e,t)=>{const o=Ut._createFromPositionAndShift(d.sourcePosition,d.howMany);if(e.deletionPosition.hasSameParentAs(d.sourcePosition)&&o.containsPosition(e.sourcePosition))if("remove"!=d.type||t.forceWeakRemove){if(1==d.howMany)return t.bWasUndone?(d.sourcePosition=e.graveyardPosition.clone(),d.targetPosition=d.targetPosition._getTransformedByMergeOperation(e),[d]):[new aa(0)]}else if(!t.aWasUndone){const h=[];let g=e.graveyardPosition.clone(),y=e.targetPosition._getTransformedByMergeOperation(e);d.howMany>1&&(h.push(new Yr(d.sourcePosition,d.howMany-1,d.targetPosition,0)),g=g._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany-1),y=y._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany-1));const k=e.deletionPosition._getCombined(d.sourcePosition,d.targetPosition),E=new Yr(g,1,k,0),D=E.getMovedRangeStart().path.slice();D.push(0);const L=new sn(E.targetPosition.root,D);y=y._getTransformedByMove(g,k,1);const W=new Yr(y,e.howMany,L,0);return h.push(E),h.push(W),h}const a=Ut._createFromPositionAndShift(d.sourcePosition,d.howMany)._getTransformedByMergeOperation(e);return d.sourcePosition=a.start,d.howMany=a.end.offset-a.start.offset,d.targetPosition=d.targetPosition._getTransformedByMergeOperation(e),[d]}),Lr(il,ma,(d,e)=>(d.position=d.position._getTransformedByInsertOperation(e),[d])),Lr(il,Ps,(d,e)=>d.position.isEqual(e.deletionPosition)?(d.position=e.graveyardPosition.clone(),d.position.stickiness="toNext",[d]):(d.position=d.position._getTransformedByMergeOperation(e),[d])),Lr(il,Yr,(d,e)=>(d.position=d.position._getTransformedByMoveOperation(e),[d])),Lr(il,il,(d,e,t)=>{if(d.position.isEqual(e.position)){if(!t.aIsStrong)return[new aa(0)];d.oldName=e.newName}return[d]}),Lr(il,fo,(d,e)=>{if("same"==pi(d.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){const t=new il(d.position.getShiftedBy(1),d.oldName,d.newName,0);return[d,t]}return d.position=d.position._getTransformedBySplitOperation(e),[d]}),Lr(bc,bc,(d,e,t)=>{if(d.root===e.root&&d.key===e.key){if(!t.aIsStrong||d.newValue===e.newValue)return[new aa(0)];d.oldValue=e.newValue}return[d]}),Lr(fo,ma,(d,e)=>(d.splitPosition.hasSameParentAs(e.position)&&d.splitPosition.offset<e.position.offset&&(d.howMany+=e.howMany),d.splitPosition=d.splitPosition._getTransformedByInsertOperation(e),d.insertionPosition=d.insertionPosition._getTransformedByInsertOperation(e),[d])),Lr(fo,Ps,(d,e,t)=>{if(!d.graveyardPosition&&!t.bWasUndone&&d.splitPosition.hasSameParentAs(e.sourcePosition)){const o=e.graveyardPosition.path.slice();o.push(0);const a=new sn(e.graveyardPosition.root,o),h=fo.getInsertionPosition(new sn(e.graveyardPosition.root,o)),g=new fo(a,0,h,null,0);return d.splitPosition=d.splitPosition._getTransformedByMergeOperation(e),d.insertionPosition=fo.getInsertionPosition(d.splitPosition),d.graveyardPosition=g.insertionPosition.clone(),d.graveyardPosition.stickiness="toNext",[g,d]}return d.splitPosition.hasSameParentAs(e.deletionPosition)&&!d.splitPosition.isAfter(e.deletionPosition)&&d.howMany--,d.splitPosition.hasSameParentAs(e.targetPosition)&&(d.howMany+=e.howMany),d.splitPosition=d.splitPosition._getTransformedByMergeOperation(e),d.insertionPosition=fo.getInsertionPosition(d.splitPosition),d.graveyardPosition&&(d.graveyardPosition=d.graveyardPosition._getTransformedByMergeOperation(e)),[d]}),Lr(fo,Yr,(d,e,t)=>{const o=Ut._createFromPositionAndShift(e.sourcePosition,e.howMany);if(d.graveyardPosition){const h=o.start.isEqual(d.graveyardPosition)||o.containsPosition(d.graveyardPosition);if(!t.bWasUndone&&h){const g=d.splitPosition._getTransformedByMoveOperation(e),y=d.graveyardPosition._getTransformedByMoveOperation(e),k=y.path.slice();k.push(0);const E=new sn(y.root,k);return[new Yr(g,d.howMany,E,0)]}d.graveyardPosition=d.graveyardPosition._getTransformedByMoveOperation(e)}const a=d.splitPosition.isEqual(e.targetPosition);if(a&&("insertAtSource"==t.baRelation||"splitBefore"==t.abRelation))return d.howMany+=e.howMany,d.splitPosition=d.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),d.insertionPosition=fo.getInsertionPosition(d.splitPosition),[d];if(a&&t.abRelation&&t.abRelation.howMany){const{howMany:h,offset:g}=t.abRelation;return d.howMany+=h,d.splitPosition=d.splitPosition.getShiftedBy(g),[d]}return d.splitPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(d.splitPosition)?(d.howMany-=e.howMany-(d.splitPosition.offset-e.sourcePosition.offset),d.splitPosition.hasSameParentAs(e.targetPosition)&&d.splitPosition.offset<e.targetPosition.offset&&(d.howMany+=e.howMany),d.splitPosition=e.sourcePosition.clone(),d.insertionPosition=fo.getInsertionPosition(d.splitPosition),[d]):(e.sourcePosition.isEqual(e.targetPosition)||(d.splitPosition.hasSameParentAs(e.sourcePosition)&&d.splitPosition.offset<=e.sourcePosition.offset&&(d.howMany-=e.howMany),d.splitPosition.hasSameParentAs(e.targetPosition)&&d.splitPosition.offset<e.targetPosition.offset&&(d.howMany+=e.howMany)),d.splitPosition.stickiness="toNone",d.splitPosition=d.splitPosition._getTransformedByMoveOperation(e),d.splitPosition.stickiness="toNext",d.insertionPosition=d.graveyardPosition?d.insertionPosition._getTransformedByMoveOperation(e):fo.getInsertionPosition(d.splitPosition),[d])}),Lr(fo,fo,(d,e,t)=>{if(d.splitPosition.isEqual(e.splitPosition)){if(!d.graveyardPosition&&!e.graveyardPosition)return[new aa(0)];if(d.graveyardPosition&&e.graveyardPosition&&d.graveyardPosition.isEqual(e.graveyardPosition))return[new aa(0)];if("splitBefore"==t.abRelation)return d.howMany=0,d.graveyardPosition=d.graveyardPosition._getTransformedBySplitOperation(e),[d]}if(d.graveyardPosition&&e.graveyardPosition&&d.graveyardPosition.isEqual(e.graveyardPosition)){const o="$graveyard"==d.splitPosition.root.rootName,a="$graveyard"==e.splitPosition.root.rootName;if(a&&!o||(!o||a)&&t.aIsStrong){const h=[];return e.howMany&&h.push(new Yr(e.moveTargetPosition,e.howMany,e.splitPosition,0)),d.howMany&&h.push(new Yr(d.splitPosition,d.howMany,d.moveTargetPosition,0)),h}return[new aa(0)]}if(d.graveyardPosition&&(d.graveyardPosition=d.graveyardPosition._getTransformedBySplitOperation(e)),d.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==t.abRelation)return d.howMany++,[d];if(e.splitPosition.isEqual(d.insertionPosition)&&"splitBefore"==t.baRelation){const o=e.insertionPosition.path.slice();o.push(0);const a=new sn(e.insertionPosition.root,o);return[d,new Yr(d.insertionPosition,1,a,0)]}return d.splitPosition.hasSameParentAs(e.splitPosition)&&d.splitPosition.offset<e.splitPosition.offset&&(d.howMany-=e.howMany),d.splitPosition=d.splitPosition._getTransformedBySplitOperation(e),d.insertionPosition=fo.getInsertionPosition(d.splitPosition),[d]});class Ba extends(Ie(sn)){constructor(e,t,o="toNone"){if(super(e,t,o),!this.root.is("rootElement"))throw new Ne("model-liveposition-root-not-rootelement",e);kp.call(this)}detach(){this.stopListening()}toPosition(){return new sn(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function kp(){this.listenTo(this.root.document.model,"applyOperation",(d,e)=>{const t=e[0];t.isDocumentOperation&&dm.call(this,t)},{priority:"low"})}function dm(d){const e=this.getTransformedByOperation(d);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Ba.prototype.is=function(d){return"livePosition"===d||"model:livePosition"===d||"position"==d||"model:position"===d};class hh{constructor(e={}){"string"==typeof e&&(e="transparent"===e?{isUndoable:!1}:{},At("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:o=!0,isUndo:a=!1,isTyping:h=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=o,this.isUndo=a,this.isTyping=h}get type(){return At("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(null!==e.baseVersion)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class pg{constructor(e){this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const o of t.range.getItems({shallow:!0}))this._isInInsertedElement(o.parent)||this._markAttribute(o);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const o=this._isInInsertedElement(t.sourcePosition.parent),a=this._isInInsertedElement(t.targetPosition.parent);o||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),a||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const o=Ut._createFromPositionAndShift(t.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(o)){const h=a.getData();this.bufferMarkerChange(a.name,h,h)}break}case"split":{const o=t.splitPosition.parent;this._isInInsertedElement(o)||this._markRemove(o,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const o=t.sourcePosition.parent;this._isInInsertedElement(o.parent)||this._markRemove(o.parent,o.startOffset,1),this._markInsert(t.graveyardPosition.parent,t.graveyardPosition.offset,1);const h=t.targetPosition.parent;this._isInInsertedElement(h)||this._markInsert(h,t.targetPosition.offset,o.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(e,t,o){const a=this._changedMarkers.get(e);a?(a.newMarkerData=o,null==a.oldMarkerData.range&&null==o.range&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{newMarkerData:o,oldMarkerData:t})}getMarkersToRemove(){const e=[];for(const[t,o]of this._changedMarkers)null!=o.oldMarkerData.range&&e.push({name:t,range:o.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,o]of this._changedMarkers)null!=o.newMarkerData.range&&e.push({name:t,range:o.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const o=e.range&&!t.range,a=!e.range&&t.range,h=e.range&&t.range&&!e.range.isEqual(t.range);if(o||a||h)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const o of this._changesInElement.keys()){const a=this._changesInElement.get(o).sort((D,L)=>D.offset===L.offset?D.type!=L.type?"remove"==D.type?-1:1:0:D.offset<L.offset?-1:1),h=this._elementSnapshots.get(o),g=gg(o.getChildren()),y=fh(h.length,a);let k=0,E=0;for(const D of y)if("i"===D)t.push(this._getInsertDiff(o,k,g[k])),k++;else if("r"===D)t.push(this._getRemoveDiff(o,k,h[E])),E++;else if("a"===D){const L=g[k].attributes,W=h[E].attributes;let de;if("$text"==g[k].name)de=new Ut(sn._createAt(o,k),sn._createAt(o,k+1));else{const Ae=o.offsetToIndex(k);de=new Ut(sn._createAt(o,k),sn._createAt(o.getChild(Ae),0))}t.push(...this._getAttributesDiff(de,W,L)),k++,E++}else k++,E++}t.sort((o,a)=>o.position.root!=a.position.root?o.position.root.rootName<a.position.root.rootName?-1:1:o.position.isEqual(a.position)?o.changeCount-a.changeCount:o.position.isBefore(a.position)?-1:1);for(let o=1,a=0;o<t.length;o++){const h=t[a],g=t[o],y="remove"==h.type&&"remove"==g.type&&"$text"==h.name&&"$text"==g.name&&h.position.isEqual(g.position),k="insert"==h.type&&"insert"==g.type&&"$text"==h.name&&"$text"==g.name&&h.position.parent==g.position.parent&&h.position.offset+h.length==g.position.offset,E="attribute"==h.type&&"attribute"==g.type&&h.position.parent==g.position.parent&&h.range.isFlat&&g.range.isFlat&&h.position.offset+h.length==g.position.offset&&h.attributeKey==g.attributeKey&&h.attributeOldValue==g.attributeOldValue&&h.attributeNewValue==g.attributeNewValue;y||k||E?(h.length++,E&&(h.range.end=h.range.end.getShiftedBy(1)),t[o]=null):a=o}t=t.filter(o=>o);for(const o of t)delete o.changeCount,"attribute"==o.type&&(delete o.position,delete o.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(Qm),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Ut._createOn(e);for(const o of this._markerCollection.getMarkersIntersectingRange(t)){const a=o.getData();this.bufferMarkerChange(o.name,a,a)}this._cachedChanges=null}_markInsert(e,t,o){const a={type:"insert",offset:t,howMany:o,count:this._changeCount++};this._markChange(e,a)}_markRemove(e,t,o){const a={type:"remove",offset:t,howMany:o,count:this._changeCount++};this._markChange(e,a),this._removeAllNestedChanges(e,t,o)}_markAttribute(e){const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const o=this._getChangesForElement(e);this._handleChange(t,o),o.push(t);for(let a=0;a<o.length;a++)o[a].howMany<1&&(o.splice(a,1),a--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,gg(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const o of t){const a=e.offset+e.howMany,h=o.offset+o.howMany;if("insert"==e.type&&("insert"==o.type&&(e.offset<=o.offset?o.offset+=e.howMany:e.offset<h&&(o.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==o.type&&e.offset<o.offset&&(o.offset+=e.howMany),"attribute"==o.type))if(e.offset<=o.offset)o.offset+=e.howMany;else if(e.offset<h){const g=o.howMany;o.howMany=e.offset-o.offset,t.unshift({type:"attribute",offset:a,howMany:g-o.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==o.type)if(a<=o.offset)o.offset-=e.howMany;else if(a<=h)if(e.offset<o.offset){const g=a-o.offset;o.offset=e.offset,o.howMany-=g,e.nodesToHandle-=g}else o.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=o.offset)e.nodesToHandle-=o.howMany,o.howMany=0;else if(e.offset<h){const g=h-e.offset;o.howMany-=g,e.nodesToHandle-=g}if("remove"==o.type&&(a<=o.offset?o.offset-=e.howMany:e.offset<o.offset&&(e.nodesToHandle+=o.howMany,o.howMany=0)),"attribute"==o.type)if(a<=o.offset)o.offset-=e.howMany;else if(e.offset<o.offset){const g=a-o.offset;o.offset=e.offset,o.howMany-=g}else if(e.offset<h)if(a<=h){const g=o.howMany;o.howMany=e.offset-o.offset,t.unshift({type:"attribute",offset:e.offset,howMany:g-o.howMany-e.nodesToHandle,count:this._changeCount++})}else o.howMany-=h-e.offset}if("attribute"==e.type){if("insert"==o.type)if(e.offset<o.offset&&a>o.offset){if(a>h){const g={type:"attribute",offset:h,howMany:a-h,count:this._changeCount++};this._handleChange(g,t),t.push(g)}e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=o.offset&&e.offset<h&&(a>h?(e.nodesToHandle=a-h,e.offset=h):e.nodesToHandle=0);if("remove"==o.type&&e.offset<o.offset&&a>o.offset){const g={type:"attribute",offset:o.offset,howMany:a-o.offset,count:this._changeCount++};this._handleChange(g,t),t.push(g),e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==o.type&&(e.offset>=o.offset&&a<=h?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=o.offset&&a>=h&&(o.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,o){return{type:"insert",position:sn._createAt(e,t),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,o){return{type:"remove",position:sn._createAt(e,t),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,o){const a=[];o=new Map(o);for(const[h,g]of t){const y=o.has(h)?o.get(h):null;y!==g&&a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:h,attributeOldValue:g,attributeNewValue:y,changeCount:this._changeCount++}),o.delete(h)}for(const[h,g]of o)a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:h,attributeOldValue:null,attributeNewValue:g,changeCount:this._changeCount++});return a}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const o=this._changesInElement.get(t),a=e.startOffset;if(o)for(const h of o)if("insert"==h.type&&a>=h.offset&&a<h.offset+h.howMany)return!0;return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,o){const a=new Ut(sn._createAt(e,t),sn._createAt(e,t+o));for(const h of a.getItems({shallow:!0}))h.is("element")&&(this._elementSnapshots.delete(h),this._changesInElement.delete(h),this._removeAllNestedChanges(h,0,h.maxOffset))}}function gg(d){const e=[];for(const t of d)if(t.is("$text"))for(let o=0;o<t.data.length;o++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function fh(d,e){const t=[];let o=0,a=0;for(const h of e){if(h.offset>o){for(let g=0;g<h.offset-o;g++)t.push("e");a+=h.offset-o}if("insert"==h.type){for(let g=0;g<h.howMany;g++)t.push("i");o=h.offset+h.howMany}else if("remove"==h.type){for(let g=0;g<h.howMany;g++)t.push("r");o=h.offset,a+=h.howMany}else t.push(..."a".repeat(h.howMany).split("")),o=h.offset+h.howMany,a+=h.howMany}if(a<d)for(let h=0;h<d-a-o;h++)t.push("e");return t}function Qm(d){return!("position"in d&&"$graveyard"==d.position.root.rootName||"range"in d&&"$graveyard"==d.range.root.rootName)}class S_{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new Ne("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const o=this._operations[0];void 0===e&&(e=o.baseVersion);let a=t-1;for(const[y,k]of this._gaps)e>y&&e<k&&(e=k),a>y&&a<k&&(a=y-1);if(a<o.baseVersion||e>this.lastOperation.baseVersion)return[];let h=this._baseVersionToOperationIndex.get(e);void 0===h&&(h=0);let g=this._baseVersionToOperationIndex.get(a);return void 0===g&&(g=this._operations.length-1),this._operations.slice(h,g+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(void 0!==t)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class ef extends Io{constructor(e,t,o="main"){super(t),this._document=e,this.rootName=o}get document(){return this._document}toJSON(){return this.rootName}}ef.prototype.is=function(d,e){return e?e===this.name&&("rootElement"===d||"model:rootElement"===d||"element"===d||"model:element"===d):"rootElement"===d||"model:rootElement"===d||"element"===d||"model:element"===d||"node"===d||"model:node"===d};const Pu="$graveyard";class tf extends(Ie()){constructor(e){super(),this.model=e,this.history=new S_,this.selection=new Xl(this),this.roots=new xn({idProperty:"rootName"}),this.differ=new pg(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Pu),this.listenTo(e,"applyOperation",(t,o)=>{const a=o[0];a.isDocumentOperation&&this.differ.bufferOperation(a)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,o)=>{const a=o[0];a.isDocumentOperation&&this.history.addOperation(a)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,o,a,h,g)=>{const y=va(mn({},o.getData()),{range:h});this.differ.bufferMarkerChange(o.name,g,y),null===a&&o.on("change",(k,E)=>{const D=o.getData();this.differ.bufferMarkerChange(o.name,va(mn({},D),{range:E}),D)})})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Pu)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new Ne("model-document-createroot-name-exists",this,{name:t});const o=new ef(this,e,t);return this.roots.add(o),o}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,e=>e.rootName).filter(e=>e!=Pu)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=yu(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,o=t.schema,a=t.createPositionFromPath(e,[0]);return o.getNearestSelectionRange(a)||t.createRange(a)}_validateSelectionRange(e){return mg(e.start)&&mg(e.end)}_callPostFixers(e){let t=!1;do{for(const o of this._postFixers)if(this.selection.refresh(),t=o(e),t)break}while(t)}}function mg(d){const e=d.textNode;if(e){const t=e.data,o=d.offset-e.startOffset;return!Il(t,o)&&!hs(t,o)}return!0}class ph extends(Ie()){constructor(){super(),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){return this._markers.has(e instanceof td?e.name:e)}get(e){return this._markers.get(e)||null}_set(e,t,o=!1,a=!1){const h=e instanceof td?e.name:e;if(h.includes(","))throw new Ne("markercollection-incorrect-marker-name",this);const g=this._markers.get(h);if(g){const E=g.getData(),D=g.getRange();let L=!1;return D.isEqual(t)||(g._attachLiveRange(pc.fromRange(t)),L=!0),o!=g.managedUsingOperations&&(g._managedUsingOperations=o,L=!0),"boolean"==typeof a&&a!=g.affectsData&&(g._affectsData=a,L=!0),L&&this.fire(`update:${h}`,g,D,t,E),g}const y=pc.fromRange(t),k=new td(h,y,o,a);return this._markers.set(h,k),this.fire(`update:${h}`,k,null,t,va(mn({},k.getData()),{range:null})),k}_remove(e){const t=e instanceof td?e.name:e,o=this._markers.get(t);return!!o&&(this._markers.delete(t),this.fire(`update:${t}`,o,o.getRange(),null,o.getData()),this._destroyMarker(o),!0)}_refresh(e){const t=e instanceof td?e.name:e,o=this._markers.get(t);if(!o)throw new Ne("markercollection-refresh-marker-not-exists",this);const a=o.getRange();this.fire(`update:${t}`,o,a,a,o.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)null!==t.getRange().getIntersection(e)&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class td extends(Ie($s)){constructor(e,t,o,a){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=o,this._affectsData=a}get managedUsingOperations(){if(!this._liveRange)throw new Ne("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new Ne("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new Ne("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new Ne("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new Ne("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}td.prototype.is=function(d){return"marker"===d||"model:marker"===d};class _g extends mc{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new Ne("detach-operation-on-document-node",this)}_execute(){Hc(Ut._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class cu extends $s{constructor(e){super(),this.markers=new Map,this._children=new ru,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const o of e)t=t.getChild(t.offsetToIndex(o));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const o of e)t.push(o.name?Io.fromJSON(o):Er.fromJSON(o));return new cu(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const o="string"==typeof(a=t)?[new Er(a)]:(Mi(a)||(a=[a]),Array.from(a).map(h=>"string"==typeof h?new Er(h):h instanceof ou?new Er(h.data,h.getAttributes()):h));var a;for(const a of o)null!==a.parent&&a._remove(),a.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,t=1){const o=this._children._removeNodes(e,t);for(const a of o)a.parent=null;return o}}cu.prototype.is=function(d){return"documentFragment"===d||"model:documentFragment"===d};class Jm{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Er(e,t)}createElement(e,t){return new Io(e,t)}createDocumentFragment(){return new cu}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,o=0){if(this._assertWriterUsedCorrectly(),e instanceof Er&&""==e.data)return;const a=sn._createAt(t,o);if(e.parent){if(id(e.root,a.root))return void this.move(Ut._createOn(e),a);if(e.root.document)throw new Ne("model-writer-insert-forbidden-move",this);this.remove(e)}const g=new ma(a,e,a.root.document?a.root.document.version:null);if(e instanceof Er&&(g.shouldReceiveAttributes=!0),this.batch.addOperation(g),this.model.applyOperation(g),e instanceof cu)for(const[y,k]of e.markers){const E=sn._createAt(k.root,0),D={range:new Ut(k.start._getCombined(E,a),k.end._getCombined(E,a)),usingOperation:!0,affectsData:!0};this.model.markers.has(y)?this.updateMarker(y,D):this.addMarker(y,D)}}insertText(e,t,o,a){t instanceof cu||t instanceof Io||t instanceof sn?this.insert(this.createText(e),t,o):this.insert(this.createText(e,t),o,a)}insertElement(e,t,o,a){t instanceof cu||t instanceof Io||t instanceof sn?this.insert(this.createElement(e),t,o):this.insert(this.createElement(e,t),o,a)}append(e,t){this.insert(e,t,"end")}appendText(e,t,o){t instanceof cu||t instanceof Io?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),o,"end")}appendElement(e,t,o){t instanceof cu||t instanceof Io?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),o,"end")}setAttribute(e,t,o){if(this._assertWriterUsedCorrectly(),o instanceof Ut){const a=o.getMinimalFlatRanges();for(const h of a)nd(this,e,t,h)}else bg(this,e,t,o)}setAttributes(e,t){for(const[o,a]of On(e))this.setAttribute(o,a,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Ut){const o=t.getMinimalFlatRanges();for(const a of o)nd(this,e,null,a)}else bg(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=o=>{for(const a of o.getAttributeKeys())this.removeAttribute(a,o)};if(e instanceof Ut)for(const o of e.getItems())t(o);else t(e)}move(e,t,o){if(this._assertWriterUsedCorrectly(),!(e instanceof Ut))throw new Ne("writer-move-invalid-range",this);if(!e.isFlat)throw new Ne("writer-move-range-not-flat",this);const a=sn._createAt(t,o);if(a.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!id(e.root,a.root))throw new Ne("writer-move-different-document",this);const g=new Yr(e.start,e.end.offset-e.start.offset,a,e.root.document?e.root.document.version:null);this.batch.addOperation(g),this.model.applyOperation(g)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Ut?e:Ut._createOn(e)).getMinimalFlatRanges().reverse();for(const o of t)this._addOperationForAffectedMarkers("move",o),uu(o.start,o.end.offset-o.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,o=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Io))throw new Ne("writer-merge-no-element-before",this);if(!(o instanceof Io))throw new Ne("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,o){return this.model.createPositionFromPath(e,t,o)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,o=e.nodeAfter;this.move(Ut._createIn(o),sn._createAt(t,"end")),this.remove(o)}_merge(e){const t=sn._createAt(e.nodeBefore,"end"),o=sn._createAt(e.nodeAfter,0),h=new sn(e.root.document.graveyard,[0]),y=new Ps(o,e.nodeAfter.maxOffset,t,h,e.root.document.version);this.batch.addOperation(y),this.model.applyOperation(y)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Io))throw new Ne("writer-rename-not-element-instance",this);const o=e.root.document?e.root.document.version:null,a=new il(sn._createBefore(e),e.name,t,o);this.batch.addOperation(a),this.model.applyOperation(a)}split(e,t){this._assertWriterUsedCorrectly();let o,a,h=e.parent;if(!h.parent)throw new Ne("writer-split-element-no-parent",this);if(t||(t=h.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new Ne("writer-split-invalid-limit-element",this);do{const g=h.root.document?h.root.document.version:null,y=h.maxOffset-e.offset,k=fo.getInsertionPosition(e),E=new fo(e,y,k,null,g);this.batch.addOperation(E),this.model.applyOperation(E),o||a||(o=h,a=e.parent.nextSibling),h=(e=this.createPositionAfter(e.parent)).parent}while(h!==t);return{position:e,range:new Ut(sn._createAt(o,"end"),sn._createAt(a,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new Ne("writer-wrap-range-not-flat",this);const o=t instanceof Io?t:new Io(t);if(o.childCount>0)throw new Ne("writer-wrap-element-not-empty",this);if(null!==o.parent)throw new Ne("writer-wrap-element-attached",this);this.insert(o,e.start);const a=new Ut(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(a,sn._createAt(o,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new Ne("writer-unwrap-element-no-parent",this);this.move(Ut._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new Ne("writer-addmarker-no-usingoperation",this);const o=t.usingOperation,a=t.range,h=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new Ne("writer-addmarker-marker-exists",this);if(!a)throw new Ne("writer-addmarker-no-range",this);return o?(gh(this,e,null,a,h),this.model.markers.get(e)):this.model.markers._set(e,a,o,h)}updateMarker(e,t){this._assertWriterUsedCorrectly();const o="string"==typeof e?e:e.name,a=this.model.markers.get(o);if(!a)throw new Ne("writer-updatemarker-marker-not-exists",this);if(!t)return At("writer-updatemarker-reconvert-using-editingcontroller",{markerName:o}),void this.model.markers._refresh(a);const h="boolean"==typeof t.usingOperation,g="boolean"==typeof t.affectsData,y=g?t.affectsData:a.affectsData;if(!h&&!t.range&&!g)throw new Ne("writer-updatemarker-wrong-options",this);const k=a.getRange(),E=t.range?t.range:k;h&&t.usingOperation!==a.managedUsingOperations?t.usingOperation?gh(this,o,null,E,y):(gh(this,o,k,null,y),this.model.markers._set(o,E,void 0,y)):a.managedUsingOperations?gh(this,o,k,E,y):this.model.markers._set(o,E,void 0,y)}removeMarker(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new Ne("writer-removemarker-no-marker",this);const o=this.model.markers.get(t);o.managedUsingOperations?gh(this,t,o.getRange(),null,o.affectsData):this.model.markers._remove(t)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else for(const[o,a]of On(e))this._setSelectionAttribute(o,a)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const a=Xl._getStoreAttributeKey(e);this.setAttribute(a,t,o.anchor.parent)}o._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const o=Xl._getStoreAttributeKey(e);this.removeAttribute(o,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new Ne("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const o of this.model.markers){if(!o.managedUsingOperations)continue;const a=o.getRange();let h=!1;if("move"===e){const g=t;h=g.containsPosition(a.start)||g.start.isEqual(a.start)||g.containsPosition(a.end)||g.end.isEqual(a.end)}else{const k=t.nodeAfter,D=a.end.parent==k&&0==a.end.offset,L=a.end.nodeAfter==k,W=a.start.nodeAfter==k;h=a.start.parent==t.nodeBefore&&a.start.isAtEnd||D||L||W}h&&this.updateMarker(o.name,{range:a})}}}function nd(d,e,t,o){const a=d.model,h=a.document;let g,y,k,E=o.start;for(const L of o.getWalker({shallow:!0}))k=L.item.getAttribute(e),g&&y!=k&&(y!=t&&D(),E=g),g=L.nextPosition,y=k;function D(){const L=new Ut(E,g),de=new sa(L,e,y,t,L.root.document?h.version:null);d.batch.addOperation(de),a.applyOperation(de)}g instanceof sn&&g!=E&&y!=t&&D()}function bg(d,e,t,o){const a=d.model,h=a.document,g=o.getAttribute(e);let y,k;g!=t&&(o.root===o?k=new bc(o,e,g,t,o.document?h.version:null):(y=new Ut(sn._createBefore(o),d.createPositionAfter(o)),k=new sa(y,e,g,t,y.root.document?h.version:null)),d.batch.addOperation(k),a.applyOperation(k))}function gh(d,e,t,o,a){const h=d.model,y=new _c(e,t,o,h.markers,!!a,h.document.version);d.batch.addOperation(y),h.applyOperation(y)}function uu(d,e,t,o){let a;if(d.root.document){const h=o.document,g=new sn(h.graveyard,[0]);a=new Yr(d,e,g,h.version)}else a=new _g(d,e);t.addOperation(a),o.applyOperation(a)}function id(d,e){return d===e||d instanceof ef&&e instanceof ef}function mh(d,e){return d.isCollapsed?function(t,o){const a=t.start,h=o.getNearestSelectionRange(a);if(!h){const y=a.getAncestors().reverse().find(k=>o.isObject(k));return y?Ut._createOn(y):null}if(!h.isCollapsed)return h;const g=h.start;return a.isEqual(g)?null:new Ut(g)}(d,e):function(t,o){const{start:a,end:h}=t,g=o.checkChild(a,"$text"),y=o.checkChild(h,"$text"),k=o.getLimitElement(a),E=o.getLimitElement(h);if(k===E){if(g&&y)return null;if(function(W,de,Ae){const Oe=W.nodeAfter&&!Ae.isLimit(W.nodeAfter)||Ae.checkChild(W,"$text"),He=de.nodeBefore&&!Ae.isLimit(de.nodeBefore)||Ae.checkChild(de,"$text");return Oe||He}(a,h,o)){const W=a.nodeAfter&&o.isSelectable(a.nodeAfter)?null:o.getNearestSelectionRange(a,"forward"),de=h.nodeBefore&&o.isSelectable(h.nodeBefore)?null:o.getNearestSelectionRange(h,"backward");return new Ut(W?W.start:a,de?de.end:h)}}const D=k&&!k.is("rootElement"),L=E&&!E.is("rootElement");if(D||L){const W=a.nodeAfter&&h.nodeBefore&&a.nodeAfter.parent===h.nodeBefore.parent,de=D&&(!W||!Od(a.nodeAfter,o)),Ae=L&&(!W||!Od(h.nodeBefore,o));let Oe=a,He=h;return de&&(Oe=sn._createBefore(jf(k,o))),Ae&&(He=sn._createAfter(jf(E,o))),new Ut(Oe,He)}return null}(d,e)}function jf(d,e){let t=d,o=t;for(;e.isLimit(o)&&o.parent;)t=o,o=o.parent;return t}function Od(d,e){return d&&e.isSelectable(d)}function Ou(d,e,t={}){if(e.isCollapsed)return;const o=e.getFirstRange();if("$graveyard"==o.root.rootName)return;const a=d.schema;d.change(h=>{if(!t.doNotResetEntireContent&&function(E,D){const L=E.getLimitElement(D);if(!D.containsEntireContent(L))return!1;const W=D.getFirstRange();return W.start.parent!=W.end.parent&&E.checkChild(L,"paragraph")}(a,e))return void function(E,D){const L=E.model.schema.getLimitElement(D);E.remove(E.createRangeIn(L)),od(E,E.createPositionAt(L,0),D)}(h,e);const g={};if(!t.doNotAutoparagraph){const E=e.getSelectedElement();E&&Object.assign(g,a.getAttributesWithProperty(E,"copyOnReplace",!0))}const[y,k]=function(E){const D=E.root.document.model,L=E.start;let W=E.end;if(D.hasContent(E,{ignoreMarkers:!0})){const de=function(Ae){const Oe=Ae.parent,He=Oe.root.document.model.schema,pt=Oe.getAncestors({parentFirst:!0,includeSelf:!0});for(const Tt of pt){if(He.isLimit(Tt))return null;if(He.isBlock(Tt))return Tt}}(W);if(de&&W.isTouching(D.createPositionAt(de,0))){const Ae=D.createSelection(E);D.modifySelection(Ae,{direction:"backward"});const Oe=Ae.getLastPosition(),He=D.createRange(Oe,W);D.hasContent(He,{ignoreMarkers:!0})||(W=Oe)}}return[Ba.fromPosition(L,"toPrevious"),Ba.fromPosition(W,"toNext")]}(o);y.isTouching(k)||h.remove(h.createRange(y,k)),t.leaveUnmerged||(function(E,D,L){const W=E.model;if(!rd(E.model.schema,D,L))return;const[de,Ae]=function(Oe,He){const pt=Oe.getAncestors(),Tt=He.getAncestors();let Zt=0;for(;pt[Zt]&&pt[Zt]==Tt[Zt];)Zt++;return[pt[Zt],Tt[Zt]]}(D,L);!de||!Ae||(!W.hasContent(de,{ignoreMarkers:!0})&&W.hasContent(Ae,{ignoreMarkers:!0})?Nd(E,D,L,de.parent):zf(E,D,L,de.parent))}(h,y,k),a.removeDisallowedAttributes(y.parent.getChildren(),h)),hm(h,e,y),!t.doNotAutoparagraph&&function(E,D){const L=E.checkChild(D,"$text"),W=E.checkChild(D,"paragraph");return!L&&W}(a,y)&&od(h,y,e,g),y.detach(),k.detach()})}function zf(d,e,t,o){const a=e.parent,h=t.parent;if(a!=o&&h!=o){for(e=d.createPositionAfter(a),(t=d.createPositionBefore(h)).isEqual(e)||d.insert(h,e),d.merge(e);t.parent.isEmpty;){const g=t.parent;t=d.createPositionBefore(g),d.remove(g)}rd(d.model.schema,e,t)&&zf(d,e,t,o)}}function Nd(d,e,t,o){const a=e.parent,h=t.parent;if(a!=o&&h!=o){for(e=d.createPositionAfter(a),(t=d.createPositionBefore(h)).isEqual(e)||d.insert(a,t);e.parent.isEmpty;){const g=e.parent;e=d.createPositionBefore(g),d.remove(g)}t=d.createPositionBefore(h),function(g,y){const k=y.nodeBefore,E=y.nodeAfter;k.name!=E.name&&g.rename(k,E.name),g.clearAttributes(k),g.setAttributes(Object.fromEntries(E.getAttributes()),k),g.merge(y)}(d,t),rd(d.model.schema,e,t)&&Nd(d,e,t,o)}}function rd(d,e,t){const o=e.parent,a=t.parent;return o!=a&&!d.isLimit(o)&&!d.isLimit(a)&&function(h,g,y){const k=new Ut(h,g);for(const E of k.getWalker())if(y.isLimit(E.item))return!1;return!0}(e,t,d)}function od(d,e,t,o={}){const a=d.createElement("paragraph");d.model.schema.setAllowedAttributes(a,o,d),d.insert(a,e),hm(d,t,d.createPositionAt(a,0))}function hm(d,e,t){e instanceof Xl?d.setSelection(t):e.setTo(t)}function nf(d,e){const t=[];Array.from(d.getItems({direction:"backward"})).map(o=>e.createRangeOn(o)).filter(o=>(o.start.isAfter(d.start)||o.start.isEqual(d.start))&&(o.end.isBefore(d.end)||o.end.isEqual(d.end))).forEach(o=>{t.push(o.start.parent),e.remove(o)}),t.forEach(o=>{let a=o;for(;a.parent&&a.isEmpty;){const h=e.createRangeOn(a);a=a.parent,e.remove(h)}})}class _h{constructor(e,t,o){this.model=e,this.writer=t,this.position=o,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),o=this.writer.createPositionAfter(e);if(o.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new Ne("insertcontent-invalid-insertion-position",this);this.position=o,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Ut._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Ut(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Ba.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new Ne("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this._nodeToSelect=this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?e:null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Ba.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Ba.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Io&&this._canMergeLeft(e)))return;const t=Ba._createBefore(e);t.stickiness="toNext";const o=Ba.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Ba._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Ba._createAt(t.nodeBefore,"end","toNext")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Io&&this._canMergeRight(e)))return;const t=Ba._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new Ne("insertcontent-invalid-insertion-position",this);this.position=sn._createAt(t.nodeBefore,"end");const o=Ba.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Ba._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Ba._createAt(t.nodeBefore,0,"toPrevious")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Io&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Io&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const o=this.position.parent;this.position=this.writer.createPositionBefore(o),o.isEmpty&&o.parent===t&&this.writer.remove(o)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const o=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=o,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function rf(d,e,t="auto"){const o=d.getSelectedElement();if(o&&e.schema.isObject(o)&&!e.schema.isInline(o))return"before"==t||"after"==t?e.createRange(e.createPositionAt(o,t)):e.createRangeOn(o);const a=fi(d.getSelectedBlocks());if(!a)return e.createRange(d.focus);if(a.isEmpty)return e.createRange(e.createPositionAt(a,0));const h=e.createPositionAfter(a);return d.focus.isTouching(h)?e.createRange(h):e.createRange(e.createPositionBefore(a))}function Vf(d,e){const{isForward:t,walker:o,unit:a,schema:h,treatEmojiAsSingleUnit:g}=d,{type:y,item:k,nextPosition:E}=e;if("text"==y)return"word"===d.unit?function(D,L){let W=D.position.textNode;for(W||(W=L?D.position.nodeAfter:D.position.nodeBefore);W&&W.is("$text");){const de=D.position.offset-W.startOffset;if(wg(W,de,L))W=L?D.position.nodeAfter:D.position.nodeBefore;else{if(fm(W.data,de,L))break;D.next()}}return D.position}(o,t):function(D,L,W){const de=D.position.textNode;if(de){const Ae=de.data;let Oe=D.position.offset-de.startOffset;for(;Il(Ae,Oe)||"character"==L&&hs(Ae,Oe)||W&&to(Ae,Oe);)D.next(),Oe=D.position.offset-de.startOffset}return D.position}(o,a,g);if(y==(t?"elementStart":"elementEnd")){if(h.isSelectable(k))return sn._createAt(k,t?"after":"before");if(h.checkChild(E,"$text"))return E}else{if(h.isLimit(k))return void o.skip(()=>!0);if(h.checkChild(E,"$text"))return E}}function Uf(d,e){const o=sn._createAt(d.root,e?"end":0);return e?new Ut(d,o):new Ut(o,d)}function fm(d,e,t){return' ,.?!:;"-()'.includes(d.charAt(e+(t?0:-1)))}function wg(d,e,t){return e===(t?d.offsetSize:0)}class Xm extends(Tn()){constructor(){super(),this.markers=new ph,this.document=new tf(this),this.schema=new vp,this._pendingChanges=[],this._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if("$marker"===t.name)return!0}),function(d){d.document.registerPostFixer(e=>function(t,o){const a=o.document.selection,h=o.schema,g=[];let y=!1;for(const k of a.getRanges()){const E=mh(k,h);E&&!E.isEqual(k)?(g.push(E),y=!0):g.push(k)}return y&&t.setSelection(function(k){const E=[...k],D=new Set;let L=1;for(;L<E.length;){const W=E[L],de=E.slice(0,L);for(const[Ae,Oe]of de.entries())if(!D.has(Ae))if(W.isEqual(Oe))D.add(Ae);else if(W.isIntersecting(Oe)){D.add(Ae),D.add(L);const He=W.getJoined(Oe);E.push(He)}L++}return E.filter((W,de)=>!D.has(de))}(g),{backward:a.isBackward}),!1}(e,d))}(this),this.document.registerPostFixer(Uc)}change(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new hh,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){Ne.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?"function"==typeof e?(t=e,e=new hh):e instanceof hh||(e=new hh(e)):e=new hh,this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(o){Ne.rethrowUnexpectedError(o,this)}}applyOperation(e){e._execute()}insertContent(e,t,o){return h=e,g=t,y=o,(a=this).change(k=>{let E;E=g?g instanceof Jl||g instanceof Xl?g:k.createSelection(g,y):a.document.selection,E.isCollapsed||a.deleteContent(E,{doNotAutoparagraph:!0});const D=new _h(a,k,E.anchor),L=[];let W;if(h.is("documentFragment")){if(h.markers.size){const Oe=[];for(const[He,pt]of h.markers){const{start:Tt,end:Zt}=pt,Mn=Tt.isEqual(Zt);Oe.push({position:Tt,name:He,isCollapsed:Mn},{position:Zt,name:He,isCollapsed:Mn})}Oe.sort(({position:He},{position:pt})=>He.isBefore(pt)?1:-1);for(const{position:He,name:pt,isCollapsed:Tt}of Oe){let Zt=null,Mn=null;const er=He.parent===h&&He.isAtStart,mr=He.parent===h&&He.isAtEnd;er||mr?Tt&&(Mn=er?"start":"end"):(Zt=k.createElement("$marker"),k.insert(Zt,He)),L.push({name:pt,element:Zt,collapsed:Mn})}}W=h.getChildren()}else W=[h];D.handleNodes(W);let de=D.getSelectionRange();if(h.is("documentFragment")&&L.length){const Oe=de?pc.fromRange(de):null,He={};for(let pt=L.length-1;pt>=0;pt--){const{name:Tt,element:Zt,collapsed:Mn}=L[pt],er=!He[Tt];if(er&&(He[Tt]=[]),Zt){const mr=k.createPositionAt(Zt,"before");He[Tt].push(mr),k.remove(Zt)}else{const mr=D.getAffectedRange();if(!mr){Mn&&He[Tt].push(D.position);continue}He[Tt].push(Mn?mr[Mn]:er?mr.start:mr.end)}}for(const[pt,[Tt,Zt]]of Object.entries(He))Tt&&Zt&&Tt.root===Zt.root&&k.addMarker(pt,{usingOperation:!0,affectsData:!0,range:new Ut(Tt,Zt)});Oe&&(de=Oe.toRange(),Oe.detach())}de&&(E instanceof Xl?k.setSelection(de):E.setTo(de));const Ae=D.getAffectedRange()||a.createRange(E.anchor);return D.destroy(),Ae});var a,h,g,y}insertObject(e,t,o,a){return function(d,e,t,o,a={}){if(!d.schema.isObject(e))throw new Ne("insertobject-element-not-an-object",d,{object:e});let h;h=t?t instanceof Jl||t instanceof Xl?t:d.createSelection(t,o):d.document.selection;let g=h;a.findOptimalPosition&&d.schema.isBlock(e)&&(g=d.createSelection(rf(h,d,a.findOptimalPosition)));const y=fi(h.getSelectedBlocks()),k={};return y&&Object.assign(k,d.schema.getAttributesWithProperty(y,"copyOnReplace",!0)),d.change(E=>{g.isCollapsed||d.deleteContent(g,{doNotAutoparagraph:!0});let D=e;const L=g.anchor.parent;!d.schema.checkChild(L,e)&&d.schema.checkChild(L,"paragraph")&&d.schema.checkChild("paragraph",e)&&(D=E.createElement("paragraph"),E.insert(e,D)),d.schema.setAllowedAttributes(D,k,E);const W=d.insertContent(D,g);return W.isCollapsed||a.setSelection&&function(de,Ae,Oe,He){const pt=de.model;if("on"==Oe)return void de.setSelection(Ae,"on");if("after"!=Oe)throw new Ne("insertobject-invalid-place-parameter-value",pt);let Tt=Ae.nextSibling;pt.schema.isInline(Ae)?de.setSelection(Ae,"after"):(!(Tt&&pt.schema.checkChild(Tt,"$text"))&&pt.schema.checkChild(Ae.parent,"paragraph")&&(Tt=de.createElement("paragraph"),pt.schema.setAllowedAttributes(Tt,He,de),pt.insertContent(Tt,de.createPositionAfter(Ae))),Tt&&de.setSelection(Tt,0))}(E,e,a.setSelection,k),W})}(this,e,t,o,a)}deleteContent(e,t){Ou(this,e,t)}modifySelection(e,t){!function(o,a,h={}){const g=o.schema,y="backward"!=h.direction,k=h.unit?h.unit:"character",E=!!h.treatEmojiAsSingleUnit,L=new Oa({boundaries:Uf(a.focus,y),singleCharacters:!0,direction:y?"forward":"backward"}),W={walker:L,schema:g,isForward:y,unit:k,treatEmojiAsSingleUnit:E};let de;for(;de=L.next();){if(de.done)return;const Ae=Vf(W,de.value);if(Ae)return void(a instanceof Xl?o.change(Oe=>{Oe.setSelectionFocus(Ae)}):a.setFocus(Ae))}}(this,e,t)}getSelectedContent(e){return function(t,o){return t.change(a=>{const h=a.createDocumentFragment(),g=o.getFirstRange();if(!g||g.isCollapsed)return h;const y=g.start.root,k=g.start.getCommonPath(g.end),E=y.getNodeByPath(k);let D;D=g.start.parent==g.end.parent?g:a.createRange(a.createPositionAt(E,g.start.path[k.length]),a.createPositionAt(E,g.end.path[k.length]+1));const L=D.end.offset-D.start.offset;for(const W of D.getItems({shallow:!0}))W.is("$textProxy")?a.appendText(W.data,W.getAttributes(),h):a.append(a.cloneElement(W,!0),h);if(D!=g){const W=g._getTransformedByMove(D.start,a.createPositionAt(h,0),L)[0],de=a.createRange(a.createPositionAt(h,0),W.start);nf(a.createRange(W.end,a.createPositionAt(h,"end")),a),nf(de,a)}return h})}(this,e)}hasContent(e,t={}){const o=e instanceof Ut?e:Ut._createIn(e);if(o.isCollapsed)return!1;const{ignoreWhitespaces:a=!1,ignoreMarkers:h=!1}=t;if(!h)for(const g of this.markers.getMarkersIntersectingRange(o))if(g.affectsData)return!0;for(const g of o.getItems())if(this.schema.isContent(g)&&(!g.is("$textProxy")||!a||-1!==g.data.search(/\S/)))return!0;return!1}createPositionFromPath(e,t,o){return new sn(e,t,o)}createPositionAt(e,t){return sn._createAt(e,t)}createPositionAfter(e){return sn._createAfter(e)}createPositionBefore(e){return sn._createBefore(e)}createRange(e,t){return new Ut(e,t)}createRangeIn(e){return Ut._createIn(e)}createRangeOn(e){return Ut._createOn(e)}createSelection(...e){return new Jl(...e)}createBatch(e){return new hh(e)}createOperationFromJSON(e){return class{static fromJSON(e,t){return Iu[e.__className].fromJSON(e,t)}}.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){this._currentWriter=new Jm(this,this._pendingChanges[0].batch);const o=this._pendingChanges[0].callback(this._currentWriter);e.push(o),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}class Cg extends $a{constructor(e){super(e),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Ap extends $a{constructor(e){super(e),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class of{constructor(e){this.document=e}createDocumentFragment(e){return new Xi(this.document,e)}createElement(e,t,o){return new Ma(this.document,e,t,o)}createText(e){return new ko(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,o){return o._insertChild(e,t)}removeChildren(e,t,o){return o._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const o=e.parent;if(o){const a=o.getChildIndex(e);return this.removeChildren(a,1,o),this.insertChild(a,t,o),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const o=t.getChildIndex(e);this.remove(e),this.insertChild(o,e.getChildren(),t)}}rename(e,t){const o=new Ma(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,o)?o:null}setAttribute(e,t,o){o._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,o){In(e)&&void 0===o?t._setStyle(e):o._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,o){o._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return kn._createAt(e,t)}createPositionAfter(e){return kn._createAfter(e)}createPositionBefore(e){return kn._createBefore(e)}createRange(e,t){return new Bi(e,t)}createRangeOn(e){return Bi._createOn(e)}createRangeIn(e){return Bi._createIn(e)}createSelection(...e){return new Fl(...e)}}new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);class pm{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const o=this.get(e);if(!o)throw new Ne("commandcollection-command-not-found",this,{commandName:e});return o.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class e_ extends sr{constructor(e){super(),this.editor=e}set(e,t,o={}){if("string"==typeof t){const a=t;t=(h,g)=>{this.editor.execute(a),g()}}super.set(e,t,o)}}class kg extends(Tn()){constructor(e={}){super();const t=this.constructor;this._context=e.context||new fr({language:e.language||t.defaultConfig&&t.defaultConfig.language}),this._context._addEditor(this,!e.context);const a=Array.from(t.builtinPlugins||[]);this.config=new Wt(e,t.defaultConfig),this.config.define("plugins",a),this.config.define(this._context._getEditorConfig()),this.plugins=new ka(this,a,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new pm,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Xm;const h=new Tc;this.data=new Zm(this.model,h),this.editing=new ig(this.model,h),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ur([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new e_(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new Ne("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new Ne("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new Ne("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),o=e.get("removePlugins")||[],a=e.get("extraPlugins")||[],h=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(a),o,h)}destroy(){let e=Promise.resolve();return"initializing"==this.state&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(o){Ne.rethrowUnexpectedError(o,this)}}focus(){this.editing.view.focus()}}class yc{constructor(e){this.editor=e,this._components=new Map}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Ag(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new Ne("componentfactory-item-missing",this,{name:e});return this._components.get(Ag(e)).callback(this.editor.locale)}has(e){return this._components.has(Ag(e))}}function Ag(d){return String(d).toLowerCase()}class Rd extends xn{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,o,a)=>{this._renderViewIntoCollectionParent(o,a)}),this.on("remove",(t,o)=>{o.element&&this._parentElement&&o.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every(t=>"string"==typeof t))throw new Ne("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const o of this)for(const a of e)o.delegate(a).to(t);this.on("add",(o,a)=>{for(const h of e)a.delegate(h).to(t)}),this.on("remove",(o,a)=>{for(const h of e)a.stopDelegating(h,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}}class _a extends(Ie()){constructor(e){super(),Object.assign(this,xg(du(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new Ne("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const o of t.children)Hf(o)?yield o:fu(o)&&(yield*e(o))}(this)}static bind(e,t){return{to:(o,a)=>new gm({eventNameOrFunction:o,attribute:o,observable:e,emitter:t,callback:a}),if:(o,a,h)=>new bh({observable:e,emitter:t,attribute:o,valueIfTrue:a,callback:h})}}static extend(e,t){if(e._isRendered)throw new Ne("template-extend-render",[this,e]);bm(e,xg(du(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new Ne("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),ir(this.text)?this._bindToObservable({schema:this.text,updater:rl(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,o=e.revertData;for(const a in this.attributes){const h=t.getAttribute(a),g=this.attributes[a];o&&(o.attributes[a]=h);const y=Fd(g)?g[0].ns:null;if(ir(g)){const k=Fd(g)?g[0].value:g;o&&Cs(a)&&k.unshift(h),this._bindToObservable({schema:k,updater:gs(t,a,y),data:e})}else if("style"==a&&"string"!=typeof g[0])this._renderStyleAttribute(g[0],e);else{o&&h&&Cs(a)&&g.unshift(h);const k=g.map(E=>E&&E.value||E).reduce((E,D)=>E.concat(D),[]).reduce(hu,"");sd(k)||t.setAttributeNS(y,a,k)}}}_renderStyleAttribute(e,t){const o=t.node;for(const a in e){const h=e[a];ir(h)?this._bindToObservable({schema:[h],updater:mm(o,a),data:t}):o.style[a]=h}}_renderElementChildren(e){const t=e.node,o=e.intoFragment?document.createDocumentFragment():t,a=e.isApplying;let h=0;for(const g of this.children)if(wc(g)){if(!a){g.setParent(t);for(const y of g)o.appendChild(y.element)}}else if(Hf(g))a||(g.isRendered||g.render(),o.appendChild(g.element));else if(vi(g))o.appendChild(g);else if(a){const y={children:[],bindings:[],attributes:{}};e.revertData.children.push(y),g._renderNode({intoFragment:!1,node:o.childNodes[h++],isApplying:!0,revertData:y})}else o.appendChild(g.render());e.intoFragment&&t.appendChild(o)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const o=this.eventListeners[t].map(a=>{const[h,g]=t.split("@");return a.activateDomEventListener(h,g,e)});e.revertData&&e.revertData.bindings.push(o)}}_bindToObservable({schema:e,updater:t,data:o}){const a=o.revertData;sf(e,t,o);const h=e.filter(g=>!sd(g)).filter(g=>g.observable).map(g=>g.activateAttributeListener(e,t,o));a&&a.bindings.push(h)}_revertTemplateFromNode(e,t){for(const a of t.bindings)for(const h of a)h();if(t.text)return void(e.textContent=t.text);const o=e;for(const a in t.attributes){const h=t.attributes[a];null===h?o.removeAttribute(a):o.setAttribute(a,h)}for(let a=0;a<t.children.length;++a)this._revertTemplateFromNode(o.childNodes[a],t.children[a])}}class xp{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,o){const a=()=>sf(e,t,o);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,a),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,a)}}}class gm extends xp{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,o){const a=(h,g)=>{t&&!g.target.matches(t)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(g):this.observable.fire(this.eventNameOrFunction,g))};return this.emitter.listenTo(o.node,e,a),()=>{this.emitter.stopListening(o.node,e,a)}}}class bh extends xp{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!sd(super.getValue(e))&&(this.valueIfTrue||!0)}}function ir(d){return!!d&&(d.value&&(d=d.value),Array.isArray(d)?d.some(ir):d instanceof xp)}function sf(d,e,{node:t}){const o=(g=t,d.map(y=>y instanceof xp?y.getValue(g):y));var g;let a;a=1==d.length&&d[0]instanceof bh?o[0]:o.reduce(hu,""),sd(a)?e.remove():e.set(a)}function rl(d){return{set(e){d.textContent=e},remove(){d.textContent=""}}}function gs(d,e,t){return{set(o){d.setAttributeNS(t,e,o)},remove(){d.removeAttributeNS(t,e)}}}function mm(d,e){return{set(t){d.style[e]=t},remove(){d.style[e]=null}}}function du(d){return Nt(d,e=>{if(e&&(e instanceof xp||fu(e)||Hf(e)||wc(e)))return e})}function xg(d){if("string"==typeof d?d=function(e){return{text:[e]}}(d):d.text&&function(e){e.text=ce(e.text)}(d),d.on&&(d.eventListeners=function(e){for(const t in e)Ep(e,t);return e}(d.on),delete d.on),!d.text){d.attributes&&function(t){for(const o in t)t[o].value&&(t[o].value=ce(t[o].value)),Ep(t,o)}(d.attributes);const e=[];if(d.children)if(wc(d.children))e.push(d.children);else for(const t of d.children)fu(t)||Hf(t)||vi(t)?e.push(t):e.push(new _a(t));d.children=e}return d}function Ep(d,e){d[e]=ce(d[e])}function hu(d,e){return sd(e)?d:sd(d)?e:`${d} ${e}`}function _m(d,e){for(const t in e)d[t]?d[t].push(...e[t]):d[t]=e[t]}function bm(d,e){if(e.attributes&&(d.attributes||(d.attributes={}),_m(d.attributes,e.attributes)),e.eventListeners&&(d.eventListeners||(d.eventListeners={}),_m(d.eventListeners,e.eventListeners)),e.text&&d.text.push(...e.text),e.children&&e.children.length){if(d.children.length!=e.children.length)throw new Ne("ui-template-extend-children-mismatch",d);let t=0;for(const o of e.children)bm(d.children[t++],o)}}function sd(d){return!d&&0!==d}function Hf(d){return d instanceof Br}function fu(d){return d instanceof _a}function wc(d){return d instanceof Rd}function Fd(d){return Ht(d[0])&&d[0].ns}function Cs(d){return"class"==d||"style"==d}var Ws=oe(4793);Li()(Ws.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Br extends(Us(Tn())){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new xn,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,o)=>{o.locale=e,o.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=_a.bind(this,this)}createCollection(e){const t=new Rd(e);return this._viewCollections.add(t),t}registerChild(e){Mi(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Mi(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new _a(e)}extendTemplate(e){_a.extend(this.template,e)}render(){if(this.isRendered)throw new Ne("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}var Mp=oe(8793);Li()(Mp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const vm=_o("px"),qf=si.document.body;class Al extends Br{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",o=>`ck-balloon-panel_${o}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",vm),left:t.to("left",vm)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=Al.defaultPositions,o=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:qf,fitInViewport:!0},e),a=Al._getOptimalPosition(o),h=parseInt(a.left),g=parseInt(a.top),y=a.name,k=a.config||{},{withArrow:E=!0}=k;this.top=g,this.left=h,this.position=y,this.withArrow=E}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=Dp(e.target),o=e.limiter?Dp(e.limiter):qf;this.listenTo(si.document,"scroll",(a,h)=>{const g=h.target,y=t&&g.contains(t),k=o&&g.contains(o);!y&&!k&&t&&o||this.attachTo(e)},{useCapture:!0}),this.listenTo(si.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(si.document,"scroll"),this.stopListening(si.window,"resize")}}function Dp(d){return vt(d)?d:Fi(d)?d.commonAncestorContainer:"function"==typeof d?Dp(d()):null}function pu(d={}){const{sideOffset:e=Al.arrowSideOffset,heightOffset:t=Al.arrowHeightOffset,stickyVerticalOffset:o=Al.stickyVerticalOffset,config:a}=d;return{northWestArrowSouthWest:(y,k)=>mn({top:h(y,k),left:y.left-e,name:"arrow_sw"},a&&{config:a}),northWestArrowSouthMiddleWest:(y,k)=>mn({top:h(y,k),left:y.left-.25*k.width-e,name:"arrow_smw"},a&&{config:a}),northWestArrowSouth:(y,k)=>mn({top:h(y,k),left:y.left-k.width/2,name:"arrow_s"},a&&{config:a}),northWestArrowSouthMiddleEast:(y,k)=>mn({top:h(y,k),left:y.left-.75*k.width+e,name:"arrow_sme"},a&&{config:a}),northWestArrowSouthEast:(y,k)=>mn({top:h(y,k),left:y.left-k.width+e,name:"arrow_se"},a&&{config:a}),northArrowSouthWest:(y,k)=>mn({top:h(y,k),left:y.left+y.width/2-e,name:"arrow_sw"},a&&{config:a}),northArrowSouthMiddleWest:(y,k)=>mn({top:h(y,k),left:y.left+y.width/2-.25*k.width-e,name:"arrow_smw"},a&&{config:a}),northArrowSouth:(y,k)=>mn({top:h(y,k),left:y.left+y.width/2-k.width/2,name:"arrow_s"},a&&{config:a}),northArrowSouthMiddleEast:(y,k)=>mn({top:h(y,k),left:y.left+y.width/2-.75*k.width+e,name:"arrow_sme"},a&&{config:a}),northArrowSouthEast:(y,k)=>mn({top:h(y,k),left:y.left+y.width/2-k.width+e,name:"arrow_se"},a&&{config:a}),northEastArrowSouthWest:(y,k)=>mn({top:h(y,k),left:y.right-e,name:"arrow_sw"},a&&{config:a}),northEastArrowSouthMiddleWest:(y,k)=>mn({top:h(y,k),left:y.right-.25*k.width-e,name:"arrow_smw"},a&&{config:a}),northEastArrowSouth:(y,k)=>mn({top:h(y,k),left:y.right-k.width/2,name:"arrow_s"},a&&{config:a}),northEastArrowSouthMiddleEast:(y,k)=>mn({top:h(y,k),left:y.right-.75*k.width+e,name:"arrow_sme"},a&&{config:a}),northEastArrowSouthEast:(y,k)=>mn({top:h(y,k),left:y.right-k.width+e,name:"arrow_se"},a&&{config:a}),southWestArrowNorthWest:y=>mn({top:g(y),left:y.left-e,name:"arrow_nw"},a&&{config:a}),southWestArrowNorthMiddleWest:(y,k)=>mn({top:g(y),left:y.left-.25*k.width-e,name:"arrow_nmw"},a&&{config:a}),southWestArrowNorth:(y,k)=>mn({top:g(y),left:y.left-k.width/2,name:"arrow_n"},a&&{config:a}),southWestArrowNorthMiddleEast:(y,k)=>mn({top:g(y),left:y.left-.75*k.width+e,name:"arrow_nme"},a&&{config:a}),southWestArrowNorthEast:(y,k)=>mn({top:g(y),left:y.left-k.width+e,name:"arrow_ne"},a&&{config:a}),southArrowNorthWest:y=>mn({top:g(y),left:y.left+y.width/2-e,name:"arrow_nw"},a&&{config:a}),southArrowNorthMiddleWest:(y,k)=>mn({top:g(y),left:y.left+y.width/2-.25*k.width-e,name:"arrow_nmw"},a&&{config:a}),southArrowNorth:(y,k)=>mn({top:g(y),left:y.left+y.width/2-k.width/2,name:"arrow_n"},a&&{config:a}),southArrowNorthMiddleEast:(y,k)=>mn({top:g(y),left:y.left+y.width/2-.75*k.width+e,name:"arrow_nme"},a&&{config:a}),southArrowNorthEast:(y,k)=>mn({top:g(y),left:y.left+y.width/2-k.width+e,name:"arrow_ne"},a&&{config:a}),southEastArrowNorthWest:y=>mn({top:g(y),left:y.right-e,name:"arrow_nw"},a&&{config:a}),southEastArrowNorthMiddleWest:(y,k)=>mn({top:g(y),left:y.right-.25*k.width-e,name:"arrow_nmw"},a&&{config:a}),southEastArrowNorth:(y,k)=>mn({top:g(y),left:y.right-k.width/2,name:"arrow_n"},a&&{config:a}),southEastArrowNorthMiddleEast:(y,k)=>mn({top:g(y),left:y.right-.75*k.width+e,name:"arrow_nme"},a&&{config:a}),southEastArrowNorthEast:(y,k)=>mn({top:g(y),left:y.right-k.width+e,name:"arrow_ne"},a&&{config:a}),westArrowEast:(y,k)=>mn({top:y.top+y.height/2-k.height/2,left:y.left-k.width-t,name:"arrow_e"},a&&{config:a}),eastArrowWest:(y,k)=>mn({top:y.top+y.height/2-k.height/2,left:y.right+t,name:"arrow_w"},a&&{config:a}),viewportStickyNorth:(y,k,E)=>y.getIntersection(E)?{top:E.top+o,left:y.left+y.width/2-k.width/2,name:"arrowless",config:mn({withArrow:!1},a)}:null};function h(y,k){return y.top-k.height-t}function g(y){return y.bottom+t}}Al.arrowSideOffset=25,Al.arrowHeightOffset=10,Al.stickyVerticalOffset=20,Al._getOptimalPosition=rs,Al.defaultPositions=pu();var vh=oe(3332);Li()(vh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Gf="ck-tooltip";class Zs extends(Us()){constructor(e){if(super(),Zs._editors.add(e),Zs._instance)return Zs._instance;Zs._instance=this,this.tooltipTextView=new Br(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Al(e.locale),this.balloonPanelView.class=Gf,this.balloonPanelView.content.add(this.tooltipTextView),this._resizeObserver=null,this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._pinTooltipDebounced=Ss(this._pinTooltip,600),this.listenTo(si.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(si.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(si.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(si.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(si.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;Zs._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),Zs._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Zs._instance=null)}static getPositioningFunctions(e){const t=Zs.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const o=xl(t);var a;o&&o!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(o,{text:(a=o).dataset.ckeTooltipText,position:a.dataset.ckeTooltipPosition||"s",cssClass:a.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(e,{target:t,relatedTarget:o}){if("mouseleave"===e.name){if(!vt(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const a=xl(t),h=xl(o);a&&a!==h&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:o,cssClass:a}){const h=fi(Zs._editors.values()).ui.view.body;h.has(this.balloonPanelView)||h.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:Zs.getPositioningFunctions(o)}),this._resizeObserver=new ei(e,()=>{is(e)||this._unpinTooltip()}),this.balloonPanelView.class=[Gf,a].filter(g=>g).join(" ");for(const g of Zs._editors)this.listenTo(g.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=o}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of Zs._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){is(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Zs.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function xl(d){return vt(d)?d.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}Zs.defaultBalloonPositions=pu({heightOffset:5,sideOffset:13}),Zs._editors=new Set,Zs._instance=null;class af extends(Tn()){constructor(e){super(),this.editor=e,this.componentFactory=new yc(e),this.focusTracker=new Yn,this.tooltipManager=new Zs(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.isReady=!1,this.once("ready",()=>{this.isReady=!0}),this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const e of this._editableElementsMap.values())e.ckeditorInstance=null;this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const o=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?o():this.once("ready",o)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const o=e.config.get("toolbar.viewportTopOffset");return o?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:o}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let o,a;e.keystrokes.set("Alt+F10",(h,g)=>{const y=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(y)&&!Array.from(t.domRoots.values()).includes(y)&&(o=y);const k=this._getCurrentFocusedToolbarDefinition();k&&a||(a=this._getFocusableCandidateToolbarDefinitions());for(let E=0;E<a.length;E++){const D=a.shift();if(a.push(D),D!==k&&this._focusFocusableCandidateToolbar(D)){k&&k.options.afterBlur&&k.options.afterBlur();break}}g()}),e.keystrokes.set("Esc",(h,g)=>{const y=this._getCurrentFocusedToolbarDefinition();y&&(o?(o.focus(),o=null):e.editing.view.focus(),y.options.afterBlur&&y.options.afterBlur(),g())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:o,options:a}=t;(is(o.element)||a.beforeFocus)&&e.push(t)}return e.sort((t,o)=>Mg(t)-Mg(o)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:o}}=e;return o&&o(),!!is(t.element)&&(t.focus(),!0)}}function Mg(d){const{toolbarView:e,options:t}=d;let o=10;return is(e.element)&&o--,t.isContextual&&o--,o}function yh(d){return class extends d{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const d=yh(Object);yh.setData=d.prototype.setData,yh.getData=d.prototype.getData}function Sp(d){return class extends d{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new Ne("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),o=this.sourceElement instanceof HTMLTextAreaElement;!function(d,e){d instanceof HTMLTextAreaElement&&(d.value=e),d.innerHTML=e}(this.sourceElement,t||o?e:"")}}}Sp.updateSourceElement=Sp(Object).prototype.updateSourceElement;class $f extends no{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new xn({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if("string"!=typeof e)throw new Ne("pendingactions-add-invalid-message",this);const t=new(Tn());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Os={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};function wh({emitter:d,activator:e,callback:t,contextElements:o}){d.listenTo(document,"mousedown",(a,h)=>{if(!e())return;const g="function"==typeof h.composedPath?h.composedPath():[];for(const y of o)if(y.contains(h.target)||g.includes(y))return;t()})}function Cc(d){const e=d;e.set("_isCssTransitionsDisabled",!1),e.disableCssTransitions=()=>{e._isCssTransitionsDisabled=!0},e.enableCssTransitions=()=>{e._isCssTransitionsDisabled=!1},e.extendTemplate({attributes:{class:[e.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function rr({view:d}){d.listenTo(d.element,"submit",(e,t)=>{t.preventDefault(),d.fire("submit")},{useCapture:!0})}class Ld extends Rd{constructor(e,t=[]){super(t),this.locale=e}attachToDom(){this._bodyCollectionContainer=new _a({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=mt(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}var la=oe(6574);Li()(la.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});let Ip=(()=>{class d extends Br{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),o=t.getAttribute("viewBox");o&&(this.viewBox=o);for(const{name:a,value:h}of Array.from(t.attributes))d.presentationalAttributeNames.includes(a)&&this.element.setAttribute(a,h);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}return d.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"],d})();var ro=oe(4906);Li()(ro.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Po extends Br{constructor(e){super(e);const t=this.bindTemplate,o=yt();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(o),this.iconView=new Ip,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const a={tag:"button",attributes:{class:["ck","ck-button",t.to("class"),t.if("isEnabled","ck-disabled",h=>!h),t.if("isVisible","ck-hidden",h=>!h),t.to("isOn",h=>h?"ck-on":"ck-off"),t.if("withText","ck-button_with-text"),t.if("withKeystroke","ck-button_with-keystroke")],type:t.to("type",h=>h||"button"),tabindex:t.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${o}`,"aria-disabled":t.if("isEnabled",!0,h=>!h),"aria-pressed":t.to("isOn",h=>!!this.isToggleable&&String(!!h)),"data-cke-tooltip-text":t.to("_tooltipString"),"data-cke-tooltip-position":t.to("tooltipPosition")},children:this.children,on:{click:t.to(h=>{this.isEnabled?this.fire("execute"):h.preventDefault()})}};Z_isSafari&&(a.on.mousedown=t.to(h=>{this.focus(),h.preventDefault()})),this.setTemplate(a)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(e){const t=new Br;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:this.bindTemplate.to("label")}]}),t}_createKeystrokeView(){const e=new Br;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>B(t))}]}),e}_getTooltipString(e,t,o){return e?"string"==typeof e?e:(o&&(o=B(o)),e instanceof Function?e(t,o):`${t}${o?` (${o})`:""}`):""}}var Ch=oe(5332);Li()(Ch.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Bd extends Po{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Br;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var ym=oe(6781);Li()(ym.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Wf='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Pp extends Po{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Ip;return e.content=Wf,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}var Op=oe(7686);Li()(Op.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class cf extends Br{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new sr,this.focusTracker=new Yn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",o=>!o),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new Po;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new Po,t=e.bindTemplate;return e.icon=Wf,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",o=>String(o))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}class Np extends Br{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",o=>`ck-dropdown__panel_${o}`),t.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:t.to(o=>o.preventDefault())}})}focus(){if(this.children.length){const e=this.children.first;"function"==typeof e.focus?e.focus():At("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}var po=oe(5485);Li()(po.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class qc extends Br{constructor(e,t,o){super(e);const a=this.bindTemplate;this.buttonView=t,this.panelView=o,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new sr,this.focusTracker=new Yn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",h=>!h)],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[t,o]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":a.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,o,a)=>{a&&(this.panelView.position="auto"===this.panelPosition?qc._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element);const e=(t,o)=>{this.isOpen&&(this.isOpen=!1,o())};this.keystrokes.set("arrowdown",(t,o)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,o())}),this.keystrokes.set("arrowright",(t,o)=>{this.isOpen&&o()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:o,southWest:a,northEast:h,northWest:g,southMiddleEast:y,southMiddleWest:k,northMiddleEast:E,northMiddleWest:D}=qc.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[o,a,y,k,e,h,g,E,D,t]:[a,o,k,y,e,g,h,D,E,t]}}qc.defaultPanelPositions={south:(d,e)=>({top:d.bottom,left:d.left-(e.width-d.width)/2,name:"s"}),southEast:d=>({top:d.bottom,left:d.left,name:"se"}),southWest:(d,e)=>({top:d.bottom,left:d.left-e.width+d.width,name:"sw"}),southMiddleEast:(d,e)=>({top:d.bottom,left:d.left-(e.width-d.width)/4,name:"sme"}),southMiddleWest:(d,e)=>({top:d.bottom,left:d.left-3*(e.width-d.width)/4,name:"smw"}),north:(d,e)=>({top:d.top-e.height,left:d.left-(e.width-d.width)/2,name:"n"}),northEast:(d,e)=>({top:d.top-e.height,left:d.left,name:"ne"}),northWest:(d,e)=>({top:d.top-e.height,left:d.left-e.width+d.width,name:"nw"}),northMiddleEast:(d,e)=>({top:d.top-e.height,left:d.left-(e.width-d.width)/4,name:"nme"}),northMiddleWest:(d,e)=>({top:d.top-e.height,left:d.left-3*(e.width-d.width)/4,name:"nmw"})},qc._getOptimalPosition=rs;class kc{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let o=e.actions[t];"string"==typeof o&&(o=[o]);for(const a of o)e.keystrokeHandler.set(a,(h,g)=>{this[t](),g()})}}get first(){return this.focusables.find(ks)||null}get last(){return this.focusables.filter(ks).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((t,o)=>{const a=t.element===this.focusTracker.focusedElement;return a&&(e=o),a}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const t=this.current,o=this.focusables.length;if(!o)return null;if(null===t)return this[1===e?"first":"last"];let a=(t+o+e)%o;do{const h=this.focusables.get(a);if(ks(h))return h;a=(a+o+e)%o}while(a!==t);return null}}function ks(d){return!(!d.focus||!is(d.element))}class ol extends Br{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Ac extends Br{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Ig(d){return Array.isArray(d)?{items:d,removeItems:[]}:d?Object.assign({items:[],removeItems:[]},d):{items:[],removeItems:[]}}var Zf=oe(5542);Li()(Zf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const{threeVerticalDots:El}=Os,Gc={alignLeft:Os.alignLeft,bold:Os.bold,importExport:Os.importExport,paragraph:Os.paragraph,plus:Os.plus,text:Os.text,threeVerticalDots:Os.threeVerticalDots};class Nu extends Br{constructor(e,t){super(e);const o=this.bindTemplate,a=this.t;this.options=t||{},this.set("ariaLabel",a("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Yn,this.keystrokes=new sr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Cm(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const h="rtl"===e.uiLanguageDirection;this._focusCycler=new kc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[h?"arrowright":"arrowleft","arrowup"],focusNext:[h?"arrowleft":"arrowright","arrowdown"]}});const g=["ck","ck-toolbar",o.to("class"),o.if("isCompact","ck-toolbar_compact")];var y;this.options.shouldGroupWhenFull&&this.options.isFloating&&g.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:g,role:"toolbar","aria-label":o.to("ariaLabel"),style:{maxWidth:o.to("maxWidth")}},children:this.children,on:{mousedown:(y=this,y.bindTemplate.to(k=>{k.target===y.element&&k.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new ca(this):new Pg(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,o){const a=Ig(e),h=o||a.removeItems,g=this._cleanItemsConfiguration(a.items,t,h).map(y=>Ht(y)?this._createNestedToolbarDropdown(y,t,h):"|"===y?new ol:"-"===y?new Ac:t.create(y)).filter(y=>!!y);this.items.addMany(g)}_cleanItemsConfiguration(e,t,o){const a=e.filter((h,g,y)=>"|"===h||-1===o.indexOf(h)&&("-"===h?!this.options.shouldGroupWhenFull||(At("toolbarview-line-break-ignored-when-grouping-items",y),!1):!(!Ht(h)&&!t.has(h)&&(At("toolbarview-item-unavailable",{item:h}),1))));return this._cleanSeparatorsAndLineBreaks(a)}_cleanSeparatorsAndLineBreaks(e){const t=g=>"-"!==g&&"|"!==g,o=e.length,a=e.findIndex(t);if(-1===a)return[];const h=o-e.slice().reverse().findIndex(t);return e.slice(a,h).filter((g,y,k)=>!!t(g)||!(y>0&&k[y-1]===g))}_createNestedToolbarDropdown(e,t,o){let{label:a,icon:h,items:g,tooltip:y=!0,withText:k=!1}=e;if(g=this._cleanItemsConfiguration(g,t,o),!g.length)return null;const E=jd(this.locale);return a||At("toolbarview-nested-toolbar-dropdown-missing-label",e),E.class="ck-toolbar__nested-toolbar-dropdown",E.buttonView.set({label:a,tooltip:y,withText:!!k}),!1!==h?E.buttonView.icon=Gc[h]||h||El:E.buttonView.withText=!0,Rg(E,[]),E.toolbarView.fillFromConfig(g,t,o),E}}class Cm extends Br{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Pg{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(o=>o),e.focusables.bindTo(e.items).using(o=>o),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class ca{constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,o)=>{const a=o.index,h=Array.from(o.added);for(const g of o.removed)a>=this.ungroupedItems.length?this.groupedItems.remove(g):this.ungroupedItems.remove(g);for(let g=a;g<a+h.length;g++){const y=h[g-a];g>this.ungroupedItems.length?this.groupedItems.add(y,g-this.ungroupedItems.length):this.ungroupedItems.add(y,g)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!is(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,o=new Rr(e.lastChild),a=new Rr(e);if(!this.cachedPadding){const h=si.window.getComputedStyle(e);this.cachedPadding=Number.parseInt(h["ltr"===t?"paddingRight":"paddingLeft"])}return"ltr"===t?o.right>a.right-this.cachedPadding:o.left<a.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new ei(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new ol),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,o=jd(e);return o.class="ck-toolbar__grouped-dropdown",o.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",Rg(o,[]),o.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:"rtl"===e.uiLanguageDirection?"se":"sw",icon:El}),o.toolbarView.items.bindTo(this.groupedItems).using(a=>a),o}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var Na=oe(1046);Li()(Na.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Og extends Br{constructor(e){super(e),this.items=this.createCollection(),this.focusTracker=new Yn,this.keystrokes=new sr,this._focusCycler=new kc({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Ng extends Br{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",o=>!o)]},children:this.children})}focus(){this.children.first.focus()}}class Ru extends Br{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var ad=oe(7339);Li()(ad.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Ah=oe(3949);function jd(d,e=Pp){const t=new e(d),o=new Np(d),a=new qc(d,t,o);return t.bind("isEnabled").to(a),t instanceof cf?t.arrowView.bind("isOn").to(a,"isOpen"):t.bind("isOn").to(a,"isOpen"),(g=h=a).on("render",()=>{wh({emitter:g,activator:()=>g.isOpen,callback:()=>{g.isOpen=!1},contextElements:[g.element]})}),function(g){g.on("execute",y=>{y.source instanceof Bd||(g.isOpen=!1)})}(h),function(g){g.focusTracker.on("change:isFocused",(y,k,E)=>{g.isOpen&&!E&&(g.isOpen=!1)})}(h),function(g){g.keystrokes.set("arrowdown",(y,k)=>{g.isOpen&&(g.panelView.focus(),k())}),g.keystrokes.set("arrowup",(y,k)=>{g.isOpen&&(g.panelView.focusLast(),k())})}(h),function(g){g.on("change:isOpen",(y,k,E)=>{E||g.panelView.element.contains(si.document.activeElement)&&g.buttonView.focus()})}(h),function(g){g.on("change:isOpen",(y,k,E)=>{E&&g.panelView.focus()},{priority:"low"})}(h),a;var h,g}function Rg(d,e,t={}){const o=d.locale,a=o.t,h=d.toolbarView=new Nu(o);h.set("ariaLabel",a("Dropdown toolbar")),d.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.map(g=>h.items.add(g)),t.enableActiveItemFocusOnDropdownOpen&&Fu(d,()=>h.items.find(g=>g.isOn)),d.panelView.children.add(h),h.items.delegate("execute").to(d)}function Am(d,e){const t=d.locale,o=d.listView=new Og(t);o.items.bindTo(e).using(a=>{if("separator"===a.type)return new Ru(t);if("button"===a.type||"switchbutton"===a.type){const h=new Ng(t);let g;return g="button"===a.type?new Po(t):new Bd(t),g.bind(...Object.keys(a.model)).to(a.model),g.delegate("execute").to(h),h.children.add(g),h}return null}),d.panelView.children.add(o),o.items.delegate("execute").to(d),Fu(d,()=>o.items.find(a=>a instanceof Ng&&a.children.first.isOn))}function Fu(d,e){d.on("change:isOpen",()=>{if(!d.isOpen)return;const t=e();t&&("function"==typeof t.focus?t.focus():At("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:rt.low-10})}Li()(Ah.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var xm=oe(9688);Li()(xm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Kf extends Br{constructor(e){super(e),this.body=new Ld(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var Fg=oe(3662);Li()(Fg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Em extends Br{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${yt()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class r_ extends Kf{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new Em;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class Mm extends Br{constructor(e,t,o){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=o,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const e=this._editingView;function t(o){e.change(a=>{const h=e.document.getRoot(o.name);a.addClass(o.isFocused?"ck-focused":"ck-blurred",h),a.removeClass(o.isFocused?"ck-blurred":"ck-focused",h)})}e.isRenderingInProgress?function o(a){e.once("change:isRenderingInProgress",(h,g,y)=>{y?o(a):t(a)})}(this):t(this)}}class Dm extends Mm{constructor(e,t,o,a={}){super(e,t,o);const h=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=a.label||(()=>h("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const o=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),o)})}}var Yf=oe(8847);Li()(Yf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Tm=oe(4879);Li()(Tm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Rp extends Br{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Yn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),inputmode:t.to("inputMode"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...o)=>{this.fire("input",...o),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,o)=>{this._setDomElementValue(o),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||0===e?e:""}}class Sm extends Rp{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var uf=oe(2577);Li()(uf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class jg extends Br{constructor(e,t){super(e);const o=`ck-labeled-field-view-${yt()}`,a=`ck-labeled-field-view-status-${yt()}`;this.fieldView=t(this,o,a),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(o),this.statusView=this._createStatusView(a),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(g,y)=>g||y);const h=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",h.to("class"),h.if("isEnabled","ck-disabled",g=>!g),h.if("isEmpty","ck-labeled-field-view_empty"),h.if("isFocused","ck-labeled-field-view_focused"),h.if("placeholder","ck-labeled-field-view_placeholder"),h.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new Em(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Br(this.locale),o=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",o.if("errorText","ck-labeled-field-view__status_error"),o.if("_statusText","ck-hidden",a=>!a)],id:e,role:o.if("errorText","alert")},children:[{text:o.to("_statusText")}]}),t}focus(){this.fieldView.focus()}}function Qf(d,e,t){const o=new Sm(d.locale);return o.set({id:e,ariaDescribedById:t}),o.bind("isReadOnly").to(d,"isEnabled",a=>!a),o.bind("hasError").to(d,"errorText",a=>!!a),o.on("input",()=>{d.errorText=null}),d.bind("isEmpty","isFocused","placeholder").to(o),o}class df extends no{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){this.fire(e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`,{message:e.message,type:e.type,title:e.title||""})}}class zg extends(Tn()){constructor(e,t){super(),t&&La(this,t),e&&this.set(e)}}var hf=oe(4650);Li()(hf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Lu=oe(7676);Li()(Lu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Ml=_o("px");class Ud extends cn{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this.positionLimiter=()=>{const t=this.editor.editing.view,o=t.document.selection.editableElement;return o?t.domConverter.mapViewToDom(o.root):null},this.set("visibleView",null),this.view=new Al(e.locale),e.ui.view.body.add(this.view),e.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}destroy(){super.destroy(),this.view.destroy(),this._rotatorView.destroy(),this._fakePanelsView.destroy()}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this.hasView(e.view))throw new Ne("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const o=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),o.set(e.view,e),this._viewToStack.set(e.view,o),o===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new Ne("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new Ne("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new Hd(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(o,a)=>!a&&o>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(o,a)=>{if(a<2)return"";const h=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[h,a])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new Vg(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,o)=>!o&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:o=!0,singleViewMode:a=!1}){this.view.class=t,this.view.withArrow=o,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),a&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class Hd extends Br{constructor(e){super(e);const t=e.t,o=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Yn,this.buttonPrevView=this._createButtonView(t("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(t("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",a=>a?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const o=new Po(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o}}class Vg extends Br{constructor(e,t){super(e);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",a=>a?"":"ck-hidden")],style:{top:o.to("top",Ml),left:o.to("left",Ml),width:o.to("width",Ml),height:o.to("height",Ml)}},children:this.content}),this.on("change:numberOfPanels",(a,h,g,y)=>{g>y?this._addPanels(g-y):this._removePanels(y-g),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Br;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:o,height:a}=new Rr(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:o,height:a})}}}var Wc=oe(5868);Li()(Wc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Ns=_o("px");class Dl extends Br{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new _a({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",o=>o?"block":"none"),height:t.to("isSticky",o=>o?Ns(this._panelRect.height):null)}}}).render(),this._contentPanel=new _a({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",o=>o?Ns(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_hasViewportTopOffset",o=>o?Ns(this.viewportTopOffset):null),bottom:t.to("_isStickyToTheLimiter",o=>o?Ns(this.limiterBottomOffset):null),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(si.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Ns(-si.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}_o("px");var pf=oe(9695);Li()(pf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),_o("px"),_o("px");class Eh extends af{constructor(e,t){super(e),this.view=t,this._toolbarConfig=Ig(e.config.get("toolbar")),this._elementReplacer=new Jn}get element(){return this.view.element}init(e){const o=this.view,a=this.editor.editing.view,h=o.editable,g=a.document.getRoot();h.name=g.rootName,o.render();const y=h.element;this.setEditableElement(h.name,y),o.editable.bind("isFocused").to(this.focusTracker),a.attachDomRoot(y),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,o=t.document.getRoot(),a=e.sourceElement,h=e.config.get("placeholder")||a&&"textarea"===a.tagName.toLowerCase()&&a.getAttribute("placeholder");h&&oc({view:t,element:o,text:h,isDirectHost:!1,keepOnFocus:!0})}}var qd=oe(3143);Li()(qd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Mh extends r_{constructor(e,t,o={}){super(e),this.stickyPanel=new Dl(e),this.toolbar=new Nu(e,{shouldGroupWhenFull:o.shouldToolbarGroupWhenFull}),this.editable=new Dm(e,t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Dh extends(yh(Sp(kg))){constructor(e,t={}){if(!Bu(e)&&void 0!==t.initialData)throw new Ne("editor-create-initial-data",null);var h,g;super(t),void 0===this.config.get("initialData")&&this.config.set("initialData",Bu(h=e)?(g=h)instanceof HTMLTextAreaElement?g.value:g.innerHTML:h),Bu(e)&&(this.sourceElement=e),this.model.document.createRoot();const o=!this.config.get("toolbar.shouldNotGroupWhenFull"),a=new Mh(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:o});this.ui=new Eh(this,a),function(h){if(!Ci(h.updateSourceElement))throw new Ne("attachtoform-missing-elementapi-interface",h);const g=h.sourceElement;if((y=g)&&"textarea"===y.tagName.toLowerCase()&&g.form){let y;const k=g.form,E=()=>h.updateSourceElement();Ci(k.submit)&&(y=k.submit,k.submit=()=>{E(),y.apply(k)}),k.addEventListener("submit",E),h.on("destroy",()=>{k.removeEventListener("submit",E),y&&(k.submit=y)})}var y}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(o=>{const a=new this(e,t);o(a.initPlugins().then(()=>a.ui.init(Bu(e)?e:null)).then(()=>a.data.init(a.config.get("initialData"))).then(()=>a.fire("ready")).then(()=>a))})}}function Bu(d){return vt(d)}class Ks extends $a{constructor(e){super(e);const t=this.document;function o(a){return(h,g)=>{g.preventDefault();const y=g.dropRange?[g.dropRange]:null,k=new Ee(t,a);t.fire(k,{dataTransfer:g.dataTransfer,method:h.name,targetRanges:y,target:g.target}),k.stop.called&&g.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(t,"paste",o("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",o("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",o("dragging"),{priority:"low"})}onDomEvent(e){const t={dataTransfer:new hp("clipboardData"in e?e.clipboardData:e.dataTransfer)};"drop"!=e.type&&"dragover"!=e.type||(t.dropRange=function(o,a){const h=a.target.ownerDocument,g=a.clientX,y=a.clientY;let k;return h.caretRangeFromPoint&&h.caretRangeFromPoint(g,y)?k=h.caretRangeFromPoint(g,y):a.rangeParent&&(k=h.createRange(),k.setStart(a.rangeParent,a.rangeOffset),k.collapse(!0)),k?o.domConverter.domRangeToView(k):null}(this.view,e)),this.fire(e.type,e,t)}}const Zc=["figcaption","li"];function Th(d){let e="";if(d.is("$text")||d.is("$textProxy"))e=d.data;else if(d.is("element","img")&&d.hasAttribute("alt"))e=d.getAttribute("alt");else if(d.is("element","br"))e="\n";else{let t=null;for(const o of d.getChildren()){const a=Th(o);t&&(t.is("containerElement")||o.is("containerElement"))&&(Zc.includes(t.name)||Zc.includes(o.name)?e+="\n":e+="\n\n"),e+=a,t=o}}return e}class gu extends cn{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Ks),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,t=e.model,o=e.editing.view,a=o.document;this.listenTo(a,"clipboardInput",h=>{e.isReadOnly&&h.stop()},{priority:"highest"}),this.listenTo(a,"clipboardInput",(h,g)=>{const y=g.dataTransfer;let k;if(g.content)k=g.content;else{let L="";y.getData("text/html")?L=y.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(de,Ae)=>1==Ae.length?" ":Ae).replace(/<!--[\s\S]*?-->/g,""):y.getData("text/plain")&&(((E=(E=y.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||E.includes("<br>"))&&(E=`<p>${E}</p>`),L=E),k=this.editor.data.htmlProcessor.toView(L)}var E;const D=new Ee(this,"inputTransformation");this.fire(D,{content:k,dataTransfer:y,targetRanges:g.targetRanges,method:g.method}),D.stop.called&&h.stop(),o.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(h,g)=>{if(g.content.isEmpty)return;const y=this.editor.data.toModel(g.content,"$clipboardHolder");0!=y.childCount&&(h.stop(),t.change(()=>{this.fire("contentInsertion",{content:y,method:g.method,dataTransfer:g.dataTransfer,targetRanges:g.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(h,g)=>{g.resultRange=t.insertContent(g.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,o=e.editing.view.document,a=(h,g)=>{const y=g.dataTransfer;g.preventDefault();const k=e.data.toView(e.model.getSelectedContent(t.selection));o.fire("clipboardOutput",{dataTransfer:y,content:k,method:h.name})};this.listenTo(o,"copy",a,{priority:"low"}),this.listenTo(o,"cut",(h,g)=>{e.isReadOnly?g.preventDefault():a(h,g)},{priority:"low"}),this.listenTo(o,"clipboardOutput",(h,g)=>{g.content.isEmpty||(g.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(g.content)),g.dataTransfer.setData("text/plain",Th(g.content))),"cut"==g.method&&e.model.deleteContent(t.selection)},{priority:"low"})}}class ju{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(o,a)=>{a.isLocal&&a.isUndoable&&a!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class Gd extends De{constructor(e,t){super(e),this._buffer=new ju(e.model,t)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,o=t.document,a=e.text||"",h=a.length;let g=o.selection;e.selection?g=e.selection:e.range&&(g=t.createSelection(e.range));const y=e.resultRange;t.enqueueChange(this._buffer.batch,k=>{this._buffer.lock(),t.deleteContent(g),a&&t.insertContent(k.createText(a,o.selection.getAttributes()),g),y?k.setSelection(y):g.is("documentSelection")||k.setSelection(g),this._buffer.unlock(),this._buffer.input(h)})}}const gf=["insertText","insertReplacementText"];class Hg extends Fn{constructor(e){super(e),Z_isAndroid&&gf.push("insertCompositionText");const t=e.document;t.on("beforeinput",(o,a)=>{if(!this.isEnabled)return;const{data:h,targetRanges:g,inputType:y,domEvent:k}=a;if(!gf.includes(y))return;const E=new Ee(t,"insertText");t.fire(E,new Sa(e,k,{text:h,selection:e.createSelection(g)})),E.stop.called&&o.stop()}),t.on("compositionend",(o,{data:a,domEvent:h})=>{this.isEnabled&&!Z_isAndroid&&a&&t.fire("insertText",new Sa(e,h,{text:a,selection:t.selection}))},{priority:"lowest"})}observe(){}}class cd extends cn{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,o=e.editing.view,a=t.document.selection;o.addObserver(Hg);const h=new Gd(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",h),e.commands.add("input",h),this.listenTo(o.document,"insertText",(g,y)=>{o.document.isComposing||y.preventDefault();const{text:k,selection:E,resultRange:D}=y,L=Array.from(E.getRanges()).map(Ae=>e.editing.mapper.toModelRange(Ae));let W=k;if(Z_isAndroid){const Ae=Array.from(L[0].getItems()).reduce((Oe,He)=>Oe+(He.is("$textProxy")?He.data:""),"");Ae&&(Ae.length<=W.length?W.startsWith(Ae)&&(W=W.substring(Ae.length),L[0].start=L[0].start.getShiftedBy(Ae.length)):Ae.startsWith(W)&&(L[0].start=L[0].start.getShiftedBy(W.length),W=""))}const de={text:W,selection:t.createSelection(L)};D&&(de.resultRange=e.editing.mapper.toModelRange(D)),e.execute("insertText",de)}),Z_isAndroid?this.listenTo(o.document,"keydown",(g,y)=>{!a.isCollapsed&&229==y.keyCode&&o.document.isComposing&&Jf(t,h)}):this.listenTo(o.document,"compositionstart",()=>{a.isCollapsed||Jf(t,h)})}}function Jf(d,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),d.enqueueChange(t.batch,()=>{d.deleteContent(d.document.selection)}),t.unlock()}class qg extends De{constructor(e,t){super(e),this.direction=t,this._buffer=new ju(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,o=t.document;t.enqueueChange(this._buffer.batch,a=>{this._buffer.lock();const h=a.createSelection(e.selection||o.selection),g=e.sequence||1,y=h.isCollapsed;if(h.isCollapsed&&t.modifySelection(h,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(g))return void this._replaceEntireContentWithParagraph(a);if(this._shouldReplaceFirstBlockWithParagraph(h,g))return void this.editor.execute("paragraph",{selection:h});if(h.isCollapsed)return;let k=0;h.getFirstRange().getMinimalFlatRanges().forEach(E=>{k+=di(E.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(h,{doNotResetEntireContent:y,direction:this.direction}),this._buffer.input(k),a.setSelection(h),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,o=t.document.selection,a=t.schema.getLimitElement(o);if(!o.isCollapsed||!o.containsEntireContent(a)||!t.schema.checkChild(a,"paragraph"))return!1;const h=a.getChild(0);return!h||!h.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,a=t.schema.getLimitElement(t.document.selection),h=e.createElement("paragraph");e.remove(e.createRangeIn(a)),e.insert(h,a),e.setSelection(h,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const o=this.editor.model;if(t>1||"backward"!=this.direction||!e.isCollapsed)return!1;const a=e.getFirstPosition(),h=o.schema.getLimitElement(a),g=h.getChild(0);return a.parent==g&&!!e.containsEntireContent(g)&&!!o.schema.checkChild(h,"paragraph")&&"paragraph"!=g.name}}const ud="selection",dd="backward",Xf="forward",Bp={deleteContent:{unit:ud,direction:dd},deleteContentBackward:{unit:"codePoint",direction:dd},deleteWordBackward:{unit:"word",direction:dd},deleteHardLineBackward:{unit:ud,direction:dd},deleteSoftLineBackward:{unit:ud,direction:dd},deleteContentForward:{unit:"character",direction:Xf},deleteWordForward:{unit:"word",direction:Xf},deleteHardLineForward:{unit:ud,direction:Xf},deleteSoftLineForward:{unit:ud,direction:Xf}};class ep extends Fn{constructor(e){super(e);const t=e.document;let o=0;t.on("keydown",()=>{o++}),t.on("keyup",()=>{o=0}),t.on("beforeinput",(a,h)=>{if(!this.isEnabled)return;const{targetRanges:g,domEvent:y,inputType:k}=h,E=Bp[k];if(!E)return;const D={direction:E.direction,unit:E.unit,sequence:o};D.unit==ud&&(D.selectionToRemove=e.createSelection(g[0])),Z_isAndroid&&"deleteContentBackward"===k&&(D.sequence=1,1!=g.length||g[0].start.parent==g[0].end.parent&&g[0].start.offset+1==g[0].end.offset||(D.unit=ud,D.selectionToRemove=e.createSelection(g)));const L=new vl(t,"delete",g[0]);t.fire(L,new Sa(e,y,D)),L.stop.called&&a.stop()}),Z_isBlink&&function(a){const h=a.view,g=h.document;let y=null,k=!1;function E(L){return L==ri.backspace||L==ri.delete}function D(L){return L==ri.backspace?dd:Xf}g.on("keydown",(L,{keyCode:W})=>{y=W,k=!1}),g.on("keyup",(L,{keyCode:W,domEvent:de})=>{const Ae=g.selection,Oe=a.isEnabled&&W==y&&E(W)&&!Ae.isCollapsed&&!k;if(y=null,Oe){const He=Ae.getFirstRange(),pt=new vl(g,"delete",He),Tt={unit:ud,direction:D(W),selectionToRemove:Ae};g.fire(pt,new Sa(h,de,Tt))}}),g.on("beforeinput",(L,{inputType:W})=>{const de=Bp[W];E(y)&&de&&de.direction==D(y)&&(k=!0)},{priority:"high"}),g.on("beforeinput",(L,{inputType:W,data:de})=>{y==ri.delete&&"insertText"==W&&"\x7f"==de&&L.stop()},{priority:"high"})}(this)}observe(){}}class zu extends cn{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,o=t.document,a=e.model.document;t.addObserver(ep),this._undoOnBackspace=!1;const h=new qg(e,"forward");e.commands.add("deleteForward",h),e.commands.add("forwardDelete",h),e.commands.add("delete",new qg(e,"backward")),this.listenTo(o,"delete",(g,y)=>{o.isComposing||y.preventDefault();const{direction:k,sequence:E,selectionToRemove:D,unit:L}=y,W="forward"===k?"deleteForward":"delete",de={sequence:E};if("selection"==L){const Ae=Array.from(D.getRanges()).map(Oe=>e.editing.mapper.toModelRange(Oe));de.selection=e.model.createSelection(Ae)}else de.unit=L;e.execute(W,de),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(o,"delete",(g,y)=>{this._undoOnBackspace&&"backward"==y.direction&&1==y.sequence&&"codePoint"==y.unit&&(this._undoOnBackspace=!1,e.execute("undo"),y.preventDefault(),g.stop())},{context:"$capture"}),this.listenTo(a,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class jp extends cn{static get requires(){return[cd,zu]}static get pluginName(){return"Typing"}}function zp(d,e){let t=d.start;return{text:Array.from(d.getItems()).reduce((o,a)=>a.is("$text")||a.is("$textProxy")?o+a.data:(t=e.createPositionAfter(a),""),""),range:e.createRange(t,d.end)}}class tp extends(Tn()){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:o})=>{o&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(t,o)=>{!o.isUndo&&o.isLocal&&this._evaluateTextBeforeSelection("data",{batch:o})})}_evaluateTextBeforeSelection(e,t={}){const o=this.model,a=o.document.selection,h=o.createRange(o.createPositionAt(a.focus.parent,0),a.focus),{text:g,range:y}=zp(h,o),k=this.testCallback(g);if(!k&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!k,k){const E=Object.assign(t,{text:g,range:y});"object"==typeof k&&Object.assign(E,k),this.fire(`matched:${e}`,E)}}}class hd extends cn{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,a=e.locale,h=e.model.document.selection;this.listenTo(e.editing.view.document,"arrowKey",(g,y)=>{if(!h.isCollapsed||y.shiftKey||y.altKey||y.ctrlKey)return;const k=y.keyCode==ri.arrowright,E=y.keyCode==ri.arrowleft;if(!k&&!E)return;const D=a.contentLanguageDirection;let L=!1;L="ltr"===D&&k||"rtl"===D&&E?this._handleForwardMovement(y):this._handleBackwardMovement(y),!0===L&&g.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(h,"change:range",(g,y)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!y.directChange&&$d(h.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,o=this.editor.model.document.selection,a=o.getFirstPosition();return!(this._isGravityOverridden||a.isAtStart&&sl(o,t)||!$d(a,t)||(Up(e),this._overrideGravity(),0))}_handleBackwardMovement(e){const t=this.attributes,o=this.editor.model,a=o.document.selection,h=a.getFirstPosition();return this._isGravityOverridden?(Up(e),this._restoreGravity(),Vp(o,t,h),!0):h.isAtStart?!!sl(a,t)&&(Up(e),Vp(o,t,h),!0):(y=t,!(!$d(h.getShiftedBy(-1),y)||(h.isAtEnd&&!sl(a,t)&&$d(h,t)?(Up(e),Vp(o,t,h),0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),1))));var y}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function sl(d,e){for(const t of e)if(d.hasAttribute(t))return!0;return!1}function Vp(d,e,t){const o=t.nodeBefore;d.change(a=>{o?a.setSelectionAttribute(o.getAttributes()):a.removeSelectionAttribute(e)})}function Up(d){d.preventDefault()}function $d(d,e){const{nodeBefore:t,nodeAfter:o}=d;for(const a of e){const h=t?t.getAttribute(a):void 0;if((o?o.getAttribute(a):void 0)!==h)return!0}return!1}var Wd=/[\\^$.*+?()[\]{}|]/g,Sh=RegExp(Wd.source);const Gg={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:np('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:np("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:np("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:np('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:np('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:np("'"),to:[null,"\u201a",null,"\u2019"]}},Hp={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},mf=["symbols","mathematical","typography","quotes"];function s_(d){return"string"==typeof d?new RegExp(`(${function(d){return(d=Af(d))&&Sh.test(d)?d.replace(Wd,"\\$&"):d}(d)})$`):d}function Im(d){return"string"==typeof d?()=>[d]:d instanceof Array?()=>d:d}function ib(d){return(d.textNode?d.textNode:d.nodeAfter).getAttributes()}function np(d){return new RegExp(`(^|\\s)(${d})([^${d}]*)(${d})$`)}function mu(d,e,t,o){return o.createRange(Pm(d,e,t,!0,o),Pm(d,e,t,!1,o))}function Pm(d,e,t,o,a){let h=d.textNode||(o?d.nodeBefore:d.nodeAfter),g=null;for(;h&&h.getAttribute(e)==t;)g=h,h=o?h.previousSibling:h.nextSibling;return g?a.createPositionAt(g,o?"before":"after"):d}function*$g(d,e){for(const t of e)t&&d.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class Om extends De{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,o=t.document.selection,a=t.schema,h=o.isCollapsed,g=o.getFirstRange(),y=g.start.parent,k=g.end.parent;if(a.isLimit(y)||a.isLimit(k))return h||y!=k||t.deleteContent(o),!1;if(h){const E=$g(e.model.schema,o.getAttributes());return _(e,g.start),e.setSelectionAttribute(E),!0}{const E=!(g.start.isAtStart&&g.end.isAtEnd),D=y==k;if(t.deleteContent(o,{leaveUnmerged:E}),E){if(D)return _(e,o.focus),!0;e.setSelection(k,0)}}return!1}}function _(d,e){d.split(e),d.setSelection(e.parent.nextSibling,0)}const C={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class O extends Fn{constructor(e){super(e);const t=this.document;t.on("beforeinput",(o,a)=>{if(!this.isEnabled)return;const h=a.domEvent,g=C[a.inputType];if(!g)return;const y=new vl(t,"enter",a.targetRanges[0]);t.fire(y,new Sa(e,h,{isSoft:g.isSoft})),y.stop.called&&o.stop()})}observe(){}}class ee extends cn{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,o=t.document;t.addObserver(O),e.commands.add("enter",new Om(e)),this.listenTo(o,"enter",(a,h)=>{o.isComposing||h.preventDefault(),h.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}class xe extends De{execute(){const e=this.editor.model,t=e.document;e.change(o=>{(function(a,h,g){const y=g.isCollapsed,k=g.getFirstRange(),D=k.end.parent,L=k.start.parent==D;if(y){const W=$g(a.schema,g.getAttributes());Ue(a,h,k.end),h.removeSelectionAttribute(g.getAttributeKeys()),h.setSelectionAttribute(W)}else{const W=!(k.start.isAtStart&&k.end.isAtEnd);a.deleteContent(g,{leaveUnmerged:W}),L?Ue(a,h,g.focus):W&&h.setSelection(D,0)}})(e,o,t.selection),this.fire("afterExecute",{writer:o})})}refresh(){const e=this.editor.model;this.isEnabled=function(o,a){if(a.rangeCount>1)return!1;const h=a.anchor;if(!h||!o.checkChild(h,"softBreak"))return!1;const g=a.getFirstRange(),y=g.start.parent,k=g.end.parent;return!((lt(y,o)||lt(k,o))&&y!==k)}(e.schema,e.document.selection)}}function Ue(d,e,t){const o=e.createElement("softBreak");d.insertContent(o,t),e.setSelection(o,"after")}function lt(d,e){return!d.is("rootElement")&&(e.isLimit(d)||lt(d.parent,e))}class Ct extends cn{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,o=e.conversion,a=e.editing.view,h=a.document;e.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),o.for("upcast").elementToElement({model:"softBreak",view:"br"}),o.for("downcast").elementToElement({model:"softBreak",view:(g,{writer:y})=>y.createEmptyElement("br")}),a.addObserver(O),e.commands.add("shiftEnter",new xe(e)),this.listenTo(h,"enter",(g,y)=>{h.isComposing||y.preventDefault(),y.isSoft&&(e.execute("shiftEnter"),a.scrollToTheSelection())},{priority:"low"})}}class It extends(Ie()){constructor(){super(),this._stack=[]}add(e,t){const o=this._stack,a=o[0];this._insertDescriptor(e);const h=o[0];a===h||on(a,h)||this.fire("change:top",{oldDescriptor:a,newDescriptor:h,writer:t})}remove(e,t){const o=this._stack,a=o[0];this._removeDescriptor(e);const h=o[0];a===h||on(a,h)||this.fire("change:top",{oldDescriptor:a,newDescriptor:h,writer:t})}_insertDescriptor(e){const t=this._stack,o=t.findIndex(h=>h.id===e.id);if(on(e,t[o]))return;o>-1&&t.splice(o,1);let a=0;for(;t[a]&&ln(t[a],e);)a++;t.splice(a,0,e)}_removeDescriptor(e){const t=this._stack,o=t.findIndex(a=>a.id===e);o>-1&&t.splice(o,1)}}function on(d,e){return d&&e&&d.priority==e.priority&&fn(d.classes)==fn(e.classes)}function ln(d,e){return d.priority>e.priority||!(d.priority<e.priority)&&fn(d.classes)>fn(e.classes)}function fn(d){return Array.isArray(d)?d.sort().join(","):d}const li="ck-widget_selected";function Qn(d){return!!d.is("element")&&!!d.getCustomProperty("widget")}function ar(d,e,t={}){if(!d.is("containerElement"))throw new Ne("widget-to-widget-wrong-element-type",null,{element:d});return e.setAttribute("contenteditable","false",d),e.addClass("ck-widget",d),e.setCustomProperty("widget",!0,d),d.getFillerOffset=i,e.setCustomProperty("widgetLabel",[],d),t.label&&(a=t.label,d.getCustomProperty("widgetLabel").push(a)),t.hasSelectionHandle&&function(o,a){const h=a.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(g){const y=this.toDomElement(g),k=new Ip;return k.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),k.render(),y.appendChild(k.element),y});a.insert(a.createPositionAt(o,0),h),a.addClass(["ck-widget_with-selection-handle"],o)}(d,e),yr(d,e),d;var a}function ji(d,e,t){if(e.classes&&t.addClass(ce(e.classes),d),e.attributes)for(const o in e.attributes)t.setAttribute(o,e.attributes[o],d)}function jr(d,e,t){if(e.classes&&t.removeClass(ce(e.classes),d),e.attributes)for(const o in e.attributes)t.removeAttribute(o,d)}function yr(d,e,t=ji,o=jr){const a=new It;a.on("change:top",(h,g)=>{g.oldDescriptor&&o(d,g.oldDescriptor,g.writer),g.newDescriptor&&t(d,g.newDescriptor,g.writer)}),e.setCustomProperty("addHighlight",(h,g,y)=>a.add(g,y),d),e.setCustomProperty("removeHighlight",(h,g,y)=>a.remove(g,y),d)}function Ul(d,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],d),e.setAttribute("role","textbox",d),t.label&&e.setAttribute("aria-label",t.label,d),e.setAttribute("contenteditable",d.isReadOnly?"false":"true",d),d.on("change:isReadOnly",(o,a,h)=>{e.setAttribute("contenteditable",h?"false":"true",d)}),d.on("change:isFocused",(o,a,h)=>{h?e.addClass("ck-editor__nested-editable_focused",d):e.removeClass("ck-editor__nested-editable_focused",d)}),yr(d,e),d}function s(d,e){const t=d.getSelectedElement();if(t){const o=b(d);if(o)return e.createRange(e.createPositionAt(t,o))}return rf(d,e)}function i(){return null}const c="widget-type-around";function p(d,e,t){return!!d&&Qn(d)&&!t.isInline(e)}function b(d){return d.getAttribute(c)}var A=oe(4921);Li()(A.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const j=["before","after"],se=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Me="ck-widget__type-around_disabled";class Be extends cn{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[ee,zu]}constructor(e){super(e),this._currentFakeCaretModelElement=null}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(o,a,h)=>{t.change(g=>{for(const y of t.document.roots)h?g.removeClass(Me,y):g.addClass(Me,y)}),h||e.model.change(g=>{g.removeSelectionAttribute(c)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const o=this.editor,a=o.editing.view,h=o.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);o.execute("insertParagraph",{position:o.model.createPositionAt(e,t),attributes:h}),a.focus(),a.scrollToTheSelection()}_listenToIfEnabled(e,t,o,a){this.listenTo(e,t,(...h)=>{this.isEnabled&&o(...h)},a)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=b(e);if(!t)return!1;const o=e.getSelectedElement();return this._insertParagraph(o,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,o=e.locale.t,a={before:o("Insert paragraph before block"),after:o("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(h,g,y)=>{const k=y.mapper.toViewElement(g.item);k&&p(k,g.item,t)&&(function(E,D,L){const W=E.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(de){const Ae=this.toDomElement(de);return function(Oe,He){for(const pt of j){const Tt=new _a({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${pt}`],title:He[pt],"aria-hidden":"true"},children:[Oe.ownerDocument.importNode(se,!0)]});Oe.appendChild(Tt.render())}}(Ae,D),function(Oe){const He=new _a({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});Oe.appendChild(He.render())}(Ae),Ae});E.insert(E.createPositionAt(L,"end"),W)}(y.writer,a,k),k.getCustomProperty("widgetLabel").push(()=>this.isEnabled?o("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,o=t.document.selection,a=t.schema;function g(y){return`ck-widget_type-around_show-fake-caret_${y}`}this._listenToIfEnabled(e.editing.view.document,"arrowKey",(y,k)=>{this._handleArrowKeyPress(y,k)},{context:[Qn,"$text"],priority:"high"}),this._listenToIfEnabled(o,"change:range",(y,k)=>{k.directChange&&e.model.change(E=>{E.removeSelectionAttribute(c)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const y=o.getSelectedElement();y&&p(e.editing.mapper.toViewElement(y),y,a)||e.model.change(k=>{k.removeSelectionAttribute(c)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(y,k,E)=>{const D=E.writer;if(this._currentFakeCaretModelElement){const Ae=E.mapper.toViewElement(this._currentFakeCaretModelElement);Ae&&(D.removeClass(j.map(g),Ae),this._currentFakeCaretModelElement=null)}const L=k.selection.getSelectedElement();if(!L)return;const W=E.mapper.toViewElement(L);if(!p(W,L,a))return;const de=b(k.selection);de&&(D.addClass(g(de),W),this._currentFakeCaretModelElement=L)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(y,k,E)=>{E||e.model.change(D=>{D.removeSelectionAttribute(c)})})}_handleArrowKeyPress(e,t){const o=this.editor,a=o.model,h=a.document.selection,g=a.schema,y=o.editing.view,k=function(L,W){const de=re(L,W);return"down"===de||"right"===de}(t.keyCode,o.locale.contentLanguageDirection),E=y.document.selection.getSelectedElement();let D;p(E,o.editing.mapper.toModelElement(E),g)?D=this._handleArrowKeyPressOnSelectedWidget(k):h.isCollapsed?D=this._handleArrowKeyPressWhenSelectionNextToAWidget(k):t.shiftKey||(D=this._handleArrowKeyPressWhenNonCollapsedSelection(k)),D&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,o=b(t.document.selection);return t.change(a=>o?o!==(e?"after":"before")&&(a.removeSelectionAttribute(c),!0):(a.setSelectionAttribute(c,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,o=t.model,a=o.schema,h=t.plugins.get("Widget"),g=h._getObjectElementNextToSelection(e);return!!p(t.editing.mapper.toViewElement(g),g,a)&&(o.change(y=>{h._setSelectionOverElement(g),y.setSelectionAttribute(c,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,o=t.model,a=o.schema,h=t.editing.mapper,g=o.document.selection,y=e?g.getLastPosition().nodeBefore:g.getFirstPosition().nodeAfter;return!!p(h.toViewElement(y),y,a)&&(o.change(k=>{k.setSelection(y,"on"),k.setSelectionAttribute(c,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(o,a)=>{const h=a.domTarget.closest(".ck-widget__type-around__button");if(!h)return;const g=h.classList.contains("ck-widget__type-around__button_before")?"before":"after",y=function(E,D){const L=E.closest(".ck-widget");return D.mapDomToView(L)}(h,t.domConverter),k=e.editing.mapper.toModelElement(y);this._insertParagraph(k,g),a.preventDefault(),o.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection;this._listenToIfEnabled(e.editing.view.document,"enter",(a,h)=>{if("atTarget"!=a.eventPhase)return;const g=t.getSelectedElement(),y=e.editing.mapper.toViewElement(g),k=e.model.schema;let E;this._insertParagraphAccordingToFakeCaretPosition()?E=!0:p(y,g,k)&&(this._insertParagraph(g,h.isSoft?"before":"after"),E=!0),E&&(h.preventDefault(),a.stop())},{context:Qn})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,o)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(o.selection=e.selection)},{priority:"high"}),Z_isAndroid?this._listenToIfEnabled(e,"keydown",(t,o)=>{229==o.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,o=e.model,a=o.schema;this._listenToIfEnabled(e.editing.view.document,"delete",(h,g)=>{if("atTarget"!=h.eventPhase)return;const y=b(o.document.selection);if(!y)return;const k=g.direction,E=o.document.selection.getSelectedElement(),D="forward"==k;if("before"===y===D)e.execute("delete",{selection:o.createSelection(E,"on")});else{const L=a.getNearestSelectionRange(o.createPositionAt(E,y),k);if(L)if(L.isCollapsed){const W=o.createSelection(L.start);if(o.modifySelection(W,{direction:k}),W.focus.isEqual(L.start)){const de=function(Ae,Oe){let He=Oe;for(const pt of Oe.getAncestors({parentFirst:!0})){if(pt.childCount>1||Ae.isLimit(pt))break;He=pt}return He}(a,L.start.parent);o.deleteContent(o.createSelection(de,"on"),{doNotAutoparagraph:!0})}else o.change(de=>{de.setSelection(L),e.execute(D?"deleteForward":"delete")})}else o.change(W=>{W.setSelection(L),e.execute(D?"deleteForward":"delete")})}g.preventDefault(),h.stop()},{context:Qn})}_enableInsertContentIntegration(){const t=this.editor.model,o=t.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(a,[h,g])=>{if(g&&!g.is("documentSelection"))return;const y=b(o);return y?(a.stop(),t.change(k=>{const E=o.getSelectedElement(),D=t.createPositionAt(E,y),L=k.createSelection(D),W=t.insertContent(h,L);return k.setSelection(L),W})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"insertObject",(o,a)=>{const[,h,,g={}]=a;if(h&&!h.is("documentSelection"))return;const y=b(t);y&&(g.findOptimalPosition=y,a[3]=g)},{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",(o,[a])=>{a&&!a.is("documentSelection")||b(t)&&o.stop()},{priority:"high"})}}function ht(d,e,t){const o=d.schema,a=d.createRangeIn(e.root),h="forward"==t?"elementStart":"elementEnd";for(const{previousPosition:g,item:y,type:k}of a.getWalker({startPosition:e,direction:t})){if(o.isLimit(y)&&!o.isInline(y))return g;if(k==h&&o.isBlock(y))return null}return null}function Rt(d,e,t){const o="backward"==t?e.end:e.start;if(d.checkChild(o,"$text"))return o;for(const{nextPosition:a}of e.getWalker({direction:t}))if(d.checkChild(a,"$text"))return a;return null}var Lt=oe(3488);Li()(Lt.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Cn extends cn{static get pluginName(){return"Widget"}static get requires(){return[Be,zu]}init(){const e=this.editor,t=e.editing.view,o=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(a,h,g)=>{const y=g.writer,k=h.selection;if(k.isCollapsed)return;const E=k.getSelectedElement();if(!E)return;const D=e.editing.mapper.toViewElement(E);var L;Qn(D)&&g.consumable.consume(k,"selection")&&y.setSelection(y.createRangeOn(D),{fake:!0,label:(L=D,L.getCustomProperty("widgetLabel").reduce((W,de)=>"function"==typeof de?W?W+". "+de():de():W?W+". "+de:de,""))})}),this.editor.editing.downcastDispatcher.on("selection",(a,h,g)=>{this._clearPreviouslySelectedWidgets(g.writer);const y=g.writer,k=y.document.selection;let E=null;for(const D of k.getRanges())for(const L of D){const W=L.item;Qn(W)&&!Rn(W,E)&&(y.addClass(li,W),this._previouslySelected.add(W),E=W)}},{priority:"low"}),t.addObserver(Ap),this.listenTo(o,"mousedown",(...a)=>this._onMousedown(...a)),this.listenTo(o,"arrowKey",(...a)=>{this._handleSelectionChangeOnArrowKeyPress(...a)},{context:[Qn,"$text"]}),this.listenTo(o,"arrowKey",(...a)=>{this._preventDefaultOnArrowKeyPress(...a)},{context:"$root"}),this.listenTo(o,"arrowKey",function(d){const e=d.model;return(t,o)=>{const h=o.keyCode==ri.arrowdown,g=o.shiftKey,y=e.document.selection;if(o.keyCode!=ri.arrowup&&!h)return;const k=h;if(g&&!(D=y).isCollapsed&&D.isBackward==k)return;var D;const E=function(D,L,W){const de=D.model;if(W){const Ae=L.isCollapsed?L.focus:L.getLastPosition(),Oe=ht(de,Ae,"forward");if(!Oe)return null;const He=de.createRange(Ae,Oe),pt=Rt(de.schema,He,"backward");return pt?de.createRange(Ae,pt):null}{const Ae=L.isCollapsed?L.focus:L.getFirstPosition(),Oe=ht(de,Ae,"backward");if(!Oe)return null;const He=de.createRange(Oe,Ae),pt=Rt(de.schema,He,"forward");return pt?de.createRange(pt,Ae):null}}(d,y,k);if(E){if(E.isCollapsed&&(y.isCollapsed||g))return;(E.isCollapsed||function(D,L,W){const de=D.model,Ae=D.view.domConverter;if(W){const Zt=de.createSelection(L.start);de.modifySelection(Zt),Zt.focus.isAtEnd||L.start.isEqual(Zt.focus)||(L=de.createRange(Zt.focus,L.end))}const Oe=D.mapper.toViewRange(L),He=Ae.viewRangeToDom(Oe),pt=Rr.getDomRangeRects(He);let Tt;for(const Zt of pt)if(void 0!==Tt){if(Math.round(Zt.top)>=Tt)return!1;Tt=Math.max(Tt,Math.round(Zt.bottom))}else Tt=Math.round(Zt.bottom);return!0}(d,E,k))&&(e.change(D=>{const L=k?E.end:E.start;if(g){const W=e.createSelection(y.anchor);W.setFocus(L),D.setSelection(W)}else D.setSelection(L)}),t.stop(),o.preventDefault(),o.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(o,"delete",(a,h)=>{this._handleDelete("forward"==h.direction)&&(h.preventDefault(),a.stop())},{context:"$root"})}_onMousedown(e,t){const o=this.editor,a=o.editing.view,h=a.document;let g=t.target;if(function(k){let E=k;for(;E;){if(E.is("editableElement")&&!E.is("rootElement"))return!0;if(Qn(E))return!1;E=E.parent}return!1}(g)){if((Z_isSafari||Z_isGecko)&&t.domEvent.detail>=3){const k=o.editing.mapper,E=g.is("attributeElement")?g.findAncestor(L=>!L.is("attributeElement")):g,D=k.toModelElement(E);t.preventDefault(),this.editor.model.change(L=>{L.setSelection(D,"in")})}return}if(!Qn(g)&&(g=g.findAncestor(Qn),!g))return;Z_isAndroid&&t.preventDefault(),h.isFocused||a.focus();const y=o.editing.mapper.toModelElement(g);this._setSelectionOverElement(y)}_handleSelectionChangeOnArrowKeyPress(e,t){const o=t.keyCode,a=this.editor.model,h=a.schema,g=a.document.selection,y=g.getSelectedElement(),k=re(o,this.editor.locale.contentLanguageDirection),E="down"==k||"right"==k,D="up"==k||"down"==k;if(y&&h.isObject(y)){const W=E?g.getLastPosition():g.getFirstPosition(),de=h.getNearestSelectionRange(W,E?"forward":"backward");return void(de&&(a.change(Ae=>{Ae.setSelection(de)}),t.preventDefault(),e.stop()))}if(!g.isCollapsed&&!t.shiftKey){const W=g.getFirstPosition(),de=g.getLastPosition(),Ae=W.nodeAfter,Oe=de.nodeBefore;return void((Ae&&h.isObject(Ae)||Oe&&h.isObject(Oe))&&(a.change(He=>{He.setSelection(E?de:W)}),t.preventDefault(),e.stop()))}if(!g.isCollapsed)return;const L=this._getObjectElementNextToSelection(E);if(L&&h.isObject(L)){if(h.isInline(L)&&D)return;this._setSelectionOverElement(L),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const o=this.editor.model,a=o.schema,h=o.document.selection.getSelectedElement();h&&a.isObject(h)&&(t.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const t=this.editor.model.document.selection;if(!t.isCollapsed)return;const o=this._getObjectElementNextToSelection(e);return o?(this.editor.model.change(a=>{let h=t.anchor.parent;for(;h.isEmpty;){const g=h;h=g.parent,a.remove(g)}this._setSelectionOverElement(o)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,o=t.schema,a=t.document.selection,h=t.createSelection(a);if(t.modifySelection(h,{direction:e?"forward":"backward"}),h.isEqual(a))return null;const g=e?h.focus.nodeBefore:h.focus.nodeAfter;return g&&o.isObject(g)?g:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(li,t);this._previouslySelected.clear()}}function Rn(d,e){return!!e&&Array.from(d.getAncestors()).includes(e)}class ki extends cn{static get requires(){return[Ud]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",o=>{(function(a){const h=a.getSelectedElement();return!(!h||!Qn(h))})(e.editing.view.document.selection)&&o.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:o,getRelatedElement:a,balloonClassName:h="ck-toolbar-container"}){if(!o.length)return void At("widget-toolbar-no-items",{toolbarId:e});const g=this.editor,y=g.t,k=new Nu(g.locale);if(k.ariaLabel=t||y("Widget toolbar"),this._toolbarDefinitions.has(e))throw new Ne("widget-toolbar-duplicated",this,{toolbarId:e});k.fillFromConfig(o,g.ui.componentFactory);const E={view:k,getRelatedElement:a,balloonClassName:h};g.ui.addToolbar(k,{isContextual:!0,beforeFocus:()=>{const D=a(g.editing.view.document.selection);D&&this._showToolbar(E,D)},afterBlur:()=>{this._hideToolbar(E)}}),this._toolbarDefinitions.set(e,E)}_updateToolbarsVisibility(){let e=0,t=null,o=null;for(const a of this._toolbarDefinitions.values()){const h=a.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&h)if(this.editor.ui.focusTracker.isFocused){const g=h.getAncestors().length;g>e&&(e=g,t=h,o=a)}else this._isToolbarVisible(a)&&this._hideToolbar(a);else this._isToolbarInBalloon(a)&&this._hideToolbar(a)}o&&this._showToolbar(o,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?Si(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:Tr(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const o of this._toolbarDefinitions.values())if(this._isToolbarVisible(o)){const a=o.getRelatedElement(this.editor.editing.view.document.selection);Si(this.editor,a)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function Si(d,e){const t=d.plugins.get("ContextualBalloon"),o=Tr(d,e);t.updatePosition(o)}function Tr(d,e){const o=Al.defaultPositions;return{target:d.editing.view.domConverter.mapViewToDom(e),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}Tn(),Tn();var al=oe(8506);Li()(al.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Wg=oe(903);Li()(Wg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ov extends cn{static get pluginName(){return"DragDrop"}static get requires(){return[gu,Cn]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=function(d,e,t){var o=!0,a=!0;return Ht(t)&&(o="leading"in t?!!t.leading:o,a="trailing"in t?!!t.trailing:a),Ss(d,40,{leading:o,maxWait:40,trailing:a})}(o=>this._updateDropMarker(o)),this._removeDropMarkerDelayed=sb(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=sb(()=>this._clearDraggableAttributes(),40),t.addObserver(Ks),t.addObserver(Ap),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(o,a,h)=>{h?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(o,a,h)=>{h||this._finalizeDragging(!1)}),Z_isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,o=t.document,a=e.editing.view,h=a.document;this.listenTo(h,"dragstart",(g,y)=>{const k=o.selection;if(y.target&&y.target.is("editableElement"))return void y.preventDefault();const E=y.target?ab(y.target):null;if(E){const W=e.editing.mapper.toModelElement(E);this._draggedRange=pc.fromRange(t.createRangeOn(W)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!h.selection.isCollapsed){const W=h.selection.getSelectedElement();W&&Qn(W)||(this._draggedRange=pc.fromRange(k.getFirstRange()))}if(!this._draggedRange)return void y.preventDefault();this._draggingUid=yt(),y.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",y.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const D=t.createSelection(this._draggedRange.toRange()),L=e.data.toView(t.getSelectedContent(D));h.fire("clipboardOutput",{dataTransfer:y.dataTransfer,content:L,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(h,"dragend",(g,y)=>{this._finalizeDragging(!y.dataTransfer.isCanceled&&"move"==y.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(h,"dragenter",()=>{this.isEnabled&&a.focus()}),this.listenTo(h,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(h,"dragging",(g,y)=>{if(!this.isEnabled)return void(y.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const k=rb(e,y.targetRanges,y.target);this._draggedRange||(y.dataTransfer.dropEffect="copy"),Z_isGecko||("copy"==y.dataTransfer.effectAllowed?y.dataTransfer.dropEffect="copy":["all","copyMove"].includes(y.dataTransfer.effectAllowed)&&(y.dataTransfer.dropEffect="move")),k&&this._updateDropMarkerThrottled(k)},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"clipboardInput",(o,a)=>{if("drop"!=a.method)return;const h=rb(e,a.targetRanges,a.target);return this._removeDropMarker(),h?(this._draggedRange&&this._draggingUid!=a.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==ob(a.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(h,!0)?(this._finalizeDragging(!1),void o.stop()):void(a.targetRanges=[e.editing.mapper.toViewRange(h)])):(this._finalizeDragging(!1),void o.stop())},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(gu);e.on("contentInsertion",(t,o)=>{if(!this.isEnabled||"drop"!==o.method)return;const a=o.targetRanges.map(h=>this.editor.editing.mapper.toModelRange(h));this.editor.model.change(h=>h.setSelection(a))},{priority:"high"}),e.on("contentInsertion",(t,o)=>{if(!this.isEnabled||"drop"!==o.method)return;const a="move"==ob(o.dataTransfer);this._finalizeDragging((!o.resultRange||!o.resultRange.isCollapsed)&&a)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,o=t.document;this.listenTo(o,"mousedown",(a,h)=>{if(Z_isAndroid||!h)return;this._clearDraggableAttributesDelayed.cancel();let g=ab(h.target);if(Z_isBlink&&!e.isReadOnly&&!g&&!o.selection.isCollapsed){const y=o.selection.getSelectedElement();y&&Qn(y)||(g=o.selection.editableElement)}g&&(t.change(y=>{y.setAttribute("draggable","true",g)}),this._draggableElement=e.editing.mapper.toModelElement(g))}),this.listenTo(o,"mouseup",()=>{Z_isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:o})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return o.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(a){const h=this.toDomElement(a);return h.append("\u2060",a.createElement("span"),"\u2060"),h})}})}_updateDropMarker(e){const t=this.editor,o=t.model.markers;t.model.change(a=>{o.has("drop-target")?o.get("drop-target").getRange().isEqual(e)||a.updateMarker("drop-target",{range:e}):a.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_finalizeDragging(e){const t=this.editor,o=t.model;this._removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&o.deleteContent(o.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function rb(d,e,t){const o=d.model,a=d.editing.mapper;let h=null;const g=e?e[0].start:null;if(t.is("uiElement")&&(t=t.parent),h=function(E,D){const L=E.model,W=E.editing.mapper;if(Qn(D))return L.createRangeOn(W.toModelElement(D));if(!D.is("editableElement")){const de=D.findAncestor(Ae=>Qn(Ae)||Ae.is("editableElement"));if(Qn(de))return L.createRangeOn(W.toModelElement(de))}return null}(d,t),h)return h;const y=function(E,D){const L=E.editing.mapper,W=E.editing.view,de=L.toModelElement(D);if(de)return de;const Ae=W.createPositionBefore(D),Oe=L.findMappedViewAncestor(Ae);return L.toModelElement(Oe)}(d,t),k=g?a.toModelPosition(g):null;return k?(h=function(E,D,L){const W=E.model;if(!W.schema.checkChild(L,"$block"))return null;const de=W.createPositionAt(L,0),Ae=D.path.slice(0,de.path.length),He=W.createPositionFromPath(D.root,Ae).nodeAfter;return He&&W.schema.isObject(He)?W.createRangeOn(He):null}(d,k,y),h||(h=o.schema.getNearestSelectionRange(k,Z_isGecko?"forward":"backward"),h||function(E,D){const L=E.model;let W=D;for(;W;){if(L.schema.isObject(W))return L.createRangeOn(W);W=W.parent}return null}(d,k.parent))):function(E,D){const L=E.model,W=L.schema,de=L.createPositionAt(D,0);return W.getNearestSelectionRange(de,"forward")}(d,y)}function ob(d){return Z_isGecko?d.dropEffect:["all","copyMove"].includes(d.effectAllowed)?"move":"copy"}function sb(d,e){let t;function o(...a){o.cancel(),t=setTimeout(()=>d(...a),e)}return o.cancel=()=>{clearTimeout(t)},o}function ab(d){if(d.is("editableElement"))return null;if(d.hasClass("ck-widget__selection-handle"))return d.findAncestor(Qn);if(Qn(d))return d;const e=d.findAncestor(t=>Qn(t)||t.is("editableElement"));return Qn(e)?e:null}class Nv extends cn{static get pluginName(){return"PastePlainText"}static get requires(){return[gu]}init(){const e=this.editor,t=e.model,o=e.editing.view,a=o.document,h=t.document.selection;let g=!1;o.addObserver(Ks),this.listenTo(a,"keydown",(y,k)=>{g=k.shiftKey}),e.plugins.get(gu).on("contentInsertion",(y,k)=>{(g||function(E,D){if(E.childCount>1)return!1;const L=E.getChild(0);return!D.isObject(L)&&0==Array.from(L.getAttributeKeys()).length}(k.content,t.schema))&&t.change(E=>{const D=Array.from(h.getAttributes()).filter(([W])=>t.schema.getAttributeProperties(W).isFormatting);h.isCollapsed||t.deleteContent(h,{doNotAutoparagraph:!0}),D.push(...h.getAttributes());const L=E.createRangeIn(k.content);for(const W of L.getItems())W.is("$textProxy")&&E.setAttributes(D,W)})})}}class lb extends cn{static get pluginName(){return"Clipboard"}static get requires(){return[gu,Ov,Nv]}}class OC extends De{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let o=e.schema.getLimitElement(t);if(t.containsEntireContent(o)||!Rv(e.schema,o))do{if(o=o.parent,!o)return}while(!Rv(e.schema,o));e.change(a=>{a.setSelection(o,"in")})}}function Rv(d,e){return d.isLimit(e)&&(d.checkChild(e,"$text")||d.checkChild(e,"paragraph"))}const jw=F("Ctrl+A");class Fv extends cn{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.editing.view.document;e.commands.add("selectAll",new OC(e)),this.listenTo(t,"keydown",(o,a)=>{U(a)===jw&&(e.execute("selectAll"),a.preventDefault())})}}class zw extends cn{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const o=e.commands.get("selectAll"),a=new Po(t);return a.set({label:(0,t.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),a.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),a})}}class Hl extends cn{static get requires(){return[Fv,zw]}static get pluginName(){return"SelectAll"}}class cb extends De{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(e.data,"set",(t,o)=>{o[1]=mn({},o[1]);const a=o[1];a.batchType||(a.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,o)=>{o[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(e){const t=this.editor.model.document.selection,o={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:o}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,o){const a=this.editor.model,h=a.document,g=[],y=e.map(E=>E.getTransformedByOperations(o)),k=y.flat();for(const E of y){const D=E.filter(L=>L.root!=h.graveyard).filter(L=>!Uw(L,k));D.length&&(Vw(D),g.push(D[0]))}g.length&&a.change(E=>{E.setSelection(g,{backward:t})})}_undo(e,t){const o=this.editor.model,a=o.document;this._createdBatches.add(t);const h=e.operations.slice().filter(g=>g.isDocumentOperation);h.reverse();for(const g of h){const k=Array.from(a.history.getOperations(g.baseVersion+1)),E=T_([g.getReversed()],k,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const D of E)t.addOperation(D),o.applyOperation(D),a.history.setOperationAsUndone(g,D)}}}function Vw(d){d.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<d.length;e++){const t=d[e-1].getJoined(d[e],!0);t&&(e--,d.splice(e,2,t))}}function Uw(d,e){return e.some(t=>t!==d&&t.containsRange(d,!0))}class Lv extends cb{execute(e=null){const t=e?this._stack.findIndex(h=>h.batch==e):this._stack.length-1,o=this._stack.splice(t,1)[0],a=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(a,()=>{this._undo(o.batch,a);const h=this.editor.model.document.history.getOperations(o.batch.baseVersion);this._restoreSelection(o.selection.ranges,o.selection.isBackward,h),this.fire("revert",o.batch,a)}),this.refresh()}}class Hw extends cb{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const a=this.editor.model.document.history.getOperations(e.batch.operations[e.batch.operations.length-1].baseVersion+1);this._restoreSelection(e.selection.ranges,e.selection.isBackward,a),this._undo(e.batch,t)}),this.refresh()}}class Bv extends cn{static get pluginName(){return"UndoEditing"}constructor(e){super(e),this._batchRegistry=new WeakSet}init(){const e=this.editor;this._undoCommand=new Lv(e),this._redoCommand=new Hw(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,o)=>{const a=o[0];if(!a.isDocumentOperation)return;const h=a.batch,g=this._redoCommand._createdBatches.has(h),y=this._undoCommand._createdBatches.has(h);this._batchRegistry.has(h)||(this._batchRegistry.add(h),h.isUndoable&&(g?this._undoCommand.addBatch(h):y||(this._undoCommand.addBatch(h),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,o,a)=>{this._redoCommand.addBatch(a)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const ub='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Zg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class qw extends cn{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,o=e.t,a="ltr"==t.uiLanguageDirection?ub:Zg,h="ltr"==t.uiLanguageDirection?Zg:ub;this._addButton("undo",o("Undo"),"CTRL+Z",a),this._addButton("redo",o("Redo"),"CTRL+Y",h)}_addButton(e,t,o,a){const h=this.editor;h.ui.componentFactory.add(e,g=>{const y=h.commands.get(e),k=new Po(g);return k.set({label:t,icon:a,keystroke:o,tooltip:!0}),k.bind("isEnabled").to(y,"isEnabled"),this.listenTo(k,"execute",()=>{h.execute(e),h.editing.view.focus()}),k})}}class jv extends cn{static get requires(){return[Bv,qw]}static get pluginName(){return"Undo"}}class zv extends(Tn()){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((o,a)=>{t.onload=()=>{const h=t.result;this._data=h,o(h)},t.onerror=()=>{a("error")},t.onabort=()=>{a("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Ih extends cn{static get pluginName(){return"FileRepository"}static get requires(){return[$f]}init(){this.loaders=new xn,this.loaders.on("change",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return At("filerepository-no-upload-adapter"),null;const t=new db(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(o=>{this._loadersMap.set(o,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let o=0;for(const a of this.loaders)o+=a.uploaded;this.uploaded=o}),t.on("change:uploadTotal",()=>{let o=0;for(const a of this.loaders)a.uploadTotal&&(o+=a.uploadTotal);this.uploadTotal=o}),t}destroyLoader(e){const t=e instanceof db?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((o,a)=>{o===t&&this._loadersMap.delete(a)})}_updatePendingAction(){const e=this.editor.plugins.get($f);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,o=a=>`${t("Upload in progress")} ${parseInt(a)}%.`;this._pendingAction=e.add(o(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",o)}}else e.remove(this._pendingAction),this._pendingAction=null}}class db extends(Tn()){constructor(e,t){super(),this.id=yt(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new zv,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(o,a)=>a?o/a*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new Ne("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if("reading"!==this.status)throw this.status;return this.status="idle",e}).catch(e=>{throw"aborted"===e?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if("idle"!=this.status)throw new Ne("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw"aborted"===this.status?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((o,a)=>{t.rejecter=a,t.isFulfilled=!1,e.then(h=>{t.isFulfilled=!0,o(h)}).catch(h=>{t.isFulfilled=!0,a(h)})}),t}}class NC extends Br{constructor(e){super(e),this.buttonView=new Po(e),this._fileInputView=new hb(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class hb extends Br{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Ph="abcdefghijklmnopqrstuvwxyz0123456789";class Vv{constructor(e,t,o){this.loader=e,this.url=t,this.t=o}upload(){return this.loader.file.then(e=>new Promise((t,o)=>{this._initRequest(),this._initListeners(t,o,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,t,o){const a=this.xhr,h=this.loader,g=(0,this.t)("Cannot upload file:")+` ${o.name}.`;a.addEventListener("error",()=>t(g)),a.addEventListener("abort",()=>t()),a.addEventListener("load",()=>{const y=a.response;if(!y||!y.uploaded)return t(y&&y.error&&y.error.message?y.error.message:g);e({default:y.url})}),a.upload&&a.upload.addEventListener("progress",y=>{y.lengthComputable&&(h.uploadTotal=y.total,h.uploaded=y.loaded)})}_sendRequest(e){const t=new FormData;t.append("upload",e),t.append("ckCsrfToken",function(){let d=function(o){o=o.toLowerCase();const a=document.cookie.split(";");for(const h of a){const g=h.split("=");if(decodeURIComponent(g[0].trim().toLowerCase())===o)return decodeURIComponent(g[1])}return null}("ckCsrfToken");var t;return d&&40==d.length||(d=function(o){let a="";const h=new Uint8Array(40);window.crypto.getRandomValues(h);for(let g=0;g<h.length;g++){const y=Ph.charAt(h[g]%Ph.length);a+=Math.random()>.5?y.toUpperCase():y}return a}(),t=d,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(t)+";path=/"),d}()),this.xhr.send(t)}}function Ec(d,e,t,o){let a,h=null;"function"==typeof o?a=o:(h=d.commands.get(o),a=()=>{d.execute(o)}),d.model.document.on("change:data",(g,y)=>{if(h&&!h.isEnabled||!e.isEnabled)return;const k=fi(d.model.document.selection.getRanges());if(!k.isCollapsed||y.isUndo||!y.isLocal)return;const E=Array.from(d.model.document.differ.getChanges()),D=E[0];if(1!=E.length||"insert"!==D.type||"$text"!=D.name||1!=D.length)return;const L=D.position.parent;if(L.is("element","codeBlock")||L.is("element","listItem")&&"function"!=typeof o&&!["numberedList","bulletedList","todoList"].includes(o)||h&&!0===h.value)return;const W=L.getChild(0),de=d.model.createRangeOn(W);if(!de.containsRange(k)&&!k.end.isEqual(de.end))return;const Ae=t.exec(W.data.substr(0,k.end.offset));Ae&&d.model.enqueueChange(Oe=>{const He=Oe.createPositionAt(L,0),pt=Oe.createPositionAt(L,Ae[0].length),Tt=new pc(He,pt);if(!1!==a({match:Ae})){Oe.remove(Tt);const Zt=d.model.document.selection.getFirstRange(),Mn=Oe.createRangeIn(L);!L.isEmpty||Mn.isEqual(Zt)||Mn.containsRange(Zt,!0)||Oe.remove(L)}Tt.detach(),d.model.enqueueChange(()=>{d.plugins.get("Delete").requestUndoOnBackspace()})})})}function Kc(d,e,t,o){let a,h;t instanceof RegExp?a=t:h=t,h=h||(g=>{let y;const k=[],E=[];for(;null!==(y=a.exec(g))&&!(y&&y.length<4);){let{index:D,1:L,2:W,3:de}=y;D+=y[0].length-(L+W+de).length;const He=[D+L.length+W.length,D+L.length+W.length+de.length];k.push([D,D+L.length]),k.push(He),E.push([D+L.length,D+L.length+W.length])}return{remove:k,format:E}}),d.model.document.on("change:data",(g,y)=>{if(y.isUndo||!y.isLocal||!e.isEnabled)return;const k=d.model,E=k.document.selection;if(!E.isCollapsed)return;const D=Array.from(k.document.differ.getChanges()),L=D[0];if(1!=D.length||"insert"!==L.type||"$text"!=L.name||1!=L.length)return;const W=E.focus,de=W.parent,{text:Ae,range:Oe}=function(Zt,Mn){let er=Zt.start;return{text:Array.from(Zt.getItems()).reduce((Jo,ll)=>!ll.is("$text")&&!ll.is("$textProxy")||ll.getAttribute("code")?(er=Mn.createPositionAfter(ll),""):Jo+ll.data,""),range:Mn.createRange(er,Zt.end)}}(k.createRange(k.createPositionAt(de,0),W),k),He=h(Ae),pt=Zd(Oe.start,He.format,k),Tt=Zd(Oe.start,He.remove,k);pt.length&&Tt.length&&k.enqueueChange(Zt=>{if(!1!==o(Zt,pt)){for(const Mn of Tt.reverse())Zt.remove(Mn);k.enqueueChange(()=>{d.plugins.get("Delete").requestUndoOnBackspace()})}})})}function Zd(d,e,t){return e.filter(o=>void 0!==o[0]&&void 0!==o[1]).map(o=>t.createRange(d.getShiftedBy(o[0]),d.getShiftedBy(o[1])))}function l_(d,e){return(t,o)=>{if(!d.commands.get(e).isEnabled)return!1;const a=d.model.schema.getValidRanges(o,e);for(const h of a)t.setAttribute(e,!0,h);t.removeSelectionAttribute(e)}}class fb extends De{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,o=t.document.selection,a=void 0===e.forceValue?!this.value:e.forceValue;t.change(h=>{if(o.isCollapsed)a?h.setSelectionAttribute(this.attributeKey,!0):h.removeSelectionAttribute(this.attributeKey);else{const g=t.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const y of g)a?h.setAttribute(this.attributeKey,a,y):h.removeAttribute(this.attributeKey,y)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,o=e.document.selection;if(o.isCollapsed)return o.hasAttribute(this.attributeKey);for(const a of o.getRanges())for(const h of a.getItems())if(t.checkAttribute(h,this.attributeKey))return h.hasAttribute(this.attributeKey);return!1}}const Rm="bold";class $w extends cn{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Rm}),e.model.schema.setAttributeProperties(Rm,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Rm,view:"strong",upcastAlso:["b",t=>{const o=t.getStyle("font-weight");return o?"bold"==o||Number(o)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add(Rm,new fb(e,Rm)),e.keystrokes.set("CTRL+B",Rm)}}const pb="bold";class Ww extends cn{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(pb,o=>{const a=e.commands.get(pb),h=new Po(o);return h.set({label:t("Bold"),icon:Os.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(h,"execute",()=>{e.execute(pb),e.editing.view.focus()}),h})}}const qp="italic";class c_ extends cn{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:qp}),e.model.schema.setAttributeProperties(qp,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:qp,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(qp,new fb(e,qp)),e.keystrokes.set("CTRL+I",qp)}}const gb="italic";class Uv extends cn{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(gb,o=>{const a=e.commands.get(gb),h=new Po(o);return h.set({label:t("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(h,"execute",()=>{e.execute(gb),e.editing.view.focus()}),h})}}class Zw extends De{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,o=t.schema,h=Array.from(t.document.selection.getSelectedBlocks()),g=void 0===e.forceValue?!this.value:e.forceValue;t.change(y=>{if(g){const k=h.filter(E=>u_(E)||d_(o,E));this._applyQuote(y,k)}else this._removeQuote(y,h.filter(u_))})}_getValue(){const e=fi(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!u_(e))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.schema,o=fi(this.editor.model.document.selection.getSelectedBlocks());return!!o&&d_(t,o)}_removeQuote(e,t){mb(e,t).reverse().forEach(o=>{if(o.start.isAtStart&&o.end.isAtEnd)return void e.unwrap(o.start.parent);if(o.start.isAtStart){const h=e.createPositionBefore(o.start.parent);return void e.move(o,h)}o.end.isAtEnd||e.split(o.end);const a=e.createPositionAfter(o.end.parent);e.move(o,a)})}_applyQuote(e,t){const o=[];mb(e,t).reverse().forEach(a=>{let h=u_(a.start);h||(h=e.createElement("blockQuote"),e.wrap(a,h)),o.push(h)}),o.reverse().reduce((a,h)=>a.nextSibling==h?(e.merge(e.createPositionAfter(a)),a):h)}}function u_(d){return"blockQuote"==d.parent.name?d.parent:null}function mb(d,e){let t,o=0;const a=[];for(;o<e.length;){const h=e[o],g=e[o+1];t||(t=d.createPositionBefore(h)),g&&h.nextSibling==g||(a.push(d.createRange(t,d.createPositionAfter(h))),t=null),o++}return a}function d_(d,e){const t=d.checkChild(e.parent,"blockQuote"),o=d.checkChild(["$root","blockQuote"],e);return t&&o}class Kw extends cn{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[ee,zu]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new Zw(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(g=>{const y=e.model.document.differ.getChanges();for(const k of y)if("insert"==k.type){const E=k.position.nodeAfter;if(!E)continue;if(E.is("element","blockQuote")&&E.isEmpty)return g.remove(E),!0;if(E.is("element","blockQuote")&&!t.checkChild(k.position,E))return g.unwrap(E),!0;if(E.is("element")){const D=g.createRangeIn(E);for(const L of D.getItems())if(L.is("element","blockQuote")&&!t.checkChild(g.createPositionBefore(L),L))return g.unwrap(L),!0}}else if("remove"==k.type){const E=k.position.parent;if(E.is("element","blockQuote")&&E.isEmpty)return g.remove(E),!0}return!1});const o=this.editor.editing.view.document,a=e.model.document.selection,h=e.commands.get("blockQuote");this.listenTo(o,"enter",(g,y)=>{!a.isCollapsed||!h.value||a.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),y.preventDefault(),g.stop())},{context:"blockquote"}),this.listenTo(o,"delete",(g,y)=>{if("backward"!=y.direction||!a.isCollapsed||!h.value)return;const k=a.getLastPosition().parent;k.isEmpty&&!k.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),y.preventDefault(),g.stop())},{context:"blockquote"})}}var _b=oe(3062);Li()(_b.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class bb extends cn{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",o=>{const a=e.commands.get("blockQuote"),h=new Po(o);return h.set({label:t("Block quote"),icon:Os.quote,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(h,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),h})}}class P_ extends cn{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const t=e.t;e.ui.componentFactory.add("ckbox",o=>{const a=e.commands.get("ckbox"),h=new Po(o);return h.set({label:t("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),h.bind("isOn","isEnabled").to(a,"value","isEnabled"),h.on("execute",()=>{e.execute("ckbox")}),h})}}function vb({token:d,id:e,origin:t,width:o,extension:a}){const h=yb(d),g=function(k){const D=Math.floor(Math.max(10*k/100,80)),L=[Math.min(k,4e3)];let W=L[0];for(;W-D>=D;)W-=D,L.unshift(W);return L}(o),y="bmp"===(k=a)||"tiff"===k||"jpg"===k?"jpeg":k;var k;return{imageFallbackUrl:wb({environmentId:h,id:e,origin:t,width:o,extension:y}),imageSources:[{srcset:g.map(k=>`${wb({environmentId:h,id:e,origin:t,width:k,extension:"webp"})} ${k}w`).join(","),sizes:`(max-width: ${o}px) 100vw, ${o}px`,type:"image/webp"}]}}function yb(d){const[,e]=d.value.split(".");return JSON.parse(atob(e)).aud}function wb({environmentId:d,id:e,origin:t,width:o,extension:a}){return new URL(`${d}/assets/${e}/images/${o}.${a}`,t).toString()}class qv extends De{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return null!==this._wrapper}_checkEnabled(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");return!(!e.isEnabled&&!t.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,assetsOrigin:e.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:t=>this.fire("ckbox:choose",t)}}}_initListeners(){const e=this.editor,t=e.model,o=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=mt(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(a,h)=>{if(!this.isEnabled)return;const g=e.commands.get("insertImage"),y=e.commands.get("link"),k=e.plugins.get("CKBoxEditing"),E=function({assets:D,origin:L,token:W,isImageAllowed:de,isLinkAllowed:Ae}){return D.map(Oe=>({id:Oe.data.id,type:Cb(Oe)?"image":"link",attributes:Gv(Oe,W,L)})).filter(Oe=>"image"===Oe.type?de:Ae)}({assets:h,origin:e.config.get("ckbox.assetsOrigin"),token:k.getToken(),isImageAllowed:g.isEnabled,isLinkAllowed:y.isEnabled});0!==E.length&&t.change(D=>{for(const L of E)this._insertAsset(L,L===E[E.length-1],D),o&&(setTimeout(()=>this._chosenAssets.delete(L),1e3),this._chosenAssets.add(L))})}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,t,o){const a=this.editor.model.document.selection;o.removeSelectionAttribute("linkHref"),"image"===e.type?this._insertImage(e):this._insertLink(e,o),t||o.setSelection(a.getLastPosition())}_insertImage(e){const t=this.editor,{imageFallbackUrl:o,imageSources:a,imageTextAlternative:h}=e.attributes;t.execute("insertImage",{source:{src:o,sources:a,alt:h}})}_insertLink(e,t){const o=this.editor,a=o.model,h=a.document.selection,{linkName:g,linkHref:y}=e.attributes;if(h.isCollapsed){const k=On(h.getAttributes()),E=t.createText(g,k),D=a.insertContent(E);t.setSelection(D)}o.execute("link",y)}}function Gv(d,e,t){if(Cb(d)){const{imageFallbackUrl:o,imageSources:a}=vb({token:e,origin:t,id:d.data.id,width:d.data.metadata.width,extension:d.data.extension});return{imageFallbackUrl:o,imageSources:a,imageTextAlternative:d.data.metadata.description||""}}return{linkName:d.data.name,linkHref:$v(d,e,t)}}function Cb(d){const e=d.data.metadata;return!!e&&e.width&&e.height}function $v(d,e,t){const o=yb(e),a=new URL(`${o}/assets/${d.data.id}/file`,t);return a.searchParams.set("download","true"),a.toString()}class Wv extends cn{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Ih,kb]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){var e=this;return m(function*(){const t=e.editor,o=!!t.config.get("ckbox"),a=!!window.CKBox;if(!o&&!a)return;const h=t.plugins.get(Ih),g=t.plugins.get(kb);h.createUploadAdapter=E=>new Zv(E,g.getToken(),t);const y=!t.config.get("ckbox.ignoreDataId"),k=t.plugins.get("ImageUploadEditing");y&&k.on("uploadComplete",(E,{imageElement:D,data:L})=>{t.model.change(W=>{W.setAttribute("ckboxImageId",L.ckboxImageId,D)})})})()}}class Zv{constructor(e,t,o){this.loader=e,this.token=t,this.editor=o,this.controller=new AbortController,this.serviceOrigin=o.config.get("ckbox.serviceOrigin"),this.assetsOrigin=o.config.get("ckbox.assetsOrigin")}getAvailableCategories(e=0){var t=this;return m(function*(){const o=new URL("categories",t.serviceOrigin);return o.searchParams.set("limit",50..toString()),o.searchParams.set("offset",e.toString()),t._sendHttpRequest({url:o}).then(function(){var a=m(function*(h){if(h.totalCount-(e+50)>0){const g=yield t.getAvailableCategories(e+50);return[...h.items,...g]}return h.items});return function(h){return a.apply(this,arguments)}}()).catch(()=>{t.controller.signal.throwIfAborted(),dt("ckbox-fetch-category-http-error")})})()}getCategoryIdForFile(e){var t=this;return m(function*(){const o=Kv(e.name),a=yield t.getAvailableCategories();if(!a)return null;const h=t.editor.config.get("ckbox.defaultUploadCategories");if(h){const y=Object.keys(h).find(k=>h[k].includes(o));if(y){const k=a.find(E=>E.id===y||E.name===y);return k?k.id:null}}const g=a.find(y=>y.extensions.includes(o));return g?g.id:null})()}upload(){var e=this;return m(function*(){const t=e.editor.t,o=t("Cannot determine a category for the uploaded file."),a=yield e.loader.file,h=yield e.getCategoryIdForFile(a);if(!h)return Promise.reject(o);const g=new URL("assets",e.serviceOrigin),y=new FormData;y.append("categoryId",h),y.append("file",a);const k={method:"POST",url:g,data:y,onUploadProgress:E=>{E.lengthComputable&&(e.loader.uploadTotal=E.total,e.loader.uploaded=E.loaded)}};return e._sendHttpRequest(k).then(function(){var E=m(function*(D){const L=yield e._getImageWidth(),W=Kv(a.name),de=vb({token:e.token,id:D.id,origin:e.assetsOrigin,width:L,extension:W});return{ckboxImageId:D.id,default:de.imageFallbackUrl,sources:de.imageSources}});return function(D){return E.apply(this,arguments)}}()).catch(()=>{const E=t("Cannot upload file:")+` ${a.name}.`;return Promise.reject(E)})})()}abort(){this.controller.abort()}_sendHttpRequest(e){const{url:t,data:o,onUploadProgress:a}=e,h=e.method||"GET",g=this.controller.signal,y=new XMLHttpRequest;y.open(h,t.toString(),!0),y.setRequestHeader("Authorization",this.token.value),y.setRequestHeader("CKBox-Version","CKEditor 5"),y.responseType="json";const k=()=>{y.abort()};return new Promise((E,D)=>{g.addEventListener("abort",k),y.addEventListener("loadstart",()=>{g.addEventListener("abort",k)}),y.addEventListener("loadend",()=>{g.removeEventListener("abort",k)}),y.addEventListener("error",()=>{D()}),y.addEventListener("abort",()=>{D()}),y.addEventListener("load",m(function*(){const L=y.response;return!L||L.statusCode>=400?D(L&&L.message):E(L)})),a&&y.upload.addEventListener("progress",L=>{a(L)}),y.send(o)})}_getImageWidth(){return new Promise(e=>{const t=new Image;t.onload=()=>{URL.revokeObjectURL(t.src),e(t.width)},t.src=this.loader.data})}}function Kv(d){return d.match(/\.(?<ext>[^.]+)$/).groups.ext}class kb extends cn{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",Wv]}init(){var e=this;return m(function*(){const t=e.editor,o=!!t.config.get("ckbox"),a=!!window.CKBox;if(!o&&!a)return;e._initConfig();const h=t.plugins.get("CloudServicesCore"),g=t.config.get("ckbox.tokenUrl"),y=t.config.get("cloudServices.tokenUrl");e._token=g===y?t.plugins.get("CloudServices").token:yield h.createToken(g).init(),t.config.get("ckbox.ignoreDataId")||(e._initSchema(),e._initConversion(),e._initFixers()),a&&t.commands.add("ckbox",new qv(t))})()}getToken(){return this._token}_initConfig(){const e=this.editor;if(e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")}),!e.config.get("ckbox.tokenUrl"))throw new Ne("ckbox-plugin-missing-token-url",this);e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||dt("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((t,o)=>{if(!t.last.getAttribute("linkHref")&&"ckboxLinkId"===o)return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(t=>{t.on("attribute:ckboxLinkId:imageBlock",(o,a,h)=>{const{writer:g,mapper:y,consumable:k}=h;if(!k.consume(a.item,o.name))return;const E=[...y.toViewElement(a.item).getChildren()].find(D=>"a"===D.name);E&&(a.item.hasAttribute("ckboxLinkId")?g.setAttribute("data-ckbox-resource-id",a.item.getAttribute("ckboxLinkId"),E):g.removeAttribute("data-ckbox-resource-id",E))},{priority:"low"}),t.on("attribute:ckboxLinkId",(o,a,h)=>{const{writer:g,mapper:y,consumable:k}=h;if(k.consume(a.item,o.name)){if(a.attributeOldValue){const E=Yv(g,a.attributeOldValue);g.unwrap(y.toViewRange(a.range),E)}if(a.attributeNewValue){const E=Yv(g,a.attributeNewValue);a.item.is("selection")?g.wrap(g.document.selection.getFirstRange(),E):g.wrap(y.toViewRange(a.range),E)}}},{priority:"low"})}),e.conversion.for("upcast").add(t=>{t.on("element:a",(o,a,h)=>{const{writer:g,consumable:y}=h;if(!a.viewItem.getAttribute("href")||!y.consume(a.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const k=a.viewItem.getAttribute("data-ckbox-resource-id");if(k)if(a.modelRange)for(let E of a.modelRange.getItems())E.is("$textProxy")&&(E=E.textNode),Qw(E)&&g.setAttribute("ckboxLinkId",k,E);else g.setAttribute("ckboxLinkId",k,a.modelCursor.nodeBefore||a.modelCursor.parent)},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:t=>t.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const e=this.editor,t=e.model,o=t.document.selection;var a;t.document.registerPostFixer((a=e,h=>{let g=!1;const y=a.model,k=a.commands.get("ckbox");if(!k)return g;for(const E of y.document.differ.getChanges()){if("insert"!==E.type&&"attribute"!==E.type)continue;const D="insert"===E.type?new Ut(E.position,E.position.getShiftedBy(E.length)):E.range,L="attribute"===E.type&&"linkHref"===E.attributeKey&&null===E.attributeNewValue;for(const W of D.getItems()){if(L&&W.hasAttribute("ckboxLinkId")){h.removeAttribute("ckboxLinkId",W),g=!0;continue}const de=Yw(W,k._chosenAssets);for(const Ae of de){const Oe="image"===Ae.type?"ckboxImageId":"ckboxLinkId";Ae.id!==W.getAttribute(Oe)&&(h.setAttribute(Oe,Ae.id,W),g=!0)}}}return g})),t.document.registerPostFixer(function(a){return h=>{!a.hasAttribute("linkHref")&&a.hasAttribute("ckboxLinkId")&&h.removeSelectionAttribute("ckboxLinkId")}}(o))}}function Yw(d,e){const t=d.is("element","imageInline")||d.is("element","imageBlock"),o=d.hasAttribute("linkHref");return[...e].filter(a=>"image"===a.type&&t?a.attributes.imageFallbackUrl===d.getAttribute("src"):"link"===a.type&&o?a.attributes.linkHref===d.getAttribute("linkHref"):void 0)}function Yv(d,e){const t=d.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return d.setCustomProperty("link",!0,t),t}function Qw(d){return!!d.is("$text")||!(!d.is("element","imageInline")&&!d.is("element","imageBlock"))}class Jw extends cn{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,o=e.t;e.ui.componentFactory.add("ckfinder",a=>{const h=e.commands.get("ckfinder"),g=new Po(a);return g.set({label:o("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),g.bind("isEnabled").to(h),g.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),g})}}class Xw extends De{constructor(e){super(e),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=t&&"modal"!=t)throw new Ne("ckfinder-unknown-openermethod",e);const o=this.editor.config.get("ckfinder.options")||{};o.chooseFiles=!0;const a=o.onInit;o.language||(o.language=e.locale.uiLanguage),o.onInit=h=>{a&&a(h),h.on("files:choose",g=>{const y=g.data.files.toArray(),k=y.filter(L=>!L.isImage()),E=y.filter(L=>L.isImage());for(const L of k)e.execute("link",L.getUrl());const D=[];for(const L of E){const W=L.getUrl();D.push(W||h.request("file:getProxyUrl",{file:L}))}D.length&&Qv(e,D)}),h.on("file:choose:resizedImage",g=>{const y=g.data.resizedUrl;if(y)Qv(e,[y]);else{const k=e.plugins.get("Notification"),E=e.locale.t;k.showWarning(E("Could not obtain resized image URL."),{title:E("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[t](o)}}function Qv(d,e){if(d.commands.get("insertImage").isEnabled)d.execute("insertImage",{source:e});else{const t=d.plugins.get("Notification"),o=d.locale.t;t.showWarning(o("Could not insert image at the current position."),{title:o("Inserting image failed"),namespace:"ckfinder"})}}class e0 extends cn{static get pluginName(){return"CKFinderEditing"}static get requires(){return[df,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new Ne("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new Xw(e))}}class t0 extends cn{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Ih]}init(){const e=this.editor,t=e.plugins.get("CloudServices"),o=t.token,a=t.uploadUrl;o&&(this._uploadGateway=e.plugins.get("CloudServicesCore").createUploadGateway(o,a),e.plugins.get(Ih).createUploadAdapter=h=>new n0(this._uploadGateway,h))}}class n0{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(t,o)=>{this.loader.uploadTotal=o.total,this.loader.uploaded=o.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class r0 extends De{refresh(){const e=this.editor.model,t=fi(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&Jv(t,e.schema)}execute(e={}){const t=this.editor.model,o=t.document;t.change(a=>{const h=(e.selection||o.selection).getSelectedBlocks();for(const g of h)!g.is("element","paragraph")&&Jv(g,t.schema)&&a.rename(g,"paragraph")})}}function Jv(d,e){return e.checkChild(d.parent,"paragraph")&&!e.isObject(d)}class o0 extends De{execute(e){const t=this.editor.model,o=e.attributes;let a=e.position;t.change(h=>{const g=h.createElement("paragraph");if(o&&t.schema.setAllowedAttributes(g,o,h),!t.schema.checkChild(a.parent,g)){const y=t.schema.findAllowedParent(a,g);if(!y)return;a=h.split(a,y).position}t.insertContent(g,a),h.setSelection(g,"in")})}}class h_ extends cn{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new r0(e)),e.commands.add("insertParagraph",new o0(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(o,{writer:a})=>h_.paragraphLikeElements.has(o.name)?o.isEmpty?null:a.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}h_.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class s0 extends De{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=fi(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>Xv(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,o=t.document,a=e.value;t.change(h=>{const g=Array.from(o.selection.getSelectedBlocks()).filter(y=>Xv(y,a,t.schema));for(const y of g)y.is("element",a)||h.rename(y,a)})}}function Xv(d,e,t){return t.checkChild(d.parent,e)&&!t.isObject(d)}const O_="paragraph";class ey extends cn{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[h_]}init(){const e=this.editor,t=e.config.get("heading.options"),o=[];for(const a of t)a.model!==O_&&(e.model.schema.register(a.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(a),o.push(a.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new s0(e,o))}afterInit(){const e=this.editor,t=e.commands.get("enter"),o=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(a,h)=>{const g=e.model.document.selection.getFirstPosition().parent;o.some(y=>g.is("element",y.model))&&!g.is("element",O_)&&0===g.childCount&&h.writer.rename(g,O_)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:rt.get("low")+1})}}var Ab=oe(8733);Li()(Ab.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ny extends cn{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,o=function(g){const y=g.t,k={Paragraph:y("Paragraph"),"Heading 1":y("Heading 1"),"Heading 2":y("Heading 2"),"Heading 3":y("Heading 3"),"Heading 4":y("Heading 4"),"Heading 5":y("Heading 5"),"Heading 6":y("Heading 6")};return g.config.get("heading.options").map(E=>{const D=k[E.title];return D&&D!=E.title&&(E.title=D),E})}(e),a=t("Choose heading"),h=t("Heading");e.ui.componentFactory.add("heading",g=>{const y={},k=new xn,E=e.commands.get("heading"),D=e.commands.get("paragraph"),L=[E];for(const de of o){const Ae={type:"button",model:new zg({label:de.title,class:de.class,withText:!0})};"paragraph"===de.model?(Ae.model.bind("isOn").to(D,"value"),Ae.model.set("commandName","paragraph"),L.push(D)):(Ae.model.bind("isOn").to(E,"value",Oe=>Oe===de.model),Ae.model.set({commandName:"heading",commandValue:de.model})),k.add(Ae),y[de.model]=de.title}const W=jd(g);return Am(W,k),W.buttonView.set({isOn:!1,withText:!0,tooltip:h}),W.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),W.bind("isEnabled").toMany(L,"isEnabled",(...de)=>de.some(Ae=>Ae)),W.buttonView.bind("label").to(E,"value",D,"value",(de,Ae)=>{const Oe=de||Ae&&"paragraph";return y[Oe]?y[Oe]:a}),this.listenTo(W,"execute",de=>{e.execute(de.source.commandName,de.source.commandValue?{value:de.source.commandValue}:void 0),e.editing.view.focus()}),W})}}class iy extends De{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.value=!(!this.isEnabled||!e.hasAttribute("alt"))&&e.getAttribute("alt")}execute(e){const t=this.editor,o=t.plugins.get("ImageUtils"),a=t.model,h=o.getClosestSelectedImageElement(a.document.selection);a.change(g=>{g.setAttribute("alt",e.newValue,h)})}}function xb(d){return d.createContainerElement("figure",{class:"image"},[d.createEmptyElement("img"),d.createSlot()])}function Eb(d,e){const t=d.plugins.get("ImageUtils"),o=d.plugins.has("ImageInlineEditing")&&d.plugins.has("ImageBlockEditing");return h=>t.isInlineImageView(h)?o&&("block"==h.getStyle("display")||h.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:function(h){const g={name:!0};return h.hasAttribute("src")&&(g.attributes=["src"]),g}(h):null}function N_(d,e){const t=fi(e.getSelectedBlocks());return!t||d.isObject(t)||t.isEmpty&&"listItem"!=t.name?"imageBlock":"imageInline"}class Kd extends cn{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,o=null){const a=this.editor,h=a.model,g=h.document.selection;o=Mb(a,t||g,o),e=mn(mn({},Object.fromEntries(g.getAttributes())),e);for(const y in e)h.schema.checkAttribute(o,y)||delete e[y];return h.change(y=>{const k=y.createElement(o,e);return h.insertObject(k,t,null,{setSelection:"on",findOptimalPosition:!t&&"imageInline"!=o}),k.parent?k:null})}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const o=e.getSelectedElement();if(o&&this.isImageWidget(o))return o;let a=t.parent;for(;a;){if(a.is("element")&&this.isImageWidget(a))return a;a=a.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model.document.selection;return function(t,o){if("imageBlock"==Mb(t,o)){const h=function(g,y){const E=s(g,y).start.parent;return E.isEmpty&&!E.is("element","$root")?E.parent:E}(o,t.model);if(t.model.schema.checkChild(h,"imageBlock"))return!0}else if(t.model.schema.checkChild(o.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(t){return[...t.focus.getAncestors()].every(o=>!o.is("element","imageBlock"))}(e)}toImageWidget(e,t,o){return t.setCustomProperty("image",!0,e),ar(e,t,{label:()=>{const a=this.findViewImgElement(e).getAttribute("alt");return a?`${a} ${o}`:o}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Qn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:o}of t.createRangeIn(e))if(this.isInlineImageView(o))return o}}function Mb(d,e,t){const o=d.model.schema,a=d.config.get("image.insert.type");return d.plugins.has("ImageBlockEditing")?d.plugins.has("ImageInlineEditing")?t||("inline"===a?"imageInline":"block"===a?"imageBlock":e.is("selection")?N_(o,e):o.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Kg extends cn{static get requires(){return[Kd]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new iy(this.editor))}}var ry=oe(1905);Li()(ry.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Yg=oe(6764);Li()(Yg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Db extends Br{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new Yn,this.keystrokes=new sr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Os.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),Os.cancel,"ck-button-cancel","cancel"),this._focusables=new Rd,this._focusCycler=new kc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),Cc(this)}render(){super.render(),this.keystrokes.listenTo(this.element),rr({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,o,a){const h=new Po(this.locale);return h.set({label:e,icon:t,tooltip:!0}),h.extendTemplate({attributes:{class:o}}),a&&h.delegate("execute").to(this,a),h}_createLabeledInputView(){const e=this.locale.t,t=new jg(this.locale,Qf);return t.label=e("Text alternative"),t}}function l0(d){const e=d.editing.view,t=Al.defaultPositions,o=d.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(o.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class oy extends cn{static get requires(){return[Ud]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",o=>{const a=e.commands.get("imageTextAlternative"),h=new Po(o);return h.set({label:t("Change image text alternative"),icon:Os.lowVision,tooltip:!0}),h.bind("isEnabled").to(a,"isEnabled"),h.bind("isOn").to(a,"value",g=>!!g),this.listenTo(h,"execute",()=>{this._showForm()}),h})}_createForm(){const e=this.editor,t=e.editing.view.document,o=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Db(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(a,h)=>{this._hideForm(!0),h()}),this.listenTo(e.ui,"update",()=>{o.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(a){const h=a.plugins.get("ContextualBalloon");if(a.plugins.get("ImageUtils").getClosestSelectedImageWidget(a.editing.view.document.selection)){const g=l0(a);h.updatePosition(g)}}(e):this._hideForm(!0)}),wh({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const e=this.editor,t=e.commands.get("imageTextAlternative"),o=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:l0(e)}),o.fieldView.value=o.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class Tb extends cn{static get requires(){return[Kg,oy]}static get pluginName(){return"ImageTextAlternative"}}function c0(d,e){return o=>{o.on(`attribute:srcset:${e}`,t)};function t(o,a,h){if(!h.consumable.consume(a.item,o.name))return;const g=h.writer,y=h.mapper.toViewElement(a.item),k=d.findViewImgElement(y);if(null===a.attributeNewValue){const E=a.attributeOldValue;E.data&&(g.removeAttribute("srcset",k),g.removeAttribute("sizes",k),E.width&&g.removeAttribute("width",k))}else{const E=a.attributeNewValue;E.data&&(g.setAttribute("srcset",E.data,k),g.setAttribute("sizes","100vw",k),E.width&&g.setAttribute("width",E.width,k))}}}function zi(d,e,t){return a=>{a.on(`attribute:${t}:${e}`,o)};function o(a,h,g){if(!g.consumable.consume(h.item,a.name))return;const y=g.writer,k=g.mapper.toViewElement(h.item),E=d.findViewImgElement(k);y.setAttribute(h.attributeKey,h.attributeNewValue||"",E)}}class u0 extends Fn{observe(e){this.listenTo(e,"load",(t,o)=>{const a=o.target;this.checkShouldIgnoreEventFromTarget(a)||"IMG"==a.tagName&&this._fireEvents(o)},{useCapture:!0})}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class d0 extends De{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||"block"===t&&At("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||"inline"===t&&At("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(e){const t=ce(e.source),o=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(o.getAttributes());t.forEach((g,y)=>{const k=o.getSelectedElement();if("string"==typeof g&&(g={src:g}),y&&k&&a.isImage(k)){const E=this.editor.model.createPositionAfter(k);a.insertImage(mn(mn({},g),h),E)}else a.insertImage(mn(mn({},g),h))})}}class Sb extends cn{static get requires(){return[Kd]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(u0),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:a=>{const h={data:a.getAttribute("srcset")};return a.hasAttribute("width")&&(h.width=a.getAttribute("width")),h}}});const o=new d0(e);e.commands.add("insertImage",o),e.commands.add("imageInsert",o)}}class f_ extends De{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled="imageBlock"===this._modelElementName?e.isInlineImage(t):e.isBlockImage(t)}execute(){const t=this.editor.model,o=this.editor.plugins.get("ImageUtils"),a=o.getClosestSelectedImageElement(t.document.selection),h=Object.fromEntries(a.getAttributes());return h.src||h.uploadId?t.change(g=>{const y=Array.from(t.markers).filter(D=>D.getRange().containsItem(a)),k=o.insertImage(h,t.createSelection(a,"on"),this._modelElementName);if(!k)return null;const E=g.createRangeOn(k);for(const D of y){const L=D.getRange(),W="$graveyard"!=L.root.rootName?L.getJoined(E,!0):E;g.updateMarker(D,{range:W})}return{oldElement:a,newElement:k}}):null}}class sy extends cn{static get requires(){return[Sb,Kd,gu]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new f_(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,o=e.conversion,a=e.plugins.get("ImageUtils");o.for("dataDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:g})=>xb(g)}),o.for("editingDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:g})=>a.toImageWidget(xb(g),g,t("image widget"))}),o.for("downcast").add(zi(a,"imageBlock","src")).add(zi(a,"imageBlock","alt")).add(c0(a,"imageBlock")),o.for("upcast").elementToElement({view:Eb(e,"imageBlock"),model:(h,{writer:g})=>g.createElement("imageBlock",h.hasAttribute("src")?{src:h.getAttribute("src")}:null)}).add(function(h){return y=>{y.on("element:figure",g)};function g(y,k,E){if(!E.consumable.test(k.viewItem,{name:!0,classes:"image"}))return;const D=h.findViewImgElement(k.viewItem);if(!D||!E.consumable.test(D,{name:!0}))return;E.consumable.consume(k.viewItem,{name:!0,classes:"image"});const L=fi(E.convertItem(D,k.modelCursor).modelRange.getItems());L?(E.convertChildren(k.viewItem,L),E.updateConversionResult(L,k)):E.consumable.revert(k.viewItem,{name:!0,classes:"image"})}}(a))}_setupClipboardIntegration(){const e=this.editor,t=e.model,o=e.editing.view,a=e.plugins.get("ImageUtils");this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(h,g)=>{const y=Array.from(g.content.getChildren());let k;if(!y.every(a.isInlineImageView))return;k=g.targetRanges?e.editing.mapper.toModelRange(g.targetRanges[0]):t.document.selection.getFirstRange();const E=t.createSelection(k);if("imageBlock"===N_(t.schema,E)){const D=new of(o.document),L=y.map(W=>D.createElement("figure",{class:"image"},W));g.content=D.createDocumentFragment(L)}})}}var p_=oe(3508);Li()(p_.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ka extends cn{static get requires(){return[sy,Cn,Tb]}static get pluginName(){return"ImageBlock"}}class FC extends cn{static get requires(){return[Sb,Kd,gu]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((o,a)=>{if(o.endsWith("caption")&&"imageInline"===a.name)return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new f_(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,o=e.conversion,a=e.plugins.get("ImageUtils");o.for("dataDowncast").elementToElement({model:"imageInline",view:(h,{writer:g})=>g.createEmptyElement("img")}),o.for("editingDowncast").elementToStructure({model:"imageInline",view:(h,{writer:g})=>{return a.toImageWidget((y=g).createContainerElement("span",{class:"image-inline"},y.createEmptyElement("img")),g,t("image widget"));var y}}),o.for("downcast").add(zi(a,"imageInline","src")).add(zi(a,"imageInline","alt")).add(c0(a,"imageInline")),o.for("upcast").elementToElement({view:Eb(e,"imageInline"),model:(h,{writer:g})=>g.createElement("imageInline",h.hasAttribute("src")?{src:h.getAttribute("src")}:null)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,o=e.editing.view,a=e.plugins.get("ImageUtils");this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(h,g)=>{const y=Array.from(g.content.getChildren());let k;if(!y.every(a.isBlockImageView))return;k=g.targetRanges?e.editing.mapper.toModelRange(g.targetRanges[0]):t.document.selection.getFirstRange();const E=t.createSelection(k);if("imageInline"===N_(t.schema,E)){const D=new of(o.document),L=y.map(W=>1===W.childCount?(Array.from(W.getAttributes()).forEach(de=>D.setAttribute(...de,a.findViewImgElement(W))),W.getChild(0)):W);g.content=D.createDocumentFragment(L)}})}}class ay extends cn{static get requires(){return[FC,Cn,Tb]}static get pluginName(){return"ImageInline"}}class h0 extends De{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils");if(!e.plugins.has(sy))return this.isEnabled=!1,void(this.value=!1);const o=e.model.document.selection,a=o.getSelectedElement();if(!a){const h=t.getCaptionFromModelSelection(o);return this.isEnabled=!!h,void(this.value=!!h)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(a),this.value=!!this.isEnabled&&!!t.getCaptionFromImageModelElement(a)}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(o=>{this.value?this._hideImageCaption(o):this._showImageCaption(o,t)})}_showImageCaption(e,t){const o=this.editor.model.document.selection,a=this.editor.plugins.get("ImageCaptionEditing");let h=o.getSelectedElement();const g=a._getSavedCaption(h);this.editor.plugins.get("ImageUtils").isInlineImage(h)&&(this.editor.execute("imageTypeBlock"),h=o.getSelectedElement());const y=g||e.createElement("caption");e.append(y,h),t&&e.setSelection(y,"in")}_hideImageCaption(e){const t=this.editor,o=t.model.document.selection,a=t.plugins.get("ImageCaptionEditing"),h=t.plugins.get("ImageCaptionUtils");let g,y=o.getSelectedElement();y?g=h.getCaptionFromImageModelElement(y):(g=h.getCaptionFromModelSelection(o),y=g.parent),a._saveCaption(y,g),e.setSelection(y,"on"),e.remove(g)}}class ly extends cn{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Kd]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),o=e.getFirstPosition().findAncestor("caption");return o&&t.isBlockImage(o.parent)?o:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return"figcaption"==e.name&&t.isBlockImageView(e.parent)?{name:!0}:null}}class cy extends cn{static get requires(){return[Kd,ly]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new h0(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,o=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),h=e.t;e.conversion.for("upcast").elementToElement({view:g=>a.matchImageCaptionViewElement(g),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(g,{writer:y})=>o.isBlockImage(g.parent)?y.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(g,{writer:y})=>{if(!o.isBlockImage(g.parent))return null;const k=y.createEditableElement("figcaption");y.setCustomProperty("imageCaption",!0,k),oc({view:t,element:k,text:h("Enter image caption"),keepOnFocus:!0});const E=g.parent.getAttribute("alt");return Ul(k,y,{label:E?h("Caption for image: %0",[E]):h("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),o=e.plugins.get("ImageCaptionUtils"),a=e.commands.get("imageTypeInline"),h=e.commands.get("imageTypeBlock"),g=y=>{if(!y.return)return;const{oldElement:k,newElement:E}=y.return;if(!k)return;if(t.isBlockImage(k)){const L=o.getCaptionFromImageModelElement(k);if(L)return void this._saveCaption(E,L)}const D=this._getSavedCaption(k);D&&this._saveCaption(E,D)};a&&this.listenTo(a,"execute",g,{priority:"low"}),h&&this.listenTo(h,"execute",g,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?Io.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,o=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const h=t.document.differ.getChanges();for(const g of h){if("alt"!==g.attributeKey)continue;const y=g.range.start.nodeAfter;if(o.isBlockImage(y)){const k=a.getCaptionFromImageModelElement(y);if(!k)return;e.editing.reconvertItem(k)}}})}}class uy extends cn{static get requires(){return[ly]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,o=e.plugins.get("ImageCaptionUtils"),a=e.t;e.ui.componentFactory.add("toggleImageCaption",h=>{const g=e.commands.get("toggleImageCaption"),y=new Po(h);return y.set({icon:Os.caption,tooltip:!0,isToggleable:!0}),y.bind("isOn","isEnabled").to(g,"value","isEnabled"),y.bind("label").to(g,"value",k=>a(k?"Toggle caption off":"Toggle caption on")),this.listenTo(y,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const k=o.getCaptionFromModelSelection(e.model.document.selection);if(k){const E=e.editing.mapper.toViewElement(k);t.scrollToTheSelection(),t.change(D=>{D.addClass("image__caption_highlighted",E)})}e.editing.view.focus()}),y})}}var Ib=oe(2640);Li()(Ib.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class f0 extends De{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(o=>{if(o.isDefault)for(const a of o.modelElements)this._defaultStyles[a]=o.name;return[o.name,o]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.value=!!this.isEnabled&&(e.hasAttribute("imageStyle")?e.getAttribute("imageStyle"):this._defaultStyles[e.name])}execute(e={}){const t=this.editor,o=t.model,a=t.plugins.get("ImageUtils");o.change(h=>{const g=e.value;let y=a.getClosestSelectedImageElement(o.document.selection);g&&this.shouldConvertImageType(g,y)&&(this.editor.execute(a.isBlockImage(y)?"imageTypeInline":"imageTypeBlock"),y=a.getClosestSelectedImageElement(o.document.selection)),!g||this._styles.get(g).isDefault?h.removeAttribute("imageStyle",y):h.setAttribute("imageStyle",g,y)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const{objectFullWidth:p0,objectInline:hy,objectLeft:Fm,objectRight:Pb,objectCenter:Ob,objectBlockLeft:fy,objectBlockRight:g_}=Os,m_={get inline(){return{name:"inline",title:"In line",icon:hy,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Fm,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:fy,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Ob,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Pb,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:g_,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Ob,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Pb,modelElements:["imageBlock"],className:"image-style-side"}}},Nb={full:p0,left:fy,right:g_,center:Ob,inlineLeft:Fm,inlineRight:Pb,inline:hy},Rb=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function py(d){At("image-style-configuration-definition-invalid",d)}const Qg={normalizeStyles:function(d){return(d.configuredStyles.options||[]).map(e=>function(t){return"string"==typeof(t="string"==typeof t?m_[t]?mn({},m_[t]):{name:t}:function(o,a){const h=mn({},a);for(const g in o)Object.prototype.hasOwnProperty.call(a,g)||(h[g]=o[g]);return h}(m_[t.name],t)).icon&&(t.icon=Nb[t.icon]||t.icon),t}(e)).filter(e=>function(t,{isBlockPluginLoaded:o,isInlinePluginLoaded:a}){const{modelElements:h,name:g}=t;if(!(h&&h.length&&g))return py({style:t}),!1;{const y=[o?"imageBlock":null,a?"imageInline":null];if(!h.some(k=>y.includes(k)))return At("image-style-missing-dependency",{style:t,missingPlugins:h.map(k=>"imageBlock"===k?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,d))},getDefaultStylesConfiguration:function(d,e){return d&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:d?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(d){return d.has("ImageBlockEditing")&&d.has("ImageInlineEditing")?[...Rb]:[]},warnInvalidStyle:py,DEFAULT_OPTIONS:m_,DEFAULT_ICONS:Nb,DEFAULT_DROPDOWN_DEFINITIONS:Rb};function Lm(d,e){for(const t of e)if(t.name===d)return t}class gy extends cn{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Kd]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=Qg,o=this.editor,a=o.plugins.has("ImageBlockEditing"),h=o.plugins.has("ImageInlineEditing");o.config.define("image.styles",t(a,h)),this.normalizedStyles=e({configuredStyles:o.config.get("image.styles"),isBlockPluginLoaded:a,isInlinePluginLoaded:h}),this._setupConversion(a,h),this._setupPostFixer(),o.commands.add("imageStyle",new f0(o,this.normalizedStyles))}_setupConversion(e,t){const o=this.editor,a=o.model.schema,h=(g=this.normalizedStyles,(k,E,D)=>{if(!D.consumable.consume(E.item,k.name))return;const L=Lm(E.attributeNewValue,g),W=Lm(E.attributeOldValue,g),de=D.mapper.toViewElement(E.item),Ae=D.writer;W&&Ae.removeClass(W.className,de),L&&Ae.addClass(L.className,de)});var g;const y=function(k){const E={imageInline:k.filter(D=>!D.isDefault&&D.modelElements.includes("imageInline")),imageBlock:k.filter(D=>!D.isDefault&&D.modelElements.includes("imageBlock"))};return(D,L,W)=>{if(!L.modelRange)return;const de=L.viewItem,Ae=fi(L.modelRange.getItems());if(Ae&&W.schema.checkAttribute(Ae,"imageStyle"))for(const Oe of E[Ae.name])W.consumable.consume(de,{classes:Oe.className})&&W.writer.setAttribute("imageStyle",Oe.name,Ae)}}(this.normalizedStyles);o.editing.downcastDispatcher.on("attribute:imageStyle",h),o.data.downcastDispatcher.on("attribute:imageStyle",h),e&&(a.extend("imageBlock",{allowAttributes:"imageStyle"}),o.data.upcastDispatcher.on("element:figure",y,{priority:"low"})),t&&(a.extend("imageInline",{allowAttributes:"imageStyle"}),o.data.upcastDispatcher.on("element:img",y,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,o=e.plugins.get(Kd),a=new Map(this.normalizedStyles.map(h=>[h.name,h]));t.registerPostFixer(h=>{let g=!1;for(const y of t.differ.getChanges())if("insert"==y.type||"attribute"==y.type&&"imageStyle"==y.attributeKey){let k="insert"==y.type?y.position.nodeAfter:y.range.start.nodeAfter;if(k&&k.is("element","paragraph")&&k.childCount>0&&(k=k.getChild(0)),!o.isImage(k))continue;const E=k.getAttribute("imageStyle");if(!E)continue;const D=a.get(E);D&&D.modelElements.includes(k.name)||(h.removeAttribute("imageStyle",k),g=!0)}return g})}}var my=oe(5083);Li()(my.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class _y extends cn{static get requires(){return[gy]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],o=Fb(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const h of o)this._createButton(h);const a=Fb([...t.filter(Ht),...Qg.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const h of a)this._createDropdown(h,o)}_createDropdown(e,t){const o=this.editor.ui.componentFactory;o.add(e.name,a=>{let h;const{defaultItem:g,items:y,title:k}=e,E=y.filter(de=>t.find(({name:Ae})=>Lb(Ae)===de)).map(de=>{const Ae=o.create(de);return de===g&&(h=Ae),Ae});y.length!==E.length&&Qg.warnInvalidStyle({dropdown:e});const D=jd(a,cf),L=D.buttonView,W=L.arrowView;return Rg(D,E,{enableActiveItemFocusOnDropdownOpen:!0}),L.set({label:by(k,h.label),class:null,tooltip:!0}),W.unbind("label"),W.set({label:k}),L.bind("icon").toMany(E,"isOn",(...de)=>{const Ae=de.findIndex(Ea);return Ae<0?h.icon:E[Ae].icon}),L.bind("label").toMany(E,"isOn",(...de)=>{const Ae=de.findIndex(Ea);return by(k,Ae<0?h.label:E[Ae].label)}),L.bind("isOn").toMany(E,"isOn",(...de)=>de.some(Ea)),L.bind("class").toMany(E,"isOn",(...de)=>de.some(Ea)?"ck-splitbutton_flatten":null),L.on("execute",()=>{E.some(({isOn:de})=>de)?D.isOpen=!D.isOpen:h.fire("execute")}),D.bind("isEnabled").toMany(E,"isEnabled",(...de)=>de.some(Ea)),this.listenTo(D,"execute",()=>{this.editor.editing.view.focus()}),D})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(Lb(t),o=>{const a=this.editor.commands.get("imageStyle"),h=new Po(o);return h.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),h.bind("isEnabled").to(a,"isEnabled"),h.bind("isOn").to(a,"value",g=>g===t),h.on("execute",this._executeCommand.bind(this,t)),h})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function Fb(d,e){for(const t of d)e[t.title]&&(t.title=e[t.title]);return d}function Lb(d){return`imageStyle:${d}`}function by(d,e){return(d?d+": ":"")+e}function Bb(d){const e=d.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function m0(d){return new Promise((e,t)=>{const o=d.getAttribute("src");fetch(o).then(a=>a.blob()).then(a=>{const h=vy(a,o),g=h.replace("image/",""),y=new File([a],`image.${g}`,{type:h});e(y)}).catch(a=>{return a&&"TypeError"===a.name?(h=o,(g=h,new Promise((y,k)=>{const E=si.document.createElement("img");E.addEventListener("load",()=>{const D=si.document.createElement("canvas");D.width=E.width,D.height=E.height,D.getContext("2d").drawImage(E,0,0),D.toBlob(L=>L?y(L):k())}),E.addEventListener("error",()=>k()),E.src=g})).then(g=>{const y=vy(g,h),k=y.replace("image/","");return new File([g],`image.${k}`,{type:y})})).then(e).catch(t):t(a);var h,g})})}function vy(d,e){return d.type?d.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class LC extends cn{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,o=a=>{const h=new NC(a),g=e.commands.get("uploadImage"),y=e.config.get("image.upload.types"),k=Bb(y);return h.set({acceptedType:y.map(E=>`image/${E}`).join(","),allowMultipleFiles:!0}),h.buttonView.set({label:t("Insert image"),icon:Os.image,tooltip:!0}),h.buttonView.bind("isEnabled").to(g),h.on("done",(E,D)=>{const L=Array.from(D).filter(W=>k.test(W.type));L.length&&(e.execute("uploadImage",{file:L}),e.editing.view.focus())}),h};e.ui.componentFactory.add("uploadImage",o),e.ui.componentFactory.add("imageUpload",o)}}var _0=oe(3689);Li()(_0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var b0=oe(4036);Li()(b0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var __=oe(3773);Li()(__.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class y0 extends cn{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...t)=>this.uploadStatusChange(...t)),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(e,t,o){const a=this.editor,h=t.item,g=h.getAttribute("uploadId");if(!o.consumable.consume(t.item,e.name))return;const y=a.plugins.get("ImageUtils"),k=a.plugins.get(Ih),E=g?t.attributeNewValue:null,D=this.placeholder,L=a.editing.mapper.toViewElement(h),W=o.writer;if("reading"==E)return jb(L,W),void Bm(y,D,L,W);if("uploading"==E){const de=k.loaders.get(g);return jb(L,W),void(de?(wy(L,W),function(Ae,Oe,He,pt){const Tt=function(Zt){const Mn=Zt.createUIElement("div",{class:"ck-progress-bar"});return Zt.setCustomProperty("progressBar",!0,Mn),Mn}(Oe);Oe.insert(Oe.createPositionAt(Ae,"end"),Tt),He.on("change:uploadedPercent",(Zt,Mn,er)=>{pt.change(mr=>{mr.setStyle("width",er+"%",Tt)})})}(L,W,de,a.editing.view),function(Ae,Oe,He,pt){if(pt.data){const Tt=Ae.findViewImgElement(Oe);He.setAttribute("src",pt.data,Tt)}}(y,L,W,de)):Bm(y,D,L,W))}"complete"==E&&k.loaders.get(g)&&function(de,Ae,Oe){const He=Ae.createUIElement("div",{class:"ck-image-upload-complete-icon"});Ae.insert(Ae.createPositionAt(de,"end"),He),setTimeout(()=>{Oe.change(pt=>pt.remove(pt.createRangeOn(He)))},3e3)}(L,W,a.editing.view),ky(L,W,"progressBar"),wy(L,W),W.removeClass("ck-appear",L)}}function jb(d,e){d.hasClass("ck-appear")||e.addClass("ck-appear",d)}function Bm(d,e,t,o){t.hasClass("ck-image-upload-placeholder")||o.addClass("ck-image-upload-placeholder",t);const a=d.findViewImgElement(t);a.getAttribute("src")!==e&&o.setAttribute("src",e,a),Cy(t,"placeholder")||o.insert(o.createPositionAfter(a),function(h){const g=h.createUIElement("div",{class:"ck-upload-placeholder-loader"});return h.setCustomProperty("placeholder",!0,g),g}(o))}function wy(d,e){d.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",d),ky(d,e,"placeholder")}function Cy(d,e){for(const t of d.getChildren())if(t.getCustomProperty(e))return t}function ky(d,e,t){const o=Cy(d,t);o&&e.remove(e.createRangeOn(o))}class w0 extends De{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),o=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(o)}execute(e){const t=ce(e.file),o=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(o.getAttributes());t.forEach((g,y)=>{const k=o.getSelectedElement();if(y&&k&&a.isImage(k)){const E=this.editor.model.createPositionAfter(k);this._uploadImage(g,h,E)}else this._uploadImage(g,h)})}_uploadImage(e,t,o){const a=this.editor,h=a.plugins.get(Ih).createLoader(e),g=a.plugins.get("ImageUtils");h&&g.insertImage(va(mn({},t),{uploadId:h.id}),o)}}class C0 extends cn{static get requires(){return[Ih,df,gu,Kd]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,o=e.conversion,a=e.plugins.get(Ih),h=e.plugins.get("ImageUtils"),g=Bb(e.config.get("image.upload.types")),y=new w0(e);e.commands.add("uploadImage",y),e.commands.add("imageUpload",y),o.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(k,E)=>{if(D=E.dataTransfer,Array.from(D.types).includes("text/html")&&""!==D.getData("text/html"))return;var D;const L=Array.from(E.dataTransfer.files).filter(W=>!!W&&g.test(W.type));L.length&&(k.stop(),e.model.change(W=>{E.targetRanges&&W.setSelection(E.targetRanges.map(de=>e.editing.mapper.toModelRange(de))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:L})})}))}),this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(k,E)=>{const D=Array.from(e.editing.view.createRangeIn(E.content)).filter(W=>{return!(!h.isInlineImageView(Ae=W.item)||!Ae.getAttribute("src"))&&(Ae.getAttribute("src").match(/^data:image\/\w+;base64,/g)||Ae.getAttribute("src").match(/^blob:/g))&&!W.item.getAttribute("uploadProcessed");var Ae}).map(W=>({promise:m0(W.item),imageElement:W.item}));if(!D.length)return;const L=new of(e.editing.view.document);for(const W of D){L.setAttribute("uploadProcessed",!0,W.imageElement);const de=a.createLoader(W.promise);de&&(L.setAttribute("src","",W.imageElement),L.setAttribute("uploadId",de.id,W.imageElement))}}),e.editing.view.document.on("dragover",(k,E)=>{E.preventDefault()}),t.on("change",()=>{const k=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),E=new Set;for(const D of k)if("insert"==D.type&&"$text"!=D.name){const L=D.position.nodeAfter,W="$graveyard"==D.position.root.rootName;for(const de of Ay(e,L)){const Ae=de.getAttribute("uploadId");if(!Ae)continue;const Oe=a.loaders.get(Ae);Oe&&(W?E.has(Ae)||Oe.abort():(E.add(Ae),this._uploadImageElements.set(Ae,de),"idle"==Oe.status&&this._readAndUpload(Oe)))}}}),this.on("uploadComplete",(k,{imageElement:E,data:D})=>{const L=D.urls?D.urls:D;this.editor.model.change(W=>{W.setAttribute("src",L.default,E),this._parseAndSetSrcsetAttributeOnImage(L,E,W)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,o=t.model,a=t.locale.t,h=t.plugins.get(Ih),g=t.plugins.get(df),y=t.plugins.get("ImageUtils"),k=this._uploadImageElements;return o.enqueueChange({isUndoable:!1},D=>{D.setAttribute("uploadStatus","reading",k.get(e.id))}),e.read().then(()=>{const D=e.upload(),L=k.get(e.id);if(Z_isSafari){const W=t.editing.mapper.toViewElement(L),de=y.findViewImgElement(W);t.editing.view.once("render",()=>{if(!de.parent)return;const Ae=t.editing.view.domConverter.mapViewToDom(de.parent);if(!Ae)return;const Oe=Ae.style.display;Ae.style.display="none",Ae._ckHack=Ae.offsetHeight,Ae.style.display=Oe})}return o.enqueueChange({isUndoable:!1},W=>{W.setAttribute("uploadStatus","uploading",L)}),D}).then(D=>{o.enqueueChange({isUndoable:!1},L=>{const W=k.get(e.id);L.setAttribute("uploadStatus","complete",W),this.fire("uploadComplete",{data:D,imageElement:W})}),E()}).catch(D=>{if("error"!==e.status&&"aborted"!==e.status)throw D;"error"==e.status&&D&&g.showWarning(D,{title:a("Upload failed"),namespace:"upload"}),o.enqueueChange({isUndoable:!1},L=>{L.remove(k.get(e.id))}),E()});function E(){o.enqueueChange({isUndoable:!1},D=>{const L=k.get(e.id);D.removeAttribute("uploadId",L),D.removeAttribute("uploadStatus",L),k.delete(e.id)}),h.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,o){let a=0;const h=Object.keys(e).filter(g=>{const y=parseInt(g,10);if(!isNaN(y))return a=Math.max(a,y),!0}).map(g=>`${e[g]} ${g}w`).join(", ");""!=h&&o.setAttribute("srcset",{data:h,width:a},t)}}function Ay(d,e){const t=d.plugins.get("ImageUtils");return Array.from(d.model.createRangeOn(e)).filter(o=>t.isImage(o.item)).map(o=>o.item)}class k0 extends cn{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Pl(e)),e.commands.add("outdent",new Pl(e))}}const xy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Jg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class A0 extends cn{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,o=e.t,a="ltr"==t.uiLanguageDirection?xy:Jg,h="ltr"==t.uiLanguageDirection?Jg:xy;this._defineButton("indent",o("Increase indent"),a),this._defineButton("outdent",o("Decrease indent"),h)}_defineButton(e,t,o){const a=this.editor;a.ui.componentFactory.add(e,h=>{const g=a.commands.get(e),y=new Po(h);return y.set({label:t,icon:o,tooltip:!0}),y.bind("isOn","isEnabled").to(g,"value","isEnabled"),this.listenTo(y,"execute",()=>{a.execute(e),a.editing.view.focus()}),y})}}class Ey{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,o,a)=>{if(!a.consumable.test(o.item,"attribute:linkHref")||!o.item.is("selection")&&!a.schema.isInline(o.item))return;const h=a.writer,g=h.document.selection;for(const y of this._definitions){const k=h.createAttributeElement("a",y.attributes,{priority:5});y.classes&&h.addClass(y.classes,k);for(const E in y.styles)h.setStyle(E,y.styles[E],k);h.setCustomProperty("link",!0,k),y.callback(o.attributeNewValue)?o.item.is("selection")?h.wrap(g.getFirstRange(),k):h.wrap(a.mapper.toViewRange(o.range),k):h.unwrap(a.mapper.toViewRange(o.range),k)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,o,{writer:a,mapper:h})=>{const g=h.toViewElement(o.item),y=Array.from(g.getChildren()).find(k=>"a"===k.name);for(const k of this._definitions){const E=On(k.attributes);if(k.callback(o.attributeNewValue)){for(const[D,L]of E)"class"===D?a.addClass(L,y):a.setAttribute(D,L,y);k.classes&&a.addClass(k.classes,y);for(const D in k.styles)a.setStyle(D,k.styles[D],y)}else{for(const[D,L]of E)"class"===D?a.removeClass(L,y):a.removeAttribute(D,y);k.classes&&a.removeClass(k.classes,y);for(const D in k.styles)a.removeStyle(D,y)}}})}}}var My=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Dy=function(d){return My.test(d)};var Sy="\\ud800-\\udfff",zb="["+Sy+"]",Vb="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",F_="\\ud83c[\\udffb-\\udfff]",Ub="[^"+Sy+"]",Iy="(?:\\ud83c[\\udde6-\\uddff]){2}",Py="[\\ud800-\\udbff][\\udc00-\\udfff]",Oy="(?:"+Vb+"|"+F_+")?",L_="[\\ufe0e\\ufe0f]?",E0=L_+Oy+"(?:\\u200d(?:"+[Ub,Iy,Py].join("|")+")"+L_+Oy+")*",Ny="(?:"+[Ub+Vb+"?",Vb,Iy,Py,zb].join("|")+")",M0=RegExp(F_+"(?="+F_+")|"+Ny+E0,"g");const S0=function(e){e=Af(e);var t=Dy(e)?function(d){return Dy(d)?function(d){return d.match(M0)||[]}(d):function(d){return d.split("")}(d)}(e):void 0,o=t?t[0]:e.charAt(0),a=t?function(d,e,t){var o=d.length;return _d(d,1,t=void 0===t?o:t)}(t).join(""):e.slice(1);return o.toUpperCase()+a},I0=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,P0=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,O0=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,N0=/^((\w+:(\/{2,})?)|(\W))/i,B_="Ctrl+K";function Hb(d,{writer:e}){const t=e.createAttributeElement("a",{href:d},{priority:5});return e.setCustomProperty("link",!0,t),t}function Ry(d){return function(e){return e.replace(I0,"").match(P0)}(d=String(d))?d:"#"}function qb(d,e){return!!d&&e.checkAttribute(d.name,"linkHref")}function Gb(d,e){const t=O0.test(d)?"mailto:":e,a=!!t&&!Fy(d);return d&&a?t+d:d}function Fy(d){return N0.test(d)}function Ly(d){window.open(d,"_blank","noopener")}class R0 extends De{constructor(e){super(e),this.manualDecorators=new xn,this.automaticDecorators=new Ey}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,o=t.getSelectedElement()||fi(t.getSelectedBlocks());qb(o,e.schema)?(this.value=o.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(o,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const a of this.manualDecorators)a.value=this._getDecoratorStateFromModel(a.id)}execute(e,t={}){const o=this.editor.model,a=o.document.selection,h=[],g=[];for(const y in t)t[y]?h.push(y):g.push(y);o.change(y=>{if(a.isCollapsed){const k=a.getFirstPosition();if(a.hasAttribute("linkHref")){const E=mu(k,"linkHref",a.getAttribute("linkHref"),o);y.setAttribute("linkHref",e,E),h.forEach(D=>{y.setAttribute(D,!0,E)}),g.forEach(D=>{y.removeAttribute(D,E)}),y.setSelection(y.createPositionAfter(E.end.nodeBefore))}else if(""!==e){const E=On(a.getAttributes());E.set("linkHref",e),h.forEach(L=>{E.set(L,!0)});const{end:D}=o.insertContent(y.createText(e,E),k);y.setSelection(D)}["linkHref",...h,...g].forEach(E=>{y.removeSelectionAttribute(E)})}else{const k=o.schema.getValidRanges(a.getRanges(),"linkHref"),E=[];for(const L of a.getSelectedBlocks())o.schema.checkAttribute(L,"linkHref")&&E.push(y.createRangeOn(L));const D=E.slice();for(const L of k)this._isRangeToUpdate(L,E)&&D.push(L);for(const L of D)y.setAttribute("linkHref",e,L),h.forEach(W=>{y.setAttribute(W,!0,L)}),g.forEach(W=>{y.removeAttribute(W,L)})}})}_getDecoratorStateFromModel(e){const t=this.editor.model,o=t.document.selection,a=o.getSelectedElement();return qb(a,t.schema)?a.getAttribute(e):o.getAttribute(e)}_isRangeToUpdate(e,t){for(const o of t)if(o.containsRange(e))return!1;return!0}}class $b extends De{refresh(){const e=this.editor.model,t=e.document.selection,o=t.getSelectedElement();this.isEnabled=qb(o,e.schema)?e.schema.checkAttribute(o,"linkHref"):e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const t=this.editor.model,o=t.document.selection,a=this.editor.commands.get("link");t.change(h=>{const g=o.isCollapsed?[mu(o.getFirstPosition(),"linkHref",o.getAttribute("linkHref"),t)]:t.schema.getValidRanges(o.getRanges(),"linkHref");for(const y of g)if(h.removeAttribute("linkHref",y),a)for(const k of a.manualDecorators)h.removeAttribute(k.id,y)})}}class j_{constructor({id:e,label:t,attributes:o,classes:a,styles:h,defaultValue:g}){this.id=e,this.set("value"),this.defaultValue=g,this.label=t,this.attributes=o,this.classes=a,this.styles=h}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}ne(j_,Tn);var Wb=oe(9773);Li()(Wb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const By="automatic",F0=/^(https?:)?\/\//;class Kb extends cn{static get pluginName(){return"LinkEditing"}static get requires(){return[hd,cd,gu]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Hb}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(o,a)=>Hb(Ry(o),a)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:o=>o.getAttribute("href")}}),e.commands.add("link",new R0(e)),e.commands.add("unlink",new $b(e));const t=function(o,a){const h={"Open in a new tab":o("Open in a new tab"),Downloadable:o("Downloadable")};return a.forEach(g=>(g.label&&h[g.label]&&(g.label=h[g.label]),g)),a}(e.t,function(o){const a=[];if(o)for(const[h,g]of Object.entries(o)){const y=Object.assign({},g,{id:`link${S0(h)}`});a.push(y)}return a}(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(o=>o.mode===By)),this._enableManualDecorators(t.filter(o=>"manual"===o.mode)),e.plugins.get(hd).registerAttribute("linkHref"),function(o,a,h,g){const y=o.editing.view,k=new Set;y.document.registerPostFixer(E=>{const D=o.model.document.selection;let L=!1;if(D.hasAttribute(a)){const W=mu(D.getFirstPosition(),a,D.getAttribute(a),o.model),de=o.editing.mapper.toViewRange(W);for(const Ae of de.getItems())Ae.is("element","a")&&!Ae.hasClass(g)&&(E.addClass(g,Ae),k.add(Ae),L=!0)}return L}),o.conversion.for("editingDowncast").add(E=>{function D(){y.change(L=>{for(const W of k.values())L.removeClass(g,W),k.delete(W)})}E.on("insert",D,{priority:"highest"}),E.on("remove",D,{priority:"highest"}),E.on("attribute",D,{priority:"highest"}),E.on("selection",D,{priority:"highest"})})}(e,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(e){const t=this.editor,o=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&o.add({id:"linkIsExternal",mode:By,callback:a=>F0.test(a),attributes:{target:"_blank",rel:"noopener noreferrer"}}),o.add(e),o.length&&t.conversion.for("downcast").add(o.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,o=t.commands.get("link").manualDecorators;e.forEach(a=>{t.model.schema.extend("$text",{allowAttributes:a.id}),a=new j_(a),o.add(a),t.conversion.for("downcast").attributeToElement({model:a.id,view:(h,{writer:g,schema:y},{item:k})=>{if((k.is("selection")||y.isInline(k))&&h){const E=g.createAttributeElement("a",a.attributes,{priority:5});a.classes&&g.addClass(a.classes,E);for(const D in a.styles)g.setStyle(D,a.styles[D],E);return g.setCustomProperty("link",!0,E),E}}}),t.conversion.for("upcast").elementToAttribute({view:mn({name:"a"},a._createPattern()),model:{key:a.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(o,a)=>{if(!(Z_isMac?a.domEvent.metaKey:a.domEvent.ctrlKey))return;let h=a.domTarget;if("a"!=h.tagName.toLowerCase()&&(h=h.closest("a")),!h)return;const g=h.getAttribute("href");g&&(o.stop(),a.preventDefault(),Ly(g))},{context:"$capture"}),this.listenTo(t,"keydown",(o,a)=>{const h=e.commands.get("link").value;h&&a.keyCode===ri.enter&&a.altKey&&(o.stop(),Ly(h))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(e,"insertContent",()=>{const o=t.anchor.nodeBefore,a=t.anchor.nodeAfter;t.hasAttribute("linkHref")&&o&&o.hasAttribute("linkHref")&&(a&&a.hasAttribute("linkHref")||e.change(h=>{Yb(h,Jb(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(Ap);let o=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{o=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!o)return;o=!1;const a=t.document.selection;if(!a.isCollapsed||!a.hasAttribute("linkHref"))return;const h=a.getFirstPosition(),g=mu(h,"linkHref",a.getAttribute("linkHref"),t);(h.isTouching(g.start)||h.isTouching(g.end))&&t.change(y=>{Yb(y,Jb(t.schema))})})}_enableTypingOverLink(){const e=this.editor;let o,a;this.listenTo(e.editing.view.document,"delete",()=>{a=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const h=e.model.document.selection;h.isCollapsed||(a?a=!1:Qb(e)&&function(g){const y=g.document.selection,k=y.getFirstPosition(),E=y.getLastPosition(),D=k.nodeAfter;return!!(D&&D.is("$text")&&D.hasAttribute("linkHref"))&&(D===(E.textNode||E.nodeBefore)||mu(k,"linkHref",D.getAttribute("linkHref"),g).containsRange(g.createRange(k,E),!0))}(e.model)&&(o=h.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(h,[g])=>{a=!1,Qb(e)&&o&&(e.model.change(y=>{for(const[k,E]of o)y.setAttribute(k,E,g)}),o=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,o=t.document.selection;let h=!1,g=!1;this.listenTo(e.editing.view.document,"delete",(y,k)=>{g="backward"===k.direction},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{h=!1;const y=o.getFirstPosition(),k=o.getAttribute("linkHref");if(!k)return;const E=mu(y,"linkHref",k,t);h=E.containsPosition(y)||E.end.isEqual(y)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{g&&(g=!1,h||e.model.enqueueChange(y=>{Yb(y,Jb(t.schema))}))},{priority:"low"})}}function Yb(d,e){d.removeSelectionAttribute("linkHref");for(const t of e)d.removeSelectionAttribute(t)}function Qb(d){return d.model.change(e=>e.batch).isTyping}function Jb(d){return d.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var Xb=oe(7754);Li()(Xb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class jy extends Br{constructor(e,t){super(e);const o=e.t;this.focusTracker=new Yn,this.keystrokes=new sr,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),Os.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),Os.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusables=new Rd,this._focusCycler=new kc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const a=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&a.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:a,tabindex:"-1"},children:this.children}),Cc(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),rr({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new jg(this.locale,Qf);return t.label=e("Link URL"),t}_createButton(e,t,o,a){const h=new Po(this.locale);return h.set({label:e,icon:t,tooltip:!0}),h.extendTemplate({attributes:{class:o}}),a&&h.delegate("execute").to(this,a),h}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const o of e.manualDecorators){const a=new Bd(this.locale);a.set({name:o.id,label:o.label,withText:!0}),a.bind("isOn").toMany([o,e],"value",(h,g)=>void 0===g&&void 0===h?o.defaultValue:h),a.on("execute",()=>{o.set("value",!a.isOn)}),t.add(a)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const o=new Br;o.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(a=>({tag:"li",children:[a],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(o)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}var B0=oe(2347);Li()(B0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class b_ extends Br{constructor(e){super(e);const t=e.t;this.focusTracker=new Yn,this.keystrokes=new sr,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(t("Edit link"),Os.pencil,"edit"),this.set("href"),this._focusables=new Rd,this._focusCycler=new kc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,o){const a=new Po(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.delegate("execute").to(this,o),a}_createPreviewButton(){const e=new Po(this.locale),t=this.bindTemplate,o=this.t;return e.set({withText:!0,tooltip:o("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",a=>a&&Ry(a)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",a=>a||o("This link has no URL")),e.bind("isEnabled").to(this,"href",a=>!!a),e.template.tag="a",e.template.eventListeners={},e}}const _f="link-ui";class jm extends cn{static get requires(){return[Ud]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(Cg),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(Ud),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("editingDowncast").markerToHighlight({model:_f,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:_f,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const e=this.editor,t=new b_(e.locale),o=e.commands.get("link"),a=e.commands.get("unlink");return t.bind("href").to(o,"value"),t.editButtonView.bind("isEnabled").to(o),t.unlinkButtonView.bind("isEnabled").to(a),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(h,g)=>{this._hideUI(),g()}),t.keystrokes.set(B_,(h,g)=>{this._addFormView(),g()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),o=e.config.get("link.defaultProtocol"),a=new jy(e.locale,t);return a.urlInputView.fieldView.bind("value").to(t,"value"),a.urlInputView.bind("isReadOnly").to(t,"isEnabled",h=>!h),a.saveButtonView.bind("isEnabled").to(t),this.listenTo(a,"submit",()=>{const{value:h}=a.urlInputView.fieldView.element,g=Gb(h,o);e.execute("link",g,a.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(a,"cancel",()=>{this._closeFormView()}),a.keystrokes.set("Esc",(h,g)=>{this._closeFormView(),g()}),a}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),o=e.t;e.keystrokes.set(B_,(a,h)=>{h(),t.isEnabled&&this._showUI(!0)}),e.ui.componentFactory.add("link",a=>{const h=new Po(a);return h.isEnabled=!0,h.label=o("Link"),h.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',h.keystroke=B_,h.tooltip=!0,h.isToggleable=!0,h.bind("isEnabled").to(t,"isEnabled"),h.bind("isOn").to(t,"value",g=>!!g),this.listenTo(h,"execute",()=>this._showUI(!0)),h})}_enableUserBalloonInteractions(){this.listenTo(this.editor.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(t,o)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),o())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,o)=>{this._isUIVisible&&(this._hideUI(),o())}),wh({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let o=this._getSelectedLinkElement(),a=g();const h=()=>{const y=this._getSelectedLinkElement(),k=g();o&&!y||!o&&k!==a?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),o=y,a=k};function g(){return t.selection.focus.getAncestors().reverse().find(y=>y.is("element"))}this.listenTo(e.ui,"update",h),this.listenTo(this._balloon,"change:visibleView",h)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,o=e.document;let a=null;if(this.editor.model.markers.has(_f)){const h=Array.from(this.editor.editing.mapper.markerNameToElements(_f)),g=e.createRange(e.createPositionBefore(h[0]),e.createPositionAfter(h[h.length-1]));a=e.domConverter.viewRangeToDom(g)}else a=()=>{const h=this._getSelectedLinkElement();return h?e.domConverter.mapViewToDom(h):e.domConverter.viewRangeToDom(o.selection.getFirstRange())};return{target:a}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,o=t.getSelectedElement();if(t.isCollapsed||o&&Qn(o))return Xg(t.getFirstPosition());{const a=t.getFirstRange().getTrimmed(),h=Xg(a.start),g=Xg(a.end);return h&&h==g&&e.createRangeIn(h).getTrimmed().isEqual(a)?h:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const o=e.document.selection.getFirstRange();if(e.markers.has(_f))t.updateMarker(_f,{range:o});else if(o.start.isAtEnd){const a=o.start.getLastMatchingPosition(({item:h})=>!e.schema.isContent(h),{boundaries:o});t.addMarker(_f,{usingOperation:!1,affectsData:!1,range:t.createRange(a,o.end)})}else t.addMarker(_f,{usingOperation:!1,affectsData:!1,range:o})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(_f)&&e.change(t=>{t.removeMarker(_f)})}}function Xg(d){return d.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})}const z0=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class jC extends cn{static get requires(){return[zu]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new tp(e.model,o=>{if(!((h=o).length>4&&" "===h[h.length-1]&&" "!==h[h.length-2]))return;var h;const a=ev(o.substr(0,o.length-1));return a?{url:a}:void 0});t.on("matched:data",(o,a)=>{const{batch:h,range:g,url:y}=a;if(!h.isTyping)return;const k=g.end.getShiftedBy(-1),E=k.getShiftedBy(-y.length),D=e.model.createRange(E,k);this._applyAutoLink(y,D)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,o=e.commands.get("enter");o&&o.on("execute",()=>{const a=t.document.selection.getFirstPosition();if(!a.parent.previousSibling)return;const h=t.createRangeIn(a.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(h)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,o=e.commands.get("shiftEnter");o&&o.on("execute",()=>{const a=t.document.selection.getFirstPosition(),h=t.createRange(t.createPositionAt(a.parent,0),a.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(h)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:o,range:a}=zp(e,t),h=ev(o);if(h){const g=t.createRange(a.end.getShiftedBy(-h.length),a.end);this._applyAutoLink(h,g)}}_applyAutoLink(e,t){const o=this.editor.model,a=Gb(e,this.editor.config.get("link.defaultProtocol"));var g;this.isEnabled&&(g=o).schema.checkAttributeInSelection(g.createSelection(t),"linkHref")&&Fy(a)&&!function(h){const g=h.start.nodeAfter;return g&&g.hasAttribute("linkHref")}(t)&&this._persistAutoLink(a,t)}_persistAutoLink(e,t){const o=this.editor.model,a=this.editor.plugins.get("Delete");o.enqueueChange(h=>{h.setAttribute("linkHref",e,t),o.enqueueChange(()=>{a.requestUndoOnBackspace()})})}}function ev(d){const e=z0.exec(d);return e?e[2]:null}class zy extends De{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,a=Array.from(t.document.selection.getSelectedBlocks()).filter(g=>Uy(g,t.schema)),h=void 0!==e.forceValue?!e.forceValue:this.value;t.change(g=>{if(h){let y=a[a.length-1].nextSibling,k=Number.POSITIVE_INFINITY,E=[];for(;y&&"listItem"==y.name&&0!==y.getAttribute("listIndent");){const D=y.getAttribute("listIndent");D<k&&(k=D),E.push({element:y,listIndent:D-k}),y=y.nextSibling}E=E.reverse();for(const D of E)g.setAttribute("listIndent",D.listIndent,D.element)}if(!h){let y=Number.POSITIVE_INFINITY;for(const k of a)k.is("element","listItem")&&k.getAttribute("listIndent")<y&&(y=k.getAttribute("listIndent"));y=0===y?1:y,Vy(a,!0,y),Vy(a,!1,y)}for(const y of a.reverse())h&&"listItem"==y.name?g.rename(y,"paragraph"):h||"listItem"==y.name?h||"listItem"!=y.name||y.getAttribute("listType")==this.type||g.setAttribute("listType",this.type,y):(g.setAttributes({listType:this.type,listIndent:0},y),g.rename(y,"listItem"));this.fire("_executeCleanup",a)})}_getValue(){const e=fi(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.schema,o=fi(this.editor.model.document.selection.getSelectedBlocks());return!!o&&Uy(o,t)}}function Vy(d,e,t){const o=e?d[0]:d[d.length-1];if(o.is("element","listItem")){let a=o[e?"previousSibling":"nextSibling"],h=o.getAttribute("listIndent");for(;a&&a.is("element","listItem")&&a.getAttribute("listIndent")>=t;)h>a.getAttribute("listIndent")&&(h=a.getAttribute("listIndent")),a.getAttribute("listIndent")==h&&d[e?"unshift":"push"](a),a=a[e?"previousSibling":"nextSibling"]}}function Uy(d,e){return e.checkChild(d.parent,"listItem")&&!e.isObject(d)}class Hy extends De{constructor(e,t){super(e),this._indentBy="forward"==t?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model;let o=Array.from(e.document.selection.getSelectedBlocks());e.change(a=>{const h=o[o.length-1];let g=h.nextSibling;for(;g&&"listItem"==g.name&&g.getAttribute("listIndent")>h.getAttribute("listIndent");)o.push(g),g=g.nextSibling;this._indentBy<0&&(o=o.reverse());for(const y of o){const k=y.getAttribute("listIndent")+this._indentBy;k<0?a.rename(y,"paragraph"):a.setAttribute("listIndent",k,y)}this.fire("_executeCleanup",o)})}_checkEnabled(){const e=fi(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),o=e.getAttribute("listType");let a=e.previousSibling;for(;a&&a.is("element","listItem")&&a.getAttribute("listIndent")>=t;){if(a.getAttribute("listIndent")==t)return a.getAttribute("listType")==o;a=a.previousSibling}return!1}return!0}}function tv(d,e,t,o){const a=e.parent,h=t.mapper,g=t.writer;let y=h.toViewPosition(o.createPositionBefore(d));const k=zm(d.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:d.getAttribute("listIndent")}),E=d.previousSibling;if(k&&k.getAttribute("listIndent")==d.getAttribute("listIndent")){const D=h.toViewElement(k);y=g.breakContainer(g.createPositionAfter(D))}else if(E&&"listItem"==E.name){y=h.toViewPosition(o.createPositionAt(E,"end"));const D=h.findMappedViewAncestor(y),L=function(W){for(const de of W.getChildren())if("ul"==de.name||"ol"==de.name)return de;return null}(D);y=L?g.createPositionBefore(L):g.createPositionAt(D,"end")}else y=h.toViewPosition(o.createPositionBefore(d));if(y=v_(y),g.insert(y,a),E&&"listItem"==E.name){const D=h.toViewElement(E),L=g.createRange(g.createPositionAt(D,0),y).getWalker({ignoreElementEnd:!0});for(const W of L)if(W.item.is("element","li")){const de=g.breakContainer(g.createPositionBefore(W.item)),Ae=W.item.parent,Oe=g.createPositionAt(e,"end");Vu(g,Oe.nodeBefore,Oe.nodeAfter),g.move(g.createRangeOn(Ae),Oe),L.position=de}}else{const D=a.nextSibling;if(D&&(D.is("element","ul")||D.is("element","ol"))){let L=null;for(const W of D.getChildren()){const de=h.toModelElement(W);if(!(de&&de.getAttribute("listIndent")>d.getAttribute("listIndent")))break;L=W}L&&(g.breakContainer(g.createPositionAfter(L)),g.move(g.createRangeOn(L.parent),g.createPositionAt(e,"end")))}}Vu(g,a,a.nextSibling),Vu(g,a.previousSibling,a)}function Vu(d,e,t){return!e||!t||"ul"!=e.name&&"ol"!=e.name||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:d.mergeContainers(d.createPositionAfter(e))}function v_(d){return d.getLastMatchingPosition(e=>e.item.is("uiElement"))}function zm(d,e){const t=!!e.sameIndent,o=!!e.smallerIndent,a=e.listIndent;let h=d;for(;h&&"listItem"==h.name;){const g=h.getAttribute("listIndent");if(t&&a==g||o&&a>g)return h;h="forward"===e.direction?h.nextSibling:h.previousSibling}return null}function Gy(d,e,t,o){d.ui.componentFactory.add(e,a=>{const h=d.commands.get(e),g=new Po(a);return g.set({label:t,icon:o,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(h,"value","isEnabled"),g.on("execute",()=>{d.execute(e),d.editing.view.focus()}),g})}function z_(d,e){const t=[],o=d.parent,a={ignoreElementEnd:!1,startPosition:d,shallow:!0,direction:e},h=o.getAttribute("listIndent"),g=[...new Oa(a)].filter(y=>y.item.is("element")).map(y=>y.item);for(const y of g){if(!y.is("element","listItem")||y.getAttribute("listIndent")<h)break;if(!(y.getAttribute("listIndent")>h)){if(y.getAttribute("listType")!==o.getAttribute("listType")||y.getAttribute("listStyle")!==o.getAttribute("listStyle")||y.getAttribute("listReversed")!==o.getAttribute("listReversed")||y.getAttribute("listStart")!==o.getAttribute("listStart"))break;"backward"===e?t.unshift(y):t.push(y)}}return t}const $y=["disc","circle","square"],V0=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function U0(){const d=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||d?0:Ef.call(this)}class H0 extends cn{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return function(t){return $y.includes(t)?"bulleted":V0.includes(t)?"numbered":null}(e)}getSelectedListItems(e){return function(t){let o=[...t.document.selection.getSelectedBlocks()].filter(a=>a.is("element","listItem")).map(a=>{const h=t.change(g=>g.createPositionAt(a,0));return[...z_(h,"backward"),...z_(h,"forward")]}).flat();return o=[...new Set(o)],o}(e)}getSiblingNodes(e,t){return z_(e,t)}}function V_(d){return(e,t,o)=>{const a=o.consumable;if(!a.test(t.item,"insert")||!a.test(t.item,"attribute:listType")||!a.test(t.item,"attribute:listIndent"))return;a.consume(t.item,"insert"),a.consume(t.item,"attribute:listType"),a.consume(t.item,"attribute:listIndent");const h=t.item;tv(h,function(d,e){const t=e.mapper,o=e.writer,a="numbered"==d.getAttribute("listType")?"ol":"ul",h=function(y){const k=y.createContainerElement("li");return k.getFillerOffset=U0,k}(o),g=o.createContainerElement(a,null);return o.insert(o.createPositionAt(g,0),h),t.bindElements(d,h),h}(h,o),o,d)}}function q0(d,e,t){if(!t.consumable.test(e.item,d.name))return;const o=t.mapper.toViewElement(e.item),a=t.writer;a.breakContainer(a.createPositionBefore(o)),a.breakContainer(a.createPositionAfter(o)),a.rename("numbered"==e.attributeNewValue?"ol":"ul",o.parent)}function zC(d,e,t){t.consumable.consume(e.item,d.name);const o=t.mapper.toViewElement(e.item).parent,a=t.writer;Vu(a,o,o.nextSibling),Vu(a,o.previousSibling,o)}function Wy(d,e,t){if(t.consumable.test(e.item,d.name)&&"listItem"!=e.item.name){let o=t.mapper.toViewPosition(e.range.start);const a=t.writer,h=[];for(;("ul"==o.parent.name||"ol"==o.parent.name)&&(o=a.breakContainer(o),"li"==o.parent.name);){const g=o,y=a.createPositionAt(o.parent,"end");if(!g.isEqual(y)){const k=a.remove(a.createRange(g,y));h.push(k)}o=a.createPositionAfter(o.parent)}if(h.length>0){for(let g=0;g<h.length;g++){const y=o.nodeBefore;if(o=a.insert(o,h[g]).end,g>0){const k=Vu(a,y,y.nextSibling);k&&k.parent==y&&o.offset--}}Vu(a,o.nodeBefore,o.nodeAfter)}}}function G0(d,e,t){const o=t.mapper.toViewPosition(e.position);Vu(t.writer,o.nodeBefore,o.nodeAfter)}function Vm(d,e,t){if(t.consumable.consume(e.viewItem,{name:!0})){const o=t.writer,a=o.createElement("listItem"),h=function(k){let E=0,D=k.parent;for(;D;){if(D.is("element","li"))E++;else{const L=D.previousSibling;L&&L.is("element","li")&&E++}D=D.parent}return E}(e.viewItem);if(o.setAttribute("listIndent",h,a),o.setAttribute("listType",e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted",a),!t.safeInsert(a,e.modelCursor))return;const y=function(k,E,D){const{writer:L,schema:W}=D;let de=L.createPositionAfter(k);for(const Ae of E)if("ul"==Ae.name||"ol"==Ae.name)de=D.convertItem(Ae,de).modelCursor;else{const Oe=D.convertItem(Ae,L.createPositionAt(k,"end")),He=Oe.modelRange.start.nodeAfter;He&&He.is("element")&&!W.checkChild(k,He.name)&&(k=Oe.modelCursor.parent.is("element","listItem")?Oe.modelCursor.parent:W0(Oe.modelCursor),de=L.createPositionAfter(k))}return de}(a,e.viewItem.getChildren(),t);e.modelRange=o.createRange(e.modelCursor,y),t.updateConversionResult(a,e)}}function nv(d,e,t){if(t.consumable.test(e.viewItem,{name:!0})){const o=Array.from(e.viewItem.getChildren());for(const a of o)!a.is("element","li")&&!em(a)&&a._remove()}}function Um(d,e,t){if(t.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const o=[...e.viewItem.getChildren()];let a=!1;for(const h of o)a&&!em(h)&&h._remove(),em(h)&&(a=!0)}}function $0(d){return(e,t)=>{if(t.isPhantom)return;const o=t.modelPosition.nodeBefore;if(o&&o.is("element","listItem")){const a=t.mapper.toViewElement(o),h=a.getAncestors().find(em),g=d.createPositionAt(a,0).getWalker();for(const y of g){if("elementStart"==y.type&&y.item.is("element","li")){t.viewPosition=y.previousPosition;break}if("elementEnd"==y.type&&y.item==h){t.viewPosition=y.nextPosition;break}}}}}function Zy(d,[e,t,o]){let a,h=e.is("documentFragment")?e.getChild(0):e;if(a=t?this.createSelection(t,o):this.document.selection,h&&h.is("element","listItem")){const g=a.getFirstPosition();let y=null;if(g.parent.is("element","listItem")?y=g.parent:g.nodeBefore&&g.nodeBefore.is("element","listItem")&&(y=g.nodeBefore),y){const k=y.getAttribute("listIndent");if(k>0)for(;h&&h.is("element","listItem");)h._setAttribute("listIndent",h.getAttribute("listIndent")+k),h=h.nextSibling}}}function W0(d){const e=new Oa({startPosition:d});let t;do{t=e.next()}while(!t.value.item.is("element","listItem"));return t.value.item}function Z0(d,e,t,o,a,h){const g=zm(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:d,foo:"b"}),y=a.mapper,k=a.writer,E=g?g.getAttribute("listIndent"):null;let D;if(g)if(E==d){const L=y.toViewElement(g).parent;D=k.createPositionAfter(L)}else{const L=h.createPositionAt(g,"end");D=y.toViewPosition(L)}else D=t;D=v_(D);for(const L of[...o.getChildren()])em(L)&&(D=k.move(k.createRangeOn(L),D).end,Vu(k,L,L.nextSibling),Vu(k,L.previousSibling,L))}function em(d){return d.is("element","ol")||d.is("element","ul")}class VC extends cn{static get pluginName(){return"ListEditing"}static get requires(){return[ee,zu,H0]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,o=e.editing;var a;e.model.document.registerPostFixer(g=>function(y,k){const E=y.document.differ.getChanges(),D=new Map;let L=!1;for(const Oe of E)if("insert"==Oe.type&&"listItem"==Oe.name)W(Oe.position);else if("insert"==Oe.type&&"listItem"!=Oe.name){if("$text"!=Oe.name){const He=Oe.position.nodeAfter;He.hasAttribute("listIndent")&&(k.removeAttribute("listIndent",He),L=!0),He.hasAttribute("listType")&&(k.removeAttribute("listType",He),L=!0),He.hasAttribute("listStyle")&&(k.removeAttribute("listStyle",He),L=!0),He.hasAttribute("listReversed")&&(k.removeAttribute("listReversed",He),L=!0),He.hasAttribute("listStart")&&(k.removeAttribute("listStart",He),L=!0);for(const pt of Array.from(y.createRangeIn(He)).filter(Tt=>Tt.item.is("element","listItem")))W(pt.previousPosition)}W(Oe.position.getShiftedBy(Oe.length))}else"remove"==Oe.type&&"listItem"==Oe.name?W(Oe.position):("attribute"==Oe.type&&"listIndent"==Oe.attributeKey||"attribute"==Oe.type&&"listType"==Oe.attributeKey)&&W(Oe.range.start);for(const Oe of D.values())de(Oe),Ae(Oe);return L;function W(Oe){const He=Oe.nodeBefore;if(He&&He.is("element","listItem")){let pt=He;if(D.has(pt))return;for(let Tt=pt.previousSibling;Tt&&Tt.is("element","listItem");Tt=pt.previousSibling)if(pt=Tt,D.has(pt))return;D.set(He,pt)}else{const pt=Oe.nodeAfter;pt&&pt.is("element","listItem")&&D.set(pt,pt)}}function de(Oe){let He=0,pt=null;for(;Oe&&Oe.is("element","listItem");){const Tt=Oe.getAttribute("listIndent");if(Tt>He){let Zt;null===pt?(pt=Tt-He,Zt=He):(pt>Tt&&(pt=Tt),Zt=Tt-pt),k.setAttribute("listIndent",Zt,Oe),L=!0}else pt=null,He=Oe.getAttribute("listIndent")+1;Oe=Oe.nextSibling}}function Ae(Oe){let He=[],pt=null;for(;Oe&&Oe.is("element","listItem");){const Tt=Oe.getAttribute("listIndent");if(pt&&pt.getAttribute("listIndent")>Tt&&(He=He.slice(0,Tt+1)),0!=Tt)if(He[Tt]){const Zt=He[Tt];Oe.getAttribute("listType")!=Zt&&(k.setAttribute("listType",Zt,Oe),L=!0)}else He[Tt]=Oe.getAttribute("listType");pt=Oe,Oe=Oe.nextSibling}}}(e.model,g)),o.mapper.registerViewToModelLength("li",U_),t.mapper.registerViewToModelLength("li",U_),o.mapper.on("modelToViewPosition",$0(o.view)),o.mapper.on("viewToModelPosition",(a=e.model,(g,y)=>{const k=y.viewPosition,E=k.parent,D=y.mapper;if("ul"==E.name||"ol"==E.name){if(k.isAtEnd){const L=D.toModelElement(k.nodeBefore),W=D.getModelLength(k.nodeBefore);y.modelPosition=a.createPositionBefore(L).getShiftedBy(W)}else{const L=D.toModelElement(k.nodeAfter);y.modelPosition=a.createPositionBefore(L)}g.stop()}else if("li"==E.name&&k.nodeBefore&&("ul"==k.nodeBefore.name||"ol"==k.nodeBefore.name)){const L=D.toModelElement(E);let W=1,de=k.nodeBefore;for(;de&&em(de);)W+=D.getModelLength(de),de=de.previousSibling;y.modelPosition=a.createPositionBefore(L).getShiftedBy(W),g.stop()}})),t.mapper.on("modelToViewPosition",$0(o.view)),e.conversion.for("editingDowncast").add(g=>{var y;g.on("insert",Wy,{priority:"high"}),g.on("insert:listItem",V_(e.model)),g.on("attribute:listType:listItem",q0,{priority:"high"}),g.on("attribute:listType:listItem",zC,{priority:"low"}),g.on("attribute:listIndent:listItem",(y=e.model,(k,E,D)=>{if(!D.consumable.consume(E.item,"attribute:listIndent"))return;const L=D.mapper.toViewElement(E.item),W=D.writer;W.breakContainer(W.createPositionBefore(L)),W.breakContainer(W.createPositionAfter(L));const de=L.parent,Ae=de.previousSibling,Oe=W.createRangeOn(de);W.remove(Oe),Ae&&Ae.nextSibling&&Vu(W,Ae,Ae.nextSibling),Z0(E.attributeOldValue+1,E.range.start,Oe.start,L,D,y),tv(E.item,L,D,y);for(const He of E.item.getChildren())D.consumable.consume(He,"insert")})),g.on("remove:listItem",function(y){return(k,E,D)=>{const L=D.mapper.toViewPosition(E.position).getLastMatchingPosition(pt=>!pt.item.is("element","li")).nodeAfter,W=D.writer;W.breakContainer(W.createPositionBefore(L)),W.breakContainer(W.createPositionAfter(L));const de=L.parent,Ae=de.previousSibling,Oe=W.createRangeOn(de),He=W.remove(Oe);Ae&&Ae.nextSibling&&Vu(W,Ae,Ae.nextSibling),Z0(D.mapper.toModelElement(L).getAttribute("listIndent")+1,E.position,Oe.start,L,D,y);for(const pt of W.createRangeIn(He).getItems())D.mapper.unbindViewElement(pt);k.stop()}}(e.model)),g.on("remove",G0,{priority:"low"})}),e.conversion.for("dataDowncast").add(g=>{g.on("insert",Wy,{priority:"high"}),g.on("insert:listItem",V_(e.model))}),e.conversion.for("upcast").add(g=>{g.on("element:ul",nv,{priority:"high"}),g.on("element:ol",nv,{priority:"high"}),g.on("element:li",Um,{priority:"high"}),g.on("element:li",Vm)}),e.model.on("insertContent",Zy,{priority:"high"}),e.commands.add("numberedList",new zy(e,"numbered")),e.commands.add("bulletedList",new zy(e,"bulleted")),e.commands.add("indentList",new Hy(e,"forward")),e.commands.add("outdentList",new Hy(e,"backward"));const h=o.view.document;this.listenTo(h,"enter",(g,y)=>{const k=this.editor.model.document,E=k.selection.getLastPosition().parent;k.selection.isCollapsed&&"listItem"==E.name&&E.isEmpty&&(this.editor.execute("outdentList"),y.preventDefault(),g.stop())},{context:"li"}),this.listenTo(h,"delete",(g,y)=>{if("backward"!==y.direction)return;const k=this.editor.model.document.selection;if(!k.isCollapsed)return;const E=k.getFirstPosition();if(!E.isAtStart)return;const D=E.parent;"listItem"===D.name&&(D.previousSibling&&"listItem"===D.previousSibling.name||(this.editor.execute("outdentList"),y.preventDefault(),g.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(g,y)=>{const k=y.shiftKey?"outdentList":"indentList";this.editor.commands.get(k).isEnabled&&(e.execute(k),y.stopPropagation(),y.preventDefault(),g.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),o=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),o&&o.registerChildCommand(e.get("outdentList"))}}function U_(d){let e=1;for(const t of d.getChildren())if("ul"==t.name||"ol"==t.name)for(const o of t.getChildren())e+=U_(o);return e}class iv extends cn{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;Gy(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Gy(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function rv(d,e){return o=>{o.on("attribute:url:media",t)};function t(o,a,h){if(!h.consumable.consume(a.item,o.name))return;const g=a.attributeNewValue,y=h.writer,k=h.mapper.toViewElement(a.item),E=[...k.getChildren()].find(L=>L.getCustomProperty("media-content"));y.remove(E);const D=d.getMediaViewElement(y,g,e);y.insert(y.createPositionAt(k,0),D)}}function ov(d,e,t,o){return d.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(d,t,o),d.createSlot()])}function sv(d){const e=d.getSelectedElement();return e&&e.is("element","media")?e:null}function Ky(d,e,t,o){d.change(a=>{const h=a.createElement("media",{url:e});d.insertObject(h,t,null,{setSelection:"on",findOptimalPosition:o})})}class K0 extends De{refresh(){const e=this.editor.model,t=e.document.selection,o=sv(t);this.value=o?o.getAttribute("url"):null,this.isEnabled=function(a){const h=a.getSelectedElement();return!!h&&"media"===h.name}(t)||function(a,h){let y=s(a,h).start.parent;return y.isEmpty&&!h.schema.isLimit(y)&&(y=y.parent),h.schema.checkChild(y,"media")}(t,e)}execute(e){const t=this.editor.model,o=t.document.selection,a=sv(o);a?t.change(h=>{h.setAttribute("url",e,a)}):Ky(t,e,o,!0)}}class Y0{constructor(e,t){const o=t.providers,a=t.extraProviders||[],h=new Set(t.removeProviders),g=o.concat(a).filter(y=>{const k=y.name;return k?!h.has(k):(At("media-embed-no-provider-name",{provider:y}),!1)});this.locale=e,this.providerDefinitions=g}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,o){return this._getMedia(t).getViewElement(e,o)}_getMedia(e){if(!e)return new Yy(this.locale);e=e.trim();for(const t of this.providerDefinitions){const o=t.html,a=ce(t.url);for(const h of a){const g=this._getUrlMatches(e,h);if(g)return new Yy(this.locale,e,g,o)}}return null}_getUrlMatches(e,t){let o=e.match(t);if(o)return o;let a=e.replace(/^https?:\/\//,"");return o=a.match(t),o||(a=a.replace(/^www\./,""),o=a.match(t),o||null)}}class Yy{constructor(e,t,o,a){this.url=this._getValidUrl(t),this._locale=e,this._match=o,this._previewRenderer=a}getViewElement(e,t){const o={};let a;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(o["data-oembed-url"]=this.url),t.renderForEditingView&&(o.class="ck-media__wrapper");const h=this._getPreviewHtml(t);a=e.createRawElement("div",o,(g,y)=>{y.setContentOf(g,h)})}else this.url&&(o.url=this.url),a=e.createEmptyElement(t.elementName,o);return e.setCustomProperty("media-content",!0,a),a}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Ip,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new _a({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var Qy=oe(7442);Li()(Qy.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class H_ extends cn{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const a=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${t[1]}${a?`?start=${a}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Y0(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,o=e.t,a=e.conversion,h=e.config.get("mediaEmbed.previewsInData"),g=e.config.get("mediaEmbed.elementName"),y=this.registry;e.commands.add("mediaEmbed",new K0(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),a.for("dataDowncast").elementToStructure({model:"media",view:(k,{writer:E})=>{const D=k.getAttribute("url");return ov(E,y,D,{elementName:g,renderMediaPreview:D&&h})}}),a.for("dataDowncast").add(rv(y,{elementName:g,renderMediaPreview:h})),a.for("editingDowncast").elementToStructure({model:"media",view:(k,{writer:E})=>{const D=k.getAttribute("url");return L=ov(E,y,D,{elementName:g,renderForEditingView:!0}),W=E,de=o("media widget"),W.setCustomProperty("media",!0,L),ar(L,W,{label:de});var L,W,de}}),a.for("editingDowncast").add(rv(y,{elementName:g,renderForEditingView:!0})),a.for("upcast").elementToElement({view:k=>["oembed",g].includes(k.name)&&k.getAttribute("url")?{name:!0}:null,model:(k,{writer:E})=>{const D=k.getAttribute("url");if(y.hasMedia(D))return E.createElement("media",{url:D})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(k,{writer:E})=>{const D=k.getAttribute("data-oembed-url");if(y.hasMedia(D))return E.createElement("media",{url:D})}}).add(k=>{k.on("element:figure",function(E,D,L){if(!L.consumable.consume(D.viewItem,{name:!0,classes:"media"}))return;const{modelRange:W,modelCursor:de}=L.convertChildren(D.viewItem,D.modelCursor);D.modelRange=W,D.modelCursor=de,fi(W.getItems())||L.consumable.revert(D.viewItem,{name:!0,classes:"media"})})})}}const y_=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Jy extends cn{static get requires(){return[lb,zu,jv]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document;this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const o=t.selection.getFirstRange(),a=Ba.fromPosition(o.start);a.stickiness="toPrevious";const h=Ba.fromPosition(o.end);h.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(a,h),a.detach(),h.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(si.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const o=this.editor,a=o.plugins.get(H_).registry,h=new pc(e,t),g=h.getWalker({ignoreElementEnd:!0});let y="";for(const k of g)k.item.is("$textProxy")&&(y+=k.item.data);y=y.trim(),y.match(y_)&&a.hasMedia(y)&&o.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Ba.fromPosition(e),this._timeoutId=si.window.setTimeout(()=>{o.model.change(k=>{let E;this._timeoutId=null,k.remove(h),h.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(E=this._positionToInsert),Ky(o.model,y,E,!1),this._positionToInsert.detach(),this._positionToInsert=null}),o.plugins.get("Delete").requestUndoOnBackspace()},100)):h.detach()}}var av=oe(9292);Li()(av.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ew extends Br{constructor(e,t){super(t);const o=t.t;this.focusTracker=new Yn,this.keystrokes=new sr,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),Os.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",a=>!!a),this.cancelButtonView=this._createButton(o("Cancel"),Os.cancel,"ck-button-cancel","cancel"),this._focusables=new Rd,this._focusCycler=new kc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),Cc(this)}render(){super.render(),rr({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(this.urlInputView.element,"selectstart",(t,o)=>{o.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new jg(this.locale,Qf),o=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,o.on("input",()=>{t.infoText=o.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=o.element.value.trim()}),t}_createButton(e,t,o,a){const h=new Po(this.locale);return h.set({label:e,icon:t,tooltip:!0}),h.extendTemplate({attributes:{class:o}}),a&&h.delegate("execute").to(this,a),h}}class tw extends cn{static get requires(){return[H_]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed"),o=e.plugins.get(H_).registry;e.ui.componentFactory.add("mediaEmbed",a=>{const h=jd(a),g=new ew((y=e.t,k=o,[E=>{if(!E.url.length)return y("The URL must not be empty.")},E=>{if(!k.hasMedia(E.url))return y("This media URL is not supported.")}]),e.locale);var y,k;return this._setUpDropdown(h,g,t,e),this._setUpForm(h,g,t),h})}_setUpDropdown(e,t,o){const a=this.editor,h=a.t,g=e.buttonView;e.bind("isEnabled").to(o),e.panelView.children.add(t),g.set({label:h("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),g.on("open",()=>{t.disableCssTransitions(),t.url=o.value||"",t.urlInputView.fieldView.select(),t.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{t.isValid()&&(a.execute("mediaEmbed",t.url),a.editing.view.focus())}),e.on("change:isOpen",()=>t.resetFormStatus()),e.on("cancel",()=>{a.editing.view.focus()})}_setUpForm(e,t,o){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(o,"value"),t.urlInputView.bind("isReadOnly").to(o,"isEnabled",a=>!a)}}var lv=oe(4652);function cv(d,e,t,{blockElements:o,inlineObjectElements:a}){let h=t.createPositionAt(d,"forward"==e?"after":"before");return h=h.getLastMatchingPosition(({item:g})=>g.is("element")&&!o.includes(g.name)&&!a.includes(g.name),{direction:e}),"forward"==e?h.nodeAfter:h.nodeBefore}function nw(d,e){return!!d&&d.is("element")&&e.includes(d.name)}function eC(d){if(d.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(d){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return d;default:return null}}function iw(d,e,t){const o=e.parent,a=t.createElement(d.type),h=o.getChildIndex(e)+1;return t.insertChild(h,a,o),d.style&&t.setStyle("list-style-type",d.style,a),d.startIndex&&d.startIndex>1&&t.setAttribute("start",d.startIndex,a),a}function w_(d){const e={},t=d.getStyle("mso-list");if(t){const o=t.match(/(^|\s{1,100})l(\d+)/i),a=t.match(/\s{0,100}lfo(\d+)/i),h=t.match(/\s{0,100}level(\d+)/i);o&&a&&h&&(e.id=o[2],e.order=a[1],e.indent=h[1])}return e}Li()(lv.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const tC=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class uv{constructor(e){this.document=e}isActive(e){return tC.test(e)}execute(e){const t=new of(this.document),{body:o}=e._parsedData;(function(a,h){for(const g of a.getChildren())if(g.is("element","b")&&"normal"===g.getStyle("font-weight")){const y=a.getChildIndex(g);h.remove(g),h.insertChild(y,g.getChildren(),a)}})(o,t),function(a,h){for(const g of h.createRangeIn(a)){const y=g.item;if(y.is("element","li")){const k=y.getChild(0);k&&k.is("element","p")&&h.unwrapElement(k)}}}(o,t),function(a,h){const g=new xr(h.document.stylesProcessor),y=new wi(g,{renderingMode:"data"}),k=y.blockElements,E=y.inlineObjectElements,D=[];for(const L of h.createRangeIn(a)){const W=L.item;if(W.is("element","br")){const de=cv(W,"forward",h,{blockElements:k,inlineObjectElements:E}),Ae=cv(W,"backward",h,{blockElements:k,inlineObjectElements:E}),Oe=nw(de,k);(nw(Ae,k)||Oe)&&D.push(W)}}for(const L of D)L.hasClass("Apple-interchange-newline")?h.remove(L):h.replace(L,h.createElement("p"))}(o,t),e.content=o}}function nC(d){return btoa(d.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const dv=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,C_=/xmlns:o="urn:schemas-microsoft-com/i;class iC{constructor(e){this.document=e}isActive(e){return dv.test(e)||C_.test(e)}execute(e){const{body:t,stylesString:o}=e._parsedData;(function(d,e){if(!d.childCount)return;const t=new of(d.document),o=function(g,y){const k=y.createRangeIn(g),E=new Ds({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),D=[];for(const L of k)if("elementStart"===L.type&&E.match(L.item)){const W=w_(L.item);D.push({element:L.item,id:W.id,order:W.order,indent:W.indent})}return D}(d,t);if(!o.length)return;let a=null,h=1;o.forEach((g,y)=>{const k=function(Ae,Oe){if(!Ae)return!0;if(Ae.id!==Oe.id)return Oe.indent-Ae.indent!=1;const He=Oe.element.previousSibling;return!He||!((pt=He).is("element","ol")||pt.is("element","ul"));var pt}(o[y-1],g),D=(W=g,(L=k?null:o[y-1])?W.indent-L.indent:W.indent-1);var L,W;if(k&&(a=null,h=1),!a||0!==D){const Ae=function(Oe,He){const Tt=/mso-level-number-format:([^;]{0,100});/gi,Zt=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,Mn=new RegExp(`@list l${Oe.id}:level${Oe.indent}\\s*({[^}]*)`,"gi").exec(He);let er="decimal",mr="ol",Jo=null;if(Mn&&Mn[1]){const ll=Tt.exec(Mn[1]);if(ll&&ll[1]&&(er=ll[1].trim(),mr="bullet"!==er&&"image"!==er?"ol":"ul"),"bullet"===er){const tc=function(qm){const Yd=function(yf){if(yf.getChild(0).is("$text"))return null;for(const rp of yf.getChildren()){if(!rp.is("element","span"))continue;const tm=rp.getChild(0);return tm.is("$text")?tm:tm.getChild(0)}}(qm);if(!Yd)return null;const fd=Yd._data;return"o"===fd?"circle":"\xb7"===fd?"disc":"\xa7"===fd?"square":null}(Oe.element);tc&&(er=tc)}else{const tc=Zt.exec(Mn[1]);tc&&tc[1]&&(Jo=parseInt(tc[1]))}}return{type:mr,startIndex:Jo,style:eC(er)}}(g,e);if(a)if(g.indent>h){const Oe=a.getChild(a.childCount-1),He=Oe.getChild(Oe.childCount-1);a=iw(Ae,He,t),h+=1}else g.indent<h&&(a=function(He,pt){const Tt=He.getAncestors({parentFirst:!0});let Zt=null,Mn=0;for(const er of Tt)if("ul"!==er.name&&"ol"!==er.name||Mn++,Mn===pt){Zt=er;break}return Zt}(a,h-g.indent),h=parseInt(g.indent));else a=iw(Ae,g.element,t);g.indent<=h&&(a.is("element",Ae.type)||(a=t.rename(Ae.type,a)))}const de=(function(He,pt){const Tt=new Ds({name:"span",styles:{"mso-list":"Ignore"}}),Zt=pt.createRangeIn(He);for(const Mn of Zt)"elementStart"===Mn.type&&Tt.match(Mn.item)&&pt.remove(Mn.item)}(Ae=g.element,Oe=t),Oe.rename("li",Ae));var Ae,Oe;t.appendChild(de,a)})})(t,o),function(d,e){if(!d.childCount)return;const t=new of;(function(h,g,y){const k=y.createRangeIn(g),E=new Ds({name:"img"}),D=[];for(const L of k)if(E.match(L.item)){const W=L.item,de=W.getAttribute("v:shapes")?W.getAttribute("v:shapes").split(" "):[];de.length&&de.every(Ae=>h.indexOf(Ae)>-1)?D.push(W):W.getAttribute("src")||D.push(W)}for(const L of D)y.remove(L)})(function(h,g){const y=g.createRangeIn(h),k=new Ds({name:/v:(.+)/}),E=[];for(const D of y){if("elementStart"!=D.type)continue;const L=D.item,W=L.previousSibling&&L.previousSibling.name||null;k.match(L)&&L.getAttribute("o:gfxdata")&&"v:shapetype"!==W&&E.push(D.item.getAttribute("id"))}return E}(d,t),d,t),function(h,g){const y=g.createRangeIn(h),k=new Ds({name:/v:(.+)/}),E=[];for(const D of y)"elementStart"==D.type&&k.match(D.item)&&E.push(D.item);for(const D of E)g.remove(D)}(d,t);const a=function(h,g){const y=g.createRangeIn(h),k=new Ds({name:"img"}),E=[];for(const D of y)k.match(D.item)&&D.item.getAttribute("src").startsWith("file://")&&E.push(D.item);return E}(d,t);a.length&&function(h,g,y){if(h.length===g.length)for(let k=0;k<h.length;k++){const E=`data:${g[k].type};base64,${nC(g[k].hex)}`;y.setAttribute("src",E,h[k])}}(a,function(h){if(!h)return[];const g=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,y=new RegExp("(?:("+g.source+"))([\\da-fA-F\\s]+)\\}","g"),k=h.match(y),E=[];if(k)for(const D of k){let L=!1;D.includes("\\pngblip")?L="image/png":D.includes("\\jpegblip")&&(L="image/jpeg"),L&&E.push({hex:D.replace(g,"").replace(/[^\da-fA-F]/g,""),type:L})}return E}(e),t)}(t,e.dataTransfer.getData("text/rtf")),e.content=t}}function rw(d){return d.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>1===t.length?" ":Array(t.length+1).join("\xa0 ").substr(0,t.length))}function ba(d,e,t,o,a=1){e>a?o.setAttribute(d,e,t):o.removeAttribute(d,t)}function vf(d,e,t={}){const o=d.createElement("tableCell",t);return d.insertElement("paragraph",o),d.insert(o,e),o}function hv(d,e){const o=parseInt(e.parent.parent.getAttribute("headingColumns")||0),{column:a}=d.getCellLocation(e);return!!o&&a<o}function fv(d){return e=>{e.on(`element:${d}`,(t,o,a)=>{if(o.modelRange&&o.viewItem.isEmpty){const g=a.writer.createPositionAt(o.modelRange.start.nodeAfter,0);a.writer.insertElement("paragraph",g)}},{priority:"low"})}}function ow(d){let e=0,t=0;const o=Array.from(d.getChildren()).filter(a=>"th"===a.name||"td"===a.name);for(;t<o.length&&"th"===o[t].name;)e+=parseInt(o[t].getAttribute("colspan")||1),t++;return e}class ss{constructor(e,t={}){this._table=e,this._startRow=void 0!==t.row?t.row:t.startRow||0,this._endRow=void 0!==t.row?t.row:t.endRow,this._startColumn=void 0!==t.column?t.column:t.startColumn||0,this._endColumn=void 0!==t.column?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const o=this._getSpanned();if(o)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(o.cell,o.row,o.column));else{const a=e.getChild(this._cellIndex);if(!a)return this._advanceToNextRow();const h=parseInt(a.getAttribute("colspan")||1),g=parseInt(a.getAttribute("rowspan")||1);(h>1||g>1)&&this._recordSpans(a,g,h),this._shouldSkipSlot()||(t=this._formatOutValue(a)),this._nextCellAtColumn=this._column+h}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(e,t=this._row,o=this._column){return{done:!1,value:new sw(this,e,t,o)}}_shouldSkipSlot(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,o){const a={cell:e,row:this._row,column:this._column};for(let h=this._row;h<this._row+t;h++)for(let g=this._column;g<this._column+o;g++)h==this._row&&g==this._column||this._markSpannedCell(h,g,a)}_markSpannedCell(e,t,o){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,o)}}class sw{constructor(e,t,o,a){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=o,this.cellAnchorColumn=a,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function aw(d,e={}){return(t,{writer:o})=>{const a=t.getAttribute("headingRows")||0,h=[];a>0&&h.push(o.createContainerElement("thead",null,o.createSlot(y=>y.is("element","tableRow")&&y.index<a))),a<d.getRows(t)&&h.push(o.createContainerElement("tbody",null,o.createSlot(y=>y.is("element","tableRow")&&y.index>=a)));const g=o.createContainerElement("figure",{class:"table"},[o.createContainerElement("table",null,h),o.createSlot(y=>!y.is("element","tableRow"))]);return e.asWidget?((k=o).setCustomProperty("table",!0,y=g),ar(y,k,{hasSelectionHandle:!0})):g;var y,k}}function lw(d={}){return(e,{writer:t})=>{const o=e.parent,a=o.parent,h=a.getChildIndex(o),g=new ss(a,{row:h}),y=a.getAttribute("headingRows")||0,k=a.getAttribute("headingColumns")||0;for(const E of g)if(E.cell==e){const D=E.row<y||E.column<k?"th":"td";return d.asWidget?Ul(t.createEditableElement(D),t):t.createContainerElement(D)}}}function sC(d={}){return(e,{writer:t,consumable:o,mapper:a})=>{if(e.parent.is("element","tableCell")&&q_(e))return d.asWidget?t.createContainerElement("span",{class:"ck-table-bogus-paragraph"}):(o.consume(e,"insert"),void a.bindElements(e,a.toViewElement(e.parent)))}}function q_(d){return 1==d.parent.childCount&&![...d.getAttributeKeys()].length}class pv extends De{refresh(){const e=this.editor.model;this.isEnabled=function(a,h){const g=a.getFirstPosition().parent;return h.checkChild(g===g.root?g:g.parent,"table")}(e.document.selection,e.schema)}execute(e={}){const t=this.editor.model,o=this.editor.plugins.get("TableUtils"),a=this.editor.config.get("table"),h=a.defaultHeadings.rows,g=a.defaultHeadings.columns;void 0===e.headingRows&&h&&(e.headingRows=h),void 0===e.headingColumns&&g&&(e.headingColumns=g),t.change(y=>{const k=o.createTable(y,e);t.insertObject(k,null,null,{findOptimalPosition:"auto"}),y.setSelection(y.createPositionAt(k.getNodeByPath([0,0,0]),0))})}}class gv extends De{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,o=e.plugins.get("TableUtils"),a="above"===this.order,h=o.getSelectionAffectedTableCells(t),g=o.getRowIndexes(h),y=a?g.first:g.last,k=h[0].findAncestor("table");o.insertRows(k,{at:a?y:y+1,copyStructureFromAbove:!a})}}class G_ extends De{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,o=e.plugins.get("TableUtils"),a="left"===this.order,h=o.getSelectionAffectedTableCells(t),g=o.getColumnIndexes(h),y=a?g.first:g.last,k=h[0].findAncestor("table");o.insertColumns(k,{columns:1,at:a?y:y+1})}}class $_ extends De{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===e.length}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function cw(d,e,t){const{startRow:o,startColumn:a,endRow:h,endColumn:g}=e,y=t.createElement("table"),k=h-o+1;for(let D=0;D<k;D++)t.insertElement("tableRow",y,"end");const E=[...new ss(d,{startRow:o,endRow:h,startColumn:a,endColumn:g,includeAllSlots:!0})];for(const{row:D,column:L,cell:W,isAnchor:de,cellAnchorRow:Ae,cellAnchorColumn:Oe}of E){const pt=y.getChild(D-o);if(de){const Tt=t.cloneElement(W);t.append(Tt,pt),W_(Tt,D,L,h,g,t)}else(Ae<o||Oe<a)&&vf(t,t.createPositionAt(pt,"end"))}return function(D,L,W,de,Ae){const Oe=parseInt(L.getAttribute("headingRows")||0);Oe>0&&ba("headingRows",Oe-W,D,Ae,0);const He=parseInt(L.getAttribute("headingColumns")||0);He>0&&ba("headingColumns",He-de,D,Ae,0)}(y,d,o,a,t),y}function uw(d,e,t=0){const o=[],a=new ss(d,{startRow:t,endRow:e-1});for(const h of a){const{row:g,cellHeight:y}=h;g<e&&e<=g+y-1&&o.push(h)}return o}function dw(d,e,t){const o=d.parent,a=o.parent,h=o.index,g=e-h,y={},k=parseInt(d.getAttribute("rowspan"))-g;k>1&&(y.rowspan=k);const E=parseInt(d.getAttribute("colspan")||1);E>1&&(y.colspan=E);const D=h+g,L=[...new ss(a,{startRow:h,endRow:D,includeAllSlots:!0})];let W,de=null;for(const Ae of L){const{row:Oe,column:He,cell:pt}=Ae;pt===d&&void 0===W&&(W=He),void 0!==W&&W===He&&Oe===D&&(de=vf(t,Ae.getPositionBefore(),y))}return ba("rowspan",g,d,t),de}function hw(d,e){const t=[],o=new ss(d);for(const a of o){const{column:h,cellWidth:g}=a;h<e&&e<=h+g-1&&t.push(a)}return t}function mv(d,e,t,o){const a=t-e,h={},g=parseInt(d.getAttribute("colspan"))-a;g>1&&(h.colspan=g);const y=parseInt(d.getAttribute("rowspan")||1);y>1&&(h.rowspan=y);const k=vf(o,o.createPositionAfter(d),h);return ba("colspan",a,d,o),k}function W_(d,e,t,o,a,h){const g=parseInt(d.getAttribute("colspan")||1),y=parseInt(d.getAttribute("rowspan")||1);t+g-1>a&&ba("colspan",a-t+1,d,h,1),e+y-1>o&&ba("rowspan",o-e+1,d,h,1)}function Z_(d,e){const t=e.getColumns(d),o=new Array(t).fill(0);for(const{column:h}of new ss(d))o[h]++;const a=o.reduce((h,g,y)=>g?h:[...h,y],[]);return a.length>0&&(e.removeColumns(d,{at:a[a.length-1]}),!0)}function K_(d,e){const t=[],o=e.getRows(d);for(let a=0;a<o;a++)d.getChild(a).isEmpty&&t.push(a);return t.length>0&&(e.removeRows(d,{at:t[t.length-1]}),!0)}function Y_(d,e){Z_(d,e)||K_(d,e)}function _v(d,e){const t=Array.from(new ss(d,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));return t.every(({cellHeight:a})=>1===a)?e.lastRow:e.lastRow+(t[0].cellHeight-1)}function fw(d,e){const t=Array.from(new ss(d,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));return t.every(({cellWidth:a})=>1===a)?e.lastColumn:e.lastColumn+(t[0].cellWidth-1)}class k_ extends De{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,o=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],a=this.value,h=this.direction;e.change(g=>{const y="right"==h||"down"==h,k=y?o:a,E=y?a:o,D=E.parent;var Oe,He,pt;He=k,pt=g,bv(Oe=E)||(bv(He)&&pt.remove(pt.createRangeIn(He)),pt.move(pt.createRangeIn(Oe),pt.createPositionAt(He,"end"))),pt.remove(Oe);const L=this.isHorizontal?"colspan":"rowspan",W=parseInt(o.getAttribute(L)||1),de=parseInt(a.getAttribute(L)||1);g.setAttribute(L,W+de,k),g.setSelection(g.createRangeIn(k));const Ae=this.editor.plugins.get("TableUtils");Y_(D.findAncestor("table"),Ae)})}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),o=t.getTableCellsContainingSelection(e.selection)[0];if(!o)return;const a=this.isHorizontal?function(y,k,E){const W="right"==k?y.nextSibling:y.previousSibling,de=(y.parent.parent.getAttribute("headingColumns")||0)>0;if(!W)return;const Ae="right"==k?y:W,Oe="right"==k?W:y,{column:He}=E.getCellLocation(Ae),{column:pt}=E.getCellLocation(Oe),Tt=parseInt(Ae.getAttribute("colspan")||1),Zt=hv(E,Ae),Mn=hv(E,Oe);return de&&Zt!=Mn?void 0:He+Tt===pt?W:void 0}(o,this.direction,t):function(y,k,E){const D=y.parent,L=D.parent,W=L.getChildIndex(D);if("down"==k&&W===E.getRows(L)-1||"up"==k&&0===W)return;const de=parseInt(y.getAttribute("rowspan")||1),Ae=L.getAttribute("headingRows")||0;if(Ae&&("down"==k&&W+de===Ae||"up"==k&&W===Ae))return;const pt=parseInt(y.getAttribute("rowspan")||1),Tt="down"==k?W+pt:W,Zt=[...new ss(L,{endRow:Tt})],er=Zt.find(Jo=>Jo.cell===y).column,mr=Zt.find(({row:Jo,cellHeight:ll,column:tc})=>tc===er&&("down"==k?Jo===Tt:Tt===Jo+ll));return mr&&mr.cell}(o,this.direction,t);if(!a)return;const h=this.isHorizontal?"rowspan":"colspan",g=parseInt(o.getAttribute(h)||1);return parseInt(a.getAttribute(h)||1)===g?a:void 0}}function bv(d){return 1==d.childCount&&d.getChild(0).is("element","paragraph")&&d.getChild(0).isEmpty}class aC extends De{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),o=t[0];if(o){const a=o.findAncestor("table"),h=this.editor.plugins.get("TableUtils").getRows(a)-1,g=e.getRowIndexes(t);this.isEnabled=!(0===g.first&&g.last===h)}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),o=t.getSelectionAffectedTableCells(e.document.selection),a=t.getRowIndexes(o),h=o[0],g=h.findAncestor("table"),y=t.getCellLocation(h).column;e.change(k=>{t.removeRows(g,{at:a.first,rows:a.last-a.first+1});const D=function(L,W,de,Ae){const Oe=L.getChild(Math.min(W,Ae-1));let He=Oe.getChild(0),pt=0;for(const Tt of Oe.getChildren()){if(pt>de)return He;He=Tt,pt+=parseInt(Tt.getAttribute("colspan")||1)}return He}(g,a.first,y,t.getRows(g));k.setSelection(k.createPositionAt(D,0))})}}class pw extends De{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),o=t[0];if(o){const a=o.findAncestor("table"),h=e.getColumns(a),{first:g,last:y}=e.getColumnIndexes(t);this.isEnabled=y-g<h-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,o]=function(k,E){const D=E.getSelectionAffectedTableCells(k),L=D[0],W=D.pop(),de=[L,W];return L.isBefore(W)?de:de.reverse()}(this.editor.model.document.selection,e),a=t.parent.parent,h=[...new ss(a)],g={first:h.find(k=>k.cell===t).column,last:h.find(k=>k.cell===o).column},y=(k=h,E=t,D=o,L=g,parseInt(D.getAttribute("colspan")||1)>1?D:E.previousSibling||D.nextSibling?D.nextSibling||E.previousSibling:L.first?k.reverse().find(({column:de})=>de<L.first).cell:k.reverse().find(({column:de})=>de>L.last).cell);var k,E,D,L;this.editor.model.change(k=>{const E=g.last-g.first+1;this.editor.plugins.get("TableUtils").removeColumns(a,{at:g.first,columns:E}),k.setSelection(k.createPositionAt(y,0))})}}class gw extends De{refresh(){const o=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection),a=o.length>0;this.isEnabled=a,this.value=a&&o.every(h=>this._isInHeading(h,h.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),o=this.editor.model,a=t.getSelectionAffectedTableCells(o.document.selection),h=a[0].findAncestor("table"),{first:g,last:y}=t.getRowIndexes(a),k=this.value?g:y+1,E=h.getAttribute("headingRows")||0;o.change(D=>{if(k){const L=uw(h,k,k>E?E:0);for(const{cell:W}of L)dw(W,k,D)}ba("headingRows",k,h,D,0)})}_isInHeading(e,t){const o=parseInt(t.getAttribute("headingRows")||0);return!!o&&e.parent.index<o}}class _u extends De{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),o=t.getSelectionAffectedTableCells(e.document.selection),a=o.length>0;this.isEnabled=a,this.value=a&&o.every(h=>hv(t,h))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),o=this.editor.model,a=t.getSelectionAffectedTableCells(o.document.selection),h=a[0].findAncestor("table"),{first:g,last:y}=t.getColumnIndexes(a),k=this.value?g:y+1;o.change(E=>{if(k){const D=hw(h,k);for(const{cell:L,column:W}of D)mv(L,W,k,E)}ba("headingColumns",k,h,E,0)})}}class Ya extends cn{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,o=t.parent,a=o.getChildIndex(t),h=new ss(o,{row:a});for(const{cell:g,row:y,column:k}of h)if(g===e)return{row:y,column:k}}createTable(e,t){const o=e.createElement("table"),a=parseInt(t.rows)||2,h=parseInt(t.columns)||2;return vv(e,o,0,a,h),t.headingRows&&ba("headingRows",Math.min(t.headingRows,a),o,e,0),t.headingColumns&&ba("headingColumns",Math.min(t.headingColumns,h),o,e,0),o}insertRows(e,t={}){const o=this.editor.model,a=t.at||0,h=t.rows||1,g=void 0!==t.copyStructureFromAbove,y=t.copyStructureFromAbove?a-1:a,k=this.getRows(e),E=this.getColumns(e);if(a>k)throw new Ne("tableutils-insertrows-insert-out-of-range",this,{options:t});o.change(D=>{const L=e.getAttribute("headingRows")||0;if(L>a&&ba("headingRows",L+h,e,D,0),!g&&(0===a||a===k))return void vv(D,e,a,h,E);const W=g?Math.max(a,y):a,de=new ss(e,{endRow:W}),Ae=new Array(E).fill(1);for(const{row:Oe,column:He,cellHeight:pt,cellWidth:Tt,cell:Zt}of de){const Mn=Oe+pt-1,er=Oe<=y&&y<=Mn;Oe<a&&a<=Mn?(D.setAttribute("rowspan",pt+h,Zt),Ae[He]=-Tt):g&&er&&(Ae[He]=Tt)}for(let Oe=0;Oe<h;Oe++){const He=D.createElement("tableRow");D.insert(He,e,a);for(let pt=0;pt<Ae.length;pt++){const Tt=Ae[pt],Zt=D.createPositionAt(He,"end");Tt>0&&vf(D,Zt,Tt>1?{colspan:Tt}:null),pt+=Math.abs(Tt)-1}}})}insertColumns(e,t={}){const a=t.at||0,h=t.columns||1;this.editor.model.change(g=>{const y=e.getAttribute("headingColumns");a<y&&g.setAttribute("headingColumns",y+h,e);const k=this.getColumns(e);if(0===a||k===a){for(const D of e.getChildren())D.is("element","tableRow")&&Hm(h,g,g.createPositionAt(D,a?"end":0));return}const E=new ss(e,{column:a,includeAllSlots:!0});for(const D of E){const{row:L,cell:W,cellAnchorColumn:de,cellAnchorRow:Ae,cellWidth:Oe,cellHeight:He}=D;if(de<a){g.setAttribute("colspan",Oe+h,W);const pt=Ae+He-1;for(let Tt=L;Tt<=pt;Tt++)E.skipRow(Tt)}else Hm(h,g,D.getPositionBefore())}})}removeRows(e,t){const o=this.editor.model,a=t.rows||1,h=this.getRows(e),g=t.at,y=g+a-1;if(y>h-1)throw new Ne("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});o.change(k=>{const{cellsToMove:E,cellsToTrim:D}=function(L,W,de){const Ae=new Map,Oe=[];for(const{row:He,column:pt,cellHeight:Tt,cell:Zt}of new ss(L,{endRow:de})){const Mn=He+Tt-1;if(He>=W&&He<=de&&Mn>de&&Ae.set(pt,{cell:Zt,rowspan:Tt-(de-He+1)}),He<W&&Mn>=W){let er;er=Mn>=de?de-W+1:Mn-W+1,Oe.push({cell:Zt,rowspan:Tt-er})}}return{cellsToMove:Ae,cellsToTrim:Oe}}(e,g,y);E.size&&function(L,W,de,Ae){const He=[...new ss(L,{includeAllSlots:!0,row:W})],pt=L.getChild(W);let Tt;for(const{column:Zt,cell:Mn,isAnchor:er}of He)if(de.has(Zt)){const{cell:mr,rowspan:Jo}=de.get(Zt),ll=Tt?Ae.createPositionAfter(Tt):Ae.createPositionAt(pt,0);Ae.move(Ae.createRangeOn(mr),ll),ba("rowspan",Jo,mr,Ae),Tt=mr}else er&&(Tt=Mn)}(e,y+1,E,k);for(let L=y;L>=g;L--)k.remove(e.getChild(L));for(const{rowspan:L,cell:W}of D)ba("rowspan",L,W,k);(function(L,W,de,Ae){const Oe=L.getAttribute("headingRows")||0;W<Oe&&ba("headingRows",de<Oe?Oe-(de-W+1):W,L,Ae,0)})(e,g,y,k),Z_(e,this)||K_(e,this)})}removeColumns(e,t){const a=t.at,g=t.at+(t.columns||1)-1;this.editor.model.change(y=>{!function(k,E,D){const L=k.getAttribute("headingColumns")||0;if(L&&E.first<L){const W=Math.min(L-1,E.last)-E.first+1;D.setAttribute("headingColumns",L-W,k)}}(e,{first:a,last:g},y);for(let k=g;k>=a;k--)for(const{cell:E,column:D,cellWidth:L}of[...new ss(e)])D<=k&&L>1&&D+L>k?ba("colspan",L-1,E,y):D===k&&y.remove(E);K_(e,this)||Z_(e,this)})}splitCellVertically(e,t=2){const o=this.editor.model,a=e.parent.parent,h=parseInt(e.getAttribute("rowspan")||1),g=parseInt(e.getAttribute("colspan")||1);o.change(y=>{if(g>1){const{newCellsSpan:k,updatedSpan:E}=lC(g,t);ba("colspan",E,e,y);const D={};k>1&&(D.colspan=k),h>1&&(D.rowspan=h),Hm(g>t?t-1:g-1,y,y.createPositionAfter(e),D)}if(g<t){const k=t-g,E=[...new ss(a)],{column:D}=E.find(({cell:Ae})=>Ae===e),L=E.filter(({cell:Ae,cellWidth:Oe,column:He})=>Ae!==e&&He===D||He<D&&He+Oe>D);for(const{cell:Ae,cellWidth:Oe}of L)y.setAttribute("colspan",Oe+k,Ae);const W={};h>1&&(W.rowspan=h),Hm(k,y,y.createPositionAfter(e),W);const de=a.getAttribute("headingColumns")||0;de>D&&ba("headingColumns",de+k,a,y)}})}splitCellHorizontally(e,t=2){const o=this.editor.model,a=e.parent,h=a.parent,g=h.getChildIndex(a),y=parseInt(e.getAttribute("rowspan")||1),k=parseInt(e.getAttribute("colspan")||1);o.change(E=>{if(y>1){const D=[...new ss(h,{startRow:g,endRow:g+y-1,includeAllSlots:!0})],{newCellsSpan:L,updatedSpan:W}=lC(y,t);ba("rowspan",W,e,E);const{column:de}=D.find(({cell:Oe})=>Oe===e),Ae={};L>1&&(Ae.rowspan=L),k>1&&(Ae.colspan=k);for(const Oe of D){const{column:He,row:pt}=Oe;pt>=g+W&&He===de&&(pt+g+W)%L==0&&Hm(1,E,Oe.getPositionBefore(),Ae)}}if(y<t){const D=t-y,L=[...new ss(h,{startRow:0,endRow:g})];for(const{cell:Ae,cellHeight:Oe,row:He}of L)Ae!==e&&He+Oe>g&&E.setAttribute("rowspan",Oe+D,Ae);const W={};k>1&&(W.colspan=k),vv(E,h,g+1,D,1,W);const de=h.getAttribute("headingRows")||0;de>g&&ba("headingRows",de+D,h,E)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((t,o)=>t+parseInt(o.getAttribute("colspan")||1),0)}getRows(e){return Array.from(e.getChildren()).reduce((t,o)=>o.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new ss(e,t)}getSelectedTableCells(e){const t=[];for(const o of this.sortRanges(e.getRanges())){const a=o.getContainedElement();a&&a.is("element","tableCell")&&t.push(a)}return t}getTableCellsContainingSelection(e){const t=[];for(const o of e.getRanges()){const a=o.start.findAncestor("tableCell");a&&t.push(a)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(o=>o.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),o=[...new ss(t)].filter(a=>e.includes(a.cell)).map(a=>a.column);return this._getFirstLastIndexesObject(o)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,o=new Set;let a=0;for(const g of e){const{row:y,column:k}=this.getCellLocation(g),E=parseInt(g.getAttribute("rowspan")||1),D=parseInt(g.getAttribute("colspan")||1);t.add(y),o.add(k),E>1&&t.add(y+E-1),D>1&&o.add(k+D-1),a+=E*D}return function(g,y){const k=Array.from(g.values()),E=Array.from(y.values());return(Math.max(...k)-Math.min(...k)+1)*(Math.max(...E)-Math.min(...E)+1)}(t,o)==a}sortRanges(e){return Array.from(e).sort(A_)}_getFirstLastIndexesObject(e){const t=e.sort((o,a)=>o-a);return{first:t[0],last:t[t.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),o=this.getRowIndexes(e),a=parseInt(t.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(o,a))return!1;const h=parseInt(t.getAttribute("headingColumns")||0),g=this.getColumnIndexes(e);return this._areIndexesInSameSection(g,h)}_areIndexesInSameSection({first:e,last:t},o){return e<o==t<o}}function vv(d,e,t,o,a,h={}){for(let g=0;g<o;g++){const y=d.createElement("tableRow");d.insert(y,e,t),Hm(a,d,d.createPositionAt(y,"end"),h)}}function Hm(d,e,t,o={}){for(let a=0;a<d;a++)vf(e,t,o)}function lC(d,e){if(d<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(d/e);return{newCellsSpan:t,updatedSpan:d-t*e+t}}function A_(d,e){return d.start.isBefore(e.start)?-1:1}class cC extends De{refresh(){const e=this.editor.plugins.get(Ya),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t,this.editor.plugins.get(Ya))}execute(){const e=this.editor.model,t=this.editor.plugins.get(Ya);e.change(o=>{const a=t.getSelectedTableCells(e.document.selection),h=a.shift(),{mergeWidth:g,mergeHeight:y}=function(k,E,D){let L=0,W=0;for(const pt of E){const{row:Tt,column:Zt}=D.getCellLocation(pt);L=wv(pt,Zt,L,"colspan"),W=wv(pt,Tt,W,"rowspan")}const{row:de,column:Ae}=D.getCellLocation(k);return{mergeWidth:L-Ae,mergeHeight:W-de}}(h,a,t);ba("colspan",g,h,o),ba("rowspan",y,h,o);for(const k of a)yv(k,h,o);Y_(h.findAncestor("table"),t),o.setSelection(h,"in")})}}function yv(d,e,t){mw(d)||(mw(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(d),t.createPositionAt(e,"end"))),t.remove(d)}function mw(d){return 1==d.childCount&&d.getChild(0).is("element","paragraph")&&d.getChild(0).isEmpty}function wv(d,e,t,o){const a=parseInt(d.getAttribute(o)||1);return Math.max(t,e+a)}class uC extends De{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),o=t.getSelectionAffectedTableCells(e.document.selection),a=t.getRowIndexes(o),h=o[0].findAncestor("table"),g=[];for(let y=a.first;y<=a.last;y++)for(const k of h.getChild(y).getChildren())g.push(e.createRangeOn(k));e.change(y=>{y.setSelection(g)})}}class dC extends De{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,o=e.getSelectionAffectedTableCells(t.document.selection),a=o[0],h=o.pop(),g=a.findAncestor("table"),y=e.getCellLocation(a),k=e.getCellLocation(h),E=Math.min(y.column,k.column),D=Math.max(y.column,k.column),L=[];for(const W of new ss(g,{startColumn:E,endColumn:D}))L.push(t.createRangeOn(W.cell));t.change(W=>{W.setSelection(L)})}}function _w(d,e){let t=!1;const o=function(a){const h=parseInt(a.getAttribute("headingRows")||0),g=Array.from(a.getChildren()).reduce((k,E)=>E.is("element","tableRow")?k+1:k,0),y=[];for(const{row:k,cell:E,cellHeight:D}of new ss(a)){if(D<2)continue;const L=k<h?h:g;k+D>L&&y.push({cell:E,rowspan:L-k})}return y}(d);if(o.length){t=!0;for(const a of o)ba("rowspan",a.rowspan,a.cell,e,1)}return t}function bw(d,e){let t=!1;const o=function(y){const k=new Array(y.childCount).fill(0);for(const{rowIndex:E}of new ss(y,{includeAllSlots:!0}))k[E]++;return k}(d),a=[];for(const[y,k]of o.entries())!k&&d.getChild(y).is("element","tableRow")&&a.push(y);if(a.length){t=!0;for(const y of a.reverse())e.remove(d.getChild(y)),o.splice(y,1)}const h=o.filter((y,k)=>d.getChild(k).is("element","tableRow")),g=h[0];if(!h.every(y=>y===g)){const y=h.reduce((k,E)=>E>k?E:k,0);for(const[k,E]of h.entries()){const D=y-E;if(D){for(let L=0;L<D;L++)vf(e,e.createPositionAt(d.getChild(k),"end"));t=!0}}}return t}function Q_(d){const t=d.attributeKey;return"attribute"===d.type&&("headingRows"===t||"colspan"===t||"rowspan"===t)}function UC(d,e){let t=!1;for(const o of d.getChildren())o.is("element","tableRow")&&(t=Av(o,e)||t);return t}function Av(d,e){let t=!1;for(const o of d.getChildren())t=xv(o,e)||t;return t}function xv(d,e){if(0==d.childCount)return e.insertElement("paragraph",d),!0;const t=Array.from(d.getChildren()).filter(o=>o.is("$text"));for(const o of t)e.wrap(e.createRangeOn(o),"paragraph");return!!t.length}function vw(d){return!(!d.position||!d.position.parent.is("element","tableCell"))&&("insert"==d.type&&"$text"==d.name||"remove"==d.type)}function J_(d,e){if(!d.is("element","paragraph"))return!1;const t=e.toViewElement(d);return!!t&&q_(d)!==t.is("element","span")}var Ev=oe(3881);Li()(Ev.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Mv extends cn{static get pluginName(){return"TableEditing"}static get requires(){return[Ya]}init(){const e=this.editor,t=e.model,o=t.schema,a=e.conversion,h=e.plugins.get(Ya);o.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),o.register("tableRow",{allowIn:"table",isLimit:!0}),o.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),a.for("upcast").add(g=>{g.on("element:figure",(y,k,E)=>{if(!E.consumable.test(k.viewItem,{name:!0,classes:"table"}))return;const D=function(W){for(const de of W.getChildren())if(de.is("element","table"))return de}(k.viewItem);if(!D||!E.consumable.test(D,{name:!0}))return;E.consumable.consume(k.viewItem,{name:!0,classes:"table"});const L=fi(E.convertItem(D,k.modelCursor).modelRange.getItems());L?(E.convertChildren(k.viewItem,E.writer.createPositionAt(L,"end")),E.updateConversionResult(L,k)):E.consumable.revert(k.viewItem,{name:!0,classes:"table"})})}),a.for("upcast").add(d=>{d.on("element:table",(e,t,o)=>{const a=t.viewItem;if(!o.consumable.test(a,{name:!0}))return;const{rows:h,headingRows:g,headingColumns:y}=function(D){const L={headingRows:0,headingColumns:0},W=[],de=[];let Ae;for(const Oe of Array.from(D.getChildren()))if("tbody"===Oe.name||"thead"===Oe.name||"tfoot"===Oe.name){"thead"!==Oe.name||Ae||(Ae=Oe);const He=Array.from(Oe.getChildren()).filter(pt=>pt.is("element","tr"));for(const pt of He)if("thead"===pt.parent.name&&pt.parent===Ae)L.headingRows++,W.push(pt);else{de.push(pt);const Tt=ow(pt);Tt>L.headingColumns&&(L.headingColumns=Tt)}}return L.rows=[...W,...de],L}(a),k={};y&&(k.headingColumns=y),g&&(k.headingRows=g);const E=o.writer.createElement("table",k);if(o.safeInsert(E,t.modelCursor)){if(o.consumable.consume(a,{name:!0}),h.forEach(D=>o.convertItem(D,o.writer.createPositionAt(E,"end"))),o.convertChildren(a,o.writer.createPositionAt(E,"end")),E.isEmpty){const D=o.writer.createElement("tableRow");o.writer.insert(D,o.writer.createPositionAt(E,"end")),vf(o.writer,o.writer.createPositionAt(D,"end"))}o.updateConversionResult(E,t)}})}),a.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:aw(h,{asWidget:!0})}),a.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:aw(h)}),a.for("upcast").elementToElement({model:"tableRow",view:"tr"}),a.for("upcast").add(g=>{g.on("element:tr",(y,k)=>{k.viewItem.isEmpty&&0==k.modelCursor.index&&y.stop()},{priority:"high"})}),a.for("downcast").elementToElement({model:"tableRow",view:(g,{writer:y})=>g.isEmpty?y.createEmptyElement("tr"):y.createContainerElement("tr")}),a.for("upcast").elementToElement({model:"tableCell",view:"td"}),a.for("upcast").elementToElement({model:"tableCell",view:"th"}),a.for("upcast").add(fv("td")),a.for("upcast").add(fv("th")),a.for("editingDowncast").elementToElement({model:"tableCell",view:lw({asWidget:!0})}),a.for("dataDowncast").elementToElement({model:"tableCell",view:lw()}),a.for("editingDowncast").elementToElement({model:"paragraph",view:sC({asWidget:!0}),converterPriority:"high"}),a.for("dataDowncast").elementToElement({model:"paragraph",view:sC(),converterPriority:"high"}),a.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),a.for("upcast").attributeToAttribute({model:{key:"colspan",value:X_("colspan")},view:"colspan"}),a.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),a.for("upcast").attributeToAttribute({model:{key:"rowspan",value:X_("rowspan")},view:"rowspan"}),e.data.mapper.on("modelToViewPosition",(g,y)=>{const k=y.modelPosition.parent,E=y.modelPosition.nodeBefore;if(!k.is("element","tableCell")||!E||!E.is("element","paragraph"))return;const D=y.mapper.toViewElement(E),L=y.mapper.toViewElement(k);D===L&&(y.viewPosition=y.mapper.findPositionIn(L,E.maxOffset))}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new pv(e)),e.commands.add("insertTableRowAbove",new gv(e,{order:"above"})),e.commands.add("insertTableRowBelow",new gv(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new G_(e,{order:"left"})),e.commands.add("insertTableColumnRight",new G_(e,{order:"right"})),e.commands.add("removeTableRow",new aC(e)),e.commands.add("removeTableColumn",new pw(e)),e.commands.add("splitTableCellVertically",new $_(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new $_(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new cC(e)),e.commands.add("mergeTableCellRight",new k_(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new k_(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new k_(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new k_(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new _u(e)),e.commands.add("setTableRowHeader",new gw(e)),e.commands.add("selectTableRow",new uC(e)),e.commands.add("selectTableColumn",new dC(e)),function(d){d.document.registerPostFixer(e=>function(t,o){const a=o.document.differ.getChanges();let h=!1;const g=new Set;for(const y of a){let k;"table"==y.name&&"insert"==y.type&&(k=y.position.nodeAfter),"tableRow"!=y.name&&"tableCell"!=y.name||(k=y.position.findAncestor("table")),Q_(y)&&(k=y.range.start.findAncestor("table")),k&&!g.has(k)&&(h=_w(k,t)||h,h=bw(k,t)||h,g.add(k))}return h}(e,d))}(t),function(d){d.document.registerPostFixer(e=>function(t,o){const a=o.document.differ.getChanges();let h=!1;for(const g of a)"insert"==g.type&&"table"==g.name&&(h=UC(g.position.nodeAfter,t)||h),"insert"==g.type&&"tableRow"==g.name&&(h=Av(g.position.nodeAfter,t)||h),"insert"==g.type&&"tableCell"==g.name&&(h=xv(g.position.nodeAfter,t)||h),vw(g)&&(h=xv(g.position.parent,t)||h);return h}(e,d))}(t),this.listenTo(t.document,"change:data",()=>{(function(g,y){const k=g.document.differ;for(const E of k.getChanges()){let D,L=!1;if("attribute"==E.type){const Oe=E.range.start.nodeAfter;if(!Oe||!Oe.is("element","table")||"headingRows"!=E.attributeKey&&"headingColumns"!=E.attributeKey)continue;D=Oe,L="headingRows"==E.attributeKey}else"tableRow"!=E.name&&"tableCell"!=E.name||(D=E.position.findAncestor("table"),L="tableRow"==E.name);if(!D)continue;const W=D.getAttribute("headingRows")||0,de=D.getAttribute("headingColumns")||0,Ae=new ss(D);for(const Oe of Ae){const He=Oe.row<W||Oe.column<de?"th":"td",pt=y.mapper.toViewElement(Oe.cell);pt&&pt.is("element")&&pt.name!=He&&y.reconvertItem(L?Oe.cell.parent:Oe.cell)}}})(t,e.editing),function(g,y){const k=g.document.differ,E=new Set;for(const D of k.getChanges()){const L="attribute"==D.type?D.range.start.parent:D.position.parent;L.is("element","tableCell")&&E.add(L)}for(const D of E.values()){const L=Array.from(D.getChildren()).filter(W=>J_(W,y.mapper));for(const W of L)y.reconvertItem(W)}}(t,e.editing)})}}function X_(d){return e=>{const t=parseInt(e.getAttribute(d));return Number.isNaN(t)||t<=0?null:t}}var yw=oe(1613);Li()(yw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ww extends Br{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new sr,this.focusTracker=new Yn,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(o,a)=>`${a} \xd7 ${o}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(o=>{o.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(o,a)=>{const{row:h,column:g}=a.target.dataset;this.items.get(10*(parseInt(h,10)-1)+(parseInt(g,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(o,a,h)=>{if(!h)return;const{row:g,column:y}=h.dataset;this.set({rows:parseInt(g),columns:parseInt(y)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:e,focusTracker:t,gridItems:o,numberOfColumns:a,uiLanguageDirection:h}){const g="number"==typeof a?()=>a:a;function y(D){return L=>{const W=o.find(Oe=>Oe.element===t.focusedElement),de=o.getIndex(W),Ae=D(de,o);o.get(Ae).focus(),L.stopPropagation(),L.preventDefault()}}function k(D,L){return D===L-1?0:D+1}function E(D,L){return 0===D?L-1:D-1}e.set("arrowright",y((D,L)=>"rtl"===h?E(D,L.length):k(D,L.length))),e.set("arrowleft",y((D,L)=>"rtl"===h?k(D,L.length):E(D,L.length))),e.set("arrowup",y((D,L)=>{let W=D-g();return W<0&&(W=D+g()*Math.floor(L.length/g()),W>L.length-1&&(W-=g())),W})),e.set("arrowdown",y((D,L)=>{let W=D+g();return W>L.length-1&&(W=D%g()),W}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((o,a)=>{const h=Math.floor(a/10)<e&&a%10<t;o.set("isOn",h)})}_createGridButton(e,t,o,a){const h=new Po(e);return h.set({label:a,class:"ck-insert-table-dropdown-grid-box"}),h.extendTemplate({attributes:{"data-row":t,"data-column":o}}),h}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const o=Math.floor(t/10),a=t%10;e.push(this._createGridButton(this.locale,o+1,a+1,`${o+1} \xd7 ${a+1}`))}return this.createCollection(e)}}class Cw extends cn{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,o="ltr"===e.locale.contentLanguageDirection;e.ui.componentFactory.add("insertTable",a=>{const h=e.commands.get("insertTable"),g=jd(a);let y;return g.bind("isEnabled").to(h),g.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:t("Insert table"),tooltip:!0}),g.on("change:isOpen",()=>{y||(y=new ww(a),g.panelView.children.add(y),y.delegate("execute").to(g),g.on("execute",()=>{e.execute("insertTable",{rows:y.rows,columns:y.columns}),e.editing.view.focus()}))}),g}),e.ui.componentFactory.add("tableColumn",a=>{const h=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:o?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:o?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',h,a)}),e.ui.componentFactory.add("tableRow",a=>{const h=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',h,a)}),e.ui.componentFactory.add("mergeTableCells",a=>{const h=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:o?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:o?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',h,a)})}_prepareDropdown(e,t,o,a){const h=this.editor,g=jd(a),y=this._fillDropdownWithListOptions(g,o);return g.buttonView.set({label:e,icon:t,tooltip:!0}),g.bind("isEnabled").toMany(y,"isEnabled",(...k)=>k.some(E=>E)),this.listenTo(g,"execute",k=>{h.execute(k.source.commandName),k.source instanceof Bd||h.editing.view.focus()}),g}_prepareMergeSplitButtonDropdown(e,t,o,a){const h=this.editor,g=jd(a,cf),y="mergeTableCells",k=h.commands.get(y),E=this._fillDropdownWithListOptions(g,o);return g.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),g.bind("isEnabled").toMany([k,...E],"isEnabled",(...D)=>D.some(L=>L)),this.listenTo(g.buttonView,"execute",()=>{h.execute(y),h.editing.view.focus()}),this.listenTo(g,"execute",D=>{h.execute(D.source.commandName),h.editing.view.focus()}),g}_fillDropdownWithListOptions(e,t){const o=this.editor,a=[],h=new xn;for(const g of t)kw(g,o,a,h);return Am(e,h),a}}function kw(d,e,t,o){const a=d.model=new zg(d.model),{commandName:h,bindIsOn:g}=d.model;if("button"===d.type||"switchbutton"===d.type){const y=e.commands.get(h);t.push(y),a.set({commandName:h}),a.bind("isEnabled").to(y),g&&a.bind("isOn").to(y,"value")}a.set({withText:!0}),o.add(d)}var Aw=oe(6945);Li()(Aw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Gp extends cn{static get pluginName(){return"TableSelection"}static get requires(){return[Ya,Ya]}init(){const e=this.editor,o=e.editing.view;this.listenTo(e.model,"deleteContent",(a,h)=>this._handleDeleteContent(a,h),{priority:"high"}),this.listenTo(o.document,"insertText",(a,h)=>this._handleInsertTextEvent(a,h),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const o=this.editor.plugins.get(Ya).getSelectedTableCells(this.editor.model.document.selection);return 0==o.length?null:o}getSelectionAsFragment(){const e=this.editor.plugins.get(Ya),t=this.getSelectedTableCells();return t?this.editor.model.change(o=>{const a=o.createDocumentFragment(),{first:h,last:g}=e.getColumnIndexes(t),{first:y,last:k}=e.getRowIndexes(t),E=t[0].findAncestor("table");let D=k,L=g;if(e.isSelectionRectangular(t)){const de={firstColumn:h,lastColumn:g,firstRow:y,lastRow:k};D=_v(E,de),L=fw(E,de)}const W=cw(E,{startRow:y,startColumn:h,endRow:D,endColumn:L},o);return o.insert(W,a,0),a}):null}setCellSelection(e,t){const o=this._getCellsToSelect(e,t);this.editor.model.change(a=>{a.setSelection(o.cells.map(h=>a.createRangeOn(h)),{backward:o.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=fi(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(o=>o.on("selection",(a,h,g)=>{const y=g.writer;!function(D){for(const L of t)D.removeClass("ck-editor__editable_selected",L);t.clear()}(y);const k=this.getSelectedTableCells();if(!k)return;for(const D of k){const L=g.mapper.toViewElement(D);y.addClass("ck-editor__editable_selected",L),t.add(L)}const E=g.mapper.toViewElement(k[k.length-1]);y.setSelection(E,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(o=>{const a=o.createPositionAt(t[0],0),h=e.model.schema.getNearestSelectionRange(a);o.setSelection(h)})}})}_handleDeleteContent(e,t){const o=this.editor.plugins.get(Ya),[a,h]=t,g=this.editor.model,y=!h||"backward"==h.direction,k=o.getSelectedTableCells(a);k.length&&(e.stop(),g.change(E=>{const D=k[y?k.length-1:0];g.change(W=>{for(const de of k)g.deleteContent(W.createSelection(de,"in"))});const L=g.schema.getNearestSelectionRange(E.createPositionAt(D,0));a.is("documentSelection")?E.setSelection(L):a.setTo(L)}))}_handleInsertTextEvent(e,t){const o=this.editor,h=this.getSelectedTableCells(o.model.document.selection);if(!h)return;const g=o.editing.view,y=o.editing.mapper,k=h.map(E=>g.createRangeOn(y.toViewElement(E)));t.selection=g.createSelection(k)}_getCellsToSelect(e,t){const o=this.editor.plugins.get("TableUtils"),a=o.getCellLocation(e),h=o.getCellLocation(t),g=Math.min(a.row,h.row),y=Math.max(a.row,h.row),k=Math.min(a.column,h.column),E=Math.max(a.column,h.column),D=new Array(y-g+1).fill(null).map(()=>[]),L={startRow:g,endRow:y,startColumn:k,endColumn:E};for(const{row:Ae,cell:Oe}of new ss(e.findAncestor("table"),L))D[Ae-g].push(Oe);const W=h.row<a.row,de=h.column<a.column;return W&&D.reverse(),de&&D.forEach(Ae=>Ae.reverse()),{cells:D.flat(),backward:W||de}}}class pC extends cn{static get pluginName(){return"TableClipboard"}static get requires(){return[Gp,Ya]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(o,a)=>this._onCopyCut(o,a)),this.listenTo(t,"cut",(o,a)=>this._onCopyCut(o,a)),this.listenTo(e.model,"insertContent",(o,a)=>this._onInsertContent(o,...a),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const o=this.editor.plugins.get(Gp);if(!o.getSelectedTableCells()||"cut"==e.name&&this.editor.isReadOnly)return;t.preventDefault(),e.stop();const h=this.editor.editing.view.document,g=this.editor.data.toView(o.getSelectionAsFragment());h.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:g,method:e.name})}_onInsertContent(e,t,o){if(o&&!o.is("documentSelection"))return;const a=this.editor.model,h=this.editor.plugins.get(Ya);let g=Ew(t,a);if(!g)return;const y=h.getSelectionAffectedTableCells(a.document.selection);y.length?(e.stop(),a.change(k=>{const E={width:h.getColumns(g),height:h.getRows(g)},D=function(He,pt,Tt,Zt){const Mn=He[0].findAncestor("table"),er=Zt.getColumnIndexes(He),mr=Zt.getRowIndexes(He),Jo={firstColumn:er.first,lastColumn:er.last,firstRow:mr.first,lastRow:mr.last},ll=1===He.length;return ll&&(Jo.lastRow+=pt.height-1,Jo.lastColumn+=pt.width-1,function(tc,qm,Yd,fd){const yf=fd.getColumns(tc),rp=fd.getRows(tc);Yd>yf&&fd.insertColumns(tc,{at:yf,columns:Yd-yf}),qm>rp&&fd.insertRows(tc,{at:rp,rows:qm-rp})}(Mn,Jo.lastRow+1,Jo.lastColumn+1,Zt)),ll||!Zt.isSelectionRectangular(He)?function(tc,qm,Yd){const{firstRow:fd,lastRow:yf,firstColumn:rp,lastColumn:tm}=qm,Iv={first:fd,last:yf},Rw={first:rp,last:tm};Dv(tc,rp,Iv,Yd),Dv(tc,tm+1,Iv,Yd),eb(tc,fd,Rw,Yd),eb(tc,yf+1,Rw,Yd,fd)}(Mn,Jo,Tt):(Jo.lastRow=_v(Mn,Jo),Jo.lastColumn=fw(Mn,Jo)),Jo}(y,E,k,h),W=D.lastColumn-D.firstColumn+1,de={startRow:0,startColumn:0,endRow:Math.min(D.lastRow-D.firstRow+1,E.height)-1,endColumn:Math.min(W,E.width)-1};g=cw(g,de,k);const Ae=y[0].findAncestor("table"),Oe=this._replaceSelectedCellsWithPasted(g,E,Ae,D,k);if(this.editor.plugins.get("TableSelection").isEnabled){const He=h.sortRanges(Oe.map(pt=>k.createRangeOn(pt)));k.setSelection(He)}else k.setSelection(Oe[0],0)})):Y_(g,h)}_replaceSelectedCellsWithPasted(e,t,o,a,h){const{width:g,height:y}=t,k=function(He,pt,Tt){const Zt=new Array(Tt).fill(null).map(()=>new Array(pt).fill(null));for(const{column:Mn,row:er,cell:mr}of new ss(He))Zt[er][Mn]=mr;return Zt}(e,g,y),E=[...new ss(o,{startRow:a.firstRow,endRow:a.lastRow,startColumn:a.firstColumn,endColumn:a.lastColumn,includeAllSlots:!0})],D=[];let L;for(const He of E){const{row:pt,column:Tt}=He;Tt===a.firstColumn&&(L=He.getPositionBefore());const er=k[(pt-a.firstRow)%y][(Tt-a.firstColumn)%g],mr=er?h.cloneElement(er):null,Jo=this._replaceTableSlotCell(He,mr,L,h);Jo&&(W_(Jo,pt,Tt,a.lastRow,a.lastColumn,h),D.push(Jo),L=h.createPositionAfter(Jo))}const W=parseInt(o.getAttribute("headingRows")||0),de=parseInt(o.getAttribute("headingColumns")||0),Oe=a.firstColumn<de&&de<=a.lastColumn;if(a.firstRow<W&&W<=a.lastRow){const He=eb(o,W,{first:a.firstColumn,last:a.lastColumn},h,a.firstRow);D.push(...He)}if(Oe){const He=Dv(o,de,{first:a.firstRow,last:a.lastRow},h);D.push(...He)}return D}_replaceTableSlotCell(e,t,o,a){const{cell:h,isAnchor:g}=e;return g&&a.remove(h),t?(a.insert(t,o),t):null}getTableIfOnlyTableInContent(e,t){return Ew(e,t)}}function Ew(d,e){if(!d.is("documentFragment")&&!d.is("element"))return null;if(d.is("element","table"))return d;if(1==d.childCount&&d.getChild(0).is("element","table"))return d.getChild(0);const t=e.createRangeIn(d);for(const o of t.getItems())if(o.is("element","table")){const a=e.createRange(t.start,e.createPositionBefore(o));if(e.hasContent(a,{ignoreWhitespaces:!0}))return null;const h=e.createRange(e.createPositionAfter(o),t.end);return e.hasContent(h,{ignoreWhitespaces:!0})?null:o}return null}function eb(d,e,t,o,a=0){if(!(e<1))return uw(d,e,a).filter(({column:h,cellWidth:g})=>Tv(h,g,t)).map(({cell:h})=>dw(h,e,o))}function Dv(d,e,t,o){if(!(e<1))return hw(d,e).filter(({row:a,cellHeight:h})=>Tv(a,h,t)).map(({cell:a,column:h})=>mv(a,h,e,o))}function Tv(d,e,t){const o=d+e-1,{first:a,last:h}=t;return d>=a&&d<=h||d<a&&o>=a}class Mw extends cn{static get pluginName(){return"TableKeyboard"}static get requires(){return[Gp,Ya]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...t)=>this._onArrowKey(...t),{context:"table"}),this.listenTo(e,"tab",(...t)=>this._handleTabOnSelectedTable(...t),{context:"figure"}),this.listenTo(e,"tab",(...t)=>this._handleTab(...t),{context:["th","td"]})}_handleTabOnSelectedTable(e,t){const o=this.editor,a=o.model.document.selection.getSelectedElement();a&&a.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),o.model.change(h=>{h.setSelection(h.createRangeIn(a.getChild(0).getChild(0)))}))}_handleTab(e,t){const o=this.editor,a=this.editor.plugins.get(Ya),g=!t.shiftKey;let y=a.getTableCellsContainingSelection(o.model.document.selection)[0];if(y||(y=this.editor.plugins.get("TableSelection").getFocusCell()),!y)return;t.preventDefault(),t.stopPropagation(),e.stop();const k=y.parent,E=k.parent,D=E.getChildIndex(k),L=k.getChildIndex(y),W=0===L;if(!g&&W&&0===D)return void o.model.change(He=>{He.setSelection(He.createRangeOn(E))});const de=L===k.childCount-1,Ae=D===a.getRows(E)-1;if(g&&Ae&&de&&(o.execute("insertTableRowBelow"),D===a.getRows(E)-1))return void o.model.change(He=>{He.setSelection(He.createRangeOn(E))});let Oe;if(g&&de)Oe=E.getChild(D+1).getChild(0);else if(!g&&W){const He=E.getChild(D-1);Oe=He.getChild(He.childCount-1)}else Oe=k.getChild(L+(g?1:-1));o.model.change(He=>{He.setSelection(He.createRangeIn(Oe))})}_onArrowKey(e,t){const a=re(t.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(a,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const o=this.editor.plugins.get(Ya),a=this.editor.model,h=a.document.selection,g=["right","down"].includes(e),y=o.getSelectedTableCells(h);if(y.length){let E;return E=t?this.editor.plugins.get("TableSelection").getFocusCell():g?y[y.length-1]:y[0],this._navigateFromCellInDirection(E,e,t),!0}const k=h.focus.findAncestor("tableCell");if(!k)return!1;if(!h.isCollapsed)if(t){if(h.isBackward==g&&!h.containsEntireContent(k))return!1}else{const E=h.getSelectedElement();if(!E||!a.schema.isObject(E))return!1}return!!this._isSelectionAtCellEdge(h,k,g)&&(this._navigateFromCellInDirection(k,e,t),!0)}_isSelectionAtCellEdge(e,t,o){const a=this.editor.model,h=this.editor.model.schema,g=o?e.getLastPosition():e.getFirstPosition();if(!h.getLimitElement(g).is("element","tableCell"))return a.createPositionAt(t,o?"end":0).isTouching(g);const y=a.createSelection(g);return a.modifySelection(y,{direction:o?"forward":"backward"}),g.isEqual(y.focus)}_navigateFromCellInDirection(e,t,o=!1){const a=this.editor.model,h=e.findAncestor("table"),g=[...new ss(h,{includeAllSlots:!0})],{row:y,column:k}=g[g.length-1],E=g.find(({cell:Oe})=>Oe==e);let{row:D,column:L}=E;switch(t){case"left":L--;break;case"up":D--;break;case"right":L+=E.cellWidth;break;case"down":D+=E.cellHeight}if(D<0||D>y||L<0&&D<=0||L>k&&D>=y)return void a.change(Oe=>{Oe.setSelection(Oe.createRangeOn(h))});L<0?(L=o?0:k,D--):L>k&&(L=o?k:0,D++);const W=g.find(Oe=>Oe.row==D&&Oe.column==L).cell,de=["right","down"].includes(t),Ae=this.editor.plugins.get("TableSelection");if(o&&Ae.isEnabled){const Oe=Ae.getAnchorCell()||e;Ae.setCellSelection(Oe,W)}else{const Oe=a.createPositionAt(W,de?0:"end");a.change(He=>{He.setSelection(Oe)})}}}class Dw extends $a{constructor(e){super(e),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class Tw extends cn{static get pluginName(){return"TableMouse"}static get requires(){return[Gp,Ya]}init(){this.editor.editing.view.addObserver(Dw),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(Ya);let o=!1;const a=e.plugins.get(Gp);this.listenTo(e.editing.view.document,"mousedown",(h,g)=>{const y=e.model.document.selection;if(!this.isEnabled||!a.isEnabled||!g.domEvent.shiftKey)return;const k=a.getAnchorCell()||t.getTableCellsContainingSelection(y)[0];if(!k)return;const E=this._getModelTableCellFromDomEvent(g);E&&Sw(k,E)&&(o=!0,a.setCellSelection(k,E),g.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{o=!1}),this.listenTo(e.editing.view.document,"selectionChange",h=>{o&&h.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,o,a=!1,h=!1;const g=e.plugins.get(Gp);this.listenTo(e.editing.view.document,"mousedown",(y,k)=>{this.isEnabled&&g.isEnabled&&(k.domEvent.shiftKey||k.domEvent.ctrlKey||k.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(k)))}),this.listenTo(e.editing.view.document,"mousemove",(y,k)=>{if(!k.domEvent.buttons||!t)return;const E=this._getModelTableCellFromDomEvent(k);E&&Sw(t,E)&&(o=E,a||o==t||(a=!0)),a&&(h=!0,g.setCellSelection(t,o),k.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1,h=!1,t=null,o=null}),this.listenTo(e.editing.view.document,"selectionChange",y=>{h&&y.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const o=this.editor.editing.view.createPositionAt(e.target,0);return this.editor.editing.mapper.toModelPosition(o).parent.findAncestor("tableCell",{includeSelf:!0})}}function Sw(d,e){return d.parent.parent==e.parent.parent}var Iw=oe(6306);function Pw(d){const e=d.getSelectedElement();return e&&mC(e)?e:null}function HC(d){const e=d.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&mC(t))return t;t=t.parent}return null}function mC(d){return!!d.getCustomProperty("table")&&Qn(d)}Li()(Iw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Ow={autoRefresh:!0};class tb{constructor(e,t=Ow){if(!e)throw new Ne("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),this._refresh="function"==typeof e?e:()=>{return o=e,new Promise((a,h)=>{const g=new XMLHttpRequest;g.open("GET",o),g.addEventListener("load",()=>{const y=g.status,k=g.response;return y<200||y>299?h(new Ne("token-cannot-download-new-token",null)):a(k)}),g.addEventListener("error",()=>h(new Error("Network Error"))),g.addEventListener("abort",()=>h(new Error("Abort"))),g.send()});var o},this._options=Object.assign({},Ow,t)}init(){return new Promise((e,t)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(t)})}refreshToken(){return this._refresh().then(e=>{this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t="string"==typeof e,o=!/^".*"$/.test(e),a=t&&3===e.split(".").length;if(!o||!a)throw new Ne("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?Math.floor((1e3*t-Date.now())/2):36e5}catch(e){return 36e5}}static create(e,t=Ow){return new tb(e,t).init()}}ne(tb,Tn);const qC=tb,Sv=/^data:(\S*?);base64,/;class _C{constructor(e,t,o){if(!e)throw new Ne("fileuploader-missing-file",null);if(!t)throw new Ne("fileuploader-missing-token",null);if(!o)throw new Ne("fileuploader-missing-api-address",null);this.file=function(a){if("string"!=typeof a)return!1;const h=a.match(Sv);return!(!h||!h.length)}(e)?function(a,h=512){try{const g=a.match(Sv)[1],y=atob(a.replace(Sv,"")),k=[];for(let E=0;E<y.length;E+=h){const D=y.slice(E,E+h),L=new Array(D.length);for(let W=0;W<D.length;W++)L[W]=D.charCodeAt(W);k.push(new Uint8Array(L))}return new Blob(k,{type:g})}catch(g){throw new Ne("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=o}onProgress(e){return this.on("progress",(t,o)=>e(o)),this}onError(e){return this.once("error",(t,o)=>e(o)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this,t=this.xhr;function o(a){return()=>e.fire("error",a)}t.addEventListener("error",o("Network Error")),t.addEventListener("abort",o("Abort")),t.upload&&t.upload.addEventListener("progress",a=>{a.lengthComputable&&this.fire("progress",{total:a.total,uploaded:a.loaded})}),t.addEventListener("load",()=>{const a=t.status,h=t.response;if(a<200||a>299)return this.fire("error",h.message||h.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((o,a)=>{t.addEventListener("load",()=>{const h=t.status,g=t.response;return h<200||h>299?a(g.message?new Ne("fileuploader-uploading-data-failed",this,{message:g.message}):g.error):o(g)}),t.addEventListener("error",()=>a(new Error("Network Error"))),t.addEventListener("abort",()=>a(new Error("Abort"))),t.send(e)})}}ne(_C,Ie);class nb{constructor(e,t){if(!e)throw new Ne("uploadgateway-missing-token",null);if(!t)throw new Ne("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new _C(e,this._token,this._apiAddress)}}class GC extends no{static get pluginName(){return"CloudServicesCore"}createToken(e,t){return new qC(e,t)}createUploadGateway(e,t){return new nb(e,t)}}class x_ extends Dh{}x_.builtinPlugins=[class extends cn{static get requires(){return[lb,ee,Hl,Ct,jp,jv]}static get pluginName(){return"Essentials"}},class extends cn{static get requires(){return[Ih]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const d=this.editor.config.get("ckfinder.uploadUrl");d&&(this.editor.plugins.get(Ih).createUploadAdapter=e=>new Vv(e,d,this.editor.t))}},class extends cn{static get requires(){return[zu]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const d=this.editor.commands;d.get("bulletedList")&&Ec(this.editor,this,/^[*-]\s$/,"bulletedList"),d.get("numberedList")&&Ec(this.editor,this,/^1[.|)]\s$/,"numberedList"),d.get("todoList")&&Ec(this.editor,this,/^\[\s?\]\s$/,"todoList"),d.get("checkTodoList")&&Ec(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const d=this.editor.commands;if(d.get("bold")){const e=l_(this.editor,"bold");Kc(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Kc(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(d.get("italic")){const e=l_(this.editor,"italic");Kc(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Kc(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(d.get("code")){const e=l_(this.editor,"code");Kc(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(d.get("strikethrough")){const e=l_(this.editor,"strikethrough");Kc(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const d=this.editor.commands.get("heading");d&&d.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const o=new RegExp(`^(#{${e[7]}})\\s$`);Ec(this.editor,this,o,()=>{if(!d.isEnabled||d.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Ec(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const d=this.editor,e=d.model.document.selection;d.commands.get("codeBlock")&&Ec(d,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Ec(this.editor,this,/^---$/,"horizontalLine")}},class extends cn{static get requires(){return[$w,Ww]}static get pluginName(){return"Bold"}},class extends cn{static get requires(){return[c_,Uv]}static get pluginName(){return"Italic"}},class extends cn{static get requires(){return[Kw,bb]}static get pluginName(){return"BlockQuote"}},class extends cn{static get pluginName(){return"CKBox"}static get requires(){return[kb,P_]}},class extends cn{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",e0,Jw]}},class extends no{static get pluginName(){return"CloudServices"}static get requires(){return[GC]}init(){const d=this.context.config.get("cloudServices")||{};for(const e in d)this[e]=d[e];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}registerTokenUrl(d){if(this._tokens.has(d))return Promise.resolve(this.getTokenFor(d));const e=this.context.plugins.get("CloudServicesCore").createToken(d);return this._tokens.set(d,e),e.init()}getTokenFor(d){const e=this._tokens.get(d);if(!e)throw new Ne("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const d of this._tokens.values())d.destroy()}},class extends cn{static get requires(){return[t0,"ImageUpload"]}init(){const d=this.editor;d.plugins.has("ImageBlockEditing")||d.plugins.has("ImageInlineEditing")||At("easy-image-image-feature-missing",d)}static get pluginName(){return"EasyImage"}},class extends cn{static get requires(){return[ey,ny]}static get pluginName(){return"Heading"}},class extends cn{static get requires(){return[Ka,ay]}static get pluginName(){return"Image"}},class extends cn{static get requires(){return[cy,uy]}static get pluginName(){return"ImageCaption"}},class extends cn{static get requires(){return[gy,_y]}static get pluginName(){return"ImageStyle"}},class extends cn{static get requires(){return[ki,Kd]}static get pluginName(){return"ImageToolbar"}afterInit(){const d=this.editor,e=d.t,t=d.plugins.get(ki),o=d.plugins.get("ImageUtils");var a;t.register("image",{ariaLabel:e("Image toolbar"),items:(a=d.config.get("image.toolbar")||[],a.map(h=>Ht(h)?h.name:h)),getRelatedElement:h=>o.getClosestSelectedImageWidget(h)})}},class extends cn{static get pluginName(){return"ImageUpload"}static get requires(){return[C0,LC,y0]}},class extends cn{static get pluginName(){return"Indent"}static get requires(){return[k0,A0]}},class extends cn{static get requires(){return[Kb,jm,jC]}static get pluginName(){return"Link"}},class extends cn{static get requires(){return[VC,iv]}static get pluginName(){return"List"}},class extends cn{static get requires(){return[H_,tw,Jy,Cn]}static get pluginName(){return"MediaEmbed"}},h_,class extends cn{static get pluginName(){return"PasteFromOffice"}static get requires(){return[gu]}init(){const d=this.editor,e=d.editing.view.document,t=[];t.push(new iC(e)),t.push(new uv(e)),d.plugins.get("ClipboardPipeline").on("inputTransformation",(o,a)=>{if(a._isTransformedWithPasteFromOffice||d.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const h=a.dataTransfer.getData("text/html"),g=t.find(y=>y.isActive(h));g&&(a._parsedData=function(d,e){const t=new DOMParser,o=rw(rw(function(k){const E="</body>",L=k.indexOf(E);if(L<0)return k;const W=k.indexOf("</html>",L+E.length);return k.substring(0,L+E.length)+(W>=0?k.substring(W):"")}(d=d.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><"),a=t.parseFromString(o,"text/html");a.querySelectorAll("span[style*=spacerun]").forEach(E=>{const D=E.innerText.length||0;E.innerText=Array(D+1).join("\xa0 ").substr(0,D)});const h=a.body.innerHTML,g=function(k,E){const D=new xr(E),L=new wi(D,{renderingMode:"data"}),W=k.createDocumentFragment(),de=k.body.childNodes;for(;de.length>0;)W.appendChild(de[0]);return L.domToView(W,{skipComments:!0})}(a,e),y=function(k){const E=[],D=[],L=Array.from(k.getElementsByTagName("style"));for(const W of L)W.sheet&&W.sheet.cssRules&&W.sheet.cssRules.length&&(E.push(W.sheet),D.push(W.innerHTML));return{styles:E,stylesString:D.join(" ")}}(a);return{body:g,bodyString:h,styles:y.styles,stylesString:y.stylesString}}(h,e.stylesProcessor),g.execute(a),a._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends cn{static get requires(){return[Sb,Kd]}static get pluginName(){return"PictureEditing"}afterInit(){const d=this.editor;d.plugins.has("ImageBlockEditing")&&d.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),d.plugins.has("ImageInlineEditing")&&d.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const d=this.editor,e=d.conversion,t=d.plugins.get("ImageUtils");e.for("upcast").add(function(o){const a=["srcset","media","type","sizes"];return g=>{g.on("element:picture",h)};function h(g,y,k){const E=y.viewItem;if(!k.consumable.test(E,{name:!0}))return;const D=new Map;for(const de of E.getChildren())if(de.is("element","source")){const Ae={};for(const Oe of a)de.hasAttribute(Oe)&&k.consumable.test(de,{attributes:Oe})&&(Ae[Oe]=de.getAttribute(Oe));Object.keys(Ae).length&&D.set(de,Ae)}const L=o.findViewImgElement(E);if(!L)return;let W=y.modelCursor.parent;if(!W.is("element","imageBlock")){const de=k.convertItem(L,y.modelCursor);y.modelRange=de.modelRange,y.modelCursor=de.modelCursor,W=fi(de.modelRange.getItems())}k.consumable.consume(E,{name:!0});for(const[de,Ae]of D)k.consumable.consume(de,{attributes:Object.keys(Ae)});D.size&&k.writer.setAttribute("sources",Array.from(D.values()),W),k.convertChildren(E,W)}}(t)),e.for("downcast").add(function(o){return h=>{h.on("attribute:sources:imageBlock",a),h.on("attribute:sources:imageInline",a)};function a(h,g,y){if(!y.consumable.consume(g.item,h.name))return;const k=y.writer,E=y.mapper.toViewElement(g.item),D=o.findViewImgElement(E);if(g.attributeNewValue&&g.attributeNewValue.length){const L=k.createContainerElement("picture",null,g.attributeNewValue.map(Ae=>k.createEmptyElement("source",Ae))),W=[];let de=D.parent;for(;de&&de.is("attributeElement");){const Ae=de.parent;k.unwrap(k.createRangeOn(D),de),W.unshift(de),de=Ae}k.insert(k.createPositionBefore(D),L),k.move(k.createRangeOn(D),k.createPositionAt(L,"end"));for(const Ae of W)k.wrap(k.createRangeOn(L),Ae)}else if(D.parent.is("element","picture")){const L=D.parent;k.move(k.createRangeOn(D),k.createPositionBefore(L)),k.remove(L)}}}(t))}_setupImageUploadEditingIntegration(){const d=this.editor;d.plugins.has("ImageUploadEditing")&&this.listenTo(d.plugins.get("ImageUploadEditing"),"uploadComplete",(e,{imageElement:t,data:o})=>{const a=o.sources;a&&d.model.change(h=>{h.setAttributes({sources:a},t)})})}},class extends cn{static get requires(){return[Mv,Cw,Gp,Tw,Mw,pC,Cn]}static get pluginName(){return"Table"}},class extends cn{static get requires(){return[ki]}static get pluginName(){return"TableToolbar"}afterInit(){const d=this.editor,e=d.t,t=d.plugins.get(ki),o=d.config.get("table.contentToolbar"),a=d.config.get("table.tableToolbar");o&&t.register("tableContent",{ariaLabel:e("Table toolbar"),items:o,getRelatedElement:HC}),a&&t.register("table",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:Pw})}},class extends cn{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(d){super(d),d.config.define("typing",{transformations:{include:mf}})}init(){const d=this.editor.model.document.selection;d.on("change:range",()=>{this.isEnabled=!d.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const d=this.editor,e=d.model,t=d.plugins.get("Delete"),o=function(h){const y=h.remove||[],k=E=>!y.includes(E);return function(E){const D=new Set;for(const L of E)if("string"==typeof L&&Hp[L])for(const W of Hp[L])D.add(W);else D.add(L);return Array.from(D)}(h.include.concat(h.extra||[]).filter(k)).filter(k).map(E=>"string"==typeof E&&Gg[E]?Gg[E]:E).filter(E=>"object"==typeof E).map(E=>({from:s_(E.from),to:Im(E.to)}))}(d.config.get("typing.transformations")),a=new tp(d.model,h=>{for(const g of o)if(g.from.test(h))return{normalizedTransformation:g}});a.on("matched:data",(h,g)=>{if(!g.batch.isTyping)return;const{from:y,to:k}=g.normalizedTransformation,E=y.exec(g.text),D=k(E.slice(1)),L=g.range;let W=E.index;e.enqueueChange(de=>{for(let Ae=1;Ae<E.length;Ae++){const Oe=E[Ae],He=D[Ae-1];if(null==He){W+=Oe.length;continue}const pt=L.start.getShiftedBy(W),Tt=e.createRange(pt,pt.getShiftedBy(Oe.length)),Zt=ib(pt);e.insertContent(de.createText(He,Zt),Tt),W+=He.length}e.enqueueChange(()=>{t.requestUndoOnBackspace()})})}),a.bind("isEnabled").to(this)}}],x_.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),le.default})())()},417:(Kt,_t,X)=>{"use strict";X.d(_t,{Z:()=>Xt});var le,At,m=X(4762),P=X(8305),Ve=X(8391),oe=X(6433),he=((le={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",le["bad-app-name"]="Illegal App name: '{$appName}",le["duplicate-app"]="Firebase App named '{$appName}' already exists",le["app-deleted"]="Firebase App named '{$appName}' already deleted",le["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",le["invalid-log-argument"]="First argument to `onLog` must be null or a function.",le),Le=new P.LL("app","Firebase",he),Z="@firebase/app",dt="[DEFAULT]",Jt=((At={})[Z]="fire-core",At["@firebase/analytics"]="fire-analytics",At["@firebase/app-check"]="fire-app-check",At["@firebase/auth"]="fire-auth",At["@firebase/database"]="fire-rtdb",At["@firebase/functions"]="fire-fn",At["@firebase/installations"]="fire-iid",At["@firebase/messaging"]="fire-fcm",At["@firebase/performance"]="fire-perf",At["@firebase/remote-config"]="fire-rc",At["@firebase/storage"]="fire-gcs",At["@firebase/firestore"]="fire-fst",At["fire-js"]="fire-js",At["firebase-wrapper"]="fire-js-all",At),Bt=new oe.Yd("@firebase/app"),_n=function(){function Ot(tn,Ht,zn){var oi=this;this.firebase_=zn,this.isDeleted_=!1,this.name_=Ht.name,this.automaticDataCollectionEnabled_=Ht.automaticDataCollectionEnabled||!1,this.options_=(0,P.p$)(tn),this.container=new Ve.H0(Ht.name),this._addComponent(new Ve.wA("app",function(){return oi},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function($n){return oi._addComponent($n)})}return Object.defineProperty(Ot.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(tn){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=tn},enumerable:!1,configurable:!0}),Object.defineProperty(Ot.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ot.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ot.prototype.delete=function(){var tn=this;return new Promise(function(Ht){tn.checkDestroyed_(),Ht()}).then(function(){return tn.firebase_.INTERNAL.removeApp(tn.name_),Promise.all(tn.container.getProviders().map(function(Ht){return Ht.delete()}))}).then(function(){tn.isDeleted_=!0})},Ot.prototype._getService=function(tn,Ht){var zn;void 0===Ht&&(Ht=dt),this.checkDestroyed_();var oi=this.container.getProvider(tn);return!oi.isInitialized()&&"EXPLICIT"===(null===(zn=oi.getComponent())||void 0===zn?void 0:zn.instantiationMode)&&oi.initialize(),oi.getImmediate({identifier:Ht})},Ot.prototype._removeServiceInstance=function(tn,Ht){void 0===Ht&&(Ht=dt),this.container.getProvider(tn).clearInstance(Ht)},Ot.prototype._addComponent=function(tn){try{this.container.addComponent(tn)}catch(Ht){Bt.debug("Component "+tn.name+" failed to register with FirebaseApp "+this.name,Ht)}},Ot.prototype._addOrOverwriteComponent=function(tn){this.container.addOrOverwriteComponent(tn)},Ot.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Ot.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Le.create("app-deleted",{appName:this.name_})},Ot}();_n.prototype.name&&_n.prototype.options||_n.prototype.delete||console.log("dc");var Fe=function Te(){var Ot=function(Ot){var tn={},Ht=new Map,zn={__esModule:!0,initializeApp:function(Ln,wn){void 0===wn&&(wn={}),("object"!=typeof wn||null===wn)&&(wn={name:wn});var Jn=wn;void 0===Jn.name&&(Jn.name=dt);var di=Jn.name;if("string"!=typeof di||!di)throw Le.create("bad-app-name",{appName:String(di)});if((0,P.r3)(tn,di))throw Le.create("duplicate-app",{appName:di});var pi=new Ot(Ln,Jn,zn);return tn[di]=pi,pi},app:$n,registerVersion:function(Ln,wn,ci){var Jn,di=null!==(Jn=Jt[Ln])&&void 0!==Jn?Jn:Ln;ci&&(di+="-"+ci);var pi=di.match(/\s|\//),Mi=wn.match(/\s|\//);if(pi||Mi){var Ai=['Unable to register library "'+di+'" with version "'+wn+'":'];return pi&&Ai.push('library name "'+di+'" contains illegal characters (whitespace or "/")'),pi&&Mi&&Ai.push("and"),Mi&&Ai.push('version name "'+wn+'" contains illegal characters (whitespace or "/")'),void Bt.warn(Ai.join(" "))}Sr(new Ve.wA(di+"-version",function(){return{library:di,version:wn}},"VERSION"))},setLogLevel:oe.Ub,onLog:function(Ln,wn){if(null!==Ln&&"function"!=typeof Ln)throw Le.create("invalid-log-argument");(0,oe.Am)(Ln,wn)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Sr,removeApp:function(Ln){delete tn[Ln]},components:Ht,useAsService:function(Ln,wn){return"serverAuth"===wn?null:wn}}};function $n(Ln){if(!(0,P.r3)(tn,Ln=Ln||dt))throw Le.create("no-app",{appName:Ln});return tn[Ln]}function Sr(Ln){var wn=Ln.name;if(Ht.has(wn))return Bt.debug("There were multiple attempts to register component "+wn+"."),"PUBLIC"===Ln.type?zn[wn]:null;if(Ht.set(wn,Ln),"PUBLIC"===Ln.type){var ci=function(Mi){if(void 0===Mi&&(Mi=$n()),"function"!=typeof Mi[wn])throw Le.create("invalid-app-argument",{appName:wn});return Mi[wn]()};void 0!==Ln.serviceProps&&(0,P.ZB)(ci,Ln.serviceProps),zn[wn]=ci,Ot.prototype[wn]=function(){for(var Mi=[],Ai=0;Ai<arguments.length;Ai++)Mi[Ai]=arguments[Ai];return this._getService.bind(this,wn).apply(this,Ln.multipleInstances?Mi:[])}}for(var Jn=0,di=Object.keys(tn);Jn<di.length;Jn++)tn[di[Jn]]._addComponent(Ln);return"PUBLIC"===Ln.type?zn[wn]:null}return zn.default=zn,Object.defineProperty(zn,"apps",{get:function(){return Object.keys(tn).map(function(Ln){return tn[Ln]})}}),$n.App=Ot,zn}(_n);return Ot.INTERNAL=(0,m.pi)((0,m.pi)({},Ot.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function(Ht){(0,P.ZB)(Ot,Ht)},createSubscribe:P.ne,ErrorFactory:P.LL,deepExtend:P.ZB}),Ot}(),Ze=function(){function Ot(tn){this.container=tn}return Ot.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Ht){if(function(Ot){var tn=Ot.getComponent();return"VERSION"===(null==tn?void 0:tn.type)}(Ht)){var zn=Ht.getImmediate();return zn.library+"/"+zn.version}return null}).filter(function(Ht){return Ht}).join(" ")},Ot}();if((0,P.jU)()&&void 0!==self.firebase){Bt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&Bt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var jt=Fe.initializeApp;Fe.initializeApp=function(){for(var Ot=[],tn=0;tn<arguments.length;tn++)Ot[tn]=arguments[tn];return(0,P.UG)()&&Bt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),jt.apply(void 0,Ot)};var Ot,Vt=Fe;(Ot=Vt).INTERNAL.registerComponent(new Ve.wA("platform-logger",function(Ht){return new Ze(Ht)},"PRIVATE")),Ot.registerVersion(Z,"0.6.30",undefined),Ot.registerVersion("fire-js","");const Xt=Vt},8391:(Kt,_t,X)=>{"use strict";X.d(_t,{wA:()=>Ve,H0:()=>Z});var m=X(4762),P=X(8305),Ve=function(){function me(_e,ge,be){this.name=_e,this.instanceFactory=ge,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return me.prototype.setInstantiationMode=function(_e){return this.instantiationMode=_e,this},me.prototype.setMultipleInstances=function(_e){return this.multipleInstances=_e,this},me.prototype.setServiceProps=function(_e){return this.serviceProps=_e,this},me.prototype.setInstanceCreatedCallback=function(_e){return this.onInstanceCreated=_e,this},me}(),oe="[DEFAULT]",le=function(){function me(_e,ge){this.name=_e,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return me.prototype.get=function(_e){var ge=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(ge)){var be=new P.BH;if(this.instancesDeferred.set(ge,be),this.isInitialized(ge)||this.shouldAutoInitialize())try{var Se=this.getOrInitializeService({instanceIdentifier:ge});Se&&be.resolve(Se)}catch(ne){}}return this.instancesDeferred.get(ge).promise},me.prototype.getImmediate=function(_e){var ge,be=this.normalizeInstanceIdentifier(null==_e?void 0:_e.identifier),Se=null!==(ge=null==_e?void 0:_e.optional)&&void 0!==ge&&ge;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(ne){if(Se)return null;throw ne}},me.prototype.getComponent=function(){return this.component},me.prototype.setComponent=function(_e){var ge,be;if(_e.name!==this.name)throw Error("Mismatching Component "+_e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=_e,this.shouldAutoInitialize()){if(function(me){return"EAGER"===me.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(we){}try{for(var Se=(0,m.XA)(this.instancesDeferred.entries()),ne=Se.next();!ne.done;ne=Se.next()){var gt=(0,m.CR)(ne.value,2),Ke=gt[1],yt=this.normalizeInstanceIdentifier(gt[0]);try{var rt=this.getOrInitializeService({instanceIdentifier:yt});Ke.resolve(rt)}catch(we){}}}catch(we){ge={error:we}}finally{try{ne&&!ne.done&&(be=Se.return)&&be.call(Se)}finally{if(ge)throw ge.error}}}},me.prototype.clearInstance=function(_e){void 0===_e&&(_e=oe),this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)},me.prototype.delete=function(){return(0,m.mG)(this,void 0,void 0,function(){var _e;return(0,m.Jh)(this,function(ge){switch(ge.label){case 0:return _e=Array.from(this.instances.values()),[4,Promise.all((0,m.ev)((0,m.ev)([],(0,m.CR)(_e.filter(function(be){return"INTERNAL"in be}).map(function(be){return be.INTERNAL.delete()}))),(0,m.CR)(_e.filter(function(be){return"_delete"in be}).map(function(be){return be._delete()}))))];case 1:return ge.sent(),[2]}})})},me.prototype.isComponentSet=function(){return null!=this.component},me.prototype.isInitialized=function(_e){return void 0===_e&&(_e=oe),this.instances.has(_e)},me.prototype.getOptions=function(_e){return void 0===_e&&(_e=oe),this.instancesOptions.get(_e)||{}},me.prototype.initialize=function(_e){var ge,be;void 0===_e&&(_e={});var Se=_e.options,ne=void 0===Se?{}:Se,gt=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(gt))throw Error(this.name+"("+gt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Ee=this.getOrInitializeService({instanceIdentifier:gt,options:ne});try{for(var Ke=(0,m.XA)(this.instancesDeferred.entries()),yt=Ke.next();!yt.done;yt=Ke.next()){var rt=(0,m.CR)(yt.value,2),Ne=rt[1];gt===this.normalizeInstanceIdentifier(rt[0])&&Ne.resolve(Ee)}}catch(dt){ge={error:dt}}finally{try{yt&&!yt.done&&(be=Ke.return)&&be.call(Ke)}finally{if(ge)throw ge.error}}return Ee},me.prototype.onInit=function(_e,ge){var be,Se=this.normalizeInstanceIdentifier(ge),ne=null!==(be=this.onInitCallbacks.get(Se))&&void 0!==be?be:new Set;ne.add(_e),this.onInitCallbacks.set(Se,ne);var gt=this.instances.get(Se);return gt&&_e(gt,Se),function(){ne.delete(_e)}},me.prototype.invokeOnInitCallbacks=function(_e,ge){var be,Se,ne=this.onInitCallbacks.get(ge);if(ne)try{for(var gt=(0,m.XA)(ne),Ee=gt.next();!Ee.done;Ee=gt.next()){var Ke=Ee.value;try{Ke(_e,ge)}catch(yt){}}}catch(yt){be={error:yt}}finally{try{Ee&&!Ee.done&&(Se=gt.return)&&Se.call(gt)}finally{if(be)throw be.error}}},me.prototype.getOrInitializeService=function(_e){var ge=_e.instanceIdentifier,be=_e.options,Se=void 0===be?{}:be,ne=this.instances.get(ge);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:he(ge),options:Se}),this.instances.set(ge,ne),this.instancesOptions.set(ge,Se),this.invokeOnInitCallbacks(ne,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,ne)}catch(gt){}return ne||null},me.prototype.normalizeInstanceIdentifier=function(_e){return void 0===_e&&(_e=oe),this.component?this.component.multipleInstances?_e:oe:_e},me.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},me}();function he(me){return me===oe?void 0:me}var Z=function(){function me(_e){this.name=_e,this.providers=new Map}return me.prototype.addComponent=function(_e){var ge=this.getProvider(_e.name);if(ge.isComponentSet())throw new Error("Component "+_e.name+" has already been registered with "+this.name);ge.setComponent(_e)},me.prototype.addOrOverwriteComponent=function(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)},me.prototype.getProvider=function(_e){if(this.providers.has(_e))return this.providers.get(_e);var ge=new le(_e,this);return this.providers.set(_e,ge),ge},me.prototype.getProviders=function(){return Array.from(this.providers.values())},me}()},6433:(Kt,_t,X)=>{"use strict";function m(){for(var be=0,Se=0,ne=arguments.length;Se<ne;Se++)be+=arguments[Se].length;var gt=Array(be),Ee=0;for(Se=0;Se<ne;Se++)for(var Ke=arguments[Se],yt=0,rt=Ke.length;yt<rt;yt++,Ee++)gt[Ee]=Ke[yt];return gt}X.d(_t,{in:()=>oe,Yd:()=>me,Ub:()=>_e,Am:()=>ge});var P,Ve=[],oe=(()=>{return(be=oe||(oe={}))[be.DEBUG=0]="DEBUG",be[be.VERBOSE=1]="VERBOSE",be[be.INFO=2]="INFO",be[be.WARN=3]="WARN",be[be.ERROR=4]="ERROR",be[be.SILENT=5]="SILENT",oe;var be})(),le={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},he=oe.INFO,Le=((P={})[oe.DEBUG]="log",P[oe.VERBOSE]="log",P[oe.INFO]="info",P[oe.WARN]="warn",P[oe.ERROR]="error",P),Z=function(be,Se){for(var ne=[],gt=2;gt<arguments.length;gt++)ne[gt-2]=arguments[gt];if(!(Se<be.logLevel)){var Ee=(new Date).toISOString(),Ke=Le[Se];if(!Ke)throw new Error("Attempted to log a message with an invalid logType (value: "+Se+")");console[Ke].apply(console,m(["["+Ee+"]  "+be.name+":"],ne))}},me=function(){function be(Se){this.name=Se,this._logLevel=he,this._logHandler=Z,this._userLogHandler=null,Ve.push(this)}return Object.defineProperty(be.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Se){if(!(Se in oe))throw new TypeError('Invalid value "'+Se+'" assigned to `logLevel`');this._logLevel=Se},enumerable:!1,configurable:!0}),be.prototype.setLogLevel=function(Se){this._logLevel="string"==typeof Se?le[Se]:Se},Object.defineProperty(be.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Se){if("function"!=typeof Se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Se},enumerable:!1,configurable:!0}),Object.defineProperty(be.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Se){this._userLogHandler=Se},enumerable:!1,configurable:!0}),be.prototype.debug=function(){for(var Se=[],ne=0;ne<arguments.length;ne++)Se[ne]=arguments[ne];this._userLogHandler&&this._userLogHandler.apply(this,m([this,oe.DEBUG],Se)),this._logHandler.apply(this,m([this,oe.DEBUG],Se))},be.prototype.log=function(){for(var Se=[],ne=0;ne<arguments.length;ne++)Se[ne]=arguments[ne];this._userLogHandler&&this._userLogHandler.apply(this,m([this,oe.VERBOSE],Se)),this._logHandler.apply(this,m([this,oe.VERBOSE],Se))},be.prototype.info=function(){for(var Se=[],ne=0;ne<arguments.length;ne++)Se[ne]=arguments[ne];this._userLogHandler&&this._userLogHandler.apply(this,m([this,oe.INFO],Se)),this._logHandler.apply(this,m([this,oe.INFO],Se))},be.prototype.warn=function(){for(var Se=[],ne=0;ne<arguments.length;ne++)Se[ne]=arguments[ne];this._userLogHandler&&this._userLogHandler.apply(this,m([this,oe.WARN],Se)),this._logHandler.apply(this,m([this,oe.WARN],Se))},be.prototype.error=function(){for(var Se=[],ne=0;ne<arguments.length;ne++)Se[ne]=arguments[ne];this._userLogHandler&&this._userLogHandler.apply(this,m([this,oe.ERROR],Se)),this._logHandler.apply(this,m([this,oe.ERROR],Se))},be}();function _e(be){Ve.forEach(function(Se){Se.setLogLevel(be)})}function ge(be,Se){for(var ne=function(yt){var rt=null;Se&&Se.level&&(rt=le[Se.level]),yt.userLogHandler=null===be?null:function(we,Ne){for(var At=[],dt=2;dt<arguments.length;dt++)At[dt-2]=arguments[dt];var Jt=At.map(function(Bt){if(null==Bt)return null;if("string"==typeof Bt)return Bt;if("number"==typeof Bt||"boolean"==typeof Bt)return Bt.toString();if(Bt instanceof Error)return Bt.message;try{return JSON.stringify(Bt)}catch(_n){return null}}).filter(function(Bt){return Bt}).join(" ");Ne>=(null!=rt?rt:we.logLevel)&&be({level:oe[Ne].toLowerCase(),message:Jt,args:At,type:we.name})}},gt=0,Ee=Ve;gt<Ee.length;gt++)ne(Ee[gt])}},8305:(Kt,_t,X)=>{"use strict";X.d(_t,{BH:()=>ne,LL:()=>$e,ZR:()=>Ie,r3:()=>$n,Sg:()=>gt,ne:()=>Jn,p$:()=>ge,ZB:()=>be,m9:()=>Ii,z$:()=>Ee,jU:()=>rt,ru:()=>we,d:()=>At,w1:()=>dt,uI:()=>Ke,UG:()=>yt,b$:()=>Ne,G6:()=>_n,Mn:()=>Jt});var m=X(4762),le=function(mt){for(var Je=[],xt=0,zt=0;zt<mt.length;zt++){var Et=mt.charCodeAt(zt);Et<128?Je[xt++]=Et:Et<2048?(Je[xt++]=Et>>6|192,Je[xt++]=63&Et|128):55296==(64512&Et)&&zt+1<mt.length&&56320==(64512&mt.charCodeAt(zt+1))?(Et=65536+((1023&Et)<<10)+(1023&mt.charCodeAt(++zt)),Je[xt++]=Et>>18|240,Je[xt++]=Et>>12&63|128,Je[xt++]=Et>>6&63|128,Je[xt++]=63&Et|128):(Je[xt++]=Et>>12|224,Je[xt++]=Et>>6&63|128,Je[xt++]=63&Et|128)}return Je},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(mt,Je){if(!Array.isArray(mt))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var xt=Je?this.byteToCharMapWebSafe_:this.byteToCharMap_,zt=[],Et=0;Et<mt.length;Et+=3){var nn=mt[Et],Nn=Et+1<mt.length,Wn=Nn?mt[Et+1]:0,In=Et+2<mt.length,Ei=In?mt[Et+2]:0,Qr=(15&Wn)<<2|Ei>>6,dr=63&Ei;In||(dr=64,Nn||(Qr=64)),zt.push(xt[nn>>2],xt[(3&nn)<<4|Wn>>4],xt[Qr],xt[dr])}return zt.join("")},encodeString:function(mt,Je){return this.HAS_NATIVE_SUPPORT&&!Je?btoa(mt):this.encodeByteArray(le(mt),Je)},decodeString:function(mt,Je){return this.HAS_NATIVE_SUPPORT&&!Je?atob(mt):function(mt){for(var Je=[],xt=0,zt=0;xt<mt.length;){var Et=mt[xt++];if(Et<128)Je[zt++]=String.fromCharCode(Et);else if(Et>191&&Et<224){var nn=mt[xt++];Je[zt++]=String.fromCharCode((31&Et)<<6|63&nn)}else if(Et>239&&Et<365){var In=((7&Et)<<18|(63&(nn=mt[xt++]))<<12|(63&(Nn=mt[xt++]))<<6|63&mt[xt++])-65536;Je[zt++]=String.fromCharCode(55296+(In>>10)),Je[zt++]=String.fromCharCode(56320+(1023&In))}else{nn=mt[xt++];var Nn=mt[xt++];Je[zt++]=String.fromCharCode((15&Et)<<12|(63&nn)<<6|63&Nn)}}return Je.join("")}(this.decodeStringToByteArray(mt,Je))},decodeStringToByteArray:function(mt,Je){this.init_();for(var xt=Je?this.charToByteMapWebSafe_:this.charToByteMap_,zt=[],Et=0;Et<mt.length;){var nn=xt[mt.charAt(Et++)],Wn=Et<mt.length?xt[mt.charAt(Et)]:0,Ei=++Et<mt.length?xt[mt.charAt(Et)]:64,Fr=++Et<mt.length?xt[mt.charAt(Et)]:64;if(++Et,null==nn||null==Wn||null==Ei||null==Fr)throw Error();zt.push(nn<<2|Wn>>4),64!==Ei&&(zt.push(Wn<<4&240|Ei>>2),64!==Fr&&zt.push(Ei<<6&192|Fr))}return zt},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var mt=0;mt<this.ENCODED_VALS.length;mt++)this.byteToCharMap_[mt]=this.ENCODED_VALS.charAt(mt),this.charToByteMap_[this.byteToCharMap_[mt]]=mt,this.byteToCharMapWebSafe_[mt]=this.ENCODED_VALS_WEBSAFE.charAt(mt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[mt]]=mt,mt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(mt)]=mt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(mt)]=mt)}}},me=function(mt){return function(mt){var Je=le(mt);return Le.encodeByteArray(Je,!0)}(mt).replace(/\./g,"")};function ge(mt){return be(void 0,mt)}function be(mt,Je){if(!(Je instanceof Object))return Je;switch(Je.constructor){case Date:return new Date(Je.getTime());case Object:void 0===mt&&(mt={});break;case Array:mt=[];break;default:return Je}for(var zt in Je)!Je.hasOwnProperty(zt)||!Se(zt)||(mt[zt]=be(mt[zt],Je[zt]));return mt}function Se(mt){return"__proto__"!==mt}var ne=function(){function mt(){var Je=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(xt,zt){Je.resolve=xt,Je.reject=zt})}return mt.prototype.wrapCallback=function(Je){var xt=this;return function(zt,Et){zt?xt.reject(zt):xt.resolve(Et),"function"==typeof Je&&(xt.promise.catch(function(){}),1===Je.length?Je(zt):Je(zt,Et))}},mt}();function gt(mt,Je){if(mt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var zt=Je||"demo-project",Et=mt.iat||0,nn=mt.sub||mt.user_id;if(!nn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Nn=(0,m.pi)({iss:"https://securetoken.google.com/"+zt,aud:zt,iat:Et,exp:Et+3600,auth_time:Et,sub:nn,user_id:nn,firebase:{sign_in_provider:"custom",identities:{}}},mt);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(Nn)),""].join(".")}function Ee(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function yt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(mt){return!1}}function rt(){return"object"==typeof self&&self.self===self}function we(){var mt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof mt&&void 0!==mt.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function At(){return Ee().indexOf("Electron/")>=0}function dt(){var mt=Ee();return mt.indexOf("MSIE ")>=0||mt.indexOf("Trident/")>=0}function Jt(){return Ee().indexOf("MSAppHost/")>=0}function _n(){return!yt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Ie=function(mt){function Je(xt,zt,Et){var nn=mt.call(this,zt)||this;return nn.code=xt,nn.customData=Et,nn.name="FirebaseError",Object.setPrototypeOf(nn,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(nn,$e.prototype.create),nn}return(0,m.ZT)(Je,mt),Je}(Error),$e=function(){function mt(Je,xt,zt){this.service=Je,this.serviceName=xt,this.errors=zt}return mt.prototype.create=function(Je){for(var xt=[],zt=1;zt<arguments.length;zt++)xt[zt-1]=arguments[zt];var Et=xt[0]||{},nn=this.service+"/"+Je,Nn=this.errors[Je],Wn=Nn?at(Nn,Et):"Error",In=this.serviceName+": "+Wn+" ("+nn+").",Ei=new Ie(nn,In,Et);return Ei},mt}();function at(mt,Je){return mt.replace(jt,function(xt,zt){var Et=Je[zt];return null!=Et?String(Et):"<"+zt+"?>"})}var jt=/\{\$([^}]+)}/g;function $n(mt,Je){return Object.prototype.hasOwnProperty.call(mt,Je)}function Jn(mt,Je){var xt=new di(mt,Je);return xt.subscribe.bind(xt)}!function(){function mt(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Je=1;Je<this.blockSize;++Je)this.pad_[Je]=0;this.reset()}mt.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},mt.prototype.compress_=function(Je,xt){xt||(xt=0);var zt=this.W_;if("string"==typeof Je)for(var Et=0;Et<16;Et++)zt[Et]=Je.charCodeAt(xt)<<24|Je.charCodeAt(xt+1)<<16|Je.charCodeAt(xt+2)<<8|Je.charCodeAt(xt+3),xt+=4;else for(Et=0;Et<16;Et++)zt[Et]=Je[xt]<<24|Je[xt+1]<<16|Je[xt+2]<<8|Je[xt+3],xt+=4;for(Et=16;Et<80;Et++)zt[Et]=4294967295&((nn=zt[Et-3]^zt[Et-8]^zt[Et-14]^zt[Et-16])<<1|nn>>>31);var Fr,Qr,Nn=this.chain_[0],Wn=this.chain_[1],In=this.chain_[2],Ei=this.chain_[3],Ui=this.chain_[4];for(Et=0;Et<80;Et++){Et<40?Et<20?(Fr=Ei^Wn&(In^Ei),Qr=1518500249):(Fr=Wn^In^Ei,Qr=1859775393):Et<60?(Fr=Wn&In|Ei&(Wn|In),Qr=2400959708):(Fr=Wn^In^Ei,Qr=3395469782);var nn=(Nn<<5|Nn>>>27)+Fr+Ui+Qr+zt[Et]&4294967295;Ui=Ei,Ei=In,In=4294967295&(Wn<<30|Wn>>>2),Wn=Nn,Nn=nn}this.chain_[0]=this.chain_[0]+Nn&4294967295,this.chain_[1]=this.chain_[1]+Wn&4294967295,this.chain_[2]=this.chain_[2]+In&4294967295,this.chain_[3]=this.chain_[3]+Ei&4294967295,this.chain_[4]=this.chain_[4]+Ui&4294967295},mt.prototype.update=function(Je,xt){if(null!=Je){void 0===xt&&(xt=Je.length);for(var zt=xt-this.blockSize,Et=0,nn=this.buf_,Nn=this.inbuf_;Et<xt;){if(0===Nn)for(;Et<=zt;)this.compress_(Je,Et),Et+=this.blockSize;if("string"==typeof Je){for(;Et<xt;)if(nn[Nn]=Je.charCodeAt(Et),++Et,++Nn===this.blockSize){this.compress_(nn),Nn=0;break}}else for(;Et<xt;)if(nn[Nn]=Je[Et],++Et,++Nn===this.blockSize){this.compress_(nn),Nn=0;break}}this.inbuf_=Nn,this.total_+=xt}},mt.prototype.digest=function(){var Je=[],xt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var zt=this.blockSize-1;zt>=56;zt--)this.buf_[zt]=255&xt,xt/=256;this.compress_(this.buf_);var Et=0;for(zt=0;zt<5;zt++)for(var nn=24;nn>=0;nn-=8)Je[Et]=this.chain_[zt]>>nn&255,++Et;return Je}}();var di=function(){function mt(Je,xt){var zt=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xt,this.task.then(function(){Je(zt)}).catch(function(Et){zt.error(Et)})}return mt.prototype.next=function(Je){this.forEachObserver(function(xt){xt.next(Je)})},mt.prototype.error=function(Je){this.forEachObserver(function(xt){xt.error(Je)}),this.close(Je)},mt.prototype.complete=function(){this.forEachObserver(function(Je){Je.complete()}),this.close()},mt.prototype.subscribe=function(Je,xt,zt){var nn,Et=this;if(void 0===Je&&void 0===xt&&void 0===zt)throw new Error("Missing Observer.");nn=function(mt,Je){if("object"!=typeof mt||null===mt)return!1;for(var xt=0,zt=["next","error","complete"];xt<zt.length;xt++){var Et=zt[xt];if(Et in mt&&"function"==typeof mt[Et])return!0}return!1}(Je)?Je:{next:Je,error:xt,complete:zt},void 0===nn.next&&(nn.next=Ai),void 0===nn.error&&(nn.error=Ai),void 0===nn.complete&&(nn.complete=Ai);var Nn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Et.finalError?nn.error(Et.finalError):nn.complete()}catch(Wn){}}),this.observers.push(nn),Nn},mt.prototype.unsubscribeOne=function(Je){void 0===this.observers||void 0===this.observers[Je]||(delete this.observers[Je],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},mt.prototype.forEachObserver=function(Je){if(!this.finalized)for(var xt=0;xt<this.observers.length;xt++)this.sendOne(xt,Je)},mt.prototype.sendOne=function(Je,xt){var zt=this;this.task.then(function(){if(void 0!==zt.observers&&void 0!==zt.observers[Je])try{xt(zt.observers[Je])}catch(Et){"undefined"!=typeof console&&console.error&&console.error(Et)}})},mt.prototype.close=function(Je){var xt=this;this.finalized||(this.finalized=!0,void 0!==Je&&(this.finalError=Je),this.task.then(function(){xt.observers=void 0,xt.onNoObservers=void 0}))},mt}();function Ai(){}function Ii(mt){return mt&&mt._delegate?mt._delegate:mt}},7713:(Kt,_t,X)=>{"use strict";X.d(_t,{Z:()=>m.Z});var m=X(417);m.Z.registerVersion("firebase","8.10.0","app"),m.Z.SDK_VERSION="8.10.0"},3132:function(Kt,_t,X){var m;Kt=X.nmd(Kt),function(){var P,he="Expected a function",Z="__lodash_hash_undefined__",_e="__lodash_placeholder__",$e=1/0,at=9007199254740991,Xt=4294967295,Ht=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],zn="[object Arguments]",oi="[object Array]",xi="[object Boolean]",Zi="[object Date]",Tn="[object Error]",Hr="[object Function]",Ir="[object GeneratorFunction]",Ln="[object Map]",wn="[object Number]",Jn="[object Object]",di="[object Promise]",Mi="[object RegExp]",Ai="[object Set]",Vo="[object String]",Sn="[object Symbol]",vo="[object WeakMap]",Vi="[object ArrayBuffer]",Vn="[object DataView]",Bn="[object Float32Array]",zr="[object Float64Array]",gi="[object Int8Array]",lr="[object Int16Array]",Oi="[object Int32Array]",Ni="[object Uint8Array]",tr="[object Uint8ClampedArray]",Ii="[object Uint16Array]",mt="[object Uint32Array]",Je=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,zt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Et=/&(?:amp|lt|gt|quot|#39);/g,nn=/[&<>"']/g,Nn=RegExp(Et.source),Wn=RegExp(nn.source),In=/<%-([\s\S]+?)%>/g,Ei=/<%([\s\S]+?)%>/g,Ui=/<%=([\s\S]+?)%>/g,Fr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qr=/^\w*$/,dr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dt=/[\\^$.*+?()[\]{}|]/g,bt=RegExp(Dt.source),Qe=/^\s+/,Mt=/\s/,$t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,An=/\{\n\/\* \[wrapped with (.+)\] \*/,bn=/,? & /,hi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wr=/[()=,{}\[\]\/\s]/,Ci=/\\(\\)?/g,xo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,as=/\w*$/,hr=/^[-+]0x[0-9a-f]+$/i,Cr=/^0b[01]+$/i,dn=/^\[object .+?Constructor\]$/,jn=/^0o[0-7]+$/i,ui=/^(?:0|[1-9]\d*)$/,Ki=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yo=/($^)/,qr=/['\n\r\u2028\u2029\\]/g,wo="\\ud800-\\udfff",qn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pr="\\u2700-\\u27bf",ao="a-z\\xdf-\\xf6\\xf8-\\xff",Uo="A-Z\\xc0-\\xd6\\xd8-\\xde",Or="\\ufe0e\\ufe0f",qi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oo="["+wo+"]",No="["+qi+"]",Eo="["+qn+"]",Ho="\\d+",es="["+pr+"]",qo="["+ao+"]",Jr="[^"+wo+qi+Ho+pr+ao+Uo+"]",Xr="\\ud83c[\\udffb-\\udfff]",Ro="[^"+wo+"]",co="(?:\\ud83c[\\udde6-\\uddff]){2}",_r="[\\ud800-\\udbff][\\udc00-\\udfff]",Go="["+Uo+"]",_s="(?:"+qo+"|"+Jr+")",Fs="(?:"+Go+"|"+Jr+")",Gr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ts="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ua="(?:"+Eo+"|"+Xr+")?",Ys="["+Or+"]?",ns=Ys+ua+"(?:\\u200d(?:"+[Ro,co,_r].join("|")+")"+Ys+ua+")*",Js="(?:"+[es,co,_r].join("|")+")"+ns,Ls="(?:"+[Ro+Eo+"?",Eo,co,_r,Oo].join("|")+")",Qa=RegExp("['\u2019]","g"),cl=RegExp(Eo,"g"),$r=RegExp(Xr+"(?="+Xr+")|"+Ls+ns,"g"),Xs=RegExp([Go+"?"+qo+"+"+Gr+"(?="+[No,Go,"$"].join("|")+")",Fs+"+"+ts+"(?="+[No,Go+_s,"$"].join("|")+")",Go+"?"+_s+"+"+Gr,Go+"+"+ts,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ho,Js].join("|"),"g"),ea=RegExp("[\\u200d"+wo+qn+Or+"]"),Bs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xs=-1,Ji={};Ji[Bn]=Ji[zr]=Ji[gi]=Ji[lr]=Ji[Oi]=Ji[Ni]=Ji[tr]=Ji[Ii]=Ji[mt]=!0,Ji[zn]=Ji[oi]=Ji[Vi]=Ji[xi]=Ji[Vn]=Ji[Zi]=Ji[Tn]=Ji[Hr]=Ji[Ln]=Ji[wn]=Ji[Jn]=Ji[Mi]=Ji[Ai]=Ji[Vo]=Ji[vo]=!1;var cr={};cr[zn]=cr[oi]=cr[Vi]=cr[Vn]=cr[xi]=cr[Zi]=cr[Bn]=cr[zr]=cr[gi]=cr[lr]=cr[Oi]=cr[Ln]=cr[wn]=cr[Jn]=cr[Mi]=cr[Ai]=cr[Vo]=cr[Sn]=cr[Ni]=cr[tr]=cr[Ii]=cr[mt]=!0,cr[Tn]=cr[Hr]=cr[vo]=!1;var go={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$o=parseFloat,Es=parseInt,Fo="object"==typeof global&&global&&global.Object===Object&&global,zs="object"==typeof self&&self&&self.Object===Object&&self,Nr=Fo||zs||Function("return this")(),ya=_t&&!_t.nodeType&&_t,bs=ya&&Kt&&!Kt.nodeType&&Kt,us=bs&&bs.exports===ya,kr=us&&Fo.process,ie=function(){try{return bs&&bs.require&&bs.require("util").types||kr&&kr.binding&&kr.binding("util")}catch(Nt){}}(),te=ie&&ie.isArrayBuffer,je=ie&&ie.isDate,Xe=ie&&ie.isMap,V=ie&&ie.isRegExp,ue=ie&&ie.isSet,$=ie&&ie.isTypedArray;function ve(ut,Nt,vt){switch(vt.length){case 0:return ut.call(Nt);case 1:return ut.call(Nt,vt[0]);case 2:return ut.call(Nt,vt[0],vt[1]);case 3:return ut.call(Nt,vt[0],vt[1],vt[2])}return ut.apply(Nt,vt)}function Ge(ut,Nt,vt,Wt){for(var un=-1,mi=null==ut?0:ut.length;++un<mi;){var vi=ut[un];Nt(Wt,vi,vt(vi),ut)}return Wt}function z(ut,Nt){for(var vt=-1,Wt=null==ut?0:ut.length;++vt<Wt&&!1!==Nt(ut[vt],vt,ut););return ut}function q(ut,Nt){for(var vt=null==ut?0:ut.length;vt--&&!1!==Nt(ut[vt],vt,ut););return ut}function G(ut,Nt){for(var vt=-1,Wt=null==ut?0:ut.length;++vt<Wt;)if(!Nt(ut[vt],vt,ut))return!1;return!0}function Ce(ut,Nt){for(var vt=-1,Wt=null==ut?0:ut.length,un=0,mi=[];++vt<Wt;){var vi=ut[vt];Nt(vi,vt,ut)&&(mi[un++]=vi)}return mi}function kt(ut,Nt){return!(null==ut||!ut.length)&&mo(ut,Nt,0)>-1}function Yt(ut,Nt,vt){for(var Wt=-1,un=null==ut?0:ut.length;++Wt<un;)if(vt(Nt,ut[Wt]))return!0;return!1}function hn(ut,Nt){for(var vt=-1,Wt=null==ut?0:ut.length,un=Array(Wt);++vt<Wt;)un[vt]=Nt(ut[vt],vt,ut);return un}function Xn(ut,Nt){for(var vt=-1,Wt=Nt.length,un=ut.length;++vt<Wt;)ut[un+vt]=Nt[vt];return ut}function ii(ut,Nt,vt,Wt){var un=-1,mi=null==ut?0:ut.length;for(Wt&&mi&&(vt=ut[++un]);++un<mi;)vt=Nt(vt,ut[un],un,ut);return vt}function Ri(ut,Nt,vt,Wt){var un=null==ut?0:ut.length;for(Wt&&un&&(vt=ut[--un]);un--;)vt=Nt(vt,ut[un],un,ut);return vt}function br(ut,Nt){for(var vt=-1,Wt=null==ut?0:ut.length;++vt<Wt;)if(Nt(ut[vt],vt,ut))return!0;return!1}var uo=ql("length");function vs(ut,Nt,vt){var Wt;return vt(ut,function(un,mi,vi){if(Nt(un,mi,vi))return Wt=mi,!1}),Wt}function ti(ut,Nt,vt,Wt){for(var un=ut.length,mi=vt+(Wt?1:-1);Wt?mi--:++mi<un;)if(Nt(ut[mi],mi,ut))return mi;return-1}function mo(ut,Nt,vt){return Nt==Nt?function(ut,Nt,vt){for(var Wt=vt-1,un=ut.length;++Wt<un;)if(ut[Wt]===Nt)return Wt;return-1}(ut,Nt,vt):ti(ut,nc,vt)}function Tl(ut,Nt,vt,Wt){for(var un=vt-1,mi=ut.length;++un<mi;)if(Wt(ut[un],Nt))return un;return-1}function nc(ut){return ut!=ut}function Mc(ut,Nt){var vt=null==ut?0:ut.length;return vt?Di(ut,Nt)/vt:NaN}function ql(ut){return function(Nt){return null==Nt?P:Nt[ut]}}function Sl(ut){return function(Nt){return null==ut?P:ut[Nt]}}function ic(ut,Nt,vt,Wt,un){return un(ut,function(mi,vi,yi){vt=Wt?(Wt=!1,mi):Nt(vt,mi,vi,yi)}),vt}function Di(ut,Nt){for(var vt,Wt=-1,un=ut.length;++Wt<un;){var mi=Nt(ut[Wt]);mi!==P&&(vt=vt===P?mi:vt+mi)}return vt}function ul(ut,Nt){for(var vt=-1,Wt=Array(ut);++vt<ut;)Wt[vt]=Nt(vt);return Wt}function Ra(ut){return ut&&ut.slice(0,ze(ut)+1).replace(Qe,"")}function Wo(ut){return function(Nt){return ut(Nt)}}function Ms(ut,Nt){return hn(Nt,function(vt){return ut[vt]})}function Vs(ut,Nt){return ut.has(Nt)}function dl(ut,Nt){for(var vt=-1,Wt=ut.length;++vt<Wt&&mo(Nt,ut[vt],0)>-1;);return vt}function hl(ut,Nt){for(var vt=ut.length;vt--&&mo(Nt,ut[vt],0)>-1;);return vt}function rc(ut,Nt){for(var vt=ut.length,Wt=0;vt--;)ut[vt]===Nt&&++Wt;return Wt}var wa=Sl({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Va=Sl({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Gi(ut){return"\\"+go[ut]}function da(ut){return ea.test(ut)}function Gl(ut){var Nt=-1,vt=Array(ut.size);return ut.forEach(function(Wt,un){vt[++Nt]=[un,Wt]}),vt}function Ua(ut,Nt){return function(vt){return ut(Nt(vt))}}function fl(ut,Nt){for(var vt=-1,Wt=ut.length,un=0,mi=[];++vt<Wt;){var vi=ut[vt];(vi===Nt||vi===_e)&&(ut[vt]=_e,mi[un++]=vt)}return mi}function pl(ut){var Nt=-1,vt=Array(ut.size);return ut.forEach(function(Wt){vt[++Nt]=Wt}),vt}function Y(ut){return da(ut)?function(ut){for(var Nt=$r.lastIndex=0;$r.test(ut);)++Nt;return Nt}(ut):uo(ut)}function ke(ut){return da(ut)?function(ut){return ut.match($r)||[]}(ut):function(ut){return ut.split("")}(ut)}function ze(ut){for(var Nt=ut.length;Nt--&&Mt.test(ut.charAt(Nt)););return Nt}var tt=Sl({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function ut(Nt){var _,vt=(Nt=null==Nt?Nr:gn.defaults(Nr.Object(),Nt,gn.pick(Nr,Qi))).Array,Wt=Nt.Date,un=Nt.Error,mi=Nt.Function,vi=Nt.Math,yi=Nt.Object,Do=Nt.RegExp,Us=Nt.String,To=Nt.TypeError,eo=vt.prototype,si=yi.prototype,ws=Nt["__core-js_shared__"],Hi=mi.prototype.toString,Fi=si.hasOwnProperty,Zo=0,fa=(_=/[^.]+$/.exec(ws&&ws.keys&&ws.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",Rr=si.toString,Pn=Hi.call(yi),Kn=Nr._,ni=Do("^"+Hi.call(Fi).replace(Dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ei=us?Nt.Buffer:P,Zr=Nt.Symbol,_o=Nt.Uint8Array,ds=ei?ei.allocUnsafe:P,Ko=Ua(yi.getPrototypeOf,yi),Ar=yi.create,is=si.propertyIsEnumerable,rs=eo.splice,Ha=Zr?Zr.isConcatSpreadable:P,Ca=Zr?Zr.iterator:P,So=Zr?Zr.toStringTag:P,K=function(){try{var _=Lc(yi,"defineProperty");return _({},"",{}),_}catch(C){}}(),T=Nt.clearTimeout!==Nr.clearTimeout&&Nt.clearTimeout,M=Wt&&Wt.now!==Nr.Date.now&&Wt.now,J=Nt.setTimeout!==Nr.setTimeout&&Nt.setTimeout,ae=vi.ceil,qe=vi.floor,Un=yi.getOwnPropertySymbols,nr=ei?ei.isBuffer:P,Qt=Nt.isFinite,Dr=eo.join,gl=Ua(yi.keys,yi),ri=vi.max,En=vi.min,U=Wt.now,F=Nt.parseInt,B=vi.random,re=eo.reverse,ce=Lc(Nt,"DataView"),Re=Lc(Nt,"Map"),nt=Lc(Nt,"Promise"),ct=Lc(Nt,"Set"),Pt=Lc(Nt,"WeakMap"),xn=Lc(yi,"create"),fi=Pt&&new Pt,Yn={},sr=Vc(ce),On=Vc(Re),Il=Vc(nt),hs=Vc(ct),ia=Vc(Pt),to=Zr?Zr.prototype:P,cn=to?to.valueOf:P,fs=to?to.toString:P;function De(_){if(Ws(_)&&!ir(_)&&!(_ instanceof fr)){if(_ instanceof ka)return _;if(Fi.call(_,"__wrapped__"))return au(_)}return new ka(_)}var qa=function(){function _(){}return function(C){if(!Cs(C))return{};if(Ar)return Ar(C);_.prototype=C;var O=new _;return _.prototype=P,O}}();function Pl(){}function ka(_,C){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!C,this.__index__=0,this.__values__=P}function fr(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Xt,this.__views__=[]}function ai(_){var C=-1,O=null==_?0:_.length;for(this.clear();++C<O;){var ee=_[C];this.set(ee[0],ee[1])}}function sc(_){var C=-1,O=null==_?0:_.length;for(this.clear();++C<O;){var ee=_[C];this.set(ee[0],ee[1])}}function io(_){var C=-1,O=null==_?0:_.length;for(this.clear();++C<O;){var ee=_[C];this.set(ee[0],ee[1])}}function wu(_){var C=-1,O=null==_?0:_.length;for(this.__data__=new io;++C<O;)this.add(_[C])}function Ol(_){var C=this.__data__=new sc(_);this.size=C.size}function Jd(_,C){var O=ir(_),ee=!O&&bh(_),xe=!O&&!ee&&du(_),Ue=!O&&!ee&&!xe&&af(_),lt=O||ee||xe||Ue,Ct=lt?ul(_.length,Us):[],It=Ct.length;for(var on in _)(C||Fi.call(_,on))&&(!lt||!("length"==on||xe&&("offset"==on||"parent"==on)||Ue&&("buffer"==on||"byteLength"==on||"byteOffset"==on)||Oa(on,It)))&&Ct.push(on);return Ct}function kf(_){var C=_.length;return C?_[Da(0,C-1)]:P}function $p(_,C){return gc(Fn(_),_l(C,0,_.length))}function Af(_){return gc(Fn(_))}function Xd(_,C,O){(O!==P&&!_a(_[C],O)||O===P&&!(C in _))&&ml(_,C,O)}function Jc(_,C,O){var ee=_[C];(!Fi.call(_,C)||!_a(ee,O)||O===P&&!(C in _))&&ml(_,C,O)}function Dc(_,C){for(var O=_.length;O--;)if(_a(_[O][0],C))return O;return-1}function Xc(_,C,O,ee){return Ja(_,function(xe,Ue,lt){C(ee,xe,O(xe),lt)}),ee}function _d(_,C){return _&&La(C,ja(C),_)}function ml(_,C,O){"__proto__"==C&&K?K(_,C,{configurable:!0,enumerable:!0,value:O,writable:!0}):_[C]=O}function Nl(_,C){for(var O=-1,ee=C.length,xe=vt(ee),Ue=null==_;++O<ee;)xe[O]=Ue?P:kc(_,C[O]);return xe}function _l(_,C,O){return _==_&&(O!==P&&(_=_<=O?_:O),C!==P&&(_=_>=C?_:C)),_}function pa(_,C,O,ee,xe,Ue){var lt,Ct=1&C,It=2&C,on=4&C;if(O&&(lt=xe?O(_,ee,xe,Ue):O(_)),lt!==P)return lt;if(!Cs(_))return _;var ln=ir(_);if(ln){if(lt=function(_){var C=_.length,O=new _.constructor(C);return C&&"string"==typeof _[0]&&Fi.call(_,"index")&&(O.index=_.index,O.input=_.input),O}(_),!Ct)return Fn(_,lt)}else{var fn=nl(_),Hn=fn==Hr||fn==Ir;if(du(_))return sh(_,Ct);if(fn==Jn||fn==zn||Hn&&!xe){if(lt=It||Hn?{}:ru(_),!Ct)return It?function(_,C){return La(_,xd(_),C)}(_,function(_,C){return _&&La(C,El(C),_)}(lt,_)):function(_,C){return La(_,hp(_),C)}(_,_d(lt,_))}else{if(!cr[fn])return xe?_:{};lt=function(_,C,O){var ee=_.constructor;switch(C){case Vi:return ye(_);case xi:case Zi:return new ee(+_);case Vn:return function(_,C){var O=C?ye(_.buffer):_.buffer;return new _.constructor(O,_.byteOffset,_.byteLength)}(_,O);case Bn:case zr:case gi:case lr:case Oi:case Ni:case tr:case Ii:case mt:return _i(_,O);case Ln:case Ai:return new ee;case wn:case Vo:return new ee(_);case Mi:return function(_){var C=new _.constructor(_.source,as.exec(_));return C.lastIndex=_.lastIndex,C}(_);case Sn:return function(_){return cn?yi(cn.call(_)):{}}(_)}}(_,fn,Ct)}}Ue||(Ue=new Ol);var li=Ue.get(_);if(li)return li;Ue.set(_,lt),Gf(_)?_.forEach(function(ji){lt.add(pa(ji,C,O,ji,_,Ue))}):t_(_)&&_.forEach(function(ji,jr){lt.set(jr,pa(ji,C,O,jr,_,Ue))});var ar=ln?P:(on?It?Pf:Gh:It?El:ja)(_);return z(ar||_,function(ji,jr){ar&&(ji=_[jr=ji]),Jc(lt,jr,pa(ji,C,O,jr,_,Ue))}),lt}function eh(_,C,O){var ee=O.length;if(null==_)return!ee;for(_=yi(_);ee--;){var xe=O[ee],lt=_[xe];if(lt===P&&!(xe in _)||!(0,C[xe])(lt))return!1}return!0}function Hu(_,C,O){if("function"!=typeof _)throw new To(he);return Mu(function(){_.apply(P,O)},C)}function qu(_,C,O,ee){var xe=-1,Ue=kt,lt=!0,Ct=_.length,It=[],on=C.length;if(!Ct)return It;O&&(C=hn(C,Wo(O))),ee?(Ue=Yt,lt=!1):C.length>=200&&(Ue=Vs,lt=!1,C=new wu(C));e:for(;++xe<Ct;){var ln=_[xe],fn=null==O?ln:O(ln);if(ln=ee||0!==ln?ln:0,lt&&fn==fn){for(var Hn=on;Hn--;)if(C[Hn]===fn)continue e;It.push(ln)}else Ue(C,fn,ee)||It.push(ln)}return It}De.templateSettings={escape:In,evaluate:Ei,interpolate:Ui,variable:"",imports:{_:De}},(De.prototype=Pl.prototype).constructor=De,(ka.prototype=qa(Pl.prototype)).constructor=ka,(fr.prototype=qa(Pl.prototype)).constructor=fr,ai.prototype.clear=function(){this.__data__=xn?xn(null):{},this.size=0},ai.prototype.delete=function(_){var C=this.has(_)&&delete this.__data__[_];return this.size-=C?1:0,C},ai.prototype.get=function(_){var C=this.__data__;if(xn){var O=C[_];return O===Z?P:O}return Fi.call(C,_)?C[_]:P},ai.prototype.has=function(_){var C=this.__data__;return xn?C[_]!==P:Fi.call(C,_)},ai.prototype.set=function(_,C){var O=this.__data__;return this.size+=this.has(_)?0:1,O[_]=xn&&C===P?Z:C,this},sc.prototype.clear=function(){this.__data__=[],this.size=0},sc.prototype.delete=function(_){var C=this.__data__,O=Dc(C,_);return!(O<0||(O==C.length-1?C.pop():rs.call(C,O,1),--this.size,0))},sc.prototype.get=function(_){var C=this.__data__,O=Dc(C,_);return O<0?P:C[O][1]},sc.prototype.has=function(_){return Dc(this.__data__,_)>-1},sc.prototype.set=function(_,C){var O=this.__data__,ee=Dc(O,_);return ee<0?(++this.size,O.push([_,C])):O[ee][1]=C,this},io.prototype.clear=function(){this.size=0,this.__data__={hash:new ai,map:new(Re||sc),string:new ai}},io.prototype.delete=function(_){var C=Xu(this,_).delete(_);return this.size-=C?1:0,C},io.prototype.get=function(_){return Xu(this,_).get(_)},io.prototype.has=function(_){return Xu(this,_).has(_)},io.prototype.set=function(_,C){var O=Xu(this,_),ee=O.size;return O.set(_,C),this.size+=O.size==ee?0:1,this},wu.prototype.add=wu.prototype.push=function(_){return this.__data__.set(_,Z),this},wu.prototype.has=function(_){return this.__data__.has(_)},Ol.prototype.clear=function(){this.__data__=new sc,this.size=0},Ol.prototype.delete=function(_){var C=this.__data__,O=C.delete(_);return this.size=C.size,O},Ol.prototype.get=function(_){return this.__data__.get(_)},Ol.prototype.has=function(_){return this.__data__.has(_)},Ol.prototype.set=function(_,C){var O=this.__data__;if(O instanceof sc){var ee=O.__data__;if(!Re||ee.length<199)return ee.push([_,C]),this.size=++O.size,this;O=this.__data__=new io(ee)}return O.set(_,C),this.size=O.size,this};var Ja=Cd(eu),Cu=Cd(Lh,!0);function Ea(_,C){var O=!0;return Ja(_,function(ee,xe,Ue){return O=!!C(ee,xe,Ue)}),O}function qs(_,C,O){for(var ee=-1,xe=_.length;++ee<xe;){var Ue=_[ee],lt=C(Ue);if(null!=lt&&(Ct===P?lt==lt&&!xl(lt):O(lt,Ct)))var Ct=lt,It=Ue}return It}function sp(_,C){var O=[];return Ja(_,function(ee,xe,Ue){C(ee,xe,Ue)&&O.push(ee)}),O}function Gs(_,C,O,ee,xe){var Ue=-1,lt=_.length;for(O||(O=Io),xe||(xe=[]);++Ue<lt;){var Ct=_[Ue];C>0&&O(Ct)?C>1?Gs(Ct,C-1,O,ee,xe):Xn(xe,Ct):ee||(xe[xe.length]=Ct)}return xe}var ac=Yl(),Fh=Yl(!0);function eu(_,C){return _&&ac(_,C,ja)}function Lh(_,C){return _&&Fh(_,C,ja)}function tu(_,C){return Ce(C,function(O){return fu(_[O])})}function bl(_,C){for(var O=0,ee=(C=Bo(C,_)).length;null!=_&&O<ee;)_=_[ec(C[O++])];return O&&O==ee?_:P}function $u(_,C,O){var ee=C(_);return ir(_)?ee:Xn(ee,O(_))}function Ts(_){return null==_?_===P?"[object Undefined]":"[object Null]":So&&So in yi(_)?function(_){var C=Fi.call(_,So),O=_[So];try{_[So]=P;var ee=!0}catch(Ue){}var xe=Rr.call(_);return ee&&(C?_[So]=O:delete _[So]),xe}(_):function(_){return Rr.call(_)}(_)}function Bh(_,C){return _>C}function xf(_,C){return null!=_&&Fi.call(_,C)}function ku(_,C){return null!=_&&C in yi(_)}function Wu(_,C,O){for(var ee=O?Yt:kt,xe=_[0].length,Ue=_.length,lt=Ue,Ct=vt(Ue),It=1/0,on=[];lt--;){var ln=_[lt];lt&&C&&(ln=hn(ln,Wo(C))),It=En(ln.length,It),Ct[lt]=!O&&(C||xe>=120&&ln.length>=120)?new wu(lt&&ln):P}ln=_[0];var fn=-1,Hn=Ct[0];e:for(;++fn<xe&&on.length<It;){var li=ln[fn],Qn=C?C(li):li;if(li=O||0!==li?li:0,!(Hn?Vs(Hn,Qn):ee(on,Qn,O))){for(lt=Ue;--lt;){var ar=Ct[lt];if(!(ar?Vs(ar,Qn):ee(_[lt],Qn,O)))continue e}Hn&&Hn.push(Qn),on.push(li)}}return on}function Ma(_,C,O){var ee=null==(_=Jl(_,C=Bo(C,_)))?_:_[ec(wl(C))];return null==ee?P:ve(ee,_,O)}function Rl(_){return Ws(_)&&Ts(_)==zn}function Zl(_,C,O,ee,xe){return _===C||(null==_||null==C||!Ws(_)&&!Ws(C)?_!=_&&C!=C:function(_,C,O,ee,xe,Ue){var lt=ir(_),Ct=ir(C),It=lt?oi:nl(_),on=Ct?oi:nl(C),ln=(It=It==zn?Jn:It)==Jn,fn=(on=on==zn?Jn:on)==Jn,Hn=It==on;if(Hn&&du(_)){if(!du(C))return!1;lt=!0,ln=!1}if(Hn&&!ln)return Ue||(Ue=new Ol),lt||af(_)?kd(_,C,O,ee,xe,Ue):function(_,C,O,ee,xe,Ue,lt){switch(O){case Vn:if(_.byteLength!=C.byteLength||_.byteOffset!=C.byteOffset)return!1;_=_.buffer,C=C.buffer;case Vi:return!(_.byteLength!=C.byteLength||!Ue(new _o(_),new _o(C)));case xi:case Zi:case wn:return _a(+_,+C);case Tn:return _.name==C.name&&_.message==C.message;case Mi:case Vo:return _==C+"";case Ln:var Ct=Gl;case Ai:if(Ct||(Ct=pl),_.size!=C.size&&!(1&ee))return!1;var on=lt.get(_);if(on)return on==C;ee|=2,lt.set(_,C);var ln=kd(Ct(_),Ct(C),ee,xe,Ue,lt);return lt.delete(_),ln;case Sn:if(cn)return cn.call(_)==cn.call(C)}return!1}(_,C,It,O,ee,xe,Ue);if(!(1&O)){var li=ln&&Fi.call(_,"__wrapped__"),Qn=fn&&Fi.call(C,"__wrapped__");if(li||Qn){var ar=li?_.value():_,ji=Qn?C.value():C;return Ue||(Ue=new Ol),xe(ar,ji,O,ee,Ue)}}return!!Hn&&(Ue||(Ue=new Ol),function(_,C,O,ee,xe,Ue){var lt=1&O,Ct=Gh(_),It=Ct.length;if(It!=Gh(C).length&&!lt)return!1;for(var fn=It;fn--;){var Hn=Ct[fn];if(!(lt?Hn in C:Fi.call(C,Hn)))return!1}var li=Ue.get(_),Qn=Ue.get(C);if(li&&Qn)return li==C&&Qn==_;var ar=!0;Ue.set(_,C),Ue.set(C,_);for(var ji=lt;++fn<It;){var jr=_[Hn=Ct[fn]],yr=C[Hn];if(ee)var Ul=lt?ee(yr,jr,Hn,C,_,Ue):ee(jr,yr,Hn,_,C,Ue);if(!(Ul===P?jr===yr||xe(jr,yr,O,ee,Ue):Ul)){ar=!1;break}ji||(ji="constructor"==Hn)}if(ar&&!ji){var s=_.constructor,i=C.constructor;s!=i&&"constructor"in _&&"constructor"in C&&!("function"==typeof s&&s instanceof s&&"function"==typeof i&&i instanceof i)&&(ar=!1)}return Ue.delete(_),Ue.delete(C),ar}(_,C,O,ee,xe,Ue))}(_,C,O,ee,Zl,xe))}function lc(_,C,O,ee){var xe=O.length,Ue=xe,lt=!ee;if(null==_)return!Ue;for(_=yi(_);xe--;){var Ct=O[xe];if(lt&&Ct[2]?Ct[1]!==_[Ct[0]]:!(Ct[0]in _))return!1}for(;++xe<Ue;){var It=(Ct=O[xe])[0],on=_[It],ln=Ct[1];if(lt&&Ct[2]){if(on===P&&!(It in _))return!1}else{var fn=new Ol;if(ee)var Hn=ee(on,ln,It,_,C,fn);if(!(Hn===P?Zl(ln,on,3,ee,fn):Hn))return!1}}return!0}function kn(_){return!(!Cs(_)||function(_){return!!fa&&fa in _}(_))&&(fu(_)?ni:dn).test(Vc(_))}function Zu(_){return"function"==typeof _?_:null==_?Ks:"object"==typeof _?ir(_)?yd(_[0],_[1]):cc(_):dd(_)}function vl(_){if(!jc(_))return gl(_);var C=[];for(var O in yi(_))Fi.call(_,O)&&"constructor"!=O&&C.push(O);return C}function Kl(_,C){return _<C}function vd(_,C){var O=-1,ee=rl(_)?vt(_.length):[];return Ja(_,function(xe,Ue,lt){ee[++O]=C(xe,Ue,lt)}),ee}function cc(_){var C=Zp(_);return 1==C.length&&C[0][2]?pp(C[0][0],C[0][1]):function(O){return O===_||lc(O,_,C)}}function yd(_,C){return sn(_)&&Ut(C)?pp(ec(_),C):function(O){var ee=kc(O,_);return ee===P&&ee===C?ol(O,_):Zl(C,ee,3)}}function Yo(_,C,O,ee,xe){_!==C&&ac(C,function(Ue,lt){if(xe||(xe=new Ol),Cs(Ue))!function(_,C,O,ee,xe,Ue,lt){var Ct=zc(_,O),It=zc(C,O),on=lt.get(It);if(on)Xd(_,O,on);else{var ln=Ue?Ue(Ct,It,O+"",_,C,lt):P,fn=ln===P;if(fn){var Hn=ir(It),li=!Hn&&du(It),Qn=!Hn&&!li&&af(It);ln=It,Hn||li||Qn?ir(Ct)?ln=Ct:gs(Ct)?ln=Fn(Ct):li?(fn=!1,ln=sh(It,!0)):Qn?(fn=!1,ln=_i(It,!0)):ln=[]:pu(It)||bh(It)?(ln=Ct,bh(Ct)?ln=lf(Ct):(!Cs(Ct)||fu(Ct))&&(ln=ru(It))):fn=!1}fn&&(lt.set(It,ln),xe(ln,It,ee,Ue,lt),lt.delete(It)),Xd(_,O,ln)}}(_,C,lt,O,Yo,ee,xe);else{var Ct=ee?ee(zc(_,lt),Ue,lt+"",_,C,xe):P;Ct===P&&(Ct=Ue),Xd(_,lt,Ct)}},El)}function Ll(_,C){var O=_.length;if(O)return Oa(C+=C<0?O:0,O)?_[C]:P}function Pc(_,C,O){C=C.length?hn(C,function(Ue){return ir(Ue)?function(lt){return bl(lt,1===Ue.length?Ue[0]:Ue)}:Ue}):[Ks];var ee=-1;return C=hn(C,Wo(Ti())),function(ut,Nt){var vt=ut.length;for(ut.sort(function(Ue,lt){return function(_,C,O){for(var ee=-1,xe=_.criteria,Ue=C.criteria,lt=xe.length,Ct=O.length;++ee<lt;){var It=wi(xe[ee],Ue[ee]);if(It)return ee>=Ct?It:It*("desc"==O[ee]?-1:1)}return _.index-C.index}(Ue,lt,O)});vt--;)ut[vt]=ut[vt].value;return ut}(vd(_,function(Ue,lt,Ct){return{criteria:hn(C,function(on){return on(Ue)}),index:++ee,value:Ue}}))}function th(_,C,O){for(var ee=-1,xe=C.length,Ue={};++ee<xe;){var lt=C[ee],Ct=bl(_,lt);O(Ct,lt)&&Yu(Ue,Bo(lt,_),Ct)}return Ue}function ps(_,C,O,ee){var xe=ee?Tl:mo,Ue=-1,lt=C.length,Ct=_;for(_===C&&(C=Fn(C)),O&&(Ct=hn(_,Wo(O)));++Ue<lt;)for(var It=0,on=C[Ue],ln=O?O(on):on;(It=xe(Ct,ln,It,ee))>-1;)Ct!==_&&rs.call(Ct,It,1),rs.call(_,It,1);return _}function nh(_,C){for(var O=_?C.length:0,ee=O-1;O--;){var xe=C[O];if(O==ee||xe!==Ue){var Ue=xe;Oa(xe)?rs.call(_,xe,1):uc(_,xe)}}return _}function Da(_,C){return _+qe(B()*(C-_+1))}function ih(_,C){var O="";if(!_||C<1||C>at)return O;do{C%2&&(O+=_),(C=qe(C/2))&&(_+=_)}while(C);return O}function Xi(_,C){return pc(Ed(_,C,Ks),_+"")}function Bl(_){return kf(Fu(_))}function Tf(_,C){var O=Fu(_);return gc(O,_l(C,0,O.length))}function Yu(_,C,O,ee){if(!Cs(_))return _;for(var xe=-1,Ue=(C=Bo(C,_)).length,lt=Ue-1,Ct=_;null!=Ct&&++xe<Ue;){var It=ec(C[xe]),on=O;if("__proto__"===It||"constructor"===It||"prototype"===It)return _;if(xe!=lt){var ln=Ct[It];(on=ee?ee(ln,It,Ct):P)===P&&(on=Cs(ln)?ln:Oa(C[xe+1])?[]:{})}Jc(Ct,It,on),Ct=Ct[It]}return _}var jh=fi?function(_,C){return fi.set(_,C),_}:Ks,rh=K?function(_,C){return K(_,"toString",{configurable:!0,enumerable:!1,value:ld(C),writable:!0})}:Ks;function ap(_){return gc(Fu(_))}function gr(_,C,O){var ee=-1,xe=_.length;C<0&&(C=-C>xe?0:xe+C),(O=O>xe?xe:O)<0&&(O+=xe),xe=C>O?0:O-C>>>0,C>>>=0;for(var Ue=vt(xe);++ee<xe;)Ue[ee]=_[ee+C];return Ue}function lp(_,C){var O;return Ja(_,function(ee,xe,Ue){return!(O=C(ee,xe,Ue))}),!!O}function nu(_,C,O){var ee=0,xe=null==_?ee:_.length;if("number"==typeof C&&C==C&&xe<=2147483647){for(;ee<xe;){var Ue=ee+xe>>>1,lt=_[Ue];null!==lt&&!xl(lt)&&(O?lt<=C:lt<C)?ee=Ue+1:xe=Ue}return xe}return Au(_,C,Ks,O)}function Au(_,C,O,ee){var xe=0,Ue=null==_?0:_.length;if(0===Ue)return 0;for(var lt=(C=O(C))!=C,Ct=null===C,It=xl(C),on=C===P;xe<Ue;){var ln=qe((xe+Ue)/2),fn=O(_[ln]),Hn=fn!==P,li=null===fn,Qn=fn==fn,ar=xl(fn);if(lt)var ji=ee||Qn;else ji=on?Qn&&(ee||Hn):Ct?Qn&&Hn&&(ee||!li):It?Qn&&Hn&&!li&&(ee||!ar):!li&&!ar&&(ee?fn<=C:fn<C);ji?xe=ln+1:Ue=ln}return En(Ue,4294967294)}function wd(_,C){for(var O=-1,ee=_.length,xe=0,Ue=[];++O<ee;){var lt=_[O],Ct=C?C(lt):lt;if(!O||!_a(Ct,It)){var It=Ct;Ue[xe++]=0===lt?0:lt}}return Ue}function Oc(_){return"number"==typeof _?_:xl(_)?NaN:+_}function Ga(_){if("string"==typeof _)return _;if(ir(_))return hn(_,Ga)+"";if(xl(_))return fs?fs.call(_):"";var C=_+"";return"0"==C&&1/_==-$e?"-0":C}function Ta(_,C,O){var ee=-1,xe=kt,Ue=_.length,lt=!0,Ct=[],It=Ct;if(O)lt=!1,xe=Yt;else if(Ue>=200){var on=C?null:im(_);if(on)return pl(on);lt=!1,xe=Vs,It=new wu}else It=C?[]:Ct;e:for(;++ee<Ue;){var ln=_[ee],fn=C?C(ln):ln;if(ln=O||0!==ln?ln:0,lt&&fn==fn){for(var Hn=It.length;Hn--;)if(It[Hn]===fn)continue e;C&&It.push(fn),Ct.push(ln)}else xe(It,fn,O)||(It!==Ct&&It.push(fn),Ct.push(ln))}return Ct}function uc(_,C){return null==(_=Jl(_,C=Bo(C,_)))||delete _[ec(wl(C))]}function Xa(_,C,O,ee){return Yu(_,C,O(bl(_,C)),ee)}function Nc(_,C,O,ee){for(var xe=_.length,Ue=ee?xe:-1;(ee?Ue--:++Ue<xe)&&C(_[Ue],Ue,_););return O?gr(_,ee?0:Ue,ee?Ue+1:xe):gr(_,ee?Ue+1:0,ee?xe:Ue)}function oh(_,C){var O=_;return O instanceof fr&&(O=O.value()),ii(C,function(ee,xe){return xe.func.apply(xe.thisArg,Xn([ee],xe.args))},O)}function Sf(_,C,O){var ee=_.length;if(ee<2)return ee?Ta(_[0]):[];for(var xe=-1,Ue=vt(ee);++xe<ee;)for(var lt=_[xe],Ct=-1;++Ct<ee;)Ct!=xe&&(Ue[xe]=qu(Ue[xe]||lt,_[Ct],C,O));return Ta(Gs(Ue,1),C,O)}function cp(_,C,O){for(var ee=-1,xe=_.length,Ue=C.length,lt={};++ee<xe;)O(lt,_[ee],ee<Ue?C[ee]:P);return lt}function up(_){return gs(_)?_:[]}function iu(_){return"function"==typeof _?_:Ks}function Bo(_,C){return ir(_)?_:sn(_,C)?[_]:Xl(ro(_))}var zh=Xi;function jo(_,C,O){var ee=_.length;return O=O===P?ee:O,!C&&O>=ee?_:gr(_,C,O)}var If=T||function(_){return Nr.clearTimeout(_)};function sh(_,C){if(C)return _.slice();var O=_.length,ee=ds?ds(O):new _.constructor(O);return _.copy(ee),ee}function ye(_){var C=new _.constructor(_.byteLength);return new _o(C).set(new _o(_)),C}function _i(_,C){var O=C?ye(_.buffer):_.buffer;return new _.constructor(O,_.byteOffset,_.length)}function wi(_,C){if(_!==C){var O=_!==P,ee=null===_,xe=_==_,Ue=xl(_),lt=C!==P,Ct=null===C,It=C==C,on=xl(C);if(!Ct&&!on&&!Ue&&_>C||Ue&&lt&&It&&!Ct&&!on||ee&&lt&&It||!O&&It||!xe)return 1;if(!ee&&!Ue&&!on&&_<C||on&&O&&xe&&!ee&&!Ue||Ct&&O&&xe||!lt&&xe||!It)return-1}return 0}function Pi(_,C,O,ee){for(var xe=-1,Ue=_.length,lt=O.length,Ct=-1,It=C.length,on=ri(Ue-lt,0),ln=vt(It+on),fn=!ee;++Ct<It;)ln[Ct]=C[Ct];for(;++xe<lt;)(fn||xe<Ue)&&(ln[O[xe]]=_[xe]);for(;on--;)ln[Ct++]=_[xe++];return ln}function Kr(_,C,O,ee){for(var xe=-1,Ue=_.length,lt=-1,Ct=O.length,It=-1,on=C.length,ln=ri(Ue-Ct,0),fn=vt(ln+on),Hn=!ee;++xe<ln;)fn[xe]=_[xe];for(var li=xe;++It<on;)fn[li+It]=C[It];for(;++lt<Ct;)(Hn||xe<Ue)&&(fn[li+O[lt]]=_[xe++]);return fn}function Fn(_,C){var O=-1,ee=_.length;for(C||(C=vt(ee));++O<ee;)C[O]=_[O];return C}function La(_,C,O,ee){var xe=!O;O||(O={});for(var Ue=-1,lt=C.length;++Ue<lt;){var Ct=C[Ue],It=ee?ee(O[Ct],_[Ct],Ct,O,_):P;It===P&&(It=_[Ct]),xe?ml(O,Ct,It):Jc(O,Ct,It)}return O}function dc(_,C){return function(O,ee){var xe=ir(O)?Ge:Xc,Ue=C?C():{};return xe(O,_,Ti(ee,2),Ue)}}function hc(_){return Xi(function(C,O){var ee=-1,xe=O.length,Ue=xe>1?O[xe-1]:P,lt=xe>2?O[2]:P;for(Ue=_.length>3&&"function"==typeof Ue?(xe--,Ue):P,lt&&ra(O[0],O[1],lt)&&(Ue=xe<3?P:Ue,xe=1),C=yi(C);++ee<xe;){var Ct=O[ee];Ct&&_(C,Ct,ee,Ue)}return C})}function Cd(_,C){return function(O,ee){if(null==O)return O;if(!rl(O))return _(O,ee);for(var xe=O.length,Ue=C?xe:-1,lt=yi(O);(C?Ue--:++Ue<xe)&&!1!==ee(lt[Ue],Ue,lt););return O}}function Yl(_){return function(C,O,ee){for(var xe=-1,Ue=yi(C),lt=ee(C),Ct=lt.length;Ct--;){var It=lt[_?Ct:++xe];if(!1===O(Ue[It],It,Ue))break}return C}}function xu(_){return function(C){var O=da(C=ro(C))?ke(C):P,ee=O?O[0]:C.charAt(0),xe=O?jo(O,1).join(""):C.slice(1);return ee[_]()+xe}}function Rc(_){return function(C){return ii(pf(r_(C).replace(Qa,"")),_,"")}}function Vh(_){return function(){var C=arguments;switch(C.length){case 0:return new _;case 1:return new _(C[0]);case 2:return new _(C[0],C[1]);case 3:return new _(C[0],C[1],C[2]);case 4:return new _(C[0],C[1],C[2],C[3]);case 5:return new _(C[0],C[1],C[2],C[3],C[4]);case 6:return new _(C[0],C[1],C[2],C[3],C[4],C[5]);case 7:return new _(C[0],C[1],C[2],C[3],C[4],C[5],C[6])}var O=qa(_.prototype),ee=_.apply(O,C);return Cs(ee)?ee:O}}function Ur(_){return function(C,O,ee){var xe=yi(C);if(!rl(C)){var Ue=Ti(O,3);C=ja(C),O=function(Ct){return Ue(xe[Ct],Ct,xe)}}var lt=_(C,O,ee);return lt>-1?xe[Ue?C[lt]:lt]:P}}function jl(_){return tl(function(C){var O=C.length,ee=O,xe=ka.prototype.thru;for(_&&C.reverse();ee--;){var Ue=C[ee];if("function"!=typeof Ue)throw new To(he);if(xe&&!lt&&"wrapper"==Pa(Ue))var lt=new ka([],!0)}for(ee=lt?ee:O;++ee<O;){var Ct=Pa(Ue=C[ee]),It="wrapper"==Ct?Ad(Ue):P;lt=It&&su(It[0])&&424==It[1]&&!It[4].length&&1==It[9]?lt[Pa(It[0])].apply(lt,It[3]):1==Ue.length&&su(Ue)?lt[Ct]():lt.thru(Ue)}return function(){var on=arguments,ln=on[0];if(lt&&1==on.length&&ir(ln))return lt.plant(ln).value();for(var fn=0,Hn=O?C[fn].apply(this,on):ln;++fn<O;)Hn=C[fn].call(this,Hn);return Hn}})}function ga(_,C,O,ee,xe,Ue,lt,Ct,It,on){var ln=128&C,fn=1&C,Hn=2&C,li=24&C,Qn=512&C,ar=Hn?P:Vh(_);return function ji(){for(var jr=arguments.length,yr=vt(jr),Ul=jr;Ul--;)yr[Ul]=arguments[Ul];if(li)var s=vn(ji),i=rc(yr,s);if(ee&&(yr=Pi(yr,ee,xe,li)),Ue&&(yr=Kr(yr,Ue,lt,li)),jr-=i,li&&jr<on){var c=fl(yr,s);return el(_,C,ga,ji.placeholder,O,yr,c,Ct,It,on-jr)}var p=fn?O:this,b=Hn?p[_]:_;return jr=yr.length,Ct?yr=mp(yr,Ct):Qn&&jr>1&&yr.reverse(),ln&&It<jr&&(yr.length=It),this&&this!==Nr&&this instanceof ji&&(b=ar||Vh(b)),b.apply(p,yr)}}function Uh(_,C){return function(O,ee){return function(_,C,O,ee){return eu(_,function(xe,Ue,lt){C(ee,O(xe),Ue,lt)}),ee}(O,_,C(ee),{})}}function Ss(_,C){return function(O,ee){var xe;if(O===P&&ee===P)return C;if(O!==P&&(xe=O),ee!==P){if(xe===P)return ee;"string"==typeof O||"string"==typeof ee?(O=Ga(O),ee=Ga(ee)):(O=Oc(O),ee=Oc(ee)),xe=_(O,ee)}return xe}}function zl(_){return tl(function(C){return C=hn(C,Wo(Ti())),Xi(function(O){var ee=this;return _(C,function(xe){return ve(xe,ee,O)})})})}function Hh(_,C){var O=(C=C===P?" ":Ga(C)).length;if(O<2)return O?ih(C,_):C;var ee=ih(C,ae(_/Y(C)));return da(C)?jo(ke(ee),0,_).join(""):ee.slice(0,_)}function Fc(_){return function(C,O,ee){return ee&&"number"!=typeof ee&&ra(C,O,ee)&&(O=ee=P),C=Cc(C),O===P?(O=C,C=0):O=Cc(O),function(_,C,O,ee){for(var xe=-1,Ue=ri(ae((C-_)/(O||1)),0),lt=vt(Ue);Ue--;)lt[ee?Ue:++xe]=_,_+=O;return lt}(C,O,ee=ee===P?C<O?1:-1:Cc(ee),_)}}function zo(_){return function(C,O){return"string"==typeof C&&"string"==typeof O||(C=la(C),O=la(O)),_(C,O)}}function el(_,C,O,ee,xe,Ue,lt,Ct,It,on){var ln=8&C;C|=ln?32:64,4&(C&=~(ln?64:32))||(C&=-4);var ar=[_,C,xe,ln?Ue:P,ln?lt:P,ln?P:Ue,ln?P:lt,Ct,It,on],ji=O.apply(P,ar);return su(_)&&$h(ji,ar),ji.placeholder=ee,Yp(ji,_,C)}function dp(_){var C=vi[_];return function(O,ee){if(O=la(O),(ee=null==ee?0:En(rr(ee),292))&&Qt(O)){var xe=(ro(O)+"e").split("e");return+((xe=(ro(C(xe[0]+"e"+(+xe[1]+ee)))+"e").split("e"))[0]+"e"+(+xe[1]-ee))}return C(O)}}var im=ct&&1/pl(new ct([,-0]))[1]==$e?function(_){return new ct(_)}:cd;function Is(_){return function(C){var O=nl(C);return O==Ln?Gl(C):O==Ai?function(ut){var Nt=-1,vt=Array(ut.size);return ut.forEach(function(Wt){vt[++Nt]=[Wt,Wt]}),vt}(C):function(ut,Nt){return hn(Nt,function(vt){return[vt,ut[vt]]})}(C,_(C))}}function Wa(_,C,O,ee,xe,Ue,lt,Ct){var It=2&C;if(!It&&"function"!=typeof _)throw new To(he);var on=ee?ee.length:0;if(on||(C&=-97,ee=xe=P),lt=lt===P?lt:ri(rr(lt),0),Ct=Ct===P?Ct:rr(Ct),on-=xe?xe.length:0,64&C){var ln=ee,fn=xe;ee=xe=P}var Hn=It?P:Ad(_),li=[_,C,O,ee,xe,ln,fn,Ue,lt,Ct];if(Hn&&function(_,C){var O=_[1],ee=C[1],xe=O|ee;if(!(xe<131||(128==ee&&8==O||128==ee&&256==O&&_[7].length<=C[8]||384==ee&&C[7].length<=C[8]&&8==O)))return _;1&ee&&(_[2]=C[2],xe|=1&O?0:4);var Ct=C[3];if(Ct){var It=_[3];_[3]=It?Pi(It,Ct,C[4]):Ct,_[4]=It?fl(_[3],_e):C[4]}(Ct=C[5])&&(_[5]=(It=_[5])?Kr(It,Ct,C[6]):Ct,_[6]=It?fl(_[5],_e):C[6]),(Ct=C[7])&&(_[7]=Ct),128&ee&&(_[8]=null==_[8]?C[8]:En(_[8],C[8])),null==_[9]&&(_[9]=C[9]),_[0]=C[0],_[1]=xe}(li,Hn),_=li[0],C=li[1],O=li[2],ee=li[3],xe=li[4],!(Ct=li[9]=li[9]===P?It?0:_.length:ri(li[9]-on,0))&&24&C&&(C&=-25),C&&1!=C)Qn=8==C||16==C?function(_,C,O){var ee=Vh(_);return function xe(){for(var Ue=arguments.length,lt=vt(Ue),Ct=Ue,It=vn(xe);Ct--;)lt[Ct]=arguments[Ct];var on=Ue<3&&lt[0]!==It&&lt[Ue-1]!==It?[]:fl(lt,It);return(Ue-=on.length)<O?el(_,C,ga,xe.placeholder,P,lt,on,P,P,O-Ue):ve(this&&this!==Nr&&this instanceof xe?ee:_,this,lt)}}(_,C,Ct):32!=C&&33!=C||xe.length?ga.apply(P,li):function(_,C,O,ee){var xe=1&C,Ue=Vh(_);return function lt(){for(var Ct=-1,It=arguments.length,on=-1,ln=ee.length,fn=vt(ln+It),Hn=this&&this!==Nr&&this instanceof lt?Ue:_;++on<ln;)fn[on]=ee[on];for(;It--;)fn[on++]=arguments[++Ct];return ve(Hn,xe?O:this,fn)}}(_,C,O,ee);else var Qn=function(_,C,O){var ee=1&C,xe=Vh(_);return function Ue(){return(this&&this!==Nr&&this instanceof Ue?xe:_).apply(ee?O:this,arguments)}}(_,C,O);return Yp((Hn?jh:$h)(Qn,li),_,C)}function yl(_,C,O,ee){return _===P||_a(_,si[O])&&!Fi.call(ee,O)?C:_}function Ia(_,C,O,ee,xe,Ue){return Cs(_)&&Cs(C)&&(Ue.set(C,_),Yo(_,C,P,Ia,Ue),Ue.delete(C)),_}function Vl(_){return pu(_)?P:_}function kd(_,C,O,ee,xe,Ue){var lt=1&O,Ct=_.length,It=C.length;if(Ct!=It&&!(lt&&It>Ct))return!1;var on=Ue.get(_),ln=Ue.get(C);if(on&&ln)return on==C&&ln==_;var fn=-1,Hn=!0,li=2&O?new wu:P;for(Ue.set(_,C),Ue.set(C,_);++fn<Ct;){var Qn=_[fn],ar=C[fn];if(ee)var ji=lt?ee(ar,Qn,fn,C,_,Ue):ee(Qn,ar,fn,_,C,Ue);if(ji!==P){if(ji)continue;Hn=!1;break}if(li){if(!br(C,function(jr,yr){if(!Vs(li,yr)&&(Qn===jr||xe(Qn,jr,O,ee,Ue)))return li.push(yr)})){Hn=!1;break}}else if(Qn!==ar&&!xe(Qn,ar,O,ee,Ue)){Hn=!1;break}}return Ue.delete(_),Ue.delete(C),Hn}function tl(_){return pc(Ed(_,P,Uc),_+"")}function Gh(_){return $u(_,ja,hp)}function Pf(_){return $u(_,El,xd)}var Ad=fi?function(_){return fi.get(_)}:cd;function Pa(_){for(var C=_.name+"",O=Yn[C],ee=Fi.call(Yn,C)?O.length:0;ee--;){var xe=O[ee],Ue=xe.func;if(null==Ue||Ue==_)return xe.name}return C}function vn(_){return(Fi.call(De,"placeholder")?De:_).placeholder}function Ti(){var _=De.iteratee||Zc;return _=_===Zc?Zu:_,arguments.length?_(arguments[0],arguments[1]):_}function Xu(_,C){var O=_.__data__;return function(_){var C=typeof _;return"string"==C||"number"==C||"symbol"==C||"boolean"==C?"__proto__"!==_:null===_}(C)?O["string"==typeof C?"string":"hash"]:O.map}function Zp(_){for(var C=ja(_),O=C.length;O--;){var ee=C[O],xe=_[ee];C[O]=[ee,xe,Ut(xe)]}return C}function Lc(_,C){var O=function(ut,Nt){return null==ut?P:ut[Nt]}(_,C);return kn(O)?O:P}var hp=Un?function(_){return null==_?[]:(_=yi(_),Ce(Un(_),function(C){return is.call(_,C)}))}:zu,xd=Un?function(_){for(var C=[];_;)Xn(C,hp(_)),_=Ko(_);return C}:zu,nl=Ts;function $s(_,C,O){for(var ee=-1,xe=(C=Bo(C,_)).length,Ue=!1;++ee<xe;){var lt=ec(C[ee]);if(!(Ue=null!=_&&O(_,lt)))break;_=_[lt]}return Ue||++ee!=xe?Ue:!!(xe=null==_?0:_.length)&&Fd(xe)&&Oa(lt,xe)&&(ir(_)||bh(_))}function ru(_){return"function"!=typeof _.constructor||jc(_)?{}:qa(Ko(_))}function Io(_){return ir(_)||bh(_)||!!(Ha&&_&&_[Ha])}function Oa(_,C){var O=typeof _;return!!(C=null==C?at:C)&&("number"==O||"symbol"!=O&&ui.test(_))&&_>-1&&_%1==0&&_<C}function ra(_,C,O){if(!Cs(O))return!1;var ee=typeof C;return!!("number"==ee?rl(O)&&Oa(C,O.length):"string"==ee&&C in O)&&_a(O[C],_)}function sn(_,C){if(ir(_))return!1;var O=typeof _;return!("number"!=O&&"symbol"!=O&&"boolean"!=O&&null!=_&&!xl(_))||Qr.test(_)||!Fr.test(_)||null!=C&&_ in yi(C)}function su(_){var C=Pa(_),O=De[C];if("function"!=typeof O||!(C in fr.prototype))return!1;if(_===O)return!0;var ee=Ad(O);return!!ee&&_===ee[0]}(ce&&nl(new ce(new ArrayBuffer(1)))!=Vn||Re&&nl(new Re)!=Ln||nt&&nl(nt.resolve())!=di||ct&&nl(new ct)!=Ai||Pt&&nl(new Pt)!=vo)&&(nl=function(_){var C=Ts(_),O=C==Jn?_.constructor:P,ee=O?Vc(O):"";if(ee)switch(ee){case sr:return Vn;case On:return Ln;case Il:return di;case hs:return Ai;case ia:return vo}return C});var ch=ws?fu:jp;function jc(_){var C=_&&_.constructor;return _===("function"==typeof C&&C.prototype||si)}function Ut(_){return _==_&&!Cs(_)}function pp(_,C){return function(O){return null!=O&&O[_]===C&&(C!==P||_ in yi(O))}}function Ed(_,C,O){return C=ri(C===P?_.length-1:C,0),function(){for(var ee=arguments,xe=-1,Ue=ri(ee.length-C,0),lt=vt(Ue);++xe<Ue;)lt[xe]=ee[C+xe];xe=-1;for(var Ct=vt(C+1);++xe<C;)Ct[xe]=ee[xe];return Ct[C]=O(lt),ve(_,this,Ct)}}function Jl(_,C){return C.length<2?_:bl(_,gr(C,0,-1))}function mp(_,C){for(var O=_.length,ee=En(C.length,O),xe=Fn(_);ee--;){var Ue=C[ee];_[ee]=Oa(Ue,O)?xe[Ue]:P}return _}function zc(_,C){if(("constructor"!==C||"function"!=typeof _[C])&&"__proto__"!=C)return _[C]}var $h=ed(jh),Mu=J||function(_,C){return Nr.setTimeout(_,C)},pc=ed(rh);function Yp(_,C,O){var ee=C+"";return pc(_,function(_,C){var O=C.length;if(!O)return _;var ee=O-1;return C[ee]=(O>1?"& ":"")+C[ee],C=C.join(O>2?", ":" "),_.replace($t,"{\n/* [wrapped with "+C+"] */\n")}(ee,function(_,C){return z(Ht,function(O){var ee="_."+O[0];C&O[1]&&!kt(_,ee)&&_.push(ee)}),_.sort()}(function(_){var C=_.match(An);return C?C[1].split(bn):[]}(ee),O)))}function ed(_){var C=0,O=0;return function(){var ee=U(),xe=16-(ee-O);if(O=ee,xe>0){if(++C>=800)return arguments[0]}else C=0;return _.apply(P,arguments)}}function gc(_,C){var O=-1,ee=_.length,xe=ee-1;for(C=C===P?ee:C;++O<C;){var Ue=Da(O,xe),lt=_[Ue];_[Ue]=_[O],_[O]=lt}return _.length=C,_}var C,O,Xl=(C=nf(function(_){var C=[];return 46===_.charCodeAt(0)&&C.push(""),_.replace(dr,function(O,ee,xe,Ue){C.push(xe?Ue.replace(Ci,"$1"):ee||O)}),C},function(ee){return 500===O.size&&O.clear(),ee}),O=C.cache,C);function ec(_){if("string"==typeof _||xl(_))return _;var C=_+"";return"0"==C&&1/_==-$e?"-0":C}function Vc(_){if(null!=_){try{return Hi.call(_)}catch(C){}try{return _+""}catch(C){}}return""}function au(_){if(_ instanceof fr)return _.clone();var C=new ka(_.__wrapped__,_.__chain__);return C.__actions__=Fn(_.__actions__),C.__index__=_.__index__,C.__values__=_.__values__,C}var Qp=Xi(function(_,C){return gs(_)?qu(_,Gs(C,1,gs,!0)):[]}),lu=Xi(function(_,C){var O=wl(C);return gs(O)&&(O=P),gs(_)?qu(_,Gs(C,1,gs,!0),Ti(O,2)):[]}),Jp=Xi(function(_,C){var O=wl(C);return gs(O)&&(O=P),gs(_)?qu(_,Gs(C,1,gs,!0),P,O):[]});function ng(_,C,O){var ee=null==_?0:_.length;if(!ee)return-1;var xe=null==O?0:rr(O);return xe<0&&(xe=ri(ee+xe,0)),ti(_,Ti(C,3),xe)}function bp(_,C,O){var ee=null==_?0:_.length;if(!ee)return-1;var xe=ee-1;return O!==P&&(xe=rr(O),xe=O<0?ri(ee+xe,0):En(xe,ee-1)),ti(_,Ti(C,3),xe,!0)}function Uc(_){return null!=_&&_.length?Gs(_,1):[]}function Kh(_){return _&&_.length?_[0]:P}var dh=Xi(function(_){var C=hn(_,up);return C.length&&C[0]===_[0]?Wu(C):[]}),Id=Xi(function(_){var C=wl(_),O=hn(_,up);return C===wl(O)?C=P:O.pop(),O.length&&O[0]===_[0]?Wu(O,Ti(C,2)):[]}),sm=Xi(function(_){var C=wl(_),O=hn(_,up);return(C="function"==typeof C?C:P)&&O.pop(),O.length&&O[0]===_[0]?Wu(O,P,C):[]});function wl(_){var C=null==_?0:_.length;return C?_[C-1]:P}var vp=Xi(Tu);function Tu(_,C){return _&&_.length&&C&&C.length?ps(_,C):_}var Gm=tl(function(_,C){var O=null==_?0:_.length,ee=Nl(_,C);return nh(_,hn(C,function(xe){return Oa(xe,O)?+xe:xe}).sort(wi)),ee});function sg(_){return null==_?_:re.call(_)}var cg=Xi(function(_){return Ta(Gs(_,1,gs,!0))}),mc=Xi(function(_){var C=wl(_);return gs(C)&&(C=P),Ta(Gs(_,1,gs,!0),Ti(C,2))}),Qh=Xi(function(_){var C=wl(_);return C="function"==typeof C?C:P,Ta(Gs(_,1,gs,!0),P,C)});function Su(_){if(!_||!_.length)return[];var C=0;return _=Ce(_,function(O){if(gs(O))return C=ri(O.length,C),!0}),ul(C,function(O){return hn(_,ql(O))})}function kl(_,C){if(!_||!_.length)return[];var O=Su(_);return null==C?O:hn(O,function(ee){return ve(C,P,ee)})}var Lf=Xi(function(_,C){return gs(_)?qu(_,C):[]}),Yr=Xi(function(_){return Sf(Ce(_,gs))}),ma=Xi(function(_){var C=wl(_);return gs(C)&&(C=P),Sf(Ce(_,gs),Ti(C,2))}),_c=Xi(function(_){var C=wl(_);return C="function"==typeof C?C:P,Sf(Ce(_,gs),P,C)}),Bf=Xi(Su),il=Xi(function(_){var C=_.length,O=C>1?_[C-1]:P;return O="function"==typeof O?(_.pop(),O):P,kl(_,O)});function bc(_){var C=De(_);return C.__chain__=!0,C}function fo(_,C){return C(_)}var Iu=tl(function(_){var C=_.length,O=C?_[0]:0,ee=this.__wrapped__,xe=function(Ue){return Nl(Ue,_)};return!(C>1||this.__actions__.length)&&ee instanceof fr&&Oa(O)?((ee=ee.slice(O,+O+(C?1:0))).__actions__.push({func:fo,args:[xe],thisArg:P}),new ka(ee,this.__chain__).thru(function(Ue){return C&&!Ue.length&&Ue.push(P),Ue})):this.thru(xe)}),Ym=dc(function(_,C,O){Fi.call(_,O)?++_[O]:ml(_,O,1)}),Xh=Ur(ng),vc=Ur(bp);function hh(_,C){return(ir(_)?z:Ja)(_,Ti(C,3))}function pg(_,C){return(ir(_)?q:Cu)(_,Ti(C,3))}var gg=dc(function(_,C,O){Fi.call(_,O)?_[O].push(C):ml(_,O,[C])}),Qm=Xi(function(_,C,O){var ee=-1,xe="function"==typeof C,Ue=rl(_)?vt(_.length):[];return Ja(_,function(lt){Ue[++ee]=xe?ve(C,lt,O):Ma(lt,C,O)}),Ue}),S_=dc(function(_,C,O){ml(_,O,C)});function ef(_,C){return(ir(_)?hn:vd)(_,Ti(C,3))}var tf=dc(function(_,C,O){_[O?0:1].push(C)},function(){return[[],[]]}),gh=Xi(function(_,C){if(null==_)return[];var O=C.length;return O>1&&ra(_,C[0],C[1])?C=[]:O>2&&ra(C[0],C[1],C[2])&&(C=[C[0]]),Pc(_,Gs(C,1),[])}),uu=M||function(){return Nr.Date.now()};function vg(_,C,O){return C=O?P:C,Wa(_,128,P,P,P,P,C=_&&null==C?_.length:C)}function mh(_,C){var O;if("function"!=typeof C)throw new To(he);return _=rr(_),function(){return--_>0&&(O=C.apply(this,arguments)),_<=1&&(C=P),O}}var jf=Xi(function(_,C,O){var ee=1;if(O.length){var xe=fl(O,vn(jf));ee|=32}return Wa(_,ee,C,O,xe)}),Od=Xi(function(_,C,O){var ee=3;if(O.length){var xe=fl(O,vn(Od));ee|=32}return Wa(C,ee,_,O,xe)});function Nd(_,C,O){var ee,xe,Ue,lt,Ct,It,on=0,ln=!1,fn=!1,Hn=!0;if("function"!=typeof _)throw new To(he);function li(c){var p=ee,b=xe;return ee=xe=P,on=c,lt=_.apply(b,p)}function Qn(c){return on=c,Ct=Mu(jr,C),ln?li(c):lt}function ji(c){var p=c-It;return It===P||p>=C||p<0||fn&&c-on>=Ue}function jr(){var c=uu();if(ji(c))return yr(c);Ct=Mu(jr,function(c){var A=C-(c-It);return fn?En(A,Ue-(c-on)):A}(c))}function yr(c){return Ct=P,Hn&&ee?li(c):(ee=xe=P,lt)}function i(){var c=uu(),p=ji(c);if(ee=arguments,xe=this,It=c,p){if(Ct===P)return Qn(It);if(fn)return If(Ct),Ct=Mu(jr,C),li(It)}return Ct===P&&(Ct=Mu(jr,C)),lt}return C=la(C)||0,Cs(O)&&(ln=!!O.leading,Ue=(fn="maxWait"in O)?ri(la(O.maxWait)||0,C):Ue,Hn="trailing"in O?!!O.trailing:Hn),i.cancel=function(){Ct!==P&&If(Ct),on=0,ee=It=xe=Ct=P},i.flush=function(){return Ct===P?lt:yr(uu())},i}var rd=Xi(function(_,C){return Hu(_,1,C)}),od=Xi(function(_,C,O){return Hu(_,la(C)||0,O)});function nf(_,C){if("function"!=typeof _||null!=C&&"function"!=typeof C)throw new To(he);var O=function(){var ee=arguments,xe=C?C.apply(this,ee):ee[0],Ue=O.cache;if(Ue.has(xe))return Ue.get(xe);var lt=_.apply(this,ee);return O.cache=Ue.set(xe,lt)||Ue,lt};return O.cache=new(nf.Cache||io),O}function _h(_){if("function"!=typeof _)throw new To(he);return function(){var C=arguments;switch(C.length){case 0:return!_.call(this);case 1:return!_.call(this,C[0]);case 2:return!_.call(this,C[0],C[1]);case 3:return!_.call(this,C[0],C[1],C[2])}return!_.apply(this,C)}}nf.Cache=io;var yg=zh(function(_,C){var O=(C=1==C.length&&ir(C[0])?hn(C[0],Wo(Ti())):hn(Gs(C,1),Wo(Ti()))).length;return Xi(function(ee){for(var xe=-1,Ue=En(ee.length,O);++xe<Ue;)ee[xe]=C[xe].call(this,ee[xe]);return ve(_,this,ee)})}),Vf=Xi(function(_,C){var O=fl(C,vn(Vf));return Wa(_,32,P,C,O)}),Uf=Xi(function(_,C){var O=fl(C,vn(Uf));return Wa(_,64,P,C,O)}),fm=tl(function(_,C){return Wa(_,256,P,P,P,C)});function _a(_,C){return _===C||_!=_&&C!=C}var xp=zo(Bh),gm=zo(function(_,C){return _>=C}),bh=Rl(function(){return arguments}())?Rl:function(_){return Ws(_)&&Fi.call(_,"callee")&&!is.call(_,"callee")},ir=vt.isArray,sf=te?Wo(te):function(_){return Ws(_)&&Ts(_)==Vi};function rl(_){return null!=_&&Fd(_.length)&&!fu(_)}function gs(_){return Ws(_)&&rl(_)}var du=nr||jp,xg=je?Wo(je):function(_){return Ws(_)&&Ts(_)==Zi};function sd(_){if(!Ws(_))return!1;var C=Ts(_);return C==Tn||"[object DOMException]"==C||"string"==typeof _.message&&"string"==typeof _.name&&!pu(_)}function fu(_){if(!Cs(_))return!1;var C=Ts(_);return C==Hr||C==Ir||"[object AsyncFunction]"==C||"[object Proxy]"==C}function wc(_){return"number"==typeof _&&_==rr(_)}function Fd(_){return"number"==typeof _&&_>-1&&_%1==0&&_<=at}function Cs(_){var C=typeof _;return null!=_&&("object"==C||"function"==C)}function Ws(_){return null!=_&&"object"==typeof _}var t_=Xe?Wo(Xe):function(_){return Ws(_)&&nl(_)==Ln};function Dp(_){return"number"==typeof _||Ws(_)&&Ts(_)==wn}function pu(_){if(!Ws(_)||Ts(_)!=Jn)return!1;var C=Ko(_);if(null===C)return!0;var O=Fi.call(C,"constructor")&&C.constructor;return"function"==typeof O&&O instanceof O&&Hi.call(O)==Pn}var vh=V?Wo(V):function(_){return Ws(_)&&Ts(_)==Mi},Gf=ue?Wo(ue):function(_){return Ws(_)&&nl(_)==Ai};function Zs(_){return"string"==typeof _||!ir(_)&&Ws(_)&&Ts(_)==Vo}function xl(_){return"symbol"==typeof _||Ws(_)&&Ts(_)==Sn}var af=$?Wo($):function(_){return Ws(_)&&Fd(_.length)&&!!Ji[Ts(_)]},$f=zo(Kl),Os=zo(function(_,C){return _<=C});function wh(_){if(!_)return[];if(rl(_))return Zs(_)?ke(_):Fn(_);if(Ca&&_[Ca])return function(ut){for(var Nt,vt=[];!(Nt=ut.next()).done;)vt.push(Nt.value);return vt}(_[Ca]());var C=nl(_);return(C==Ln?Gl:C==Ai?pl:Fu)(_)}function Cc(_){return _?(_=la(_))===$e||_===-$e?17976931348623157e292*(_<0?-1:1):_==_?_:0:0===_?_:0}function rr(_){var C=Cc(_),O=C%1;return C==C?O?C-O:C:0}function Ld(_){return _?_l(rr(_),0,Xt):0}function la(_){if("number"==typeof _)return _;if(xl(_))return NaN;if(Cs(_)){var C="function"==typeof _.valueOf?_.valueOf():_;_=Cs(C)?C+"":C}if("string"!=typeof _)return 0===_?_:+_;_=Ra(_);var O=Cr.test(_);return O||jn.test(_)?Es(_.slice(2),O?2:8):hr.test(_)?NaN:+_}function lf(_){return La(_,El(_))}function ro(_){return null==_?"":Ga(_)}var n_=hc(function(_,C){if(jc(C)||rl(C))La(C,ja(C),_);else for(var O in C)Fi.call(C,O)&&Jc(_,O,C[O])}),Po=hc(function(_,C){La(C,El(C),_)}),Ch=hc(function(_,C,O,ee){La(C,El(C),_,ee)}),Dg=hc(function(_,C,O,ee){La(C,ja(C),_,ee)}),Bd=tl(Nl),Tg=Xi(function(_,C){_=yi(_);var O=-1,ee=C.length,xe=ee>2?C[2]:P;for(xe&&ra(C[0],C[1],xe)&&(ee=1);++O<ee;)for(var Ue=C[O],lt=El(Ue),Ct=-1,It=lt.length;++Ct<It;){var on=lt[Ct],ln=_[on];(ln===P||_a(ln,si[on])&&!Fi.call(_,on))&&(_[on]=Ue[on])}return _}),Wf=Xi(function(_){return _.push(P,Ia),ve(Pg,P,_)});function kc(_,C,O){var ee=null==_?P:bl(_,C);return ee===P?O:ee}function ol(_,C){return null!=_&&$s(_,C,ku)}var Ac=Uh(function(_,C,O){null!=C&&"function"!=typeof C.toString&&(C=Rr.call(C)),_[C]=O},ld(Ks)),Ig=Uh(function(_,C,O){null!=C&&"function"!=typeof C.toString&&(C=Rr.call(C)),Fi.call(_,C)?_[C].push(O):_[C]=[O]},Ti),Zf=Xi(Ma);function ja(_){return rl(_)?Jd(_):vl(_)}function El(_){return rl(_)?Jd(_,!0):function(_){if(!Cs(_))return function(_){var C=[];if(null!=_)for(var O in yi(_))C.push(O);return C}(_);var C=jc(_),O=[];for(var ee in _)"constructor"==ee&&(C||!Fi.call(_,ee))||O.push(ee);return O}(_)}var Cm=hc(function(_,C,O){Yo(_,C,O)}),Pg=hc(function(_,C,O,ee){Yo(_,C,O,ee)}),ca=tl(function(_,C){var O={};if(null==_)return O;var ee=!1;C=hn(C,function(Ue){return Ue=Bo(Ue,_),ee||(ee=Ue.length>1),Ue}),La(_,Pf(_),O),ee&&(O=pa(O,7,Vl));for(var xe=C.length;xe--;)uc(O,C[xe]);return O}),km=tl(function(_,C){return null==_?{}:function(_,C){return th(_,C,function(O,ee){return ol(_,ee)})}(_,C)});function Og(_,C){if(null==_)return{};var O=hn(Pf(_),function(ee){return[ee]});return C=Ti(C),th(_,O,function(ee,xe){return C(ee,xe[0])})}var kh=Is(ja),Ah=Is(El);function Fu(_){return null==_?[]:Ms(_,ja(_))}var $c=Rc(function(_,C,O){return C=C.toLowerCase(),_+(O?Em(C):C)});function Em(_){return Dl(ro(_).toLowerCase())}function r_(_){return(_=ro(_))&&_.replace(Ki,wa).replace(cl,"")}var Lg=Rc(function(_,C,O){return _+(O?"-":"")+C.toLowerCase()}),Tm=Rc(function(_,C,O){return _+(O?" ":"")+C.toLowerCase()}),Vd=xu("toLowerCase"),df=Rc(function(_,C,O){return _+(O?"_":"")+C.toLowerCase()}),hf=Rc(function(_,C,O){return _+(O?" ":"")+Dl(C)}),Ns=Rc(function(_,C,O){return _+(O?" ":"")+C.toUpperCase()}),Dl=xu("toUpperCase");function pf(_,C,O){return _=ro(_),(C=O?P:C)===P?function(ut){return Bs.test(ut)}(_)?function(ut){return ut.match(Xs)||[]}(_):function(ut){return ut.match(hi)||[]}(_):_.match(C)||[]}var xc=Xi(function(_,C){try{return ve(_,P,C)}catch(O){return sd(O)?O:new un(O)}}),Ug=tl(function(_,C){return z(C,function(O){O=ec(O),ml(_,O,jf(_[O],_))}),_});function ld(_){return function(){return _}}var Dh=jl(),Bu=jl(!0);function Ks(_){return _}function Zc(_){return Zu("function"==typeof _?_:pa(_,1))}var ju=Xi(function(_,C){return function(O){return Ma(O,_,C)}}),Gd=Xi(function(_,C){return function(O){return Ma(_,O,C)}});function gf(_,C,O){var ee=ja(C),xe=tu(C,ee);null==O&&(!Cs(C)||!xe.length&&ee.length)&&(O=C,C=_,_=this,xe=tu(C,ja(C)));var Ue=!(Cs(O)&&"chain"in O&&!O.chain),lt=fu(_);return z(xe,function(Ct){var It=C[Ct];_[Ct]=It,lt&&(_.prototype[Ct]=function(){var on=this.__chain__;if(Ue||on){var ln=_(this.__wrapped__),fn=ln.__actions__=Fn(this.__actions__);return fn.push({func:It,args:arguments,thisArg:_}),ln.__chain__=on,ln}return It.apply(_,Xn([this.value()],arguments))})}),_}function cd(){}var qg=zl(hn),Lp=zl(G),ud=zl(br);function dd(_){return sn(_)?ql(ec(_)):function(_){return function(C){return bl(C,_)}}(_)}var Bp=Fc(),ep=Fc(!0);function zu(){return[]}function jp(){return!1}var $d=Ss(function(_,C){return _+C},0),Wd=dp("ceil"),Sh=Ss(function(_,C){return _/C},1),o_=dp("floor"),np=Ss(function(_,C){return _*C},1),mu=dp("round"),Pm=Ss(function(_,C){return _-C},0);return De.after=function(_,C){if("function"!=typeof C)throw new To(he);return _=rr(_),function(){if(--_<1)return C.apply(this,arguments)}},De.ary=vg,De.assign=n_,De.assignIn=Po,De.assignInWith=Ch,De.assignWith=Dg,De.at=Bd,De.before=mh,De.bind=jf,De.bindAll=Ug,De.bindKey=Od,De.castArray=function(){if(!arguments.length)return[];var _=arguments[0];return ir(_)?_:[_]},De.chain=bc,De.chunk=function(_,C,O){C=(O?ra(_,C,O):C===P)?1:ri(rr(C),0);var ee=null==_?0:_.length;if(!ee||C<1)return[];for(var xe=0,Ue=0,lt=vt(ae(ee/C));xe<ee;)lt[Ue++]=gr(_,xe,xe+=C);return lt},De.compact=function(_){for(var C=-1,O=null==_?0:_.length,ee=0,xe=[];++C<O;){var Ue=_[C];Ue&&(xe[ee++]=Ue)}return xe},De.concat=function(){var _=arguments.length;if(!_)return[];for(var C=vt(_-1),O=arguments[0],ee=_;ee--;)C[ee-1]=arguments[ee];return Xn(ir(O)?Fn(O):[O],Gs(C,1))},De.cond=function(_){var C=null==_?0:_.length,O=Ti();return _=C?hn(_,function(ee){if("function"!=typeof ee[1])throw new To(he);return[O(ee[0]),ee[1]]}):[],Xi(function(ee){for(var xe=-1;++xe<C;){var Ue=_[xe];if(ve(Ue[0],this,ee))return ve(Ue[1],this,ee)}})},De.conforms=function(_){return function(_){var C=ja(_);return function(O){return eh(O,_,C)}}(pa(_,1))},De.constant=ld,De.countBy=Ym,De.create=function(_,C){var O=qa(_);return null==C?O:_d(O,C)},De.curry=function Ou(_,C,O){var ee=Wa(_,8,P,P,P,P,P,C=O?P:C);return ee.placeholder=Ou.placeholder,ee},De.curryRight=function zf(_,C,O){var ee=Wa(_,16,P,P,P,P,P,C=O?P:C);return ee.placeholder=zf.placeholder,ee},De.debounce=Nd,De.defaults=Tg,De.defaultsDeep=Wf,De.defer=rd,De.delay=od,De.difference=Qp,De.differenceBy=lu,De.differenceWith=Jp,De.drop=function(_,C,O){var ee=null==_?0:_.length;return ee?gr(_,(C=O||C===P?1:rr(C))<0?0:C,ee):[]},De.dropRight=function(_,C,O){var ee=null==_?0:_.length;return ee?gr(_,0,(C=ee-(C=O||C===P?1:rr(C)))<0?0:C):[]},De.dropRightWhile=function(_,C){return _&&_.length?Nc(_,Ti(C,3),!0,!0):[]},De.dropWhile=function(_,C){return _&&_.length?Nc(_,Ti(C,3),!0):[]},De.fill=function(_,C,O,ee){var xe=null==_?0:_.length;return xe?(O&&"number"!=typeof O&&ra(_,C,O)&&(O=0,ee=xe),function(_,C,O,ee){var xe=_.length;for((O=rr(O))<0&&(O=-O>xe?0:xe+O),(ee=ee===P||ee>xe?xe:rr(ee))<0&&(ee+=xe),ee=O>ee?0:Ld(ee);O<ee;)_[O++]=C;return _}(_,C,O,ee)):[]},De.filter=function(_,C){return(ir(_)?Ce:sp)(_,Ti(C,3))},De.flatMap=function(_,C){return Gs(ef(_,C),1)},De.flatMapDeep=function(_,C){return Gs(ef(_,C),$e)},De.flatMapDepth=function(_,C,O){return O=O===P?1:rr(O),Gs(ef(_,C),O)},De.flatten=Uc,De.flattenDeep=function(_){return null!=_&&_.length?Gs(_,$e):[]},De.flattenDepth=function(_,C){return null!=_&&_.length?Gs(_,C=C===P?1:rr(C)):[]},De.flip=function(_){return Wa(_,512)},De.flow=Dh,De.flowRight=Bu,De.fromPairs=function(_){for(var C=-1,O=null==_?0:_.length,ee={};++C<O;){var xe=_[C];ee[xe[0]]=xe[1]}return ee},De.functions=function(_){return null==_?[]:tu(_,ja(_))},De.functionsIn=function(_){return null==_?[]:tu(_,El(_))},De.groupBy=gg,De.initial=function(_){return null!=_&&_.length?gr(_,0,-1):[]},De.intersection=dh,De.intersectionBy=Id,De.intersectionWith=sm,De.invert=Ac,De.invertBy=Ig,De.invokeMap=Qm,De.iteratee=Zc,De.keyBy=S_,De.keys=ja,De.keysIn=El,De.map=ef,De.mapKeys=function(_,C){var O={};return C=Ti(C,3),eu(_,function(ee,xe,Ue){ml(O,C(ee,xe,Ue),ee)}),O},De.mapValues=function(_,C){var O={};return C=Ti(C,3),eu(_,function(ee,xe,Ue){ml(O,xe,C(ee,xe,Ue))}),O},De.matches=function(_){return cc(pa(_,1))},De.matchesProperty=function(_,C){return yd(_,pa(C,1))},De.memoize=nf,De.merge=Cm,De.mergeWith=Pg,De.method=ju,De.methodOf=Gd,De.mixin=gf,De.negate=_h,De.nthArg=function(_){return _=rr(_),Xi(function(C){return Ll(C,_)})},De.omit=ca,De.omitBy=function(_,C){return Og(_,_h(Ti(C)))},De.once=function(_){return mh(2,_)},De.orderBy=function(_,C,O,ee){return null==_?[]:(ir(C)||(C=null==C?[]:[C]),ir(O=ee?P:O)||(O=null==O?[]:[O]),Pc(_,C,O))},De.over=qg,De.overArgs=yg,De.overEvery=Lp,De.overSome=ud,De.partial=Vf,De.partialRight=Uf,De.partition=tf,De.pick=km,De.pickBy=Og,De.property=dd,De.propertyOf=function(_){return function(C){return null==_?P:bl(_,C)}},De.pull=vp,De.pullAll=Tu,De.pullAllBy=function(_,C,O){return _&&_.length&&C&&C.length?ps(_,C,Ti(O,2)):_},De.pullAllWith=function(_,C,O){return _&&_.length&&C&&C.length?ps(_,C,P,O):_},De.pullAt=Gm,De.range=Bp,De.rangeRight=ep,De.rearg=fm,De.reject=function(_,C){return(ir(_)?Ce:sp)(_,_h(Ti(C,3)))},De.remove=function(_,C){var O=[];if(!_||!_.length)return O;var ee=-1,xe=[],Ue=_.length;for(C=Ti(C,3);++ee<Ue;){var lt=_[ee];C(lt,ee,_)&&(O.push(lt),xe.push(ee))}return nh(_,xe),O},De.rest=function(_,C){if("function"!=typeof _)throw new To(he);return Xi(_,C=C===P?C:rr(C))},De.reverse=sg,De.sampleSize=function(_,C,O){return C=(O?ra(_,C,O):C===P)?1:rr(C),(ir(_)?$p:Tf)(_,C)},De.set=function(_,C,O){return null==_?_:Yu(_,C,O)},De.setWith=function(_,C,O,ee){return ee="function"==typeof ee?ee:P,null==_?_:Yu(_,C,O,ee)},De.shuffle=function(_){return(ir(_)?Af:ap)(_)},De.slice=function(_,C,O){var ee=null==_?0:_.length;return ee?(O&&"number"!=typeof O&&ra(_,C,O)?(C=0,O=ee):(C=null==C?0:rr(C),O=O===P?ee:rr(O)),gr(_,C,O)):[]},De.sortBy=gh,De.sortedUniq=function(_){return _&&_.length?wd(_):[]},De.sortedUniqBy=function(_,C){return _&&_.length?wd(_,Ti(C,2)):[]},De.split=function(_,C,O){return O&&"number"!=typeof O&&ra(_,C,O)&&(C=O=P),(O=O===P?Xt:O>>>0)?(_=ro(_))&&("string"==typeof C||null!=C&&!vh(C))&&!(C=Ga(C))&&da(_)?jo(ke(_),0,O):_.split(C,O):[]},De.spread=function(_,C){if("function"!=typeof _)throw new To(he);return C=null==C?0:ri(rr(C),0),Xi(function(O){var ee=O[C],xe=jo(O,0,C);return ee&&Xn(xe,ee),ve(_,this,xe)})},De.tail=function(_){var C=null==_?0:_.length;return C?gr(_,1,C):[]},De.take=function(_,C,O){return _&&_.length?gr(_,0,(C=O||C===P?1:rr(C))<0?0:C):[]},De.takeRight=function(_,C,O){var ee=null==_?0:_.length;return ee?gr(_,(C=ee-(C=O||C===P?1:rr(C)))<0?0:C,ee):[]},De.takeRightWhile=function(_,C){return _&&_.length?Nc(_,Ti(C,3),!1,!0):[]},De.takeWhile=function(_,C){return _&&_.length?Nc(_,Ti(C,3)):[]},De.tap=function(_,C){return C(_),_},De.throttle=function(_,C,O){var ee=!0,xe=!0;if("function"!=typeof _)throw new To(he);return Cs(O)&&(ee="leading"in O?!!O.leading:ee,xe="trailing"in O?!!O.trailing:xe),Nd(_,C,{leading:ee,maxWait:C,trailing:xe})},De.thru=fo,De.toArray=wh,De.toPairs=kh,De.toPairsIn=Ah,De.toPath=function(_){return ir(_)?hn(_,ec):xl(_)?[_]:Fn(Xl(ro(_)))},De.toPlainObject=lf,De.transform=function(_,C,O){var ee=ir(_),xe=ee||du(_)||af(_);if(C=Ti(C,4),null==O){var Ue=_&&_.constructor;O=xe?ee?new Ue:[]:Cs(_)&&fu(Ue)?qa(Ko(_)):{}}return(xe?z:eu)(_,function(lt,Ct,It){return C(O,lt,Ct,It)}),O},De.unary=function(_){return vg(_,1)},De.union=cg,De.unionBy=mc,De.unionWith=Qh,De.uniq=function(_){return _&&_.length?Ta(_):[]},De.uniqBy=function(_,C){return _&&_.length?Ta(_,Ti(C,2)):[]},De.uniqWith=function(_,C){return C="function"==typeof C?C:P,_&&_.length?Ta(_,P,C):[]},De.unset=function(_,C){return null==_||uc(_,C)},De.unzip=Su,De.unzipWith=kl,De.update=function(_,C,O){return null==_?_:Xa(_,C,iu(O))},De.updateWith=function(_,C,O,ee){return ee="function"==typeof ee?ee:P,null==_?_:Xa(_,C,iu(O),ee)},De.values=Fu,De.valuesIn=function(_){return null==_?[]:Ms(_,El(_))},De.without=Lf,De.words=pf,De.wrap=function(_,C){return Vf(iu(C),_)},De.xor=Yr,De.xorBy=ma,De.xorWith=_c,De.zip=Bf,De.zipObject=function(_,C){return cp(_||[],C||[],Jc)},De.zipObjectDeep=function(_,C){return cp(_||[],C||[],Yu)},De.zipWith=il,De.entries=kh,De.entriesIn=Ah,De.extend=Po,De.extendWith=Ch,gf(De,De),De.add=$d,De.attempt=xc,De.camelCase=$c,De.capitalize=Em,De.ceil=Wd,De.clamp=function(_,C,O){return O===P&&(O=C,C=P),O!==P&&(O=(O=la(O))==O?O:0),C!==P&&(C=(C=la(C))==C?C:0),_l(la(_),C,O)},De.clone=function(_){return pa(_,4)},De.cloneDeep=function(_){return pa(_,5)},De.cloneDeepWith=function(_,C){return pa(_,5,C="function"==typeof C?C:P)},De.cloneWith=function(_,C){return pa(_,4,C="function"==typeof C?C:P)},De.conformsTo=function(_,C){return null==C||eh(_,C,ja(C))},De.deburr=r_,De.defaultTo=function(_,C){return null==_||_!=_?C:_},De.divide=Sh,De.endsWith=function(_,C,O){_=ro(_),C=Ga(C);var ee=_.length,xe=O=O===P?ee:_l(rr(O),0,ee);return(O-=C.length)>=0&&_.slice(O,xe)==C},De.eq=_a,De.escape=function(_){return(_=ro(_))&&Wn.test(_)?_.replace(nn,Va):_},De.escapeRegExp=function(_){return(_=ro(_))&&bt.test(_)?_.replace(Dt,"\\$&"):_},De.every=function(_,C,O){var ee=ir(_)?G:Ea;return O&&ra(_,C,O)&&(C=P),ee(_,Ti(C,3))},De.find=Xh,De.findIndex=ng,De.findKey=function(_,C){return vs(_,Ti(C,3),eu)},De.findLast=vc,De.findLastIndex=bp,De.findLastKey=function(_,C){return vs(_,Ti(C,3),Lh)},De.floor=o_,De.forEach=hh,De.forEachRight=pg,De.forIn=function(_,C){return null==_?_:ac(_,Ti(C,3),El)},De.forInRight=function(_,C){return null==_?_:Fh(_,Ti(C,3),El)},De.forOwn=function(_,C){return _&&eu(_,Ti(C,3))},De.forOwnRight=function(_,C){return _&&Lh(_,Ti(C,3))},De.get=kc,De.gt=xp,De.gte=gm,De.has=function(_,C){return null!=_&&$s(_,C,xf)},De.hasIn=ol,De.head=Kh,De.identity=Ks,De.includes=function(_,C,O,ee){_=rl(_)?_:Fu(_),O=O&&!ee?rr(O):0;var xe=_.length;return O<0&&(O=ri(xe+O,0)),Zs(_)?O<=xe&&_.indexOf(C,O)>-1:!!xe&&mo(_,C,O)>-1},De.indexOf=function(_,C,O){var ee=null==_?0:_.length;if(!ee)return-1;var xe=null==O?0:rr(O);return xe<0&&(xe=ri(ee+xe,0)),mo(_,C,xe)},De.inRange=function(_,C,O){return C=Cc(C),O===P?(O=C,C=0):O=Cc(O),function(_,C,O){return _>=En(C,O)&&_<ri(C,O)}(_=la(_),C,O)},De.invoke=Zf,De.isArguments=bh,De.isArray=ir,De.isArrayBuffer=sf,De.isArrayLike=rl,De.isArrayLikeObject=gs,De.isBoolean=function(_){return!0===_||!1===_||Ws(_)&&Ts(_)==xi},De.isBuffer=du,De.isDate=xg,De.isElement=function(_){return Ws(_)&&1===_.nodeType&&!pu(_)},De.isEmpty=function(_){if(null==_)return!0;if(rl(_)&&(ir(_)||"string"==typeof _||"function"==typeof _.splice||du(_)||af(_)||bh(_)))return!_.length;var C=nl(_);if(C==Ln||C==Ai)return!_.size;if(jc(_))return!vl(_).length;for(var O in _)if(Fi.call(_,O))return!1;return!0},De.isEqual=function(_,C){return Zl(_,C)},De.isEqualWith=function(_,C,O){var ee=(O="function"==typeof O?O:P)?O(_,C):P;return ee===P?Zl(_,C,P,O):!!ee},De.isError=sd,De.isFinite=function(_){return"number"==typeof _&&Qt(_)},De.isFunction=fu,De.isInteger=wc,De.isLength=Fd,De.isMap=t_,De.isMatch=function(_,C){return _===C||lc(_,C,Zp(C))},De.isMatchWith=function(_,C,O){return O="function"==typeof O?O:P,lc(_,C,Zp(C),O)},De.isNaN=function(_){return Dp(_)&&_!=+_},De.isNative=function(_){if(ch(_))throw new un("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return kn(_)},De.isNil=function(_){return null==_},De.isNull=function(_){return null===_},De.isNumber=Dp,De.isObject=Cs,De.isObjectLike=Ws,De.isPlainObject=pu,De.isRegExp=vh,De.isSafeInteger=function(_){return wc(_)&&_>=-at&&_<=at},De.isSet=Gf,De.isString=Zs,De.isSymbol=xl,De.isTypedArray=af,De.isUndefined=function(_){return _===P},De.isWeakMap=function(_){return Ws(_)&&nl(_)==vo},De.isWeakSet=function(_){return Ws(_)&&"[object WeakSet]"==Ts(_)},De.join=function(_,C){return null==_?"":Dr.call(_,C)},De.kebabCase=Lg,De.last=wl,De.lastIndexOf=function(_,C,O){var ee=null==_?0:_.length;if(!ee)return-1;var xe=ee;return O!==P&&(xe=(xe=rr(O))<0?ri(ee+xe,0):En(xe,ee-1)),C==C?function(ut,Nt,vt){for(var Wt=vt+1;Wt--;)if(ut[Wt]===Nt)return Wt;return Wt}(_,C,xe):ti(_,nc,xe,!0)},De.lowerCase=Tm,De.lowerFirst=Vd,De.lt=$f,De.lte=Os,De.max=function(_){return _&&_.length?qs(_,Ks,Bh):P},De.maxBy=function(_,C){return _&&_.length?qs(_,Ti(C,2),Bh):P},De.mean=function(_){return Mc(_,Ks)},De.meanBy=function(_,C){return Mc(_,Ti(C,2))},De.min=function(_){return _&&_.length?qs(_,Ks,Kl):P},De.minBy=function(_,C){return _&&_.length?qs(_,Ti(C,2),Kl):P},De.stubArray=zu,De.stubFalse=jp,De.stubObject=function(){return{}},De.stubString=function(){return""},De.stubTrue=function(){return!0},De.multiply=np,De.nth=function(_,C){return _&&_.length?Ll(_,rr(C)):P},De.noConflict=function(){return Nr._===this&&(Nr._=Kn),this},De.noop=cd,De.now=uu,De.pad=function(_,C,O){_=ro(_);var ee=(C=rr(C))?Y(_):0;if(!C||ee>=C)return _;var xe=(C-ee)/2;return Hh(qe(xe),O)+_+Hh(ae(xe),O)},De.padEnd=function(_,C,O){_=ro(_);var ee=(C=rr(C))?Y(_):0;return C&&ee<C?_+Hh(C-ee,O):_},De.padStart=function(_,C,O){_=ro(_);var ee=(C=rr(C))?Y(_):0;return C&&ee<C?Hh(C-ee,O)+_:_},De.parseInt=function(_,C,O){return O||null==C?C=0:C&&(C=+C),F(ro(_).replace(Qe,""),C||0)},De.random=function(_,C,O){if(O&&"boolean"!=typeof O&&ra(_,C,O)&&(C=O=P),O===P&&("boolean"==typeof C?(O=C,C=P):"boolean"==typeof _&&(O=_,_=P)),_===P&&C===P?(_=0,C=1):(_=Cc(_),C===P?(C=_,_=0):C=Cc(C)),_>C){var ee=_;_=C,C=ee}if(O||_%1||C%1){var xe=B();return En(_+xe*(C-_+$o("1e-"+((xe+"").length-1))),C)}return Da(_,C)},De.reduce=function(_,C,O){var ee=ir(_)?ii:ic,xe=arguments.length<3;return ee(_,Ti(C,4),O,xe,Ja)},De.reduceRight=function(_,C,O){var ee=ir(_)?Ri:ic,xe=arguments.length<3;return ee(_,Ti(C,4),O,xe,Cu)},De.repeat=function(_,C,O){return C=(O?ra(_,C,O):C===P)?1:rr(C),ih(ro(_),C)},De.replace=function(){var _=arguments,C=ro(_[0]);return _.length<3?C:C.replace(_[1],_[2])},De.result=function(_,C,O){var ee=-1,xe=(C=Bo(C,_)).length;for(xe||(xe=1,_=P);++ee<xe;){var Ue=null==_?P:_[ec(C[ee])];Ue===P&&(ee=xe,Ue=O),_=fu(Ue)?Ue.call(_):Ue}return _},De.round=mu,De.runInContext=ut,De.sample=function(_){return(ir(_)?kf:Bl)(_)},De.size=function(_){if(null==_)return 0;if(rl(_))return Zs(_)?Y(_):_.length;var C=nl(_);return C==Ln||C==Ai?_.size:vl(_).length},De.snakeCase=df,De.some=function(_,C,O){var ee=ir(_)?br:lp;return O&&ra(_,C,O)&&(C=P),ee(_,Ti(C,3))},De.sortedIndex=function(_,C){return nu(_,C)},De.sortedIndexBy=function(_,C,O){return Au(_,C,Ti(O,2))},De.sortedIndexOf=function(_,C){var O=null==_?0:_.length;if(O){var ee=nu(_,C);if(ee<O&&_a(_[ee],C))return ee}return-1},De.sortedLastIndex=function(_,C){return nu(_,C,!0)},De.sortedLastIndexBy=function(_,C,O){return Au(_,C,Ti(O,2),!0)},De.sortedLastIndexOf=function(_,C){if(null!=_&&_.length){var ee=nu(_,C,!0)-1;if(_a(_[ee],C))return ee}return-1},De.startCase=hf,De.startsWith=function(_,C,O){return _=ro(_),O=null==O?0:_l(rr(O),0,_.length),C=Ga(C),_.slice(O,O+C.length)==C},De.subtract=Pm,De.sum=function(_){return _&&_.length?Di(_,Ks):0},De.sumBy=function(_,C){return _&&_.length?Di(_,Ti(C,2)):0},De.template=function(_,C,O){var ee=De.templateSettings;O&&ra(_,C,O)&&(C=P),_=ro(_),C=Ch({},C,ee,yl);var Ct,It,xe=Ch({},C.imports,ee.imports,yl),Ue=ja(xe),lt=Ms(xe,Ue),on=0,ln=C.interpolate||yo,fn="__p += '",Hn=Do((C.escape||yo).source+"|"+ln.source+"|"+(ln===Ui?xo:yo).source+"|"+(C.evaluate||yo).source+"|$","g"),li="//# sourceURL="+(Fi.call(C,"sourceURL")?(C.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xs+"]")+"\n";_.replace(Hn,function(ji,jr,yr,Ul,s,i){return yr||(yr=Ul),fn+=_.slice(on,i).replace(qr,Gi),jr&&(Ct=!0,fn+="' +\n__e("+jr+") +\n'"),s&&(It=!0,fn+="';\n"+s+";\n__p += '"),yr&&(fn+="' +\n((__t = ("+yr+")) == null ? '' : __t) +\n'"),on=i+ji.length,ji}),fn+="';\n";var Qn=Fi.call(C,"variable")&&C.variable;if(Qn){if(wr.test(Qn))throw new un("Invalid `variable` option passed into `_.template`")}else fn="with (obj) {\n"+fn+"\n}\n";fn=(It?fn.replace(Je,""):fn).replace(xt,"$1").replace(zt,"$1;"),fn="function("+(Qn||"obj")+") {\n"+(Qn?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Ct?", __e = _.escape":"")+(It?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+fn+"return __p\n}";var ar=xc(function(){return mi(Ue,li+"return "+fn).apply(P,lt)});if(ar.source=fn,sd(ar))throw ar;return ar},De.times=function(_,C){if((_=rr(_))<1||_>at)return[];var O=Xt,ee=En(_,Xt);C=Ti(C),_-=Xt;for(var xe=ul(ee,C);++O<_;)C(O);return xe},De.toFinite=Cc,De.toInteger=rr,De.toLength=Ld,De.toLower=function(_){return ro(_).toLowerCase()},De.toNumber=la,De.toSafeInteger=function(_){return _?_l(rr(_),-at,at):0===_?_:0},De.toString=ro,De.toUpper=function(_){return ro(_).toUpperCase()},De.trim=function(_,C,O){if((_=ro(_))&&(O||C===P))return Ra(_);if(!_||!(C=Ga(C)))return _;var ee=ke(_),xe=ke(C);return jo(ee,dl(ee,xe),hl(ee,xe)+1).join("")},De.trimEnd=function(_,C,O){if((_=ro(_))&&(O||C===P))return _.slice(0,ze(_)+1);if(!_||!(C=Ga(C)))return _;var ee=ke(_);return jo(ee,0,hl(ee,ke(C))+1).join("")},De.trimStart=function(_,C,O){if((_=ro(_))&&(O||C===P))return _.replace(Qe,"");if(!_||!(C=Ga(C)))return _;var ee=ke(_);return jo(ee,dl(ee,ke(C))).join("")},De.truncate=function(_,C){var O=30,ee="...";if(Cs(C)){var xe="separator"in C?C.separator:xe;O="length"in C?rr(C.length):O,ee="omission"in C?Ga(C.omission):ee}var Ue=(_=ro(_)).length;if(da(_)){var lt=ke(_);Ue=lt.length}if(O>=Ue)return _;var Ct=O-Y(ee);if(Ct<1)return ee;var It=lt?jo(lt,0,Ct).join(""):_.slice(0,Ct);if(xe===P)return It+ee;if(lt&&(Ct+=It.length-Ct),vh(xe)){if(_.slice(Ct).search(xe)){var on,ln=It;for(xe.global||(xe=Do(xe.source,ro(as.exec(xe))+"g")),xe.lastIndex=0;on=xe.exec(ln);)var fn=on.index;It=It.slice(0,fn===P?Ct:fn)}}else if(_.indexOf(Ga(xe),Ct)!=Ct){var Hn=It.lastIndexOf(xe);Hn>-1&&(It=It.slice(0,Hn))}return It+ee},De.unescape=function(_){return(_=ro(_))&&Nn.test(_)?_.replace(Et,tt):_},De.uniqueId=function(_){var C=++Zo;return ro(_)+C},De.upperCase=Ns,De.upperFirst=Dl,De.each=hh,De.eachRight=pg,De.first=Kh,gf(De,function(){var _={};return eu(De,function(C,O){Fi.call(De.prototype,O)||(_[O]=C)}),_}(),{chain:!1}),De.VERSION="4.17.21",z(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){De[_].placeholder=De}),z(["drop","take"],function(_,C){fr.prototype[_]=function(O){O=O===P?1:ri(rr(O),0);var ee=this.__filtered__&&!C?new fr(this):this.clone();return ee.__filtered__?ee.__takeCount__=En(O,ee.__takeCount__):ee.__views__.push({size:En(O,Xt),type:_+(ee.__dir__<0?"Right":"")}),ee},fr.prototype[_+"Right"]=function(O){return this.reverse()[_](O).reverse()}}),z(["filter","map","takeWhile"],function(_,C){var O=C+1,ee=1==O||3==O;fr.prototype[_]=function(xe){var Ue=this.clone();return Ue.__iteratees__.push({iteratee:Ti(xe,3),type:O}),Ue.__filtered__=Ue.__filtered__||ee,Ue}}),z(["head","last"],function(_,C){var O="take"+(C?"Right":"");fr.prototype[_]=function(){return this[O](1).value()[0]}}),z(["initial","tail"],function(_,C){var O="drop"+(C?"":"Right");fr.prototype[_]=function(){return this.__filtered__?new fr(this):this[O](1)}}),fr.prototype.compact=function(){return this.filter(Ks)},fr.prototype.find=function(_){return this.filter(_).head()},fr.prototype.findLast=function(_){return this.reverse().find(_)},fr.prototype.invokeMap=Xi(function(_,C){return"function"==typeof _?new fr(this):this.map(function(O){return Ma(O,_,C)})}),fr.prototype.reject=function(_){return this.filter(_h(Ti(_)))},fr.prototype.slice=function(_,C){_=rr(_);var O=this;return O.__filtered__&&(_>0||C<0)?new fr(O):(_<0?O=O.takeRight(-_):_&&(O=O.drop(_)),C!==P&&(O=(C=rr(C))<0?O.dropRight(-C):O.take(C-_)),O)},fr.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},fr.prototype.toArray=function(){return this.take(Xt)},eu(fr.prototype,function(_,C){var O=/^(?:filter|find|map|reject)|While$/.test(C),ee=/^(?:head|last)$/.test(C),xe=De[ee?"take"+("last"==C?"Right":""):C],Ue=ee||/^find/.test(C);!xe||(De.prototype[C]=function(){var lt=this.__wrapped__,Ct=ee?[1]:arguments,It=lt instanceof fr,on=Ct[0],ln=It||ir(lt),fn=function(jr){var yr=xe.apply(De,Xn([jr],Ct));return ee&&Hn?yr[0]:yr};ln&&O&&"function"==typeof on&&1!=on.length&&(It=ln=!1);var Hn=this.__chain__,li=!!this.__actions__.length,Qn=Ue&&!Hn,ar=It&&!li;if(!Ue&&ln){lt=ar?lt:new fr(this);var ji=_.apply(lt,Ct);return ji.__actions__.push({func:fo,args:[fn],thisArg:P}),new ka(ji,Hn)}return Qn&&ar?_.apply(this,Ct):(ji=this.thru(fn),Qn?ee?ji.value()[0]:ji.value():ji)})}),z(["pop","push","shift","sort","splice","unshift"],function(_){var C=eo[_],O=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",ee=/^(?:pop|shift)$/.test(_);De.prototype[_]=function(){var xe=arguments;if(ee&&!this.__chain__){var Ue=this.value();return C.apply(ir(Ue)?Ue:[],xe)}return this[O](function(lt){return C.apply(ir(lt)?lt:[],xe)})}}),eu(fr.prototype,function(_,C){var O=De[C];if(O){var ee=O.name+"";Fi.call(Yn,ee)||(Yn[ee]=[]),Yn[ee].push({name:C,func:O})}}),Yn[ga(P,2).name]=[{name:"wrapper",func:P}],fr.prototype.clone=function(){var _=new fr(this.__wrapped__);return _.__actions__=Fn(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=Fn(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=Fn(this.__views__),_},fr.prototype.reverse=function(){if(this.__filtered__){var _=new fr(this);_.__dir__=-1,_.__filtered__=!0}else(_=this.clone()).__dir__*=-1;return _},fr.prototype.value=function(){var _=this.__wrapped__.value(),C=this.__dir__,O=ir(_),ee=C<0,xe=O?_.length:0,Ue=function(_,C,O){for(var ee=-1,xe=O.length;++ee<xe;){var Ue=O[ee],lt=Ue.size;switch(Ue.type){case"drop":_+=lt;break;case"dropRight":C-=lt;break;case"take":C=En(C,_+lt);break;case"takeRight":_=ri(_,C-lt)}}return{start:_,end:C}}(0,xe,this.__views__),lt=Ue.start,Ct=Ue.end,It=Ct-lt,on=ee?Ct:lt-1,ln=this.__iteratees__,fn=ln.length,Hn=0,li=En(It,this.__takeCount__);if(!O||!ee&&xe==It&&li==It)return oh(_,this.__actions__);var Qn=[];e:for(;It--&&Hn<li;){for(var ar=-1,ji=_[on+=C];++ar<fn;){var jr=ln[ar],Ul=jr.type,s=(0,jr.iteratee)(ji);if(2==Ul)ji=s;else if(!s){if(1==Ul)continue e;break e}}Qn[Hn++]=ji}return Qn},De.prototype.at=Iu,De.prototype.chain=function(){return bc(this)},De.prototype.commit=function(){return new ka(this.value(),this.__chain__)},De.prototype.next=function(){this.__values__===P&&(this.__values__=wh(this.value()));var _=this.__index__>=this.__values__.length;return{done:_,value:_?P:this.__values__[this.__index__++]}},De.prototype.plant=function(_){for(var C,O=this;O instanceof Pl;){var ee=au(O);ee.__index__=0,ee.__values__=P,C?xe.__wrapped__=ee:C=ee;var xe=ee;O=O.__wrapped__}return xe.__wrapped__=_,C},De.prototype.reverse=function(){var _=this.__wrapped__;if(_ instanceof fr){var C=_;return this.__actions__.length&&(C=new fr(this)),(C=C.reverse()).__actions__.push({func:fo,args:[sg],thisArg:P}),new ka(C,this.__chain__)}return this.thru(sg)},De.prototype.toJSON=De.prototype.valueOf=De.prototype.value=function(){return oh(this.__wrapped__,this.__actions__)},De.prototype.first=De.prototype.head,Ca&&(De.prototype[Ca]=function(){return this}),De}();Nr._=gn,(m=function(){return gn}.call(_t,X,_t,Kt))!==P&&(Kt.exports=m)}.call(this)},9365:(Kt,_t,X)=>{"use strict";X.d(_t,{nC:()=>is,T5:()=>rs,ne:()=>Ha});var m=X(9619),P=X(6019),Ve=X(9010),oe=X(3405),le=X(5548),he=X(8178),Le=X(8212),Z=X(8151);function me(K=0,T,M){let J=-1;return(0,Le.k)(T)?J=Number(T)<1?1:Number(T):(0,Z.K)(T)&&(M=T),(0,Z.K)(M)||(M=he.P),new le.y(ae=>{const qe=(0,Le.k)(K)?K:+K-M.now();return M.schedule(_e,qe,{index:0,period:J,subscriber:ae})})}function _e(K){const{index:T,period:M,subscriber:J}=K;if(J.next(T),!J.closed){if(-1===M)return J.complete();K.index=T+1,this.schedule(K,M)}}var ge=X(2047),be=X(8053),Se=X(6636),ne=X(4762),gt=X(2411),Ee=X(6700),Ke=X(8735);class yt{}class we{constructor(T){this.normalizedNames=new Map,this.lazyUpdate=null,T?this.lazyInit="string"==typeof T?()=>{this.headers=new Map,T.split("\n").forEach(M=>{const J=M.indexOf(":");if(J>0){const ae=M.slice(0,J),qe=ae.toLowerCase(),Un=M.slice(J+1).trim();this.maybeSetNormalizedName(ae,qe),this.headers.has(qe)?this.headers.get(qe).push(Un):this.headers.set(qe,[Un])}})}:()=>{this.headers=new Map,Object.keys(T).forEach(M=>{let J=T[M];const ae=M.toLowerCase();"string"==typeof J&&(J=[J]),J.length>0&&(this.headers.set(ae,J),this.maybeSetNormalizedName(M,ae))})}:this.headers=new Map}has(T){return this.init(),this.headers.has(T.toLowerCase())}get(T){this.init();const M=this.headers.get(T.toLowerCase());return M&&M.length>0?M[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(T){return this.init(),this.headers.get(T.toLowerCase())||null}append(T,M){return this.clone({name:T,value:M,op:"a"})}set(T,M){return this.clone({name:T,value:M,op:"s"})}delete(T,M){return this.clone({name:T,value:M,op:"d"})}maybeSetNormalizedName(T,M){this.normalizedNames.has(M)||this.normalizedNames.set(M,T)}init(){this.lazyInit&&(this.lazyInit instanceof we?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(T=>this.applyUpdate(T)),this.lazyUpdate=null))}copyFrom(T){T.init(),Array.from(T.headers.keys()).forEach(M=>{this.headers.set(M,T.headers.get(M)),this.normalizedNames.set(M,T.normalizedNames.get(M))})}clone(T){const M=new we;return M.lazyInit=this.lazyInit&&this.lazyInit instanceof we?this.lazyInit:this,M.lazyUpdate=(this.lazyUpdate||[]).concat([T]),M}applyUpdate(T){const M=T.name.toLowerCase();switch(T.op){case"a":case"s":let J=T.value;if("string"==typeof J&&(J=[J]),0===J.length)return;this.maybeSetNormalizedName(T.name,M);const ae=("a"===T.op?this.headers.get(M):void 0)||[];ae.push(...J),this.headers.set(M,ae);break;case"d":const qe=T.value;if(qe){let Un=this.headers.get(M);if(!Un)return;Un=Un.filter(nr=>-1===qe.indexOf(nr)),0===Un.length?(this.headers.delete(M),this.normalizedNames.delete(M)):this.headers.set(M,Un)}else this.headers.delete(M),this.normalizedNames.delete(M)}}forEach(T){this.init(),Array.from(this.normalizedNames.keys()).forEach(M=>T(this.normalizedNames.get(M),this.headers.get(M)))}}class Ne{encodeKey(T){return Bt(T)}encodeValue(T){return Bt(T)}decodeKey(T){return decodeURIComponent(T)}decodeValue(T){return decodeURIComponent(T)}}const dt=/%(\d[a-f0-9])/gi,Jt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Bt(K){return encodeURIComponent(K).replace(dt,(T,M)=>{var J;return null!=(J=Jt[M])?J:T})}function _n(K){return`${K}`}class it{constructor(T={}){if(this.updates=null,this.cloneFrom=null,this.encoder=T.encoder||new Ne,T.fromString){if(T.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(K,T){const M=new Map;return K.length>0&&K.replace(/^\?/,"").split("&").forEach(ae=>{const qe=ae.indexOf("="),[Un,nr]=-1==qe?[T.decodeKey(ae),""]:[T.decodeKey(ae.slice(0,qe)),T.decodeValue(ae.slice(qe+1))],Qt=M.get(Un)||[];Qt.push(nr),M.set(Un,Qt)}),M}(T.fromString,this.encoder)}else T.fromObject?(this.map=new Map,Object.keys(T.fromObject).forEach(M=>{const J=T.fromObject[M];this.map.set(M,Array.isArray(J)?J:[J])})):this.map=null}has(T){return this.init(),this.map.has(T)}get(T){this.init();const M=this.map.get(T);return M?M[0]:null}getAll(T){return this.init(),this.map.get(T)||null}keys(){return this.init(),Array.from(this.map.keys())}append(T,M){return this.clone({param:T,value:M,op:"a"})}appendAll(T){const M=[];return Object.keys(T).forEach(J=>{const ae=T[J];Array.isArray(ae)?ae.forEach(qe=>{M.push({param:J,value:qe,op:"a"})}):M.push({param:J,value:ae,op:"a"})}),this.clone(M)}set(T,M){return this.clone({param:T,value:M,op:"s"})}delete(T,M){return this.clone({param:T,value:M,op:"d"})}toString(){return this.init(),this.keys().map(T=>{const M=this.encoder.encodeKey(T);return this.map.get(T).map(J=>M+"="+this.encoder.encodeValue(J)).join("&")}).filter(T=>""!==T).join("&")}clone(T){const M=new it({encoder:this.encoder});return M.cloneFrom=this.cloneFrom||this,M.updates=(this.updates||[]).concat(T),M}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(T=>this.map.set(T,this.cloneFrom.map.get(T))),this.updates.forEach(T=>{switch(T.op){case"a":case"s":const M=("a"===T.op?this.map.get(T.param):void 0)||[];M.push(_n(T.value)),this.map.set(T.param,M);break;case"d":if(void 0===T.value){this.map.delete(T.param);break}{let J=this.map.get(T.param)||[];const ae=J.indexOf(_n(T.value));-1!==ae&&J.splice(ae,1),J.length>0?this.map.set(T.param,J):this.map.delete(T.param)}}}),this.cloneFrom=this.updates=null)}}class Te{constructor(){this.map=new Map}set(T,M){return this.map.set(T,M),this}get(T){return this.map.has(T)||this.map.set(T,T.defaultValue()),this.map.get(T)}delete(T){return this.map.delete(T),this}keys(){return this.map.keys()}}function Ze(K){return"undefined"!=typeof ArrayBuffer&&K instanceof ArrayBuffer}function Ie(K){return"undefined"!=typeof Blob&&K instanceof Blob}function $e(K){return"undefined"!=typeof FormData&&K instanceof FormData}class jt{constructor(T,M,J,ae){let qe;if(this.url=M,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=T.toUpperCase(),function(K){switch(K){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ae?(this.body=void 0!==J?J:null,qe=ae):qe=J,qe&&(this.reportProgress=!!qe.reportProgress,this.withCredentials=!!qe.withCredentials,qe.responseType&&(this.responseType=qe.responseType),qe.headers&&(this.headers=qe.headers),qe.context&&(this.context=qe.context),qe.params&&(this.params=qe.params)),this.headers||(this.headers=new we),this.context||(this.context=new Te),this.params){const Un=this.params.toString();if(0===Un.length)this.urlWithParams=M;else{const nr=M.indexOf("?");this.urlWithParams=M+(-1===nr?"?":nr<M.length-1?"&":"")+Un}}else this.params=new it,this.urlWithParams=M}serializeBody(){return null===this.body?null:Ze(this.body)||Ie(this.body)||$e(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof it?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$e(this.body)?null:Ie(this.body)?this.body.type||null:Ze(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof it?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(T={}){var ri;const M=T.method||this.method,J=T.url||this.url,ae=T.responseType||this.responseType,qe=void 0!==T.body?T.body:this.body,Un=void 0!==T.withCredentials?T.withCredentials:this.withCredentials,nr=void 0!==T.reportProgress?T.reportProgress:this.reportProgress;let Qt=T.headers||this.headers,Dr=T.params||this.params;const gl=null!=(ri=T.context)?ri:this.context;return void 0!==T.setHeaders&&(Qt=Object.keys(T.setHeaders).reduce((En,U)=>En.set(U,T.setHeaders[U]),Qt)),T.setParams&&(Dr=Object.keys(T.setParams).reduce((En,U)=>En.set(U,T.setParams[U]),Dr)),new jt(M,J,qe,{params:Dr,headers:Qt,context:gl,reportProgress:nr,responseType:ae,withCredentials:Un})}}var Vt=(()=>((Vt=Vt||{})[Vt.Sent=0]="Sent",Vt[Vt.UploadProgress=1]="UploadProgress",Vt[Vt.ResponseHeader=2]="ResponseHeader",Vt[Vt.DownloadProgress=3]="DownloadProgress",Vt[Vt.Response=4]="Response",Vt[Vt.User=5]="User",Vt))();class tn extends class{constructor(T,M=200,J="OK"){this.headers=T.headers||new we,this.status=void 0!==T.status?T.status:M,this.statusText=T.statusText||J,this.url=T.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(T={}){super(T),this.type=Vt.Response,this.body=void 0!==T.body?T.body:null}clone(T={}){return new tn({body:void 0!==T.body?T.body:this.body,headers:T.headers||this.headers,status:void 0!==T.status?T.status:this.status,statusText:T.statusText||this.statusText,url:T.url||this.url||void 0})}}function zn(K,T){return{body:T,headers:K.headers,context:K.context,observe:K.observe,params:K.params,reportProgress:K.reportProgress,responseType:K.responseType,withCredentials:K.withCredentials}}let oi=(()=>{class K{constructor(M){this.handler=M}request(M,J,ae={}){let qe;if(M instanceof jt)qe=M;else{let Qt,Dr;Qt=ae.headers instanceof we?ae.headers:new we(ae.headers),ae.params&&(Dr=ae.params instanceof it?ae.params:new it({fromObject:ae.params})),qe=new jt(M,J,void 0!==ae.body?ae.body:null,{headers:Qt,context:ae.context,params:Dr,reportProgress:ae.reportProgress,responseType:ae.responseType||"json",withCredentials:ae.withCredentials})}const Un=(0,gt.of)(qe).pipe((0,Ee.b)(Qt=>this.handler.handle(Qt)));if(M instanceof jt||"events"===ae.observe)return Un;const nr=Un.pipe((0,Ke.h)(Qt=>Qt instanceof tn));switch(ae.observe||"body"){case"body":switch(qe.responseType){case"arraybuffer":return nr.pipe((0,be.U)(Qt=>{if(null!==Qt.body&&!(Qt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Qt.body}));case"blob":return nr.pipe((0,be.U)(Qt=>{if(null!==Qt.body&&!(Qt.body instanceof Blob))throw new Error("Response is not a Blob.");return Qt.body}));case"text":return nr.pipe((0,be.U)(Qt=>{if(null!==Qt.body&&"string"!=typeof Qt.body)throw new Error("Response is not a string.");return Qt.body}));default:return nr.pipe((0,be.U)(Qt=>Qt.body))}case"response":return nr;default:throw new Error(`Unreachable: unhandled observe type ${ae.observe}}`)}}delete(M,J={}){return this.request("DELETE",M,J)}get(M,J={}){return this.request("GET",M,J)}head(M,J={}){return this.request("HEAD",M,J)}jsonp(M,J){return this.request("JSONP",M,{params:(new it).append(J,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(M,J={}){return this.request("OPTIONS",M,J)}patch(M,J,ae={}){return this.request("PATCH",M,zn(ae,J))}post(M,J,ae={}){return this.request("POST",M,zn(ae,J))}put(M,J,ae={}){return this.request("PUT",M,zn(ae,J))}}return K.\u0275fac=function(M){return new(M||K)(m.LFG(yt))},K.\u0275prov=m.Yz7({token:K,factory:K.\u0275fac}),K})();function lr(K,T){if(1&K&&(m.TgZ(0,"span",2),m._uU(1),m.qZA()),2&K){const M=T.$implicit,J=m.oxw();m.Q6J("ngClass",M.isMatch?J.matchClass:null),m.xp6(1),m.Oqu(M.text)}}const Oi=function(K,T){return{"completer-title":K,"completer-description":T}},Ni=["ctrInput"];function tr(K,T){if(1&K&&(m.TgZ(0,"div",10),m._uU(1),m.qZA()),2&K){const M=m.oxw(3);m.xp6(1),m.Oqu(M._textSearching)}}function Ii(K,T){if(1&K&&(m.TgZ(0,"div",11),m._uU(1),m.qZA()),2&K){const M=m.oxw(3);m.xp6(1),m.Oqu(M._textNoResults)}}function mt(K,T){if(1&K&&m._UZ(0,"img",21),2&K){const M=m.oxw(2).$implicit;m.s9C("src",M.image,m.LSH)}}function Je(K,T){1&K&&m._UZ(0,"div",22)}function xt(K,T){if(1&K&&(m.TgZ(0,"div",18),m.YNc(1,mt,1,1,"img",19),m.YNc(2,Je,1,0,"div",20),m.qZA()),2&K){const M=m.oxw().$implicit;m.xp6(1),m.Q6J("ngIf",""!=M.image),m.xp6(1),m.Q6J("ngIf",""===M.image)}}function zt(K,T){if(1&K&&m._UZ(0,"completer-list-item",23),2&K){const M=m.oxw().$implicit,J=m.oxw(3);m.Q6J("text",M.description)("matchClass",J.matchClass)("searchStr",J.searchStr)("type","description")}}const Et=function(K){return{"completer-item-text-image":K}};function nn(K,T){if(1&K&&(m.TgZ(0,"div",12),m.TgZ(1,"div",13),m.YNc(2,xt,3,2,"div",14),m.TgZ(3,"div",15),m._UZ(4,"completer-list-item",16),m.YNc(5,zt,1,4,"completer-list-item",17),m.qZA(),m.qZA(),m.qZA()),2&K){const M=T.$implicit,J=T.index,ae=m.oxw(3);m.xp6(1),m.Q6J("ctrRow",J)("dataItem",M),m.xp6(1),m.Q6J("ngIf",M.image||""===M.image),m.xp6(1),m.Q6J("ngClass",m.VKq(9,Et,M.image||""===M.image)),m.xp6(1),m.Q6J("text",M.title)("matchClass",ae.matchClass)("searchStr",ae.searchStr)("type","title"),m.xp6(1),m.Q6J("ngIf",M.description&&""!=M.description)}}function Nn(K,T){if(1&K&&(m.TgZ(0,"div",6),m.YNc(1,tr,2,1,"div",7),m.YNc(2,Ii,2,1,"div",8),m.YNc(3,nn,6,11,"div",9),m.qZA()),2&K){const M=m.oxw(),J=M.searching,ae=M.results,qe=m.oxw();m.xp6(1),m.Q6J("ngIf",J&&qe.displaySearching),m.xp6(1),m.Q6J("ngIf",!(J||ae&&0!==(null==ae?null:ae.length))),m.xp6(1),m.Q6J("ngForOf",ae)}}function Wn(K,T){if(1&K&&(m.TgZ(0,"div",4),m.YNc(1,Nn,4,3,"div",5),m.qZA()),2&K){const M=T.results,J=T.searching,ae=T.searchInitialized,qe=T.isOpen,Un=m.oxw();m.xp6(1),m.Q6J("ngIf",ae&&qe&&((null==M?null:M.length)>0||Un.displayNoResults&&!J||J&&Un.displaySearching))}}function Dt(K){return null==K}class bt extends oe.xQ{constructor(){super(),this._searchFields=null,this._titleField=null,this._descriptionField=void 0,this._imageField=void 0}cancel(){}searchFields(T){return this._searchFields=T,this}titleField(T){return this._titleField=T,this}descriptionField(T){return this._descriptionField=T,this}imageField(T){return this._imageField=T,this}convertToItem(T){let J,M=null,ae=null;return J=this._titleField?this.extractTitle(T):T,"string"!=typeof J&&(J=JSON.stringify(J)),this._descriptionField&&(ae=this.extractValue(T,this._descriptionField)),this._imageField&&(M=this.extractValue(T,this._imageField)),Dt(J)?null:{description:ae,image:M,originalObject:T,title:J}}extractMatches(T,M){let J=[];const ae=this._searchFields?this._searchFields.split(","):null;return J=null!=this._searchFields&&""!==M?T.filter(qe=>(ae?this.extractBySearchFields(ae,qe):[qe]).some(nr=>nr.toString().toLowerCase().indexOf(M.toString().toLowerCase())>=0)):T,J}extractTitle(T){return this._titleField?this._titleField.split(",").map(M=>this.extractValue(T,M)).reduce((M,J)=>M?`${M} ${J}`:J):""}extractValue(T,M){let J,ae;if(M)for(M of(J=M.split("."),ae=T,J))ae&&(ae=ae[M]);else ae=T;return ae}processResults(T){let M;const J=[];if(T&&T.length>0)for(M=0;M<T.length;M++){const ae=this.convertToItem(T[M]);ae&&J.push(ae)}return J}extractBySearchFields(T,M){return T.map(J=>this.extractValue(M,J)).filter(J=>!!J)}}class Qe extends bt{constructor(){super(),this.dataSourceChange=new m.vpe,this._data=[],this.savedTerm=null}data(T){return T instanceof le.y?T.pipe((0,ge.K)(()=>[])).subscribe(J=>{this._data=J,this.savedTerm&&this.search(this.savedTerm),this.dataSourceChange.emit()}):this._data=T,this.dataSourceChange.emit(),this}search(T){if(this._data){this.savedTerm=null;const M=this.extractMatches(this._data,T);this.next(this.processResults(M))}else this.savedTerm=T}convertToItem(T){return super.convertToItem(T)}}class Mt extends bt{constructor(T){super(),this.http=T,this.dataSourceChange=new m.vpe,this._remoteUrl=null,this.remoteSearch=null,this._urlFormater=null,this._dataField=null}remoteUrl(T){return this._remoteUrl=T,this.dataSourceChange.emit(),this}urlFormater(T){this._urlFormater=T}dataField(T){this._dataField=T}requestOptions(T){this._requestOptions=T}search(T){this.cancel();let M="";M=this._urlFormater?this._urlFormater(T):this._remoteUrl+encodeURIComponent(T),this.remoteSearch=this.http.get(M,Object.assign({},this._requestOptions)).pipe((0,be.U)(J=>{const ae=this.extractValue(J,this._dataField);return this.extractMatches(ae,T)}),(0,ge.K)(()=>[])).subscribe(J=>{const ae=this.processResults(J);this.next(ae)})}cancel(){this.remoteSearch&&this.remoteSearch.unsubscribe()}convertToItem(T){return super.convertToItem(T)}}let $t=class{create(){return new Qe}};$t.\u0275fac=function(T){return new(T||$t)},$t.\u0275prov=m.Yz7({token:$t,factory:function(K){return $t.\u0275fac(K)}});let An=class{constructor(T){this.http=T}create(){return new Mt(this.http)}};An.\u0275fac=function(T){return new(T||An)(m.LFG(oi))},An.\u0275prov=m.Yz7({token:An,factory:function(K){return An.\u0275fac(K)}}),An=(0,ne.gn)([(0,ne.w6)("design:paramtypes",[oi])],An);let bn=class{constructor(T,M){this.localDataFactory=T,this.remoteDataFactory=M}local(T,M="",J=""){return this.localDataFactory.create().data(T).searchFields(M).titleField(J)}remote(T,M="",J=""){return this.remoteDataFactory.create().remoteUrl(T).searchFields(M).titleField(J)}};bn.\u0275fac=function(T){return new(T||bn)(m.LFG($t),m.LFG(An))},bn.\u0275prov=m.Yz7({token:bn,factory:function(K){return bn.\u0275fac(K)}}),bn=(0,ne.gn)([(0,ne.w6)("design:paramtypes",[$t,An])],bn);let hi=class{constructor(){this.selected=new m.vpe,this.highlighted=new m.vpe,this.opened=new m.vpe,this.dataSourceChange=new m.vpe,this.list=null,this.dropdown=null,this._hasHighlighted=!1,this._hasSelected=!1,this._cancelBlur=!1,this._isOpen=!1,this._autoHighlightIndex=null}registerList(T){this.list=T}registerDropdown(T){this.dropdown=T}onHighlighted(T){this.highlighted.emit(T),this._hasHighlighted=!!T}onSelected(T,M=!0){this.selected.emit(T),T&&(this._hasSelected=!0),M&&this.clear()}onDataSourceChange(){this.hasSelected&&(this.selected.emit(null),this._hasSelected=!1),this.dataSourceChange.emit()}search(T){this._hasSelected&&(this.selected.emit(null),this._hasSelected=!1),this.list&&this.list.search(T)}clear(){this._hasHighlighted=!1,this.isOpen=!1,this.dropdown&&this.dropdown.clear(),this.list&&this.list.clear()}selectCurrent(){this.dropdown&&this.dropdown.selectCurrent()}nextRow(){this.dropdown&&this.dropdown.nextRow()}prevRow(){this.dropdown&&this.dropdown.prevRow()}hasHighlighted(){return this._hasHighlighted}cancelBlur(T){this._cancelBlur=T}isCancelBlur(){return this._cancelBlur}open(){!this._isOpen&&this.list&&(this.isOpen=!0,this.list.open())}get isOpen(){return this._isOpen}set isOpen(T){this._isOpen=T,this.opened.emit(this._isOpen),this.list&&this.list.isOpen(T)}get autoHighlightIndex(){return this._autoHighlightIndex}set autoHighlightIndex(T){this._autoHighlightIndex=T,this.dropdown&&this.dropdown.highlightRow(this._autoHighlightIndex)}get hasSelected(){return this._hasSelected}};hi.\u0275fac=function(T){return new(T||hi)},hi.\u0275dir=m.lG2({type:hi,selectors:[["","ctrCompleter",""]],outputs:{selected:"selected",highlighted:"highlighted",opened:"opened",dataSourceChange:"dataSourceChange"}}),(0,ne.gn)([(0,m.r_U)(),(0,ne.w6)("design:type",Object)],hi.prototype,"selected",void 0),(0,ne.gn)([(0,m.r_U)(),(0,ne.w6)("design:type",Object)],hi.prototype,"highlighted",void 0),(0,ne.gn)([(0,m.r_U)(),(0,ne.w6)("design:type",Object)],hi.prototype,"opened",void 0),(0,ne.gn)([(0,m.r_U)(),(0,ne.w6)("design:type",Object)],hi.prototype,"dataSourceChange",void 0);class wr{constructor(T,M){this.row=T,this.index=M}}let Ci=class{constructor(T,M,J){this.completer=T,this.el=M,this.zone=J,this.rows=[],this.isScrollOn=!1,this._rowMouseDown=!1,this.completer.registerDropdown(this)}ngOnDestroy(){this.completer.registerDropdown(null)}ngAfterViewInit(){const T=getComputedStyle(this.el.nativeElement),M=this.completer.autoHighlightIndex;this.isScrollOn=!!T.maxHeight&&"auto"===T.overflowY,M&&this.zone.run(()=>{this.highlightRow(M)})}onMouseDown(T){this._rowMouseDown?this._rowMouseDown=!1:(this.completer.cancelBlur(!0),this.zone.run(()=>{this.completer.cancelBlur(!1)}))}registerRow(T){const M=this.rows.findIndex(J=>J.index===T.index);M>=0?this.rows[M]=T:this.rows.push(T)}unregisterRow(T){const M=this.rows.findIndex(J=>J.index===T);this.rows.splice(M,1),this.currHighlighted&&T===this.currHighlighted.index&&this.highlightRow(null)}highlightRow(T){const M=this.rows.find(J=>J.index===T);if(Dt(T)||T<0)return this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=void 0,void this.completer.onHighlighted(null);if(M&&(this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=M,this.currHighlighted.row.setHighlighted(!0),this.completer.onHighlighted(this.currHighlighted.row.getDataItem()),this.isScrollOn&&this.currHighlighted)){const J=this.dropdownRowTop();if(!J)return;if(J<0)this.dropdownScrollTopTo(J-1);else{const ae=this.currHighlighted.row.getNativeElement();this.dropdownHeight()<ae.getBoundingClientRect().bottom&&(this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(ae)),this.el.nativeElement.getBoundingClientRect().bottom-this.dropdownRowOffsetHeight(ae)<ae.getBoundingClientRect().top&&this.dropdownScrollTopTo(ae.getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))))}}}clear(){this.rows=[]}onSelected(T){this.completer.onSelected(T)}rowMouseDown(){this._rowMouseDown=!0}selectCurrent(){this.currHighlighted&&this.currHighlighted.row?this.onSelected(this.currHighlighted.row.getDataItem()):this.rows.length>0&&this.onSelected(this.rows[0].row.getDataItem())}nextRow(){let T=0;this.currHighlighted&&(T=this.currHighlighted.index+1),this.highlightRow(T)}prevRow(){let T=-1;this.currHighlighted&&(T=this.currHighlighted.index-1),this.highlightRow(T)}dropdownScrollTopTo(T){this.el.nativeElement.scrollTop=this.el.nativeElement.scrollTop+T}dropdownRowTop(){if(this.currHighlighted)return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))}dropdownHeight(){return this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).maxHeight,10)}dropdownRowOffsetHeight(T){const M=getComputedStyle(T.parentElement);return T.parentElement.offsetHeight+parseInt(M.marginTop,10)+parseInt(M.marginBottom,10)}};Ci.\u0275fac=function(T){return new(T||Ci)(m.Y36(hi,1),m.Y36(m.SBq),m.Y36(m.R0b))},Ci.\u0275dir=m.lG2({type:Ci,selectors:[["","ctrDropdown",""]],hostBindings:function(T,M){1&T&&m.NdJ("mousedown",function(ae){return M.onMouseDown(ae)})}}),(0,ne.gn)([(0,m.L6J)("mousedown",["$event"]),(0,ne.w6)("design:type",Function),(0,ne.w6)("design:paramtypes",[Object]),(0,ne.w6)("design:returntype",void 0)],Ci.prototype,"onMouseDown",null),Ci=(0,ne.gn)([(0,ne.fM)(0,(0,m.AA_)()),(0,ne.w6)("design:paramtypes",[hi,m.SBq,m.R0b])],Ci);let or=class{constructor(T,M,J){this.completer=T,this.ngModel=M,this.el=J,this.clearSelected=!1,this.clearUnselected=!1,this.overrideSuggested=!1,this.fillHighlighted=!0,this.openOnFocus=!1,this.openOnClick=!1,this.selectOnClick=!1,this.selectOnFocus=!1,this.ngModelChange=new m.vpe,this._searchStr="",this._displayStr="",this.blurTimer=null,this.completer.selected.subscribe(ae=>{!ae||(this.searchStr=this.clearSelected?"":ae.title,this.ngModelChange.emit(this.searchStr))}),this.completer.highlighted.subscribe(ae=>{this.fillHighlighted&&(ae?(this._displayStr=ae.title,this.ngModelChange.emit(ae.title)):(this._displayStr=this.searchStr,this.ngModelChange.emit(this.searchStr)))}),this.completer.dataSourceChange.subscribe(()=>{this.completer.search(this.searchStr)}),this.ngModel.valueChanges&&this.ngModel.valueChanges.subscribe(ae=>{!Dt(ae)&&this._displayStr!==ae&&(this.searchStr!==ae&&this.completer.search(ae),this.searchStr=ae)})}keyupHandler(T){37===T.keyCode||39===T.keyCode||9===T.keyCode||(38===T.keyCode||13===T.keyCode?T.preventDefault():40===T.keyCode?(T.preventDefault(),this.completer.search(this.searchStr)):27===T.keyCode&&this.completer.isOpen&&(this.restoreSearchValue(),this.completer.clear(),T.stopPropagation(),T.preventDefault()))}pasteHandler(T){this.completer.open()}keydownHandler(T){const M=T.keyCode||T.which;13===M?(this.completer.hasHighlighted()&&T.preventDefault(),this.handleSelection()):40===M?(T.preventDefault(),this.completer.open(),this.completer.nextRow()):38===M?(T.preventDefault(),this.completer.prevRow()):9===M?this.handleSelection():8===M?this.completer.open():27===M?(T.preventDefault(),this.completer.isOpen&&T.stopPropagation()):0!==M&&16!==M&&20!==M&&(M<=112||M>=123)&&!T.ctrlKey&&!T.metaKey&&!T.altKey&&this.completer.open()}onBlur(T){this.completer.isCancelBlur()?setTimeout(()=>{this.el.nativeElement.focus()},0):this.completer.isOpen&&(this.blurTimer=me(200).pipe((0,Se.q)(1)).subscribe(()=>this.doBlur()))}onfocus(){this.blurTimer&&(this.blurTimer.unsubscribe(),this.blurTimer=null),this.selectOnFocus&&this.el.nativeElement.select(),this.openOnFocus&&this.completer.open()}onClick(T){this.selectOnClick&&this.el.nativeElement.select(),this.openOnClick&&(this.completer.isOpen?this.completer.clear():this.completer.open())}get searchStr(){return this._searchStr}set searchStr(T){this._searchStr=T,this._displayStr=T}handleSelection(){this.completer.hasHighlighted()?(this._searchStr="",this.completer.selectCurrent()):this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):(this.clearUnselected&&!this.completer.hasSelected&&(this.searchStr="",this.ngModelChange.emit(this.searchStr)),this.completer.clear())}restoreSearchValue(){this.fillHighlighted&&this._displayStr!==this.searchStr&&(this._displayStr=this.searchStr,this.ngModelChange.emit(this.searchStr))}doBlur(){this.blurTimer&&(this.blurTimer.unsubscribe(),this.blurTimer=null),this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):this.clearUnselected&&!this.completer.hasSelected?(this.searchStr="",this.ngModelChange.emit(this.searchStr)):this.restoreSearchValue(),this.completer.clear()}};or.\u0275fac=function(T){return new(T||or)(m.Y36(hi,1),m.Y36(Ve.On),m.Y36(m.SBq))},or.\u0275dir=m.lG2({type:or,selectors:[["","ctrInput",""]],hostBindings:function(T,M){1&T&&m.NdJ("keyup",function(ae){return M.keyupHandler(ae)})("paste",function(ae){return M.pasteHandler(ae)})("keydown",function(ae){return M.keydownHandler(ae)})("blur",function(ae){return M.onBlur(ae)})("focus",function(){return M.onfocus()})("click",function(ae){return M.onClick(ae)})},inputs:{clearSelected:"clearSelected",clearUnselected:"clearUnselected",overrideSuggested:"overrideSuggested",fillHighlighted:"fillHighlighted",openOnFocus:"openOnFocus",openOnClick:"openOnClick",selectOnClick:"selectOnClick",selectOnFocus:"selectOnFocus"},outputs:{ngModelChange:"ngModelChange"}}),(0,ne.gn)([(0,m.IIB)("clearSelected"),(0,ne.w6)("design:type",Object)],or.prototype,"clearSelected",void 0),(0,ne.gn)([(0,m.IIB)("clearUnselected"),(0,ne.w6)("design:type",Object)],or.prototype,"clearUnselected",void 0),(0,ne.gn)([(0,m.IIB)("overrideSuggested"),(0,ne.w6)("design:type",Object)],or.prototype,"overrideSuggested",void 0),(0,ne.gn)([(0,m.IIB)("fillHighlighted"),(0,ne.w6)("design:type",Object)],or.prototype,"fillHighlighted",void 0),(0,ne.gn)([(0,m.IIB)("openOnFocus"),(0,ne.w6)("design:type",Object)],or.prototype,"openOnFocus",void 0),(0,ne.gn)([(0,m.IIB)("openOnClick"),(0,ne.w6)("design:type",Object)],or.prototype,"openOnClick",void 0),(0,ne.gn)([(0,m.IIB)("selectOnClick"),(0,ne.w6)("design:type",Object)],or.prototype,"selectOnClick",void 0),(0,ne.gn)([(0,m.IIB)("selectOnFocus"),(0,ne.w6)("design:type",Object)],or.prototype,"selectOnFocus",void 0),(0,ne.gn)([(0,m.r_U)(),(0,ne.w6)("design:type",m.vpe)],or.prototype,"ngModelChange",void 0),(0,ne.gn)([(0,m.L6J)("keyup",["$event"]),(0,ne.w6)("design:type",Function),(0,ne.w6)("design:paramtypes",[Object]),(0,ne.w6)("design:returntype",void 0)],or.prototype,"keyupHandler",null),(0,ne.gn)([(0,m.L6J)("paste",["$event"]),(0,ne.w6)("design:type",Function),(0,ne.w6)("design:paramtypes",[Object]),(0,ne.w6)("design:returntype",void 0)],or.prototype,"pasteHandler",null),(0,ne.gn)([(0,m.L6J)("keydown",["$event"]),(0,ne.w6)("design:type",Function),(0,ne.w6)("design:paramtypes",[Object]),(0,ne.w6)("design:returntype",void 0)],or.prototype,"keydownHandler",null),(0,ne.gn)([(0,m.L6J)("blur",["$event"]),(0,ne.w6)("design:type",Function),(0,ne.w6)("design:paramtypes",[Object]),(0,ne.w6)("design:returntype",void 0)],or.prototype,"onBlur",null),(0,ne.gn)([(0,m.L6J)("focus",[]),(0,ne.w6)("design:type",Function),(0,ne.w6)("design:paramtypes",[]),(0,ne.w6)("design:returntype",void 0)],or.prototype,"onfocus",null),(0,ne.gn)([(0,m.L6J)("click",["$event"]),(0,ne.w6)("design:type",Function),(0,ne.w6)("design:paramtypes",[Object]),(0,ne.w6)("design:returntype",void 0)],or.prototype,"onClick",null),or=(0,ne.gn)([(0,ne.fM)(0,(0,m.AA_)()),(0,ne.w6)("design:paramtypes",[hi,Ve.On,m.SBq])],or);class so{constructor(T,M,J,ae){this.results=T,this.searching=M,this.searchInitialized=J,this.isOpen=ae}}let qn=class{constructor(T,M,J,ae,qe){this.completer=T,this.templateRef=M,this.viewContainer=J,this.cd=ae,this.zone=qe,this.ctrListMinSearchLength=3,this.ctrListPause=10,this.ctrListAutoMatch=!1,this.ctrListAutoHighlight=!1,this.ctrListDisplaySearching=!0,this._dataService=null,this.term=null,this.searchTimer=null,this.clearTimer=null,this.ctx=new so([],!1,!1,!1),this._initialValue=null,this.viewRef=null}ngOnInit(){this.completer.registerList(this),this.viewRef=this.viewContainer.createEmbeddedView(this.templateRef,new so([],!1,!1,!1))}set dataService(T){this._dataService=T,this.dataServiceSubscribe()}set initialValue(T){this._dataService&&"function"==typeof this._dataService.convertToItem?this.zone.run(()=>{const M=this._dataService&&this._dataService.convertToItem(T);M&&this.completer.onSelected(M,!1)}):this._dataService||(this._initialValue=T)}search(T){!Dt(T)&&T.length>=this.ctrListMinSearchLength&&this.term!==T?(this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.ctx.searching||(this.ctrListDisplaySearching&&(this.ctx.results=[]),this.ctx.searching=!0,this.ctx.searchInitialized=!0,this.refreshTemplate()),this.clearTimer&&this.clearTimer.unsubscribe(),this.searchTimer=me(this.ctrListPause).pipe((0,Se.q)(1)).subscribe(()=>{this.searchTimerComplete(T)})):!Dt(T)&&T.length<this.ctrListMinSearchLength&&(this.clear(),this.term="")}clear(){this.searchTimer&&this.searchTimer.unsubscribe(),this.clearTimer=me(50).pipe((0,Se.q)(1)).subscribe(()=>{this._clear()})}open(){this.ctx.searchInitialized||this.search(""),this.refreshTemplate()}isOpen(T){this.ctx.isOpen=T}_clear(){this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.dataService&&this.dataService.cancel(),this.viewContainer.clear(),this.viewRef=null}searchTimerComplete(T){Dt(T)||T.length<this.ctrListMinSearchLength?this.ctx.searching=!1:(this.term=T,this._dataService&&this._dataService.search(T))}refreshTemplate(){this.viewRef?this.viewRef.destroyed||(this.viewRef.context.isOpen=this.ctx.isOpen,this.viewRef.context.results=this.ctx.results,this.viewRef.context.searching=this.ctx.searching,this.viewRef.context.searchInitialized=this.ctx.searchInitialized,this.viewRef.detectChanges()):this.viewRef=this.viewContainer.createEmbeddedView(this.templateRef,this.ctx),this.cd.markForCheck()}getBestMatchIndex(){if(!this.ctx.results||!this.term)return null;let T=this.ctx.results.findIndex(M=>M.title.toLowerCase()===this.term.toLocaleLowerCase());return T<0&&(T=this.ctx.results.findIndex(M=>M.title.toLowerCase().startsWith(this.term.toLocaleLowerCase()))),T<0&&(T=this.ctx.results.findIndex(M=>M.title.toLowerCase().includes(this.term.toLocaleLowerCase()))),T<0?null:T}dataServiceSubscribe(){this._dataService&&(this._dataService.subscribe(T=>{this.ctx.searchInitialized=!0,this.ctx.searching=!1,this.ctx.results=T,this.ctrListAutoMatch&&T&&1===T.length&&T[0].title&&!Dt(this.term)&&T[0].title.toLocaleLowerCase()===this.term.toLocaleLowerCase()?this.completer.onSelected(T[0]):(this.refreshTemplate(),this.ctrListAutoHighlight&&(this.completer.autoHighlightIndex=this.getBestMatchIndex()))},T=>(console.error(T),console.error("Unexpected error in dataService: errors should be handled by the dataService Observable"),[])),this._dataService.dataSourceChange&&this._dataService.dataSourceChange.subscribe(()=>{this.term=null,this.ctx.searchInitialized=!1,this.ctx.searching=!1,this.ctx.results=[],this.refreshTemplate(),this.completer.onDataSourceChange()}))}};qn.\u0275fac=function(T){return new(T||qn)(m.Y36(hi,1),m.Y36(m.Rgc),m.Y36(m.s_b),m.Y36(m.sBO),m.Y36(m.R0b))},qn.\u0275dir=m.lG2({type:qn,selectors:[["","ctrList",""]],inputs:{ctrListMinSearchLength:"ctrListMinSearchLength",ctrListPause:"ctrListPause",ctrListAutoMatch:"ctrListAutoMatch",ctrListAutoHighlight:"ctrListAutoHighlight",ctrListDisplaySearching:"ctrListDisplaySearching",dataService:["ctrList","dataService"],initialValue:["ctrListInitialValue","initialValue"]}}),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],qn.prototype,"ctrListMinSearchLength",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],qn.prototype,"ctrListPause",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],qn.prototype,"ctrListAutoMatch",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],qn.prototype,"ctrListAutoHighlight",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],qn.prototype,"ctrListDisplaySearching",void 0),(0,ne.gn)([(0,m.IIB)("ctrList"),(0,ne.w6)("design:type",Object),(0,ne.w6)("design:paramtypes",[Object])],qn.prototype,"dataService",null),(0,ne.gn)([(0,m.IIB)("ctrListInitialValue"),(0,ne.w6)("design:type",Object),(0,ne.w6)("design:paramtypes",[Object])],qn.prototype,"initialValue",null),qn=(0,ne.gn)([(0,ne.fM)(0,(0,m.AA_)()),(0,ne.w6)("design:paramtypes",[hi,m.Rgc,m.s_b,m.sBO,m.R0b])],qn);let pr=class{constructor(T,M,J){this.el=T,this.renderer=M,this.dropdown=J,this.selected=!1,this._rowIndex=0,this._item=null}ngOnDestroy(){this._rowIndex&&this.dropdown.unregisterRow(this._rowIndex)}set ctrRow(T){this._rowIndex=T,this.dropdown.registerRow(new wr(this,this._rowIndex))}set dataItem(T){this._item=T}onClick(T){this.dropdown.onSelected(this._item)}onMouseEnter(T){this.dropdown.highlightRow(this._rowIndex)}onMouseDown(T){this.dropdown.rowMouseDown()}setHighlighted(T){this.selected=T,this.selected?this.renderer.addClass(this.el.nativeElement,"completer-selected-row"):this.renderer.removeClass(this.el.nativeElement,"completer-selected-row")}getNativeElement(){return this.el.nativeElement}getDataItem(){return this._item}};pr.\u0275fac=function(T){return new(T||pr)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Ci,1))},pr.\u0275dir=m.lG2({type:pr,selectors:[["","ctrRow",""]],hostBindings:function(T,M){1&T&&m.NdJ("click",function(ae){return M.onClick(ae)})("mouseenter",function(ae){return M.onMouseEnter(ae)})("mousedown",function(ae){return M.onMouseDown(ae)})},inputs:{ctrRow:"ctrRow",dataItem:"dataItem"}}),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Number),(0,ne.w6)("design:paramtypes",[Number])],pr.prototype,"ctrRow",null),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object),(0,ne.w6)("design:paramtypes",[Object])],pr.prototype,"dataItem",null),(0,ne.gn)([(0,m.L6J)("click",["$event"]),(0,ne.w6)("design:type",Function),(0,ne.w6)("design:paramtypes",[Object]),(0,ne.w6)("design:returntype",void 0)],pr.prototype,"onClick",null),(0,ne.gn)([(0,m.L6J)("mouseenter",["$event"]),(0,ne.w6)("design:type",Function),(0,ne.w6)("design:paramtypes",[Object]),(0,ne.w6)("design:returntype",void 0)],pr.prototype,"onMouseEnter",null),(0,ne.gn)([(0,m.L6J)("mousedown",["$event"]),(0,ne.w6)("design:type",Function),(0,ne.w6)("design:paramtypes",[Object]),(0,ne.w6)("design:returntype",void 0)],pr.prototype,"onMouseDown",null),pr=(0,ne.gn)([(0,ne.fM)(2,(0,m.AA_)()),(0,ne.w6)("design:paramtypes",[m.SBq,m.Qsj,Ci])],pr);let ao=class{constructor(){this.text="",this.searchStr="",this.matchClass="",this.type="",this.parts=[]}ngOnInit(){if(!this.searchStr)return void this.parts.push({isMatch:!1,text:this.text});const T=this.text.toLowerCase();let M=T.indexOf(this.searchStr.toLowerCase()),J=0;for(;M>=0;){const ae=this.text.slice(M,M+this.searchStr.length);if(0===M)this.parts.push({isMatch:!0,text:ae}),J+=this.searchStr.length;else if(M>0){const qe=this.text.slice(J,M);this.parts.push({isMatch:!1,text:qe}),this.parts.push({isMatch:!0,text:ae}),J+=this.searchStr.length+qe.length}M=T.indexOf(this.searchStr.toLowerCase(),J)}J<this.text.length&&this.parts.push({isMatch:!1,text:this.text.slice(J,this.text.length)})}};ao.\u0275fac=function(T){return new(T||ao)},ao.\u0275cmp=m.Xpm({type:ao,selectors:[["completer-list-item"]],inputs:{text:"text",searchStr:"searchStr",matchClass:"matchClass",type:"type"},decls:2,vars:5,consts:[[1,"completer-list-item-holder",3,"ngClass"],["class","completer-list-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"completer-list-item",3,"ngClass"]],template:function(T,M){1&T&&(m.TgZ(0,"span",0),m.YNc(1,lr,2,2,"span",1),m.qZA()),2&T&&(m.Q6J("ngClass",m.WLB(2,Oi,"title"===M.type,"description"===M.type)),m.xp6(1),m.Q6J("ngForOf",M.parts))},directives:[P.mk,P.sg],encapsulation:2}),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",String)],ao.prototype,"text",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",String)],ao.prototype,"searchStr",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",String)],ao.prototype,"matchClass",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",String)],ao.prototype,"type",void 0);const Xo=()=>{},As={multi:!0,provide:Ve.JU,useExisting:(0,m.Gpc)(()=>Zn)};let Zn=class{constructor(T,M){this.completerService=T,this.cdr=M,this.inputName="",this.inputId="",this.pause=10,this.minSearchLength=3,this.maxChars=524288,this.overrideSuggested=!1,this.clearSelected=!1,this.clearUnselected=!1,this.fillHighlighted=!0,this.placeholder="",this.autoMatch=!1,this.disableInput=!1,this.autofocus=!1,this.openOnFocus=!1,this.openOnClick=!1,this.selectOnClick=!1,this.selectOnFocus=!1,this.autoHighlight=!1,this.selected=new m.vpe,this.highlighted=new m.vpe,this.blurEvent=new m.vpe,this.click=new m.vpe,this.focusEvent=new m.vpe,this.opened=new m.vpe,this.keyup=new m.vpe,this.keydown=new m.vpe,this.control=new Ve.NI(""),this.displaySearching=!0,this.displayNoResults=!0,this._textNoResults="No results found",this._textSearching="Searching...",this._onTouchedCallback=Xo,this._onChangeCallback=Xo,this._focus=!1,this._open=!1,this._searchStr=""}get value(){return this.searchStr}set value(T){T!==this.searchStr&&(this.searchStr=T),this._onChangeCallback(T)}get searchStr(){return this._searchStr}set searchStr(T){this._searchStr="string"==typeof T||Dt(T)?T:JSON.stringify(T)}ngAfterViewInit(){this.autofocus&&(this._focus=!0),this.completer&&(this.completer.selected.subscribe(T=>{this.selected.emit(T)}),this.completer.highlighted.subscribe(T=>{this.highlighted.emit(T)}),this.completer.opened.subscribe(T=>{this._open=T,this.opened.emit(T)}))}ngAfterViewChecked(){this._focus&&setTimeout(()=>{this.ctrInput&&(this.ctrInput.nativeElement.focus(),this._focus=!1)},0)}onTouched(){this._onTouchedCallback()}writeValue(T){this.searchStr=T}registerOnChange(T){this._onChangeCallback=T}registerOnTouched(T){this._onTouchedCallback=T}setDisabledState(T){this.disableInput=T}set datasource(T){T&&(this.dataService=T instanceof Array?this.completerService.local(T):"string"==typeof T?this.completerService.remote(T):T)}set textNoResults(T){this._textNoResults!==T&&(this._textNoResults=T,this.displayNoResults=!!this._textNoResults&&"false"!==this._textNoResults)}set textSearching(T){this._textSearching!==T&&(this._textSearching=T,this.displaySearching=!!this._textSearching&&"false"!==this._textSearching)}onBlur(){this.blurEvent.emit(),this.onTouched(),this.cdr.detectChanges()}onFocus(){this.focusEvent.emit(),this.onTouched()}onClick(T){this.click.emit(T),this.onTouched()}onKeyup(T){this.keyup.emit(T),T.stopPropagation()}onKeydown(T){this.keydown.emit(T),T.stopPropagation()}onChange(T){this.value=T}open(){!this.completer||this.completer.open()}close(){!this.completer||this.completer.clear()}focus(){this.ctrInput?this.ctrInput.nativeElement.focus():this._focus=!0}blur(){this.ctrInput?this.ctrInput.nativeElement.blur():this._focus=!1}isOpen(){return this._open}};var ls;Zn.\u0275fac=function(T){return new(T||Zn)(m.Y36(bn),m.Y36(m.sBO))},Zn.\u0275cmp=m.Xpm({type:Zn,selectors:[["ng2-completer"]],viewQuery:function(T,M){if(1&T&&(m.Gf(hi,5),m.Gf(Ni,5)),2&T){let J;m.iGM(J=m.CRH())&&(M.completer=J.first),m.iGM(J=m.CRH())&&(M.ctrInput=J.first)}},inputs:{inputName:"inputName",inputId:"inputId",pause:"pause",minSearchLength:"minSearchLength",maxChars:"maxChars",overrideSuggested:"overrideSuggested",clearSelected:"clearSelected",clearUnselected:"clearUnselected",fillHighlighted:"fillHighlighted",placeholder:"placeholder",autoMatch:"autoMatch",disableInput:"disableInput",autofocus:"autofocus",openOnFocus:"openOnFocus",openOnClick:"openOnClick",selectOnClick:"selectOnClick",selectOnFocus:"selectOnFocus",autoHighlight:"autoHighlight",datasource:"datasource",dataService:"dataService",textNoResults:"textNoResults",textSearching:"textSearching",matchClass:"matchClass",fieldTabindex:"fieldTabindex",inputClass:"inputClass",initialValue:"initialValue"},outputs:{selected:"selected",highlighted:"highlighted",blurEvent:"blur",click:"click",focusEvent:"focus",opened:"opened",keyup:"keyup",keydown:"keydown"},features:[m._Bn([As])],decls:4,vars:23,consts:[["ctrCompleter","",1,"completer-holder"],["type","search","ctrInput","","autocomplete","off","autocorrect","off","autocapitalize","off",1,"completer-input",3,"ngClass","ngModel","placeholder","tabindex","disabled","clearSelected","clearUnselected","overrideSuggested","openOnFocus","fillHighlighted","openOnClick","selectOnClick","selectOnFocus","ngModelChange","blur","focus","keyup","keydown","click"],["ctrInput",""],["class","completer-dropdown-holder",4,"ctrList","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","ctrListInitialValue","ctrListAutoHighlight","ctrListDisplaySearching"],[1,"completer-dropdown-holder"],["class","completer-dropdown","ctrDropdown","",4,"ngIf"],["ctrDropdown","",1,"completer-dropdown"],["class","completer-searching",4,"ngIf"],["class","completer-no-results",4,"ngIf"],["class","completer-row-wrapper",4,"ngFor","ngForOf"],[1,"completer-searching"],[1,"completer-no-results"],[1,"completer-row-wrapper"],[1,"completer-row",3,"ctrRow","dataItem"],["class","completer-image-holder",4,"ngIf"],[1,"completer-item-text",3,"ngClass"],[1,"completer-title",3,"text","matchClass","searchStr","type"],["class","completer-description",3,"text","matchClass","searchStr","type",4,"ngIf"],[1,"completer-image-holder"],["class","completer-image",3,"src",4,"ngIf"],["class","completer-image-default",4,"ngIf"],[1,"completer-image",3,"src"],[1,"completer-image-default"],[1,"completer-description",3,"text","matchClass","searchStr","type"]],template:function(T,M){1&T&&(m.TgZ(0,"div",0),m.TgZ(1,"input",1,2),m.NdJ("ngModelChange",function(ae){return M.searchStr=ae})("ngModelChange",function(ae){return M.onChange(ae)})("blur",function(){return M.onBlur()})("focus",function(){return M.onFocus()})("keyup",function(ae){return M.onKeyup(ae)})("keydown",function(ae){return M.onKeydown(ae)})("click",function(ae){return M.onClick(ae)}),m.qZA(),m.YNc(3,Wn,2,1,"div",3),m.qZA()),2&T&&(m.xp6(1),m.Q6J("ngClass",M.inputClass)("ngModel",M.searchStr)("placeholder",M.placeholder)("tabindex",M.fieldTabindex)("disabled",M.disableInput)("clearSelected",M.clearSelected)("clearUnselected",M.clearUnselected)("overrideSuggested",M.overrideSuggested)("openOnFocus",M.openOnFocus)("fillHighlighted",M.fillHighlighted)("openOnClick",M.openOnClick)("selectOnClick",M.selectOnClick)("selectOnFocus",M.selectOnFocus),m.uIk("id",M.inputId.length>0?M.inputId:null)("name",M.inputName)("maxlength",M.maxChars),m.xp6(2),m.Q6J("ctrList",M.dataService)("ctrListMinSearchLength",M.minSearchLength)("ctrListPause",M.pause)("ctrListAutoMatch",M.autoMatch)("ctrListInitialValue",M.initialValue)("ctrListAutoHighlight",M.autoHighlight)("ctrListDisplaySearching",M.displaySearching))},directives:[hi,Ve.Fj,or,P.mk,Ve.JJ,Ve.On,Ve.nD,qn,P.O5,Ci,P.sg,pr,ao],styles:['.completer-dropdown[_ngcontent-%COMP%] {\n        border-color: #ececec;\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 2px;\n        width: 250px;\n        padding: 6px;\n        cursor: pointer;\n        z-index: 9999;\n        position: absolute;\n        margin-top: -6px;\n        background-color: #ffffff;\n    }\n\n    .completer-row[_ngcontent-%COMP%] {\n        padding: 5px;\n        color: #000000;\n        margin-bottom: 4px;\n        clear: both;\n        display: inline-block;\n        width: 103%;\n    }\n\n    .completer-selected-row[_ngcontent-%COMP%] {\n        background-color: lightblue;\n        color: #ffffff;\n    }\n\n    .completer-description[_ngcontent-%COMP%] {\n        font-size: 14px;\n    }\n\n    .completer-image-default[_ngcontent-%COMP%] {\n        width: 16px;\n        height: 16px;\n        background-image: url("demo/res/img/default.png");\n    }\n\n    .completer-image-holder[_ngcontent-%COMP%] {\n        float: left;\n        width: 10%;\n    }\n    .completer-item-text-image[_ngcontent-%COMP%] {\n        float: right;\n        width: 90%;\n    }']}),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"dataService",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"inputName",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",String)],Zn.prototype,"inputId",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"pause",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"minSearchLength",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"maxChars",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"overrideSuggested",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"clearSelected",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"clearUnselected",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"fillHighlighted",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"placeholder",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"matchClass",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"fieldTabindex",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"autoMatch",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"disableInput",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"inputClass",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"autofocus",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"openOnFocus",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"openOnClick",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"selectOnClick",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"selectOnFocus",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"initialValue",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"autoHighlight",void 0),(0,ne.gn)([(0,m.r_U)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"selected",void 0),(0,ne.gn)([(0,m.r_U)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"highlighted",void 0),(0,ne.gn)([(0,m.r_U)("blur"),(0,ne.w6)("design:type",Object)],Zn.prototype,"blurEvent",void 0),(0,ne.gn)([(0,m.r_U)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"click",void 0),(0,ne.gn)([(0,m.r_U)("focus"),(0,ne.w6)("design:type",Object)],Zn.prototype,"focusEvent",void 0),(0,ne.gn)([(0,m.r_U)(),(0,ne.w6)("design:type",Object)],Zn.prototype,"opened",void 0),(0,ne.gn)([(0,m.r_U)(),(0,ne.w6)("design:type",m.vpe)],Zn.prototype,"keyup",void 0),(0,ne.gn)([(0,m.r_U)(),(0,ne.w6)("design:type",m.vpe)],Zn.prototype,"keydown",void 0),(0,ne.gn)([(0,m.i9L)(hi,{static:!1}),(0,ne.w6)("design:type",Object)],Zn.prototype,"completer",void 0),(0,ne.gn)([(0,m.i9L)("ctrInput",{static:!1}),(0,ne.w6)("design:type",Object)],Zn.prototype,"ctrInput",void 0),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",Object),(0,ne.w6)("design:paramtypes",[Object])],Zn.prototype,"datasource",null),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",String),(0,ne.w6)("design:paramtypes",[String])],Zn.prototype,"textNoResults",null),(0,ne.gn)([(0,m.IIB)(),(0,ne.w6)("design:type",String),(0,ne.w6)("design:paramtypes",[String])],Zn.prototype,"textSearching",null),Zn=(0,ne.gn)([(0,ne.w6)("design:paramtypes",[bn,m.sBO])],Zn);const Uo=[bn,$t,An];let Or=ls=class{static forRoot(){return{ngModule:ls,providers:Uo}}static forChild(){return{ngModule:ls,providers:Uo}}};Or.\u0275fac=function(T){return new(T||Or)},Or.\u0275mod=m.oAB({type:Or}),Or.\u0275inj=m.cJS({providers:Uo,imports:[[P.ez,Ve.u5]]});var qi=X(3132),cs=X(4168);class No{constructor(T){this.total=T}call(T,M){return M.subscribe(new Eo(T,this.total))}}class Eo extends cs.L{constructor(T,M){super(T),this.total=M,this.count=0}_next(T){++this.count>this.total&&this.destination.next(T)}}var Ho=X(5686),es=X(5389),qo=X(8805);function Jr(K,T){if(1&K&&m._UZ(0,"table-cell-view-mode",2),2&K){const M=m.oxw();m.Q6J("cell",M.cell)}}function Xr(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"table-cell-edit-mode",3),m.NdJ("edited",function(ae){return m.CHM(M),m.oxw().onEdited(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}const lo=["dynamicTarget"];function Ro(K,T){}function co(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"select-editor",5),m.NdJ("onClick",function(ae){return m.CHM(M),m.oxw().onClick(ae)})("onEdited",function(ae){return m.CHM(M),m.oxw().onEdited(ae)})("onStopEditing",function(){return m.CHM(M),m.oxw().onStopEditing()}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}function _r(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"textarea-editor",5),m.NdJ("onClick",function(ae){return m.CHM(M),m.oxw().onClick(ae)})("onEdited",function(ae){return m.CHM(M),m.oxw().onEdited(ae)})("onStopEditing",function(){return m.CHM(M),m.oxw().onStopEditing()}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}function Go(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"checkbox-editor",6),m.NdJ("onClick",function(ae){return m.CHM(M),m.oxw().onClick(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}function Vr(K,T){if(1&K&&m._UZ(0,"completer-editor",7),2&K){const M=m.oxw();m.Q6J("cell",M.cell)}}function _s(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"input-editor",5),m.NdJ("onClick",function(ae){return m.CHM(M),m.oxw().onClick(ae)})("onEdited",function(ae){return m.CHM(M),m.oxw().onEdited(ae)})("onStopEditing",function(){return m.CHM(M),m.oxw().onStopEditing()}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}function Fs(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"table-cell-custom-editor",3),m.NdJ("edited",function(ae){return m.CHM(M),m.oxw().onEdited(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}function Gr(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"table-cell-default-editor",3),m.NdJ("edited",function(ae){return m.CHM(M),m.oxw().onEdited(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("cell",M.cell)("inputClass",M.inputClass)}}const ts="[_nghost-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{line-height:normal;padding:.375em .75em;width:100%}";function ua(K,T){if(1&K&&(m.TgZ(0,"option",2),m._uU(1),m.qZA()),2&K){const M=T.$implicit,J=m.oxw();m.Q6J("value",M.value)("selected",M.value===J.cell.getValue()),m.xp6(1),m.hij("",M.title," ")}}function Ys(K,T){}function Qs(K,T){if(1&K&&m._UZ(0,"custom-view-component",4),2&K){const M=m.oxw();m.Q6J("cell",M.cell)}}function za(K,T){if(1&K&&m._UZ(0,"div",5),2&K){const M=m.oxw();m.Q6J("innerHTML",M.cell.getValue(),m.oJD)}}function Mo(K,T){if(1&K&&(m.TgZ(0,"div"),m._uU(1),m.qZA()),2&K){const M=m.oxw();m.xp6(1),m.Oqu(M.cell.getValue())}}function ns(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"custom-table-filter",4),m.NdJ("filter",function(ae){return m.CHM(M),m.oxw(2).onFilter(ae)}),m.qZA()}if(2&K){const M=m.oxw(2);m.Q6J("query",M.query)("column",M.column)("source",M.source)("inputClass",M.inputClass)}}function Js(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"default-table-filter",4),m.NdJ("filter",function(ae){return m.CHM(M),m.oxw(2).onFilter(ae)}),m.qZA()}if(2&K){const M=m.oxw(2);m.Q6J("query",M.query)("column",M.column)("source",M.source)("inputClass",M.inputClass)}}function Ls(K,T){if(1&K&&(m.TgZ(0,"div",1),m.YNc(1,ns,1,4,"custom-table-filter",2),m.YNc(2,Js,1,4,"default-table-filter",3),m.qZA()),2&K){const M=m.oxw();m.Q6J("ngSwitch",M.column.getFilterType()),m.xp6(1),m.Q6J("ngSwitchCase","custom")}}function Qa(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"select-filter",3),m.NdJ("filter",function(ae){return m.CHM(M),m.oxw().onFilter(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("query",M.query)("ngClass",M.inputClass)("column",M.column)}}function cl(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"checkbox-filter",3),m.NdJ("filter",function(ae){return m.CHM(M),m.oxw().onFilter(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("query",M.query)("ngClass",M.inputClass)("column",M.column)}}function $r(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"completer-filter",3),m.NdJ("filter",function(ae){return m.CHM(M),m.oxw().onFilter(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("query",M.query)("ngClass",M.inputClass)("column",M.column)}}function Xs(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"input-filter",3),m.NdJ("filter",function(ae){return m.CHM(M),m.oxw().onFilter(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("query",M.query)("ngClass",M.inputClass)("column",M.column)}}function ea(K,T){}function Bs(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",2),m.NdJ("click",function(ae){return m.CHM(M),m.oxw().resetFilter(ae)}),m._uU(1),m.qZA()}if(2&K){const M=m.oxw();let J;m.xp6(1),m.Oqu((null==(J=M.column.getFilterConfig())?null:J.resetText)||"reset")}}const Qi=["inputControl"];function xs(K,T){if(1&K&&(m.TgZ(0,"option",4),m._uU(1),m.qZA()),2&K){const M=T.$implicit;m.Q6J("value",M.value),m.xp6(1),m.hij(" ",M.title," ")}}function Ji(K,T){if(1&K&&(m.TgZ(0,"span",14),m._uU(1),m.TgZ(2,"span",7),m._uU(3,"(current)"),m.qZA(),m.qZA()),2&K){const M=m.oxw().$implicit;m.xp6(1),m.hij("",M," ")}}function cr(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",15),m.NdJ("click",function(){m.CHM(M);const ae=m.oxw().$implicit;return m.oxw(2).paginate(ae)}),m._uU(1),m.qZA()}if(2&K){const M=m.oxw().$implicit;m.xp6(1),m.Oqu(M)}}const ta=function(K){return{active:K}};function js(K,T){if(1&K&&(m.TgZ(0,"li",4),m.YNc(1,Ji,4,1,"span",12),m.YNc(2,cr,2,1,"a",13),m.qZA()),2&K){const M=T.$implicit,J=m.oxw(2);m.Q6J("ngClass",m.VKq(3,ta,J.getPage()==M)),m.xp6(1),m.Q6J("ngIf",J.getPage()==M),m.xp6(1),m.Q6J("ngIf",J.getPage()!=M)}}const Wr=function(K){return{disabled:K}};function go(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"nav",2),m.TgZ(1,"ul",3),m.TgZ(2,"li",4),m.TgZ(3,"a",5),m.NdJ("click",function(){m.CHM(M);const ae=m.oxw();return 1!=ae.getPage()&&ae.paginate(1)}),m.TgZ(4,"span",6),m._uU(5,"\xab"),m.qZA(),m.TgZ(6,"span",7),m._uU(7,"First"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"li",4),m.TgZ(9,"a",8),m.NdJ("click",function(){m.CHM(M);const ae=m.oxw();return 1!=ae.getPage()&&ae.prev()}),m.TgZ(10,"span",6),m._uU(11,"<"),m.qZA(),m.TgZ(12,"span",7),m._uU(13,"Prev"),m.qZA(),m.qZA(),m.qZA(),m.YNc(14,js,3,5,"li",9),m.TgZ(15,"li",4),m.TgZ(16,"a",10),m.NdJ("click",function(){m.CHM(M);const ae=m.oxw();return ae.getPage()!=ae.getLast()&&ae.next()}),m.TgZ(17,"span",6),m._uU(18,">"),m.qZA(),m.TgZ(19,"span",7),m._uU(20,"Next"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(21,"li",4),m.TgZ(22,"a",11),m.NdJ("click",function(){m.CHM(M);const ae=m.oxw();return ae.getPage()!=ae.getLast()&&ae.paginate(ae.getLast())}),m.TgZ(23,"span",6),m._uU(24,"\xbb"),m.qZA(),m.TgZ(25,"span",7),m._uU(26,"Last"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&K){const M=m.oxw();m.xp6(2),m.Q6J("ngClass",m.VKq(5,Wr,1==M.getPage())),m.xp6(6),m.Q6J("ngClass",m.VKq(7,Wr,1==M.getPage())),m.xp6(6),m.Q6J("ngForOf",M.getPages()),m.xp6(1),m.Q6J("ngClass",m.VKq(9,Wr,M.getPage()==M.getLast())),m.xp6(6),m.Q6J("ngClass",m.VKq(11,Wr,M.getPage()==M.getLast()))}}function $o(K,T){if(1&K&&(m.TgZ(0,"option",20),m._uU(1),m.qZA()),2&K){const M=T.$implicit;m.Q6J("value",M),m.xp6(1),m.Oqu(M)}}function Es(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"nav",16),m.TgZ(1,"label",17),m._uU(2," Per Page: "),m.qZA(),m.TgZ(3,"select",18),m.NdJ("change",function(ae){return m.CHM(M),m.oxw().onChangePerPage(ae)})("ngModelChange",function(ae){return m.CHM(M),m.oxw().currentPerPage=ae}),m.YNc(4,$o,2,2,"option",19),m.qZA(),m.qZA()}if(2&K){const M=m.oxw();m.xp6(3),m.Q6J("ngModel",M.currentPerPage),m.xp6(1),m.Q6J("ngForOf",M.perPageSelect)}}const Fo=["ng2-st-tbody",""];function zs(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"td",6),m.NdJ("click",function(){m.CHM(M);const ae=m.oxw().$implicit;return m.oxw().multipleSelectRow.emit(ae)}),m._UZ(1,"input",7),m.qZA()}if(2&K){const M=m.oxw().$implicit;m.xp6(1),m.Q6J("ngModel",M.isSelected)}}function Nr(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"td",8),m.TgZ(1,"ng2-st-tbody-custom",9),m.NdJ("custom",function(ae){return m.CHM(M),m.oxw(2).custom.emit(ae)}),m.qZA(),m.TgZ(2,"ng2-st-tbody-edit-delete",10),m.NdJ("edit",function(){m.CHM(M);const ae=m.oxw().$implicit;return m.oxw().edit.emit(ae)})("delete",function(){m.CHM(M);const ae=m.oxw().$implicit;return m.oxw().delete.emit(ae)})("editRowSelect",function(ae){return m.CHM(M),m.oxw(2).editRowSelect.emit(ae)}),m.qZA(),m.qZA()}if(2&K){const M=m.oxw().$implicit,J=m.oxw();m.xp6(1),m.Q6J("grid",J.grid)("row",M)("source",J.source),m.xp6(1),m.Q6J("grid",J.grid)("deleteConfirm",J.deleteConfirm)("editConfirm",J.editConfirm)("row",M)("source",J.source)}}function ya(K,T){if(1&K&&(m.TgZ(0,"td",8),m._UZ(1,"ng2-st-tbody-create-cancel",11),m.qZA()),2&K){const M=m.oxw().$implicit,J=m.oxw();m.xp6(1),m.Q6J("grid",J.grid)("row",M)("editConfirm",J.editConfirm)}}function bs(K,T){if(1&K&&(m.TgZ(0,"td"),m._UZ(1,"ng2-smart-table-cell",12),m.qZA()),2&K){const M=T.$implicit,J=m.oxw().$implicit,ae=m.oxw();m.xp6(1),m.Q6J("cell",M)("grid",ae.grid)("row",J)("isNew",!1)("mode",ae.mode)("editConfirm",ae.editConfirm)("inputClass",ae.editInputClass)("isInEditing",J.isInEditing)}}function us(K,T){if(1&K&&(m.TgZ(0,"td",8),m._UZ(1,"ng2-st-tbody-create-cancel",11),m.qZA()),2&K){const M=m.oxw().$implicit,J=m.oxw();m.xp6(1),m.Q6J("grid",J.grid)("row",M)("editConfirm",J.editConfirm)}}function kr(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"td",8),m.TgZ(1,"ng2-st-tbody-custom",9),m.NdJ("custom",function(ae){return m.CHM(M),m.oxw(2).custom.emit(ae)}),m.qZA(),m.TgZ(2,"ng2-st-tbody-edit-delete",10),m.NdJ("edit",function(){m.CHM(M);const ae=m.oxw().$implicit;return m.oxw().edit.emit(ae)})("delete",function(){m.CHM(M);const ae=m.oxw().$implicit;return m.oxw().delete.emit(ae)})("editRowSelect",function(ae){return m.CHM(M),m.oxw(2).editRowSelect.emit(ae)}),m.qZA(),m.qZA()}if(2&K){const M=m.oxw().$implicit,J=m.oxw();m.xp6(1),m.Q6J("grid",J.grid)("row",M)("source",J.source),m.xp6(1),m.Q6J("grid",J.grid)("deleteConfirm",J.deleteConfirm)("editConfirm",J.editConfirm)("row",M)("source",J.source)}}const ie=function(K){return{selected:K}};function te(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"tr",2),m.NdJ("click",function(){const qe=m.CHM(M).$implicit;return m.oxw().userSelectRow.emit(qe)})("mouseover",function(){const qe=m.CHM(M).$implicit;return m.oxw().rowHover.emit(qe)}),m.YNc(1,zs,2,1,"td",3),m.YNc(2,Nr,3,8,"td",4),m.YNc(3,ya,2,3,"td",4),m.YNc(4,bs,2,8,"td",5),m.YNc(5,us,2,3,"td",4),m.YNc(6,kr,3,8,"td",4),m.qZA()}if(2&K){const M=T.$implicit,J=m.oxw();m.Q6J("className",J.rowClassFunction(M))("ngClass",m.VKq(8,ie,M.isSelected)),m.xp6(1),m.Q6J("ngIf",J.isMultiSelectVisible),m.xp6(1),m.Q6J("ngIf",!M.isInEditing&&J.showActionColumnLeft),m.xp6(1),m.Q6J("ngIf",M.isInEditing&&J.showActionColumnLeft),m.xp6(1),m.Q6J("ngForOf",J.getVisibleCells(M.cells)),m.xp6(1),m.Q6J("ngIf",M.isInEditing&&J.showActionColumnRight),m.xp6(1),m.Q6J("ngIf",!M.isInEditing&&J.showActionColumnRight)}}function je(K,T){if(1&K&&(m.TgZ(0,"tr"),m.TgZ(1,"td"),m._uU(2),m.qZA(),m.qZA()),2&K){const M=m.oxw();m.xp6(1),m.uIk("colspan",M.tableColumnsCount),m.xp6(1),m.hij(" ",M.noDataMessage," ")}}function Xe(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",2),m.NdJ("click",function(ae){return m.CHM(M),m.oxw().onEdit(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("innerHTML",M.editRowButtonContent,m.oJD)}}function V(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",3),m.NdJ("click",function(ae){return m.CHM(M),m.oxw().onDelete(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("innerHTML",M.deleteRowButtonContent,m.oJD)}}function ue(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",1),m.NdJ("click",function(ae){const Un=m.CHM(M).$implicit;return m.oxw().onCustom(Un,ae)}),m.qZA()}2&K&&m.Q6J("innerHTML",T.$implicit.title,m.oJD)}const $=["ng2-st-thead",""];function ve(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"tr",3),m.NdJ("sort",function(ae){return m.CHM(M),m.oxw().sort.emit(ae)})("selectAllRows",function(ae){return m.CHM(M),m.oxw().selectAllRows.emit(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("grid",M.grid)("isAllSelected",M.isAllSelected)("source",M.source)}}function Ge(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"tr",4),m.NdJ("create",function(ae){return m.CHM(M),m.oxw().create.emit(ae)})("filter",function(ae){return m.CHM(M),m.oxw().filter.emit(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("grid",M.grid)("source",M.source)}}function z(K,T){if(1&K&&m._UZ(0,"tr",5),2&K){const M=m.oxw();m.Q6J("grid",M.grid)("createConfirm",M.createConfirm)}}const q=["ng2-st-actions-title",""],G=["ng2-st-add-button",""];function Ce(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",1),m.NdJ("click",function(ae){return m.CHM(M),m.oxw().onAdd(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("innerHTML",M.addNewButtonContent,m.oJD)}}const kt=["ng2-st-checkbox-select-all",""];function Yt(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"a",2),m.NdJ("click",function(ae){return m.CHM(M),m.oxw()._sort(ae)}),m._uU(1),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("ngClass",M.currentDirection),m.xp6(1),m.hij(" ",M.column.title," ")}}function hn(K,T){if(1&K&&(m.TgZ(0,"span",3),m._uU(1),m.qZA()),2&K){const M=m.oxw();m.xp6(1),m.Oqu(M.column.title)}}const Xn=["ng2-st-thead-filters-row",""];function ii(K,T){1&K&&m._UZ(0,"th")}function Ri(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"th",4),m.NdJ("create",function(ae){return m.CHM(M),m.oxw().create.emit(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("grid",M.grid)}}function br(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"th"),m.TgZ(1,"ng2-smart-table-filter",5),m.NdJ("filter",function(ae){return m.CHM(M),m.oxw().filter.emit(ae)}),m.qZA(),m.qZA()}if(2&K){const M=T.$implicit,J=m.oxw();m.Gre("ng2-smart-th ",M.id,""),m.xp6(1),m.Q6J("source",J.source)("column",M)("inputClass",J.filterInputClass)}}function uo(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"th",6),m.NdJ("create",function(ae){return m.CHM(M),m.oxw().create.emit(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("grid",M.grid)("source",M.source)}}const Mr=["ng2-st-thead-form-row",""];function ho(K,T){1&K&&m._UZ(0,"td")}function vs(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"td",3),m.TgZ(1,"ng2-st-actions",4),m.NdJ("create",function(ae){return m.CHM(M),m.oxw().onCreate(ae)}),m.qZA(),m.qZA()}if(2&K){const M=m.oxw();m.xp6(1),m.Q6J("grid",M.grid)}}function ti(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"td"),m.TgZ(1,"ng2-smart-table-cell",5),m.NdJ("edited",function(ae){return m.CHM(M),m.oxw().onCreate(ae)}),m.qZA(),m.qZA()}if(2&K){const M=T.$implicit,J=m.oxw();m.xp6(1),m.Q6J("cell",M)("grid",J.grid)("isNew",!0)("createConfirm",J.createConfirm)("inputClass",J.addInputClass)("isInEditing",J.grid.getNewRow().isInEditing)}}function mo(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"td",3),m.TgZ(1,"ng2-st-actions",4),m.NdJ("create",function(ae){return m.CHM(M),m.oxw().onCreate(ae)}),m.qZA(),m.qZA()}if(2&K){const M=m.oxw();m.xp6(1),m.Q6J("grid",M.grid)}}const Tl=["ng2-st-thead-titles-row",""];function nc(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"th",3),m.NdJ("click",function(ae){return m.CHM(M),m.oxw().selectAllRows.emit(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("grid",M.grid)("source",M.source)("isAllSelected",M.isAllSelected)}}function Mc(K,T){if(1&K&&m._UZ(0,"th",4),2&K){const M=m.oxw();m.Q6J("grid",M.grid)}}function ql(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"th",5),m.TgZ(1,"ng2-st-column-title",6),m.NdJ("sort",function(ae){return m.CHM(M),m.oxw().sort.emit(ae)}),m.qZA(),m.qZA()}if(2&K){const M=T.$implicit,J=m.oxw();m.Gre("ng2-smart-th ",M.id,""),m.Udp("width",M.width),m.Q6J("ngClass",M.class),m.xp6(1),m.Q6J("source",J.source)("column",M)}}function Sl(K,T){if(1&K&&m._UZ(0,"th",4),2&K){const M=m.oxw();m.Q6J("grid",M.grid)}}function ic(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"thead",4),m.NdJ("create",function(ae){return m.CHM(M),m.oxw().create.emit(ae)})("selectAllRows",function(ae){return m.CHM(M),m.oxw().onSelectAllRows(ae)})("sort",function(ae){return m.CHM(M),m.oxw().sort(ae)})("filter",function(ae){return m.CHM(M),m.oxw().filter(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("grid",M.grid)("isAllSelected",M.isAllSelected)("source",M.source)("createConfirm",M.createConfirm)}}function an(K,T){if(1&K){const M=m.EpF();m.TgZ(0,"ng2-smart-table-pager",5),m.NdJ("changePage",function(ae){return m.CHM(M),m.oxw().changePage(ae)}),m.qZA()}if(2&K){const M=m.oxw();m.Q6J("source",M.source)("perPageSelect",M.perPageSelect)}}const Di=function(...K){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];const T=arguments[0],M=Array.prototype.slice.call(arguments,1);let J,ae;return M.forEach(qe=>{"object"!=typeof qe||Array.isArray(qe)||Object.keys(qe).forEach(function(Un){if(ae=T[Un],J=qe[Un],J!==T)return"object"!=typeof J||null===J?void(T[Un]=J):Array.isArray(J)?void(T[Un]=(0,qi.cloneDeep)(J)):"object"!=typeof ae||null===ae||Array.isArray(ae)?void(T[Un]=Di({},J)):void(T[Un]=Di(ae,J))})}),T};class ul{constructor(){this.promise=new Promise((T,M)=>{this.resolve=T,this.reject=M})}}function Ra(K,T){return Math.floor(K/T)+1}function Wo(K){return K}let Ms=(()=>{class K{constructor(M,J,ae,qe){this.value=M,this.row=J,this.column=ae,this.dataSet=qe,this.newValue="",this.newValue=M}getColumn(){return this.column}getRow(){return this.row}getValue(){return(this.column.getValuePrepareFunction()instanceof Function?this.column.getValuePrepareFunction():K.PREPARE).call(null,this.value,this.row.getData(),this)}setValue(M){this.newValue=M}getId(){return this.getColumn().id}getTitle(){return this.getColumn().title}isEditable(){return-1===this.getRow().index?this.getColumn().isAddable:this.getColumn().isEditable}}return K.PREPARE=Wo,K})();class Vs{constructor(T,M,J){this.index=T,this.data=M,this._dataSet=J,this.isSelected=!1,this.isInEditing=!1,this.cells=[],this.process()}getCell(T){return this.cells.find(M=>M.getColumn()===T)}getCells(){return this.cells}getData(){return this.data}getIsSelected(){return this.isSelected}getNewData(){const T=Object.assign({},this.data);return this.getCells().forEach(M=>T[M.getColumn().id]=M.newValue),T}setData(T){this.data=T,this.process()}process(){this.cells=[],this._dataSet.getColumns().forEach(T=>{const M=this.createCell(T);this.cells.push(M)})}createCell(T){return new Ms(void 0===this.data[T.id]?T.settings.defaultValue?T.settings.defaultValue:"":this.data[T.id],this,T,this._dataSet)}}class dl{constructor(T,M,J){this.id=T,this.settings=M,this.dataSet=J,this.title="",this.type="",this.class="",this.width="",this.hide=!1,this.isSortable=!1,this.isEditable=!0,this.isAddable=!0,this.isFilterable=!1,this.sortDirection="",this.defaultSortDirection="",this.editor={type:"",config:{},component:null},this.filter={type:"",config:{},component:null},this.renderComponent=null,this.process()}getOnComponentInitFunction(){return this.onComponentInitFunction}getCompareFunction(){return this.compareFunction}getValuePrepareFunction(){return this.valuePrepareFunction}getFilterFunction(){return this.filterFunction}getConfig(){return this.editor&&this.editor.config}getFilterType(){return this.filter&&this.filter.type}getFilterConfig(){return this.filter&&this.filter.config}process(){this.title=this.settings.title,this.class=this.settings.class,this.width=this.settings.width,this.hide=!!this.settings.hide,this.type=this.prepareType(),this.editor=this.settings.editor,this.filter=this.settings.filter,this.renderComponent=this.settings.renderComponent,this.isFilterable=void 0===this.settings.filter||!!this.settings.filter,this.defaultSortDirection=-1!==["asc","desc"].indexOf(this.settings.sortDirection)?this.settings.sortDirection:"",this.isSortable=void 0===this.settings.sort||!!this.settings.sort,this.isEditable=void 0===this.settings.editable||!!this.settings.editable,this.isAddable=void 0===this.settings.addable||!!this.settings.addable,this.sortDirection=this.prepareSortDirection(),this.compareFunction=this.settings.compareFunction,this.valuePrepareFunction=this.settings.valuePrepareFunction,this.filterFunction=this.settings.filterFunction,this.onComponentInitFunction=this.settings.onComponentInitFunction}prepareType(){return this.settings.type||this.determineType()}prepareSortDirection(){return"desc"===this.settings.sort?"desc":"asc"}determineType(){return"text"}}class hl{constructor(T=[],M){this.columnSettings=M,this.data=[],this.columns=[],this.rows=[],this.createColumns(M),this.setData(T),this.createNewRow()}setData(T){this.data=T,this.createRows()}getColumns(){return this.columns}getRows(){return this.rows}getFirstRow(){return this.rows[0]}getLastRow(){return this.rows[this.rows.length-1]}findRowByData(T){return this.rows.find(M=>M.getData()===T)}deselectAll(){this.rows.forEach(T=>{T.isSelected=!1}),this.selectedRow=void 0}selectRow(T){const M=T.isSelected;return this.deselectAll(),T.isSelected=!M,this.selectedRow=T,this.selectedRow}multipleSelectRow(T){return T.isSelected=!T.isSelected,this.selectedRow=T,this.selectedRow}selectPreviousRow(){if(this.rows.length>0){let T=this.selectedRow?this.selectedRow.index:0;return T>this.rows.length-1&&(T=this.rows.length-1),this.selectRow(this.rows[T]),this.selectedRow}}selectFirstRow(){if(this.rows.length>0)return this.selectRow(this.rows[0]),this.selectedRow}selectLastRow(){if(this.rows.length>0)return this.selectRow(this.rows[this.rows.length-1]),this.selectedRow}selectRowByIndex(T){const M=this.rows.length;if(0!==M){if(!T)return this.selectFirstRow(),this.selectedRow;if(T>0&&T<M)return this.selectRow(this.rows[T]),this.selectedRow;this.deselectAll()}}willSelectFirstRow(){this.willSelect="first"}willSelectLastRow(){this.willSelect="last"}select(T){if(0!==this.getRows().length)return this.willSelect?("first"===this.willSelect&&this.selectFirstRow(),"last"===this.willSelect&&this.selectLastRow(),this.willSelect=""):this.selectRowByIndex(T),this.selectedRow}createNewRow(){this.newRow=new Vs(-1,{},this),this.newRow.isInEditing=!0}createColumns(T){for(const M in T)T.hasOwnProperty(M)&&this.columns.push(new dl(M,T[M],this))}createRows(){this.rows=[],this.data.forEach((T,M)=>{this.rows.push(new Vs(M,T,this))})}}class rc{constructor(T,M){this.createFormShown=!1,this.onSelectRowSource=new oe.xQ,this.onDeselectRowSource=new oe.xQ,this.setSettings(M),this.setSource(T)}detach(){this.sourceOnChangedSubscription&&this.sourceOnChangedSubscription.unsubscribe(),this.sourceOnUpdatedSubscription&&this.sourceOnUpdatedSubscription.unsubscribe()}showActionColumn(T){return this.isCurrentActionsPosition(T)&&this.isActionsVisible()}isCurrentActionsPosition(T){return T==this.getSetting("actions.position")}isActionsVisible(){return this.getSetting("actions.add")||this.getSetting("actions.edit")||this.getSetting("actions.delete")||this.getSetting("actions.custom").length}isMultiSelectVisible(){return"multi"===this.getSetting("selectMode")}getNewRow(){return this.dataSet.newRow}setSettings(T){this.settings=T,this.dataSet=new hl([],this.getSetting("columns")),this.source&&this.source.refresh()}getDataSet(){return this.dataSet}setSource(T){this.source=this.prepareSource(T),this.detach(),this.sourceOnChangedSubscription=this.source.onChanged().subscribe(M=>this.processDataChange(M)),this.sourceOnUpdatedSubscription=this.source.onUpdated().subscribe(M=>{this.dataSet.findRowByData(M).setData(M)})}getSetting(T,M){return function(K={},T,M){const J=T.split(".");let ae=Di({},K);return J.forEach(qe=>{ae&&void 0!==ae[qe]&&(ae=ae[qe])}),void 0===ae?M:ae}(this.settings,T,M)}getColumns(){return this.dataSet.getColumns()}getRows(){return this.dataSet.getRows()}selectRow(T){this.dataSet.selectRow(T)}multipleSelectRow(T){this.dataSet.multipleSelectRow(T)}onSelectRow(){return this.onSelectRowSource.asObservable()}onDeselectRow(){return this.onDeselectRowSource.asObservable()}edit(T){T.isInEditing=!0}create(T,M){const J=new ul;J.promise.then(ae=>{ae=ae||T.getNewData(),J.resolve.skipAdd?this.createFormShown=!1:this.source.prepend(ae).then(()=>{this.createFormShown=!1,this.dataSet.createNewRow()})}).catch(ae=>{}),this.getSetting("add.confirmCreate")?M.emit({newData:T.getNewData(),source:this.source,confirm:J}):J.resolve()}save(T,M){const J=new ul;J.promise.then(ae=>{ae=ae||T.getNewData(),J.resolve.skipEdit?T.isInEditing=!1:this.source.update(T.getData(),ae).then(()=>{T.isInEditing=!1})}).catch(ae=>{}),this.getSetting("edit.confirmSave")?M.emit({data:T.getData(),newData:T.getNewData(),source:this.source,confirm:J}):J.resolve()}delete(T,M){const J=new ul;J.promise.then(()=>{this.source.remove(T.getData())}).catch(ae=>{}),this.getSetting("delete.confirmDelete")?M.emit({data:T.getData(),source:this.source,confirm:J}):J.resolve()}processDataChange(T){if(this.shouldProcessChange(T)&&(this.dataSet.setData(T.elements),"multi"!==this.getSetting("selectMode"))){const M=this.determineRowToSelect(T);M?this.onSelectRowSource.next(M):this.onDeselectRowSource.next(null)}}shouldProcessChange(T){return-1!==["filter","sort","page","remove","refresh","load","paging"].indexOf(T.action)||-1!==["prepend","append"].indexOf(T.action)&&!this.getSetting("pager.display")}determineRowToSelect(T){if(-1!==["load","page","filter","sort","refresh"].indexOf(T.action))return this.dataSet.select(this.getRowIndexToSelect());if(this.shouldSkipSelection())return null;if("remove"===T.action){if(0!==T.elements.length)return this.dataSet.selectPreviousRow();this.dataSet.willSelectLastRow()}return"append"===T.action&&this.dataSet.willSelectLastRow(),"add"===T.action||"update"===T.action?this.dataSet.selectFirstRow():("prepend"===T.action&&this.dataSet.willSelectFirstRow(),null)}prepareSource(T){const M=this.getInitialSort();return M&&M.field&&M.direction&&T.setSort([M],!1),!0===this.getSetting("pager.display")&&T.setPaging(this.getPageToSelect(T),this.getSetting("pager.perPage"),!1),T.refresh(),T}getInitialSort(){const T={};return this.getColumns().forEach(M=>{M.isSortable&&M.defaultSortDirection&&(T.field=M.id,T.direction=M.defaultSortDirection,T.compare=M.getCompareFunction())}),T}getSelectedRows(){return this.dataSet.getRows().filter(T=>T.isSelected)}selectAllRows(T){this.dataSet.getRows().forEach(M=>M.isSelected=T)}getFirstRow(){return this.dataSet.getFirstRow()}getLastRow(){return this.dataSet.getLastRow()}getSelectionInfo(){const T=this.getSetting("switchPageToSelectedRowPage"),M=Number(this.getSetting("selectedRowIndex",0))||0,{perPage:J,page:ae}=this.getSetting("pager");return{perPage:J,page:ae,selectedRowIndex:M,switchPageToSelectedRowPage:T}}getRowIndexToSelect(){const{switchPageToSelectedRowPage:T,selectedRowIndex:M,perPage:J}=this.getSelectionInfo(),ae=this.source.count();return T&&M<ae&&M>=0?M%J:M}getPageToSelect(T){const{switchPageToSelectedRowPage:M,selectedRowIndex:J,perPage:ae,page:qe}=this.getSelectionInfo();let Un=Math.max(1,qe);M&&J>=0&&(Un=Ra(J,ae));const nr=Math.ceil(T.count()/ae);return nr?Math.min(Un,nr):Un}shouldSkipSelection(){return Number(this.getSetting("selectedRowIndex"))<0}}let wa=(()=>{class K{constructor(){this.inputClass="",this.mode="inline",this.isInEditing=!1,this.edited=new m.vpe}onEdited(M){this.isNew?this.grid.create(this.grid.getNewRow(),this.createConfirm):this.grid.save(this.row,this.editConfirm)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-smart-table-cell"]],inputs:{inputClass:"inputClass",mode:"mode",isInEditing:"isInEditing",grid:"grid",row:"row",editConfirm:"editConfirm",createConfirm:"createConfirm",isNew:"isNew",cell:"cell"},outputs:{edited:"edited"},decls:2,vars:2,consts:[[3,"cell",4,"ngIf"],[3,"cell","inputClass","edited",4,"ngIf"],[3,"cell"],[3,"cell","inputClass","edited"]],template:function(M,J){1&M&&(m.YNc(0,Jr,1,1,"table-cell-view-mode",0),m.YNc(1,Xr,1,2,"table-cell-edit-mode",1)),2&M&&(m.Q6J("ngIf",!J.isInEditing),m.xp6(1),m.Q6J("ngIf",J.isInEditing))},directives:function(){return[P.O5,I,da]},encapsulation:2}),K})(),Va=(()=>{class K{constructor(){this.inputClass="",this.edited=new m.vpe}onEdited(M){return this.edited.next(M),!1}onStopEditing(){return this.cell.getRow().isInEditing=!1,!1}onClick(M){M.stopPropagation()}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng-component"]],inputs:{inputClass:"inputClass",cell:"cell"},outputs:{edited:"edited"},decls:0,vars:0,template:function(M,J){},encapsulation:2}),K})(),Gi=(()=>{class K extends Va{constructor(M){super(),this.resolver=M}ngOnChanges(M){if(this.cell&&!this.customComponent){const J=this.resolver.resolveComponentFactory(this.cell.getColumn().editor.component);this.customComponent=this.dynamicTarget.createComponent(J),this.customComponent.instance.cell=this.cell,this.customComponent.instance.inputClass=this.inputClass,this.customComponent.instance.onStopEditing.subscribe(()=>this.onStopEditing()),this.customComponent.instance.onEdited.subscribe(ae=>this.onEdited(ae)),this.customComponent.instance.onClick.subscribe(ae=>this.onClick(ae))}}ngOnDestroy(){this.customComponent&&this.customComponent.destroy()}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(m._Vd))},K.\u0275cmp=m.Xpm({type:K,selectors:[["table-cell-custom-editor"]],viewQuery:function(M,J){if(1&M&&m.Gf(lo,7,m.s_b),2&M){let ae;m.iGM(ae=m.CRH())&&(J.dynamicTarget=ae.first)}},features:[m.qOj,m.TTD],decls:2,vars:0,consts:[["dynamicTarget",""]],template:function(M,J){1&M&&m.YNc(0,Ro,0,0,"ng-template",null,0,m.W1O)},encapsulation:2}),K})(),na=(()=>{class K extends Va{constructor(){super()}getEditorType(){return this.cell.getColumn().editor&&this.cell.getColumn().editor.type}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["table-cell-default-editor"]],features:[m.qOj],decls:6,vars:5,consts:[[3,"ngSwitch"],[3,"cell","inputClass","onClick","onEdited","onStopEditing",4,"ngSwitchCase"],[3,"cell","inputClass","onClick",4,"ngSwitchCase"],[3,"cell",4,"ngSwitchCase"],[3,"cell","inputClass","onClick","onEdited","onStopEditing",4,"ngSwitchDefault"],[3,"cell","inputClass","onClick","onEdited","onStopEditing"],[3,"cell","inputClass","onClick"],[3,"cell"]],template:function(M,J){1&M&&(m.TgZ(0,"div",0),m.YNc(1,co,1,2,"select-editor",1),m.YNc(2,_r,1,2,"textarea-editor",1),m.YNc(3,Go,1,2,"checkbox-editor",2),m.YNc(4,Vr,1,1,"completer-editor",3),m.YNc(5,_s,1,2,"input-editor",4),m.qZA()),2&M&&(m.Q6J("ngSwitch",J.getEditorType()),m.xp6(1),m.Q6J("ngSwitchCase","list"),m.xp6(1),m.Q6J("ngSwitchCase","textarea"),m.xp6(1),m.Q6J("ngSwitchCase","checkbox"),m.xp6(1),m.Q6J("ngSwitchCase","completer"))},directives:function(){return[P.RF,P.n9,P.ED,fl,pl,vr,Gl,Ua]},encapsulation:2}),K})(),da=(()=>{class K{constructor(){this.inputClass="",this.edited=new m.vpe}onEdited(M){return this.edited.next(M),!1}getEditorType(){return this.cell.getColumn().editor&&this.cell.getColumn().editor.type}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["table-cell-edit-mode"]],inputs:{inputClass:"inputClass",cell:"cell"},outputs:{edited:"edited"},decls:3,vars:2,consts:[[3,"ngSwitch"],[3,"cell","inputClass","edited",4,"ngSwitchCase"],[3,"cell","inputClass","edited",4,"ngSwitchDefault"],[3,"cell","inputClass","edited"]],template:function(M,J){1&M&&(m.TgZ(0,"div",0),m.YNc(1,Fs,1,2,"table-cell-custom-editor",1),m.YNc(2,Gr,1,2,"table-cell-default-editor",2),m.qZA()),2&M&&(m.Q6J("ngSwitch",J.getEditorType()),m.xp6(1),m.Q6J("ngSwitchCase","custom"))},directives:[P.RF,P.n9,P.ED,Gi,na],encapsulation:2}),K})(),ha=(()=>{class K{constructor(){this.onStopEditing=new m.vpe,this.onEdited=new m.vpe,this.onClick=new m.vpe}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng-component"]],inputs:{cell:"cell",inputClass:"inputClass"},outputs:{onStopEditing:"onStopEditing",onEdited:"onEdited",onClick:"onClick"},decls:0,vars:0,template:function(M,J){},encapsulation:2}),K})(),vr=(()=>{class K extends ha{constructor(){super()}onChange(M){const J=this.cell.getColumn().getConfig()&&this.cell.getColumn().getConfig().true||!0,ae=this.cell.getColumn().getConfig()&&this.cell.getColumn().getConfig().false||!1;this.cell.newValue=M.target.checked?J:ae}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["checkbox-editor"]],features:[m.qOj],decls:1,vars:4,consts:[["type","checkbox",1,"form-control",3,"ngClass","name","disabled","checked","click","change"]],template:function(M,J){if(1&M&&(m.TgZ(0,"input",0),m.NdJ("click",function(qe){return J.onClick.emit(qe)})("change",function(qe){return J.onChange(qe)}),m.qZA()),2&M){let ae;m.Q6J("ngClass",J.inputClass)("name",J.cell.getId())("disabled",!J.cell.isEditable())("checked",J.cell.getValue()==((null==(ae=J.cell.getColumn().getConfig())?null:ae.true)||!0))}},directives:[P.mk],styles:[ts]}),K})(),Gl=(()=>{class K extends ha{constructor(M){super(),this.completerService=M,this.completerStr=""}ngOnInit(){if(this.cell.getColumn().editor&&"completer"===this.cell.getColumn().editor.type){const M=this.cell.getColumn().getConfig().completer;M.dataService=this.completerService.local(M.data,M.searchFields,M.titleField),M.dataService.descriptionField(M.descriptionField)}}onEditedCompleter(M){return this.cell.newValue=M.title,!1}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(bn))},K.\u0275cmp=m.Xpm({type:K,selectors:[["completer-editor"]],features:[m.qOj],decls:1,vars:5,consts:[[3,"ngModel","dataService","minSearchLength","pause","placeholder","ngModelChange","selected"]],template:function(M,J){1&M&&(m.TgZ(0,"ng2-completer",0),m.NdJ("ngModelChange",function(qe){return J.completerStr=qe})("selected",function(qe){return J.onEditedCompleter(qe)}),m.qZA()),2&M&&m.Q6J("ngModel",J.completerStr)("dataService",J.cell.getColumn().getConfig().completer.dataService)("minSearchLength",J.cell.getColumn().getConfig().completer.minSearchLength||0)("pause",J.cell.getColumn().getConfig().completer.pause||0)("placeholder",J.cell.getColumn().getConfig().completer.placeholder||"Start typing...")},directives:[Zn,Ve.JJ,Ve.On],encapsulation:2}),K})(),Ua=(()=>{class K extends ha{constructor(){super()}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["input-editor"]],features:[m.qOj],decls:1,vars:5,consts:[[1,"form-control",3,"ngClass","ngModel","name","placeholder","disabled","ngModelChange","click","keydown.enter","keydown.esc"]],template:function(M,J){1&M&&(m.TgZ(0,"input",0),m.NdJ("ngModelChange",function(qe){return J.cell.newValue=qe})("click",function(qe){return J.onClick.emit(qe)})("keydown.enter",function(qe){return J.onEdited.emit(qe)})("keydown.esc",function(){return J.onStopEditing.emit()}),m.qZA()),2&M&&m.Q6J("ngClass",J.inputClass)("ngModel",J.cell.newValue)("name",J.cell.getId())("placeholder",J.cell.getTitle())("disabled",!J.cell.isEditable())},directives:[Ve.Fj,P.mk,Ve.JJ,Ve.On],styles:[ts]}),K})(),fl=(()=>{class K extends ha{constructor(){super()}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["select-editor"]],features:[m.qOj],decls:2,vars:5,consts:[[1,"form-control",3,"ngClass","ngModel","name","disabled","ngModelChange","click","keydown.enter","keydown.esc"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(M,J){if(1&M&&(m.TgZ(0,"select",0),m.NdJ("ngModelChange",function(qe){return J.cell.newValue=qe})("click",function(qe){return J.onClick.emit(qe)})("keydown.enter",function(qe){return J.onEdited.emit(qe)})("keydown.esc",function(){return J.onStopEditing.emit()}),m.YNc(1,ua,2,3,"option",1),m.qZA()),2&M){let ae;m.Q6J("ngClass",J.inputClass)("ngModel",J.cell.newValue)("name",J.cell.getId())("disabled",!J.cell.isEditable()),m.xp6(1),m.Q6J("ngForOf",null==(ae=J.cell.getColumn().getConfig())?null:ae.list)}},directives:[Ve.EJ,P.mk,Ve.JJ,Ve.On,P.sg,Ve.YN,Ve.Kr],encapsulation:2}),K})(),pl=(()=>{class K extends ha{constructor(){super()}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["textarea-editor"]],features:[m.qOj],decls:2,vars:5,consts:[[1,"form-control",3,"ngClass","ngModel","name","disabled","placeholder","ngModelChange","click","keydown.enter","keydown.esc"]],template:function(M,J){1&M&&(m.TgZ(0,"textarea",0),m.NdJ("ngModelChange",function(qe){return J.cell.newValue=qe})("click",function(qe){return J.onClick.emit(qe)})("keydown.enter",function(qe){return J.onEdited.emit(qe)})("keydown.esc",function(){return J.onStopEditing.emit()}),m._uU(1,"    "),m.qZA()),2&M&&m.Q6J("ngClass",J.inputClass)("ngModel",J.cell.newValue)("name",J.cell.getId())("disabled",!J.cell.isEditable())("placeholder",J.cell.getTitle())},directives:[Ve.Fj,P.mk,Ve.JJ,Ve.On],styles:[ts]}),K})(),pe=(()=>{class K{constructor(M){this.resolver=M}ngOnInit(){this.cell&&!this.customComponent&&(this.createCustomComponent(),this.callOnComponentInit(),this.patchInstance())}ngOnDestroy(){this.customComponent&&this.customComponent.destroy()}createCustomComponent(){const M=this.resolver.resolveComponentFactory(this.cell.getColumn().renderComponent);this.customComponent=this.dynamicTarget.createComponent(M)}callOnComponentInit(){const M=this.cell.getColumn().getOnComponentInitFunction();M&&M(this.customComponent.instance)}patchInstance(){Object.assign(this.customComponent.instance,this.getPatch())}getPatch(){return{value:this.cell.getValue(),rowData:this.cell.getRow().getData()}}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(m._Vd))},K.\u0275cmp=m.Xpm({type:K,selectors:[["custom-view-component"]],viewQuery:function(M,J){if(1&M&&m.Gf(lo,7,m.s_b),2&M){let ae;m.iGM(ae=m.CRH())&&(J.dynamicTarget=ae.first)}},inputs:{cell:"cell"},decls:2,vars:0,consts:[["dynamicTarget",""]],template:function(M,J){1&M&&m.YNc(0,Ys,0,0,"ng-template",null,0,m.W1O)},encapsulation:2}),K})(),I=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["table-cell-view-mode"]],inputs:{cell:"cell"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"cell",4,"ngSwitchCase"],[3,"innerHTML",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"cell"],[3,"innerHTML"]],template:function(M,J){1&M&&(m.TgZ(0,"div",0),m.YNc(1,Qs,1,1,"custom-view-component",1),m.YNc(2,za,1,1,"div",2),m.YNc(3,Mo,2,1,"div",3),m.qZA()),2&M&&(m.Q6J("ngSwitch",J.cell.getColumn().type),m.xp6(1),m.Q6J("ngSwitchCase","custom"),m.xp6(1),m.Q6J("ngSwitchCase","html"))},directives:[P.RF,P.n9,P.ED,pe],encapsulation:2,changeDetection:0}),K})(),Y=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[[P.ez,Ve.u5,Or]]}),K})();class ke{constructor(){this.onChangedSource=new oe.xQ,this.onAddedSource=new oe.xQ,this.onUpdatedSource=new oe.xQ,this.onRemovedSource=new oe.xQ}refresh(){this.emitOnChanged("refresh")}load(T){return this.emitOnChanged("load"),Promise.resolve()}onChanged(){return this.onChangedSource.asObservable()}onAdded(){return this.onAddedSource.asObservable()}onUpdated(){return this.onUpdatedSource.asObservable()}onRemoved(){return this.onRemovedSource.asObservable()}prepend(T){return this.emitOnAdded(T),this.emitOnChanged("prepend"),Promise.resolve()}append(T){return this.emitOnAdded(T),this.emitOnChanged("append"),Promise.resolve()}add(T){return this.emitOnAdded(T),this.emitOnChanged("add"),Promise.resolve()}remove(T){return this.emitOnRemoved(T),this.emitOnChanged("remove"),Promise.resolve()}update(T,M){return this.emitOnUpdated(T),this.emitOnChanged("update"),Promise.resolve()}empty(){return this.emitOnChanged("empty"),Promise.resolve()}setSort(T,M){M&&this.emitOnChanged("sort")}setFilter(T,M,J){J&&this.emitOnChanged("filter")}addFilter(T,M,J){J&&this.emitOnChanged("filter")}setPaging(T,M,J){J&&this.emitOnChanged("paging")}setPage(T,M){M&&this.emitOnChanged("page")}emitOnRemoved(T){this.onRemovedSource.next(T)}emitOnUpdated(T){this.onUpdatedSource.next(T)}emitOnAdded(T){this.onAddedSource.next(T)}emitOnChanged(T){this.getElements().then(M=>this.onChangedSource.next({action:T,elements:M,paging:this.getPaging(),filter:this.getFilter(),sort:this.getSort()}))}}let ze=(()=>{class K{constructor(){this.inputClass="",this.filter=new m.vpe,this.query=""}onFilter(M){this.source.addFilter({field:this.column.id,search:M,filter:this.column.getFilterFunction()})}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng-component"]],inputs:{inputClass:"inputClass",column:"column",source:"source"},outputs:{filter:"filter"},decls:0,vars:0,template:function(M,J){},encapsulation:2}),K})(),tt=(()=>{class K extends ze{constructor(){super(...arguments),this.query=""}ngOnChanges(M){M.source&&(M.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(J=>{const ae=this.source.getFilter();ae&&ae.filters&&0===ae.filters.length?this.query="":ae&&ae.filters&&ae.filters.length>0&&ae.filters.forEach((qe,Un)=>{qe.field==this.column.id&&(this.query=qe.search)})}))}}return K.\u0275fac=function(){let T;return function(J){return(T||(T=m.n5z(K)))(J||K)}}(),K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-smart-table-filter"]],features:[m.qOj,m.TTD],decls:1,vars:1,consts:[["class","ng2-smart-filter",3,"ngSwitch",4,"ngIf"],[1,"ng2-smart-filter",3,"ngSwitch"],[3,"query","column","source","inputClass","filter",4,"ngSwitchCase"],[3,"query","column","source","inputClass","filter",4,"ngSwitchDefault"],[3,"query","column","source","inputClass","filter"]],template:function(M,J){1&M&&m.YNc(0,Ls,3,2,"div",0),2&M&&m.Q6J("ngIf",J.column.isFilterable)},directives:function(){return[P.O5,P.RF,P.n9,P.ED,St,ft]},styles:["[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     input, [_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     select{font-weight:400;line-height:normal;padding:.375em .75em;width:100%}[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     input[type=search]{box-sizing:inherit}[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     .completer-dropdown-holder, [_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     a{font-weight:400}"]}),K})(),ft=(()=>{class K extends ze{}return K.\u0275fac=function(){let T;return function(J){return(T||(T=m.n5z(K)))(J||K)}}(),K.\u0275cmp=m.Xpm({type:K,selectors:[["default-table-filter"]],inputs:{query:"query"},features:[m.qOj],decls:5,vars:4,consts:[[3,"ngSwitch"],[3,"query","ngClass","column","filter",4,"ngSwitchCase"],[3,"query","ngClass","column","filter",4,"ngSwitchDefault"],[3,"query","ngClass","column","filter"]],template:function(M,J){1&M&&(m.ynx(0,0),m.YNc(1,Qa,1,3,"select-filter",1),m.YNc(2,cl,1,3,"checkbox-filter",1),m.YNc(3,$r,1,3,"completer-filter",1),m.YNc(4,Xs,1,3,"input-filter",2),m.BQk()),2&M&&(m.Q6J("ngSwitch",J.column.getFilterType()),m.xp6(1),m.Q6J("ngSwitchCase","list"),m.xp6(1),m.Q6J("ngSwitchCase","checkbox"),m.xp6(1),m.Q6J("ngSwitchCase","completer"))},directives:function(){return[P.RF,P.n9,P.ED,Nt,P.mk,yn,gn,ut]},encapsulation:2}),K})(),St=(()=>{class K extends ze{constructor(M){super(),this.resolver=M}ngOnChanges(M){if(this.column&&!this.customComponent){const J=this.resolver.resolveComponentFactory(this.column.filter.component);this.customComponent=this.dynamicTarget.createComponent(J),this.customComponent.instance.query=this.query,this.customComponent.instance.column=this.column,this.customComponent.instance.source=this.source,this.customComponent.instance.inputClass=this.inputClass,this.customComponent.instance.filter.subscribe(ae=>this.onFilter(ae))}this.customComponent&&this.customComponent.instance.ngOnChanges(M)}ngOnDestroy(){this.customComponent&&this.customComponent.destroy()}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(m._Vd))},K.\u0275cmp=m.Xpm({type:K,selectors:[["custom-table-filter"]],viewQuery:function(M,J){if(1&M&&m.Gf(lo,7,m.s_b),2&M){let ae;m.iGM(ae=m.CRH())&&(J.dynamicTarget=ae.first)}},inputs:{query:"query"},features:[m.qOj,m.TTD],decls:2,vars:0,consts:[["dynamicTarget",""]],template:function(M,J){1&M&&m.YNc(0,ea,0,0,"ng-template",null,0,m.W1O)},encapsulation:2}),K})(),qt=(()=>{class K{constructor(){this.delay=300,this.filter=new m.vpe}ngOnDestroy(){this.changesSubscription&&this.changesSubscription.unsubscribe()}setFilter(){this.filter.emit(this.query)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng-component"]],inputs:{query:"query",inputClass:"inputClass",column:"column"},outputs:{filter:"filter"},decls:0,vars:0,template:function(M,J){},encapsulation:2}),K})(),yn=(()=>{class K extends qt{constructor(){super(),this.filterActive=!1,this.inputControl=new Ve.NI}ngOnInit(){this.changesSubscription=this.inputControl.valueChanges.pipe((0,Ho.b)(this.delay)).subscribe(M=>{this.filterActive=!0;const J=this.column.getFilterConfig()&&this.column.getFilterConfig().true||!0,ae=this.column.getFilterConfig()&&this.column.getFilterConfig().false||!1;this.query=M?J:ae,this.setFilter()})}resetFilter(M){M.preventDefault(),this.query="",this.inputControl.setValue(!1,{emitEvent:!1}),this.filterActive=!1,this.setFilter()}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["checkbox-filter"]],features:[m.qOj],decls:2,vars:3,consts:[["type","checkbox",1,"form-control",3,"formControl","ngClass"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(M,J){1&M&&(m._UZ(0,"input",0),m.YNc(1,Bs,2,1,"a",1)),2&M&&(m.Q6J("formControl",J.inputControl)("ngClass",J.inputClass),m.xp6(1),m.Q6J("ngIf",J.filterActive))},directives:[Ve.Wl,Ve.JJ,Ve.oH,P.mk,P.O5],encapsulation:2}),K})(),gn=(()=>{class K extends qt{constructor(M){super(),this.completerService=M,this.completerContent=new oe.xQ}ngOnInit(){const M=this.column.getFilterConfig().completer;M.dataService=this.completerService.local(M.data,M.searchFields,M.titleField),M.dataService.descriptionField(M.descriptionField),this.changesSubscription=this.completerContent.pipe((0,be.U)(J=>J&&J.title||J||""),(0,es.x)(),(0,Ho.b)(this.delay)).subscribe(J=>{this.query=J,this.setFilter()})}inputTextChanged(M){""===M&&this.completerContent.next(M)}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(bn))},K.\u0275cmp=m.Xpm({type:K,selectors:[["completer-filter"]],features:[m.qOj],decls:1,vars:5,consts:[[3,"ngModel","dataService","minSearchLength","pause","placeholder","ngModelChange","selected"]],template:function(M,J){1&M&&(m.TgZ(0,"ng2-completer",0),m.NdJ("ngModelChange",function(qe){return J.query=qe})("ngModelChange",function(qe){return J.inputTextChanged(qe)})("selected",function(qe){return J.completerContent.next(qe)}),m.qZA()),2&M&&m.Q6J("ngModel",J.query)("dataService",J.column.getFilterConfig().completer.dataService)("minSearchLength",J.column.getFilterConfig().completer.minSearchLength||0)("pause",J.column.getFilterConfig().completer.pause||0)("placeholder",J.column.getFilterConfig().completer.placeholder||"Start typing...")},directives:[Zn,Ve.JJ,Ve.On],encapsulation:2}),K})(),ut=(()=>{class K extends qt{constructor(){super(),this.inputControl=new Ve.NI}ngOnInit(){this.query&&this.inputControl.setValue(this.query),this.inputControl.valueChanges.pipe((0,es.x)(),(0,Ho.b)(this.delay)).subscribe(M=>{this.query=this.inputControl.value,this.setFilter()})}ngOnChanges(M){M.query&&this.inputControl.setValue(this.query)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["input-filter"]],features:[m.qOj,m.TTD],decls:1,vars:3,consts:[["type","text",1,"form-control",3,"ngClass","formControl","placeholder"]],template:function(M,J){1&M&&m._UZ(0,"input",0),2&M&&(m.s9C("placeholder",J.column.title),m.Q6J("ngClass",J.inputClass)("formControl",J.inputControl))},directives:[Ve.Fj,P.mk,Ve.JJ,Ve.oH],encapsulation:2}),K})(),Nt=(()=>{class K extends qt{constructor(){super()}ngOnInit(){this.inputControl.valueChanges.pipe(T=>T.lift(new No(1)),(0,es.x)(),(0,Ho.b)(this.delay)).subscribe(M=>this.setFilter())}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["select-filter"]],viewQuery:function(M,J){if(1&M&&m.Gf(Qi,7,Ve.a5),2&M){let ae;m.iGM(ae=m.CRH())&&(J.inputControl=ae.first)}},features:[m.qOj],decls:5,vars:4,consts:[[1,"form-control",3,"ngClass","ngModel","ngModelChange"],["inputControl",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(M,J){1&M&&(m.TgZ(0,"select",0,1),m.NdJ("ngModelChange",function(qe){return J.query=qe}),m.TgZ(2,"option",2),m._uU(3),m.qZA(),m.YNc(4,xs,2,2,"option",3),m.qZA()),2&M&&(m.Q6J("ngClass",J.inputClass)("ngModel",J.query),m.xp6(3),m.Oqu(J.column.getFilterConfig().selectText),m.xp6(1),m.Q6J("ngForOf",J.column.getFilterConfig().list))},directives:[Ve.EJ,P.mk,Ve.JJ,Ve.On,Ve.YN,Ve.Kr,P.sg],encapsulation:2}),K})(),Wt=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[[P.ez,Ve.u5,Ve.UX,Or]]}),K})(),un=(()=>{class K{constructor(){this.perPageSelect=[],this.changePage=new m.vpe,this.count=0}ngOnChanges(M){M.source&&(M.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(J=>{this.page=this.source.getPaging().page,this.perPage=this.source.getPaging().perPage,this.currentPerPage=this.perPage,this.count=this.source.count(),this.isPageOutOfBounce()&&this.source.setPage(--this.page),this.processPageChange(J),this.initPages()}))}processPageChange(M){"prepend"===M.action&&this.source.setPage(1),"append"===M.action&&this.source.setPage(this.getLast())}shouldShow(){return this.source.count()>this.perPage}paginate(M){return this.source.setPage(M),this.page=M,this.changePage.emit({page:M}),!1}next(){return this.paginate(this.getPage()+1)}prev(){return this.paginate(this.getPage()-1)}getPage(){return this.page}getPages(){return this.pages}getLast(){return Math.ceil(this.count/this.perPage)}isPageOutOfBounce(){return this.page*this.perPage>=this.count+this.perPage&&this.page>1}initPages(){const M=this.getLast();let J=4;if(J=M<J?M:J,this.pages=[],this.shouldShow()){let ae=Math.ceil(J/2);ae=this.page>=ae?this.page:ae;let qe=ae+Math.floor(J/2);qe=qe>=M?M:qe;for(let nr=qe-J+1;nr<=qe;nr++)this.pages.push(nr)}}onChangePerPage(M){this.currentPerPage&&("string"==typeof this.currentPerPage&&"all"===this.currentPerPage.toLowerCase()?this.source.getPaging().perPage=null:(this.source.getPaging().perPage=1*this.currentPerPage,this.source.refresh()),this.initPages())}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-smart-table-pager"]],inputs:{perPageSelect:"perPageSelect",source:"source"},outputs:{changePage:"changePage"},features:[m.TTD],decls:2,vars:2,consts:[["class","ng2-smart-pagination-nav",4,"ngIf"],["class","ng2-smart-pagination-per-page",4,"ngIf"],[1,"ng2-smart-pagination-nav"],[1,"ng2-smart-pagination","pagination"],[1,"ng2-smart-page-item","page-item",3,"ngClass"],["href","#","aria-label","First",1,"ng2-smart-page-link","page-link",3,"click"],["aria-hidden","true"],[1,"sr-only"],["href","#","aria-label","Prev",1,"ng2-smart-page-link","page-link","page-link-prev",3,"click"],["class","ng2-smart-page-item page-item",3,"ngClass",4,"ngFor","ngForOf"],["href","#","aria-label","Next",1,"ng2-smart-page-link","page-link","page-link-next",3,"click"],["href","#","aria-label","Last",1,"ng2-smart-page-link","page-link",3,"click"],["class","ng2-smart-page-link page-link",4,"ngIf"],["class","ng2-smart-page-link page-link","href","#",3,"click",4,"ngIf"],[1,"ng2-smart-page-link","page-link"],["href","#",1,"ng2-smart-page-link","page-link",3,"click"],[1,"ng2-smart-pagination-per-page"],["for","per-page"],["id","per-page",3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(M,J){1&M&&(m.YNc(0,go,27,13,"nav",0),m.YNc(1,Es,5,2,"nav",1)),2&M&&(m.Q6J("ngIf",J.shouldShow()),m.xp6(1),m.Q6J("ngIf",J.perPageSelect&&J.perPageSelect.length>0))},directives:[P.O5,P.mk,P.sg,Ve.EJ,Ve.JJ,Ve.On,Ve.YN,Ve.Kr],styles:[".ng2-smart-pagination[_ngcontent-%COMP%]{display:inline-flex;font-size:.875em;padding:0}.ng2-smart-pagination[_ngcontent-%COMP%]   .sr-only[_ngcontent-%COMP%]{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.ng2-smart-pagination[_ngcontent-%COMP%]   .ng2-smart-page-item[_ngcontent-%COMP%]{display:inline}.ng2-smart-pagination[_ngcontent-%COMP%]   .page-link-next[_ngcontent-%COMP%], .ng2-smart-pagination[_ngcontent-%COMP%]   .page-link-prev[_ngcontent-%COMP%]{font-size:10px}[_nghost-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   select[_ngcontent-%COMP%]{margin:1rem 0 1rem 1rem}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{line-height:2.5rem}"]}),K})(),mi=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[[P.ez,Ve.u5]]}),K})(),vi=(()=>{class K{constructor(){this.save=new m.vpe,this.cancel=new m.vpe,this.edit=new m.vpe,this.delete=new m.vpe,this.custom=new m.vpe,this.edited=new m.vpe,this.userSelectRow=new m.vpe,this.editRowSelect=new m.vpe,this.multipleSelectRow=new m.vpe,this.rowHover=new m.vpe}get tableColumnsCount(){const M=this.isActionAdd||this.isActionEdit||this.isActionDelete?1:0;return this.grid.getColumns().length+M}ngOnChanges(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.mode=this.grid.getSetting("mode"),this.editInputClass=this.grid.getSetting("edit.inputClass"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.isActionAdd=this.grid.getSetting("actions.add"),this.isActionEdit=this.grid.getSetting("actions.edit"),this.isActionDelete=this.grid.getSetting("actions.delete"),this.noDataMessage=this.grid.getSetting("noDataMessage")}getVisibleCells(M){return(M||[]).filter(J=>!J.getColumn().hide)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-tbody",""]],inputs:{grid:"grid",source:"source",deleteConfirm:"deleteConfirm",editConfirm:"editConfirm",rowClassFunction:"rowClassFunction"},outputs:{save:"save",cancel:"cancel",edit:"edit",delete:"delete",custom:"custom",edited:"edited",userSelectRow:"userSelectRow",editRowSelect:"editRowSelect",multipleSelectRow:"multipleSelectRow",rowHover:"rowHover"},features:[m.TTD],attrs:Fo,decls:2,vars:2,consts:[["class","ng2-smart-row",3,"className","ngClass","click","mouseover",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ng2-smart-row",3,"className","ngClass","click","mouseover"],["class","ng2-smart-actions ng2-smart-action-multiple-select",3,"click",4,"ngIf"],["class","ng2-smart-actions",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"ng2-smart-actions","ng2-smart-action-multiple-select",3,"click"],["type","checkbox",1,"form-control",3,"ngModel"],[1,"ng2-smart-actions"],[3,"grid","row","source","custom"],[3,"grid","deleteConfirm","editConfirm","row","source","edit","delete","editRowSelect"],[3,"grid","row","editConfirm"],[3,"cell","grid","row","isNew","mode","editConfirm","inputClass","isInEditing"]],template:function(M,J){1&M&&(m.YNc(0,te,7,10,"tr",0),m.YNc(1,je,3,2,"tr",1)),2&M&&(m.Q6J("ngForOf",J.grid.getRows()),m.xp6(1),m.Q6J("ngIf",0==J.grid.getRows().length))},directives:function(){return[P.sg,P.O5,P.mk,Ve.Wl,Ve.JJ,Ve.On,Us,Do,yi,wa]},styles:["[_nghost-%COMP%]   .ng2-smart-row.selected[_ngcontent-%COMP%]{background:rgba(0,0,0,.05)}[_nghost-%COMP%]   .ng2-smart-row[_ngcontent-%COMP%]   .ng2-smart-actions.ng2-smart-action-multiple-select[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]     ng2-st-tbody-create-cancel a:first-child, [_nghost-%COMP%]     ng2-st-tbody-edit-delete a:first-child{margin-right:.25rem}"]}),K})(),yi=(()=>{class K{onSave(M){M.preventDefault(),M.stopPropagation(),this.grid.save(this.row,this.editConfirm)}onCancelEdit(M){M.preventDefault(),M.stopPropagation(),this.row.isInEditing=!1}ngOnChanges(){this.saveButtonContent=this.grid.getSetting("edit.saveButtonContent"),this.cancelButtonContent=this.grid.getSetting("edit.cancelButtonContent")}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-st-tbody-create-cancel"]],inputs:{grid:"grid",row:"row",editConfirm:"editConfirm"},features:[m.TTD],decls:2,vars:2,consts:[["href","#",1,"ng2-smart-action","ng2-smart-action-edit-save",3,"innerHTML","click"],["href","#",1,"ng2-smart-action","ng2-smart-action-edit-cancel",3,"innerHTML","click"]],template:function(M,J){1&M&&(m.TgZ(0,"a",0),m.NdJ("click",function(qe){return J.onSave(qe)}),m.qZA(),m.TgZ(1,"a",1),m.NdJ("click",function(qe){return J.onCancelEdit(qe)}),m.qZA()),2&M&&(m.Q6J("innerHTML",J.saveButtonContent,m.oJD),m.xp6(1),m.Q6J("innerHTML",J.cancelButtonContent,m.oJD))},encapsulation:2}),K})(),Do=(()=>{class K{constructor(){this.edit=new m.vpe,this.delete=new m.vpe,this.editRowSelect=new m.vpe}onEdit(M){M.preventDefault(),M.stopPropagation(),this.editRowSelect.emit(this.row),"external"===this.grid.getSetting("mode")?this.edit.emit({data:this.row.getData(),source:this.source}):this.grid.edit(this.row)}onDelete(M){M.preventDefault(),M.stopPropagation(),"external"===this.grid.getSetting("mode")?this.delete.emit({data:this.row.getData(),source:this.source}):this.grid.delete(this.row,this.deleteConfirm)}ngOnChanges(){this.isActionEdit=this.grid.getSetting("actions.edit"),this.isActionDelete=this.grid.getSetting("actions.delete"),this.editRowButtonContent=this.grid.getSetting("edit.editButtonContent"),this.deleteRowButtonContent=this.grid.getSetting("delete.deleteButtonContent")}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-st-tbody-edit-delete"]],inputs:{grid:"grid",row:"row",source:"source",deleteConfirm:"deleteConfirm",editConfirm:"editConfirm"},outputs:{edit:"edit",delete:"delete",editRowSelect:"editRowSelect"},features:[m.TTD],decls:2,vars:2,consts:[["href","#","class","ng2-smart-action ng2-smart-action-edit-edit",3,"innerHTML","click",4,"ngIf"],["href","#","class","ng2-smart-action ng2-smart-action-delete-delete",3,"innerHTML","click",4,"ngIf"],["href","#",1,"ng2-smart-action","ng2-smart-action-edit-edit",3,"innerHTML","click"],["href","#",1,"ng2-smart-action","ng2-smart-action-delete-delete",3,"innerHTML","click"]],template:function(M,J){1&M&&(m.YNc(0,Xe,1,1,"a",0),m.YNc(1,V,1,1,"a",1)),2&M&&(m.Q6J("ngIf",J.isActionEdit),m.xp6(1),m.Q6J("ngIf",J.isActionDelete))},directives:[P.O5],encapsulation:2,changeDetection:0}),K})(),Us=(()=>{class K{constructor(){this.custom=new m.vpe}onCustom(M,J){J.preventDefault(),J.stopPropagation(),this.custom.emit({action:M.name,data:this.row.getData(),source:this.source})}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-st-tbody-custom"]],inputs:{grid:"grid",row:"row",source:"source"},outputs:{custom:"custom"},decls:1,vars:1,consts:[["href","#","class","ng2-smart-action ng2-smart-action-custom-custom",3,"innerHTML","click",4,"ngFor","ngForOf"],["href","#",1,"ng2-smart-action","ng2-smart-action-custom-custom",3,"innerHTML","click"]],template:function(M,J){1&M&&m.YNc(0,ue,1,1,"a",0),2&M&&m.Q6J("ngForOf",J.grid.getSetting("actions.custom"))},directives:[P.sg],encapsulation:2,changeDetection:0}),K})(),eo=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[[P.ez,Ve.u5,Y]]}),K})(),ys=(()=>{class K{constructor(){this.sort=new m.vpe,this.selectAllRows=new m.vpe,this.create=new m.vpe,this.filter=new m.vpe}ngOnChanges(){this.isHideHeader=this.grid.getSetting("hideHeader"),this.isHideSubHeader=this.grid.getSetting("hideSubHeader")}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-thead",""]],inputs:{grid:"grid",source:"source",isAllSelected:"isAllSelected",createConfirm:"createConfirm"},outputs:{sort:"sort",selectAllRows:"selectAllRows",create:"create",filter:"filter"},features:[m.TTD],attrs:$,decls:3,vars:3,consts:[["ng2-st-thead-titles-row","","class","ng2-smart-titles",3,"grid","isAllSelected","source","sort","selectAllRows",4,"ngIf"],["ng2-st-thead-filters-row","","class","ng2-smart-filters",3,"grid","source","create","filter",4,"ngIf"],["ng2-st-thead-form-row","",3,"grid","createConfirm",4,"ngIf"],["ng2-st-thead-titles-row","",1,"ng2-smart-titles",3,"grid","isAllSelected","source","sort","selectAllRows"],["ng2-st-thead-filters-row","",1,"ng2-smart-filters",3,"grid","source","create","filter"],["ng2-st-thead-form-row","",3,"grid","createConfirm"]],template:function(M,J){1&M&&(m.YNc(0,ve,1,3,"tr",0),m.YNc(1,Ge,1,2,"tr",1),m.YNc(2,z,1,2,"tr",2)),2&M&&(m.Q6J("ngIf",!J.isHideHeader),m.xp6(1),m.Q6J("ngIf",!J.isHideSubHeader),m.xp6(1),m.Q6J("ngIf",J.grid.createFormShown))},directives:function(){return[P.O5,Kn,Rr,Pn]},encapsulation:2}),K})(),si=(()=>{class K{constructor(){this.create=new m.vpe}ngOnChanges(){this.createButtonContent=this.grid.getSetting("add.createButtonContent"),this.cancelButtonContent=this.grid.getSetting("add.cancelButtonContent")}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-st-actions"]],inputs:{grid:"grid"},outputs:{create:"create"},features:[m.TTD],decls:2,vars:2,consts:[["href","#",1,"ng2-smart-action","ng2-smart-action-add-create",3,"innerHTML","click"],["href","#",1,"ng2-smart-action","ng2-smart-action-add-cancel",3,"innerHTML","click"]],template:function(M,J){1&M&&(m.TgZ(0,"a",0),m.NdJ("click",function(qe){return qe.preventDefault(),J.create.emit(qe)}),m.qZA(),m.TgZ(1,"a",1),m.NdJ("click",function(qe){return qe.preventDefault(),J.grid.createFormShown=!1}),m.qZA()),2&M&&(m.Q6J("innerHTML",J.createButtonContent,m.oJD),m.xp6(1),m.Q6J("innerHTML",J.cancelButtonContent,m.oJD))},encapsulation:2}),K})(),ws=(()=>{class K{constructor(M){this.ref=M}ngAfterViewInit(){this.ref.nativeElement.classList.add("ng2-smart-actions")}ngOnChanges(){this.actionsColumnTitle=this.grid.getSetting("actions.columnTitle")}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(m.SBq))},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-actions-title",""]],inputs:{grid:"grid"},features:[m.TTD],attrs:q,decls:2,vars:1,consts:[[1,"ng2-smart-title"]],template:function(M,J){1&M&&(m.TgZ(0,"div",0),m._uU(1),m.qZA()),2&M&&(m.xp6(1),m.Oqu(J.actionsColumnTitle))},encapsulation:2}),K})(),Hi=(()=>{class K{constructor(M){this.ref=M,this.create=new m.vpe}ngAfterViewInit(){this.ref.nativeElement.classList.add("ng2-smart-actions-title","ng2-smart-actions-title-add")}ngOnChanges(){this.isActionAdd=this.grid.getSetting("actions.add"),this.addNewButtonContent=this.grid.getSetting("add.addButtonContent")}onAdd(M){M.preventDefault(),M.stopPropagation(),"external"===this.grid.getSetting("mode")?this.create.emit({source:this.source}):this.grid.createFormShown=!0}}return K.\u0275fac=function(M){return new(M||K)(m.Y36(m.SBq))},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-add-button",""]],inputs:{grid:"grid",source:"source"},outputs:{create:"create"},features:[m.TTD],attrs:G,decls:1,vars:1,consts:[["href","#","class","ng2-smart-action ng2-smart-action-add-add",3,"innerHTML","click",4,"ngIf"],["href","#",1,"ng2-smart-action","ng2-smart-action-add-add",3,"innerHTML","click"]],template:function(M,J){1&M&&m.YNc(0,Ce,1,1,"a",0),2&M&&m.Q6J("ngIf",J.isActionAdd)},directives:[P.O5],encapsulation:2}),K})(),Fi=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-checkbox-select-all",""]],inputs:{grid:"grid",source:"source",isAllSelected:"isAllSelected"},attrs:kt,decls:1,vars:1,consts:[["type","checkbox",3,"ngModel"]],template:function(M,J){1&M&&m._UZ(0,"input",0),2&M&&m.Q6J("ngModel",J.isAllSelected)},directives:[Ve.Wl,Ve.JJ,Ve.On],encapsulation:2}),K})(),Zo=(()=>{class K{constructor(){this.sort=new m.vpe}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-st-column-title"]],inputs:{column:"column",source:"source"},outputs:{sort:"sort"},decls:2,vars:2,consts:[[1,"ng2-smart-title"],[3,"source","column","sort"]],template:function(M,J){1&M&&(m.TgZ(0,"div",0),m.TgZ(1,"ng2-smart-table-title",1),m.NdJ("sort",function(qe){return J.sort.emit(qe)}),m.qZA(),m.qZA()),2&M&&(m.xp6(1),m.Q6J("source",J.source)("column",J.column))},directives:function(){return[fa]},encapsulation:2}),K})(),fa=(()=>{class K{constructor(){this.currentDirection="",this.sort=new m.vpe}ngOnChanges(M){M.source&&(M.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(J=>{const ae=this.source.getSort();this.currentDirection=ae.length>0&&ae[0].field===this.column.id?ae[0].direction:"",ae.forEach(qe=>{})}))}_sort(M){M.preventDefault(),this.changeSortDirection(),this.source.setSort([{field:this.column.id,direction:this.currentDirection,compare:this.column.getCompareFunction()}]),this.sort.emit(null)}changeSortDirection(){return this.currentDirection=this.currentDirection?"asc"===this.currentDirection?"desc":"asc":this.column.sortDirection,this.currentDirection}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-smart-table-title"]],inputs:{column:"column",source:"source"},outputs:{sort:"sort"},features:[m.TTD],decls:2,vars:2,consts:[["href","#","class","ng2-smart-sort-link sort",3,"ngClass","click",4,"ngIf"],["class","ng2-smart-sort",4,"ngIf"],["href","#",1,"ng2-smart-sort-link","sort",3,"ngClass","click"],[1,"ng2-smart-sort"]],template:function(M,J){1&M&&(m.YNc(0,Yt,2,2,"a",0),m.YNc(1,hn,2,1,"span",1)),2&M&&(m.Q6J("ngIf",J.column.isSortable),m.xp6(1),m.Q6J("ngIf",!J.column.isSortable))},directives:[P.O5,P.mk],styles:['a.sort.asc[_ngcontent-%COMP%], a.sort.desc[_ngcontent-%COMP%]{font-weight:700}a.sort.asc[_ngcontent-%COMP%]:after, a.sort.desc[_ngcontent-%COMP%]:after{border:4px solid transparent;border-bottom-color:rgba(0,0,0,.3);content:"";display:inline-block;height:0;margin-bottom:2px;width:0}a.sort.desc[_ngcontent-%COMP%]:after{margin-bottom:-2px;transform:rotate(-180deg)}']}),K})(),Rr=(()=>{class K{constructor(){this.create=new m.vpe,this.filter=new m.vpe}ngOnChanges(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.filterInputClass=this.grid.getSetting("filter.inputClass")}getVisibleColumns(M){return(M||[]).filter(J=>!J.hide)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-thead-filters-row",""]],inputs:{grid:"grid",source:"source"},outputs:{create:"create",filter:"filter"},features:[m.TTD],attrs:Xn,decls:4,vars:4,consts:[[4,"ngIf"],["ng2-st-add-button","",3,"grid","create",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],["ng2-st-add-button","",3,"grid","source","create",4,"ngIf"],["ng2-st-add-button","",3,"grid","create"],[3,"source","column","inputClass","filter"],["ng2-st-add-button","",3,"grid","source","create"]],template:function(M,J){1&M&&(m.YNc(0,ii,1,0,"th",0),m.YNc(1,Ri,1,1,"th",1),m.YNc(2,br,2,6,"th",2),m.YNc(3,uo,1,2,"th",3)),2&M&&(m.Q6J("ngIf",J.isMultiSelectVisible),m.xp6(1),m.Q6J("ngIf",J.showActionColumnLeft),m.xp6(1),m.Q6J("ngForOf",J.getVisibleColumns(J.grid.getColumns())),m.xp6(1),m.Q6J("ngIf",J.showActionColumnRight))},directives:[P.O5,P.sg,Hi,tt],encapsulation:2}),K})(),Pn=(()=>{class K{constructor(){this.create=new m.vpe}onCreate(M){M.stopPropagation(),this.grid.create(this.grid.getNewRow(),this.createConfirm)}ngOnChanges(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.addInputClass=this.grid.getSetting("add.inputClass")}getVisibleCells(M){return(M||[]).filter(J=>!J.getColumn().hide)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-thead-form-row",""]],inputs:{grid:"grid",row:"row",createConfirm:"createConfirm"},outputs:{create:"create"},features:[m.TTD],attrs:Mr,decls:4,vars:3,consts:[[4,"ngIf"],["class","ng2-smart-actions",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"ng2-smart-actions"],[3,"grid","create"],[3,"cell","grid","isNew","createConfirm","inputClass","isInEditing","edited"]],template:function(M,J){1&M&&(m.YNc(0,ho,1,0,"td",0),m.YNc(1,vs,2,1,"td",1),m.YNc(2,ti,2,6,"td",2),m.YNc(3,mo,2,1,"td",1)),2&M&&(m.xp6(1),m.Q6J("ngIf",J.showActionColumnLeft),m.xp6(1),m.Q6J("ngForOf",J.getVisibleCells(J.grid.getNewRow().getCells())),m.xp6(1),m.Q6J("ngIf",J.showActionColumnRight))},directives:[P.O5,P.sg,si,wa],encapsulation:2}),K})(),Kn=(()=>{class K{constructor(){this.sort=new m.vpe,this.selectAllRows=new m.vpe}ngOnChanges(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right")}getVisibleColumns(M){return(M||[]).filter(J=>!J.hide)}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["","ng2-st-thead-titles-row",""]],inputs:{grid:"grid",isAllSelected:"isAllSelected",source:"source"},outputs:{sort:"sort",selectAllRows:"selectAllRows"},features:[m.TTD],attrs:Tl,decls:4,vars:4,consts:[["ng2-st-checkbox-select-all","",3,"grid","source","isAllSelected","click",4,"ngIf"],["ng2-st-actions-title","",3,"grid",4,"ngIf"],[3,"class","ngClass","width",4,"ngFor","ngForOf"],["ng2-st-checkbox-select-all","",3,"grid","source","isAllSelected","click"],["ng2-st-actions-title","",3,"grid"],[3,"ngClass"],[3,"source","column","sort"]],template:function(M,J){1&M&&(m.YNc(0,nc,1,3,"th",0),m.YNc(1,Mc,1,1,"th",1),m.YNc(2,ql,2,8,"th",2),m.YNc(3,Sl,1,1,"th",1)),2&M&&(m.Q6J("ngIf",J.isMultiSelectVisible),m.xp6(1),m.Q6J("ngIf",J.showActionColumnLeft),m.xp6(1),m.Q6J("ngForOf",J.getVisibleColumns(J.grid.getColumns())),m.xp6(1),m.Q6J("ngIf",J.showActionColumnRight))},directives:[P.O5,P.sg,Fi,ws,P.mk,Zo],encapsulation:2}),K})(),ei=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[[P.ez,Ve.u5,Wt,Y]]}),K})();function Zr(K,T,M){return T<M?-1*K:T>M?K:0}function ds(K,T){return K.toString().toLowerCase().includes(T.toString().toLowerCase())}class Ko{static filter(T,M,J,ae){const qe=ae||ds;return T.filter(Un=>qe.call(null,null==Un[M]?"":Un[M],J))}}class is extends ke{constructor(T=[]){super(),this.data=[],this.filteredAndSorted=[],this.sortConf=[],this.filterConf={filters:[],andOperator:!0},this.pagingConf={},this.data=T}load(T){return this.data=T,super.load(T)}prepend(T){return this.reset(!0),this.data.unshift(T),super.prepend(T)}append(T){return this.reset(!0),this.data.push(T),super.append(T)}add(T){return this.data.push(T),super.add(T)}remove(T){return this.data=this.data.filter(M=>M!==T),super.remove(T)}update(T,M){return new Promise((J,ae)=>{this.find(T).then(qe=>{qe=Di(qe,M),super.update(qe,M).then(J).catch(ae)}).catch(ae)})}find(T){const M=this.data.find(J=>J===T);return M?Promise.resolve(M):Promise.reject(new Error("Element was not found in the dataset"))}getElements(){const T=this.data.slice(0);return Promise.resolve(this.prepareData(T))}getFilteredAndSorted(){let T=this.data.slice(0);return this.prepareData(T),Promise.resolve(this.filteredAndSorted)}getAll(){const T=this.data.slice(0);return Promise.resolve(T)}reset(T=!1){T?(this.filterConf={filters:[],andOperator:!0},this.sortConf=[],this.pagingConf.page=1):(this.setFilter([],!0,!1),this.setSort([],!1),this.setPage(1))}empty(){return this.data=[],super.empty()}count(){return this.filteredAndSorted.length}setSort(T,M=!0){return null!==T&&(T.forEach(J=>{if(!J.field||void 0===J.direction)throw new Error("Sort configuration object is not valid")}),this.sortConf=T),super.setSort(T,M),this}setFilter(T,M=!0,J=!0){return T&&T.length>0?T.forEach(ae=>{this.addFilter(ae,M,!1)}):this.filterConf={filters:[],andOperator:!0},this.filterConf.andOperator=M,this.pagingConf.page=1,super.setFilter(T,M,J),this}addFilter(T,M=!0,J=!0){if(!T.field||void 0===T.search)throw new Error("Filter configuration object is not valid");let ae=!1;return this.filterConf.filters.forEach((qe,Un)=>{qe.field===T.field&&(this.filterConf.filters[Un]=T,ae=!0)}),ae||this.filterConf.filters.push(T),this.filterConf.andOperator=M,super.addFilter(T,M,J),this}setPaging(T,M,J=!0){return this.pagingConf.page=T,this.pagingConf.perPage=M,super.setPaging(T,M,J),this}setPage(T,M=!0){return this.pagingConf.page=T,super.setPage(T,M),this}getSort(){return this.sortConf}getFilter(){return this.filterConf}getPaging(){return this.pagingConf}prepareData(T){return T=this.filter(T),T=this.sort(T),this.filteredAndSorted=T.slice(0),this.paginate(T)}sort(T){return this.sortConf&&this.sortConf.forEach(M=>{T=class{static sort(T,M,J,ae){const qe="asc"===J?1:-1,Un=ae||Zr;return T.sort((nr,Qt)=>Un.call(null,qe,nr[M],Qt[M]))}}.sort(T,M.field,M.direction,M.compare)}),T}filter(T){if(this.filterConf.filters)if(this.filterConf.andOperator)this.filterConf.filters.forEach(M=>{M.search.length>0&&(T=Ko.filter(T,M.field,M.search,M.filter))});else{let M=[];this.filterConf.filters.forEach(J=>{J.search.length>0&&(M=M.concat(Ko.filter(T,J.field,J.search,J.filter)))}),T=M.filter((J,ae,qe)=>qe.indexOf(J)===ae)}return T}paginate(T){return this.pagingConf&&this.pagingConf.page&&this.pagingConf.perPage&&(T=class{static paginate(T,M,J){return T.slice(J*(M-1),J*M)}}.paginate(T,this.pagingConf.page,this.pagingConf.perPage)),T}}let rs=(()=>{class K{constructor(){this.settings={},this.rowSelect=new m.vpe,this.rowDeselect=new m.vpe,this.userRowSelect=new m.vpe,this.delete=new m.vpe,this.edit=new m.vpe,this.create=new m.vpe,this.custom=new m.vpe,this.deleteConfirm=new m.vpe,this.editConfirm=new m.vpe,this.createConfirm=new m.vpe,this.rowHover=new m.vpe,this.defaultSettings={mode:"inline",selectMode:"single",selectedRowIndex:0,switchPageToSelectedRowPage:!1,hideHeader:!1,hideSubHeader:!1,actions:{columnTitle:"Actions",add:!0,edit:!0,delete:!0,custom:[],position:"left"},filter:{inputClass:""},edit:{inputClass:"",editButtonContent:"Edit",saveButtonContent:"Update",cancelButtonContent:"Cancel",confirmSave:!1},add:{inputClass:"",addButtonContent:"Add New",createButtonContent:"Create",cancelButtonContent:"Cancel",confirmCreate:!1},delete:{deleteButtonContent:"Delete",confirmDelete:!1},attr:{id:"",class:""},noDataMessage:"No data found",columns:{},pager:{display:!0,page:1,perPage:10},rowClassFunction:()=>""},this.isAllSelected=!1,this.destroyed$=new oe.xQ}ngOnChanges(M){this.grid?(M.settings&&this.grid.setSettings(this.prepareSettings()),M.source&&(this.source=this.prepareSource(),this.grid.setSource(this.source))):this.initGrid(),this.tableId=this.grid.getSetting("attr.id"),this.tableClass=this.grid.getSetting("attr.class"),this.isHideHeader=this.grid.getSetting("hideHeader"),this.isHideSubHeader=this.grid.getSetting("hideSubHeader"),this.isPagerDisplay=this.grid.getSetting("pager.display"),this.isPagerDisplay=this.grid.getSetting("pager.display"),this.perPageSelect=this.grid.getSetting("pager.perPageSelect"),this.rowClassFunction=this.grid.getSetting("rowClassFunction")}ngOnDestroy(){this.destroyed$.next()}selectRow(M,J=this.grid.getSetting("switchPageToSelectedRowPage")){if(!this.grid)return;if(this.grid.settings.selectedRowIndex=M,this.isIndexOutOfRange(M))return void this.deselectAllRows();if(J){const qe=this.source,Un=qe.getPaging(),nr=Ra(M,Un.perPage);if(this.grid.settings.selectedRowIndex=M%=Un.perPage,nr!==Un.page)return void qe.setPage(nr)}const ae=this.grid.getRows()[M];ae?this.onSelectRow(ae):this.deselectAllRows()}deselectAllRows(){this.grid.dataSet.deselectAll(),this.emitDeselectRow(null)}editRowSelect(M){"multi"===this.grid.getSetting("selectMode")?this.onMultipleSelectRow(M):this.onSelectRow(M)}onUserSelectRow(M){"multi"!==this.grid.getSetting("selectMode")&&(this.grid.selectRow(M),this.emitUserSelectRow(M),this.emitSelectRow(M))}onRowHover(M){this.rowHover.emit(M)}multipleSelectRow(M){this.grid.multipleSelectRow(M),this.emitUserSelectRow(M),this.emitSelectRow(M)}onSelectAllRows(M){this.isAllSelected=!this.isAllSelected,this.grid.selectAllRows(this.isAllSelected),this.emitUserSelectRow(null),this.emitSelectRow(null)}onSelectRow(M){this.grid.selectRow(M),this.emitSelectRow(M)}onMultipleSelectRow(M){this.emitSelectRow(M)}initGrid(){this.source=this.prepareSource(),this.grid=new rc(this.source,this.prepareSettings()),this.subscribeToOnSelectRow(),this.subscribeToOnDeselectRow()}prepareSource(){return this.source instanceof ke?this.source:this.source instanceof Array?new is(this.source):new is}prepareSettings(){return Di({},this.defaultSettings,this.settings)}changePage(M){this.resetAllSelector()}sort(M){this.resetAllSelector()}filter(M){this.resetAllSelector()}resetAllSelector(){this.isAllSelected=!1}emitUserSelectRow(M){const J=this.grid.getSelectedRows();this.userRowSelect.emit({data:M?M.getData():null,isSelected:M?M.getIsSelected():null,source:this.source,selected:J&&J.length?J.map(ae=>ae.getData()):[]})}emitSelectRow(M){const J={data:M?M.getData():null,isSelected:M?M.getIsSelected():null,source:this.source};this.rowSelect.emit(J),(null==M?void 0:M.isSelected)||this.rowDeselect.emit(J)}emitDeselectRow(M){this.rowDeselect.emit({data:M?M.getData():null,isSelected:M?M.getIsSelected():null,source:this.source})}isIndexOutOfRange(M){var J;const ae=null===(J=this.source)||void 0===J?void 0:J.count();return M<0||"number"==typeof ae&&M>=ae}subscribeToOnSelectRow(){this.onSelectRowSubscription&&this.onSelectRowSubscription.unsubscribe(),this.onSelectRowSubscription=this.grid.onSelectRow().pipe((0,qo.R)(this.destroyed$)).subscribe(M=>{this.emitSelectRow(M)})}subscribeToOnDeselectRow(){this.onDeselectRowSubscription&&this.onDeselectRowSubscription.unsubscribe(),this.onDeselectRowSubscription=this.grid.onDeselectRow().pipe((0,qo.R)(this.destroyed$)).subscribe(M=>{this.emitDeselectRow(M)})}}return K.\u0275fac=function(M){return new(M||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["ng2-smart-table"]],inputs:{settings:"settings",source:"source"},outputs:{rowSelect:"rowSelect",rowDeselect:"rowDeselect",userRowSelect:"userRowSelect",delete:"delete",edit:"edit",create:"create",custom:"custom",deleteConfirm:"deleteConfirm",editConfirm:"editConfirm",createConfirm:"createConfirm",rowHover:"rowHover"},features:[m.TTD],decls:4,vars:9,consts:[[3,"id","ngClass"],["ng2-st-thead","",3,"grid","isAllSelected","source","createConfirm","create","selectAllRows","sort","filter",4,"ngIf"],["ng2-st-tbody","",3,"grid","source","deleteConfirm","editConfirm","rowClassFunction","edit","delete","custom","userSelectRow","editRowSelect","multipleSelectRow","rowHover"],[3,"source","perPageSelect","changePage",4,"ngIf"],["ng2-st-thead","",3,"grid","isAllSelected","source","createConfirm","create","selectAllRows","sort","filter"],[3,"source","perPageSelect","changePage"]],template:function(M,J){1&M&&(m.TgZ(0,"table",0),m.YNc(1,ic,1,4,"thead",1),m.TgZ(2,"tbody",2),m.NdJ("edit",function(qe){return J.edit.emit(qe)})("delete",function(qe){return J.delete.emit(qe)})("custom",function(qe){return J.custom.emit(qe)})("userSelectRow",function(qe){return J.onUserSelectRow(qe)})("editRowSelect",function(qe){return J.editRowSelect(qe)})("multipleSelectRow",function(qe){return J.multipleSelectRow(qe)})("rowHover",function(qe){return J.onRowHover(qe)}),m.qZA(),m.qZA(),m.YNc(3,an,1,2,"ng2-smart-table-pager",3)),2&M&&(m.Q6J("id",J.tableId)("ngClass",J.tableClass),m.xp6(1),m.Q6J("ngIf",!J.isHideHeader||!J.isHideSubHeader),m.xp6(1),m.Q6J("grid",J.grid)("source",J.source)("deleteConfirm",J.deleteConfirm)("editConfirm",J.editConfirm)("rowClassFunction",J.rowClassFunction),m.xp6(1),m.Q6J("ngIf",J.isPagerDisplay))},directives:[P.mk,P.O5,vi,ys,un],styles:["[_nghost-%COMP%]{font-size:1rem}[_nghost-%COMP%]     *{box-sizing:border-box}[_nghost-%COMP%]     button, [_nghost-%COMP%]     input, [_nghost-%COMP%]     optgroup, [_nghost-%COMP%]     select, [_nghost-%COMP%]     textarea{color:inherit;font:inherit;margin:0}[_nghost-%COMP%]     table{border-collapse:collapse;border-spacing:0;display:table;line-height:1.5em;max-width:100%;overflow:auto;width:100%;word-break:normal;word-break:keep-all}[_nghost-%COMP%]     table tr th{font-weight:700}[_nghost-%COMP%]     table tr section{font-size:.75em;font-weight:700}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{font-size:.875em;margin:0;padding:.5em 1em}[_nghost-%COMP%]     a{color:#1e6bb8;text-decoration:none}[_nghost-%COMP%]     a:hover{text-decoration:underline}"]}),K})(),Ha=(()=>{class K{}return K.\u0275fac=function(M){return new(M||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[[P.ez,Ve.u5,Ve.UX,Y,Wt,mi,eo,ei]]}),K})()},8438:(Kt,_t,X)=>{"use strict";X.d(_t,{Ro:()=>we,ef:()=>At,t2:()=>rt});var m=X(9619),P=X(4099),Ve=X(3405),oe=X(8735),le=X(8805),he=X(9814),Le=X(6019),Z=X(5427);const me=["overlay"];function _e(dt,Jt){1&dt&&m._UZ(0,"div")}function ge(dt,Jt){if(1&dt&&(m.TgZ(0,"div"),m.YNc(1,_e,1,0,"div",6),m.qZA()),2&dt){const Bt=m.oxw(2);m.Tol(Bt.spinner.class),m.Udp("color",Bt.spinner.color),m.xp6(1),m.Q6J("ngForOf",Bt.spinner.divArray)}}function be(dt,Jt){if(1&dt&&(m._UZ(0,"div",7),m.ALo(1,"safeHtml")),2&dt){const Bt=m.oxw(2);m.Q6J("innerHTML",m.lcZ(1,1,Bt.template),m.oJD)}}function Se(dt,Jt){if(1&dt&&(m.TgZ(0,"div",1,2),m.YNc(2,ge,2,5,"div",3),m.YNc(3,be,2,3,"div",4),m.TgZ(4,"div",5),m.Hsn(5),m.qZA(),m.qZA()),2&dt){const Bt=m.oxw();m.Udp("background-color",Bt.spinner.bdColor)("z-index",Bt.spinner.zIndex)("position",Bt.spinner.fullScreen?"fixed":"absolute"),m.Q6J("@.disabled",Bt.disableAnimation)("@fadeIn","in"),m.xp6(2),m.Q6J("ngIf",!Bt.template),m.xp6(1),m.Q6J("ngIf",Bt.template),m.xp6(1),m.Udp("z-index",Bt.spinner.zIndex)}}const ne=["*"],gt={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Ke="primary";class yt{constructor(Jt){Object.assign(this,Jt)}}let rt=(()=>{class dt{constructor(){this.spinnerObservable=new P.X(null)}getSpinner(Bt){return this.spinnerObservable.asObservable().pipe((0,oe.h)(_n=>_n&&_n.name===Bt))}show(Bt=Ke,_n){return new Promise((it,st)=>{setTimeout(()=>{_n&&Object.keys(_n).length?(_n.name=Bt,this.spinnerObservable.next(new yt(Object.assign(Object.assign({},_n),{show:!0}))),it(!0)):(this.spinnerObservable.next(new yt({name:Bt,show:!0})),it(!0))},10)})}hide(Bt=Ke,_n=10){return new Promise((it,st)=>{setTimeout(()=>{this.spinnerObservable.next(new yt({name:Bt,show:!1})),it(!0)},_n)})}}return dt.\u0275fac=function(Bt){return new(Bt||dt)},dt.\u0275prov=(0,m.Yz7)({factory:function(){return new dt},token:dt,providedIn:"root"}),dt})(),we=(()=>{class dt{constructor(Bt,_n){this.spinnerService=Bt,this.changeDetector=_n,this.disableAnimation=!1,this.spinner=new yt,this.ngUnsubscribe=new Ve.xQ,this.setDefaultOptions=()=>{this.spinner=new yt({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.type="ball-scale-multiple",this.size="large",this.fullScreen=!0,this.name=Ke,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(Bt){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(Bt.returnValue=!1,Bt.preventDefault())}ngOnInit(){this.setDefaultOptions(),this.spinnerService.getSpinner(this.name).pipe((0,le.R)(this.ngUnsubscribe)).subscribe(Bt=>{this.setDefaultOptions(),Object.assign(this.spinner,Bt),Bt.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnChanges(Bt){for(const _n in Bt)if(_n){const it=Bt[_n];if(it.isFirstChange())return;void 0!==it.currentValue&&it.currentValue!==it.previousValue&&""!==it.currentValue&&(this.spinner[_n]=it.currentValue,"showSpinner"===_n&&(it.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)))}}getClass(Bt,_n){this.spinner.divCount=gt[Bt],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((st,Te)=>Te);let it="";switch(_n.toLowerCase()){case"small":it="la-sm";break;case"medium":it="la-2x";break;case"large":it="la-3x"}return"la-"+Bt+" "+it}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return dt.\u0275fac=function(Bt){return new(Bt||dt)(m.Y36(rt),m.Y36(m.sBO))},dt.\u0275cmp=m.Xpm({type:dt,selectors:[["ngx-spinner"]],viewQuery:function(Bt,_n){if(1&Bt&&m.Gf(me,5),2&Bt){let it;m.iGM(it=m.CRH())&&(_n.spinnerDOM=it.first)}},hostBindings:function(Bt,_n){1&Bt&&m.NdJ("keydown",function(st){return _n.handleKeyboardEvent(st)},!1,m.evT)},inputs:{disableAnimation:"disableAnimation",bdColor:"bdColor",zIndex:"zIndex",color:"color",type:"type",size:"size",fullScreen:"fullScreen",name:"name",template:"template",showSpinner:"showSpinner"},features:[m.TTD],ngContentSelectors:ne,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(Bt,_n){1&Bt&&(m.F$t(),m.YNc(0,Se,6,12,"div",0)),2&Bt&&m.Q6J("ngIf",_n.spinner.show)},directives:function(){return[Le.O5,Le.sg]},pipes:function(){return[Ne]},styles:['.la-ball-8bits[_ngcontent-%COMP%], .la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-8bits[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-8bits.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-8bits[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:4px;height:4px;border-radius:0;opacity:0;transform:translate(100%,100%);-webkit-animation:ball-8bits 1s ease 0s infinite;animation:ball-8bits 1s ease 0s infinite}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.9375s;animation-delay:-.9375s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8125s;animation-delay:-.8125s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.6875s;animation-delay:-.6875s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.5625s;animation-delay:-.5625s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.4375s;animation-delay:-.4375s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){-webkit-animation-delay:-.3125s;animation-delay:-.3125s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(13){-webkit-animation-delay:-.1875s;animation-delay:-.1875s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(14){-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(15){-webkit-animation-delay:-.0625s;animation-delay:-.0625s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(16){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:-100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:-100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:-66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:-33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:0;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){top:100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){top:100%;left:-33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){top:66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){top:33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(13){top:0;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(14){top:-33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(15){top:-66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(16){top:-100%;left:-33.3333333333%}.la-ball-8bits.la-sm[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-8bits.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:2px}.la-ball-8bits.la-2x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-8bits.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-8bits.la-3x[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-8bits.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:12px}@-webkit-keyframes ball-8bits{0%{opacity:1}50%{opacity:1}51%{opacity:0}}@keyframes ball-8bits{0%{opacity:1}50%{opacity:1}51%{opacity:0}}.la-ball-atom[_ngcontent-%COMP%], .la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-atom[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-atom.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-atom[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;top:50%;left:50%;z-index:1;width:60%;height:60%;background:#aaa;border-radius:100%;transform:translate(-50%,-50%);-webkit-animation:ball-atom-shrink 4.5s linear infinite;animation:ball-atom-shrink 4.5s linear infinite}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){position:absolute;left:0;z-index:0;width:100%;height:100%;background:none;-webkit-animation:ball-atom-zindex 1.5s steps(2) 0s infinite;animation:ball-atom-zindex 1.5s steps(2) 0s infinite}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{position:absolute;top:0;left:0;width:10px;height:10px;margin-top:-5px;margin-left:-5px;content:"";background:currentColor;border-radius:50%;opacity:.75;-webkit-animation:ball-atom-position 1.5s ease 0s infinite,ball-atom-size 1.5s ease 0s infinite;animation:ball-atom-position 1.5s ease 0s infinite,ball-atom-size 1.5s ease 0s infinite}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.75s;animation-delay:.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{-webkit-animation-delay:0s,-1.125s;animation-delay:0s,-1.125s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(120deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{-webkit-animation-delay:-1s,-.75s;animation-delay:-1s,-.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(240deg);-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{-webkit-animation-delay:-.5s,-.125s;animation-delay:-.5s,-.125s}.la-ball-atom.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-atom.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-atom.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-atom.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-atom.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-atom.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-atom-position{50%{top:100%;left:100%}}@keyframes ball-atom-position{50%{top:100%;left:100%}}@-webkit-keyframes ball-atom-size{50%{transform:scale(.5)}}@keyframes ball-atom-size{50%{transform:scale(.5)}}@-webkit-keyframes ball-atom-zindex{50%{z-index:10}}@keyframes ball-atom-zindex{50%{z-index:10}}@-webkit-keyframes ball-atom-shrink{50%{transform:translate(-50%,-50%) scale(.8)}}@keyframes ball-atom-shrink{50%{transform:translate(-50%,-50%) scale(.8)}}.la-ball-beat[_ngcontent-%COMP%], .la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-beat[_ngcontent-%COMP%]{width:54px;height:18px}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:ball-beat .7s linear -.15s infinite;animation:ball-beat .7s linear -.15s infinite}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-beat.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-beat.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-beat.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-beat{50%{opacity:.2;transform:scale(.75)}to{opacity:1;transform:scale(1)}}@keyframes ball-beat{50%{opacity:.2;transform:scale(.75)}to{opacity:1;transform:scale(1)}}.la-ball-circus[_ngcontent-%COMP%], .la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-circus[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-circus.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-circus[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:-100%;display:block;width:16px;width:100%;height:16px;height:100%;border-radius:100%;opacity:.5;-webkit-animation:ball-circus-position 2.5s cubic-bezier(.25,0,.75,1) infinite,ball-circus-size 2.5s cubic-bezier(.25,0,.75,1) infinite;animation:ball-circus-position 2.5s cubic-bezier(.25,0,.75,1) infinite,ball-circus-size 2.5s cubic-bezier(.25,0,.75,1) infinite}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s,-.5s;animation-delay:0s,-.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.5s,-1s;animation-delay:-.5s,-1s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s,-1.5s;animation-delay:-1s,-1.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s,-2s;animation-delay:-1.5s,-2s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2s,-2.5s;animation-delay:-2s,-2.5s}.la-ball-circus.la-sm[_ngcontent-%COMP%], .la-ball-circus.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-circus.la-2x[_ngcontent-%COMP%], .la-ball-circus.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-circus.la-3x[_ngcontent-%COMP%], .la-ball-circus.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:48px;height:48px}@-webkit-keyframes ball-circus-position{50%{left:100%}}@keyframes ball-circus-position{50%{left:100%}}@-webkit-keyframes ball-circus-size{50%{transform:scale(.3)}}@keyframes ball-circus-size{50%{transform:scale(.3)}}.la-ball-climbing-dot[_ngcontent-%COMP%], .la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-climbing-dot[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-climbing-dot.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-climbing-dot[_ngcontent-%COMP%]{width:42px;height:32px}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;bottom:32%;left:18%;width:14px;height:14px;border-radius:100%;transform-origin:center bottom;-webkit-animation:ball-climbing-dot-jump .6s ease-in-out infinite;animation:ball-climbing-dot-jump .6s ease-in-out infinite}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){position:absolute;top:0;right:0;width:14px;height:2px;border-radius:0;transform:translate(60%);-webkit-animation:ball-climbing-dot-steps 1.8s linear infinite;animation:ball-climbing-dot-steps 1.8s linear infinite}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):nth-child(2){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):nth-child(3){-webkit-animation-delay:-.6s;animation-delay:-.6s}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:6px;height:6px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){width:6px;height:1px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%]{width:84px;height:64px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:28px;height:28px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){width:28px;height:4px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%]{width:126px;height:96px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:42px;height:42px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){width:42px;height:6px}@-webkit-keyframes ball-climbing-dot-jump{0%{transform:scaleY(.7)}20%{transform:scale(.7,1.2)}40%{transform:scale(1)}50%{bottom:125%}46%{transform:scale(1)}80%{transform:scale(.7,1.2)}90%{transform:scale(.7,1.2)}to{transform:scaleY(.7)}}@keyframes ball-climbing-dot-jump{0%{transform:scaleY(.7)}20%{transform:scale(.7,1.2)}40%{transform:scale(1)}50%{bottom:125%}46%{transform:scale(1)}80%{transform:scale(.7,1.2)}90%{transform:scale(.7,1.2)}to{transform:scaleY(.7)}}@-webkit-keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}to{top:100%;right:100%;opacity:0}}@keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}to{top:100%;right:100%;opacity:0}}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%], .la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-clip-rotate-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;background:transparent;border-style:solid;border-width:2px;border-radius:100%;-webkit-animation:ball-clip-rotate-multiple-rotate 1s ease-in-out infinite;animation:ball-clip-rotate-multiple-rotate 1s ease-in-out infinite}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;border-right-color:transparent;border-left-color:transparent}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;border-top-color:transparent;border-bottom-color:transparent;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-direction:reverse;animation-direction:reverse}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-multiple-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes ball-clip-rotate-multiple-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%], .la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-clip-rotate-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;border-radius:100%}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;background:transparent;border-bottom-style:solid;border-top-style:solid;border-bottom-width:2px;border-top-width:2px;border-right:2px solid transparent;border-left:2px solid transparent;-webkit-animation:ball-clip-rotate-pulse-rotate 1s cubic-bezier(.09,.57,.49,.9) infinite;animation:ball-clip-rotate-pulse-rotate 1s cubic-bezier(.09,.57,.49,.9) infinite}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;-webkit-animation:ball-clip-rotate-pulse-scale 1s cubic-bezier(.09,.57,.49,.9) infinite;animation:ball-clip-rotate-pulse-scale 1s cubic-bezier(.09,.57,.49,.9) infinite}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px;border-width:6px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-pulse-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes ball-clip-rotate-pulse-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@-webkit-keyframes ball-clip-rotate-pulse-scale{0%,to{opacity:1;transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;transform:translate(-50%,-50%) scale(.15)}}@keyframes ball-clip-rotate-pulse-scale{0%,to{opacity:1;transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;transform:translate(-50%,-50%) scale(.15)}}.la-ball-clip-rotate[_ngcontent-%COMP%], .la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-clip-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-clip-rotate[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px;background:transparent;border-width:2px;border-bottom-color:transparent;border-radius:100%;-webkit-animation:ball-clip-rotate .75s linear infinite;animation:ball-clip-rotate .75s linear infinite}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-clip-rotate{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}@keyframes ball-clip-rotate{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.la-ball-elastic-dots[_ngcontent-%COMP%], .la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-elastic-dots[_ngcontent-%COMP%]{display:block;color:#fff}.la-ball-elastic-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:none;background-color:currentColor;border:0 solid}.la-ball-elastic-dots[_ngcontent-%COMP%]{width:120px;height:10px;font-size:0;text-align:center}.la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;width:10px;height:10px;white-space:nowrap;border-radius:100%;-webkit-animation:ball-elastic-dots-anim 1s infinite;animation:ball-elastic-dots-anim 1s infinite}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%]{width:60px;height:4px}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%]{width:240px;height:20px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%]{width:360px;height:30px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-elastic-dots-anim{0%,to{margin:0;transform:scale(1)}50%{margin:0 5%;transform:scale(.65)}}@keyframes ball-elastic-dots-anim{0%,to{margin:0;transform:scale(1)}50%{margin:0 5%;transform:scale(.65)}}.la-ball-fall[_ngcontent-%COMP%], .la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fall[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-fall.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-fall[_ngcontent-%COMP%]{width:54px;height:18px}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:4px;border-radius:100%;opacity:0;-webkit-animation:ball-fall 1s ease-in-out infinite;animation:ball-fall 1s ease-in-out infinite}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-fall.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-fall.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-fall.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-fall.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-fall.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-fall.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-fall{0%{opacity:0;transform:translateY(-145%)}10%{opacity:.5}20%{opacity:1;transform:translateY(0)}80%{opacity:1;transform:translateY(0)}90%{opacity:.5}to{opacity:0;transform:translateY(145%)}}@keyframes ball-fall{0%{opacity:0;transform:translateY(-145%)}10%{opacity:.5}20%{opacity:1;transform:translateY(0)}80%{opacity:1;transform:translateY(0)}90%{opacity:.5}to{opacity:0;transform:translateY(145%)}}.la-ball-fussion[_ngcontent-%COMP%], .la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fussion[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-fussion.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-fussion[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;border-radius:100%;transform:translate(-50%,-50%);-webkit-animation:ball-fussion-ball1 1s ease 0s infinite;animation:ball-fussion-ball1 1s ease 0s infinite}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:0;left:50%;z-index:1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:50%;left:100%;z-index:2;-webkit-animation-name:ball-fussion-ball2;animation-name:ball-fussion-ball2}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:100%;left:50%;z-index:1;-webkit-animation-name:ball-fussion-ball3;animation-name:ball-fussion-ball3}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:0;z-index:2;-webkit-animation-name:ball-fussion-ball4;animation-name:ball-fussion-ball4}.la-ball-fussion.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-fussion.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-fussion.la-2x[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-fussion.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-ball-fussion.la-3x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-fussion.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}to{top:50%;left:100%;z-index:2;opacity:.35}}@keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}to{top:50%;left:100%;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}to{top:100%;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}to{top:100%;left:50%;z-index:1;opacity:.35}}@-webkit-keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}to{top:50%;left:0;z-index:2;opacity:.35}}@keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}to{top:50%;left:0;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}to{top:0;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}to{top:0;left:50%;z-index:1;opacity:.35}}.la-ball-grid-beat[_ngcontent-%COMP%], .la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-grid-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-grid-beat[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-beat;animation-name:ball-grid-beat;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8), .la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-beat{0%{opacity:1}50%{opacity:.35}to{opacity:1}}@keyframes ball-grid-beat{0%{opacity:1}50%{opacity:.35}to{opacity:1}}.la-ball-grid-pulse[_ngcontent-%COMP%], .la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-grid-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-grid-pulse[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-pulse;animation-name:ball-grid-pulse;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8), .la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-pulse{0%{opacity:1;transform:scale(1)}50%{opacity:.35;transform:scale(.45)}to{opacity:1;transform:scale(1)}}@keyframes ball-grid-pulse{0%{opacity:1;transform:scale(1)}50%{opacity:.35;transform:scale(.45)}to{opacity:1;transform:scale(1)}}.la-ball-newton-cradle[_ngcontent-%COMP%], .la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-newton-cradle[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-newton-cradle.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-newton-cradle[_ngcontent-%COMP%]{width:40px;height:10px}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:100%}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-newton-cradle-left 1s ease-out 0s infinite;animation:ball-newton-cradle-left 1s ease-out 0s infinite}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{transform:translateX(0)}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:ball-newton-cradle-right 1s ease-out 0s infinite;animation:ball-newton-cradle-right 1s ease-out 0s infinite}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%]{width:20px;height:4px}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%]{width:80px;height:20px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%]{width:120px;height:30px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-newton-cradle-left{25%{transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{transform:translateX(0)}}@keyframes ball-newton-cradle-left{25%{transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{transform:translateX(0)}}@-webkit-keyframes ball-newton-cradle-right{50%{transform:translateX(0)}75%{transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{transform:translateX(0)}}@keyframes ball-newton-cradle-right{50%{transform:translateX(0)}75%{transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{transform:translateX(0)}}.la-ball-pulse-rise[_ngcontent-%COMP%], .la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-rise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-pulse-rise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-pulse-rise[_ngcontent-%COMP%]{width:70px;height:14px}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:2px;border-radius:100%;-webkit-animation:ball-pulse-rise-even 1s cubic-bezier(.15,.36,.9,.6) 0s infinite;animation:ball-pulse-rise-even 1s cubic-bezier(.15,.36,.9,.6) 0s infinite}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-name:ball-pulse-rise-odd;animation-name:ball-pulse-rise-odd}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%]{width:34px;height:6px}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%]{width:140px;height:28px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:4px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%]{width:210px;height:42px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:6px}@-webkit-keyframes ball-pulse-rise-even{0%{opacity:1;transform:scale(1.1)}25%{transform:translateY(-200%)}50%{opacity:.35;transform:scale(.3)}75%{transform:translateY(200%)}to{opacity:1;transform:translateY(0);transform:scale(1)}}@keyframes ball-pulse-rise-even{0%{opacity:1;transform:scale(1.1)}25%{transform:translateY(-200%)}50%{opacity:.35;transform:scale(.3)}75%{transform:translateY(200%)}to{opacity:1;transform:translateY(0);transform:scale(1)}}@-webkit-keyframes ball-pulse-rise-odd{0%{opacity:.35;transform:scale(.4)}25%{transform:translateY(200%)}50%{opacity:1;transform:scale(1.1)}75%{transform:translateY(-200%)}to{opacity:.35;transform:translateY(0);transform:scale(.75)}}@keyframes ball-pulse-rise-odd{0%{opacity:.35;transform:scale(.4)}25%{transform:translateY(200%)}50%{opacity:1;transform:scale(1.1)}75%{transform:translateY(-200%)}to{opacity:.35;transform:translateY(0);transform:scale(.75)}}.la-ball-pulse-sync[_ngcontent-%COMP%], .la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-sync[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-pulse-sync.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-pulse-sync[_ngcontent-%COMP%]{width:54px;height:18px}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:ball-pulse-sync .6s ease-in-out infinite;animation:ball-pulse-sync .6s ease-in-out infinite}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.14s;animation-delay:-.14s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.07s;animation-delay:-.07s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse-sync{33%{transform:translateY(100%)}66%{transform:translateY(-100%)}to{transform:translateY(0)}}@keyframes ball-pulse-sync{33%{transform:translateY(100%)}66%{transform:translateY(-100%)}to{transform:translateY(0)}}.la-ball-pulse[_ngcontent-%COMP%], .la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-pulse[_ngcontent-%COMP%]{width:54px;height:18px}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:ball-pulse 1s ease infinite;animation:ball-pulse 1s ease infinite}.la-ball-pulse.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse{0%,60%,to{opacity:1;transform:scale(1)}30%{opacity:.1;transform:scale(.01)}}@keyframes ball-pulse{0%,60%,to{opacity:1;transform:scale(1)}30%{opacity:.1;transform:scale(.01)}}.la-ball-rotate[_ngcontent-%COMP%], .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-rotate[_ngcontent-%COMP%], .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10px;height:10px}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:100%;-webkit-animation:ball-rotate-animation 1s cubic-bezier(.7,-.13,.22,.86) infinite;animation:ball-rotate-animation 1s cubic-bezier(.7,-.13,.22,.86) infinite}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;width:inherit;height:inherit;margin:inherit;content:"";background:currentColor;border-radius:inherit;opacity:.8}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:0;left:-150%}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{top:0;left:150%}.la-ball-rotate.la-sm[_ngcontent-%COMP%], .la-ball-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-rotate.la-2x[_ngcontent-%COMP%], .la-ball-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-rotate.la-3x[_ngcontent-%COMP%], .la-ball-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-rotate-animation{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}@keyframes ball-rotate-animation{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.la-ball-running-dots[_ngcontent-%COMP%], .la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-running-dots[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-running-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-running-dots[_ngcontent-%COMP%]{width:10px;height:10px}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;margin-left:-25px;border-radius:100%;-webkit-animation:ball-running-dots-animate 2s linear infinite;animation:ball-running-dots-animate 2s linear infinite}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.6s;animation-delay:-1.6s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-2.4s;animation-delay:-2.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2.8s;animation-delay:-2.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-3.2s;animation-delay:-3.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-3.6s;animation-delay:-3.6s}.la-ball-running-dots.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-running-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-left:-12px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:-50px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%]{width:30px;height:30px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:-75px}@-webkit-keyframes ball-running-dots-animate{0%,to{width:100%;height:100%;transform:translateY(0) translateX(500%)}80%{transform:translateY(0) translateX(0)}85%{width:100%;height:100%;transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;transform:translateY(-100%) translateX(500%)}}@keyframes ball-running-dots-animate{0%,to{width:100%;height:100%;transform:translateY(0) translateX(500%)}80%{transform:translateY(0) translateX(0)}85%{width:100%;height:100%;transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;transform:translateY(-100%) translateX(500%)}}.la-ball-scale-multiple[_ngcontent-%COMP%], .la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-multiple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:0;-webkit-animation:ball-scale-multiple 1s linear 0s infinite;animation:ball-scale-multiple 1s linear 0s infinite}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}.la-ball-scale-multiple.la-sm[_ngcontent-%COMP%], .la-ball-scale-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-multiple.la-2x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-multiple.la-3x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}@keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}.la-ball-scale-pulse[_ngcontent-%COMP%], .la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-pulse[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:.5;-webkit-animation:ball-scale-pulse 2s ease-in-out infinite;animation:ball-scale-pulse 2s ease-in-out infinite}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-scale-pulse.la-sm[_ngcontent-%COMP%], .la-ball-scale-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-pulse.la-2x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-pulse.la-3x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-pulse{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes ball-scale-pulse{0%,to{transform:scale(0)}50%{transform:scale(1)}}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%], .la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-ripple-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:32px;height:32px;background:transparent;border-width:2px;border-radius:100%;opacity:0;-webkit-animation:ball-scale-ripple-multiple 1.25s cubic-bezier(.21,.53,.56,.8) 0s infinite;animation:ball-scale-ripple-multiple 1.25s cubic-bezier(.21,.53,.56,.8) 0s infinite}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.5s;animation-delay:.5s}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple-multiple{0%{opacity:1;transform:scale(.1)}70%{opacity:.5;transform:scale(1)}95%{opacity:0}}@keyframes ball-scale-ripple-multiple{0%{opacity:1;transform:scale(.1)}70%{opacity:.5;transform:scale(1)}95%{opacity:0}}.la-ball-scale-ripple[_ngcontent-%COMP%], .la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-ripple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-ripple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px;background:transparent;border-width:2px;border-radius:100%;opacity:0;-webkit-animation:ball-scale-ripple 1s cubic-bezier(.21,.53,.56,.8) 0s infinite;animation:ball-scale-ripple 1s cubic-bezier(.21,.53,.56,.8) 0s infinite}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple{0%{opacity:1;transform:scale(.1)}70%{opacity:.65;transform:scale(1)}to{opacity:0}}@keyframes ball-scale-ripple{0%{opacity:1;transform:scale(.1)}70%{opacity:.65;transform:scale(1)}to{opacity:0}}.la-ball-scale[_ngcontent-%COMP%], .la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale[_ngcontent-%COMP%], .la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:100%;opacity:0;-webkit-animation:ball-scale 1s ease-in-out 0s infinite;animation:ball-scale 1s ease-in-out 0s infinite}.la-ball-scale.la-sm[_ngcontent-%COMP%], .la-ball-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale.la-2x[_ngcontent-%COMP%], .la-ball-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale.la-3x[_ngcontent-%COMP%], .la-ball-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale{0%{opacity:1;transform:scale(0)}to{opacity:0;transform:scale(1)}}@keyframes ball-scale{0%{opacity:1;transform:scale(0)}to{opacity:0;transform:scale(1)}}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:ball-spin-clockwise-fade-rotating-rotate 6s linear infinite;animation:ball-spin-clockwise-fade-rotating-rotate 6s linear infinite}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-clockwise-fade-rotating 1s linear infinite;animation:ball-spin-clockwise-fade-rotating 1s linear infinite}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@keyframes ball-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@-webkit-keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-clockwise-fade 1s linear infinite;animation:ball-spin-clockwise-fade 1s linear infinite}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@keyframes ball-spin-clockwise-fade{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.la-ball-spin-clockwise[_ngcontent-%COMP%], .la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-clockwise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-clockwise[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-clockwise 1s ease-in-out infinite;animation:ball-spin-clockwise 1s ease-in-out infinite}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}@keyframes ball-spin-clockwise{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.la-ball-spin-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-fade-rotating[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:ball-spin-fade-rotate 6s linear infinite;animation:ball-spin-fade-rotate 6s linear infinite}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-fade 1s linear infinite;animation:ball-spin-fade 1s linear infinite}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade-rotate{to{transform:rotate(1turn)}}@keyframes ball-spin-fade-rotate{to{transform:rotate(1turn)}}.la-ball-spin-fade[_ngcontent-%COMP%], .la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-fade[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin-fade 1s linear infinite;animation:ball-spin-fade 1s linear infinite}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade{0%,to{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}@keyframes ball-spin-fade{0%,to{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}.la-ball-spin-rotate[_ngcontent-%COMP%], .la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin-rotate[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:ball-spin-rotate 2s linear infinite;animation:ball-spin-rotate 2s linear infinite}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;width:60%;height:60%;border-radius:100%;-webkit-animation:ball-spin-bounce 2s ease-in-out infinite;animation:ball-spin-bounce 2s ease-in-out infinite}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{top:auto;bottom:0;-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-spin-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-spin-rotate{to{transform:rotate(1turn)}}@keyframes ball-spin-rotate{to{transform:rotate(1turn)}}@-webkit-keyframes ball-spin-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes ball-spin-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}.la-ball-spin[_ngcontent-%COMP%], .la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-spin[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:ball-spin 1s ease-in-out infinite;animation:ball-spin 1s ease-in-out infinite}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}@keyframes ball-spin{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.la-ball-square-clockwise-spin[_ngcontent-%COMP%], .la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-clockwise-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-square-clockwise-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-square-clockwise-spin[_ngcontent-%COMP%]{width:26px;height:26px}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:ball-square-clockwise-spin 1s ease-in-out infinite;animation:ball-square-clockwise-spin 1s ease-in-out infinite}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:0;left:0;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-clockwise-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}@keyframes ball-square-clockwise-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}.la-ball-square-spin[_ngcontent-%COMP%], .la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-square-spin[_ngcontent-%COMP%]{width:26px;height:26px}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:ball-square-spin 1s ease-in-out infinite;animation:ball-square-spin 1s ease-in-out infinite}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:0;left:0;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-square-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}@keyframes ball-square-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}.la-ball-triangle-path[_ngcontent-%COMP%], .la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-triangle-path[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-triangle-path.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-triangle-path[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:10px;height:10px;border-radius:100%}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-triangle-path-ball-one 2s ease-in-out 0s infinite;animation:ball-triangle-path-ball-one 2s ease-in-out 0s infinite}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation:ball-triangle-path-ball-two 2s ease-in-out 0s infinite;animation:ball-triangle-path-ball-two 2s ease-in-out 0s infinite}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation:ball-triangle-path-ball-tree 2s ease-in-out 0s infinite;animation:ball-triangle-path-ball-tree 2s ease-in-out 0s infinite}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-triangle-path-ball-one{0%{transform:translateY(220%)}17%{opacity:.25}33%{opacity:1;transform:translate(110%)}50%{opacity:.25}66%{opacity:1;transform:translate(220%,220%)}83%{opacity:.25}to{opacity:1;transform:translateY(220%)}}@keyframes ball-triangle-path-ball-one{0%{transform:translateY(220%)}17%{opacity:.25}33%{opacity:1;transform:translate(110%)}50%{opacity:.25}66%{opacity:1;transform:translate(220%,220%)}83%{opacity:.25}to{opacity:1;transform:translateY(220%)}}@-webkit-keyframes ball-triangle-path-ball-two{0%{transform:translate(110%)}17%{opacity:.25}33%{opacity:1;transform:translate(220%,220%)}50%{opacity:.25}66%{opacity:1;transform:translateY(220%)}83%{opacity:.25}to{opacity:1;transform:translate(110%)}}@keyframes ball-triangle-path-ball-two{0%{transform:translate(110%)}17%{opacity:.25}33%{opacity:1;transform:translate(220%,220%)}50%{opacity:.25}66%{opacity:1;transform:translateY(220%)}83%{opacity:.25}to{opacity:1;transform:translate(110%)}}@-webkit-keyframes ball-triangle-path-ball-tree{0%{transform:translate(220%,220%)}17%{opacity:.25}33%{opacity:1;transform:translateY(220%)}50%{opacity:.25}66%{opacity:1;transform:translate(110%)}83%{opacity:.25}to{opacity:1;transform:translate(220%,220%)}}@keyframes ball-triangle-path-ball-tree{0%{transform:translate(220%,220%)}17%{opacity:.25}33%{opacity:1;transform:translateY(220%)}50%{opacity:.25}66%{opacity:1;transform:translate(110%)}83%{opacity:.25}to{opacity:1;transform:translate(220%,220%)}}.la-ball-zig-zag-deflect[_ngcontent-%COMP%], .la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-zig-zag-deflect[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-zig-zag-deflect.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-zig-zag-deflect[_ngcontent-%COMP%]{position:relative;width:32px;height:32px}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-zig-deflect 1.5s linear 0s infinite;animation:ball-zig-deflect 1.5s linear 0s infinite}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:ball-zag-deflect 1.5s linear 0s infinite;animation:ball-zag-deflect 1.5s linear 0s infinite}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-deflect{17%{transform:translate(-80%,-160%)}34%{transform:translate(80%,-160%)}50%{transform:translate(0)}67%{transform:translate(80%,-160%)}84%{transform:translate(-80%,-160%)}to{transform:translate(0)}}@keyframes ball-zig-deflect{17%{transform:translate(-80%,-160%)}34%{transform:translate(80%,-160%)}50%{transform:translate(0)}67%{transform:translate(80%,-160%)}84%{transform:translate(-80%,-160%)}to{transform:translate(0)}}@-webkit-keyframes ball-zag-deflect{17%{transform:translate(80%,160%)}34%{transform:translate(-80%,160%)}50%{transform:translate(0)}67%{transform:translate(-80%,160%)}84%{transform:translate(80%,160%)}to{transform:translate(0)}}@keyframes ball-zag-deflect{17%{transform:translate(80%,160%)}34%{transform:translate(-80%,160%)}50%{transform:translate(0)}67%{transform:translate(-80%,160%)}84%{transform:translate(80%,160%)}to{transform:translate(0)}}.la-ball-zig-zag[_ngcontent-%COMP%], .la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-zig-zag[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-zig-zag.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-zig-zag[_ngcontent-%COMP%]{position:relative;width:32px;height:32px}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-zig-effect .7s linear 0s infinite;animation:ball-zig-effect .7s linear 0s infinite}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:ball-zag-effect .7s linear 0s infinite;animation:ball-zag-effect .7s linear 0s infinite}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-effect{0%{transform:translate(0)}33%{transform:translate(-75%,-150%)}66%{transform:translate(75%,-150%)}to{transform:translate(0)}}@keyframes ball-zig-effect{0%{transform:translate(0)}33%{transform:translate(-75%,-150%)}66%{transform:translate(75%,-150%)}to{transform:translate(0)}}@-webkit-keyframes ball-zag-effect{0%{transform:translate(0)}33%{transform:translate(75%,150%)}66%{transform:translate(-75%,150%)}to{transform:translate(0)}}@keyframes ball-zag-effect{0%{transform:translate(0)}33%{transform:translate(75%,150%)}66%{transform:translate(-75%,150%)}to{transform:translate(0)}}.la-cog[_ngcontent-%COMP%], .la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cog[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-cog.la-dark[_ngcontent-%COMP%]{color:#333}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-cog[_ngcontent-%COMP%]{width:31px;height:31px}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:transparent;border-style:dashed;border-width:2px;border-radius:100%;-webkit-animation:cog-rotate 4s linear infinite;animation:cog-rotate 4s linear infinite}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";border:2px solid;border-radius:100%}.la-cog.la-sm[_ngcontent-%COMP%]{width:15px;height:15px}.la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:1px}.la-cog.la-2x[_ngcontent-%COMP%]{width:61px;height:61px}.la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:4px}.la-cog.la-3x[_ngcontent-%COMP%]{width:91px;height:91px}.la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:6px}@-webkit-keyframes cog-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes cog-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.la-cube-transition[_ngcontent-%COMP%], .la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cube-transition[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-cube-transition.la-dark[_ngcontent-%COMP%]{color:#333}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-cube-transition[_ngcontent-%COMP%]{width:32px;height:32px}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:14px;height:14px;margin-top:-7px;margin-left:-7px;border-radius:0;-webkit-animation:cube-transition 1.6s ease-in-out 0s infinite;animation:cube-transition 1.6s ease-in-out 0s infinite}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-cube-transition.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-cube-transition.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-cube-transition.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-cube-transition.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:28px;height:28px;margin-top:-14px;margin-left:-14px}.la-cube-transition.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-cube-transition.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:42px;height:42px;margin-top:-21px;margin-left:-21px}@-webkit-keyframes cube-transition{25%{top:0;left:100%;transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;transform:scale(.5) rotate(-270deg)}to{top:0;left:0;transform:scale(1) rotate(-1turn)}}@keyframes cube-transition{25%{top:0;left:100%;transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;transform:scale(.5) rotate(-270deg)}to{top:0;left:0;transform:scale(1) rotate(-1turn)}}.la-fire[_ngcontent-%COMP%], .la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-fire[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-fire.la-dark[_ngcontent-%COMP%]{color:#333}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-fire[_ngcontent-%COMP%]{width:32px;height:32px}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;width:12px;height:12px;border-radius:0;border-radius:2px;transform:translateY(0) translateX(-50%) rotate(45deg) scale(0);-webkit-animation:fire-diamonds 1.5s linear infinite;animation:fire-diamonds 1.5s linear infinite}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.85s;animation-delay:-.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.85s;animation-delay:-1.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-2.85s;animation-delay:-2.85s}.la-fire.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-fire.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-fire.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-fire.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px}.la-fire.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-fire.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes fire-diamonds{0%{transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}to{transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}@keyframes fire-diamonds{0%{transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}to{transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}.la-line-scale-party[_ngcontent-%COMP%], .la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-party[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-scale-party.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-scale-party[_ngcontent-%COMP%]{width:40px;height:32px}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation-name:line-scale-party;animation-name:line-scale-party;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.23s;animation-delay:-.23s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:.62s;animation-duration:.62s;-webkit-animation-delay:-.32s;animation-delay:-.32s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.44s;animation-delay:-.44s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-delay:-.31s;animation-delay:-.31s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:.74s;animation-duration:.74s;-webkit-animation-delay:-.24s;animation-delay:-.24s}.la-line-scale-party.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-party.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-party.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-party.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-party.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-party.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-party{0%{transform:scaleY(1)}50%{transform:scaleY(.3)}to{transform:scaleY(1)}}@keyframes line-scale-party{0%{transform:scaleY(1)}50%{transform:scaleY(.3)}to{transform:scaleY(1)}}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%], .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-scale-pulse-out-rapid.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%]{width:40px;height:32px}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:line-scale-pulse-out-rapid .9s cubic-bezier(.11,.49,.38,.78) infinite;animation:line-scale-pulse-out-rapid .9s cubic-bezier(.11,.49,.38,.78) infinite}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.65s;animation-delay:-.65s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out-rapid{0%{transform:scaley(1)}80%{transform:scaley(.3)}90%{transform:scaley(1)}}@keyframes line-scale-pulse-out-rapid{0%{transform:scaley(1)}80%{transform:scaley(.3)}90%{transform:scaley(1)}}.la-line-scale-pulse-out[_ngcontent-%COMP%], .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-scale-pulse-out.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-scale-pulse-out[_ngcontent-%COMP%]{width:40px;height:32px}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:line-scale-pulse-out .9s cubic-bezier(.85,.25,.37,.85) infinite;animation:line-scale-pulse-out .9s cubic-bezier(.85,.25,.37,.85) infinite}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.7s;animation-delay:-.7s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out{0%{transform:scaley(1)}50%{transform:scaley(.3)}to{transform:scaley(1)}}@keyframes line-scale-pulse-out{0%{transform:scaley(1)}50%{transform:scaley(.3)}to{transform:scaley(1)}}.la-line-scale[_ngcontent-%COMP%], .la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-scale[_ngcontent-%COMP%]{width:40px;height:32px}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:line-scale 1.2s ease infinite;animation:line-scale 1.2s ease infinite}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s;animation-delay:-1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-line-scale.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}@keyframes line-scale{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:line-spin-clockwise-fade-rotating-rotate 6s linear infinite;animation:line-spin-clockwise-fade-rotating-rotate 6s linear infinite}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:line-spin-clockwise-fade-rotating 1s ease-in-out infinite;animation:line-spin-clockwise-fade-rotating 1s ease-in-out infinite}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:15%;left:50%;transform:rotate(0deg);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@keyframes line-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@-webkit-keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}to{opacity:1}}.la-line-spin-clockwise-fade[_ngcontent-%COMP%], .la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-spin-clockwise-fade[_ngcontent-%COMP%]{width:32px;height:32px}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:line-spin-clockwise-fade 1s ease-in-out infinite;animation:line-spin-clockwise-fade 1s ease-in-out infinite}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:15%;left:50%;transform:rotate(0deg);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-clockwise-fade{50%{opacity:.2}to{opacity:1}}.la-line-spin-fade-rotating[_ngcontent-%COMP%], .la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-spin-fade-rotating[_ngcontent-%COMP%]{width:32px;height:32px;-webkit-animation:ball-spin-fade-rotating-rotate 6s linear infinite;animation:ball-spin-fade-rotating-rotate 6s linear infinite}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:line-spin-fade-rotating 1s ease-in-out infinite;animation:line-spin-fade-rotating 1s ease-in-out infinite}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:15%;left:50%;transform:rotate(0deg);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes ball-spin-fade-rotating-rotate{to{transform:rotate(1turn)}}@keyframes ball-spin-fade-rotating-rotate{to{transform:rotate(1turn)}}@-webkit-keyframes line-spin-fade-rotating{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-fade-rotating{50%{opacity:.2}to{opacity:1}}.la-line-spin-fade[_ngcontent-%COMP%], .la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-line-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-line-spin-fade[_ngcontent-%COMP%]{width:32px;height:32px}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:line-spin-fade 1s ease-in-out infinite;animation:line-spin-fade 1s ease-in-out infinite}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:15%;left:50%;transform:rotate(0deg);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-fade{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-fade{50%{opacity:.2}to{opacity:1}}.la-pacman[_ngcontent-%COMP%], .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-pacman[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-pacman.la-dark[_ngcontent-%COMP%]{color:#333}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-pacman[_ngcontent-%COMP%]{width:32px;height:32px}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:0;height:0;background:transparent;border-style:solid;border-right:solid transparent;border-width:16px;border-radius:100%;-webkit-animation:pacman-rotate-half-up .5s 0s infinite;animation:pacman-rotate-half-up .5s 0s infinite;position:absolute}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-name:pacman-rotate-half-down;animation-name:pacman-rotate-half-down;top:0}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){position:absolute;top:50%;left:200%;width:8px;height:8px;border-radius:100%;opacity:0;-webkit-animation:pacman-balls 2s linear 0s infinite;animation:pacman-balls 2s linear 0s infinite}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.44s;animation-delay:-1.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.94s;animation-delay:-1.94s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2.44s;animation-delay:-2.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2.94s;animation-delay:-2.94s}.la-pacman.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:8px;position:absolute}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:4px;height:4px}.la-pacman.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:32px;position:absolute}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:16px;height:16px}.la-pacman.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:48px;position:absolute}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:24px;height:24px}@-webkit-keyframes pacman-rotate-half-up{0%,to{transform:rotate(270deg)}50%{transform:rotate(1turn)}}@keyframes pacman-rotate-half-up{0%,to{transform:rotate(270deg)}50%{transform:rotate(1turn)}}@-webkit-keyframes pacman-rotate-half-down{0%,to{transform:rotate(90deg)}50%{transform:rotate(0deg)}}@keyframes pacman-rotate-half-down{0%,to{transform:rotate(90deg)}50%{transform:rotate(0deg)}}@-webkit-keyframes pacman-balls{0%{left:200%;opacity:0;transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}to{left:0;transform:translateY(-50%)}}@keyframes pacman-balls{0%{left:200%;opacity:0;transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}to{left:0;transform:translateY(-50%)}}.la-square-jelly-box[_ngcontent-%COMP%], .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-jelly-box[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-square-jelly-box.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-square-jelly-box[_ngcontent-%COMP%]{width:32px;height:32px}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;width:100%}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{top:-25%;z-index:1;height:100%;border-radius:10%;-webkit-animation:square-jelly-box-animate .6s linear -.1s infinite;animation:square-jelly-box-animate .6s linear -.1s infinite}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:.2;-webkit-animation:square-jelly-box-shadow .6s linear -.1s infinite;animation:square-jelly-box-shadow .6s linear -.1s infinite}.la-square-jelly-box.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-jelly-box.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-jelly-box.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scaleY(.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scaleY(.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@-webkit-keyframes square-jelly-box-shadow{50%{transform:scaleX(1.25)}}@keyframes square-jelly-box-shadow{50%{transform:scaleX(1.25)}}.la-square-loader[_ngcontent-%COMP%], .la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-loader[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-square-loader.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-square-loader[_ngcontent-%COMP%]{width:32px;height:32px}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background:transparent;border-width:2px;border-radius:0;-webkit-animation:square-loader 2s ease infinite;animation:square-loader 2s ease infinite}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{display:inline-block;width:100%;vertical-align:top;content:"";background-color:currentColor;-webkit-animation:square-loader-inner 2s ease-in infinite;animation:square-loader-inner 2s ease-in infinite}.la-square-loader.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-loader.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-square-loader.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-loader.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-square-loader.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-square-loader.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}@-webkit-keyframes square-loader{0%{transform:rotate(0deg)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(1turn)}to{transform:rotate(1turn)}}@keyframes square-loader{0%{transform:rotate(0deg)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(1turn)}to{transform:rotate(1turn)}}@-webkit-keyframes square-loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}to{height:0}}@keyframes square-loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}to{height:0}}.la-square-spin[_ngcontent-%COMP%], .la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-square-spin[_ngcontent-%COMP%]{width:32px;height:32px}.la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:0;-webkit-animation:square-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite;animation:square-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite}.la-square-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}@keyframes square-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}.la-timer[_ngcontent-%COMP%], .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-timer[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-timer.la-dark[_ngcontent-%COMP%]{color:#333}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-timer[_ngcontent-%COMP%], .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:transparent;border-width:2px;border-radius:100%}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;top:14px;left:14px;display:block;width:2px;margin-top:-1px;margin-left:-1px;content:"";background:currentColor;border-radius:2px;transform-origin:1px 1px 0;-webkit-animation:timer-loader 1.25s linear infinite;animation:timer-loader 1.25s linear infinite;-webkit-animation-delay:-625ms;animation-delay:-625ms}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:12px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:8px;-webkit-animation-duration:15s;animation-duration:15s;-webkit-animation-delay:-7.5s;animation-delay:-7.5s}.la-timer.la-sm[_ngcontent-%COMP%], .la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:7px;left:7px;width:1px;margin-top:-.5px;margin-left:-.5px;border-radius:1px;transform-origin:.5px .5px 0}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:6px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:4px}.la-timer.la-2x[_ngcontent-%COMP%], .la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:28px;left:28px;width:4px;margin-top:-2px;margin-left:-2px;border-radius:4px;transform-origin:2px 2px 0}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:24px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:16px}.la-timer.la-3x[_ngcontent-%COMP%], .la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:42px;left:42px;width:6px;margin-top:-3px;margin-left:-3px;border-radius:6px;transform-origin:3px 3px 0}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:36px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:24px}@-webkit-keyframes timer-loader{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes timer-loader{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.la-triangle-skew-spin[_ngcontent-%COMP%], .la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-triangle-skew-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-triangle-skew-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-triangle-skew-spin[_ngcontent-%COMP%]{width:32px;height:16px}.la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:0;height:0;background:transparent;border-left:none;border-right:none;border-color:currentcolor transparent;border-style:solid;border-width:0 16px 16px;-webkit-animation:triangle-skew-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite;animation:triangle-skew-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:8px}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 8px 8px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:32px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 32px 32px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:48px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 48px 48px}@-webkit-keyframes triangle-skew-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}@keyframes triangle-skew-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}.ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}'],data:{animation:[(0,he.X$)("fadeIn",[(0,he.SB)("in",(0,he.oB)({opacity:1})),(0,he.eR)(":enter",[(0,he.oB)({opacity:0}),(0,he.jt)(300)]),(0,he.eR)(":leave",(0,he.jt)(200,(0,he.oB)({opacity:0})))])]},changeDetection:0}),dt})(),Ne=(()=>{class dt{constructor(Bt){this._sanitizer=Bt}transform(Bt){if(Bt)return this._sanitizer.bypassSecurityTrustHtml(Bt)}}return dt.\u0275fac=function(Bt){return new(Bt||dt)(m.Y36(Z.H7,16))},dt.\u0275pipe=m.Yjl({name:"safeHtml",type:dt,pure:!0}),dt})(),At=(()=>{class dt{}return dt.\u0275fac=function(Bt){return new(Bt||dt)},dt.\u0275mod=m.oAB({type:dt}),dt.\u0275inj=m.cJS({imports:[[Le.ez]]}),dt})()},4099:(Kt,_t,X)=>{"use strict";X.d(_t,{X:()=>Ve});var m=X(3405),P=X(2108);class Ve extends m.xQ{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const he=super._subscribe(le);return he&&!he.closed&&le.next(this._value),he}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new P.N;return this._value}next(le){super.next(this._value=le)}}},5548:(Kt,_t,X)=>{"use strict";X.d(_t,{y:()=>ge});var m=X(4168),Ve=X(2926),oe=X(6617),he=X(1359),Le=X(7255);var _e=X(5426);let ge=(()=>{class Se{constructor(gt){this._isScalar=!1,gt&&(this._subscribe=gt)}lift(gt){const Ee=new Se;return Ee.source=this,Ee.operator=gt,Ee}subscribe(gt,Ee,Ke){const{operator:yt}=this,rt=function(Se,ne,gt){if(Se){if(Se instanceof m.L)return Se;if(Se[Ve.b])return Se[Ve.b]()}return Se||ne||gt?new m.L(Se,ne,gt):new m.L(oe.c)}(gt,Ee,Ke);if(rt.add(yt?yt.call(rt,this.source):this.source||_e.v.useDeprecatedSynchronousErrorHandling&&!rt.syncErrorThrowable?this._subscribe(rt):this._trySubscribe(rt)),_e.v.useDeprecatedSynchronousErrorHandling&&rt.syncErrorThrowable&&(rt.syncErrorThrowable=!1,rt.syncErrorThrown))throw rt.syncErrorValue;return rt}_trySubscribe(gt){try{return this._subscribe(gt)}catch(Ee){_e.v.useDeprecatedSynchronousErrorHandling&&(gt.syncErrorThrown=!0,gt.syncErrorValue=Ee),function(Se){for(;Se;){const{closed:ne,destination:gt,isStopped:Ee}=Se;if(ne||Ee)return!1;Se=gt&&gt instanceof m.L?gt:null}return!0}(gt)?gt.error(Ee):console.warn(Ee)}}forEach(gt,Ee){return new(Ee=be(Ee))((Ke,yt)=>{let rt;rt=this.subscribe(we=>{try{gt(we)}catch(Ne){yt(Ne),rt&&rt.unsubscribe()}},yt,Ke)})}_subscribe(gt){const{source:Ee}=this;return Ee&&Ee.subscribe(gt)}[he.L](){return this}pipe(...gt){return 0===gt.length?this:function(Se){return 0===Se.length?Le.y:1===Se.length?Se[0]:function(gt){return Se.reduce((Ee,Ke)=>Ke(Ee),gt)}}(gt)(this)}toPromise(gt){return new(gt=be(gt))((Ee,Ke)=>{let yt;this.subscribe(rt=>yt=rt,rt=>Ke(rt),()=>Ee(yt))})}}return Se.create=ne=>new Se(ne),Se})();function be(Se){if(Se||(Se=_e.v.Promise||Promise),!Se)throw new Error("no Promise impl found");return Se}},6617:(Kt,_t,X)=>{"use strict";X.d(_t,{c:()=>Ve});var m=X(5426),P=X(9887);const Ve={closed:!0,next(oe){},error(oe){if(m.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,P.z)(oe)},complete(){}}},3405:(Kt,_t,X)=>{"use strict";X.d(_t,{Yc:()=>Le,xQ:()=>Z});var m=X(5548),P=X(4168),Ve=X(1346),oe=X(2108),le=X(5973),he=X(2926);class Le extends P.L{constructor(ge){super(ge),this.destination=ge}}let Z=(()=>{class _e extends m.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[he.b](){return new Le(this)}lift(be){const Se=new me(this,this);return Se.operator=be,Se}next(be){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:Se}=this,ne=Se.length,gt=Se.slice();for(let Ee=0;Ee<ne;Ee++)gt[Ee].next(be)}}error(be){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=be,this.isStopped=!0;const{observers:Se}=this,ne=Se.length,gt=Se.slice();for(let Ee=0;Ee<ne;Ee++)gt[Ee].error(be);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:be}=this,Se=be.length,ne=be.slice();for(let gt=0;gt<Se;gt++)ne[gt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(be){if(this.closed)throw new oe.N;return super._trySubscribe(be)}_subscribe(be){if(this.closed)throw new oe.N;return this.hasError?(be.error(this.thrownError),Ve.w.EMPTY):this.isStopped?(be.complete(),Ve.w.EMPTY):(this.observers.push(be),new le.W(this,be))}asObservable(){const be=new m.y;return be.source=this,be}}return _e.create=(ge,be)=>new me(ge,be),_e})();class me extends Z{constructor(ge,be){super(),this.destination=ge,this.source=be}next(ge){const{destination:be}=this;be&&be.next&&be.next(ge)}error(ge){const{destination:be}=this;be&&be.error&&this.destination.error(ge)}complete(){const{destination:ge}=this;ge&&ge.complete&&this.destination.complete()}_subscribe(ge){const{source:be}=this;return be?this.source.subscribe(ge):Ve.w.EMPTY}}},5973:(Kt,_t,X)=>{"use strict";X.d(_t,{W:()=>P});var m=X(1346);class P extends m.w{constructor(oe,le){super(),this.subject=oe,this.subscriber=le,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,le=oe.observers;if(this.subject=null,!le||0===le.length||oe.isStopped||oe.closed)return;const he=le.indexOf(this.subscriber);-1!==he&&le.splice(he,1)}}},4168:(Kt,_t,X)=>{"use strict";X.d(_t,{L:()=>Le});var m=X(6783),P=X(6617),Ve=X(1346),oe=X(2926),le=X(5426),he=X(9887);class Le extends Ve.w{constructor(_e,ge,be){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=P.c;break;case 1:if(!_e){this.destination=P.c;break}if("object"==typeof _e){_e instanceof Le?(this.syncErrorThrowable=_e.syncErrorThrowable,this.destination=_e,_e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Z(this,_e));break}default:this.syncErrorThrowable=!0,this.destination=new Z(this,_e,ge,be)}}[oe.b](){return this}static create(_e,ge,be){const Se=new Le(_e,ge,be);return Se.syncErrorThrowable=!1,Se}next(_e){this.isStopped||this._next(_e)}error(_e){this.isStopped||(this.isStopped=!0,this._error(_e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(_e){this.destination.next(_e)}_error(_e){this.destination.error(_e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:_e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=_e,this}}class Z extends Le{constructor(_e,ge,be,Se){super(),this._parentSubscriber=_e;let ne,gt=this;(0,m.m)(ge)?ne=ge:ge&&(ne=ge.next,be=ge.error,Se=ge.complete,ge!==P.c&&(gt=Object.create(ge),(0,m.m)(gt.unsubscribe)&&this.add(gt.unsubscribe.bind(gt)),gt.unsubscribe=this.unsubscribe.bind(this))),this._context=gt,this._next=ne,this._error=be,this._complete=Se}next(_e){if(!this.isStopped&&this._next){const{_parentSubscriber:ge}=this;le.v.useDeprecatedSynchronousErrorHandling&&ge.syncErrorThrowable?this.__tryOrSetError(ge,this._next,_e)&&this.unsubscribe():this.__tryOrUnsub(this._next,_e)}}error(_e){if(!this.isStopped){const{_parentSubscriber:ge}=this,{useDeprecatedSynchronousErrorHandling:be}=le.v;if(this._error)be&&ge.syncErrorThrowable?(this.__tryOrSetError(ge,this._error,_e),this.unsubscribe()):(this.__tryOrUnsub(this._error,_e),this.unsubscribe());else if(ge.syncErrorThrowable)be?(ge.syncErrorValue=_e,ge.syncErrorThrown=!0):(0,he.z)(_e),this.unsubscribe();else{if(this.unsubscribe(),be)throw _e;(0,he.z)(_e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:_e}=this;if(this._complete){const ge=()=>this._complete.call(this._context);le.v.useDeprecatedSynchronousErrorHandling&&_e.syncErrorThrowable?(this.__tryOrSetError(_e,ge),this.unsubscribe()):(this.__tryOrUnsub(ge),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(_e,ge){try{_e.call(this._context,ge)}catch(be){if(this.unsubscribe(),le.v.useDeprecatedSynchronousErrorHandling)throw be;(0,he.z)(be)}}__tryOrSetError(_e,ge,be){if(!le.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ge.call(this._context,be)}catch(Se){return le.v.useDeprecatedSynchronousErrorHandling?(_e.syncErrorValue=Se,_e.syncErrorThrown=!0,!0):((0,he.z)(Se),!0)}return!1}_unsubscribe(){const{_parentSubscriber:_e}=this;this._context=null,this._parentSubscriber=null,_e.unsubscribe()}}},1346:(Kt,_t,X)=>{"use strict";X.d(_t,{w:()=>he});var m=X(5894),P=X(7879),Ve=X(6783);const le=(()=>{function Z(me){return Error.call(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((_e,ge)=>`${ge+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me,this}return Z.prototype=Object.create(Error.prototype),Z})();class he{constructor(me){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,me&&(this._ctorUnsubscribe=!0,this._unsubscribe=me)}unsubscribe(){let me;if(this.closed)return;let{_parentOrParents:_e,_ctorUnsubscribe:ge,_unsubscribe:be,_subscriptions:Se}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,_e instanceof he)_e.remove(this);else if(null!==_e)for(let ne=0;ne<_e.length;++ne)_e[ne].remove(this);if((0,Ve.m)(be)){ge&&(this._unsubscribe=void 0);try{be.call(this)}catch(ne){me=ne instanceof le?Le(ne.errors):[ne]}}if((0,m.k)(Se)){let ne=-1,gt=Se.length;for(;++ne<gt;){const Ee=Se[ne];if((0,P.K)(Ee))try{Ee.unsubscribe()}catch(Ke){me=me||[],Ke instanceof le?me=me.concat(Le(Ke.errors)):me.push(Ke)}}}if(me)throw new le(me)}add(me){let _e=me;if(!me)return he.EMPTY;switch(typeof me){case"function":_e=new he(me);case"object":if(_e===this||_e.closed||"function"!=typeof _e.unsubscribe)return _e;if(this.closed)return _e.unsubscribe(),_e;if(!(_e instanceof he)){const Se=_e;_e=new he,_e._subscriptions=[Se]}break;default:throw new Error("unrecognized teardown "+me+" added to Subscription.")}let{_parentOrParents:ge}=_e;if(null===ge)_e._parentOrParents=this;else if(ge instanceof he){if(ge===this)return _e;_e._parentOrParents=[ge,this]}else{if(-1!==ge.indexOf(this))return _e;ge.push(this)}const be=this._subscriptions;return null===be?this._subscriptions=[_e]:be.push(_e),_e}remove(me){const _e=this._subscriptions;if(_e){const ge=_e.indexOf(me);-1!==ge&&_e.splice(ge,1)}}}var Z;function Le(Z){return Z.reduce((me,_e)=>me.concat(_e instanceof le?_e.errors:_e),[])}he.EMPTY=((Z=new he).closed=!0,Z)},5426:(Kt,_t,X)=>{"use strict";X.d(_t,{v:()=>P});let m=!1;const P={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Ve){if(Ve){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=Ve},get useDeprecatedSynchronousErrorHandling(){return m}}},8345:(Kt,_t,X)=>{"use strict";X.d(_t,{IY:()=>oe,Ds:()=>he,ft:()=>Z});var m=X(4168),P=X(5548),Ve=X(4651);class oe extends m.L{constructor(_e){super(),this.parent=_e}_next(_e){this.parent.notifyNext(_e)}_error(_e){this.parent.notifyError(_e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class he extends m.L{notifyNext(_e){this.destination.next(_e)}notifyError(_e){this.destination.error(_e)}notifyComplete(){this.destination.complete()}}function Z(me,_e){if(_e.closed)return;if(me instanceof P.y)return me.subscribe(_e);let ge;try{ge=(0,Ve.s)(me)(_e)}catch(be){_e.error(be)}return ge}},5783:(Kt,_t,X)=>{"use strict";X.d(_t,{c:()=>le,N:()=>he});var m=X(3405),P=X(5548),Ve=X(1346),oe=X(5234);class le extends P.y{constructor(ge,be){super(),this.source=ge,this.subjectFactory=be,this._refCount=0,this._isComplete=!1}_subscribe(ge){return this.getSubject().subscribe(ge)}getSubject(){const ge=this._subject;return(!ge||ge.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ge=this._connection;return ge||(this._isComplete=!1,ge=this._connection=new Ve.w,ge.add(this.source.subscribe(new Le(this.getSubject(),this))),ge.closed&&(this._connection=null,ge=Ve.w.EMPTY)),ge}refCount(){return(0,oe.x)()(this)}}const he=(()=>{const _e=le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:_e._subscribe},_isComplete:{value:_e._isComplete,writable:!0},getSubject:{value:_e.getSubject},connect:{value:_e.connect},refCount:{value:_e.refCount}}})();class Le extends m.Yc{constructor(ge,be){super(ge),this.connectable=be}_error(ge){this._unsubscribe(),super._error(ge)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ge=this.connectable;if(ge){this.connectable=null;const be=ge._connection;ge._refCount=0,ge._subject=null,ge._connection=null,be&&be.unsubscribe()}}}},3596:(Kt,_t,X)=>{"use strict";X.d(_t,{z:()=>oe});var m=X(2411),P=X(2225);function oe(...le){return(0,P.J)(1)((0,m.of)(...le))}},172:(Kt,_t,X)=>{"use strict";X.d(_t,{E:()=>P,c:()=>Ve});var m=X(5548);const P=new m.y(le=>le.complete());function Ve(le){return le?function(le){return new m.y(he=>le.schedule(()=>he.complete()))}(le):P}},1915:(Kt,_t,X)=>{"use strict";X.d(_t,{D:()=>gt});var m=X(5548),P=X(4651),Ve=X(1346),oe=X(1359),Le=X(3428),Z=X(4352),ge=X(847),be=X(1265);function gt(Ee,Ke){return Ke?function(Ee,Ke){if(null!=Ee){if(function(Ee){return Ee&&"function"==typeof Ee[oe.L]}(Ee))return function(Ee,Ke){return new m.y(yt=>{const rt=new Ve.w;return rt.add(Ke.schedule(()=>{const we=Ee[oe.L]();rt.add(we.subscribe({next(Ne){rt.add(Ke.schedule(()=>yt.next(Ne)))},error(Ne){rt.add(Ke.schedule(()=>yt.error(Ne)))},complete(){rt.add(Ke.schedule(()=>yt.complete()))}}))})),rt})}(Ee,Ke);if((0,ge.t)(Ee))return function(Ee,Ke){return new m.y(yt=>{const rt=new Ve.w;return rt.add(Ke.schedule(()=>Ee.then(we=>{rt.add(Ke.schedule(()=>{yt.next(we),rt.add(Ke.schedule(()=>yt.complete()))}))},we=>{rt.add(Ke.schedule(()=>yt.error(we)))}))),rt})}(Ee,Ke);if((0,be.z)(Ee))return(0,Le.r)(Ee,Ke);if(function(Ee){return Ee&&"function"==typeof Ee[Z.hZ]}(Ee)||"string"==typeof Ee)return function(Ee,Ke){if(!Ee)throw new Error("Iterable cannot be null");return new m.y(yt=>{const rt=new Ve.w;let we;return rt.add(()=>{we&&"function"==typeof we.return&&we.return()}),rt.add(Ke.schedule(()=>{we=Ee[Z.hZ](),rt.add(Ke.schedule(function(){if(yt.closed)return;let Ne,At;try{const dt=we.next();Ne=dt.value,At=dt.done}catch(dt){return void yt.error(dt)}At?yt.complete():(yt.next(Ne),this.schedule())}))})),rt})}(Ee,Ke)}throw new TypeError((null!==Ee&&typeof Ee||Ee)+" is not observable")}(Ee,Ke):Ee instanceof m.y?Ee:new m.y((0,P.s)(Ee))}},5433:(Kt,_t,X)=>{"use strict";X.d(_t,{n:()=>oe});var m=X(5548),P=X(8769),Ve=X(3428);function oe(le,he){return he?(0,Ve.r)(le,he):new m.y((0,P.V)(le))}},8526:(Kt,_t,X)=>{"use strict";X.d(_t,{T:()=>le});var m=X(5548),P=X(8151),Ve=X(2225),oe=X(5433);function le(...he){let Le=Number.POSITIVE_INFINITY,Z=null,me=he[he.length-1];return(0,P.K)(me)?(Z=he.pop(),he.length>1&&"number"==typeof he[he.length-1]&&(Le=he.pop())):"number"==typeof me&&(Le=he.pop()),null===Z&&1===he.length&&he[0]instanceof m.y?he[0]:(0,Ve.J)(Le)((0,oe.n)(he,Z))}},2411:(Kt,_t,X)=>{"use strict";X.d(_t,{of:()=>oe});var m=X(8151),P=X(5433),Ve=X(3428);function oe(...le){let he=le[le.length-1];return(0,m.K)(he)?(le.pop(),(0,Ve.r)(le,he)):(0,P.n)(le)}},2047:(Kt,_t,X)=>{"use strict";X.d(_t,{K:()=>P});var m=X(8345);function P(le){return function(Le){const Z=new Ve(le),me=Le.lift(Z);return Z.caught=me}}class Ve{constructor(he){this.selector=he}call(he,Le){return Le.subscribe(new oe(he,this.selector,this.caught))}}class oe extends m.Ds{constructor(he,Le,Z){super(he),this.selector=Le,this.caught=Z}error(he){if(!this.isStopped){let Le;try{Le=this.selector(he,this.caught)}catch(_e){return void super.error(_e)}this._unsubscribeAndRecycle();const Z=new m.IY(this);this.add(Z);const me=(0,m.ft)(Le,Z);me!==Z&&this.add(me)}}}},6700:(Kt,_t,X)=>{"use strict";X.d(_t,{b:()=>P});var m=X(4421);function P(Ve,oe){return(0,m.zg)(Ve,oe,1)}},5686:(Kt,_t,X)=>{"use strict";X.d(_t,{b:()=>Ve});var m=X(4168),P=X(8178);function Ve(Le,Z=P.P){return me=>me.lift(new oe(Le,Z))}class oe{constructor(Z,me){this.dueTime=Z,this.scheduler=me}call(Z,me){return me.subscribe(new le(Z,this.dueTime,this.scheduler))}}class le extends m.L{constructor(Z,me,_e){super(Z),this.dueTime=me,this.scheduler=_e,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(Z){this.clearDebounce(),this.lastValue=Z,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(he,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:Z}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(Z)}}clearDebounce(){const Z=this.debouncedSubscription;null!==Z&&(this.remove(Z),Z.unsubscribe(),this.debouncedSubscription=null)}}function he(Le){Le.debouncedNext()}},3507:(Kt,_t,X)=>{"use strict";X.d(_t,{d:()=>P});var m=X(4168);function P(le=null){return he=>he.lift(new Ve(le))}class Ve{constructor(he){this.defaultValue=he}call(he,Le){return Le.subscribe(new oe(he,this.defaultValue))}}class oe extends m.L{constructor(he,Le){super(he),this.defaultValue=Le,this.isEmpty=!0}_next(he){this.isEmpty=!1,this.destination.next(he)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5389:(Kt,_t,X)=>{"use strict";X.d(_t,{x:()=>P});var m=X(4168);function P(le,he){return Le=>Le.lift(new Ve(le,he))}class Ve{constructor(he,Le){this.compare=he,this.keySelector=Le}call(he,Le){return Le.subscribe(new oe(he,this.compare,this.keySelector))}}class oe extends m.L{constructor(he,Le,Z){super(he),this.keySelector=Z,this.hasKey=!1,"function"==typeof Le&&(this.compare=Le)}compare(he,Le){return he===Le}_next(he){let Le;try{const{keySelector:me}=this;Le=me?me(he):he}catch(me){return this.destination.error(me)}let Z=!1;if(this.hasKey)try{const{compare:me}=this;Z=me(this.key,Le)}catch(me){return this.destination.error(me)}else this.hasKey=!0;Z||(this.key=Le,this.destination.next(he))}}},8735:(Kt,_t,X)=>{"use strict";X.d(_t,{h:()=>P});var m=X(4168);function P(le,he){return function(Z){return Z.lift(new Ve(le,he))}}class Ve{constructor(he,Le){this.predicate=he,this.thisArg=Le}call(he,Le){return Le.subscribe(new oe(he,this.predicate,this.thisArg))}}class oe extends m.L{constructor(he,Le,Z){super(he),this.predicate=Le,this.thisArg=Z,this.count=0}_next(he){let Le;try{Le=this.predicate.call(this.thisArg,he,this.count++)}catch(Z){return void this.destination.error(Z)}Le&&this.destination.next(he)}}},739:(Kt,_t,X)=>{"use strict";X.d(_t,{P:()=>Le});var m=X(9443),P=X(8735),Ve=X(6636),oe=X(3507),le=X(6225),he=X(7255);function Le(Z,me){const _e=arguments.length>=2;return ge=>ge.pipe(Z?(0,P.h)((be,Se)=>Z(be,Se,ge)):he.y,(0,Ve.q)(1),_e?(0,oe.d)(me):(0,le.T)(()=>new m.K))}},8053:(Kt,_t,X)=>{"use strict";X.d(_t,{U:()=>P});var m=X(4168);function P(le,he){return function(Z){if("function"!=typeof le)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Z.lift(new Ve(le,he))}}class Ve{constructor(he,Le){this.project=he,this.thisArg=Le}call(he,Le){return Le.subscribe(new oe(he,this.project,this.thisArg))}}class oe extends m.L{constructor(he,Le,Z){super(he),this.project=Le,this.count=0,this.thisArg=Z||this}_next(he){let Le;try{Le=this.project.call(this.thisArg,he,this.count++)}catch(Z){return void this.destination.error(Z)}this.destination.next(Le)}}},2225:(Kt,_t,X)=>{"use strict";X.d(_t,{J:()=>Ve});var m=X(4421),P=X(7255);function Ve(oe=Number.POSITIVE_INFINITY){return(0,m.zg)(P.y,oe)}},4421:(Kt,_t,X)=>{"use strict";X.d(_t,{zg:()=>oe});var m=X(8053),P=X(1915),Ve=X(8345);function oe(Z,me,_e=Number.POSITIVE_INFINITY){return"function"==typeof me?ge=>ge.pipe(oe((be,Se)=>(0,P.D)(Z(be,Se)).pipe((0,m.U)((ne,gt)=>me(be,ne,Se,gt))),_e)):("number"==typeof me&&(_e=me),ge=>ge.lift(new le(Z,_e)))}class le{constructor(me,_e=Number.POSITIVE_INFINITY){this.project=me,this.concurrent=_e}call(me,_e){return _e.subscribe(new he(me,this.project,this.concurrent))}}class he extends Ve.Ds{constructor(me,_e,ge=Number.POSITIVE_INFINITY){super(me),this.project=_e,this.concurrent=ge,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(me){this.active<this.concurrent?this._tryNext(me):this.buffer.push(me)}_tryNext(me){let _e;const ge=this.index++;try{_e=this.project(me,ge)}catch(be){return void this.destination.error(be)}this.active++,this._innerSub(_e)}_innerSub(me){const _e=new Ve.IY(this),ge=this.destination;ge.add(_e);const be=(0,Ve.ft)(me,_e);be!==_e&&ge.add(be)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(me){this.destination.next(me)}notifyComplete(){const me=this.buffer;this.active--,me.length>0?this._next(me.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9254:(Kt,_t,X)=>{"use strict";X.d(_t,{ht:()=>ge,QV:()=>me});var m=X(4168),P=X(172),Ve=X(2411),oe=X(5548);class Z{constructor(ne,gt,Ee){this.kind=ne,this.value=gt,this.error=Ee,this.hasValue="N"===ne}observe(ne){switch(this.kind){case"N":return ne.next&&ne.next(this.value);case"E":return ne.error&&ne.error(this.error);case"C":return ne.complete&&ne.complete()}}do(ne,gt,Ee){switch(this.kind){case"N":return ne&&ne(this.value);case"E":return gt&&gt(this.error);case"C":return Ee&&Ee()}}accept(ne,gt,Ee){return ne&&"function"==typeof ne.next?this.observe(ne):this.do(ne,gt,Ee)}toObservable(){switch(this.kind){case"N":return(0,Ve.of)(this.value);case"E":return Se=this.error,new oe.y(gt=>gt.error(Se));case"C":return(0,P.c)()}var Se;throw new Error("unexpected notification kind value")}static createNext(ne){return void 0!==ne?new Z("N",ne):Z.undefinedValueNotification}static createError(ne){return new Z("E",void 0,ne)}static createComplete(){return Z.completeNotification}}function me(Se,ne=0){return function(Ee){return Ee.lift(new _e(Se,ne))}}Z.completeNotification=new Z("C"),Z.undefinedValueNotification=new Z("N",void 0);class _e{constructor(ne,gt=0){this.scheduler=ne,this.delay=gt}call(ne,gt){return gt.subscribe(new ge(ne,this.scheduler,this.delay))}}class ge extends m.L{constructor(ne,gt,Ee=0){super(ne),this.scheduler=gt,this.delay=Ee}static dispatch(ne){const{notification:gt,destination:Ee}=ne;gt.observe(Ee),this.unsubscribe()}scheduleMessage(ne){this.destination.add(this.scheduler.schedule(ge.dispatch,this.delay,new be(ne,this.destination)))}_next(ne){this.scheduleMessage(Z.createNext(ne))}_error(ne){this.scheduleMessage(Z.createError(ne)),this.unsubscribe()}_complete(){this.scheduleMessage(Z.createComplete()),this.unsubscribe()}}class be{constructor(ne,gt){this.notification=ne,this.destination=gt}}},5234:(Kt,_t,X)=>{"use strict";X.d(_t,{x:()=>P});var m=X(4168);function P(){return function(he){return he.lift(new Ve(he))}}class Ve{constructor(he){this.connectable=he}call(he,Le){const{connectable:Z}=this;Z._refCount++;const me=new oe(he,Z),_e=Le.subscribe(me);return me.closed||(me.connection=Z.connect()),_e}}class oe extends m.L{constructor(he,Le){super(he),this.connectable=Le}_unsubscribe(){const{connectable:he}=this;if(!he)return void(this.connection=null);this.connectable=null;const Le=he._refCount;if(Le<=0)return void(this.connection=null);if(he._refCount=Le-1,Le>1)return void(this.connection=null);const{connection:Z}=this,me=he._connection;this.connection=null,me&&(!Z||me===Z)&&me.unsubscribe()}}},7434:(Kt,_t,X)=>{"use strict";X.d(_t,{R:()=>P});var m=X(4168);function P(le,he){let Le=!1;return arguments.length>=2&&(Le=!0),function(me){return me.lift(new Ve(le,he,Le))}}class Ve{constructor(he,Le,Z=!1){this.accumulator=he,this.seed=Le,this.hasSeed=Z}call(he,Le){return Le.subscribe(new oe(he,this.accumulator,this.seed,this.hasSeed))}}class oe extends m.L{constructor(he,Le,Z,me){super(he),this.accumulator=Le,this._seed=Z,this.hasSeed=me,this.index=0}get seed(){return this._seed}set seed(he){this.hasSeed=!0,this._seed=he}_next(he){if(this.hasSeed)return this._tryNext(he);this.seed=he,this.destination.next(he)}_tryNext(he){const Le=this.index++;let Z;try{Z=this.accumulator(this.seed,he,Le)}catch(me){this.destination.error(me)}this.seed=Z,this.destination.next(Z)}}},1125:(Kt,_t,X)=>{"use strict";X.d(_t,{O:()=>Ve});var m=X(3596),P=X(8151);function Ve(...oe){const le=oe[oe.length-1];return(0,P.K)(le)?(oe.pop(),he=>(0,m.z)(oe,he,le)):he=>(0,m.z)(oe,he)}},2635:(Kt,_t,X)=>{"use strict";X.d(_t,{R:()=>Ee});var m=X(5548);let P=1;const Ve=Promise.resolve(),oe={};function le(yt){return yt in oe&&(delete oe[yt],!0)}const he={setImmediate(yt){const rt=P++;return oe[rt]=!0,Ve.then(()=>le(rt)&&yt()),rt},clearImmediate(yt){le(yt)}};var Z=X(6339),_e=X(5192);const Se=new class extends _e.v{flush(rt){this.active=!0,this.scheduled=void 0;const{actions:we}=this;let Ne,At=-1,dt=we.length;rt=rt||we.shift();do{if(Ne=rt.execute(rt.state,rt.delay))break}while(++At<dt&&(rt=we.shift()));if(this.active=!1,Ne){for(;++At<dt&&(rt=we.shift());)rt.unsubscribe();throw Ne}}}(class extends Z.o{constructor(rt,we){super(rt,we),this.scheduler=rt,this.work=we}requestAsyncId(rt,we,Ne=0){return null!==Ne&&Ne>0?super.requestAsyncId(rt,we,Ne):(rt.actions.push(this),rt.scheduled||(rt.scheduled=he.setImmediate(rt.flush.bind(rt,null))))}recycleAsyncId(rt,we,Ne=0){if(null!==Ne&&Ne>0||null===Ne&&this.delay>0)return super.recycleAsyncId(rt,we,Ne);0===rt.actions.length&&(he.clearImmediate(we),rt.scheduled=void 0)}});var ne=X(8212);class gt extends m.y{constructor(rt,we=0,Ne=Se){super(),this.source=rt,this.delayTime=we,this.scheduler=Ne,(!(0,ne.k)(we)||we<0)&&(this.delayTime=0),(!Ne||"function"!=typeof Ne.schedule)&&(this.scheduler=Se)}static create(rt,we=0,Ne=Se){return new gt(rt,we,Ne)}static dispatch(rt){const{source:we,subscriber:Ne}=rt;return this.add(we.subscribe(Ne))}_subscribe(rt){return this.scheduler.schedule(gt.dispatch,this.delayTime,{source:this.source,subscriber:rt})}}function Ee(yt,rt=0){return function(Ne){return Ne.lift(new Ke(yt,rt))}}class Ke{constructor(rt,we){this.scheduler=rt,this.delay=we}call(rt,we){return new gt(we,this.delay,this.scheduler).subscribe(rt)}}},9204:(Kt,_t,X)=>{"use strict";X.d(_t,{w:()=>oe});var m=X(8053),P=X(1915),Ve=X(8345);function oe(Le,Z){return"function"==typeof Z?me=>me.pipe(oe((_e,ge)=>(0,P.D)(Le(_e,ge)).pipe((0,m.U)((be,Se)=>Z(_e,be,ge,Se))))):me=>me.lift(new le(Le))}class le{constructor(Z){this.project=Z}call(Z,me){return me.subscribe(new he(Z,this.project))}}class he extends Ve.Ds{constructor(Z,me){super(Z),this.project=me,this.index=0}_next(Z){let me;const _e=this.index++;try{me=this.project(Z,_e)}catch(ge){return void this.destination.error(ge)}this._innerSub(me)}_innerSub(Z){const me=this.innerSubscription;me&&me.unsubscribe();const _e=new Ve.IY(this),ge=this.destination;ge.add(_e),this.innerSubscription=(0,Ve.ft)(Z,_e),this.innerSubscription!==_e&&ge.add(this.innerSubscription)}_complete(){const{innerSubscription:Z}=this;(!Z||Z.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Z){this.destination.next(Z)}}},6636:(Kt,_t,X)=>{"use strict";X.d(_t,{q:()=>oe});var m=X(4168),P=X(523),Ve=X(172);function oe(Le){return Z=>0===Le?(0,Ve.c)():Z.lift(new le(Le))}class le{constructor(Z){if(this.total=Z,this.total<0)throw new P.W}call(Z,me){return me.subscribe(new he(Z,this.total))}}class he extends m.L{constructor(Z,me){super(Z),this.total=me,this.count=0}_next(Z){const me=this.total,_e=++this.count;_e<=me&&(this.destination.next(Z),_e===me&&(this.destination.complete(),this.unsubscribe()))}}},8805:(Kt,_t,X)=>{"use strict";X.d(_t,{R:()=>P});var m=X(8345);function P(le){return he=>he.lift(new Ve(le))}class Ve{constructor(he){this.notifier=he}call(he,Le){const Z=new oe(he),me=(0,m.ft)(this.notifier,new m.IY(Z));return me&&!Z.seenValue?(Z.add(me),Le.subscribe(Z)):Z}}class oe extends m.Ds{constructor(he){super(he),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},5722:(Kt,_t,X)=>{"use strict";X.d(_t,{b:()=>oe});var m=X(4168);function P(){}var Ve=X(6783);function oe(Le,Z,me){return function(ge){return ge.lift(new le(Le,Z,me))}}class le{constructor(Z,me,_e){this.nextOrObserver=Z,this.error=me,this.complete=_e}call(Z,me){return me.subscribe(new he(Z,this.nextOrObserver,this.error,this.complete))}}class he extends m.L{constructor(Z,me,_e,ge){super(Z),this._tapNext=P,this._tapError=P,this._tapComplete=P,this._tapError=_e||P,this._tapComplete=ge||P,(0,Ve.m)(me)?(this._context=this,this._tapNext=me):me&&(this._context=me,this._tapNext=me.next||P,this._tapError=me.error||P,this._tapComplete=me.complete||P)}_next(Z){try{this._tapNext.call(this._context,Z)}catch(me){return void this.destination.error(me)}this.destination.next(Z)}_error(Z){try{this._tapError.call(this._context,Z)}catch(me){return void this.destination.error(me)}this.destination.error(Z)}_complete(){try{this._tapComplete.call(this._context)}catch(Z){return void this.destination.error(Z)}return this.destination.complete()}}},6225:(Kt,_t,X)=>{"use strict";X.d(_t,{T:()=>Ve});var m=X(9443),P=X(4168);function Ve(Le=he){return Z=>Z.lift(new oe(Le))}class oe{constructor(Z){this.errorFactory=Z}call(Z,me){return me.subscribe(new le(Z,this.errorFactory))}}class le extends P.L{constructor(Z,me){super(Z),this.errorFactory=me,this.hasValue=!1}_next(Z){this.hasValue=!0,this.destination.next(Z)}_complete(){if(this.hasValue)return this.destination.complete();{let Z;try{Z=this.errorFactory()}catch(me){Z=me}this.destination.error(Z)}}}function he(){return new m.K}},3428:(Kt,_t,X)=>{"use strict";X.d(_t,{r:()=>Ve});var m=X(5548),P=X(1346);function Ve(oe,le){return new m.y(he=>{const Le=new P.w;let Z=0;return Le.add(le.schedule(function(){Z!==oe.length?(he.next(oe[Z++]),he.closed||Le.add(this.schedule())):he.complete()})),Le})}},6339:(Kt,_t,X)=>{"use strict";X.d(_t,{o:()=>Ve});var m=X(1346);class P extends m.w{constructor(le,he){super()}schedule(le,he=0){return this}}class Ve extends P{constructor(le,he){super(le,he),this.scheduler=le,this.work=he,this.pending=!1}schedule(le,he=0){if(this.closed)return this;this.state=le;const Le=this.id,Z=this.scheduler;return null!=Le&&(this.id=this.recycleAsyncId(Z,Le,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(Z,this.id,he),this}requestAsyncId(le,he,Le=0){return setInterval(le.flush.bind(le,this),Le)}recycleAsyncId(le,he,Le=0){if(null!==Le&&this.delay===Le&&!1===this.pending)return he;clearInterval(he)}execute(le,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Le=this._execute(le,he);if(Le)return Le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,he){let Z,Le=!1;try{this.work(le)}catch(me){Le=!0,Z=!!me&&me||new Error(me)}if(Le)return this.unsubscribe(),Z}_unsubscribe(){const le=this.id,he=this.scheduler,Le=he.actions,Z=Le.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Z&&Le.splice(Z,1),null!=le&&(this.id=this.recycleAsyncId(he,le,null)),this.delay=null}}},5192:(Kt,_t,X)=>{"use strict";X.d(_t,{v:()=>P});let m=(()=>{class Ve{constructor(le,he=Ve.now){this.SchedulerAction=le,this.now=he}schedule(le,he=0,Le){return new this.SchedulerAction(this,le).schedule(Le,he)}}return Ve.now=()=>Date.now(),Ve})();class P extends m{constructor(oe,le=m.now){super(oe,()=>P.delegate&&P.delegate!==this?P.delegate.now():le()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,le=0,he){return P.delegate&&P.delegate!==this?P.delegate.schedule(oe,le,he):super.schedule(oe,le,he)}flush(oe){const{actions:le}=this;if(this.active)return void le.push(oe);let he;this.active=!0;do{if(he=oe.execute(oe.state,oe.delay))break}while(oe=le.shift());if(this.active=!1,he){for(;oe=le.shift();)oe.unsubscribe();throw he}}}},8178:(Kt,_t,X)=>{"use strict";X.d(_t,{z:()=>Ve,P:()=>oe});var m=X(6339);const Ve=new(X(5192).v)(m.o),oe=Ve},7575:(Kt,_t,X)=>{"use strict";X.d(_t,{c:()=>he,N:()=>le});var m=X(6339),Ve=X(5192);const le=new class extends Ve.v{}(class extends m.o{constructor(Z,me){super(Z,me),this.scheduler=Z,this.work=me}schedule(Z,me=0){return me>0?super.schedule(Z,me):(this.delay=me,this.state=Z,this.scheduler.flush(this),this)}execute(Z,me){return me>0||this.closed?super.execute(Z,me):this._execute(Z,me)}requestAsyncId(Z,me,_e=0){return null!==_e&&_e>0||null===_e&&this.delay>0?super.requestAsyncId(Z,me,_e):Z.flush(this)}}),he=le},4352:(Kt,_t,X)=>{"use strict";X.d(_t,{hZ:()=>P});const P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},1359:(Kt,_t,X)=>{"use strict";X.d(_t,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},2926:(Kt,_t,X)=>{"use strict";X.d(_t,{b:()=>m});const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},523:(Kt,_t,X)=>{"use strict";X.d(_t,{W:()=>P});const P=(()=>{function Ve(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Ve.prototype=Object.create(Error.prototype),Ve})()},9443:(Kt,_t,X)=>{"use strict";X.d(_t,{K:()=>P});const P=(()=>{function Ve(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return Ve.prototype=Object.create(Error.prototype),Ve})()},2108:(Kt,_t,X)=>{"use strict";X.d(_t,{N:()=>P});const P=(()=>{function Ve(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Ve.prototype=Object.create(Error.prototype),Ve})()},9887:(Kt,_t,X)=>{"use strict";function m(P){setTimeout(()=>{throw P},0)}X.d(_t,{z:()=>m})},7255:(Kt,_t,X)=>{"use strict";function m(P){return P}X.d(_t,{y:()=>m})},5894:(Kt,_t,X)=>{"use strict";X.d(_t,{k:()=>m});const m=Array.isArray||(P=>P&&"number"==typeof P.length)},1265:(Kt,_t,X)=>{"use strict";X.d(_t,{z:()=>m});const m=P=>P&&"number"==typeof P.length&&"function"!=typeof P},6783:(Kt,_t,X)=>{"use strict";function m(P){return"function"==typeof P}X.d(_t,{m:()=>m})},8212:(Kt,_t,X)=>{"use strict";X.d(_t,{k:()=>P});var m=X(5894);function P(Ve){return!(0,m.k)(Ve)&&Ve-parseFloat(Ve)+1>=0}},7879:(Kt,_t,X)=>{"use strict";function m(P){return null!==P&&"object"==typeof P}X.d(_t,{K:()=>m})},847:(Kt,_t,X)=>{"use strict";function m(P){return!!P&&"function"!=typeof P.subscribe&&"function"==typeof P.then}X.d(_t,{t:()=>m})},8151:(Kt,_t,X)=>{"use strict";function m(P){return P&&"function"==typeof P.schedule}X.d(_t,{K:()=>m})},4651:(Kt,_t,X)=>{"use strict";X.d(_t,{s:()=>ge});var m=X(8769),P=X(9887),oe=X(4352),he=X(1359),Z=X(1265),me=X(847),_e=X(7879);const ge=be=>{if(be&&"function"==typeof be[he.L])return(be=>Se=>{const ne=be[he.L]();if("function"!=typeof ne.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ne.subscribe(Se)})(be);if((0,Z.z)(be))return(0,m.V)(be);if((0,me.t)(be))return(be=>Se=>(be.then(ne=>{Se.closed||(Se.next(ne),Se.complete())},ne=>Se.error(ne)).then(null,P.z),Se))(be);if(be&&"function"==typeof be[oe.hZ])return(be=>Se=>{const ne=be[oe.hZ]();for(;;){let gt;try{gt=ne.next()}catch(Ee){return Se.error(Ee),Se}if(gt.done){Se.complete();break}if(Se.next(gt.value),Se.closed)break}return"function"==typeof ne.return&&Se.add(()=>{ne.return&&ne.return()}),Se})(be);{const ne=`You provided ${(0,_e.K)(be)?"an invalid object":`'${be}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ne)}}},8769:(Kt,_t,X)=>{"use strict";X.d(_t,{V:()=>m});const m=P=>Ve=>{for(let oe=0,le=P.length;oe<le&&!Ve.closed;oe++)Ve.next(P[oe]);Ve.complete()}},7693:(Kt,_t,X)=>{"use strict";X.d(_t,{K:()=>oe});var m=X(3736),P=X(6019),Ve=X(9619);let oe=(()=>{class le{}return le.\u0275fac=function(Le){return new(Le||le)},le.\u0275mod=Ve.oAB({type:le}),le.\u0275inj=Ve.cJS({imports:[[P.ez,m.Bz]]}),le})()},2526:(Kt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{AboutUsModule:()=>Se});var m=X(8438),P=X(9010),Ve=X(2581),oe=X(8239),le=X(9217),he=X(9619),Le=X(2467);let Z=(()=>{class ne{constructor(Ee,Ke){this.afs=Ee,this.spinner=Ke,this.Editor=le,this.data="",this.id=""}ngOnInit(){var Ee=this;return(0,oe.Z)(function*(){yield Ee.getAboutUs()})()}getAboutUs(){var Ee=this;return(0,oe.Z)(function*(){Ee.spinner.show();let Ke=yield Ee.afs.collection("aboutUs").get().toPromise();Ee.spinner.hide();let yt=Ke.docs[0].data();Ee.data=yt.data,Ee.id=Ke.docs[0].id})()}onSave(){var Ee=this;if(this.data){let Ke={data:this.data};this.id?(this.spinner.show(),this.afs.collection("aboutUs").doc(this.id).update(Ke).then(function(){var yt=(0,oe.Z)(function*(rt){yield Ee.getAboutUs(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}())):(this.spinner.show(),this.afs.collection("aboutUs").add(Ke).then(function(){var yt=(0,oe.Z)(function*(rt){yield Ee.getAboutUs(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()))}}}return ne.\u0275fac=function(Ee){return new(Ee||ne)(he.Y36(Ve.ST),he.Y36(m.t2))},ne.\u0275cmp=he.Xpm({type:ne,selectors:[["app-about-us"]],decls:5,vars:2,consts:[[1,"about_us_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],["type","button",3,"click"]],template:function(Ee,Ke){1&Ee&&(he.TgZ(0,"div",0),he.TgZ(1,"ckeditor",1),he.NdJ("ngModelChange",function(rt){return Ke.data=rt}),he.qZA(),he.TgZ(2,"div",2),he.TgZ(3,"button",3),he.NdJ("click",function(){return Ke.onSave()}),he._uU(4,"Save"),he.qZA(),he.qZA(),he.qZA()),2&Ee&&(he.xp6(1),he.Q6J("editor",Ke.Editor)("ngModel",Ke.data))},directives:[Le.u,P.JJ,P.On],styles:[".about_us_container[_ngcontent-%COMP%]{padding:25px}.about_us_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.about_us_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),ne})();var me=X(3736);const _e=[{path:"",component:Z}];let ge=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=he.oAB({type:ne}),ne.\u0275inj=he.cJS({imports:[[me.Bz.forChild(_e)],me.Bz]}),ne})();var be=X(6019);let Se=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=he.oAB({type:ne}),ne.\u0275inj=he.cJS({imports:[[be.ez,ge,Le.d,Ve.yb,P.u5,m.ef]]}),ne})()},3193:(Kt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{AddressModule:()=>st});var m=X(8239),P=X(9619),Ve=X(9010),oe=X(9365),le=X(2581),he=X(8438),Le=X(6019);function Z(Te,Fe){1&Te&&(P.TgZ(0,"span"),P._uU(1,"Branch Name is required"),P.qZA())}function me(Te,Fe){if(1&Te&&(P.TgZ(0,"div",27),P.YNc(1,Z,2,0,"span",28),P.qZA()),2&Te){const Ze=P.oxw();let Ie;P.xp6(1),P.Q6J("ngIf",null==(Ie=Ze.addressForm.get("branchName"))||null==Ie.errors?null:Ie.errors.required)}}function _e(Te,Fe){1&Te&&(P.TgZ(0,"span"),P._uU(1,"Address is required"),P.qZA())}function ge(Te,Fe){if(1&Te&&(P.TgZ(0,"div",27),P.YNc(1,_e,2,0,"span",28),P.qZA()),2&Te){const Ze=P.oxw();let Ie;P.xp6(1),P.Q6J("ngIf",null==(Ie=Ze.addressForm.get("branchAddress"))||null==Ie.errors?null:Ie.errors.required)}}function be(Te,Fe){1&Te&&(P.TgZ(0,"span"),P._uU(1,"Sector is required"),P.qZA())}function Se(Te,Fe){if(1&Te&&(P.TgZ(0,"div",27),P.YNc(1,be,2,0,"span",28),P.qZA()),2&Te){const Ze=P.oxw();let Ie;P.xp6(1),P.Q6J("ngIf",null==(Ie=Ze.addressForm.get("addressType"))||null==Ie.errors?null:Ie.errors.required)}}function ne(Te,Fe){1&Te&&(P.TgZ(0,"span"),P._uU(1,"Email is required"),P.qZA())}function gt(Te,Fe){1&Te&&(P.TgZ(0,"span"),P._uU(1,"Mot a valid Email"),P.qZA())}function Ee(Te,Fe){if(1&Te&&(P.TgZ(0,"div",27),P.YNc(1,ne,2,0,"span",28),P.YNc(2,gt,2,0,"span",28),P.qZA()),2&Te){const Ze=P.oxw();let Ie,$e;P.xp6(1),P.Q6J("ngIf",null==(Ie=Ze.addressForm.get("email"))||null==Ie.errors?null:Ie.errors.required),P.xp6(1),P.Q6J("ngIf",null==($e=Ze.addressForm.get("email"))||null==$e.errors?null:$e.errors.email)}}function Ke(Te,Fe){1&Te&&(P.TgZ(0,"span"),P._uU(1,"Mobile Number is required"),P.qZA())}function yt(Te,Fe){if(1&Te&&(P.TgZ(0,"div",27),P.YNc(1,Ke,2,0,"span",28),P.qZA()),2&Te){const Ze=P.oxw();let Ie;P.xp6(1),P.Q6J("ngIf",null==(Ie=Ze.addressForm.get("mobile"))||null==Ie.errors?null:Ie.errors.required)}}function rt(Te,Fe){1&Te&&(P.TgZ(0,"span"),P._uU(1,"Whatsapp Number is required"),P.qZA())}function we(Te,Fe){if(1&Te&&(P.TgZ(0,"div",27),P.YNc(1,rt,2,0,"span",28),P.qZA()),2&Te){const Ze=P.oxw();let Ie;P.xp6(1),P.Q6J("ngIf",null==(Ie=Ze.addressForm.get("whatsappNumber"))||null==Ie.errors?null:Ie.errors.required)}}function Ne(Te,Fe){1&Te&&(P.TgZ(0,"span"),P._uU(1,"Google Maps Link is required"),P.qZA())}function At(Te,Fe){if(1&Te&&(P.TgZ(0,"div",27),P.YNc(1,Ne,2,0,"span",28),P.qZA()),2&Te){const Ze=P.oxw();let Ie;P.xp6(1),P.Q6J("ngIf",null==(Ie=Ze.addressForm.get("maps_link"))||null==Ie.errors?null:Ie.errors.required)}}let dt=(()=>{class Te{constructor(Ze,Ie,$e){this.fb=Ze,this.afs=Ie,this.spinner=$e,this.settings={columns:{s_no:{title:"S No.",filter:!1},branch_name:{title:"Branch Name",filter:!1},address_type:{title:"Address Type",filter:!1},email:{title:"Email",filter:!1},mobile:{title:"Mobile Number",filter:!1},address:{title:"Address",filter:!1},actions:{title:"Actions",filter:!1,type:"custom",renderComponent:Jt,onComponentInitFunction:at=>{at.onEdit.subscribe(jt=>{console.log("Edit",jt),this.addEditLabel="Edit",this.editId=jt.id,this.addressForm.patchValue({branchName:jt.branch_name,branchAddress:jt.address,addressType:jt.address_type,email:jt.email,mobile:jt.mobile,whatsappNumber:jt.whatsappNumber,maps_link:jt.maps_link})}),at.onDelete.subscribe(jt=>this.delete(jt.id))}}},pager:{display:!0,perPage:10},actions:{add:!1,edit:!1,delete:!1,position:"right"}},this.addEditLabel="Add New",this.editId="",this.addresses=[],this.addressForm=this.fb.group({branchName:new Ve.NI("",[Ve.kI.required]),branchAddress:new Ve.NI("",[Ve.kI.required]),addressType:new Ve.NI("",[Ve.kI.required]),email:new Ve.NI("",[Ve.kI.required,Ve.kI.email]),mobile:new Ve.NI("",[Ve.kI.required]),whatsappNumber:new Ve.NI("",[Ve.kI.required]),maps_link:new Ve.NI("",[])})}ngOnInit(){var Ze=this;return(0,m.Z)(function*(){yield Ze.getAdresses()})()}getAdresses(){var Ze=this;return(0,m.Z)(function*(){Ze.spinner.show();const Ie=yield Ze.afs.collection("Address").get().toPromise();Ze.spinner.hide(),console.log(Ie.docs[0].data());let $e=[];for(let at in Ie.docs){let jt=Ie.docs[at].data();$e.push({s_no:+at+1,id:Ie.docs[at].id,branch_name:jt.location,address:jt.address,address_type:jt.addressType,email:jt.email,mobile:jt.mobile,whatsappNumber:jt.whatsappNumber,maps_link:jt.mapsLink})}Ze.addresses=$e,Ze.source=new oe.nC($e)})()}onSearch(Ze=""){""!=Ze?this.source.setFilter([{field:"branch_name",search:Ze},{field:"address",search:Ze},{field:"address_type",search:Ze},{field:"email",search:Ze},{field:"mobile",search:Ze}],!1):this.source.reset()}delete(Ze){var Ie=this;this.spinner.show(),this.afs.collection("Address").doc(Ze).delete().then(function(){var $e=(0,m.Z)(function*(at){yield Ie.getAdresses(),Ie.spinner.hide()});return function(at){return $e.apply(this,arguments)}}())}onSubmit(){var Ze=this;console.log(this.addressForm.value);for(let Ie in this.addressForm.controls)this.addressForm.controls[Ie].markAsTouched(),this.addressForm.controls[Ie].updateValueAndValidity();if(this.addressForm.valid){let Ie={address:this.addressForm.controls.branchAddress.value,location:this.addressForm.controls.branchName.value,addressType:this.addressForm.controls.addressType.value,email:this.addressForm.controls.email.value,mobile:this.addressForm.controls.mobile.value,whatsappNumber:this.addressForm.controls.whatsappNumber.value,mapsLink:this.addressForm.controls.maps_link.value||""},$e=this.addresses.findIndex(at=>at.address_type==Ie.addressType);$e>=0&&(this.editId=this.addresses[$e].id),this.editId?(this.spinner.show(),this.afs.collection("Address").doc(this.editId).update(Ie).then(function(){var at=(0,m.Z)(function*(jt){Ze.editId="",Ze.addEditLabel="Add New",Ze.addressForm.reset(),yield Ze.getAdresses(),Ze.spinner.hide()});return function(jt){return at.apply(this,arguments)}}())):(this.spinner.show(),this.afs.collection("Address").add(Ie).then(function(){var at=(0,m.Z)(function*(jt){Ze.addressForm.reset(),yield Ze.getAdresses(),Ze.spinner.hide()});return function(jt){return at.apply(this,arguments)}}()))}}}return Te.\u0275fac=function(Ze){return new(Ze||Te)(P.Y36(Ve.qu),P.Y36(le.ST),P.Y36(he.t2))},Te.\u0275cmp=P.Xpm({type:Te,selectors:[["app-address"]],decls:55,vars:11,consts:[[1,"address_container"],[1,"search_container"],["type","text","placeholder","Search...",3,"keydown.enter"],["search",""],[3,"settings","source"],[1,"form_container"],[3,"formGroup","ngSubmit"],[1,"form_control"],["for","branch_name"],["type","text","id","branch_name","formControlName","branchName"],["class","error",4,"ngIf"],["for","branch_address"],["type","text","id","branch_address","rows","10","formControlName","branchAddress"],["for","type"],["id","type","placeholder","Select Address Type","formControlName","addressType"],["value","Registered",1,"option"],["value","Corporate",1,"option"],["value","Branch",1,"option"],["for","email"],["type","email","id","email","formControlName","email"],["for","mobile"],["type","text","id","mobile","formControlName","mobile"],["for","whatsappNumber"],["type","text","id","whatsappNumber","formControlName","whatsappNumber"],["for","maps_link"],["type","text","id","maps_link","formControlName","maps_link"],["type","submit"],[1,"error"],[4,"ngIf"]],template:function(Ze,Ie){if(1&Ze){const $e=P.EpF();P.TgZ(0,"div",0),P.TgZ(1,"div",1),P.TgZ(2,"input",2,3),P.NdJ("keydown.enter",function(){P.CHM($e);const jt=P.MAs(3);return Ie.onSearch(jt.value)}),P.qZA(),P.qZA(),P._UZ(4,"ng2-smart-table",4),P._UZ(5,"br"),P._UZ(6,"br"),P._UZ(7,"br"),P.TgZ(8,"div",5),P.TgZ(9,"h5"),P._uU(10),P.qZA(),P.TgZ(11,"form",6),P.NdJ("ngSubmit",function(){return Ie.onSubmit()}),P.TgZ(12,"div",7),P.TgZ(13,"label",8),P._uU(14,"Branch Name"),P.qZA(),P._UZ(15,"input",9),P.YNc(16,me,2,1,"div",10),P.qZA(),P.TgZ(17,"div",7),P.TgZ(18,"label",11),P._uU(19,"Branch Address"),P.qZA(),P._UZ(20,"textarea",12),P.YNc(21,ge,2,1,"div",10),P.qZA(),P.TgZ(22,"div",7),P.TgZ(23,"label",13),P._uU(24,"Address Type"),P.qZA(),P.TgZ(25,"select",14),P.TgZ(26,"option",15),P._uU(27,"Registered"),P.qZA(),P.TgZ(28,"option",16),P._uU(29,"Corporate"),P.qZA(),P.TgZ(30,"option",17),P._uU(31,"Branch"),P.qZA(),P.qZA(),P.YNc(32,Se,2,1,"div",10),P.qZA(),P.TgZ(33,"div",7),P.TgZ(34,"label",18),P._uU(35,"Email"),P.qZA(),P._UZ(36,"input",19),P.YNc(37,Ee,3,2,"div",10),P.qZA(),P.TgZ(38,"div",7),P.TgZ(39,"label",20),P._uU(40,"Mobile Number"),P.qZA(),P._UZ(41,"input",21),P.YNc(42,yt,2,1,"div",10),P.qZA(),P.TgZ(43,"div",7),P.TgZ(44,"label",22),P._uU(45,"Whatsapp Number"),P.qZA(),P._UZ(46,"input",23),P.YNc(47,we,2,1,"div",10),P.qZA(),P.TgZ(48,"div",7),P.TgZ(49,"label",24),P._uU(50,"Google Maps Link"),P.qZA(),P._UZ(51,"input",25),P.YNc(52,At,2,1,"div",10),P.qZA(),P.TgZ(53,"button",26),P._uU(54,"Save & Update"),P.qZA(),P.qZA(),P.qZA(),P.qZA()}if(2&Ze){let $e,at,jt,Vt,Xt,Ot,tn;P.xp6(4),P.Q6J("settings",Ie.settings)("source",Ie.source),P.xp6(6),P.hij("",Ie.addEditLabel," Address"),P.xp6(1),P.Q6J("formGroup",Ie.addressForm),P.xp6(5),P.Q6J("ngIf",((null==($e=Ie.addressForm.get("branchName"))?null:$e.touched)||(null==($e=Ie.addressForm.get("branchName"))?null:$e.dirty))&&(null==($e=Ie.addressForm.get("branchName"))?null:$e.invalid)&&(null==($e=Ie.addressForm.get("branchName"))?null:$e.errors)),P.xp6(5),P.Q6J("ngIf",((null==(at=Ie.addressForm.get("branchAddress"))?null:at.touched)||(null==(at=Ie.addressForm.get("branchAddress"))?null:at.dirty))&&(null==(at=Ie.addressForm.get("branchAddress"))?null:at.invalid)&&(null==(at=Ie.addressForm.get("branchAddress"))?null:at.errors)),P.xp6(11),P.Q6J("ngIf",((null==(jt=Ie.addressForm.get("addressType"))?null:jt.touched)||(null==(jt=Ie.addressForm.get("addressType"))?null:jt.dirty))&&(null==(jt=Ie.addressForm.get("addressType"))?null:jt.invalid)&&(null==(jt=Ie.addressForm.get("addressType"))?null:jt.errors)),P.xp6(5),P.Q6J("ngIf",((null==(Vt=Ie.addressForm.get("email"))?null:Vt.touched)||(null==(Vt=Ie.addressForm.get("email"))?null:Vt.dirty))&&(null==(Vt=Ie.addressForm.get("email"))?null:Vt.invalid)&&(null==(Vt=Ie.addressForm.get("email"))?null:Vt.errors)),P.xp6(5),P.Q6J("ngIf",((null==(Xt=Ie.addressForm.get("mobile"))?null:Xt.touched)||(null==(Xt=Ie.addressForm.get("mobile"))?null:Xt.dirty))&&(null==(Xt=Ie.addressForm.get("mobile"))?null:Xt.invalid)&&(null==(Xt=Ie.addressForm.get("mobile"))?null:Xt.errors)),P.xp6(5),P.Q6J("ngIf",((null==(Ot=Ie.addressForm.get("whatsappNumber"))?null:Ot.touched)||(null==(Ot=Ie.addressForm.get("whatsappNumber"))?null:Ot.dirty))&&(null==(Ot=Ie.addressForm.get("whatsappNumber"))?null:Ot.invalid)&&(null==(Ot=Ie.addressForm.get("whatsappNumber"))?null:Ot.errors)),P.xp6(5),P.Q6J("ngIf",((null==(tn=Ie.addressForm.get("maps_link"))?null:tn.touched)||(null==(tn=Ie.addressForm.get("maps_link"))?null:tn.dirty))&&(null==(tn=Ie.addressForm.get("maps_link"))?null:tn.invalid)&&(null==(tn=Ie.addressForm.get("maps_link"))?null:tn.errors))}},directives:[oe.T5,Ve._Y,Ve.JL,Ve.sg,Ve.Fj,Ve.JJ,Ve.u,Le.O5,Ve.EJ,Ve.YN,Ve.Kr],styles:[".address_container[_ngcontent-%COMP%]{width:100%;padding:25px;box-sizing:border-box}.address_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:10px 0}.address_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:34px;padding:0 15px;outline:none;border:1px solid #d4d4d4;border-radius:5px;color:#000;font-size:13px}.form_container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#8a3265;margin-bottom:30px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:75%}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;grid-gap:5px;gap:5px;margin-bottom:15px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:normal}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;outline:none;border:1px solid #d4d5d9;border-radius:5px;padding:0 10px;font-size:14px;font-weight:400;color:#454545;box-sizing:border-box}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{box-shadow:0 0 3px 2px #853262b3}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:36px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:13px;color:#ef0000;font-weight:400}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ng2-smart-filters{display:none!important}  ng2-smart-table table{border:1px solid #e4e5e9}  ng2-smart-table thead{background:#8a3265}  .ng2-smart-title,   ng2-smart-table-title a{color:#fff!important;white-space:nowrap}  .ng2-smart-title:hover,   ng2-smart-table-title a:hover{text-decoration:none!important}  .ng2-smart-title:after,   ng2-smart-table-title a:after{border-bottom-color:#fff!important}  .ng2-smart-row{border-top:1px solid #e4e5e9}  table-cell-view-mode{text-align:center}  table-cell-view-mode .text div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  ng2-st-tbody-edit-delete{display:flex!important;justify-content:space-around!important}  ng2-st-tbody-edit-delete a{color:#8a3265!important}@media (max-width: 996px){.address_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:80%}}@media (max-width: 768px){.address_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:90%}}@media (max-width: 576px){.address_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}}"]}),Te})(),Jt=(()=>{class Te{constructor(){this.onEdit=new P.vpe,this.onDelete=new P.vpe}ngOnInit(){}edit(){this.onEdit.emit(this.rowData)}delete(){this.onDelete.emit(this.rowData)}}return Te.\u0275fac=function(Ze){return new(Ze||Te)},Te.\u0275cmp=P.Xpm({type:Te,selectors:[["app-products-action"]],inputs:{rowData:"rowData"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:5,vars:0,consts:[[1,"actions"],[3,"click"]],template:function(Ze,Ie){1&Ze&&(P.TgZ(0,"div",0),P.TgZ(1,"a",1),P.NdJ("click",function(){return Ie.edit()}),P._uU(2,"Edit"),P.qZA(),P.TgZ(3,"a",1),P.NdJ("click",function(){return Ie.delete()}),P._uU(4,"Delete"),P.qZA(),P.qZA())},styles:[".actions[_ngcontent-%COMP%]{display:flex;grid-gap:10px;gap:10px;justify-content:center}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8a3265;cursor:pointer}"]}),Te})();var Bt=X(3736);const _n=[{path:"",component:dt}];let it=(()=>{class Te{}return Te.\u0275fac=function(Ze){return new(Ze||Te)},Te.\u0275mod=P.oAB({type:Te}),Te.\u0275inj=P.cJS({imports:[[Bt.Bz.forChild(_n)],Bt.Bz]}),Te})(),st=(()=>{class Te{}return Te.\u0275fac=function(Ze){return new(Ze||Te)},Te.\u0275mod=P.oAB({type:Te}),Te.\u0275inj=P.cJS({imports:[[Le.ez,it,Ve.u5,Ve.UX,oe.ne,le.yb]]}),Te})()},3227:(Kt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{CookiesModule:()=>Se});var m=X(9010),P=X(2581),Ve=X(3736),oe=X(8239),le=X(9217),he=X(9619),Le=X(8438),Z=X(2467);const _e=[{path:"",component:(()=>{class ne{constructor(Ee,Ke){this.afs=Ee,this.spinner=Ke,this.Editor=le,this.data="",this.id=""}ngOnInit(){var Ee=this;return(0,oe.Z)(function*(){yield Ee.getCookies()})()}getCookies(){var Ee=this;return(0,oe.Z)(function*(){Ee.spinner.show();let Ke=yield Ee.afs.collection("cookies").get().toPromise();Ee.spinner.hide();let yt=Ke.docs[0].data();Ee.data=yt.data,Ee.id=Ke.docs[0].id})()}onSave(){var Ee=this;if(this.data){let Ke={data:this.data};this.id?(this.spinner.show(),this.afs.collection("cookies").doc(this.id).update(Ke).then(function(){var yt=(0,oe.Z)(function*(rt){yield Ee.getCookies(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide())):(this.spinner.show(),this.afs.collection("cookies").add(Ke).then(function(){var yt=(0,oe.Z)(function*(rt){yield Ee.getCookies(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide()))}}}return ne.\u0275fac=function(Ee){return new(Ee||ne)(he.Y36(P.ST),he.Y36(Le.t2))},ne.\u0275cmp=he.Xpm({type:ne,selectors:[["app-cookies"]],decls:5,vars:2,consts:[[1,"cookies_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Ee,Ke){1&Ee&&(he.TgZ(0,"div",0),he.TgZ(1,"ckeditor",1),he.NdJ("ngModelChange",function(rt){return Ke.data=rt}),he.qZA(),he.TgZ(2,"div",2),he.TgZ(3,"button",3),he.NdJ("click",function(){return Ke.onSave()}),he._uU(4,"Save"),he.qZA(),he.qZA(),he.qZA()),2&Ee&&(he.xp6(1),he.Q6J("editor",Ke.Editor)("ngModel",Ke.data))},directives:[Z.u,m.JJ,m.On],styles:[".cookies_container[_ngcontent-%COMP%]{padding:25px}.cookies_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.cookies_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),ne})()}];let ge=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=he.oAB({type:ne}),ne.\u0275inj=he.cJS({imports:[[Ve.Bz.forChild(_e)],Ve.Bz]}),ne})();var be=X(6019);let Se=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=he.oAB({type:ne}),ne.\u0275inj=he.cJS({imports:[[be.ez,ge,Z.d,P.yb,m.u5]]}),ne})()},926:(Kt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{CustomerGrievenceModule:()=>Se});var m=X(9010),P=X(2581),Ve=X(8239),oe=X(9217),le=X(9619),he=X(8438),Le=X(2467);let Z=(()=>{class ne{constructor(Ee,Ke){this.afs=Ee,this.spinner=Ke,this.Editor=oe,this.data="",this.id=""}ngOnInit(){var Ee=this;return(0,Ve.Z)(function*(){yield Ee.getCustomerGrievence()})()}getCustomerGrievence(){var Ee=this;return(0,Ve.Z)(function*(){Ee.spinner.show();let Ke=yield Ee.afs.collection("customerGrievence").get().toPromise();Ee.spinner.hide();let yt=Ke.docs[0].data();Ee.data=yt.data,Ee.id=Ke.docs[0].id})()}onSave(){var Ee=this;if(this.data){let Ke={data:this.data};this.id?(this.spinner.show(),this.afs.collection("customerGrievence").doc(this.id).update(Ke).then(function(){var yt=(0,Ve.Z)(function*(rt){yield Ee.getCustomerGrievence(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide())):(this.spinner.show(),this.afs.collection("customerGrievence").add(Ke).then(function(){var yt=(0,Ve.Z)(function*(rt){yield Ee.getCustomerGrievence(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide()))}}}return ne.\u0275fac=function(Ee){return new(Ee||ne)(le.Y36(P.ST),le.Y36(he.t2))},ne.\u0275cmp=le.Xpm({type:ne,selectors:[["app-customer-grievence"]],decls:5,vars:2,consts:[[1,"customer_grievence_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Ee,Ke){1&Ee&&(le.TgZ(0,"div",0),le.TgZ(1,"ckeditor",1),le.NdJ("ngModelChange",function(rt){return Ke.data=rt}),le.qZA(),le.TgZ(2,"div",2),le.TgZ(3,"button",3),le.NdJ("click",function(){return Ke.onSave()}),le._uU(4,"Save"),le.qZA(),le.qZA(),le.qZA()),2&Ee&&(le.xp6(1),le.Q6J("editor",Ke.Editor)("ngModel",Ke.data))},directives:[Le.u,m.JJ,m.On],styles:[".customer_grievence_container[_ngcontent-%COMP%]{padding:25px}.customer_grievence_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.customer_grievence_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),ne})();var me=X(3736);const _e=[{path:"",component:Z}];let ge=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=le.oAB({type:ne}),ne.\u0275inj=le.cJS({imports:[[me.Bz.forChild(_e)],me.Bz]}),ne})();var be=X(6019);let Se=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=le.oAB({type:ne}),ne.\u0275inj=le.cJS({imports:[[be.ez,ge,Le.d,P.yb,m.u5]]}),ne})()},8378:(Kt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{DisclaimerModule:()=>Se});var m=X(9010),P=X(2581),Ve=X(8239),oe=X(9217),le=X(9619),he=X(8438),Le=X(2467);let Z=(()=>{class ne{constructor(Ee,Ke){this.afs=Ee,this.spinner=Ke,this.Editor=oe,this.data="",this.id=""}ngOnInit(){var Ee=this;return(0,Ve.Z)(function*(){yield Ee.getDisclaimer()})()}getDisclaimer(){var Ee=this;return(0,Ve.Z)(function*(){Ee.spinner.show();let Ke=yield Ee.afs.collection("disclaimer").get().toPromise();Ee.spinner.hide();let yt=Ke.docs[0].data();Ee.data=yt.data,Ee.id=Ke.docs[0].id})()}onSave(){var Ee=this;if(this.data){let Ke={data:this.data};this.id?(this.spinner.show(),this.afs.collection("disclaimer").doc(this.id).update(Ke).then(function(){var yt=(0,Ve.Z)(function*(rt){yield Ee.getDisclaimer(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide())):(this.spinner.show(),this.afs.collection("disclaimer").add(Ke).then(function(){var yt=(0,Ve.Z)(function*(rt){yield Ee.getDisclaimer(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide()))}}}return ne.\u0275fac=function(Ee){return new(Ee||ne)(le.Y36(P.ST),le.Y36(he.t2))},ne.\u0275cmp=le.Xpm({type:ne,selectors:[["app-disclaimer"]],decls:5,vars:2,consts:[[1,"disclaimer_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Ee,Ke){1&Ee&&(le.TgZ(0,"div",0),le.TgZ(1,"ckeditor",1),le.NdJ("ngModelChange",function(rt){return Ke.data=rt}),le.qZA(),le.TgZ(2,"div",2),le.TgZ(3,"button",3),le.NdJ("click",function(){return Ke.onSave()}),le._uU(4,"Save"),le.qZA(),le.qZA(),le.qZA()),2&Ee&&(le.xp6(1),le.Q6J("editor",Ke.Editor)("ngModel",Ke.data))},directives:[Le.u,m.JJ,m.On],styles:[".disclaimer_container[_ngcontent-%COMP%]{padding:25px}.disclaimer_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.disclaimer_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),ne})();var me=X(3736);const _e=[{path:"",component:Z}];let ge=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=le.oAB({type:ne}),ne.\u0275inj=le.cJS({imports:[[me.Bz.forChild(_e)],me.Bz]}),ne})();var be=X(6019);let Se=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=le.oAB({type:ne}),ne.\u0275inj=le.cJS({imports:[[be.ez,ge,Le.d,P.yb,m.u5]]}),ne})()},2486:(Kt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{DisclosureModule:()=>Se});var m=X(9010),P=X(2581),Ve=X(8239),oe=X(9217),le=X(9619),he=X(8438),Le=X(2467);let Z=(()=>{class ne{constructor(Ee,Ke){this.afs=Ee,this.spinner=Ke,this.Editor=oe,this.data="",this.id=""}ngOnInit(){var Ee=this;return(0,Ve.Z)(function*(){yield Ee.getDisclosure()})()}getDisclosure(){var Ee=this;return(0,Ve.Z)(function*(){Ee.spinner.show();let Ke=yield Ee.afs.collection("disclosure").get().toPromise();Ee.spinner.hide();let yt=Ke.docs[0].data();Ee.data=yt.data,Ee.id=Ke.docs[0].id})()}onSave(){var Ee=this;if(this.data){let Ke={data:this.data};this.id?(this.spinner.show(),this.afs.collection("disclosure").doc(this.id).update(Ke).then(function(){var yt=(0,Ve.Z)(function*(rt){yield Ee.getDisclosure(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide())):(this.spinner.show(),this.afs.collection("disclosure").add(Ke).then(function(){var yt=(0,Ve.Z)(function*(rt){yield Ee.getDisclosure(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide()))}}}return ne.\u0275fac=function(Ee){return new(Ee||ne)(le.Y36(P.ST),le.Y36(he.t2))},ne.\u0275cmp=le.Xpm({type:ne,selectors:[["app-disclosure"]],decls:5,vars:2,consts:[[1,"disclosure_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Ee,Ke){1&Ee&&(le.TgZ(0,"div",0),le.TgZ(1,"ckeditor",1),le.NdJ("ngModelChange",function(rt){return Ke.data=rt}),le.qZA(),le.TgZ(2,"div",2),le.TgZ(3,"button",3),le.NdJ("click",function(){return Ke.onSave()}),le._uU(4,"Save"),le.qZA(),le.qZA(),le.qZA()),2&Ee&&(le.xp6(1),le.Q6J("editor",Ke.Editor)("ngModel",Ke.data))},directives:[Le.u,m.JJ,m.On],styles:[".disclosure_container[_ngcontent-%COMP%]{padding:25px}.disclosure_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.disclosure_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),ne})();var me=X(3736);const _e=[{path:"",component:Z}];let ge=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=le.oAB({type:ne}),ne.\u0275inj=le.cJS({imports:[[me.Bz.forChild(_e)],me.Bz]}),ne})();var be=X(6019);let Se=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=le.oAB({type:ne}),ne.\u0275inj=le.cJS({imports:[[be.ez,ge,Le.d,P.yb,m.u5]]}),ne})()},2998:(Kt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{PrivacyModule:()=>Se});var m=X(9010),P=X(2581),Ve=X(8239),oe=X(9217),le=X(9619),he=X(8438),Le=X(2467);let Z=(()=>{class ne{constructor(Ee,Ke){this.afs=Ee,this.spinner=Ke,this.Editor=oe,this.data="",this.id=""}ngOnInit(){var Ee=this;return(0,Ve.Z)(function*(){yield Ee.getPrivacy()})()}getPrivacy(){var Ee=this;return(0,Ve.Z)(function*(){Ee.spinner.show();let Ke=yield Ee.afs.collection("privacy").get().toPromise();Ee.spinner.hide();let yt=Ke.docs[0].data();Ee.data=yt.data,Ee.id=Ke.docs[0].id})()}onSave(){var Ee=this;if(this.data){let Ke={data:this.data};this.id?(this.spinner.show(),this.afs.collection("privacy").doc(this.id).update(Ke).then(function(){var yt=(0,Ve.Z)(function*(rt){yield Ee.getPrivacy(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide())):(this.spinner.show(),this.afs.collection("privacy").add(Ke).then(function(){var yt=(0,Ve.Z)(function*(rt){yield Ee.getPrivacy(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide()))}}}return ne.\u0275fac=function(Ee){return new(Ee||ne)(le.Y36(P.ST),le.Y36(he.t2))},ne.\u0275cmp=le.Xpm({type:ne,selectors:[["app-privacy"]],decls:5,vars:2,consts:[[1,"privacy_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Ee,Ke){1&Ee&&(le.TgZ(0,"div",0),le.TgZ(1,"ckeditor",1),le.NdJ("ngModelChange",function(rt){return Ke.data=rt}),le.qZA(),le.TgZ(2,"div",2),le.TgZ(3,"button",3),le.NdJ("click",function(){return Ke.onSave()}),le._uU(4,"Save"),le.qZA(),le.qZA(),le.qZA()),2&Ee&&(le.xp6(1),le.Q6J("editor",Ke.Editor)("ngModel",Ke.data))},directives:[Le.u,m.JJ,m.On],styles:[".privacy_container[_ngcontent-%COMP%]{padding:25px}.privacy_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.privacy_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),ne})();var me=X(3736);const _e=[{path:"",component:Z}];let ge=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=le.oAB({type:ne}),ne.\u0275inj=le.cJS({imports:[[me.Bz.forChild(_e)],me.Bz]}),ne})();var be=X(6019);let Se=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=le.oAB({type:ne}),ne.\u0275inj=le.cJS({imports:[[be.ez,ge,Le.d,P.yb,m.u5]]}),ne})()},7944:(Kt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{ProductsModule:()=>_n});var m=X(2581),P=X(3736),Ve=X(8239),oe=X(9010),le=X(9619),he=X(9365),Le=X(9629),Z=X(8438),me=X(6019);function _e(it,st){1&it&&(le.TgZ(0,"span"),le._uU(1,"Name is required"),le.qZA())}function ge(it,st){if(1&it&&(le.TgZ(0,"div",21),le.YNc(1,_e,2,0,"span",22),le.qZA()),2&it){const Te=le.oxw();let Fe;le.xp6(1),le.Q6J("ngIf",null==(Fe=Te.productForm.get("name"))||null==Fe.errors?null:Fe.errors.required)}}function be(it,st){1&it&&(le.TgZ(0,"span"),le._uU(1,"Description is required"),le.qZA())}function Se(it,st){if(1&it&&(le.TgZ(0,"div",21),le.YNc(1,be,2,0,"span",22),le.qZA()),2&it){const Te=le.oxw();let Fe;le.xp6(1),le.Q6J("ngIf",null==(Fe=Te.productForm.get("description"))||null==Fe.errors?null:Fe.errors.required)}}function ne(it,st){1&it&&(le.TgZ(0,"span"),le._uU(1,"Icon is required"),le.qZA())}function gt(it,st){if(1&it&&(le.TgZ(0,"div",21),le.YNc(1,ne,2,0,"span",22),le.qZA()),2&it){const Te=le.oxw();let Fe;le.xp6(1),le.Q6J("ngIf",null==(Fe=Te.productForm.get("icon"))||null==Fe.errors?null:Fe.errors.required)}}function Ee(it,st){if(1&it){const Te=le.EpF();le.TgZ(0,"div",23),le.TgZ(1,"div",24),le._uU(2,"Sector Icon"),le.qZA(),le.TgZ(3,"div",25),le.TgZ(4,"i",26),le.NdJ("click",function(){return le.CHM(Te),le.oxw().previewImage()}),le.qZA(),le.TgZ(5,"i",27),le.NdJ("click",function(){le.CHM(Te);const Ze=le.oxw();return le.MAs(26).value="",Ze.removeImage()}),le.qZA(),le.qZA(),le.qZA()}}function Ke(it,st){if(1&it&&(le.TgZ(0,"option",28),le._uU(1),le.qZA()),2&it){const Te=st.$implicit;le.Q6J("value",Te.id),le.xp6(1),le.Oqu(Te.name)}}function yt(it,st){1&it&&(le.TgZ(0,"span"),le._uU(1,"Sector is required"),le.qZA())}function rt(it,st){if(1&it&&(le.TgZ(0,"div",21),le.YNc(1,yt,2,0,"span",22),le.qZA()),2&it){const Te=le.oxw();let Fe;le.xp6(1),le.Q6J("ngIf",null==(Fe=Te.productForm.get("sector"))||null==Fe.errors?null:Fe.errors.required)}}const we=".actions[_ngcontent-%COMP%]{display:flex;grid-gap:10px;gap:10px;justify-content:center}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8a3265;cursor:pointer}";let Ne=(()=>{class it{constructor(Te,Fe,Ze,Ie){this.fb=Te,this.afs=Fe,this.storage=Ze,this.spinner=Ie,this.settings={columns:{s_no:{title:"S No.",filter:!1},name:{title:"Product Name",filter:!1},description:{title:"Description",filter:!1},icon:{title:"Icon",filter:!1,type:"custom",renderComponent:dt},sector:{title:"Sector",filter:!1},actions:{title:"Actions",filter:!1,type:"custom",renderComponent:At,onComponentInitFunction:$e=>{$e.onEdit.subscribe(at=>{console.log("Edit",at),this.addEditLabel="Edit",this.editId=at.id,this.productForm.patchValue({name:at.name,description:at.description,sector:at.sector_id}),this.productIcon=at.icon,this.productIcon.name&&this.productForm.controls.icon.disable()}),$e.onDelete.subscribe(at=>console.log("Delete",at))}}},pager:{display:!0,perPage:10},actions:{add:!1,edit:!1,delete:!1,position:"right"}},this.addEditLabel="Add New",this.editId="",this.sectors=[],this.productIcon={},this.productForm=this.fb.group({name:new oe.NI("",[oe.kI.required]),description:new oe.NI("",[oe.kI.required]),icon:new oe.NI("",[oe.kI.required]),sector:new oe.NI("",[oe.kI.required])})}ngOnInit(){var Te=this;return(0,Ve.Z)(function*(){yield Te.getSectors(),yield Te.getProducts()})()}getSectors(){var Te=this;return(0,Ve.Z)(function*(){Te.spinner.show();let Fe=yield Te.afs.collection("sectors").get().toPromise();Te.spinner.hide();let Ze=[];for(let Ie in Fe.docs){let $e=Fe.docs[Ie].data();Ze.push({id:Fe.docs[Ie].id,name:$e.name})}Te.sectors=Ze})()}getProducts(){var Te=this;return(0,Ve.Z)(function*(){Te.spinner.show();let Fe=yield Te.afs.collection("products").get().toPromise();Te.spinner.hide();let Ze=[];for(let Ie in Fe.docs){let $e=Fe.docs[Ie].data();$e.icon=$e.icon&&"{"==$e.icon.charAt(0)?JSON.parse($e.icon):{};let at=yield Te.afs.doc($e.sector).get().toPromise(),jt=at.data(),Vt=at.id;console.log(jt.name),Ze.push(Object.assign(Object.assign({s_no:+Ie+1,id:Fe.docs[Ie].id},$e),{sector:jt.name,sector_id:Vt}))}Te.source=new he.nC(Ze)})()}delete(Te){var Fe=this;return(0,Ve.Z)(function*(){Fe.spinner.show(),Fe.afs.collection("products").doc(Te).delete().then(function(){var Ze=(0,Ve.Z)(function*(Ie){yield Fe.getProducts(),Fe.spinner.hide()});return function(Ie){return Ze.apply(this,arguments)}}())})()}onSearch(Te=""){this.source.setFilter([{field:"name",search:Te},{field:"description",search:Te},{field:"sector",search:Te}],!1)}removeImage(){this.productIcon={},this.productForm.controls.icon.enable()}previewImage(){let Te=document.createElement("a");Te.href=this.productIcon.fileUrl,Te.target="_blank",document.body.appendChild(Te),Te.click(),document.body.removeChild(Te)}uploadImg(Te){var Fe=this;let Ze=Te.target.files[0],Ie=Ze.name.split(".")[1];console.log(Ze);let $e=this.storage.ref(`products/${this.productForm.controls.name.value?this.productForm.controls.name.value.replace(" ","")+Ie:Ze.name}`);this.spinner.show(),$e.put(Ze).then(function(){var at=(0,Ve.Z)(function*(jt){Fe.spinner.hide();const Vt=yield $e.getDownloadURL().toPromise();Fe.productIcon={name:Ze.name,fileUrl:Vt},Fe.productIcon.name&&Fe.productForm.controls.icon.disable()});return function(jt){return at.apply(this,arguments)}}()).catch(at=>this.spinner.hide())}onSubmit(){var Te=this;for(let Fe in this.productForm.controls)this.productForm.controls[Fe].markAsTouched(),this.productForm.controls[Fe].updateValueAndValidity();if(this.productForm.valid){let Fe={name:this.productForm.controls.name.value,description:this.productForm.controls.description.value,icon:JSON.stringify(this.productIcon),sector:this.afs.doc(`sectors/${this.productForm.controls.sector.value}`).ref,sectorId:this.productForm.controls.sector.value};console.log(Fe),this.editId?(this.spinner.show(),this.afs.collection("products").doc(this.editId).update(Fe).then(function(){var Ze=(0,Ve.Z)(function*(Ie){Te.spinner.hide(),Te.productForm.reset(),Te.editId="",Te.addEditLabel="Add New",Te.productIcon={},Te.productForm.controls.icon.enable(),yield Te.getProducts()});return function(Ie){return Ze.apply(this,arguments)}}()).catch(Ze=>this.spinner.hide())):(this.spinner.hide(),this.afs.collection("products").add(Fe).then(function(){var Ze=(0,Ve.Z)(function*(Ie){Te.productForm.reset(),Te.productIcon={},Te.productForm.controls.icon.enable(),yield Te.getProducts(),Te.spinner.hide()});return function(Ie){return Ze.apply(this,arguments)}}()).catch(Ze=>this.spinner.hide()))}}}return it.\u0275fac=function(Te){return new(Te||it)(le.Y36(oe.qu),le.Y36(m.ST),le.Y36(Le.Q1),le.Y36(Z.t2))},it.\u0275cmp=le.Xpm({type:it,selectors:[["app-products"]],decls:37,vars:10,consts:[[1,"products_container"],[1,"search_container"],["type","text","placeholder","Search...",3,"keydown.enter"],["search",""],[3,"settings","source"],[1,"form_container"],[3,"formGroup","ngSubmit"],[1,"form_control"],["for","product_name"],["type","text","id","product_name","formControlName","name"],["class","error",4,"ngIf"],["for","prod_desc"],["type","text","id","prod_desc","rows","10","formControlName","description"],["for","icon"],["type","file","id","icon","formControlName","icon",3,"change"],["sectorIcon",""],["class","selected_img_preview",4,"ngIf"],["for","sector"],["id","sector","placeholder","Select Sector","formControlName","sector"],["class","option",3,"value",4,"ngFor","ngForOf"],["type","submit"],[1,"error"],[4,"ngIf"],[1,"selected_img_preview"],[1,"name"],[1,"icons"],[1,"fas","fa-eye",3,"click"],[1,"fas","fa-times",3,"click"],[1,"option",3,"value"]],template:function(Te,Fe){if(1&Te){const Ze=le.EpF();le.TgZ(0,"div",0),le.TgZ(1,"div",1),le.TgZ(2,"input",2,3),le.NdJ("keydown.enter",function(){le.CHM(Ze);const $e=le.MAs(3);return Fe.onSearch($e.value)}),le.qZA(),le.qZA(),le._UZ(4,"ng2-smart-table",4),le._UZ(5,"br"),le._UZ(6,"br"),le._UZ(7,"br"),le.TgZ(8,"div",5),le.TgZ(9,"h5"),le._uU(10),le.qZA(),le.TgZ(11,"form",6),le.NdJ("ngSubmit",function(){return Fe.onSubmit()}),le.TgZ(12,"div",7),le.TgZ(13,"label",8),le._uU(14,"Product Name"),le.qZA(),le._UZ(15,"input",9),le.YNc(16,ge,2,1,"div",10),le.qZA(),le.TgZ(17,"div",7),le.TgZ(18,"label",11),le._uU(19,"Product Description"),le.qZA(),le._UZ(20,"textarea",12),le.YNc(21,Se,2,1,"div",10),le.qZA(),le.TgZ(22,"div",7),le.TgZ(23,"label",13),le._uU(24,"Sector Icon"),le.qZA(),le.TgZ(25,"input",14,15),le.NdJ("change",function($e){return Fe.uploadImg($e)}),le.qZA(),le.YNc(27,gt,2,1,"div",10),le.YNc(28,Ee,6,0,"div",16),le.qZA(),le.TgZ(29,"div",7),le.TgZ(30,"label",17),le._uU(31,"Sector"),le.qZA(),le.TgZ(32,"select",18),le.YNc(33,Ke,2,2,"option",19),le.qZA(),le.YNc(34,rt,2,1,"div",10),le.qZA(),le.TgZ(35,"button",20),le._uU(36,"Save & Update"),le.qZA(),le.qZA(),le.qZA(),le.qZA()}if(2&Te){let Ze,Ie,$e,at;le.xp6(4),le.Q6J("settings",Fe.settings)("source",Fe.source),le.xp6(6),le.hij("",Fe.addEditLabel," Product"),le.xp6(1),le.Q6J("formGroup",Fe.productForm),le.xp6(5),le.Q6J("ngIf",((null==(Ze=Fe.productForm.get("name"))?null:Ze.touched)||(null==(Ze=Fe.productForm.get("name"))?null:Ze.dirty))&&(null==(Ze=Fe.productForm.get("name"))?null:Ze.invalid)&&(null==(Ze=Fe.productForm.get("name"))?null:Ze.errors)),le.xp6(5),le.Q6J("ngIf",((null==(Ie=Fe.productForm.get("description"))?null:Ie.touched)||(null==(Ie=Fe.productForm.get("description"))?null:Ie.dirty))&&(null==(Ie=Fe.productForm.get("description"))?null:Ie.invalid)&&(null==(Ie=Fe.productForm.get("description"))?null:Ie.errors)),le.xp6(6),le.Q6J("ngIf",((null==($e=Fe.productForm.get("icon"))?null:$e.touched)||(null==($e=Fe.productForm.get("icon"))?null:$e.dirty))&&(null==($e=Fe.productForm.get("icon"))?null:$e.invalid)&&(null==($e=Fe.productForm.get("icon"))?null:$e.errors)),le.xp6(1),le.Q6J("ngIf",Fe.productIcon&&Fe.productIcon.name),le.xp6(5),le.Q6J("ngForOf",Fe.sectors),le.xp6(1),le.Q6J("ngIf",((null==(at=Fe.productForm.get("sector"))?null:at.touched)||(null==(at=Fe.productForm.get("sector"))?null:at.dirty))&&(null==(at=Fe.productForm.get("sector"))?null:at.invalid)&&(null==(at=Fe.productForm.get("sector"))?null:at.errors))}},directives:[he.T5,oe._Y,oe.JL,oe.sg,oe.Fj,oe.JJ,oe.u,me.O5,oe.EJ,me.sg,oe.YN,oe.Kr],styles:[".products_container[_ngcontent-%COMP%]{padding:25px}.products_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:10px 0}.products_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:34px;padding:0 15px;outline:none;border:1px solid #d4d4d4;border-radius:5px;color:#000;font-size:13px}.form_container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#8a3265;margin-bottom:30px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:75%}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;grid-gap:5px;gap:5px;margin-bottom:15px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:normal}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;outline:none;border:1px solid #d4d5d9;border-radius:5px;padding:0 10px;font-size:14px;font-weight:400;color:#454545;box-sizing:border-box}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{box-shadow:0 0 3px 2px #853262b3}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:36px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:13px;color:#ef0000;font-weight:400}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]{padding:15px 20px;border:1px solid #e4e5e9;border-radius:10px;box-shadow:1px 1px 6px #0003;display:flex;justify-content:space-between}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;grid-gap:25px;gap:25px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .fa-eye[_ngcontent-%COMP%]{color:#8a3265}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#ec2525}  .ng2-smart-filters{display:none!important}  ng2-smart-table table{border:1px solid #e4e5e9}  ng2-smart-table thead{background:#8a3265}  .ng2-smart-title,   ng2-smart-table-title a{color:#fff!important}  .ng2-smart-title:hover,   ng2-smart-table-title a:hover{text-decoration:none!important}  .ng2-smart-title:after,   ng2-smart-table-title a:after{border-bottom-color:#fff!important}  .ng2-smart-row{border-top:1px solid #e4e5e9}  table-cell-view-mode{text-align:center}  table-cell-view-mode .text div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  ng2-st-tbody-edit-delete{display:flex!important;justify-content:space-around!important}  ng2-st-tbody-edit-delete a{color:#8a3265!important}"]}),it})(),At=(()=>{class it{constructor(){this.onEdit=new le.vpe,this.onDelete=new le.vpe}ngOnInit(){}edit(){this.onEdit.emit(this.rowData)}delete(){this.onDelete.emit(this.rowData)}}return it.\u0275fac=function(Te){return new(Te||it)},it.\u0275cmp=le.Xpm({type:it,selectors:[["app-products-action"]],inputs:{rowData:"rowData"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:5,vars:0,consts:[[1,"actions"],[3,"click"]],template:function(Te,Fe){1&Te&&(le.TgZ(0,"div",0),le.TgZ(1,"a",1),le.NdJ("click",function(){return Fe.edit()}),le._uU(2,"Edit"),le.qZA(),le.TgZ(3,"a",1),le.NdJ("click",function(){return Fe.delete()}),le._uU(4,"Delete"),le.qZA(),le.qZA())},styles:[we]}),it})(),dt=(()=>{class it{constructor(){this.value=""}ngOnInit(){console.log("value from custom: ",this.value)}}return it.\u0275fac=function(Te){return new(Te||it)},it.\u0275cmp=le.Xpm({type:it,selectors:[["app-product-image"]],inputs:{value:"value",rowData:"rowData"},decls:3,vars:2,consts:[[1,"actions"],["target","_blank",3,"href"]],template:function(Te,Fe){1&Te&&(le.TgZ(0,"div",0),le.TgZ(1,"a",1),le._uU(2),le.qZA(),le.qZA()),2&Te&&(le.xp6(1),le.Q6J("href",Fe.value.fileUrl,le.LSH),le.xp6(1),le.Oqu(Fe.value.name))},styles:[we]}),it})();const Jt=[{path:"",component:Ne}];let Bt=(()=>{class it{}return it.\u0275fac=function(Te){return new(Te||it)},it.\u0275mod=le.oAB({type:it}),it.\u0275inj=le.cJS({imports:[[P.Bz.forChild(Jt)],P.Bz]}),it})(),_n=(()=>{class it{}return it.\u0275fac=function(Te){return new(Te||it)},it.\u0275mod=le.oAB({type:it}),it.\u0275inj=le.cJS({imports:[[me.ez,Bt,he.ne,oe.u5,oe.UX,m.yb,Le.TE]]}),it})()},1390:(Kt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{SectorsModule:()=>Te});var m=X(2581),P=X(9629),Ve=X(8239),oe=X(9619),le=X(9010),he=X(9365),Le=X(8438),Z=X(6019);function me(Fe,Ze){1&Fe&&(oe.TgZ(0,"span"),oe._uU(1,"Name is required"),oe.qZA())}function _e(Fe,Ze){if(1&Fe&&(oe.TgZ(0,"div",24),oe.YNc(1,me,2,0,"span",25),oe.qZA()),2&Fe){const Ie=oe.oxw();let $e;oe.xp6(1),oe.Q6J("ngIf",null==($e=Ie.sectorForm.get("name"))||null==$e.errors?null:$e.errors.required)}}function ge(Fe,Ze){1&Fe&&(oe.TgZ(0,"span"),oe._uU(1,"Description is required"),oe.qZA())}function be(Fe,Ze){if(1&Fe&&(oe.TgZ(0,"div",24),oe.YNc(1,ge,2,0,"span",25),oe.qZA()),2&Fe){const Ie=oe.oxw();let $e;oe.xp6(1),oe.Q6J("ngIf",null==($e=Ie.sectorForm.get("description"))||null==$e.errors?null:$e.errors.required)}}function Se(Fe,Ze){1&Fe&&(oe.TgZ(0,"span"),oe._uU(1,"Name is required"),oe.qZA())}function ne(Fe,Ze){if(1&Fe&&(oe.TgZ(0,"div",24),oe.YNc(1,Se,2,0,"span",25),oe.qZA()),2&Fe){const Ie=oe.oxw();let $e;oe.xp6(1),oe.Q6J("ngIf",null==($e=Ie.sectorForm.get("image"))||null==$e.errors?null:$e.errors.required)}}function gt(Fe,Ze){if(1&Fe){const Ie=oe.EpF();oe.TgZ(0,"div",26),oe.TgZ(1,"div",27),oe._uU(2,"Sector Image"),oe.qZA(),oe.TgZ(3,"div",28),oe.TgZ(4,"i",29),oe.NdJ("click",function(){return oe.CHM(Ie),oe.oxw().previewImage("selectedImage")}),oe.qZA(),oe.TgZ(5,"i",30),oe.NdJ("click",function(){oe.CHM(Ie);const at=oe.oxw();return oe.MAs(26).value="",at.removeImage("selectedImage")}),oe.qZA(),oe.qZA(),oe.qZA()}}function Ee(Fe,Ze){1&Fe&&(oe.TgZ(0,"span"),oe._uU(1,"Name is required"),oe.qZA())}function Ke(Fe,Ze){if(1&Fe&&(oe.TgZ(0,"div",24),oe.YNc(1,Ee,2,0,"span",25),oe.qZA()),2&Fe){const Ie=oe.oxw();let $e;oe.xp6(1),oe.Q6J("ngIf",null==($e=Ie.sectorForm.get("icon"))||null==$e.errors?null:$e.errors.required)}}function yt(Fe,Ze){if(1&Fe){const Ie=oe.EpF();oe.TgZ(0,"div",26),oe.TgZ(1,"div",27),oe._uU(2,"Sector Icon"),oe.qZA(),oe.TgZ(3,"div",28),oe.TgZ(4,"i",29),oe.NdJ("click",function(){return oe.CHM(Ie),oe.oxw().previewImage("selectedIcon")}),oe.qZA(),oe.TgZ(5,"i",30),oe.NdJ("click",function(){oe.CHM(Ie);const at=oe.oxw();return oe.MAs(33).value="",at.removeImage("selectedIcon")}),oe.qZA(),oe.qZA(),oe.qZA()}}function rt(Fe,Ze){1&Fe&&(oe.TgZ(0,"span"),oe._uU(1,"Name is required"),oe.qZA())}function we(Fe,Ze){if(1&Fe&&(oe.TgZ(0,"div",24),oe.YNc(1,rt,2,0,"span",25),oe.qZA()),2&Fe){const Ie=oe.oxw();let $e;oe.xp6(1),oe.Q6J("ngIf",null==($e=Ie.sectorForm.get("bannerImage"))||null==$e.errors?null:$e.errors.required)}}function Ne(Fe,Ze){if(1&Fe){const Ie=oe.EpF();oe.TgZ(0,"div",26),oe.TgZ(1,"div",27),oe._uU(2,"Sector Banner Image"),oe.qZA(),oe.TgZ(3,"div",28),oe.TgZ(4,"i",29),oe.NdJ("click",function(){return oe.CHM(Ie),oe.oxw().previewImage("selectedBannerImage")}),oe.qZA(),oe.TgZ(5,"i",30),oe.NdJ("click",function(){oe.CHM(Ie);const at=oe.oxw();return oe.MAs(40).value="",at.removeImage("selectedBannerImage")}),oe.qZA(),oe.qZA(),oe.qZA()}}const At=".actions[_ngcontent-%COMP%]{display:flex;grid-gap:10px;gap:10px;justify-content:center}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8a3265;cursor:pointer}";let dt=(()=>{class Fe{constructor(Ie,$e,at,jt){var Vt=this;this.fb=Ie,this.afs=$e,this.storage=at,this.spinner=jt,this.settings={columns:{s_no:{title:"S No.",filter:!1},name:{title:"Sector Name",filter:!1},description:{title:"Sector Description",filter:!1},image:{title:"Image",filter:!1,type:"custom",renderComponent:Bt},icon:{title:"Icon",filter:!1,type:"custom",renderComponent:Bt},bannerImage:{title:"Banner Image",filter:!1,type:"custom",renderComponent:Bt},actions:{title:"Actions",filter:!1,type:"custom",renderComponent:Jt,onComponentInitFunction:Xt=>{Xt.onEdit.subscribe(Ot=>{console.log("Edit",Ot),this.addEditLabel="Edit",this.editId=Ot.id,this.sectorForm.patchValue({name:Ot.name,description:Ot.description}),this.selectedImage=Ot.image,this.selectedIcon=Ot.icon,this.selectedBannerImage=Ot.bannerImage,this.sectorForm.controls.image.disable(),this.sectorForm.controls.icon.disable(),this.sectorForm.controls.bannerImage.disable()}),Xt.onDelete.subscribe(function(){var Ot=(0,Ve.Z)(function*(tn){return yield Vt.delete(tn.id)});return function(tn){return Ot.apply(this,arguments)}}())}}},pager:{display:!0,perPage:10},actions:{add:!1,edit:!1,delete:!1,position:"right"}},this.source=new he.nC([]),this.addEditLabel="Add New",this.editId="",this.selectedImage={},this.selectedIcon={},this.selectedBannerImage={},this.sectorForm=this.fb.group({name:new le.NI("",[le.kI.required]),description:new le.NI("",[le.kI.required]),image:new le.NI("",[le.kI.required]),icon:new le.NI("",[le.kI.required]),bannerImage:new le.NI("",[le.kI.required])})}ngOnInit(){var Ie=this;return(0,Ve.Z)(function*(){yield Ie.getSectors()})()}getSectors(){var Ie=this;return(0,Ve.Z)(function*(){Ie.spinner.show();let $e=yield Ie.afs.collection("sectors").get().toPromise();Ie.spinner.hide();let at=[];for(let jt in $e.docs){let Vt=$e.docs[jt].data();Vt.image=Vt.image&&"{"==Vt.image.charAt(0)?JSON.parse(Vt.image):{},Vt.icon=Vt.icon&&"{"==Vt.icon.charAt(0)?JSON.parse(Vt.icon):{},Vt.bannerImage=Vt.bannerImage&&"{"==Vt.bannerImage.charAt(0)?JSON.parse(Vt.bannerImage):{},at.push(Object.assign({s_no:+jt+1,id:$e.docs[jt].id},Vt))}Ie.source=new he.nC(at)})()}delete(Ie){var $e=this;this.spinner.show(),this.afs.collection("sectors").doc(Ie).delete().then(function(){var at=(0,Ve.Z)(function*(jt){yield $e.getSectors(),$e.spinner.hide()});return function(jt){return at.apply(this,arguments)}}()).catch(at=>this.spinner.hide())}onSearch(Ie=""){this.source.setFilter([{field:"name",search:Ie},{field:"description",search:Ie}],!1)}removeImage(Ie){this[Ie]={};let at=Ie.split("selected")[1].slice(0,1).toLowerCase()+Ie.split("selected")[1].slice(1);this.sectorForm.controls[at].enable()}previewImage(Ie){let at=document.createElement("a");at.href=this[Ie].fileUrl,at.target="_blank",document.body.appendChild(at),at.click(),document.body.removeChild(at)}uploadImg(Ie,$e){var at=this;let jt=Ie.split("selected")[1].slice(0,1).toLowerCase()+Ie.split("selected")[1].slice(1),Vt=$e.target.files[0],Xt=Vt.name.split(".")[1];console.log(Vt);let Ot=this.storage.ref(`sectors/${this.sectorForm.controls.name.value?this.sectorForm.controls.name.value.replace(" ","")+Ie.split("selected")[1]+Xt:Vt.name}`);this.spinner.show(),Ot.put(Vt).then(function(){var tn=(0,Ve.Z)(function*(Ht){at.spinner.hide();const zn=yield Ot.getDownloadURL().toPromise();at[Ie]={name:Vt.name,fileUrl:zn},at.sectorForm.controls[jt].disable()});return function(Ht){return tn.apply(this,arguments)}}())}onSubmit(){var Ie=this;for(let $e in this.sectorForm.controls)this.sectorForm.controls[$e].markAsTouched(),this.sectorForm.controls[$e].updateValueAndValidity();if(this.sectorForm.valid){let $e={name:this.sectorForm.controls.name.value,description:this.sectorForm.controls.description.value,image:JSON.stringify(this.selectedImage),icon:JSON.stringify(this.selectedIcon),bannerImage:JSON.stringify(this.selectedBannerImage)};this.editId?(this.spinner.show(),this.afs.collection("sectors").doc(this.editId).update($e).then(function(){var at=(0,Ve.Z)(function*(jt){Ie.sectorForm.reset(),Ie.editId="",Ie.addEditLabel="Add New",Ie.selectedImage={},Ie.selectedIcon={},Ie.selectedBannerImage={},Ie.sectorForm.controls.image.enable(),Ie.sectorForm.controls.icon.enable(),Ie.sectorForm.controls.bannerImage.enable(),yield Ie.getSectors(),Ie.spinner.hide()});return function(jt){return at.apply(this,arguments)}}()).catch(at=>this.spinner.hide())):(this.spinner.show(),this.afs.collection("sectors").add($e).then(function(){var at=(0,Ve.Z)(function*(jt){Ie.sectorForm.reset(),Ie.selectedImage={},Ie.selectedIcon={},Ie.selectedBannerImage={},Ie.sectorForm.controls.image.enable(),Ie.sectorForm.controls.icon.enable(),Ie.sectorForm.controls.bannerImage.enable(),yield Ie.getSectors(),Ie.spinner.hide()});return function(jt){return at.apply(this,arguments)}}()).catch(at=>this.spinner.hide()))}}}return Fe.\u0275fac=function(Ie){return new(Ie||Fe)(oe.Y36(le.qu),oe.Y36(m.ST),oe.Y36(P.Q1),oe.Y36(Le.t2))},Fe.\u0275cmp=oe.Xpm({type:Fe,selectors:[["app-sectors"]],decls:45,vars:12,consts:[[1,"sectors_container"],[1,"search_container"],["type","text","placeholder","Search...",3,"keydown.enter"],["search",""],[3,"settings","source"],[1,"form_container"],[3,"formGroup","ngSubmit"],[1,"form_control"],["for","name"],["type","text","id","name","formControlName","name"],["class","error",4,"ngIf"],["for","description"],["type","text","id","description","rows","10","formControlName","description"],["for","image"],["type","file","id","image","formControlName","image",3,"change"],["sectorImg",""],["class","selected_img_preview",4,"ngIf"],["for","icon"],["type","file","id","icon","formControlName","icon",3,"change"],["sectorIcon",""],["for","bannerImage"],["type","file","id","bannerImage","formControlName","bannerImage",3,"change"],["sectorBanImg",""],["type","submit"],[1,"error"],[4,"ngIf"],[1,"selected_img_preview"],[1,"name"],[1,"icons"],[1,"fas","fa-eye",3,"click"],[1,"fas","fa-times",3,"click"]],template:function(Ie,$e){if(1&Ie){const at=oe.EpF();oe.TgZ(0,"div",0),oe.TgZ(1,"div",1),oe.TgZ(2,"input",2,3),oe.NdJ("keydown.enter",function(){oe.CHM(at);const Vt=oe.MAs(3);return $e.onSearch(Vt.value)}),oe.qZA(),oe.qZA(),oe._UZ(4,"ng2-smart-table",4),oe._UZ(5,"br"),oe._UZ(6,"br"),oe._UZ(7,"br"),oe.TgZ(8,"div",5),oe.TgZ(9,"h5"),oe._uU(10),oe.qZA(),oe.TgZ(11,"form",6),oe.NdJ("ngSubmit",function(){return $e.onSubmit()}),oe.TgZ(12,"div",7),oe.TgZ(13,"label",8),oe._uU(14,"Sector Name"),oe.qZA(),oe._UZ(15,"input",9),oe.YNc(16,_e,2,1,"div",10),oe.qZA(),oe.TgZ(17,"div",7),oe.TgZ(18,"label",11),oe._uU(19,"Sector Description"),oe.qZA(),oe._UZ(20,"textarea",12),oe.YNc(21,be,2,1,"div",10),oe.qZA(),oe.TgZ(22,"div",7),oe.TgZ(23,"label",13),oe._uU(24,"Sector Image"),oe.qZA(),oe.TgZ(25,"input",14,15),oe.NdJ("change",function(Vt){return $e.uploadImg("selectedImage",Vt)}),oe.qZA(),oe.YNc(27,ne,2,1,"div",10),oe.YNc(28,gt,6,0,"div",16),oe.qZA(),oe.TgZ(29,"div",7),oe.TgZ(30,"label",17),oe._uU(31,"Sector Icon"),oe.qZA(),oe.TgZ(32,"input",18,19),oe.NdJ("change",function(Vt){return $e.uploadImg("selectedIcon",Vt)}),oe.qZA(),oe.YNc(34,Ke,2,1,"div",10),oe.YNc(35,yt,6,0,"div",16),oe.qZA(),oe.TgZ(36,"div",7),oe.TgZ(37,"label",20),oe._uU(38,"Sector Banner Image"),oe.qZA(),oe.TgZ(39,"input",21,22),oe.NdJ("change",function(Vt){return $e.uploadImg("selectedBannerImage",Vt)}),oe.qZA(),oe.YNc(41,we,2,1,"div",10),oe.YNc(42,Ne,6,0,"div",16),oe.qZA(),oe.TgZ(43,"button",23),oe._uU(44,"Save & Update"),oe.qZA(),oe.qZA(),oe.qZA(),oe.qZA()}if(2&Ie){let at,jt,Vt,Xt,Ot;oe.xp6(4),oe.Q6J("settings",$e.settings)("source",$e.source),oe.xp6(6),oe.hij("",$e.addEditLabel," Sector"),oe.xp6(1),oe.Q6J("formGroup",$e.sectorForm),oe.xp6(5),oe.Q6J("ngIf",((null==(at=$e.sectorForm.get("name"))?null:at.touched)||(null==(at=$e.sectorForm.get("name"))?null:at.dirty))&&(null==(at=$e.sectorForm.get("name"))?null:at.invalid)&&(null==(at=$e.sectorForm.get("name"))?null:at.errors)),oe.xp6(5),oe.Q6J("ngIf",((null==(jt=$e.sectorForm.get("description"))?null:jt.touched)||(null==(jt=$e.sectorForm.get("description"))?null:jt.dirty))&&(null==(jt=$e.sectorForm.get("description"))?null:jt.invalid)&&(null==(jt=$e.sectorForm.get("description"))?null:jt.errors)),oe.xp6(6),oe.Q6J("ngIf",((null==(Vt=$e.sectorForm.get("image"))?null:Vt.touched)||(null==(Vt=$e.sectorForm.get("image"))?null:Vt.dirty))&&(null==(Vt=$e.sectorForm.get("image"))?null:Vt.invalid)&&(null==(Vt=$e.sectorForm.get("image"))?null:Vt.errors)),oe.xp6(1),oe.Q6J("ngIf",$e.selectedImage&&$e.selectedImage.name),oe.xp6(6),oe.Q6J("ngIf",((null==(Xt=$e.sectorForm.get("icon"))?null:Xt.touched)||(null==(Xt=$e.sectorForm.get("icon"))?null:Xt.dirty))&&(null==(Xt=$e.sectorForm.get("icon"))?null:Xt.invalid)&&(null==(Xt=$e.sectorForm.get("icon"))?null:Xt.errors)),oe.xp6(1),oe.Q6J("ngIf",$e.selectedIcon&&$e.selectedIcon.name),oe.xp6(6),oe.Q6J("ngIf",((null==(Ot=$e.sectorForm.get("bannerImage"))?null:Ot.touched)||(null==(Ot=$e.sectorForm.get("bannerImage"))?null:Ot.dirty))&&(null==(Ot=$e.sectorForm.get("bannerImage"))?null:Ot.invalid)&&(null==(Ot=$e.sectorForm.get("bannerImage"))?null:Ot.errors)),oe.xp6(1),oe.Q6J("ngIf",$e.selectedBannerImage&&$e.selectedBannerImage.name)}},directives:[he.T5,le._Y,le.JL,le.sg,le.Fj,le.JJ,le.u,Z.O5],styles:[".sectors_container[_ngcontent-%COMP%]{padding:25px}.sectors_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:10px 0}.sectors_container[_ngcontent-%COMP%]   .search_container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:34px;padding:0 15px;outline:none;border:1px solid #d4d4d4;border-radius:5px;color:#000;font-size:13px}.form_container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#8a3265;margin-bottom:30px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:75%}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;grid-gap:5px;gap:5px;margin-bottom:15px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:normal}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;outline:none;border:1px solid #d4d5d9;border-radius:5px;padding:0 10px;font-size:14px;font-weight:400;color:#454545;box-sizing:border-box}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 3px 2px #853262b3}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:36px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:13px;color:#ef0000;font-weight:400}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]{padding:15px 20px;border:1px solid #e4e5e9;border-radius:10px;box-shadow:1px 1px 6px #0003;display:flex;justify-content:space-between}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;grid-gap:25px;gap:25px}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .fa-eye[_ngcontent-%COMP%]{color:#8a3265}.form_container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .selected_img_preview[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#ec2525}  .ng2-smart-filters{display:none!important}  ng2-smart-table table{border:1px solid #e4e5e9}  ng2-smart-table thead{background:#8a3265}  ng2-smart-table td{text-align:center}  .ng2-smart-title,   ng2-smart-table-title a{color:#fff!important}  .ng2-smart-title:hover,   ng2-smart-table-title a:hover{text-decoration:none!important}  .ng2-smart-title:after,   ng2-smart-table-title a:after{border-bottom-color:#fff!important}  .ng2-smart-row{border-top:1px solid #e4e5e9}  table-cell-view-mode{text-align:center}  table-cell-view-mode .text div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  ng2-st-tbody-edit-delete{display:flex!important;justify-content:space-around!important}  ng2-st-tbody-edit-delete a{color:#8a3265!important}"]}),Fe})(),Jt=(()=>{class Fe{constructor(){this.onEdit=new oe.vpe,this.onDelete=new oe.vpe}ngOnInit(){}edit(){this.onEdit.emit(this.rowData)}delete(){this.onDelete.emit(this.rowData)}}return Fe.\u0275fac=function(Ie){return new(Ie||Fe)},Fe.\u0275cmp=oe.Xpm({type:Fe,selectors:[["app-sector-action"]],inputs:{rowData:"rowData"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:5,vars:0,consts:[[1,"actions"],[3,"click"]],template:function(Ie,$e){1&Ie&&(oe.TgZ(0,"div",0),oe.TgZ(1,"a",1),oe.NdJ("click",function(){return $e.edit()}),oe._uU(2,"Edit"),oe.qZA(),oe.TgZ(3,"a",1),oe.NdJ("click",function(){return $e.delete()}),oe._uU(4,"Delete"),oe.qZA(),oe.qZA())},styles:[At]}),Fe})(),Bt=(()=>{class Fe{constructor(){this.value=""}ngOnInit(){console.log("value from custom: ",this.value)}}return Fe.\u0275fac=function(Ie){return new(Ie||Fe)},Fe.\u0275cmp=oe.Xpm({type:Fe,selectors:[["app-sector-image"]],inputs:{value:"value",rowData:"rowData"},decls:3,vars:2,consts:[[1,"actions"],["target","_blank",3,"href"]],template:function(Ie,$e){1&Ie&&(oe.TgZ(0,"div",0),oe.TgZ(1,"a",1),oe._uU(2),oe.qZA(),oe.qZA()),2&Ie&&(oe.xp6(1),oe.Q6J("href",$e.value.fileUrl,oe.LSH),oe.xp6(1),oe.Oqu($e.value.name))},styles:[At]}),Fe})();var _n=X(3736);const it=[{path:"",component:dt}];let st=(()=>{class Fe{}return Fe.\u0275fac=function(Ie){return new(Ie||Fe)},Fe.\u0275mod=oe.oAB({type:Fe}),Fe.\u0275inj=oe.cJS({imports:[[_n.Bz.forChild(it)],_n.Bz]}),Fe})(),Te=(()=>{class Fe{}return Fe.\u0275fac=function(Ie){return new(Ie||Fe)},Fe.\u0275mod=oe.oAB({type:Fe}),Fe.\u0275inj=oe.cJS({imports:[[Z.ez,st,he.ne,le.u5,le.UX,P.TE,m.yb]]}),Fe})()},8292:(Kt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{ServicesModule:()=>Se});var m=X(9010),P=X(2581),Ve=X(8239),oe=X(9217),le=X(9619),he=X(8438),Le=X(2467);let Z=(()=>{class ne{constructor(Ee,Ke){this.afs=Ee,this.spinner=Ke,this.Editor=oe,this.data="",this.id=""}ngOnInit(){var Ee=this;return(0,Ve.Z)(function*(){yield Ee.getServices()})()}getServices(){var Ee=this;return(0,Ve.Z)(function*(){Ee.spinner.show();let Ke=yield Ee.afs.collection("services").get().toPromise();Ee.spinner.hide();let yt=Ke.docs[0].data();Ee.data=yt.data,Ee.id=Ke.docs[0].id})()}onSave(){var Ee=this;if(this.data){let Ke={data:this.data};this.id?(this.spinner.show(),this.afs.collection("services").doc(this.id).update(Ke).then(function(){var yt=(0,Ve.Z)(function*(rt){yield Ee.getServices(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide())):(this.spinner.show(),this.afs.collection("services").add(Ke).then(function(){var yt=(0,Ve.Z)(function*(rt){yield Ee.getServices(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide()))}}}return ne.\u0275fac=function(Ee){return new(Ee||ne)(le.Y36(P.ST),le.Y36(he.t2))},ne.\u0275cmp=le.Xpm({type:ne,selectors:[["app-services"]],decls:5,vars:2,consts:[[1,"services_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Ee,Ke){1&Ee&&(le.TgZ(0,"div",0),le.TgZ(1,"ckeditor",1),le.NdJ("ngModelChange",function(rt){return Ke.data=rt}),le.qZA(),le.TgZ(2,"div",2),le.TgZ(3,"button",3),le.NdJ("click",function(){return Ke.onSave()}),le._uU(4,"Save"),le.qZA(),le.qZA(),le.qZA()),2&Ee&&(le.xp6(1),le.Q6J("editor",Ke.Editor)("ngModel",Ke.data))},directives:[Le.u,m.JJ,m.On],styles:[".services_container[_ngcontent-%COMP%]{padding:25px}.services_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.services_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),ne})();var me=X(3736);const _e=[{path:"",component:Z}];let ge=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=le.oAB({type:ne}),ne.\u0275inj=le.cJS({imports:[[me.Bz.forChild(_e)],me.Bz]}),ne})();var be=X(6019);let Se=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=le.oAB({type:ne}),ne.\u0275inj=le.cJS({imports:[[be.ez,ge,Le.d,P.yb,m.u5]]}),ne})()},4326:(Kt,_t,X)=>{"use strict";X.r(_t),X.d(_t,{TermsModule:()=>Se});var m=X(9010),P=X(2581),Ve=X(8239),oe=X(9217),le=X(9619),he=X(8438),Le=X(2467);let Z=(()=>{class ne{constructor(Ee,Ke){this.afs=Ee,this.spinner=Ke,this.Editor=oe,this.data="",this.id=""}ngOnInit(){var Ee=this;return(0,Ve.Z)(function*(){yield Ee.getTerms()})()}getTerms(){var Ee=this;return(0,Ve.Z)(function*(){Ee.spinner.show();let Ke=yield Ee.afs.collection("terms").get().toPromise();Ee.spinner.hide();let yt=Ke.docs[0].data();Ee.data=yt.data,Ee.id=Ke.docs[0].id})()}onSave(){var Ee=this;if(this.data){let Ke={data:this.data};this.id?(this.spinner.show(),this.afs.collection("terms").doc(this.id).update(Ke).then(function(){var yt=(0,Ve.Z)(function*(rt){yield Ee.getTerms(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide())):(this.spinner.show(),this.afs.collection("terms").add(Ke).then(function(){var yt=(0,Ve.Z)(function*(rt){yield Ee.getTerms(),Ee.spinner.hide()});return function(rt){return yt.apply(this,arguments)}}()).catch(yt=>this.spinner.hide()))}}}return ne.\u0275fac=function(Ee){return new(Ee||ne)(le.Y36(P.ST),le.Y36(he.t2))},ne.\u0275cmp=le.Xpm({type:ne,selectors:[["app-terms"]],decls:5,vars:2,consts:[[1,"terms_container"],[3,"editor","ngModel","ngModelChange"],[1,"button"],[3,"click"]],template:function(Ee,Ke){1&Ee&&(le.TgZ(0,"div",0),le.TgZ(1,"ckeditor",1),le.NdJ("ngModelChange",function(rt){return Ke.data=rt}),le.qZA(),le.TgZ(2,"div",2),le.TgZ(3,"button",3),le.NdJ("click",function(){return Ke.onSave()}),le._uU(4,"Save"),le.qZA(),le.qZA(),le.qZA()),2&Ee&&(le.xp6(1),le.Q6J("editor",Ke.Editor)("ngModel",Ke.data))},directives:[Le.u,m.JJ,m.On],styles:[".terms_container[_ngcontent-%COMP%]{padding:25px}.terms_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}.terms_container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;padding:12px 26px;margin:25px 0 0 auto;color:#fff;background:#8a3265;border-radius:20px;font-size:15px;font-weight:500;display:block;cursor:pointer}  .ck-editor__editable{height:420px!important}"]}),ne})();var me=X(3736);const _e=[{path:"",component:Z}];let ge=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=le.oAB({type:ne}),ne.\u0275inj=le.cJS({imports:[[me.Bz.forChild(_e)],me.Bz]}),ne})();var be=X(6019);let Se=(()=>{class ne{}return ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=le.oAB({type:ne}),ne.\u0275inj=le.cJS({imports:[[be.ez,ge,Le.d,P.yb,m.u5]]}),ne})()},2739:(Kt,_t,X)=>{"use strict";X.d(_t,{e:()=>Ve});var m=X(4099),P=X(9619);let Ve=(()=>{class oe{constructor(){this.userObservable=new m.X(null),this.user$=this.userObservable.asObservable()}setUser(he){this.userObservable.next(he)}}return oe.\u0275fac=function(he){return new(he||oe)},oe.\u0275prov=P.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})()},7892:(Kt,_t,X)=>{"use strict";var m=X(5427),P=X(9619),Ve=X(2739);const oe_firebaseConfig={apiKey:"AIzaSyDu2xQDbuL5v5Lm8nJJ_fwfoJwSr4dmnjE",authDomain:"securisk-iwms.firebaseapp.com",projectId:"securisk-iwms",storageBucket:"securisk-iwms.appspot.com",messagingSenderId:"1054144264004",appId:"1:1054144264004:web:830a7b558f3c346106c911",measurementId:"G-6BX3T9VPVT"};var le=X(926),he=X(2486),Le=X(8378),Z=X(3227),me=X(2998),_e=X(4326),ge=X(1390),be=X(3193),Se=X(7944),ne=X(2526),gt=X(7693),Ee=X(3736);const Ke=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"admin",loadChildren:()=>X.e(890).then(X.bind(X,8890)).then(pe=>pe.AdminModule)},{path:"login",loadChildren:()=>X.e(630).then(X.bind(X,3630)).then(pe=>pe.LoginModule)}];let yt=(()=>{class pe{}return pe.\u0275fac=function(N){return new(N||pe)},pe.\u0275mod=P.oAB({type:pe}),pe.\u0275inj=P.cJS({imports:[[Ee.Bz.forRoot(Ke,{useHash:!0})],Ee.Bz]}),pe})();var rt=X(8438);let we=(()=>{class pe{constructor(){this.title="securiskadmin"}}return pe.\u0275fac=function(N){return new(N||pe)},pe.\u0275cmp=P.Xpm({type:pe,selectors:[["app-root"]],decls:4,vars:0,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-spin-clockwise-fade"],[2,"font-size","20px","color","white"]],template:function(N,Y){1&N&&(P.TgZ(0,"ngx-spinner",0),P.TgZ(1,"p",1),P._uU(2,"Loading..."),P.qZA(),P.qZA(),P._UZ(3,"router-outlet"))},directives:[rt.Ro,Ee.lC],styles:[""]}),pe})();var Ne=X(8292),At=X(436),dt=X(9814);function Jt(){return"undefined"!=typeof window&&void 0!==window.document}function Bt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _n(pe){switch(pe.length){case 0:return new dt.ZN;case 1:return pe[0];default:return new dt.ZE(pe)}}function it(pe,I,N,Y,ke={},ze={}){const tt=[],ft=[];let St=-1,qt=null;if(Y.forEach(yn=>{const gn=yn.offset,ut=gn==St,Nt=ut&&qt||{};Object.keys(yn).forEach(vt=>{let Wt=vt,un=yn[vt];if("offset"!==vt)switch(Wt=I.normalizePropertyName(Wt,tt),un){case dt.k1:un=ke[vt];break;case dt.l3:un=ze[vt];break;default:un=I.normalizeStyleValue(vt,Wt,un,tt)}Nt[Wt]=un}),ut||ft.push(Nt),qt=Nt,St=gn}),tt.length){const yn="\n - ";throw new Error(`Unable to animate due to the following errors:${yn}${tt.join(yn)}`)}return ft}function st(pe,I,N,Y){switch(I){case"start":pe.onStart(()=>Y(N&&Te(N,"start",pe)));break;case"done":pe.onDone(()=>Y(N&&Te(N,"done",pe)));break;case"destroy":pe.onDestroy(()=>Y(N&&Te(N,"destroy",pe)))}}function Te(pe,I,N){const Y=N.totalTime,ze=Fe(pe.element,pe.triggerName,pe.fromState,pe.toState,I||pe.phaseName,null==Y?pe.totalTime:Y,!!N.disabled),tt=pe._data;return null!=tt&&(ze._data=tt),ze}function Fe(pe,I,N,Y,ke="",ze=0,tt){return{element:pe,triggerName:I,fromState:N,toState:Y,phaseName:ke,totalTime:ze,disabled:!!tt}}function Ze(pe,I,N){let Y;return pe instanceof Map?(Y=pe.get(I),Y||pe.set(I,Y=N)):(Y=pe[I],Y||(Y=pe[I]=N)),Y}function Ie(pe){const I=pe.indexOf(":");return[pe.substring(1,I),pe.substr(I+1)]}let $e=(pe,I)=>!1,at=(pe,I)=>!1,jt=(pe,I,N)=>[];const Vt=Bt();(Vt||"undefined"!=typeof Element)&&($e=Jt()?(pe,I)=>{for(;I&&I!==document.documentElement;){if(I===pe)return!0;I=I.parentNode||I.host}return!1}:(pe,I)=>pe.contains(I),at=(()=>{if(Vt||Element.prototype.matches)return(pe,I)=>pe.matches(I);{const pe=Element.prototype,I=pe.matchesSelector||pe.mozMatchesSelector||pe.msMatchesSelector||pe.oMatchesSelector||pe.webkitMatchesSelector;return I?(N,Y)=>I.apply(N,[Y]):at}})(),jt=(pe,I,N)=>{let Y=[];if(N){const ke=pe.querySelectorAll(I);for(let ze=0;ze<ke.length;ze++)Y.push(ke[ze])}else{const ke=pe.querySelector(I);ke&&Y.push(ke)}return Y});let Ot=null,tn=!1;function Ht(pe){Ot||(Ot=("undefined"!=typeof document?document.body:null)||{},tn=!!Ot.style&&"WebkitAppearance"in Ot.style);let I=!0;return Ot.style&&!function(pe){return"ebkit"==pe.substring(1,6)}(pe)&&(I=pe in Ot.style,!I&&tn&&(I="Webkit"+pe.charAt(0).toUpperCase()+pe.substr(1)in Ot.style)),I}const oi=at,$n=$e,xi=jt;function Zi(pe){const I={};return Object.keys(pe).forEach(N=>{const Y=N.replace(/([a-z])([A-Z])/g,"$1-$2");I[Y]=pe[N]}),I}let Sr=(()=>{class pe{validateStyleProperty(N){return Ht(N)}matchesElement(N,Y){return oi(N,Y)}containsElement(N,Y){return $n(N,Y)}query(N,Y,ke){return xi(N,Y,ke)}computeStyle(N,Y,ke){return ke||""}animate(N,Y,ke,ze,tt,ft=[],St){return new dt.ZN(ke,ze)}}return pe.\u0275fac=function(N){return new(N||pe)},pe.\u0275prov=P.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),Tn=(()=>{class pe{}return pe.NOOP=new Sr,pe})();const wn="ng-enter",ci="ng-leave",pi="ng-trigger",Mi=".ng-trigger",Ai="ng-animating",Vo=".ng-animating";function Sn(pe){if("number"==typeof pe)return pe;const I=pe.match(/^(-?[\.\d]+)(m?s)/);return!I||I.length<2?0:Pr(parseFloat(I[1]),I[2])}function Pr(pe,I){return"s"===I?1e3*pe:pe}function vo(pe,I,N){return pe.hasOwnProperty("duration")?pe:function(pe,I,N){let ke,ze=0,tt="";if("string"==typeof pe){const ft=pe.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ft)return I.push(`The provided timing value "${pe}" is invalid.`),{duration:0,delay:0,easing:""};ke=Pr(parseFloat(ft[1]),ft[2]);const St=ft[3];null!=St&&(ze=Pr(parseFloat(St),ft[4]));const qt=ft[5];qt&&(tt=qt)}else ke=pe;if(!N){let ft=!1,St=I.length;ke<0&&(I.push("Duration values below 0 are not allowed for this animation step."),ft=!0),ze<0&&(I.push("Delay values below 0 are not allowed for this animation step."),ft=!0),ft&&I.splice(St,0,`The provided timing value "${pe}" is invalid.`)}return{duration:ke,delay:ze,easing:tt}}(pe,I,N)}function Vi(pe,I={}){return Object.keys(pe).forEach(N=>{I[N]=pe[N]}),I}function Bn(pe,I,N={}){if(I)for(let Y in pe)N[Y]=pe[Y];else Vi(pe,N);return N}function zr(pe,I,N){return N?I+":"+N+";":""}function gi(pe){let I="";for(let N=0;N<pe.style.length;N++){const Y=pe.style.item(N);I+=zr(0,Y,pe.style.getPropertyValue(Y))}for(const N in pe.style)pe.style.hasOwnProperty(N)&&!N.startsWith("_")&&(I+=zr(0,nn(N),pe.style[N]));pe.setAttribute("style",I)}function lr(pe,I,N){pe.style&&(Object.keys(I).forEach(Y=>{const ke=Et(Y);N&&!N.hasOwnProperty(Y)&&(N[Y]=pe.style[ke]),pe.style[ke]=I[Y]}),Bt()&&gi(pe))}function Oi(pe,I){pe.style&&(Object.keys(I).forEach(N=>{const Y=Et(N);pe.style[Y]=""}),Bt()&&gi(pe))}function Ni(pe){return Array.isArray(pe)?1==pe.length?pe[0]:(0,dt.vP)(pe):pe}const Ii=new RegExp("{{\\s*(.+?)\\s*}}","g");function mt(pe){let I=[];if("string"==typeof pe){let N;for(;N=Ii.exec(pe);)I.push(N[1]);Ii.lastIndex=0}return I}function Je(pe,I,N){const Y=pe.toString(),ke=Y.replace(Ii,(ze,tt)=>{let ft=I[tt];return I.hasOwnProperty(tt)||(N.push(`Please provide a value for the animation param ${tt}`),ft=""),ft.toString()});return ke==Y?pe:ke}function xt(pe){const I=[];let N=pe.next();for(;!N.done;)I.push(N.value),N=pe.next();return I}const zt=/-+([a-z0-9])/g;function Et(pe){return pe.replace(zt,(...I)=>I[1].toUpperCase())}function nn(pe){return pe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Nn(pe,I){return 0===pe||0===I}function Wn(pe,I,N){const Y=Object.keys(N);if(Y.length&&I.length){let ze=I[0],tt=[];if(Y.forEach(ft=>{ze.hasOwnProperty(ft)||tt.push(ft),ze[ft]=N[ft]}),tt.length)for(var ke=1;ke<I.length;ke++){let ft=I[ke];tt.forEach(function(St){ft[St]=Ei(pe,St)})}}return I}function In(pe,I,N){switch(I.type){case 7:return pe.visitTrigger(I,N);case 0:return pe.visitState(I,N);case 1:return pe.visitTransition(I,N);case 2:return pe.visitSequence(I,N);case 3:return pe.visitGroup(I,N);case 4:return pe.visitAnimate(I,N);case 5:return pe.visitKeyframes(I,N);case 6:return pe.visitStyle(I,N);case 8:return pe.visitReference(I,N);case 9:return pe.visitAnimateChild(I,N);case 10:return pe.visitAnimateRef(I,N);case 11:return pe.visitQuery(I,N);case 12:return pe.visitStagger(I,N);default:throw new Error(`Unable to resolve animation metadata node #${I.type}`)}}function Ei(pe,I){return window.getComputedStyle(pe)[I]}function Fr(pe,I){const N=[];return"string"==typeof pe?pe.split(/\s*,\s*/).forEach(Y=>function(pe,I,N){if(":"==pe[0]){const St=function(pe,I){switch(pe){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(N,Y)=>parseFloat(Y)>parseFloat(N);case":decrement":return(N,Y)=>parseFloat(Y)<parseFloat(N);default:return I.push(`The transition alias value "${pe}" is not supported`),"* => *"}}(pe,N);if("function"==typeof St)return void I.push(St);pe=St}const Y=pe.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==Y||Y.length<4)return N.push(`The provided transition expression "${pe}" is not supported`),I;const ke=Y[1],ze=Y[2],tt=Y[3];I.push(Qe(ke,tt));"<"==ze[0]&&!("*"==ke&&"*"==tt)&&I.push(Qe(tt,ke))}(Y,N,I)):N.push(pe),N}const Dt=new Set(["true","1"]),bt=new Set(["false","0"]);function Qe(pe,I){const N=Dt.has(pe)||bt.has(pe),Y=Dt.has(I)||bt.has(I);return(ke,ze)=>{let tt="*"==pe||pe==ke,ft="*"==I||I==ze;return!tt&&N&&"boolean"==typeof ke&&(tt=ke?Dt.has(pe):bt.has(pe)),!ft&&Y&&"boolean"==typeof ze&&(ft=ze?Dt.has(I):bt.has(I)),tt&&ft}}const $t=new RegExp("s*:selfs*,?","g");function An(pe,I,N){return new hi(pe).build(I,N)}class hi{constructor(I){this._driver=I}build(I,N){const Y=new xo(N);return this._resetContextStyleTimingState(Y),In(this,Ni(I),Y)}_resetContextStyleTimingState(I){I.currentQuerySelector="",I.collectedStyles={},I.collectedStyles[""]={},I.currentTime=0}visitTrigger(I,N){let Y=N.queryCount=0,ke=N.depCount=0;const ze=[],tt=[];return"@"==I.name.charAt(0)&&N.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),I.definitions.forEach(ft=>{if(this._resetContextStyleTimingState(N),0==ft.type){const St=ft,qt=St.name;qt.toString().split(/\s*,\s*/).forEach(yn=>{St.name=yn,ze.push(this.visitState(St,N))}),St.name=qt}else if(1==ft.type){const St=this.visitTransition(ft,N);Y+=St.queryCount,ke+=St.depCount,tt.push(St)}else N.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:I.name,states:ze,transitions:tt,queryCount:Y,depCount:ke,options:null}}visitState(I,N){const Y=this.visitStyle(I.styles,N),ke=I.options&&I.options.params||null;if(Y.containsDynamicStyles){const ze=new Set,tt=ke||{};if(Y.styles.forEach(ft=>{if(hr(ft)){const St=ft;Object.keys(St).forEach(qt=>{mt(St[qt]).forEach(yn=>{tt.hasOwnProperty(yn)||ze.add(yn)})})}}),ze.size){const ft=xt(ze.values());N.errors.push(`state("${I.name}", ...) must define default values for all the following style substitutions: ${ft.join(", ")}`)}}return{type:0,name:I.name,style:Y,options:ke?{params:ke}:null}}visitTransition(I,N){N.queryCount=0,N.depCount=0;const Y=In(this,Ni(I.animation),N);return{type:1,matchers:Fr(I.expr,N.errors),animation:Y,queryCount:N.queryCount,depCount:N.depCount,options:dn(I.options)}}visitSequence(I,N){return{type:2,steps:I.steps.map(Y=>In(this,Y,N)),options:dn(I.options)}}visitGroup(I,N){const Y=N.currentTime;let ke=0;const ze=I.steps.map(tt=>{N.currentTime=Y;const ft=In(this,tt,N);return ke=Math.max(ke,N.currentTime),ft});return N.currentTime=ke,{type:3,steps:ze,options:dn(I.options)}}visitAnimate(I,N){const Y=function(pe,I){let N=null;if(pe.hasOwnProperty("duration"))N=pe;else if("number"==typeof pe)return jn(vo(pe,I).duration,0,"");const Y=pe;if(Y.split(/\s+/).some(ze=>"{"==ze.charAt(0)&&"{"==ze.charAt(1))){const ze=jn(0,0,"");return ze.dynamic=!0,ze.strValue=Y,ze}return N=N||vo(Y,I),jn(N.duration,N.delay,N.easing)}(I.timings,N.errors);N.currentAnimateTimings=Y;let ke,ze=I.styles?I.styles:(0,dt.oB)({});if(5==ze.type)ke=this.visitKeyframes(ze,N);else{let tt=I.styles,ft=!1;if(!tt){ft=!0;const qt={};Y.easing&&(qt.easing=Y.easing),tt=(0,dt.oB)(qt)}N.currentTime+=Y.duration+Y.delay;const St=this.visitStyle(tt,N);St.isEmptyStep=ft,ke=St}return N.currentAnimateTimings=null,{type:4,timings:Y,style:ke,options:null}}visitStyle(I,N){const Y=this._makeStyleAst(I,N);return this._validateStyleAst(Y,N),Y}_makeStyleAst(I,N){const Y=[];Array.isArray(I.styles)?I.styles.forEach(tt=>{"string"==typeof tt?tt==dt.l3?Y.push(tt):N.errors.push(`The provided style string value ${tt} is not allowed.`):Y.push(tt)}):Y.push(I.styles);let ke=!1,ze=null;return Y.forEach(tt=>{if(hr(tt)){const ft=tt,St=ft.easing;if(St&&(ze=St,delete ft.easing),!ke)for(let qt in ft)if(ft[qt].toString().indexOf("{{")>=0){ke=!0;break}}}),{type:6,styles:Y,easing:ze,offset:I.offset,containsDynamicStyles:ke,options:null}}_validateStyleAst(I,N){const Y=N.currentAnimateTimings;let ke=N.currentTime,ze=N.currentTime;Y&&ze>0&&(ze-=Y.duration+Y.delay),I.styles.forEach(tt=>{"string"!=typeof tt&&Object.keys(tt).forEach(ft=>{if(!this._driver.validateStyleProperty(ft))return void N.errors.push(`The provided animation property "${ft}" is not a supported CSS property for animations`);const St=N.collectedStyles[N.currentQuerySelector],qt=St[ft];let yn=!0;qt&&(ze!=ke&&ze>=qt.startTime&&ke<=qt.endTime&&(N.errors.push(`The CSS property "${ft}" that exists between the times of "${qt.startTime}ms" and "${qt.endTime}ms" is also being animated in a parallel animation between the times of "${ze}ms" and "${ke}ms"`),yn=!1),ze=qt.startTime),yn&&(St[ft]={startTime:ze,endTime:ke}),N.options&&function(pe,I,N){const Y=I.params||{},ke=mt(pe);ke.length&&ke.forEach(ze=>{Y.hasOwnProperty(ze)||N.push(`Unable to resolve the local animation param ${ze} in the given list of values`)})}(tt[ft],N.options,N.errors)})})}visitKeyframes(I,N){const Y={type:5,styles:[],options:null};if(!N.currentAnimateTimings)return N.errors.push("keyframes() must be placed inside of a call to animate()"),Y;let ze=0;const tt=[];let ft=!1,St=!1,qt=0;const yn=I.steps.map(mi=>{const vi=this._makeStyleAst(mi,N);let yi=null!=vi.offset?vi.offset:function(pe){if("string"==typeof pe)return null;let I=null;if(Array.isArray(pe))pe.forEach(N=>{if(hr(N)&&N.hasOwnProperty("offset")){const Y=N;I=parseFloat(Y.offset),delete Y.offset}});else if(hr(pe)&&pe.hasOwnProperty("offset")){const N=pe;I=parseFloat(N.offset),delete N.offset}return I}(vi.styles),Do=0;return null!=yi&&(ze++,Do=vi.offset=yi),St=St||Do<0||Do>1,ft=ft||Do<qt,qt=Do,tt.push(Do),vi});St&&N.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ft&&N.errors.push("Please ensure that all keyframe offsets are in order");const gn=I.steps.length;let ut=0;ze>0&&ze<gn?N.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==ze&&(ut=1/(gn-1));const Nt=gn-1,vt=N.currentTime,Wt=N.currentAnimateTimings,un=Wt.duration;return yn.forEach((mi,vi)=>{const yi=ut>0?vi==Nt?1:ut*vi:tt[vi],Do=yi*un;N.currentTime=vt+Wt.delay+Do,Wt.duration=Do,this._validateStyleAst(mi,N),mi.offset=yi,Y.styles.push(mi)}),Y}visitReference(I,N){return{type:8,animation:In(this,Ni(I.animation),N),options:dn(I.options)}}visitAnimateChild(I,N){return N.depCount++,{type:9,options:dn(I.options)}}visitAnimateRef(I,N){return{type:10,animation:this.visitReference(I.animation,N),options:dn(I.options)}}visitQuery(I,N){const Y=N.currentQuerySelector,ke=I.options||{};N.queryCount++,N.currentQuery=I;const[ze,tt]=function(pe){const I=!!pe.split(/\s*,\s*/).find(N=>":self"==N);return I&&(pe=pe.replace($t,"")),pe=pe.replace(/@\*/g,Mi).replace(/@\w+/g,N=>Mi+"-"+N.substr(1)).replace(/:animating/g,Vo),[pe,I]}(I.selector);N.currentQuerySelector=Y.length?Y+" "+ze:ze,Ze(N.collectedStyles,N.currentQuerySelector,{});const ft=In(this,Ni(I.animation),N);return N.currentQuery=null,N.currentQuerySelector=Y,{type:11,selector:ze,limit:ke.limit||0,optional:!!ke.optional,includeSelf:tt,animation:ft,originalSelector:I.selector,options:dn(I.options)}}visitStagger(I,N){N.currentQuery||N.errors.push("stagger() can only be used inside of query()");const Y="full"===I.timings?{duration:0,delay:0,easing:"full"}:vo(I.timings,N.errors,!0);return{type:12,animation:In(this,Ni(I.animation),N),timings:Y,options:null}}}class xo{constructor(I){this.errors=I,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function hr(pe){return!Array.isArray(pe)&&"object"==typeof pe}function dn(pe){return pe?(pe=Vi(pe)).params&&(pe.params=function(pe){return pe?Vi(pe):null}(pe.params)):pe={},pe}function jn(pe,I,N){return{duration:pe,delay:I,easing:N}}function ui(pe,I,N,Y,ke,ze,tt=null,ft=!1){return{type:1,element:pe,keyframes:I,preStyleProps:N,postStyleProps:Y,duration:ke,delay:ze,totalTime:ke+ze,easing:tt,subTimeline:ft}}class Ki{constructor(){this._map=new Map}consume(I){let N=this._map.get(I);return N?this._map.delete(I):N=[],N}append(I,N){let Y=this._map.get(I);Y||this._map.set(I,Y=[]),Y.push(...N)}has(I){return this._map.has(I)}clear(){this._map.clear()}}const wo=new RegExp(":enter","g"),or=new RegExp(":leave","g");function so(pe,I,N,Y,ke,ze={},tt={},ft,St,qt=[]){return(new qn).buildKeyframes(pe,I,N,Y,ke,ze,tt,ft,St,qt)}class qn{buildKeyframes(I,N,Y,ke,ze,tt,ft,St,qt,yn=[]){qt=qt||new Ki;const gn=new ao(I,N,qt,ke,ze,yn,[]);gn.options=St,gn.currentTimeline.setStyles([tt],null,gn.errors,St),In(this,Y,gn);const ut=gn.timelines.filter(Nt=>Nt.containsAnimation());if(ut.length&&Object.keys(ft).length){const Nt=ut[ut.length-1];Nt.allowOnlyTimelineStyles()||Nt.setStyles([ft],null,gn.errors,St)}return ut.length?ut.map(Nt=>Nt.buildKeyframes()):[ui(N,[],[],[],0,0,"",!1)]}visitTrigger(I,N){}visitState(I,N){}visitTransition(I,N){}visitAnimateChild(I,N){const Y=N.subInstructions.consume(N.element);if(Y){const ke=N.createSubContext(I.options),ze=N.currentTimeline.currentTime,tt=this._visitSubInstructions(Y,ke,ke.options);ze!=tt&&N.transformIntoNewTimeline(tt)}N.previousNode=I}visitAnimateRef(I,N){const Y=N.createSubContext(I.options);Y.transformIntoNewTimeline(),this.visitReference(I.animation,Y),N.transformIntoNewTimeline(Y.currentTimeline.currentTime),N.previousNode=I}_visitSubInstructions(I,N,Y){let ze=N.currentTimeline.currentTime;const tt=null!=Y.duration?Sn(Y.duration):null,ft=null!=Y.delay?Sn(Y.delay):null;return 0!==tt&&I.forEach(St=>{const qt=N.appendInstructionToTimeline(St,tt,ft);ze=Math.max(ze,qt.duration+qt.delay)}),ze}visitReference(I,N){N.updateOptions(I.options,!0),In(this,I.animation,N),N.previousNode=I}visitSequence(I,N){const Y=N.subContextCount;let ke=N;const ze=I.options;if(ze&&(ze.params||ze.delay)&&(ke=N.createSubContext(ze),ke.transformIntoNewTimeline(),null!=ze.delay)){6==ke.previousNode.type&&(ke.currentTimeline.snapshotCurrentStyles(),ke.previousNode=pr);const tt=Sn(ze.delay);ke.delayNextStep(tt)}I.steps.length&&(I.steps.forEach(tt=>In(this,tt,ke)),ke.currentTimeline.applyStylesToKeyframe(),ke.subContextCount>Y&&ke.transformIntoNewTimeline()),N.previousNode=I}visitGroup(I,N){const Y=[];let ke=N.currentTimeline.currentTime;const ze=I.options&&I.options.delay?Sn(I.options.delay):0;I.steps.forEach(tt=>{const ft=N.createSubContext(I.options);ze&&ft.delayNextStep(ze),In(this,tt,ft),ke=Math.max(ke,ft.currentTimeline.currentTime),Y.push(ft.currentTimeline)}),Y.forEach(tt=>N.currentTimeline.mergeTimelineCollectedStyles(tt)),N.transformIntoNewTimeline(ke),N.previousNode=I}_visitTiming(I,N){if(I.dynamic){const Y=I.strValue;return vo(N.params?Je(Y,N.params,N.errors):Y,N.errors)}return{duration:I.duration,delay:I.delay,easing:I.easing}}visitAnimate(I,N){const Y=N.currentAnimateTimings=this._visitTiming(I.timings,N),ke=N.currentTimeline;Y.delay&&(N.incrementTime(Y.delay),ke.snapshotCurrentStyles());const ze=I.style;5==ze.type?this.visitKeyframes(ze,N):(N.incrementTime(Y.duration),this.visitStyle(ze,N),ke.applyStylesToKeyframe()),N.currentAnimateTimings=null,N.previousNode=I}visitStyle(I,N){const Y=N.currentTimeline,ke=N.currentAnimateTimings;!ke&&Y.getCurrentStyleProperties().length&&Y.forwardFrame();const ze=ke&&ke.easing||I.easing;I.isEmptyStep?Y.applyEmptyStep(ze):Y.setStyles(I.styles,ze,N.errors,N.options),N.previousNode=I}visitKeyframes(I,N){const Y=N.currentAnimateTimings,ke=N.currentTimeline.duration,ze=Y.duration,ft=N.createSubContext().currentTimeline;ft.easing=Y.easing,I.styles.forEach(St=>{ft.forwardTime((St.offset||0)*ze),ft.setStyles(St.styles,St.easing,N.errors,N.options),ft.applyStylesToKeyframe()}),N.currentTimeline.mergeTimelineCollectedStyles(ft),N.transformIntoNewTimeline(ke+ze),N.previousNode=I}visitQuery(I,N){const Y=N.currentTimeline.currentTime,ke=I.options||{},ze=ke.delay?Sn(ke.delay):0;ze&&(6===N.previousNode.type||0==Y&&N.currentTimeline.getCurrentStyleProperties().length)&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=pr);let tt=Y;const ft=N.invokeQuery(I.selector,I.originalSelector,I.limit,I.includeSelf,!!ke.optional,N.errors);N.currentQueryTotal=ft.length;let St=null;ft.forEach((qt,yn)=>{N.currentQueryIndex=yn;const gn=N.createSubContext(I.options,qt);ze&&gn.delayNextStep(ze),qt===N.element&&(St=gn.currentTimeline),In(this,I.animation,gn),gn.currentTimeline.applyStylesToKeyframe(),tt=Math.max(tt,gn.currentTimeline.currentTime)}),N.currentQueryIndex=0,N.currentQueryTotal=0,N.transformIntoNewTimeline(tt),St&&(N.currentTimeline.mergeTimelineCollectedStyles(St),N.currentTimeline.snapshotCurrentStyles()),N.previousNode=I}visitStagger(I,N){const Y=N.parentContext,ke=N.currentTimeline,ze=I.timings,tt=Math.abs(ze.duration),ft=tt*(N.currentQueryTotal-1);let St=tt*N.currentQueryIndex;switch(ze.duration<0?"reverse":ze.easing){case"reverse":St=ft-St;break;case"full":St=Y.currentStaggerTime}const yn=N.currentTimeline;St&&yn.delayNextStep(St);const gn=yn.currentTime;In(this,I.animation,N),N.previousNode=I,Y.currentStaggerTime=ke.currentTime-gn+(ke.startTime-Y.currentTimeline.startTime)}}const pr={};class ao{constructor(I,N,Y,ke,ze,tt,ft,St){this._driver=I,this.element=N,this.subInstructions=Y,this._enterClassName=ke,this._leaveClassName=ze,this.errors=tt,this.timelines=ft,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=St||new Xo(this._driver,N,0),ft.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(I,N){if(!I)return;const Y=I;let ke=this.options;null!=Y.duration&&(ke.duration=Sn(Y.duration)),null!=Y.delay&&(ke.delay=Sn(Y.delay));const ze=Y.params;if(ze){let tt=ke.params;tt||(tt=this.options.params={}),Object.keys(ze).forEach(ft=>{(!N||!tt.hasOwnProperty(ft))&&(tt[ft]=Je(ze[ft],tt,this.errors))})}}_copyOptions(){const I={};if(this.options){const N=this.options.params;if(N){const Y=I.params={};Object.keys(N).forEach(ke=>{Y[ke]=N[ke]})}}return I}createSubContext(I=null,N,Y){const ke=N||this.element,ze=new ao(this._driver,ke,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ke,Y||0));return ze.previousNode=this.previousNode,ze.currentAnimateTimings=this.currentAnimateTimings,ze.options=this._copyOptions(),ze.updateOptions(I),ze.currentQueryIndex=this.currentQueryIndex,ze.currentQueryTotal=this.currentQueryTotal,ze.parentContext=this,this.subContextCount++,ze}transformIntoNewTimeline(I){return this.previousNode=pr,this.currentTimeline=this.currentTimeline.fork(this.element,I),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(I,N,Y){const ke={duration:null!=N?N:I.duration,delay:this.currentTimeline.currentTime+(null!=Y?Y:0)+I.delay,easing:""},ze=new As(this._driver,I.element,I.keyframes,I.preStyleProps,I.postStyleProps,ke,I.stretchStartingKeyframe);return this.timelines.push(ze),ke}incrementTime(I){this.currentTimeline.forwardTime(this.currentTimeline.duration+I)}delayNextStep(I){I>0&&this.currentTimeline.delayNextStep(I)}invokeQuery(I,N,Y,ke,ze,tt){let ft=[];if(ke&&ft.push(this.element),I.length>0){I=(I=I.replace(wo,"."+this._enterClassName)).replace(or,"."+this._leaveClassName);let qt=this._driver.query(this.element,I,1!=Y);0!==Y&&(qt=Y<0?qt.slice(qt.length+Y,qt.length):qt.slice(0,Y)),ft.push(...qt)}return!ze&&0==ft.length&&tt.push(`\`query("${N}")\` returned zero elements. (Use \`query("${N}", { optional: true })\` if you wish to allow this.)`),ft}}class Xo{constructor(I,N,Y,ke){this._driver=I,this.element=N,this.startTime=Y,this._elementTimelineStylesLookup=ke,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(N),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(N,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(I){const N=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||N?(this.forwardTime(this.currentTime+I),N&&this.snapshotCurrentStyles()):this.startTime+=I}fork(I,N){return this.applyStylesToKeyframe(),new Xo(this._driver,I,N||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(I){this.applyStylesToKeyframe(),this.duration=I,this._loadKeyframe()}_updateStyle(I,N){this._localTimelineStyles[I]=N,this._globalTimelineStyles[I]=N,this._styleSummary[I]={time:this.currentTime,value:N}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(I){I&&(this._previousKeyframe.easing=I),Object.keys(this._globalTimelineStyles).forEach(N=>{this._backFill[N]=this._globalTimelineStyles[N]||dt.l3,this._currentKeyframe[N]=dt.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(I,N,Y,ke){N&&(this._previousKeyframe.easing=N);const ze=ke&&ke.params||{},tt=function(pe,I){const N={};let Y;return pe.forEach(ke=>{"*"===ke?(Y=Y||Object.keys(I),Y.forEach(ze=>{N[ze]=dt.l3})):Bn(ke,!1,N)}),N}(I,this._globalTimelineStyles);Object.keys(tt).forEach(ft=>{const St=Je(tt[ft],ze,Y);this._pendingStyles[ft]=St,this._localTimelineStyles.hasOwnProperty(ft)||(this._backFill[ft]=this._globalTimelineStyles.hasOwnProperty(ft)?this._globalTimelineStyles[ft]:dt.l3),this._updateStyle(ft,St)})}applyStylesToKeyframe(){const I=this._pendingStyles,N=Object.keys(I);0!=N.length&&(this._pendingStyles={},N.forEach(Y=>{this._currentKeyframe[Y]=I[Y]}),Object.keys(this._localTimelineStyles).forEach(Y=>{this._currentKeyframe.hasOwnProperty(Y)||(this._currentKeyframe[Y]=this._localTimelineStyles[Y])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(I=>{const N=this._localTimelineStyles[I];this._pendingStyles[I]=N,this._updateStyle(I,N)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const I=[];for(let N in this._currentKeyframe)I.push(N);return I}mergeTimelineCollectedStyles(I){Object.keys(I._styleSummary).forEach(N=>{const Y=this._styleSummary[N],ke=I._styleSummary[N];(!Y||ke.time>Y.time)&&this._updateStyle(N,ke.value)})}buildKeyframes(){this.applyStylesToKeyframe();const I=new Set,N=new Set,Y=1===this._keyframes.size&&0===this.duration;let ke=[];this._keyframes.forEach((ft,St)=>{const qt=Bn(ft,!0);Object.keys(qt).forEach(yn=>{const gn=qt[yn];gn==dt.k1?I.add(yn):gn==dt.l3&&N.add(yn)}),Y||(qt.offset=St/this.duration),ke.push(qt)});const ze=I.size?xt(I.values()):[],tt=N.size?xt(N.values()):[];if(Y){const ft=ke[0],St=Vi(ft);ft.offset=0,St.offset=1,ke=[ft,St]}return ui(this.element,ke,ze,tt,this.duration,this.startTime,this.easing,!1)}}class As extends Xo{constructor(I,N,Y,ke,ze,tt,ft=!1){super(I,N,tt.delay),this.keyframes=Y,this.preStyleProps=ke,this.postStyleProps=ze,this._stretchStartingKeyframe=ft,this.timings={duration:tt.duration,delay:tt.delay,easing:tt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let I=this.keyframes,{delay:N,duration:Y,easing:ke}=this.timings;if(this._stretchStartingKeyframe&&N){const ze=[],tt=Y+N,ft=N/tt,St=Bn(I[0],!1);St.offset=0,ze.push(St);const qt=Bn(I[0],!1);qt.offset=Zn(ft),ze.push(qt);const yn=I.length-1;for(let gn=1;gn<=yn;gn++){let ut=Bn(I[gn],!1);ut.offset=Zn((N+ut.offset*Y)/tt),ze.push(ut)}Y=tt,N=0,ke="",I=ze}return ui(this.element,I,this.preStyleProps,this.postStyleProps,Y,N,ke,!0)}}function Zn(pe,I=3){const N=Math.pow(10,I-1);return Math.round(pe*N)/N}class Or{}class cs extends Or{normalizePropertyName(I,N){return Et(I)}normalizeStyleValue(I,N,Y,ke){let ze="";const tt=Y.toString().trim();if(Oo[N]&&0!==Y&&"0"!==Y)if("number"==typeof Y)ze="px";else{const ft=Y.match(/^[+-]?[\d\.]+([a-z]*)$/);ft&&0==ft[1].length&&ke.push(`Please provide a CSS unit value for ${I}:${Y}`)}return tt+ze}}const Oo=(()=>function(pe){const I={};return pe.forEach(N=>I[N]=!0),I}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Eo(pe,I,N,Y,ke,ze,tt,ft,St,qt,yn,gn,ut){return{type:0,element:pe,triggerName:I,isRemovalTransition:ke,fromState:N,fromStyles:ze,toState:Y,toStyles:tt,timelines:ft,queriedElements:St,preStyleProps:qt,postStyleProps:yn,totalTime:gn,errors:ut}}const Ho={};class es{constructor(I,N,Y){this._triggerName=I,this.ast=N,this._stateStyles=Y}match(I,N,Y,ke){return function(pe,I,N,Y,ke){return pe.some(ze=>ze(I,N,Y,ke))}(this.ast.matchers,I,N,Y,ke)}buildStyles(I,N,Y){const ke=this._stateStyles["*"],ze=this._stateStyles[I],tt=ke?ke.buildStyles(N,Y):{};return ze?ze.buildStyles(N,Y):tt}build(I,N,Y,ke,ze,tt,ft,St,qt,yn){const gn=[],ut=this.ast.options&&this.ast.options.params||Ho,vt=this.buildStyles(Y,ft&&ft.params||Ho,gn),Wt=St&&St.params||Ho,un=this.buildStyles(ke,Wt,gn),mi=new Set,vi=new Map,yi=new Map,Do="void"===ke,Us={params:mn(mn({},ut),Wt)},To=yn?[]:so(I,N,this.ast.animation,ze,tt,vt,un,Us,qt,gn);let eo=0;if(To.forEach(si=>{eo=Math.max(si.duration+si.delay,eo)}),gn.length)return Eo(N,this._triggerName,Y,ke,Do,vt,un,[],[],vi,yi,eo,gn);To.forEach(si=>{const ws=si.element,Hi=Ze(vi,ws,{});si.preStyleProps.forEach(Zo=>Hi[Zo]=!0);const Fi=Ze(yi,ws,{});si.postStyleProps.forEach(Zo=>Fi[Zo]=!0),ws!==N&&mi.add(ws)});const ys=xt(mi.values());return Eo(N,this._triggerName,Y,ke,Do,vt,un,To,ys,vi,yi,eo)}}class Jr{constructor(I,N,Y){this.styles=I,this.defaultParams=N,this.normalizer=Y}buildStyles(I,N){const Y={},ke=Vi(this.defaultParams);return Object.keys(I).forEach(ze=>{const tt=I[ze];null!=tt&&(ke[ze]=tt)}),this.styles.styles.forEach(ze=>{if("string"!=typeof ze){const tt=ze;Object.keys(tt).forEach(ft=>{let St=tt[ft];St.length>1&&(St=Je(St,ke,N));const qt=this.normalizer.normalizePropertyName(ft,N);St=this.normalizer.normalizeStyleValue(ft,qt,St,N),Y[qt]=St})}}),Y}}class lo{constructor(I,N,Y){this.name=I,this.ast=N,this._normalizer=Y,this.transitionFactories=[],this.states={},N.states.forEach(ke=>{this.states[ke.name]=new Jr(ke.style,ke.options&&ke.options.params||{},Y)}),co(this.states,"true","1"),co(this.states,"false","0"),N.transitions.forEach(ke=>{this.transitionFactories.push(new es(I,ke,this.states))}),this.fallbackTransition=function(pe,I,N){return new es(pe,{type:1,animation:{type:2,steps:[],options:null},matchers:[(tt,ft)=>!0],options:null,queryCount:0,depCount:0},I)}(I,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(I,N,Y,ke){return this.transitionFactories.find(tt=>tt.match(I,N,Y,ke))||null}matchStyles(I,N,Y){return this.fallbackTransition.buildStyles(I,N,Y)}}function co(pe,I,N){pe.hasOwnProperty(I)?pe.hasOwnProperty(N)||(pe[N]=pe[I]):pe.hasOwnProperty(N)&&(pe[I]=pe[N])}const _r=new Ki;class Go{constructor(I,N,Y){this.bodyNode=I,this._driver=N,this._normalizer=Y,this._animations={},this._playersById={},this.players=[]}register(I,N){const Y=[],ke=An(this._driver,N,Y);if(Y.length)throw new Error(`Unable to build the animation due to the following errors: ${Y.join("\n")}`);this._animations[I]=ke}_buildPlayer(I,N,Y){const ke=I.element,ze=it(0,this._normalizer,0,I.keyframes,N,Y);return this._driver.animate(ke,ze,I.duration,I.delay,I.easing,[],!0)}create(I,N,Y={}){const ke=[],ze=this._animations[I];let tt;const ft=new Map;if(ze?(tt=so(this._driver,N,ze,wn,ci,{},{},Y,_r,ke),tt.forEach(yn=>{const gn=Ze(ft,yn.element,{});yn.postStyleProps.forEach(ut=>gn[ut]=null)})):(ke.push("The requested animation doesn't exist or has already been destroyed"),tt=[]),ke.length)throw new Error(`Unable to create the animation due to the following errors: ${ke.join("\n")}`);ft.forEach((yn,gn)=>{Object.keys(yn).forEach(ut=>{yn[ut]=this._driver.computeStyle(gn,ut,dt.l3)})});const qt=_n(tt.map(yn=>{const gn=ft.get(yn.element);return this._buildPlayer(yn,{},gn)}));return this._playersById[I]=qt,qt.onDestroy(()=>this.destroy(I)),this.players.push(qt),qt}destroy(I){const N=this._getPlayer(I);N.destroy(),delete this._playersById[I];const Y=this.players.indexOf(N);Y>=0&&this.players.splice(Y,1)}_getPlayer(I){const N=this._playersById[I];if(!N)throw new Error(`Unable to find the timeline player referenced by ${I}`);return N}listen(I,N,Y,ke){const ze=Fe(N,"","","");return st(this._getPlayer(I),Y,ze,ke),()=>{}}command(I,N,Y,ke){if("register"==Y)return void this.register(I,ke[0]);if("create"==Y)return void this.create(I,N,ke[0]||{});const ze=this._getPlayer(I);switch(Y){case"play":ze.play();break;case"pause":ze.pause();break;case"reset":ze.reset();break;case"restart":ze.restart();break;case"finish":ze.finish();break;case"init":ze.init();break;case"setPosition":ze.setPosition(parseFloat(ke[0]));break;case"destroy":this.destroy(I)}}}const Vr="ng-animate-queued",Fs="ng-animate-disabled",Gr=".ng-animate-disabled",Ys=[],Qs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},za={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mo="__ng_removed";class ns{constructor(I,N=""){this.namespaceId=N;const Y=I&&I.hasOwnProperty("value");if(this.value=null!=(pe=Y?I.value:I)?pe:null,Y){const ze=Vi(I);delete ze.value,this.options=ze}else this.options={};var pe;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(I){const N=I.params;if(N){const Y=this.options.params;Object.keys(N).forEach(ke=>{null==Y[ke]&&(Y[ke]=N[ke])})}}}const Js="void",Ls=new ns(Js);class Qa{constructor(I,N,Y){this.id=I,this.hostElement=N,this._engine=Y,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+I,Wr(N,this._hostClassName)}listen(I,N,Y,ke){if(!this._triggers.hasOwnProperty(N))throw new Error(`Unable to listen on the animation trigger event "${Y}" because the animation trigger "${N}" doesn't exist!`);if(null==Y||0==Y.length)throw new Error(`Unable to listen on the animation trigger "${N}" because the provided event is undefined!`);if("start"!=(pe=Y)&&"done"!=pe)throw new Error(`The provided animation trigger event "${Y}" for the animation trigger "${N}" is not supported!`);var pe;const ze=Ze(this._elementListeners,I,[]),tt={name:N,phase:Y,callback:ke};ze.push(tt);const ft=Ze(this._engine.statesByElement,I,{});return ft.hasOwnProperty(N)||(Wr(I,pi),Wr(I,pi+"-"+N),ft[N]=Ls),()=>{this._engine.afterFlush(()=>{const St=ze.indexOf(tt);St>=0&&ze.splice(St,1),this._triggers[N]||delete ft[N]})}}register(I,N){return!this._triggers[I]&&(this._triggers[I]=N,!0)}_getTrigger(I){const N=this._triggers[I];if(!N)throw new Error(`The provided animation trigger "${I}" has not been registered!`);return N}trigger(I,N,Y,ke=!0){const ze=this._getTrigger(N),tt=new $r(this.id,N,I);let ft=this._engine.statesByElement.get(I);ft||(Wr(I,pi),Wr(I,pi+"-"+N),this._engine.statesByElement.set(I,ft={}));let St=ft[N];const qt=new ns(Y,this.id);if(!(Y&&Y.hasOwnProperty("value"))&&St&&qt.absorbOptions(St.options),ft[N]=qt,St||(St=Ls),qt.value!==Js&&St.value===qt.value){if(!function(pe,I){const N=Object.keys(pe),Y=Object.keys(I);if(N.length!=Y.length)return!1;for(let ke=0;ke<N.length;ke++){const ze=N[ke];if(!I.hasOwnProperty(ze)||pe[ze]!==I[ze])return!1}return!0}(St.params,qt.params)){const Wt=[],un=ze.matchStyles(St.value,St.params,Wt),mi=ze.matchStyles(qt.value,qt.params,Wt);Wt.length?this._engine.reportError(Wt):this._engine.afterFlush(()=>{Oi(I,un),lr(I,mi)})}return}const ut=Ze(this._engine.playersByElement,I,[]);ut.forEach(Wt=>{Wt.namespaceId==this.id&&Wt.triggerName==N&&Wt.queued&&Wt.destroy()});let Nt=ze.matchTransition(St.value,qt.value,I,qt.params),vt=!1;if(!Nt){if(!ke)return;Nt=ze.fallbackTransition,vt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:I,triggerName:N,transition:Nt,fromState:St,toState:qt,player:tt,isFallbackTransition:vt}),vt||(Wr(I,Vr),tt.onStart(()=>{go(I,Vr)})),tt.onDone(()=>{let Wt=this.players.indexOf(tt);Wt>=0&&this.players.splice(Wt,1);const un=this._engine.playersByElement.get(I);if(un){let mi=un.indexOf(tt);mi>=0&&un.splice(mi,1)}}),this.players.push(tt),ut.push(tt),tt}deregister(I){delete this._triggers[I],this._engine.statesByElement.forEach((N,Y)=>{delete N[I]}),this._elementListeners.forEach((N,Y)=>{this._elementListeners.set(Y,N.filter(ke=>ke.name!=I))})}clearElementCache(I){this._engine.statesByElement.delete(I),this._elementListeners.delete(I);const N=this._engine.playersByElement.get(I);N&&(N.forEach(Y=>Y.destroy()),this._engine.playersByElement.delete(I))}_signalRemovalForInnerTriggers(I,N){const Y=this._engine.driver.query(I,Mi,!0);Y.forEach(ke=>{if(ke[Mo])return;const ze=this._engine.fetchNamespacesByElement(ke);ze.size?ze.forEach(tt=>tt.triggerLeaveAnimation(ke,N,!1,!0)):this.clearElementCache(ke)}),this._engine.afterFlushAnimationsDone(()=>Y.forEach(ke=>this.clearElementCache(ke)))}triggerLeaveAnimation(I,N,Y,ke){const ze=this._engine.statesByElement.get(I);if(ze){const tt=[];if(Object.keys(ze).forEach(ft=>{if(this._triggers[ft]){const St=this.trigger(I,ft,Js,ke);St&&tt.push(St)}}),tt.length)return this._engine.markElementAsRemoved(this.id,I,!0,N),Y&&_n(tt).onDone(()=>this._engine.processLeaveNode(I)),!0}return!1}prepareLeaveAnimationListeners(I){const N=this._elementListeners.get(I),Y=this._engine.statesByElement.get(I);if(N&&Y){const ke=new Set;N.forEach(ze=>{const tt=ze.name;if(ke.has(tt))return;ke.add(tt);const St=this._triggers[tt].fallbackTransition,qt=Y[tt]||Ls,yn=new ns(Js),gn=new $r(this.id,tt,I);this._engine.totalQueuedPlayers++,this._queue.push({element:I,triggerName:tt,transition:St,fromState:qt,toState:yn,player:gn,isFallbackTransition:!0})})}}removeNode(I,N){const Y=this._engine;if(I.childElementCount&&this._signalRemovalForInnerTriggers(I,N),this.triggerLeaveAnimation(I,N,!0))return;let ke=!1;if(Y.totalAnimations){const ze=Y.players.length?Y.playersByQueriedElement.get(I):[];if(ze&&ze.length)ke=!0;else{let tt=I;for(;tt=tt.parentNode;)if(Y.statesByElement.get(tt)){ke=!0;break}}}if(this.prepareLeaveAnimationListeners(I),ke)Y.markElementAsRemoved(this.id,I,!1,N);else{const ze=I[Mo];(!ze||ze===Qs)&&(Y.afterFlush(()=>this.clearElementCache(I)),Y.destroyInnerAnimations(I),Y._onRemovalComplete(I,N))}}insertNode(I,N){Wr(I,this._hostClassName)}drainQueuedTransitions(I){const N=[];return this._queue.forEach(Y=>{const ke=Y.player;if(ke.destroyed)return;const ze=Y.element,tt=this._elementListeners.get(ze);tt&&tt.forEach(ft=>{if(ft.name==Y.triggerName){const St=Fe(ze,Y.triggerName,Y.fromState.value,Y.toState.value);St._data=I,st(Y.player,ft.phase,St,ft.callback)}}),ke.markedForDestroy?this._engine.afterFlush(()=>{ke.destroy()}):N.push(Y)}),this._queue=[],N.sort((Y,ke)=>{const ze=Y.transition.ast.depCount,tt=ke.transition.ast.depCount;return 0==ze||0==tt?ze-tt:this._engine.driver.containsElement(Y.element,ke.element)?1:-1})}destroy(I){this.players.forEach(N=>N.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,I)}elementContainsData(I){let N=!1;return this._elementListeners.has(I)&&(N=!0),N=!!this._queue.find(Y=>Y.element===I)||N,N}}class cl{constructor(I,N,Y){this.bodyNode=I,this.driver=N,this._normalizer=Y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ke,ze)=>{}}_onRemovalComplete(I,N){this.onRemovalComplete(I,N)}get queuedPlayers(){const I=[];return this._namespaceList.forEach(N=>{N.players.forEach(Y=>{Y.queued&&I.push(Y)})}),I}createNamespace(I,N){const Y=new Qa(I,N,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,N)?this._balanceNamespaceList(Y,N):(this.newHostElements.set(N,Y),this.collectEnterElement(N)),this._namespaceLookup[I]=Y}_balanceNamespaceList(I,N){const Y=this._namespaceList.length-1;if(Y>=0){let ke=!1;for(let ze=Y;ze>=0;ze--)if(this.driver.containsElement(this._namespaceList[ze].hostElement,N)){this._namespaceList.splice(ze+1,0,I),ke=!0;break}ke||this._namespaceList.splice(0,0,I)}else this._namespaceList.push(I);return this.namespacesByHostElement.set(N,I),I}register(I,N){let Y=this._namespaceLookup[I];return Y||(Y=this.createNamespace(I,N)),Y}registerTrigger(I,N,Y){let ke=this._namespaceLookup[I];ke&&ke.register(N,Y)&&this.totalAnimations++}destroy(I,N){if(!I)return;const Y=this._fetchNamespace(I);this.afterFlush(()=>{this.namespacesByHostElement.delete(Y.hostElement),delete this._namespaceLookup[I];const ke=this._namespaceList.indexOf(Y);ke>=0&&this._namespaceList.splice(ke,1)}),this.afterFlushAnimationsDone(()=>Y.destroy(N))}_fetchNamespace(I){return this._namespaceLookup[I]}fetchNamespacesByElement(I){const N=new Set,Y=this.statesByElement.get(I);if(Y){const ke=Object.keys(Y);for(let ze=0;ze<ke.length;ze++){const tt=Y[ke[ze]].namespaceId;if(tt){const ft=this._fetchNamespace(tt);ft&&N.add(ft)}}}return N}trigger(I,N,Y,ke){if(Bs(N)){const ze=this._fetchNamespace(I);if(ze)return ze.trigger(N,Y,ke),!0}return!1}insertNode(I,N,Y,ke){if(!Bs(N))return;const ze=N[Mo];if(ze&&ze.setForRemoval){ze.setForRemoval=!1,ze.setForMove=!0;const tt=this.collectedLeaveElements.indexOf(N);tt>=0&&this.collectedLeaveElements.splice(tt,1)}if(I){const tt=this._fetchNamespace(I);tt&&tt.insertNode(N,Y)}ke&&this.collectEnterElement(N)}collectEnterElement(I){this.collectedEnterElements.push(I)}markElementAsDisabled(I,N){N?this.disabledNodes.has(I)||(this.disabledNodes.add(I),Wr(I,Fs)):this.disabledNodes.has(I)&&(this.disabledNodes.delete(I),go(I,Fs))}removeNode(I,N,Y,ke){if(Bs(N)){const ze=I?this._fetchNamespace(I):null;if(ze?ze.removeNode(N,ke):this.markElementAsRemoved(I,N,!1,ke),Y){const tt=this.namespacesByHostElement.get(N);tt&&tt.id!==I&&tt.removeNode(N,ke)}}else this._onRemovalComplete(N,ke)}markElementAsRemoved(I,N,Y,ke){this.collectedLeaveElements.push(N),N[Mo]={namespaceId:I,setForRemoval:ke,hasAnimation:Y,removedBeforeQueried:!1}}listen(I,N,Y,ke,ze){return Bs(N)?this._fetchNamespace(I).listen(N,Y,ke,ze):()=>{}}_buildInstruction(I,N,Y,ke,ze){return I.transition.build(this.driver,I.element,I.fromState.value,I.toState.value,Y,ke,I.fromState.options,I.toState.options,N,ze)}destroyInnerAnimations(I){let N=this.driver.query(I,Mi,!0);N.forEach(Y=>this.destroyActiveAnimationsForElement(Y)),0!=this.playersByQueriedElement.size&&(N=this.driver.query(I,Vo,!0),N.forEach(Y=>this.finishActiveQueriedAnimationOnElement(Y)))}destroyActiveAnimationsForElement(I){const N=this.playersByElement.get(I);N&&N.forEach(Y=>{Y.queued?Y.markedForDestroy=!0:Y.destroy()})}finishActiveQueriedAnimationOnElement(I){const N=this.playersByQueriedElement.get(I);N&&N.forEach(Y=>Y.finish())}whenRenderingDone(){return new Promise(I=>{if(this.players.length)return _n(this.players).onDone(()=>I());I()})}processLeaveNode(I){const N=I[Mo];if(N&&N.setForRemoval){if(I[Mo]=Qs,N.namespaceId){this.destroyInnerAnimations(I);const Y=this._fetchNamespace(N.namespaceId);Y&&Y.clearElementCache(I)}this._onRemovalComplete(I,N.setForRemoval)}this.driver.matchesElement(I,Gr)&&this.markElementAsDisabled(I,!1),this.driver.query(I,Gr,!0).forEach(Y=>{this.markElementAsDisabled(Y,!1)})}flush(I=-1){let N=[];if(this.newHostElements.size&&(this.newHostElements.forEach((Y,ke)=>this._balanceNamespaceList(Y,ke)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let Y=0;Y<this.collectedEnterElements.length;Y++)Wr(this.collectedEnterElements[Y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const Y=[];try{N=this._flushAnimations(Y,I)}finally{for(let ke=0;ke<Y.length;ke++)Y[ke]()}}else for(let Y=0;Y<this.collectedLeaveElements.length;Y++)this.processLeaveNode(this.collectedLeaveElements[Y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(Y=>Y()),this._flushFns=[],this._whenQuietFns.length){const Y=this._whenQuietFns;this._whenQuietFns=[],N.length?_n(N).onDone(()=>{Y.forEach(ke=>ke())}):Y.forEach(ke=>ke())}}reportError(I){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${I.join("\n")}`)}_flushAnimations(I,N){const Y=new Ki,ke=[],ze=new Map,tt=[],ft=new Map,St=new Map,qt=new Map,yn=new Set;this.disabledNodes.forEach(Pn=>{yn.add(Pn);const Kn=this.driver.query(Pn,".ng-animate-queued",!0);for(let ni=0;ni<Kn.length;ni++)yn.add(Kn[ni])});const gn=this.bodyNode,ut=Array.from(this.statesByElement.keys()),Nt=cr(ut,this.collectedEnterElements),vt=new Map;let Wt=0;Nt.forEach((Pn,Kn)=>{const ni=wn+Wt++;vt.set(Kn,ni),Pn.forEach(ei=>Wr(ei,ni))});const un=[],mi=new Set,vi=new Set;for(let Pn=0;Pn<this.collectedLeaveElements.length;Pn++){const Kn=this.collectedLeaveElements[Pn],ni=Kn[Mo];ni&&ni.setForRemoval&&(un.push(Kn),mi.add(Kn),ni.hasAnimation?this.driver.query(Kn,".ng-star-inserted",!0).forEach(ei=>mi.add(ei)):vi.add(Kn))}const yi=new Map,Do=cr(ut,Array.from(mi));Do.forEach((Pn,Kn)=>{const ni=ci+Wt++;yi.set(Kn,ni),Pn.forEach(ei=>Wr(ei,ni))}),I.push(()=>{Nt.forEach((Pn,Kn)=>{const ni=vt.get(Kn);Pn.forEach(ei=>go(ei,ni))}),Do.forEach((Pn,Kn)=>{const ni=yi.get(Kn);Pn.forEach(ei=>go(ei,ni))}),un.forEach(Pn=>{this.processLeaveNode(Pn)})});const Us=[],To=[];for(let Pn=this._namespaceList.length-1;Pn>=0;Pn--)this._namespaceList[Pn].drainQueuedTransitions(N).forEach(ni=>{const ei=ni.player,Zr=ni.element;if(Us.push(ei),this.collectedEnterElements.length){const rs=Zr[Mo];if(rs&&rs.setForMove)return void ei.destroy()}const _o=!gn||!this.driver.containsElement(gn,Zr),ds=yi.get(Zr),Ko=vt.get(Zr),Ar=this._buildInstruction(ni,Y,Ko,ds,_o);if(Ar.errors&&Ar.errors.length)To.push(Ar);else{if(_o)return ei.onStart(()=>Oi(Zr,Ar.fromStyles)),ei.onDestroy(()=>lr(Zr,Ar.toStyles)),void ke.push(ei);if(ni.isFallbackTransition)return ei.onStart(()=>Oi(Zr,Ar.fromStyles)),ei.onDestroy(()=>lr(Zr,Ar.toStyles)),void ke.push(ei);Ar.timelines.forEach(rs=>rs.stretchStartingKeyframe=!0),Y.append(Zr,Ar.timelines),tt.push({instruction:Ar,player:ei,element:Zr}),Ar.queriedElements.forEach(rs=>Ze(ft,rs,[]).push(ei)),Ar.preStyleProps.forEach((rs,Ha)=>{const Ca=Object.keys(rs);if(Ca.length){let So=St.get(Ha);So||St.set(Ha,So=new Set),Ca.forEach(K=>So.add(K))}}),Ar.postStyleProps.forEach((rs,Ha)=>{const Ca=Object.keys(rs);let So=qt.get(Ha);So||qt.set(Ha,So=new Set),Ca.forEach(K=>So.add(K))})}});if(To.length){const Pn=[];To.forEach(Kn=>{Pn.push(`@${Kn.triggerName} has failed due to:\n`),Kn.errors.forEach(ni=>Pn.push(`- ${ni}\n`))}),Us.forEach(Kn=>Kn.destroy()),this.reportError(Pn)}const eo=new Map,ys=new Map;tt.forEach(Pn=>{const Kn=Pn.element;Y.has(Kn)&&(ys.set(Kn,Kn),this._beforeAnimationBuild(Pn.player.namespaceId,Pn.instruction,eo))}),ke.forEach(Pn=>{const Kn=Pn.element;this._getPreviousPlayers(Kn,!1,Pn.namespaceId,Pn.triggerName,null).forEach(ei=>{Ze(eo,Kn,[]).push(ei),ei.destroy()})});const si=un.filter(Pn=>Nr(Pn,St,qt)),ws=new Map;Ji(ws,this.driver,vi,qt,dt.l3).forEach(Pn=>{Nr(Pn,St,qt)&&si.push(Pn)});const Fi=new Map;Nt.forEach((Pn,Kn)=>{Ji(Fi,this.driver,new Set(Pn),St,dt.k1)}),si.forEach(Pn=>{const Kn=ws.get(Pn),ni=Fi.get(Pn);ws.set(Pn,mn(mn({},Kn),ni))});const Zo=[],fa=[],Rr={};tt.forEach(Pn=>{const{element:Kn,player:ni,instruction:ei}=Pn;if(Y.has(Kn)){if(yn.has(Kn))return ni.onDestroy(()=>lr(Kn,ei.toStyles)),ni.disabled=!0,ni.overrideTotalTime(ei.totalTime),void ke.push(ni);let Zr=Rr;if(ys.size>1){let ds=Kn;const Ko=[];for(;ds=ds.parentNode;){const Ar=ys.get(ds);if(Ar){Zr=Ar;break}Ko.push(ds)}Ko.forEach(Ar=>ys.set(Ar,Zr))}const _o=this._buildAnimation(ni.namespaceId,ei,eo,ze,Fi,ws);if(ni.setRealPlayer(_o),Zr===Rr)Zo.push(ni);else{const ds=this.playersByElement.get(Zr);ds&&ds.length&&(ni.parentPlayer=_n(ds)),ke.push(ni)}}else Oi(Kn,ei.fromStyles),ni.onDestroy(()=>lr(Kn,ei.toStyles)),fa.push(ni),yn.has(Kn)&&ke.push(ni)}),fa.forEach(Pn=>{const Kn=ze.get(Pn.element);if(Kn&&Kn.length){const ni=_n(Kn);Pn.setRealPlayer(ni)}}),ke.forEach(Pn=>{Pn.parentPlayer?Pn.syncPlayerEvents(Pn.parentPlayer):Pn.destroy()});for(let Pn=0;Pn<un.length;Pn++){const Kn=un[Pn],ni=Kn[Mo];if(go(Kn,ci),ni&&ni.hasAnimation)continue;let ei=[];if(ft.size){let _o=ft.get(Kn);_o&&_o.length&&ei.push(..._o);let ds=this.driver.query(Kn,Vo,!0);for(let Ko=0;Ko<ds.length;Ko++){let Ar=ft.get(ds[Ko]);Ar&&Ar.length&&ei.push(...Ar)}}const Zr=ei.filter(_o=>!_o.destroyed);Zr.length?$o(this,Kn,Zr):this.processLeaveNode(Kn)}return un.length=0,Zo.forEach(Pn=>{this.players.push(Pn),Pn.onDone(()=>{Pn.destroy();const Kn=this.players.indexOf(Pn);this.players.splice(Kn,1)}),Pn.play()}),Zo}elementContainsData(I,N){let Y=!1;const ke=N[Mo];return ke&&ke.setForRemoval&&(Y=!0),this.playersByElement.has(N)&&(Y=!0),this.playersByQueriedElement.has(N)&&(Y=!0),this.statesByElement.has(N)&&(Y=!0),this._fetchNamespace(I).elementContainsData(N)||Y}afterFlush(I){this._flushFns.push(I)}afterFlushAnimationsDone(I){this._whenQuietFns.push(I)}_getPreviousPlayers(I,N,Y,ke,ze){let tt=[];if(N){const ft=this.playersByQueriedElement.get(I);ft&&(tt=ft)}else{const ft=this.playersByElement.get(I);if(ft){const St=!ze||ze==Js;ft.forEach(qt=>{qt.queued||!St&&qt.triggerName!=ke||tt.push(qt)})}}return(Y||ke)&&(tt=tt.filter(ft=>!(Y&&Y!=ft.namespaceId||ke&&ke!=ft.triggerName))),tt}_beforeAnimationBuild(I,N,Y){const ze=N.element,tt=N.isRemovalTransition?void 0:I,ft=N.isRemovalTransition?void 0:N.triggerName;for(const St of N.timelines){const qt=St.element,yn=qt!==ze,gn=Ze(Y,qt,[]);this._getPreviousPlayers(qt,yn,tt,ft,N.toState).forEach(Nt=>{const vt=Nt.getRealPlayer();vt.beforeDestroy&&vt.beforeDestroy(),Nt.destroy(),gn.push(Nt)})}Oi(ze,N.fromStyles)}_buildAnimation(I,N,Y,ke,ze,tt){const ft=N.triggerName,St=N.element,qt=[],yn=new Set,gn=new Set,ut=N.timelines.map(vt=>{const Wt=vt.element;yn.add(Wt);const un=Wt[Mo];if(un&&un.removedBeforeQueried)return new dt.ZN(vt.duration,vt.delay);const mi=Wt!==St,vi=function(pe){const I=[];return Fo(pe,I),I}((Y.get(Wt)||Ys).map(eo=>eo.getRealPlayer())).filter(eo=>!!eo.element&&eo.element===Wt),yi=ze.get(Wt),Do=tt.get(Wt),Us=it(0,this._normalizer,0,vt.keyframes,yi,Do),To=this._buildPlayer(vt,Us,vi);if(vt.subTimeline&&ke&&gn.add(Wt),mi){const eo=new $r(I,ft,Wt);eo.setRealPlayer(To),qt.push(eo)}return To});qt.forEach(vt=>{Ze(this.playersByQueriedElement,vt.element,[]).push(vt),vt.onDone(()=>function(pe,I,N){let Y;if(pe instanceof Map){if(Y=pe.get(I),Y){if(Y.length){const ke=Y.indexOf(N);Y.splice(ke,1)}0==Y.length&&pe.delete(I)}}else if(Y=pe[I],Y){if(Y.length){const ke=Y.indexOf(N);Y.splice(ke,1)}0==Y.length&&delete pe[I]}return Y}(this.playersByQueriedElement,vt.element,vt))}),yn.forEach(vt=>Wr(vt,Ai));const Nt=_n(ut);return Nt.onDestroy(()=>{yn.forEach(vt=>go(vt,Ai)),lr(St,N.toStyles)}),gn.forEach(vt=>{Ze(ke,vt,[]).push(Nt)}),Nt}_buildPlayer(I,N,Y){return N.length>0?this.driver.animate(I.element,N,I.duration,I.delay,I.easing,Y):new dt.ZN(I.duration,I.delay)}}class $r{constructor(I,N,Y){this.namespaceId=I,this.triggerName=N,this.element=Y,this._player=new dt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(I){this._containsRealPlayer||(this._player=I,Object.keys(this._queuedCallbacks).forEach(N=>{this._queuedCallbacks[N].forEach(Y=>st(I,N,void 0,Y))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(I.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(I){this.totalTime=I}syncPlayerEvents(I){const N=this._player;N.triggerCallback&&I.onStart(()=>N.triggerCallback("start")),I.onDone(()=>this.finish()),I.onDestroy(()=>this.destroy())}_queueEvent(I,N){Ze(this._queuedCallbacks,I,[]).push(N)}onDone(I){this.queued&&this._queueEvent("done",I),this._player.onDone(I)}onStart(I){this.queued&&this._queueEvent("start",I),this._player.onStart(I)}onDestroy(I){this.queued&&this._queueEvent("destroy",I),this._player.onDestroy(I)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(I){this.queued||this._player.setPosition(I)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(I){const N=this._player;N.triggerCallback&&N.triggerCallback(I)}}function Bs(pe){return pe&&1===pe.nodeType}function xs(pe,I){const N=pe.style.display;return pe.style.display=null!=I?I:"none",N}function Ji(pe,I,N,Y,ke){const ze=[];N.forEach(St=>ze.push(xs(St)));const tt=[];Y.forEach((St,qt)=>{const yn={};St.forEach(gn=>{const ut=yn[gn]=I.computeStyle(qt,gn,ke);(!ut||0==ut.length)&&(qt[Mo]=za,tt.push(qt))}),pe.set(qt,yn)});let ft=0;return N.forEach(St=>xs(St,ze[ft++])),tt}function cr(pe,I){const N=new Map;if(pe.forEach(ft=>N.set(ft,[])),0==I.length)return N;const ke=new Set(I),ze=new Map;function tt(ft){if(!ft)return 1;let St=ze.get(ft);if(St)return St;const qt=ft.parentNode;return St=N.has(qt)?qt:ke.has(qt)?1:tt(qt),ze.set(ft,St),St}return I.forEach(ft=>{const St=tt(ft);1!==St&&N.get(St).push(ft)}),N}const ta="$$classes";function Wr(pe,I){if(pe.classList)pe.classList.add(I);else{let N=pe[ta];N||(N=pe[ta]={}),N[I]=!0}}function go(pe,I){if(pe.classList)pe.classList.remove(I);else{let N=pe[ta];N&&delete N[I]}}function $o(pe,I,N){_n(N).onDone(()=>pe.processLeaveNode(I))}function Fo(pe,I){for(let N=0;N<pe.length;N++){const Y=pe[N];Y instanceof dt.ZE?Fo(Y.players,I):I.push(Y)}}function Nr(pe,I,N){const Y=N.get(pe);if(!Y)return!1;let ke=I.get(pe);return ke?Y.forEach(ze=>ke.add(ze)):I.set(pe,Y),N.delete(pe),!0}class ya{constructor(I,N,Y){this.bodyNode=I,this._driver=N,this._normalizer=Y,this._triggerCache={},this.onRemovalComplete=(ke,ze)=>{},this._transitionEngine=new cl(I,N,Y),this._timelineEngine=new Go(I,N,Y),this._transitionEngine.onRemovalComplete=(ke,ze)=>this.onRemovalComplete(ke,ze)}registerTrigger(I,N,Y,ke,ze){const tt=I+"-"+ke;let ft=this._triggerCache[tt];if(!ft){const St=[],qt=An(this._driver,ze,St);if(St.length)throw new Error(`The animation trigger "${ke}" has failed to build due to the following errors:\n - ${St.join("\n - ")}`);ft=function(pe,I,N){return new lo(pe,I,N)}(ke,qt,this._normalizer),this._triggerCache[tt]=ft}this._transitionEngine.registerTrigger(N,ke,ft)}register(I,N){this._transitionEngine.register(I,N)}destroy(I,N){this._transitionEngine.destroy(I,N)}onInsert(I,N,Y,ke){this._transitionEngine.insertNode(I,N,Y,ke)}onRemove(I,N,Y,ke){this._transitionEngine.removeNode(I,N,ke||!1,Y)}disableAnimations(I,N){this._transitionEngine.markElementAsDisabled(I,N)}process(I,N,Y,ke){if("@"==Y.charAt(0)){const[ze,tt]=Ie(Y);this._timelineEngine.command(ze,N,tt,ke)}else this._transitionEngine.trigger(I,N,Y,ke)}listen(I,N,Y,ke,ze){if("@"==Y.charAt(0)){const[tt,ft]=Ie(Y);return this._timelineEngine.listen(tt,N,ft,ze)}return this._transitionEngine.listen(I,N,Y,ke,ze)}flush(I=-1){this._transitionEngine.flush(I)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function bs(pe,I){let N=null,Y=null;return Array.isArray(I)&&I.length?(N=kr(I[0]),I.length>1&&(Y=kr(I[I.length-1]))):I&&(N=kr(I)),N||Y?new us(pe,N,Y):null}let us=(()=>{class pe{constructor(N,Y,ke){this._element=N,this._startStyles=Y,this._endStyles=ke,this._state=0;let ze=pe.initialStylesByElement.get(N);ze||pe.initialStylesByElement.set(N,ze={}),this._initialStyles=ze}start(){this._state<1&&(this._startStyles&&lr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lr(this._element,this._initialStyles),this._endStyles&&(lr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(pe.initialStylesByElement.delete(this._element),this._startStyles&&(Oi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Oi(this._element,this._endStyles),this._endStyles=null),lr(this._element,this._initialStyles),this._state=3)}}return pe.initialStylesByElement=new WeakMap,pe})();function kr(pe){let I=null;const N=Object.keys(pe);for(let Y=0;Y<N.length;Y++){const ke=N[Y];ie(ke)&&(I=I||{},I[ke]=pe[ke])}return I}function ie(pe){return"display"===pe||"position"===pe}const je="animation",Xe="animationend";class ue{constructor(I,N,Y,ke,ze,tt,ft){this._element=I,this._name=N,this._duration=Y,this._delay=ke,this._easing=ze,this._fillMode=tt,this._onDoneFn=ft,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=St=>this._handleCallback(St)}apply(){(function(pe,I){const N=kt(pe,"").trim();let Y=0;N.length&&(function(pe,I){let N=0;for(let Y=0;Y<pe.length;Y++)","===pe.charAt(Y)&&N++;return N}(N)+1,I=`${N}, ${I}`),Ce(pe,"",I)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),G(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){$(this._element,this._name,"paused")}resume(){$(this._element,this._name,"running")}setPosition(I){const N=z(this._element,this._name);this._position=I*this._duration,Ce(this._element,"Delay",`-${this._position}ms`,N)}getPosition(){return this._position}_handleCallback(I){const N=I._ngTestManualTimestamp||Date.now(),Y=1e3*parseFloat(I.elapsedTime.toFixed(3));I.animationName==this._name&&Math.max(N-this._startTime,0)>=this._delay&&Y>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),G(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(pe,I){const Y=kt(pe,"").split(","),ke=q(Y,I);ke>=0&&(Y.splice(ke,1),Ce(pe,"",Y.join(",")))}(this._element,this._name))}}function $(pe,I,N){Ce(pe,"PlayState",N,z(pe,I))}function z(pe,I){const N=kt(pe,"");return N.indexOf(",")>0?q(N.split(","),I):q([N],I)}function q(pe,I){for(let N=0;N<pe.length;N++)if(pe[N].indexOf(I)>=0)return N;return-1}function G(pe,I,N){N?pe.removeEventListener(Xe,I):pe.addEventListener(Xe,I)}function Ce(pe,I,N,Y){const ke=je+I;if(null!=Y){const ze=pe.style[ke];if(ze.length){const tt=ze.split(",");tt[Y]=N,N=tt.join(",")}}pe.style[ke]=N}function kt(pe,I){return pe.style[je+I]||""}class ii{constructor(I,N,Y,ke,ze,tt,ft,St){this.element=I,this.keyframes=N,this.animationName=Y,this._duration=ke,this._delay=ze,this._finalStyles=ft,this._specialStyles=St,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=tt||"linear",this.totalTime=ke+ze,this._buildStyler()}onStart(I){this._onStartFns.push(I)}onDone(I){this._onDoneFns.push(I)}onDestroy(I){this._onDestroyFns.push(I)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(I=>I()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(I=>I()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(I=>I()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(I){this._styler.setPosition(I)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ue(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(I){const N="start"==I?this._onStartFns:this._onDoneFns;N.forEach(Y=>Y()),N.length=0}beforeDestroy(){this.init();const I={};if(this.hasStarted()){const N=this._state>=3;Object.keys(this._finalStyles).forEach(Y=>{"offset"!=Y&&(I[Y]=N?this._finalStyles[Y]:Ei(this.element,Y))})}this.currentSnapshot=I}}class Ri extends dt.ZN{constructor(I,N){super(),this.element=I,this._startingStyles={},this.__initialized=!1,this._styles=Zi(N)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(I=>{this._startingStyles[I]=this.element.style[I]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(I=>this.element.style.setProperty(I,this._styles[I])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(I=>{const N=this._startingStyles[I];N?this.element.style.setProperty(I,N):this.element.style.removeProperty(I)}),this._startingStyles=null,super.destroy())}}class Mr{constructor(){this._count=0}validateStyleProperty(I){return Ht(I)}matchesElement(I,N){return oi(I,N)}containsElement(I,N){return $n(I,N)}query(I,N,Y){return xi(I,N,Y)}computeStyle(I,N,Y){return window.getComputedStyle(I)[N]}buildKeyframeElement(I,N,Y){Y=Y.map(ft=>Zi(ft));let ke=`@keyframes ${N} {\n`,ze="";Y.forEach(ft=>{ze=" ";const St=parseFloat(ft.offset);ke+=`${ze}${100*St}% {\n`,ze+=" ",Object.keys(ft).forEach(qt=>{const yn=ft[qt];switch(qt){case"offset":return;case"easing":return void(yn&&(ke+=`${ze}animation-timing-function: ${yn};\n`));default:return void(ke+=`${ze}${qt}: ${yn};\n`)}}),ke+=`${ze}}\n`}),ke+="}\n";const tt=document.createElement("style");return tt.textContent=ke,tt}animate(I,N,Y,ke,ze,tt=[],ft){const St=tt.filter(un=>un instanceof ii),qt={};Nn(Y,ke)&&St.forEach(un=>{let mi=un.currentSnapshot;Object.keys(mi).forEach(vi=>qt[vi]=mi[vi])});const yn=function(pe){let I={};return pe&&(Array.isArray(pe)?pe:[pe]).forEach(Y=>{Object.keys(Y).forEach(ke=>{"offset"==ke||"easing"==ke||(I[ke]=Y[ke])})}),I}(N=Wn(I,N,qt));if(0==Y)return new Ri(I,yn);const gn="gen_css_kf_"+this._count++,ut=this.buildKeyframeElement(I,gn,N);(function(pe){var N;const I=null==(N=pe.getRootNode)?void 0:N.call(pe);return"undefined"!=typeof ShadowRoot&&I instanceof ShadowRoot?I:document.head})(I).appendChild(ut);const vt=bs(I,N),Wt=new ii(I,N,gn,Y,ke,ze,yn,vt);return Wt.onDestroy(()=>{var pe;(pe=ut).parentNode.removeChild(pe)}),Wt}}class nc{constructor(I,N,Y,ke){this.element=I,this.keyframes=N,this.options=Y,this._specialStyles=ke,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=Y.duration,this._delay=Y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(I=>I()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const I=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,I,this.options),this._finalKeyframe=I.length?I[I.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(I,N,Y){return I.animate(N,Y)}onStart(I){this._onStartFns.push(I)}onDone(I){this._onDoneFns.push(I)}onDestroy(I){this._onDestroyFns.push(I)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(I=>I()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(I=>I()),this._onDestroyFns=[])}setPosition(I){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=I*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const I={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(N=>{"offset"!=N&&(I[N]=this._finished?this._finalKeyframe[N]:Ei(this.element,N))}),this.currentSnapshot=I}triggerCallback(I){const N="start"==I?this._onStartFns:this._onDoneFns;N.forEach(Y=>Y()),N.length=0}}class Mc{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Sl().toString()),this._cssKeyframesDriver=new Mr}validateStyleProperty(I){return Ht(I)}matchesElement(I,N){return oi(I,N)}containsElement(I,N){return $n(I,N)}query(I,N,Y){return xi(I,N,Y)}computeStyle(I,N,Y){return window.getComputedStyle(I)[N]}overrideWebAnimationsSupport(I){this._isNativeImpl=I}animate(I,N,Y,ke,ze,tt=[],ft){if(!ft&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(I,N,Y,ke,ze,tt);const yn={duration:Y,delay:ke,fill:0==ke?"both":"forwards"};ze&&(yn.easing=ze);const gn={},ut=tt.filter(vt=>vt instanceof nc);Nn(Y,ke)&&ut.forEach(vt=>{let Wt=vt.currentSnapshot;Object.keys(Wt).forEach(un=>gn[un]=Wt[un])});const Nt=bs(I,N=Wn(I,N=N.map(vt=>Bn(vt,!1)),gn));return new nc(I,N,yn,Nt)}}function Sl(){return Jt()&&Element.prototype.animate||{}}var ic=X(6019);let an=(()=>{class pe extends dt._j{constructor(N,Y){super(),this._nextAnimationId=0,this._renderer=N.createRenderer(Y.body,{id:"0",encapsulation:P.ifc.None,styles:[],data:{animation:[]}})}build(N){const Y=this._nextAnimationId.toString();this._nextAnimationId++;const ke=Array.isArray(N)?(0,dt.vP)(N):N;return Co(this._renderer,null,Y,"register",[ke]),new Di(Y,this._renderer)}}return pe.\u0275fac=function(N){return new(N||pe)(P.LFG(P.FYo),P.LFG(ic.K0))},pe.\u0275prov=P.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class Di extends dt.LC{constructor(I,N){super(),this._id=I,this._renderer=N}create(I,N){return new ul(this._id,I,N||{},this._renderer)}}class ul{constructor(I,N,Y,ke){this.id=I,this.element=N,this._renderer=ke,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",Y)}_listen(I,N){return this._renderer.listen(this.element,`@@${this.id}:${I}`,N)}_command(I,...N){return Co(this._renderer,this.element,this.id,I,N)}onDone(I){this._listen("done",I)}onStart(I){this._listen("start",I)}onDestroy(I){this._listen("destroy",I)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(I){this._command("setPosition",I)}getPosition(){var I,N;return null!=(N=null==(I=this._renderer.engine.players[+this.id])?void 0:I.getPosition())?N:0}}function Co(pe,I,N,Y,ke){return pe.setProperty(I,`@@${N}:${Y}`,ke)}const Wo="@.disabled";let Ms=(()=>{class pe{constructor(N,Y,ke){this.delegate=N,this.engine=Y,this._zone=ke,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),Y.onRemovalComplete=(ze,tt)=>{const ft=null==tt?void 0:tt.parentNode(ze);ft&&tt.removeChild(ft,ze)}}createRenderer(N,Y){const ze=this.delegate.createRenderer(N,Y);if(!(N&&Y&&Y.data&&Y.data.animation)){let yn=this._rendererCache.get(ze);return yn||(yn=new Vs("",ze,this.engine),this._rendererCache.set(ze,yn)),yn}const tt=Y.id,ft=Y.id+"-"+this._currentId;this._currentId++,this.engine.register(ft,N);const St=yn=>{Array.isArray(yn)?yn.forEach(St):this.engine.registerTrigger(tt,ft,N,yn.name,yn)};return Y.data.animation.forEach(St),new dl(this,ft,ze,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(N,Y,ke){N>=0&&N<this._microtaskId?this._zone.run(()=>Y(ke)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ze=>{const[tt,ft]=ze;tt(ft)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([Y,ke]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return pe.\u0275fac=function(N){return new(N||pe)(P.LFG(P.FYo),P.LFG(ya),P.LFG(P.R0b))},pe.\u0275prov=P.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class Vs{constructor(I,N,Y){this.namespaceId=I,this.delegate=N,this.engine=Y,this.destroyNode=this.delegate.destroyNode?ke=>N.destroyNode(ke):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(I,N){return this.delegate.createElement(I,N)}createComment(I){return this.delegate.createComment(I)}createText(I){return this.delegate.createText(I)}appendChild(I,N){this.delegate.appendChild(I,N),this.engine.onInsert(this.namespaceId,N,I,!1)}insertBefore(I,N,Y,ke=!0){this.delegate.insertBefore(I,N,Y),this.engine.onInsert(this.namespaceId,N,I,ke)}removeChild(I,N,Y){this.engine.onRemove(this.namespaceId,N,this.delegate,Y)}selectRootElement(I,N){return this.delegate.selectRootElement(I,N)}parentNode(I){return this.delegate.parentNode(I)}nextSibling(I){return this.delegate.nextSibling(I)}setAttribute(I,N,Y,ke){this.delegate.setAttribute(I,N,Y,ke)}removeAttribute(I,N,Y){this.delegate.removeAttribute(I,N,Y)}addClass(I,N){this.delegate.addClass(I,N)}removeClass(I,N){this.delegate.removeClass(I,N)}setStyle(I,N,Y,ke){this.delegate.setStyle(I,N,Y,ke)}removeStyle(I,N,Y){this.delegate.removeStyle(I,N,Y)}setProperty(I,N,Y){"@"==N.charAt(0)&&N==Wo?this.disableAnimations(I,!!Y):this.delegate.setProperty(I,N,Y)}setValue(I,N){this.delegate.setValue(I,N)}listen(I,N,Y){return this.delegate.listen(I,N,Y)}disableAnimations(I,N){this.engine.disableAnimations(I,N)}}class dl extends Vs{constructor(I,N,Y,ke){super(N,Y,ke),this.factory=I,this.namespaceId=N}setProperty(I,N,Y){"@"==N.charAt(0)?"."==N.charAt(1)&&N==Wo?this.disableAnimations(I,Y=void 0===Y||!!Y):this.engine.process(this.namespaceId,I,N.substr(1),Y):this.delegate.setProperty(I,N,Y)}listen(I,N,Y){if("@"==N.charAt(0)){const ke=function(pe){switch(pe){case"body":return document.body;case"document":return document;case"window":return window;default:return pe}}(I);let ze=N.substr(1),tt="";return"@"!=ze.charAt(0)&&([ze,tt]=function(pe){const I=pe.indexOf(".");return[pe.substring(0,I),pe.substr(I+1)]}(ze)),this.engine.listen(this.namespaceId,ke,ze,tt,ft=>{this.factory.scheduleListenerCallback(ft._data||-1,Y,ft)})}return this.delegate.listen(I,N,Y)}}let wa=(()=>{class pe extends ya{constructor(N,Y,ke){super(N.body,Y,ke)}ngOnDestroy(){this.flush()}}return pe.\u0275fac=function(N){return new(N||pe)(P.LFG(ic.K0),P.LFG(Tn),P.LFG(Or))},pe.\u0275prov=P.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const da=new P.OlP("AnimationModuleType"),ha=[{provide:dt._j,useClass:an},{provide:Or,useFactory:function(){return new cs}},{provide:ya,useClass:wa},{provide:P.FYo,useFactory:function(pe,I,N){return new Ms(pe,I,N)},deps:[m.se,ya,P.R0b]}],vr=[{provide:Tn,useFactory:function(){return"function"==typeof Sl()?new Mc:new Mr}},{provide:da,useValue:"BrowserAnimations"},...ha],Gl=[{provide:Tn,useClass:Sr},{provide:da,useValue:"NoopAnimations"},...ha];let Ua=(()=>{class pe{static withConfig(N){return{ngModule:pe,providers:N.disableAnimations?Gl:vr}}}return pe.\u0275fac=function(N){return new(N||pe)},pe.\u0275mod=P.oAB({type:pe}),pe.\u0275inj=P.cJS({providers:vr,imports:[m.b2]}),pe})(),pl=(()=>{class pe{}return pe.\u0275fac=function(N){return new(N||pe)},pe.\u0275mod=P.oAB({type:pe,bootstrap:[we]}),pe.\u0275inj=P.cJS({providers:[Ve.e],imports:[[m.b2,yt,gt.K,ne.AboutUsModule,Ne.ServicesModule,Se.ProductsModule,be.AddressModule,ge.SectorsModule,_e.TermsModule,me.PrivacyModule,Z.CookiesModule,Le.DisclaimerModule,he.DisclosureModule,le.CustomerGrievenceModule,At.hO.initializeApp(oe_firebaseConfig),rt.ef,Ua]]}),pe})();(0,P.G48)(),m.q6().bootstrapModule(pl).catch(pe=>console.error(pe))},1052:Kt=>{function _t(m,P,Ve,oe,le,he,Le){try{var Z=m[he](Le),me=Z.value}catch(_e){return void Ve(_e)}Z.done?P(me):Promise.resolve(me).then(oe,le)}Kt.exports=function(m){return function(){var P=this,Ve=arguments;return new Promise(function(oe,le){var he=m.apply(P,Ve);function Le(me){_t(he,oe,le,Le,Z,"next",me)}function Z(me){_t(he,oe,le,Le,Z,"throw",me)}Le(void 0)})}},Kt.exports.default=Kt.exports,Kt.exports.__esModule=!0},4762:(Kt,_t,X)=>{"use strict";X.d(_t,{ZT:()=>P,pi:()=>Ve,gn:()=>le,fM:()=>he,w6:()=>Le,mG:()=>Z,Jh:()=>me,XA:()=>be,CR:()=>Se,ev:()=>Ee});var m=function(st,Te){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Fe,Ze){Fe.__proto__=Ze}||function(Fe,Ze){for(var Ie in Ze)Object.prototype.hasOwnProperty.call(Ze,Ie)&&(Fe[Ie]=Ze[Ie])})(st,Te)};function P(st,Te){if("function"!=typeof Te&&null!==Te)throw new TypeError("Class extends value "+String(Te)+" is not a constructor or null");function Fe(){this.constructor=st}m(st,Te),st.prototype=null===Te?Object.create(Te):(Fe.prototype=Te.prototype,new Fe)}var Ve=function(){return Ve=Object.assign||function(Te){for(var Fe,Ze=1,Ie=arguments.length;Ze<Ie;Ze++)for(var $e in Fe=arguments[Ze])Object.prototype.hasOwnProperty.call(Fe,$e)&&(Te[$e]=Fe[$e]);return Te},Ve.apply(this,arguments)};function le(st,Te,Fe,Ze){var at,Ie=arguments.length,$e=Ie<3?Te:null===Ze?Ze=Object.getOwnPropertyDescriptor(Te,Fe):Ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$e=Reflect.decorate(st,Te,Fe,Ze);else for(var jt=st.length-1;jt>=0;jt--)(at=st[jt])&&($e=(Ie<3?at($e):Ie>3?at(Te,Fe,$e):at(Te,Fe))||$e);return Ie>3&&$e&&Object.defineProperty(Te,Fe,$e),$e}function he(st,Te){return function(Fe,Ze){Te(Fe,Ze,st)}}function Le(st,Te){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(st,Te)}function Z(st,Te,Fe,Ze){return new(Fe||(Fe=Promise))(function($e,at){function jt(Ot){try{Xt(Ze.next(Ot))}catch(tn){at(tn)}}function Vt(Ot){try{Xt(Ze.throw(Ot))}catch(tn){at(tn)}}function Xt(Ot){Ot.done?$e(Ot.value):function($e){return $e instanceof Fe?$e:new Fe(function(at){at($e)})}(Ot.value).then(jt,Vt)}Xt((Ze=Ze.apply(st,Te||[])).next())})}function me(st,Te){var Ze,Ie,$e,at,Fe={label:0,sent:function(){if(1&$e[0])throw $e[1];return $e[1]},trys:[],ops:[]};return at={next:jt(0),throw:jt(1),return:jt(2)},"function"==typeof Symbol&&(at[Symbol.iterator]=function(){return this}),at;function jt(Xt){return function(Ot){return function(Xt){if(Ze)throw new TypeError("Generator is already executing.");for(;at&&(at=0,Xt[0]&&(Fe=0)),Fe;)try{if(Ze=1,Ie&&($e=2&Xt[0]?Ie.return:Xt[0]?Ie.throw||(($e=Ie.return)&&$e.call(Ie),0):Ie.next)&&!($e=$e.call(Ie,Xt[1])).done)return $e;switch(Ie=0,$e&&(Xt=[2&Xt[0],$e.value]),Xt[0]){case 0:case 1:$e=Xt;break;case 4:return Fe.label++,{value:Xt[1],done:!1};case 5:Fe.label++,Ie=Xt[1],Xt=[0];continue;case 7:Xt=Fe.ops.pop(),Fe.trys.pop();continue;default:if(!($e=($e=Fe.trys).length>0&&$e[$e.length-1])&&(6===Xt[0]||2===Xt[0])){Fe=0;continue}if(3===Xt[0]&&(!$e||Xt[1]>$e[0]&&Xt[1]<$e[3])){Fe.label=Xt[1];break}if(6===Xt[0]&&Fe.label<$e[1]){Fe.label=$e[1],$e=Xt;break}if($e&&Fe.label<$e[2]){Fe.label=$e[2],Fe.ops.push(Xt);break}$e[2]&&Fe.ops.pop(),Fe.trys.pop();continue}Xt=Te.call(st,Fe)}catch(Ot){Xt=[6,Ot],Ie=0}finally{Ze=$e=0}if(5&Xt[0])throw Xt[1];return{value:Xt[0]?Xt[1]:void 0,done:!0}}([Xt,Ot])}}}function be(st){var Te="function"==typeof Symbol&&Symbol.iterator,Fe=Te&&st[Te],Ze=0;if(Fe)return Fe.call(st);if(st&&"number"==typeof st.length)return{next:function(){return st&&Ze>=st.length&&(st=void 0),{value:st&&st[Ze++],done:!st}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")}function Se(st,Te){var Fe="function"==typeof Symbol&&st[Symbol.iterator];if(!Fe)return st;var Ie,at,Ze=Fe.call(st),$e=[];try{for(;(void 0===Te||Te-- >0)&&!(Ie=Ze.next()).done;)$e.push(Ie.value)}catch(jt){at={error:jt}}finally{try{Ie&&!Ie.done&&(Fe=Ze.return)&&Fe.call(Ze)}finally{if(at)throw at.error}}return $e}function Ee(st,Te,Fe){if(Fe||2===arguments.length)for(var $e,Ze=0,Ie=Te.length;Ze<Ie;Ze++)($e||!(Ze in Te))&&($e||($e=Array.prototype.slice.call(Te,0,Ze)),$e[Ze]=Te[Ze]);return st.concat($e||Array.prototype.slice.call(Te))}},9814:(Kt,_t,X)=>{"use strict";X.d(_t,{l3:()=>Ve,_j:()=>m,LC:()=>P,ZN:()=>yt,jt:()=>le,vP:()=>Le,SB:()=>me,oB:()=>Z,eR:()=>ge,X$:()=>oe,ZE:()=>rt,k1:()=>we});class m{}class P{}const Ve="*";function oe(Ne,At){return{type:7,name:Ne,definitions:At,options:{}}}function le(Ne,At=null){return{type:4,styles:At,timings:Ne}}function Le(Ne,At=null){return{type:2,steps:Ne,options:At}}function Z(Ne){return{type:6,styles:Ne,offset:null}}function me(Ne,At,dt){return{type:0,name:Ne,styles:At,options:dt}}function ge(Ne,At,dt=null){return{type:1,expr:Ne,animation:At,options:dt}}function Ke(Ne){Promise.resolve(null).then(Ne)}class yt{constructor(At=0,dt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=At+dt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(At=>At()),this._onDoneFns=[])}onStart(At){this._onStartFns.push(At)}onDone(At){this._onDoneFns.push(At)}onDestroy(At){this._onDestroyFns.push(At)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ke(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(At=>At()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(At=>At()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(At){this._position=this.totalTime?At*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(At){const dt="start"==At?this._onStartFns:this._onDoneFns;dt.forEach(Jt=>Jt()),dt.length=0}}class rt{constructor(At){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=At;let dt=0,Jt=0,Bt=0;const _n=this.players.length;0==_n?Ke(()=>this._onFinish()):this.players.forEach(it=>{it.onDone(()=>{++dt==_n&&this._onFinish()}),it.onDestroy(()=>{++Jt==_n&&this._onDestroy()}),it.onStart(()=>{++Bt==_n&&this._onStart()})}),this.totalTime=this.players.reduce((it,st)=>Math.max(it,st.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(At=>At()),this._onDoneFns=[])}init(){this.players.forEach(At=>At.init())}onStart(At){this._onStartFns.push(At)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(At=>At()),this._onStartFns=[])}onDone(At){this._onDoneFns.push(At)}onDestroy(At){this._onDestroyFns.push(At)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(At=>At.play())}pause(){this.players.forEach(At=>At.pause())}restart(){this.players.forEach(At=>At.restart())}finish(){this._onFinish(),this.players.forEach(At=>At.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(At=>At.destroy()),this._onDestroyFns.forEach(At=>At()),this._onDestroyFns=[])}reset(){this.players.forEach(At=>At.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(At){const dt=At*this.totalTime;this.players.forEach(Jt=>{const Bt=Jt.totalTime?Math.min(1,dt/Jt.totalTime):1;Jt.setPosition(Bt)})}getPosition(){const At=this.players.reduce((dt,Jt)=>null===dt||Jt.totalTime>dt.totalTime?Jt:dt,null);return null!=At?At.getPosition():0}beforeDestroy(){this.players.forEach(At=>{At.beforeDestroy&&At.beforeDestroy()})}triggerCallback(At){const dt="start"==At?this._onStartFns:this._onDoneFns;dt.forEach(Jt=>Jt()),dt.length=0}}const we="!"},6019:(Kt,_t,X)=>{"use strict";X.d(_t,{mr:()=>rt,Ov:()=>Gr,ez:()=>js,K0:()=>Le,Do:()=>Ne,V_:()=>_e,Ye:()=>At,S$:()=>Ke,mk:()=>Xo,sg:()=>ls,O5:()=>qi,RF:()=>Eo,n9:()=>Ho,ED:()=>es,b0:()=>we,lw:()=>Z,EM:()=>us,JF:()=>Xe,PM:()=>zs,w_:()=>he,bD:()=>Wr,q:()=>Ve,Mx:()=>ao,HT:()=>le});var m=X(9619);let P=null;function Ve(){return P}function le(V){P||(P=V)}class he{}const Le=new m.OlP("DocumentToken");let Z=(()=>{class V{historyGo($){throw new Error("Not implemented")}}return V.\u0275fac=function($){return new($||V)},V.\u0275prov=m.Yz7({token:V,factory:function(){return(0,m.LFG)(ge)},providedIn:"platform"}),V})();const _e=new m.OlP("Location Initialized");let ge=(()=>{class V extends Z{constructor($){super(),this._doc=$,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ve().getBaseHref(this._doc)}onPopState($){const ve=Ve().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("popstate",$,!1),()=>ve.removeEventListener("popstate",$)}onHashChange($){const ve=Ve().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("hashchange",$,!1),()=>ve.removeEventListener("hashchange",$)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname($){this.location.pathname=$}pushState($,ve,Ge){be()?this._history.pushState($,ve,Ge):this.location.hash=Ge}replaceState($,ve,Ge){be()?this._history.replaceState($,ve,Ge):this.location.hash=Ge}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return V.\u0275fac=function($){return new($||V)(m.LFG(Le))},V.\u0275prov=m.Yz7({token:V,factory:function(){return new ge((0,m.LFG)(Le))},providedIn:"platform"}),V})();function be(){return!!window.history.pushState}function ne(V,ue){if(0==V.length)return ue;if(0==ue.length)return V;let $=0;return V.endsWith("/")&&$++,ue.startsWith("/")&&$++,2==$?V+ue.substring(1):1==$?V+ue:V+"/"+ue}function gt(V){const ue=V.match(/#|\?|$/),$=ue&&ue.index||V.length;return V.slice(0,$-("/"===V[$-1]?1:0))+V.slice($)}function Ee(V){return V&&"?"!==V[0]?"?"+V:V}let Ke=(()=>{class V{historyGo($){throw new Error("Not implemented")}}return V.\u0275fac=function($){return new($||V)},V.\u0275prov=m.Yz7({token:V,factory:function(){return function(V){const ue=(0,m.LFG)(Le).location;return new we((0,m.LFG)(Z),ue&&ue.origin||"")}()},providedIn:"root"}),V})();const rt=new m.OlP("appBaseHref");let we=(()=>{class V extends Ke{constructor($,ve){if(super(),this._platformLocation=$,this._removeListenerFns=[],null==ve&&(ve=this._platformLocation.getBaseHrefFromDOM()),null==ve)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ve}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return ne(this._baseHref,$)}path($=!1){const ve=this._platformLocation.pathname+Ee(this._platformLocation.search),Ge=this._platformLocation.hash;return Ge&&$?`${ve}${Ge}`:ve}pushState($,ve,Ge,z){const q=this.prepareExternalUrl(Ge+Ee(z));this._platformLocation.pushState($,ve,q)}replaceState($,ve,Ge,z){const q=this.prepareExternalUrl(Ge+Ee(z));this._platformLocation.replaceState($,ve,q)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var ve,Ge;null==(Ge=(ve=this._platformLocation).historyGo)||Ge.call(ve,$)}}return V.\u0275fac=function($){return new($||V)(m.LFG(Z),m.LFG(rt,8))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})(),Ne=(()=>{class V extends Ke{constructor($,ve){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=ve&&(this._baseHref=ve)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let ve=this._platformLocation.hash;return null==ve&&(ve="#"),ve.length>0?ve.substring(1):ve}prepareExternalUrl($){const ve=ne(this._baseHref,$);return ve.length>0?"#"+ve:ve}pushState($,ve,Ge,z){let q=this.prepareExternalUrl(Ge+Ee(z));0==q.length&&(q=this._platformLocation.pathname),this._platformLocation.pushState($,ve,q)}replaceState($,ve,Ge,z){let q=this.prepareExternalUrl(Ge+Ee(z));0==q.length&&(q=this._platformLocation.pathname),this._platformLocation.replaceState($,ve,q)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var ve,Ge;null==(Ge=(ve=this._platformLocation).historyGo)||Ge.call(ve,$)}}return V.\u0275fac=function($){return new($||V)(m.LFG(Z),m.LFG(rt,8))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})(),At=(()=>{class V{constructor($,ve){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=$;const Ge=this._platformStrategy.getBaseHref();this._platformLocation=ve,this._baseHref=gt(Bt(Ge)),this._platformStrategy.onPopState(z=>{this._subject.emit({url:this.path(!0),pop:!0,state:z.state,type:z.type})})}path($=!1){return this.normalize(this._platformStrategy.path($))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo($,ve=""){return this.path()==this.normalize($+Ee(ve))}normalize($){return V.stripTrailingSlash(function(V,ue){return V&&ue.startsWith(V)?ue.substring(V.length):ue}(this._baseHref,Bt($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._platformStrategy.prepareExternalUrl($)}go($,ve="",Ge=null){this._platformStrategy.pushState(Ge,"",$,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Ee(ve)),Ge)}replaceState($,ve="",Ge=null){this._platformStrategy.replaceState(Ge,"",$,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Ee(ve)),Ge)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo($=0){var ve,Ge;null==(Ge=(ve=this._platformStrategy).historyGo)||Ge.call(ve,$)}onUrlChange($){this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ve=>{this._notifyUrlChangeListeners(ve.url,ve.state)}))}_notifyUrlChangeListeners($="",ve){this._urlChangeListeners.forEach(Ge=>Ge($,ve))}subscribe($,ve,Ge){return this._subject.subscribe({next:$,error:ve,complete:Ge})}}return V.normalizeQueryParams=Ee,V.joinWithSlash=ne,V.stripTrailingSlash=gt,V.\u0275fac=function($){return new($||V)(m.LFG(Ke),m.LFG(Z))},V.\u0275prov=m.Yz7({token:V,factory:function(){return new At((0,m.LFG)(Ke),(0,m.LFG)(Z))},providedIn:"root"}),V})();function Bt(V){return V.replace(/\/index.html$/,"")}var st=(()=>((st=st||{})[st.Zero=0]="Zero",st[st.One=1]="One",st[st.Two=2]="Two",st[st.Few=3]="Few",st[st.Many=4]="Many",st[st.Other=5]="Other",st))();const Ln=m.kL8;class or{}let qn=(()=>{class V extends or{constructor($){super(),this.locale=$}getPluralCategory($,ve){switch(Ln(ve||this.locale)($)){case st.Zero:return"zero";case st.One:return"one";case st.Two:return"two";case st.Few:return"few";case st.Many:return"many";default:return"other"}}}return V.\u0275fac=function($){return new($||V)(m.LFG(m.soG))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})();function ao(V,ue){ue=encodeURIComponent(ue);for(const $ of V.split(";")){const ve=$.indexOf("="),[Ge,z]=-1==ve?[$,""]:[$.slice(0,ve),$.slice(ve+1)];if(Ge.trim()===ue)return decodeURIComponent(z)}return null}let Xo=(()=>{class V{constructor($,ve,Ge,z){this._iterableDiffers=$,this._keyValueDiffers=ve,this._ngEl=Ge,this._renderer=z,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass($){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof $?$.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass($){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof $?$.split(/\s+/):$,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const $=this._iterableDiffer.diff(this._rawClass);$&&this._applyIterableChanges($)}else if(this._keyValueDiffer){const $=this._keyValueDiffer.diff(this._rawClass);$&&this._applyKeyValueChanges($)}}_applyKeyValueChanges($){$.forEachAddedItem(ve=>this._toggleClass(ve.key,ve.currentValue)),$.forEachChangedItem(ve=>this._toggleClass(ve.key,ve.currentValue)),$.forEachRemovedItem(ve=>{ve.previousValue&&this._toggleClass(ve.key,!1)})}_applyIterableChanges($){$.forEachAddedItem(ve=>{if("string"!=typeof ve.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(ve.item)}`);this._toggleClass(ve.item,!0)}),$.forEachRemovedItem(ve=>this._toggleClass(ve.item,!1))}_applyClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(ve=>this._toggleClass(ve,!0)):Object.keys($).forEach(ve=>this._toggleClass(ve,!!$[ve])))}_removeClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(ve=>this._toggleClass(ve,!1)):Object.keys($).forEach(ve=>this._toggleClass(ve,!1)))}_toggleClass($,ve){($=$.trim())&&$.split(/\s+/g).forEach(Ge=>{ve?this._renderer.addClass(this._ngEl.nativeElement,Ge):this._renderer.removeClass(this._ngEl.nativeElement,Ge)})}}return V.\u0275fac=function($){return new($||V)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),V})();class Zn{constructor(ue,$,ve,Ge){this.$implicit=ue,this.ngForOf=$,this.index=ve,this.count=Ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ls=(()=>{class V{constructor($,ve,Ge){this._viewContainer=$,this._template=ve,this._differs=Ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;if(!this._differ&&$)try{this._differ=this._differs.find($).create(this.ngForTrackBy)}catch(ve){throw new Error(`Cannot find a differ supporting object '${$}' of type '${function(V){return V.name||typeof V}($)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const ve=[];$.forEachOperation((Ge,z,q)=>{if(null==Ge.previousIndex){const G=this._viewContainer.createEmbeddedView(this._template,new Zn(null,this._ngForOf,-1,-1),null===q?void 0:q),Ce=new Uo(Ge,G);ve.push(Ce)}else if(null==q)this._viewContainer.remove(null===z?void 0:z);else if(null!==z){const G=this._viewContainer.get(z);this._viewContainer.move(G,q);const Ce=new Uo(Ge,G);ve.push(Ce)}});for(let Ge=0;Ge<ve.length;Ge++)this._perViewChange(ve[Ge].view,ve[Ge].record);for(let Ge=0,z=this._viewContainer.length;Ge<z;Ge++){const q=this._viewContainer.get(Ge);q.context.index=Ge,q.context.count=z,q.context.ngForOf=this._ngForOf}$.forEachIdentityChange(Ge=>{this._viewContainer.get(Ge.currentIndex).context.$implicit=Ge.item})}_perViewChange($,ve){$.context.$implicit=ve.item}static ngTemplateContextGuard($,ve){return!0}}return V.\u0275fac=function($){return new($||V)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();class Uo{constructor(ue,$){this.record=ue,this.view=$}}let qi=(()=>{class V{constructor($,ve){this._viewContainer=$,this._context=new cs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ve}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Oo("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Oo("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,ve){return!0}}return V.\u0275fac=function($){return new($||V)(m.Y36(m.s_b),m.Y36(m.Rgc))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class cs{constructor(){this.$implicit=null,this.ngIf=null}}function Oo(V,ue){if(ue&&!ue.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,m.AaK)(ue)}'.`)}class No{constructor(ue,$){this._viewContainerRef=ue,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ue){ue&&!this._created?this.create():!ue&&this._created&&this.destroy()}}let Eo=(()=>{class V{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push($)}_matchCase($){const ve=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ve,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ve}_updateDefaultCases($){if(this._defaultViews&&$!==this._defaultUsed){this._defaultUsed=$;for(let ve=0;ve<this._defaultViews.length;ve++)this._defaultViews[ve].enforceState($)}}}return V.\u0275fac=function($){return new($||V)},V.\u0275dir=m.lG2({type:V,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),V})(),Ho=(()=>{class V{constructor($,ve,Ge){this.ngSwitch=Ge,Ge._addCase(),this._view=new No($,ve)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return V.\u0275fac=function($){return new($||V)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Eo,9))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),V})(),es=(()=>{class V{constructor($,ve,Ge){Ge._addDefault(new No($,ve))}}return V.\u0275fac=function($){return new($||V)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Eo,9))},V.\u0275dir=m.lG2({type:V,selectors:[["","ngSwitchDefault",""]]}),V})();class Go{createSubscription(ue,$){return ue.subscribe({next:$,error:ve=>{throw ve}})}dispose(ue){ue.unsubscribe()}onDestroy(ue){ue.unsubscribe()}}class Vr{createSubscription(ue,$){return ue.then($,ve=>{throw ve})}dispose(ue){}onDestroy(ue){}}const _s=new Vr,Fs=new Go;let Gr=(()=>{class V{constructor($){this._ref=$,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,ve=>this._updateLatestValue($,ve))}_selectStrategy($){if((0,m.QGY)($))return _s;if((0,m.F4k)($))return Fs;throw function(V,ue){return Error(`InvalidPipeArgument: '${ue}' for pipe '${(0,m.AaK)(V)}'`)}(V,$)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,ve){$===this._obj&&(this._latestValue=ve,this._ref.markForCheck())}}return V.\u0275fac=function($){return new($||V)(m.Y36(m.sBO,16))},V.\u0275pipe=m.Yjl({name:"async",type:V,pure:!1}),V})(),js=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({providers:[{provide:or,useClass:qn}]}),V})();const Wr="browser";function zs(V){return"server"===V}let us=(()=>{class V{}return V.\u0275prov=(0,m.Yz7)({token:V,providedIn:"root",factory:()=>new kr((0,m.LFG)(Le),window)}),V})();class kr{constructor(ue,$){this.document=ue,this.window=$,this.offset=()=>[0,0]}setOffset(ue){this.offset=Array.isArray(ue)?()=>ue:ue}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ue){this.supportsScrolling()&&this.window.scrollTo(ue[0],ue[1])}scrollToAnchor(ue){if(!this.supportsScrolling())return;const $=function(V,ue){const $=V.getElementById(ue)||V.getElementsByName(ue)[0];if($)return $;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ve=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Ge=ve.currentNode;for(;Ge;){const z=Ge.shadowRoot;if(z){const q=z.getElementById(ue)||z.querySelector(`[name="${ue}"]`);if(q)return q}Ge=ve.nextNode()}}return null}(this.document,ue);$&&(this.scrollToElement($),this.attemptFocus($))}setHistoryScrollRestoration(ue){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=ue)}}scrollToElement(ue){const $=ue.getBoundingClientRect(),ve=$.left+this.window.pageXOffset,Ge=$.top+this.window.pageYOffset,z=this.offset();this.window.scrollTo(ve-z[0],Ge-z[1])}attemptFocus(ue){return ue.focus(),this.document.activeElement===ue}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ue=ie(this.window.history)||ie(Object.getPrototypeOf(this.window.history));return!(!ue||!ue.writable&&!ue.set)}catch(ue){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ue){return!1}}}function ie(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class Xe{}},9619:(Kt,_t,X)=>{"use strict";X.d(_t,{deG:()=>Nh,tb:()=>y,AFp:()=>e,ip1:()=>x_,CZH:()=>d,hGG:()=>Yk,z2F:()=>Pv,sBO:()=>xk,Sil:()=>He,_Vd:()=>b_,EJc:()=>L,SBq:()=>Xg,qLn:()=>Ad,vpe:()=>bf,AA_:()=>Bh,L6J:()=>Sv,tBr:()=>tu,XFs:()=>Sn,OlP:()=>no,zs3:()=>Gc,IIB:()=>Nw,ZZ4:()=>Lw,aQg:()=>Bw,soG:()=>D,YKP:()=>nv,h0i:()=>Vm,PXZ:()=>_k,R0b:()=>mr,FiY:()=>bl,r_U:()=>tb,Lbi:()=>g,g9A:()=>h,Qsj:()=>zy,FYo:()=>ev,JOm:()=>sn,q3G:()=>Fn,tp0:()=>Ts,Rgc:()=>C_,dDg:()=>tm,q4F:()=>tv,GfV:()=>qy,i9L:()=>bu,s_b:()=>vf,ifc:()=>Oi,eFA:()=>WC,G48:()=>Ak,Gpc:()=>Ee,X6Q:()=>kk,_c5:()=>Hk,VLi:()=>fk,c2e:()=>E,zSh:()=>Dg,wAp:()=>zi,vHH:()=>we,EiD:()=>Wi,mCW:()=>Oc,qzn:()=>Qo,JVY:()=>Xi,pB0:()=>jh,eBb:()=>Tf,L6k:()=>Bl,LAX:()=>Yu,cg1:()=>Db,kL8:()=>oy,yhl:()=>ih,dqk:()=>Je,sIi:()=>Ml,CqO:()=>Lt,QGY:()=>ht,F4k:()=>Rt,RDi:()=>Xe,AaK:()=>Se,z3N:()=>Da,qOj:()=>Rp,TTD:()=>go,_Bn:()=>Qb,xp6:()=>wp,uIk:()=>Ug,Tol:()=>Vv,Gre:()=>Zv,ekj:()=>I_,Suo:()=>Y_,Xpm:()=>dr,lG2:()=>hi,Yz7:()=>Tn,cJS:()=>Ir,oAB:()=>$t,Yjl:()=>wr,Y36:()=>yr,_UZ:()=>A,BQk:()=>Me,ynx:()=>se,qZA:()=>b,TgZ:()=>p,EpF:()=>et,n5z:()=>Il,LFG:()=>qs,$8M:()=>ia,$Z:()=>Ul,NdJ:()=>Gt,CRH:()=>_v,oxw:()=>bo,ALo:()=>lv,lcZ:()=>cv,Hsn:()=>Nm,F$t:()=>al,Q6J:()=>s,s9C:()=>ip,DdM:()=>rv,VKq:()=>ov,WLB:()=>sv,iGM:()=>Z_,MAs:()=>Bp,evT:()=>$s,CHM:()=>ul,oJD:()=>La,LSH:()=>$a,kYT:()=>An,Udp:()=>hb,YNc:()=>dd,W1O:()=>gw,_uU:()=>Hv,Oqu:()=>bb,hij:()=>P_,Gf:()=>K_});var m=X(3405),P=X(1346),Ve=X(5548),oe=X(8526),le=X(5783);var Z=X(5234);function me(){return new m.xQ}function ge(l){for(let u in l)if(l[u]===ge)return u;throw Error("Could not find renamed property on target object.")}function be(l,u){for(const f in u)u.hasOwnProperty(f)&&!l.hasOwnProperty(f)&&(l[f]=u[f])}function Se(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Se).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const u=l.toString();if(null==u)return""+u;const f=u.indexOf("\n");return-1===f?u:u.substring(0,f)}function ne(l,u){return null==l||""===l?null===u?"":u:null==u||""===u?l:l+" "+u}const gt=ge({__forward_ref__:ge});function Ee(l){return l.__forward_ref__=Ee,l.toString=function(){return Se(this())},l}function Ke(l){return yt(l)?l():l}function yt(l){return"function"==typeof l&&l.hasOwnProperty(gt)&&l.__forward_ref__===Ee}class we extends Error{constructor(u,f){super(function(l,u){return`${l?`NG0${l}: `:""}${u}`}(u,f)),this.code=u}}function dt(l){return"string"==typeof l?l:null==l?"":String(l)}function Jt(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():dt(l)}function st(l,u){const f=u?` in ${u}`:"";throw new we("201",`No provider for ${Jt(l)} found${f}`)}function oi(l,u){null==l&&function(l,u,f,v){throw new Error(`ASSERTION ERROR: ${l}`+(null==v?"":` [Expected=> ${f} ${v} ${u} <=Actual]`))}(u,l,null,"!=")}function Tn(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function Ir(l){return{providers:l.providers||[],imports:l.imports||[]}}function Ln(l){return wn(l,pi)||wn(l,Ai)}function wn(l,u){return l.hasOwnProperty(u)?l[u]:null}function di(l){return l&&(l.hasOwnProperty(Mi)||l.hasOwnProperty(Vo))?l[Mi]:null}const pi=ge({\u0275prov:ge}),Mi=ge({\u0275inj:ge}),Ai=ge({ngInjectableDef:ge}),Vo=ge({ngInjectorDef:ge});var Sn=(()=>((Sn=Sn||{})[Sn.Default=0]="Default",Sn[Sn.Host=1]="Host",Sn[Sn.Self=2]="Self",Sn[Sn.SkipSelf=4]="SkipSelf",Sn[Sn.Optional=8]="Optional",Sn))();let Pr;function oo(l){const u=Pr;return Pr=l,u}function Vi(l,u,f){const v=Ln(l);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:f&Sn.Optional?null:void 0!==u?u:void st(Se(l),"Injector")}function Bn(l){return{toString:l}.toString()}var zr=(()=>((zr=zr||{})[zr.OnPush=0]="OnPush",zr[zr.Default=1]="Default",zr))(),Oi=(()=>{return(l=Oi||(Oi={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",Oi;var l})();const Ni="undefined"!=typeof globalThis&&globalThis,tr="undefined"!=typeof window&&window,Ii="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Je=Ni||"undefined"!=typeof global&&global||tr||Ii,Et={},nn=[],Nn=ge({\u0275cmp:ge}),Wn=ge({\u0275dir:ge}),In=ge({\u0275pipe:ge}),Ei=ge({\u0275mod:ge}),Ui=ge({\u0275fac:ge}),Fr=ge({__NG_ELEMENT_ID__:ge});let Qr=0;function dr(l){return Bn(()=>{const f={},v={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===zr.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||nn,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||Oi.Emulated,id:"c",styles:l.styles||nn,_:null,setInput:null,schemas:l.schemas||null,tView:null},w=l.directives,x=l.features,R=l.pipes;return v.id+=Qr++,v.inputs=bn(l.inputs,f),v.outputs=bn(l.outputs),x&&x.forEach(H=>H(v)),v.directiveDefs=w?()=>("function"==typeof w?w():w).map(bt):null,v.pipeDefs=R?()=>("function"==typeof R?R():R).map(Qe):null,v})}function bt(l){return Ci(l)||function(l){return l[Wn]||null}(l)}function Qe(l){return function(l){return l[In]||null}(l)}const Mt={};function $t(l){return Bn(()=>{const u={type:l.type,bootstrap:l.bootstrap||nn,declarations:l.declarations||nn,imports:l.imports||nn,exports:l.exports||nn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(Mt[l.id]=l.type),u})}function An(l,u){return Bn(()=>{const f=hr(l,!0);f.declarations=u.declarations||nn,f.imports=u.imports||nn,f.exports=u.exports||nn})}function bn(l,u){if(null==l)return Et;const f={};for(const v in l)if(l.hasOwnProperty(v)){let w=l[v],x=w;Array.isArray(w)&&(x=w[1],w=w[0]),f[w]=v,u&&(u[w]=x)}return f}const hi=dr;function wr(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function Ci(l){return l[Nn]||null}function hr(l,u){const f=l[Ei]||null;if(!f&&!0===u)throw new Error(`Type ${Se(l)} does not have '\u0275mod' property.`);return f}function lo(l){return Array.isArray(l)&&"object"==typeof l[1]}function Ro(l){return Array.isArray(l)&&!0===l[1]}function co(l){return 0!=(8&l.flags)}function _r(l){return 2==(2&l.flags)}function Go(l){return 1==(1&l.flags)}function Vr(l){return null!==l.template}function _s(l){return 0!=(512&l[2])}function js(l,u){return l.hasOwnProperty(Ui)?l[Ui]:null}class Wr{constructor(u,f,v){this.previousValue=u,this.currentValue=f,this.firstChange=v}isFirstChange(){return this.firstChange}}function go(){return $o}function $o(l){return l.type.prototype.ngOnChanges&&(l.setInput=Fo),Es}function Es(){const l=Nr(this),u=null==l?void 0:l.current;if(u){const f=l.previous;if(f===Et)l.previous=u;else for(let v in u)f[v]=u[v];l.current=null,this.ngOnChanges(u)}}function Fo(l,u,f,v){const w=Nr(l)||function(l,u){return l[zs]=u}(l,{previous:Et,current:null}),x=w.current||(w.current={}),R=w.previous,H=this.declaredInputs[f],Q=R[H];x[H]=new Wr(Q&&Q.currentValue,u,R===Et),l[v]=u}go.ngInherit=!0;const zs="__ngSimpleChanges__";function Nr(l){return l[zs]||null}let je;function Xe(l){je=l}function V(){return void 0!==je?je:"undefined"!=typeof document?document:void 0}function $(l){return!!l.listen}const ve={createRenderer:(l,u)=>V()};function z(l){for(;Array.isArray(l);)l=l[0];return l}function Ce(l,u){return z(u[l])}function kt(l,u){return z(u[l.index])}function hn(l,u){return l.data[u]}function Xn(l,u){return l[u]}function ii(l,u){const f=u[l];return lo(f)?f:f[0]}function Ri(l){return 4==(4&l[2])}function br(l){return 128==(128&l[2])}function Mr(l,u){return null==u?null:l[u]}function ho(l){l[18]=0}function vs(l,u){l[5]+=u;let f=l,v=l[3];for(;null!==v&&(1===u&&1===f[5]||-1===u&&0===f[5]);)v[5]+=u,f=v,v=v[3]}const ti={lFrame:St(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ql(){return ti.bindingsEnabled}function an(){return ti.lFrame.lView}function Di(){return ti.lFrame.tView}function ul(l){return ti.lFrame.contextLView=l,l[8]}function Co(){let l=Ra();for(;null!==l&&64===l.type;)l=l.parent;return l}function Ra(){return ti.lFrame.currentTNode}function Ms(l,u){const f=ti.lFrame;f.currentTNode=l,f.isParent=u}function Vs(){return ti.lFrame.isParent}function dl(){ti.lFrame.isParent=!1}function wa(){return ti.isInCheckNoChangesMode}function Va(l){ti.isInCheckNoChangesMode=l}function Gi(){const l=ti.lFrame;let u=l.bindingRootIndex;return-1===u&&(u=l.bindingRootIndex=l.tView.bindingStartIndex),u}function ha(){return ti.lFrame.bindingIndex++}function vr(l){const u=ti.lFrame,f=u.bindingIndex;return u.bindingIndex=u.bindingIndex+l,f}function fl(l,u){const f=ti.lFrame;f.bindingIndex=f.bindingRootIndex=l,pe(u)}function pe(l){ti.lFrame.currentDirectiveIndex=l}function N(){return ti.lFrame.currentQueryIndex}function Y(l){ti.lFrame.currentQueryIndex=l}function ke(l){const u=l[1];return 2===u.type?u.declTNode:1===u.type?l[6]:null}function ze(l,u,f){if(f&Sn.SkipSelf){let w=u,x=l;for(;!(w=w.parent,null!==w||f&Sn.Host||(w=ke(x),null===w||(x=x[15],10&w.type))););if(null===w)return!1;u=w,l=x}const v=ti.lFrame=ft();return v.currentTNode=u,v.lView=l,!0}function tt(l){const u=ft(),f=l[1];ti.lFrame=u,u.currentTNode=f.firstChild,u.lView=l,u.tView=f,u.contextLView=l,u.bindingIndex=f.bindingStartIndex,u.inI18n=!1}function ft(){const l=ti.lFrame,u=null===l?null:l.child;return null===u?St(l):u}function St(l){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=u),u}function qt(){const l=ti.lFrame;return ti.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const yn=qt;function gn(){const l=qt();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function vt(){return ti.lFrame.selectedIndex}function Wt(l){ti.lFrame.selectedIndex=l}function un(){const l=ti.lFrame;return hn(l.tView,l.selectedIndex)}function eo(l,u){for(let f=u.directiveStart,v=u.directiveEnd;f<v;f++){const x=l.data[f].type.prototype,{ngAfterContentInit:R,ngAfterContentChecked:H,ngAfterViewInit:Q,ngAfterViewChecked:fe,ngOnDestroy:Pe}=x;R&&(l.contentHooks||(l.contentHooks=[])).push(-f,R),H&&((l.contentHooks||(l.contentHooks=[])).push(f,H),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(f,H)),Q&&(l.viewHooks||(l.viewHooks=[])).push(-f,Q),fe&&((l.viewHooks||(l.viewHooks=[])).push(f,fe),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(f,fe)),null!=Pe&&(l.destroyHooks||(l.destroyHooks=[])).push(f,Pe)}}function ys(l,u,f){Hi(l,u,3,f)}function si(l,u,f,v){(3&l[2])===f&&Hi(l,u,f,v)}function ws(l,u){let f=l[2];(3&f)===u&&(f&=2047,f+=1,l[2]=f)}function Hi(l,u,f,v){const x=null!=v?v:-1,R=u.length-1;let H=0;for(let Q=void 0!==v?65535&l[18]:0;Q<R;Q++)if("number"==typeof u[Q+1]){if(H=u[Q],null!=v&&H>=v)break}else u[Q]<0&&(l[18]+=65536),(H<x||-1==x)&&(Fi(l,f,u,Q),l[18]=(4294901760&l[18])+Q+2),Q++}function Fi(l,u,f,v){const w=f[v]<0,x=f[v+1],H=l[w?-f[v]:f[v]];if(w){if(l[2]>>11<l[18]>>16&&(3&l[2])===u){l[2]+=2048;try{x.call(H)}finally{}}}else try{x.call(H)}finally{}}class fa{constructor(u,f,v){this.factory=u,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=v}}function Ko(l,u,f){const v=$(l);let w=0;for(;w<f.length;){const x=f[w];if("number"==typeof x){if(0!==x)break;w++;const R=f[w++],H=f[w++],Q=f[w++];v?l.setAttribute(u,H,Q,R):u.setAttributeNS(R,H,Q)}else{const R=x,H=f[++w];is(R)?v&&l.setProperty(u,R,H):v?l.setAttribute(u,R,H):u.setAttribute(R,H),w++}}return w}function Ar(l){return 3===l||4===l||6===l}function is(l){return 64===l.charCodeAt(0)}function rs(l,u){if(null!==u&&0!==u.length)if(null===l||0===l.length)l=u.slice();else{let f=-1;for(let v=0;v<u.length;v++){const w=u[v];"number"==typeof w?f=w:0===f||Ha(l,f,w,null,-1===f||2===f?u[++v]:null)}}return l}function Ha(l,u,f,v,w){let x=0,R=l.length;if(-1===u)R=-1;else for(;x<l.length;){const H=l[x++];if("number"==typeof H){if(H===u){R=-1;break}if(H>u){R=x-1;break}}}for(;x<l.length;){const H=l[x];if("number"==typeof H)break;if(H===f){if(null===v)return void(null!==w&&(l[x+1]=w));if(v===l[x+1])return void(l[x+2]=w)}x++,null!==v&&x++,null!==w&&x++}-1!==R&&(l.splice(R,0,u),x=R+1),l.splice(x++,0,f),null!==v&&l.splice(x++,0,v),null!==w&&l.splice(x++,0,w)}function Ca(l){return-1!==l}function So(l){return 32767&l}function T(l,u){let f=function(l){return l>>16}(l),v=u;for(;f>0;)v=v[15],f--;return v}let M=!0;function J(l){const u=M;return M=l,u}let nr=0;function Dr(l,u){const f=ri(l,u);if(-1!==f)return f;const v=u[1];v.firstCreatePass&&(l.injectorIndex=u.length,gl(v.data,l),gl(u,null),gl(v.blueprint,null));const w=En(l,u),x=l.injectorIndex;if(Ca(w)){const R=So(w),H=T(w,u),Q=H[1].data;for(let fe=0;fe<8;fe++)u[x+fe]=H[R+fe]|Q[R+fe]}return u[x+8]=w,x}function gl(l,u){l.push(0,0,0,0,0,0,0,0,u)}function ri(l,u){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===u[l.injectorIndex+8]?-1:l.injectorIndex}function En(l,u){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let f=0,v=null,w=u;for(;null!==w;){const x=w[1],R=x.type;if(v=2===R?x.declTNode:1===R?w[6]:null,null===v)return-1;if(f++,w=w[15],-1!==v.injectorIndex)return v.injectorIndex|f<<16}return-1}function U(l,u,f){!function(l,u,f){let v;"string"==typeof f?v=f.charCodeAt(0)||0:f.hasOwnProperty(Fr)&&(v=f[Fr]),null==v&&(v=f[Fr]=nr++);const w=255&v;u.data[l+(w>>5)]|=1<<w}(l,u,f)}function B(l,u,f){if(f&Sn.Optional)return l;st(u,"NodeInjector")}function re(l,u,f,v){if(f&Sn.Optional&&void 0===v&&(v=null),0==(f&(Sn.Self|Sn.Host))){const w=l[9],x=oo(void 0);try{return w?w.get(u,v,f&Sn.Optional):Vi(u,v,f&Sn.Optional)}finally{oo(x)}}return B(v,u,f)}function ce(l,u,f,v=Sn.Default,w){if(null!==l){const x=function(l){if("string"==typeof l)return l.charCodeAt(0)||0;const u=l.hasOwnProperty(Fr)?l[Fr]:void 0;return"number"==typeof u?u>=0?255&u:nt:u}(f);if("function"==typeof x){if(!ze(u,l,v))return v&Sn.Host?B(w,f,v):re(u,f,v,w);try{const R=x(v);if(null!=R||v&Sn.Optional)return R;st(f)}finally{yn()}}else if("number"==typeof x){let R=null,H=ri(l,u),Q=-1,fe=v&Sn.Host?u[16][6]:null;for((-1===H||v&Sn.SkipSelf)&&(Q=-1===H?En(l,u):u[H+8],-1!==Q&&sr(v,!1)?(R=u[1],H=So(Q),u=T(Q,u)):H=-1);-1!==H;){const Pe=u[1];if(Yn(x,H,Pe.data)){const Ye=ct(H,u,f,R,v,fe);if(Ye!==Re)return Ye}Q=u[H+8],-1!==Q&&sr(v,u[1].data[H+8]===fe)&&Yn(x,H,u)?(R=Pe,H=So(Q),u=T(Q,u)):H=-1}}}return re(u,f,v,w)}const Re={};function nt(){return new On(Co(),an())}function ct(l,u,f,v,w,x){const R=u[1],H=R.data[l+8],Pe=Pt(H,R,f,null==v?_r(H)&&M:v!=R&&0!=(3&H.type),w&Sn.Host&&x===H);return null!==Pe?xn(u,R,Pe,H):Re}function Pt(l,u,f,v,w){const x=l.providerIndexes,R=u.data,H=1048575&x,Q=l.directiveStart,Pe=x>>20,wt=w?H+Pe:l.directiveEnd;for(let Ft=v?H:H+Pe;Ft<wt;Ft++){const rn=R[Ft];if(Ft<Q&&f===rn||Ft>=Q&&rn.type===f)return Ft}if(w){const Ft=R[Q];if(Ft&&Vr(Ft)&&Ft.type===f)return Q}return null}function xn(l,u,f,v){let w=l[f];const x=u.data;if(function(l){return l instanceof fa}(w)){const R=w;R.resolving&&function(l,u){throw new we("200",`Circular dependency in DI detected for ${l}`)}(Jt(x[f]));const H=J(R.canSeeViewProviders);R.resolving=!0;const Q=R.injectImpl?oo(R.injectImpl):null;ze(l,v,Sn.Default);try{w=l[f]=R.factory(void 0,x,l,v),u.firstCreatePass&&f>=v.directiveStart&&function(l,u,f){const{ngOnChanges:v,ngOnInit:w,ngDoCheck:x}=u.type.prototype;if(v){const R=$o(u);(f.preOrderHooks||(f.preOrderHooks=[])).push(l,R),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(l,R)}w&&(f.preOrderHooks||(f.preOrderHooks=[])).push(0-l,w),x&&((f.preOrderHooks||(f.preOrderHooks=[])).push(l,x),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(l,x))}(f,x[f],u)}finally{null!==Q&&oo(Q),J(H),R.resolving=!1,yn()}}return w}function Yn(l,u,f){return!!(f[u+(l>>5)]&1<<l)}function sr(l,u){return!(l&Sn.Self||l&Sn.Host&&u)}class On{constructor(u,f){this._tNode=u,this._lView=f}get(u,f,v){return ce(this._tNode,this._lView,u,v,f)}}function Il(l){return Bn(()=>{const u=l.prototype.constructor,f=u[Ui]||hs(u),v=Object.prototype;let w=Object.getPrototypeOf(l.prototype).constructor;for(;w&&w!==v;){const x=w[Ui]||hs(w);if(x&&x!==f)return x;w=Object.getPrototypeOf(w)}return x=>new x})}function hs(l){return yt(l)?()=>{const u=hs(Ke(l));return u&&u()}:js(l)}function ia(l){return function(l,u){if("class"===u)return l.classes;if("style"===u)return l.styles;const f=l.attrs;if(f){const v=f.length;let w=0;for(;w<v;){const x=f[w];if(Ar(x))break;if(0===x)w+=2;else if("number"==typeof x)for(w++;w<v&&"string"==typeof f[w];)w++;else{if(x===u)return f[w+1];w+=2}}}return null}(Co(),l)}const cn="__parameters__",fs="__prop__metadata__";function qa(l){return function(...f){if(l){const v=l(...f);for(const w in v)this[w]=v[w]}}}function Pl(l,u,f){return Bn(()=>{const v=qa(u);function w(...x){if(this instanceof w)return v.apply(this,x),this;const R=new w(...x);return H.annotation=R,H;function H(Q,fe,Pe){const Ye=Q.hasOwnProperty(cn)?Q[cn]:Object.defineProperty(Q,cn,{value:[]})[cn];for(;Ye.length<=Pe;)Ye.push(null);return(Ye[Pe]=Ye[Pe]||[]).push(R),Q}}return f&&(w.prototype=Object.create(f.prototype)),w.prototype.ngMetadataName=l,w.annotationCls=w,w})}function ka(l,u,f,v){return Bn(()=>{const w=qa(u);function x(...R){if(this instanceof x)return w.apply(this,R),this;const H=new x(...R);return function(fe,Pe){const Ye=fe.constructor,wt=Ye.hasOwnProperty(fs)?Ye[fs]:Object.defineProperty(Ye,fs,{value:{}})[fs];wt[Pe]=wt.hasOwnProperty(Pe)&&wt[Pe]||[],wt[Pe].unshift(H),v&&v(fe,Pe,...R)}}return f&&(x.prototype=Object.create(f.prototype)),x.prototype.ngMetadataName=l,x.annotationCls=x,x})}class no{constructor(u,f){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=Tn({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Nh=new no("AnalyzeForEntryComponents");class ai{}const bu=ka("ViewChild",(l,u)=>mn({selector:l,first:!0,isViewQuery:!0,descendants:!0},u),ai);function io(l,u){void 0===u&&(u=l);for(let f=0;f<l.length;f++){let v=l[f];Array.isArray(v)?(u===l&&(u=l.slice(0,f)),io(v,u)):u!==l&&u.push(v)}return u}function Ds(l,u){l.forEach(f=>Array.isArray(f)?Ds(f,u):u(f))}function Uu(l,u,f){u>=l.length?l.push(f):l.splice(u,0,f)}function Aa(l,u){return u>=l.length-1?l.pop():l.splice(u,1)[0]}function Qc(l,u){const f=[];for(let v=0;v<l;v++)f.push(u);return f}function os(l,u,f){let v=md(l,u);return v>=0?l[1|v]=f:(v=~v,function(l,u,f,v){let w=l.length;if(w==u)l.push(f,v);else if(1===w)l.push(v,l[0]),l[0]=f;else{for(w--,l.push(l[w-1],l[w]);w>u;)l[w]=l[w-2],w--;l[u]=f,l[u+1]=v}}(l,v,u,f)),v}function Cf(l,u){const f=md(l,u);if(f>=0)return l[1|f]}function md(l,u){return function(l,u,f){let v=0,w=l.length>>f;for(;w!==v;){const x=v+(w-v>>1),R=l[x<<f];if(u===R)return x<<f;R>u?w=x:v=x+1}return~(w<<f)}(l,u,1)}const ml={},Nl="__NG_DI_FLAG__",_l="ngTempTokenPath",Rh=/\n/gm,Hu="__source",qu=ge({provide:String,useValue:ge});let Ja;function Cu(l){const u=Ja;return Ja=l,u}function Ea(l,u=Sn.Default){if(void 0===Ja)throw new Error("inject() must be called from an injection context");return null===Ja?Vi(l,void 0,u):Ja.get(l,u&Sn.Optional?null:void 0,u)}function qs(l,u=Sn.Default){return(Pr||Ea)(Ke(l),u)}function Gs(l){const u=[];for(let f=0;f<l.length;f++){const v=Ke(l[f]);if(Array.isArray(v)){if(0===v.length)throw new Error("Arguments array must have arguments.");let w,x=Sn.Default;for(let R=0;R<v.length;R++){const H=v[R],Q=Fh(H);"number"==typeof Q?-1===Q?w=H.token:x|=Q:w=H}u.push(qs(w,x))}else u.push(qs(v))}return u}function ac(l,u){return l[Nl]=u,l.prototype[Nl]=u,l}function Fh(l){return l[Nl]}const tu=ac(Pl("Inject",l=>({token:l})),-1),bl=ac(Pl("Optional"),8),Ts=ac(Pl("SkipSelf"),4),Bh=ac(Pl("Host"),1);let Fl,cc;function vl(l){var u;return(null==(u=function(){if(void 0===Fl&&(Fl=null,Je.trustedTypes))try{Fl=Je.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return Fl}())?void 0:u.createHTML(l))||l}function Yo(l){var u;return(null==(u=function(){if(void 0===cc&&(cc=null,Je.trustedTypes))try{cc=Je.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return cc}())?void 0:u.createHTML(l))||l}class Pc{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Df extends Pc{getTypeName(){return"HTML"}}class th extends Pc{getTypeName(){return"Style"}}class Lo extends Pc{getTypeName(){return"Script"}}class ps extends Pc{getTypeName(){return"URL"}}class nh extends Pc{getTypeName(){return"ResourceURL"}}function Da(l){return l instanceof Pc?l.changingThisBreaksApplicationSecurity:l}function Qo(l,u){const f=ih(l);if(null!=f&&f!==u){if("ResourceURL"===f&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${f} (see https://g.co/ng/security#xss)`)}return f===u}function ih(l){return l instanceof Pc&&l.getTypeName()||null}function Xi(l){return new Df(l)}function Bl(l){return new th(l)}function Tf(l){return new Lo(l)}function Yu(l){return new ps(l)}function jh(l){return new nh(l)}class ap{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const f=(new window.DOMParser).parseFromString(vl(u),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(u):(f.removeChild(f.firstChild),f)}catch(f){return null}}}class gr{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const f=this.inertDocument.createElement("html");this.inertDocument.appendChild(f);const v=this.inertDocument.createElement("body");f.appendChild(v)}}getInertBodyElement(u){const f=this.inertDocument.createElement("template");if("content"in f)return f.innerHTML=vl(u),f;const v=this.inertDocument.createElement("body");return v.innerHTML=vl(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(v),v}stripCustomNsAttrs(u){const f=u.attributes;for(let w=f.length-1;0<w;w--){const R=f.item(w).name;("xmlns:ns1"===R||0===R.indexOf("ns1:"))&&u.removeAttribute(R)}let v=u.firstChild;for(;v;)v.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(v),v=v.nextSibling}}const nu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,wd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Oc(l){return(l=String(l)).match(nu)||l.match(wd)?l:"unsafe:"+l}function Ta(l){const u={};for(const f of l.split(","))u[f]=!0;return u}function uc(...l){const u={};for(const f of l)for(const v in f)f.hasOwnProperty(v)&&(u[v]=!0);return u}const Xa=Ta("area,br,col,hr,img,wbr"),Nc=Ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oh=Ta("rp,rt"),iu=uc(Xa,uc(Nc,Ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uc(oh,Ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uc(oh,Nc)),Bo=Ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zh=Ta("srcset"),sh=uc(Bo,zh,Ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ye=Ta("script,style,template");class We{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let f=u.firstChild,v=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?v=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,v&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let w=this.checkClobberedElement(f,f.nextSibling);if(w){f=w;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(u){const f=u.nodeName.toLowerCase();if(!iu.hasOwnProperty(f))return this.sanitizedSomething=!0,!ye.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const v=u.attributes;for(let w=0;w<v.length;w++){const x=v.item(w),R=x.name,H=R.toLowerCase();if(!sh.hasOwnProperty(H)){this.sanitizedSomething=!0;continue}let Q=x.value;Bo[H]&&(Q=Oc(Q)),zh[H]&&(l=Q,Q=(l=String(l)).split(",").map(u=>Oc(u.trim())).join(", ")),this.buf.push(" ",R,'="',_i(Q),'"')}var l;return this.buf.push(">"),!0}endElement(u){const f=u.nodeName.toLowerCase();iu.hasOwnProperty(f)&&!Xa.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(u){this.buf.push(_i(u))}checkClobberedElement(u,f){if(f&&(u.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return f}}const ot=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,en=/([^\#-~ |!])/g;function _i(l){return l.replace(/&/g,"&amp;").replace(ot,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(en,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wi;function Wi(l,u){let f=null;try{wi=wi||function(l){const u=new gr(l);return function(){try{return!!(new window.DOMParser).parseFromString(vl(""),"text/html")}catch(l){return!1}}()?new ap(u):u}(l);let v=u?String(u):"";f=wi.getInertBodyElement(v);let w=5,x=v;do{if(0===w)throw new Error("Failed to sanitize html because the input is unstable");w--,v=x,x=f.innerHTML,f=wi.getInertBodyElement(v)}while(v!==x);return vl((new We).sanitizeChildren(Pi(f)||f))}finally{if(f){const v=Pi(f)||f;for(;v.firstChild;)v.removeChild(v.firstChild)}}}function Pi(l){return"content"in l&&function(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function La(l){const u=Qu();return u?Yo(u.sanitize(Fn.HTML,l)||""):Qo(l,"HTML")?Yo(Da(l)):Wi(V(),dt(l))}function $a(l){const u=Qu();return u?u.sanitize(Fn.URL,l)||"":Qo(l,"URL")?Da(l):Oc(dt(l))}function Qu(){const l=an();return l&&l[12]}const Uh="__ngContext__";function Ss(l,u){l[Uh]=u}function Hh(l){const u=function(l){return l[Uh]||null}(l);return u?Array.isArray(u)?u:u.lView:null}function tl(l){return l.ngOriginalError}function Pf(l,...u){l.error(...u)}class Ad{constructor(){this._console=console}handleError(u){const f=this._findOriginalError(u),v=(l=u)&&l.ngErrorLogger||Pf;var l;v(this._console,"ERROR",u),f&&v(this._console,"ORIGINAL ERROR",f)}_findOriginalError(u){let f=u&&tl(u);for(;f&&tl(f);)f=tl(f);return f||null}}const fp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Je))();function $s(l){return l.ownerDocument}function Er(l){return l instanceof Function?l():l}var sn=(()=>((sn=sn||{})[sn.Important=1]="Important",sn[sn.DashCase=2]="DashCase",sn))();function su(l,u){return undefined(l,u)}function jc(l){const u=l[3];return Ro(u)?u[3]:u}function gp(l){return Kp(l[13])}function uh(l){return Kp(l[4])}function Kp(l){for(;null!==l&&!Ro(l);)l=l[4];return l}function Ed(l,u,f,v,w){if(null!=v){let x,R=!1;Ro(v)?x=v:lo(v)&&(R=!0,v=v[0]);const H=z(v);0===l&&null!==f?null==w?Jp(u,f,H):lu(u,f,H,w||null,!0):1===l&&null!==f?lu(u,f,H,w||null,!0):2===l?function(l,u,f){const v=Du(l,u);v&&function(l,u,f,v){$(l)?l.removeChild(u,f,v):u.removeChild(f)}(l,v,u,f)}(u,H,R):3===l&&u.destroyNode(H),null!=x&&function(l,u,f,v,w){const x=f[7];x!==z(f)&&Ed(u,l,v,x,w);for(let H=10;H<f.length;H++){const Q=f[H];Id(Q[1],Q,l,u,v,x)}}(u,l,x,f,w)}}function $h(l,u,f){return $(l)?l.createElement(u,f):null===f?l.createElement(u):l.createElementNS(f,u)}function ec(l,u){const f=l[9],v=f.indexOf(u),w=u[3];1024&u[2]&&(u[2]&=-1025,vs(w,-1)),f.splice(v,1)}function Vc(l,u){if(l.length<=10)return;const f=10+u,v=l[f];if(v){const w=v[17];null!==w&&w!==l&&ec(w,v),u>0&&(l[f-1][4]=v[4]);const x=Aa(l,10+u);!function(l,u){Id(l,u,u[11],2,null,null),u[0]=null,u[6]=null}(v[1],v);const R=x[19];null!==R&&R.detachView(x[1]),v[3]=null,v[4]=null,v[2]&=-129}return v}function Md(l,u){if(!(256&u[2])){const f=u[11];$(f)&&f.destroyNode&&Id(l,u,f,3,null,null),function(l){let u=l[13];if(!u)return au(l[1],l);for(;u;){let f=null;if(lo(u))f=u[13];else{const v=u[10];v&&(f=v)}if(!f){for(;u&&!u[4]&&u!==l;)lo(u)&&au(u[1],u),u=u[3];null===u&&(u=l),lo(u)&&au(u[1],u),f=u&&u[4]}u=f}}(u)}}function au(l,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function(l,u){let f;if(null!=l&&null!=(f=l.destroyHooks))for(let v=0;v<f.length;v+=2){const w=u[f[v]];if(!(w instanceof fa)){const x=f[v+1];if(Array.isArray(x))for(let R=0;R<x.length;R+=2){const H=w[x[R]],Q=x[R+1];try{Q.call(H)}finally{}}else try{x.call(w)}finally{}}}}(l,u),function(l,u){const f=l.cleanup,v=u[7];let w=-1;if(null!==f)for(let x=0;x<f.length-1;x+=2)if("string"==typeof f[x]){const R=f[x+1],H="function"==typeof R?R(u):z(u[R]),Q=v[w=f[x+2]],fe=f[x+3];"boolean"==typeof fe?H.removeEventListener(f[x],Q,fe):fe>=0?v[w=fe]():v[w=-fe].unsubscribe(),x+=2}else{const R=v[w=f[x+1]];f[x].call(R)}if(null!==v){for(let x=w+1;x<v.length;x++)v[x]();u[7]=null}}(l,u),1===u[1].type&&$(u[11])&&u[11].destroy();const f=u[17];if(null!==f&&Ro(u[3])){f!==u[3]&&ec(f,u);const v=u[19];null!==v&&v.detachView(l)}}}function _p(l,u,f){return function(l,u,f){let v=u;for(;null!==v&&40&v.type;)v=(u=v).parent;if(null===v)return f[0];if(2&v.flags){const w=l.data[v.directiveStart].encapsulation;if(w===Oi.None||w===Oi.Emulated)return null}return kt(v,f)}(l,u.parent,f)}function lu(l,u,f,v,w){$(l)?l.insertBefore(u,f,v,w):u.insertBefore(f,v,w)}function Jp(l,u,f){$(l)?l.appendChild(u,f):u.appendChild(f)}function Xp(l,u,f,v,w){null!==v?lu(l,u,f,v,w):Jp(l,u,f)}function Du(l,u){return $(l)?l.parentNode(u):u.parentNode}function tg(l,u,f){return bp(l,u,f)}let bp=function(l,u,f){return 40&l.type?kt(l,f):null};function Of(l,u,f,v){const w=_p(l,v,u),x=u[11],H=tg(v.parent||u[6],v,u);if(null!=w)if(Array.isArray(f))for(let Q=0;Q<f.length;Q++)Xp(x,w,f[Q],H,!1);else Xp(x,w,f,H,!1)}function Nf(l,u){if(null!==u){const f=u.type;if(3&f)return kt(u,l);if(4&f)return Rf(-1,l[u.index]);if(8&f){const v=u.child;if(null!==v)return Nf(l,v);{const w=l[u.index];return Ro(w)?Rf(-1,w):z(w)}}if(32&f)return su(u,l)()||z(l[u.index]);{const v=Kh(l,u);return null!==v?Array.isArray(v)?v[0]:Nf(jc(l[16]),v):Nf(l,u.next)}}return null}function Kh(l,u){return null!==u?l[16][6].projection[u.projection]:null}function Rf(l,u){const f=10+l+1;if(f<u.length){const v=u[f],w=v[1].firstChild;if(null!==w)return Nf(v,w)}return u[7]}function dh(l,u,f,v,w,x,R){for(;null!=f;){const H=v[f.index],Q=f.type;if(R&&0===u&&(H&&Ss(z(H),v),f.flags|=4),64!=(64&f.flags))if(8&Q)dh(l,u,f.child,v,w,x,!1),Ed(u,l,w,H,x);else if(32&Q){const fe=su(f,v);let Pe;for(;Pe=fe();)Ed(u,l,w,Pe,x);Ed(u,l,w,H,x)}else 16&Q?ig(l,u,v,f,w,x):Ed(u,l,w,H,x);f=R?f.projectionNext:f.next}}function Id(l,u,f,v,w,x){dh(f,v,l.firstChild,u,w,x,!1)}function ig(l,u,f,v,w,x){const R=f[16],Q=R[6].projection[v.projection];if(Array.isArray(Q))for(let fe=0;fe<Q.length;fe++)Ed(u,l,w,Q[fe],x);else dh(l,u,Q,R[3],w,x,!0)}function am(l,u,f){$(l)?l.setAttribute(u,"style",f):u.style.cssText=f}function vp(l,u,f){$(l)?""===f?l.removeAttribute(u,"class"):l.setAttribute(u,"class",f):u.className=f}function Tu(l,u,f){let v=l.length;for(;;){const w=l.indexOf(u,f);if(-1===w)return w;if(0===w||l.charCodeAt(w-1)<=32){const x=u.length;if(w+x===v||l.charCodeAt(w+x)<=32)return w}f=w+1}}const rg="ng-template";function Gm(l,u,f){let v=0;for(;v<l.length;){let w=l[v++];if(f&&"class"===w){if(w=l[v],-1!==Tu(w.toLowerCase(),u,0))return!0}else if(1===w){for(;v<l.length&&"string"==typeof(w=l[v++]);)if(w.toLowerCase()===u)return!0;return!1}}return!1}function og(l){return 4===l.type&&l.value!==rg}function sg(l,u,f){return u===(4!==l.type||f?l.value:rg)}function Yh(l,u,f){let v=4;const w=l.attrs||[],x=function(l){for(let u=0;u<l.length;u++)if(Ar(l[u]))return u;return l.length}(w);let R=!1;for(let H=0;H<u.length;H++){const Q=u[H];if("number"!=typeof Q){if(!R)if(4&v){if(v=2|1&v,""!==Q&&!sg(l,Q,f)||""===Q&&1===u.length){if(Cl(v))return!1;R=!0}}else{const fe=8&v?Q:u[++H];if(8&v&&null!==l.attrs){if(!Gm(l.attrs,fe,f)){if(Cl(v))return!1;R=!0}continue}const Ye=yp(8&v?"class":Q,w,og(l),f);if(-1===Ye){if(Cl(v))return!1;R=!0;continue}if(""!==fe){let wt;wt=Ye>x?"":w[Ye+1].toLowerCase();const Ft=8&v?wt:null;if(Ft&&-1!==Tu(Ft,fe,0)||2&v&&fe!==wt){if(Cl(v))return!1;R=!0}}}}else{if(!R&&!Cl(v)&&!Cl(Q))return!1;if(R&&Cl(Q))continue;R=!1,v=Q|1&v}}return Cl(v)||R}function Cl(l){return 0==(1&l)}function yp(l,u,f,v){if(null===u)return-1;let w=0;if(v||!f){let x=!1;for(;w<u.length;){const R=u[w];if(R===l)return w;if(3===R||6===R)x=!0;else{if(1===R||2===R){let H=u[++w];for(;"string"==typeof H;)H=u[++w];continue}if(4===R)break;if(0===R){w+=4;continue}}w+=x?1:2}return-1}return function(l,u){let f=l.indexOf(4);if(f>-1)for(f++;f<l.length;){const v=l[f];if("number"==typeof v)return-1;if(v===u)return f;f++}return-1}(u,l)}function ag(l,u,f=!1){for(let v=0;v<u.length;v++)if(Yh(l,u[v],f))return!0;return!1}function lm(l,u){e:for(let f=0;f<u.length;f++){const v=u[f];if(l.length===v.length){for(let w=0;w<l.length;w++)if(l[w]!==v[w])continue e;return!0}}return!1}function cm(l,u){return l?":not("+u.trim()+")":u}function lg(l){let u=l[0],f=1,v=2,w="",x=!1;for(;f<l.length;){let R=l[f];if("string"==typeof R)if(2&v){const H=l[++f];w+="["+R+(H.length>0?'="'+H+'"':"")+"]"}else 8&v?w+="."+R:4&v&&(w+=" "+R);else""!==w&&!Cl(R)&&(u+=cm(x,w),w=""),v=R,x=x||!Cl(v);f++}return""!==w&&(u+=cm(x,w)),u}const ur={};function wp(l){cg(Di(),an(),vt()+l,wa())}function cg(l,u,f,v){if(!v)if(3==(3&u[2])){const x=l.preOrderCheckHooks;null!==x&&ys(u,x,f)}else{const x=l.preOrderHooks;null!==x&&si(u,x,0,f)}Wt(f)}function Qh(l,u){return l<<17|u<<2}function Hc(l){return l>>17&32767}function Su(l){return 2|l}function kl(l){return(131068&l)>>2}function Lf(l,u){return-131069&l|u<<2}function ma(l){return 1|l}function vg(l,u){const f=l.contentQueries;if(null!==f)for(let v=0;v<f.length;v+=2){const w=f[v],x=f[v+1];if(-1!==x){const R=l.data[x];Y(w),R.contentQueries(2,u[x],x)}}}function Od(l,u,f,v,w,x,R,H,Q,fe){const Pe=u.blueprint.slice();return Pe[0]=w,Pe[2]=140|v,ho(Pe),Pe[3]=Pe[15]=l,Pe[8]=f,Pe[10]=R||l&&l[10],Pe[11]=H||l&&l[11],Pe[12]=Q||l&&l[12]||null,Pe[9]=fe||l&&l[9]||null,Pe[6]=x,Pe[16]=2==u.type?l[16]:Pe,Pe}function Ou(l,u,f,v,w){let x=l.data[u];if(null===x)x=function(l,u,f,v,w){const x=Ra(),R=Vs(),Q=l.data[u]=function(l,u,f,v,w,x){return{type:f,index:v,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:w,attrs:x,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,R?x:x&&x.parent,f,u,v,w);return null===l.firstChild&&(l.firstChild=Q),null!==x&&(R?null==x.child&&null!==Q.parent&&(x.child=Q):null===x.next&&(x.next=Q)),Q}(l,u,f,v,w),ti.lFrame.inI18n&&(x.flags|=64);else if(64&x.type){x.type=f,x.value=v,x.attrs=w;const R=function(){const l=ti.lFrame,u=l.currentTNode;return l.isParent?u:u.parent}();x.injectorIndex=null===R?-1:R.injectorIndex}return Ms(x,!0),x}function Nd(l,u,f,v){if(0===f)return-1;const w=u.length;for(let x=0;x<f;x++)u.push(v),l.blueprint.push(v),l.data.push(null);return w}function rd(l,u,f){tt(u);try{const v=l.viewQuery;null!==v&&yh(1,v,f);const w=l.template;null!==w&&nf(l,u,w,1,f),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&vg(l,u),l.staticViewQueries&&yh(2,l.viewQuery,f);const x=l.components;null!==x&&function(l,u){for(let f=0;f<u.length;f++)Al(l,u[f])}(u,x)}catch(v){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),v}finally{u[2]&=-5,gn()}}function od(l,u,f,v){const w=u[2];if(256==(256&w))return;tt(u);const x=wa();try{ho(u),function(l){ti.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==f&&nf(l,u,f,2,v);const R=3==(3&w);if(!x)if(R){const fe=l.preOrderCheckHooks;null!==fe&&ys(u,fe,null)}else{const fe=l.preOrderHooks;null!==fe&&si(u,fe,0,null),ws(u,0)}if(function(l){for(let u=gp(l);null!==u;u=uh(u)){if(!u[2])continue;const f=u[9];for(let v=0;v<f.length;v++){const w=f[v],x=w[3];0==(1024&w[2])&&vs(x,1),w[2]|=1024}}}(u),function(l){for(let u=gp(l);null!==u;u=uh(u))for(let f=10;f<u.length;f++){const v=u[f],w=v[1];br(v)&&od(w,v,w.template,v[8])}}(u),null!==l.contentQueries&&vg(l,u),!x)if(R){const fe=l.contentCheckHooks;null!==fe&&ys(u,fe)}else{const fe=l.contentHooks;null!==fe&&si(u,fe,1),ws(u,1)}!function(l,u){const f=l.hostBindingOpCodes;if(null!==f)try{for(let v=0;v<f.length;v++){const w=f[v];if(w<0)Wt(~w);else{const x=w,R=f[++v],H=f[++v];fl(R,x),H(2,u[x])}}}finally{Wt(-1)}}(l,u);const H=l.components;null!==H&&function(l,u){for(let f=0;f<u.length;f++)vm(l,u[f])}(u,H);const Q=l.viewQuery;if(null!==Q&&yh(2,Q,v),!x)if(R){const fe=l.viewCheckHooks;null!==fe&&ys(u,fe)}else{const fe=l.viewHooks;null!==fe&&si(u,fe,2),ws(u,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),x||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,vs(u[3],-1))}finally{gn()}}function hm(l,u,f,v){const w=u[10],x=!wa(),R=Ri(u);try{x&&!R&&w.begin&&w.begin(),R&&rd(l,u,v),od(l,u,f,v)}finally{x&&!R&&w.end&&w.end()}}function nf(l,u,f,v,w){const x=vt(),R=2&v;try{Wt(-1),R&&u.length>20&&cg(l,u,20,wa()),f(v,w)}finally{Wt(x)}}function _h(l,u,f){if(co(u)){const w=u.directiveEnd;for(let x=u.directiveStart;x<w;x++){const R=l.data[x];R.contentQueries&&R.contentQueries(1,f[x],x)}}}function rf(l,u,f){!ql()||(function(l,u,f,v){const w=f.directiveStart,x=f.directiveEnd;l.firstCreatePass||Dr(f,u),Ss(v,u);const R=f.initialInputs;for(let H=w;H<x;H++){const Q=l.data[H],fe=Vr(Q);fe&&fu(u,f,Q);const Pe=xn(u,l,H,f);Ss(Pe,u),null!==R&&Cs(0,H-w,Pe,Q,0,R),fe&&(ii(f.index,u)[8]=Pe)}}(l,u,f,kt(f,u)),128==(128&f.flags)&&function(l,u,f){const v=f.directiveStart,w=f.directiveEnd,R=f.index,H=ti.lFrame.currentDirectiveIndex;try{Wt(R);for(let Q=v;Q<w;Q++){const fe=l.data[Q],Pe=u[Q];pe(Q),(null!==fe.hostBindings||0!==fe.hostVars||null!==fe.hostAttrs)&&xg(fe,Pe)}}finally{Wt(-1),pe(H)}}(l,u,f))}function yg(l,u,f=kt){const v=u.localNames;if(null!==v){let w=u.index+1;for(let x=0;x<v.length;x+=2){const R=v[x+1],H=-1===R?f(u,l):l[R];l[w++]=H}}}function Vf(l){const u=l.tView;return null===u||u.incompleteFirstPass?l.tView=Uf(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):u}function Uf(l,u,f,v,w,x,R,H,Q,fe){const Pe=20+v,Ye=Pe+w,wt=function(l,u){const f=[];for(let v=0;v<u;v++)f.push(v<l?null:ur);return f}(Pe,Ye),Ft="function"==typeof fe?fe():fe;return wt[1]={type:l,blueprint:wt,template:f,queries:null,viewQuery:H,declTNode:u,data:wt.slice().fill(null,Pe),bindingStartIndex:Pe,expandoStartIndex:Ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof x?x():x,pipeRegistry:"function"==typeof R?R():R,firstChild:null,schemas:Q,consts:Ft,incompleteFirstPass:!1}}function Ap(l,u,f,v){const w=Os(u);null===f?w.push(v):(w.push(f),l.firstCreatePass&&wh(l).push(v,w.length-1))}function pm(l,u,f){for(let v in l)if(l.hasOwnProperty(v)){const w=l[v];(f=null===f?{}:f).hasOwnProperty(v)?f[v].push(u,w):f[v]=[u,w]}return f}function yc(l,u,f,v,w,x,R,H){const Q=kt(u,f);let Pe,fe=u.inputs;!H&&null!=fe&&(Pe=fe[v])?(Ld(l,f,Pe,v,w),_r(u)&&function(l,u){const f=ii(u,l);16&f[2]||(f[2]|=64)}(f,u.index)):3&u.type&&(v=function(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(v),w=null!=R?R(w,u.value||"",v):w,$(x)?x.setProperty(Q,v,w):is(v)||(Q.setProperty?Q.setProperty(v,w):Q[v]=w))}function sf(l,u,f,v){let w=!1;if(ql()){const x=function(l,u,f){const v=l.directiveRegistry;let w=null;if(v)for(let x=0;x<v.length;x++){const R=v[x];ag(f,R.selectors,!1)&&(w||(w=[]),U(Dr(f,u),l,R.type),Vr(R)?(hu(l,f),w.unshift(R)):w.push(R))}return w}(l,u,f),R=null===v?null:{"":-1};if(null!==x){w=!0,sd(f,l.data.length,x.length);for(let Pe=0;Pe<x.length;Pe++){const Ye=x[Pe];Ye.providersResolver&&Ye.providersResolver(Ye)}let H=!1,Q=!1,fe=Nd(l,u,x.length,null);for(let Pe=0;Pe<x.length;Pe++){const Ye=x[Pe];f.mergedAttrs=rs(f.mergedAttrs,Ye.hostAttrs),Hf(l,f,u,fe,Ye),bm(fe,Ye,R),null!==Ye.contentQueries&&(f.flags|=8),(null!==Ye.hostBindings||null!==Ye.hostAttrs||0!==Ye.hostVars)&&(f.flags|=128);const wt=Ye.type.prototype;!H&&(wt.ngOnChanges||wt.ngOnInit||wt.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(f.index),H=!0),!Q&&(wt.ngOnChanges||wt.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(f.index),Q=!0),fe++}!function(l,u){const v=u.directiveEnd,w=l.data,x=u.attrs,R=[];let H=null,Q=null;for(let fe=u.directiveStart;fe<v;fe++){const Pe=w[fe],Ye=Pe.inputs,wt=null===x||og(u)?null:Ws(Ye,x);R.push(wt),H=pm(Ye,fe,H),Q=pm(Pe.outputs,fe,Q)}null!==H&&(H.hasOwnProperty("class")&&(u.flags|=16),H.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=R,u.inputs=H,u.outputs=Q}(l,f)}R&&function(l,u,f){if(u){const v=l.localNames=[];for(let w=0;w<u.length;w+=2){const x=f[u[w+1]];if(null==x)throw new we("301",`Export of name '${u[w+1]}' not found!`);v.push(u[w],x)}}}(f,v,R)}return f.mergedAttrs=rs(f.mergedAttrs,f.attrs),w}function rl(l,u,f,v,w,x){const R=x.hostBindings;if(R){let H=l.hostBindingOpCodes;null===H&&(H=l.hostBindingOpCodes=[]);const Q=~u.index;(function(l){let u=l.length;for(;u>0;){const f=l[--u];if("number"==typeof f&&f<0)return f}return 0})(H)!=Q&&H.push(Q),H.push(v,w,R)}}function xg(l,u){null!==l.hostBindings&&l.hostBindings(1,u)}function hu(l,u){u.flags|=2,(l.components||(l.components=[])).push(u.index)}function bm(l,u,f){if(f){if(u.exportAs)for(let v=0;v<u.exportAs.length;v++)f[u.exportAs[v]]=l;Vr(u)&&(f[""]=l)}}function sd(l,u,f){l.flags|=1,l.directiveStart=u,l.directiveEnd=u+f,l.providerIndexes=u}function Hf(l,u,f,v,w){l.data[v]=w;const x=w.factory||(w.factory=js(w.type)),R=new fa(x,Vr(w),null);l.blueprint[v]=R,f[v]=R,rl(l,u,0,v,Nd(l,f,w.hostVars,ur),w)}function fu(l,u,f){const v=kt(u,l),w=Vf(f),x=l[10],R=pu(l,Od(l,w,null,f.onPush?64:16,v,u,x,x.createRenderer(v,f),null,null));l[u.index]=R}function wc(l,u,f,v,w,x){const R=kt(l,u);!function(l,u,f,v,w,x,R){if(null==x)$(l)?l.removeAttribute(u,w,f):u.removeAttribute(w);else{const H=null==R?dt(x):R(x,v||"",w);$(l)?l.setAttribute(u,w,H,f):f?u.setAttributeNS(f,w,H):u.setAttribute(w,H)}}(u[11],R,x,l.value,f,v,w)}function Cs(l,u,f,v,w,x){const R=x[u];if(null!==R){const H=v.setInput;for(let Q=0;Q<R.length;){const fe=R[Q++],Pe=R[Q++],Ye=R[Q++];null!==H?v.setInput(f,Ye,fe,Pe):f[Pe]=Ye}}}function Ws(l,u){let f=null,v=0;for(;v<u.length;){const w=u[v];if(0!==w)if(5!==w){if("number"==typeof w)break;l.hasOwnProperty(w)&&(null===f&&(f=[]),f.push(w,l[w],u[v+1])),v+=2}else v+=2;else v+=4}return f}function Br(l,u,f,v){return new Array(l,!0,!1,u,null,0,v,f,null,null)}function vm(l,u){const f=ii(u,l);if(br(f)){const v=f[1];80&f[2]?od(v,f,v.template,f[8]):f[5]>0&&qf(f)}}function qf(l){for(let v=gp(l);null!==v;v=uh(v))for(let w=10;w<v.length;w++){const x=v[w];if(1024&x[2]){const R=x[1];od(R,x,R.template,x[8])}else x[5]>0&&qf(x)}const f=l[1].components;if(null!==f)for(let v=0;v<f.length;v++){const w=ii(f[v],l);br(w)&&w[5]>0&&qf(w)}}function Al(l,u){const f=ii(u,l),v=f[1];(function(l,u){for(let f=u.length;f<l.blueprint.length;f++)u.push(l.blueprint[f])})(v,f),rd(v,f,f[8])}function pu(l,u){return l[13]?l[14][4]=u:l[13]=u,l[14]=u,u}function vh(l){for(;l;){l[2]|=64;const u=jc(l);if(_s(l)&&!u)return l;l=u}return null}function Zs(l,u,f){const v=u[10];v.begin&&v.begin();try{od(l,u,l.template,f)}catch(w){throw rr(u,w),w}finally{v.end&&v.end()}}function xl(l){!function(l){for(let u=0;u<l.components.length;u++){const f=l.components[u],v=Hh(f),w=v[1];hm(w,v,w.template,f)}}(l[8])}function yh(l,u,f){Y(0),u(l,f)}const $f=(()=>Promise.resolve(null))();function Os(l){return l[7]||(l[7]=[])}function wh(l){return l.cleanup||(l.cleanup=[])}function rr(l,u){const f=l[9],v=f?f.get(Ad,null):null;v&&v.handleError(u)}function Ld(l,u,f,v,w){for(let x=0;x<f.length;){const R=f[x++],H=f[x++],Q=u[R],fe=l.data[R];null!==fe.setInput?fe.setInput(Q,w,v,H):Q[H]=w}}function la(l,u,f){const v=Ce(u,l);!function(l,u,f){$(l)?l.setValue(u,f):u.textContent=f}(l[11],v,f)}function lf(l,u,f){let v=f?l.styles:null,w=f?l.classes:null,x=0;if(null!==u)for(let R=0;R<u.length;R++){const H=u[R];"number"==typeof H?x=H:1==x?w=ne(w,H):2==x&&(v=ne(v,H+": "+u[++R]+";"))}f?l.styles=v:l.stylesWithoutHost=v,f?l.classes=w:l.classesWithoutHost=w}const Po=new no("INJECTOR",-1);class Ch{get(u,f=ml){if(f===ml){const v=new Error(`NullInjectorError: No provider for ${Se(u)}!`);throw v.name="NullInjectorError",v}return f}}const Dg=new no("Set Injector scope."),Bd={},ym={};let Tg;function Wf(){return void 0===Tg&&(Tg=new Ch),Tg}function Pp(l,u=null,f=null,v){const w=Op(l,u,f,v);return w._resolveInjectorDefTypes(),w}function Op(l,u=null,f=null,v){return new wm(l,f,u||Wf(),v)}class wm{constructor(u,f,v,w=null){this.parent=v,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const x=[];f&&Ds(f,H=>this.processProvider(H,u,f)),Ds([u],H=>this.processInjectorType(H,[],x)),this.records.set(Po,qc(void 0,this));const R=this.records.get(Dg);this.scope=null!=R?R.value:null,this.source=w||("object"==typeof u?null:Se(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,f=ml,v=Sn.Default){this.assertNotDestroyed();const w=Cu(this),x=oo(void 0);try{if(!(v&Sn.SkipSelf)){let H=this.records.get(u);if(void 0===H){const Q=("function"==typeof(l=u)||"object"==typeof l&&l instanceof no)&&Ln(u);H=Q&&this.injectableDefInScope(Q)?qc(cf(u),Bd):null,this.records.set(u,H)}if(null!=H)return this.hydrate(u,H)}return(v&Sn.Self?Wf():this.parent).get(u,f=v&Sn.Optional&&f===ml?null:f)}catch(R){if("NullInjectorError"===R.name){if((R[_l]=R[_l]||[]).unshift(Se(u)),w)throw R;return function(l,u,f,v){const w=l[_l];throw u[Hu]&&w.unshift(u[Hu]),l.message=function(l,u,f,v=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let w=Se(u);if(Array.isArray(u))w=u.map(Se).join(" -> ");else if("object"==typeof u){let x=[];for(let R in u)if(u.hasOwnProperty(R)){let H=u[R];x.push(R+":"+("string"==typeof H?JSON.stringify(H):Se(H)))}w=`{${x.join(", ")}}`}return`${f}${v?"("+v+")":""}[${w}]: ${l.replace(Rh,"\n  ")}`}("\n"+l.message,w,f,v),l.ngTokenPath=w,l[_l]=null,l}(R,u,"R3InjectorError",this.source)}throw R}finally{oo(x),Cu(w)}var l}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((v,w)=>u.push(Se(w))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(u,f,v){if(!(u=Ke(u)))return!1;let w=di(u);const x=null==w&&u.ngModule||void 0,R=void 0===x?u:x,H=-1!==v.indexOf(R);if(void 0!==x&&(w=di(x)),null==w)return!1;if(null!=w.imports&&!H){let Pe;v.push(R);try{Ds(w.imports,Ye=>{this.processInjectorType(Ye,f,v)&&(void 0===Pe&&(Pe=[]),Pe.push(Ye))})}finally{}if(void 0!==Pe)for(let Ye=0;Ye<Pe.length;Ye++){const{ngModule:wt,providers:Ft}=Pe[Ye];Ds(Ft,rn=>this.processProvider(rn,wt,Ft||nn))}}this.injectorDefTypes.add(R);const Q=js(R)||(()=>new R);this.records.set(R,qc(Q,Bd));const fe=w.providers;if(null!=fe&&!H){const Pe=u;Ds(fe,Ye=>this.processProvider(Ye,Pe,fe))}return void 0!==x&&void 0!==u.providers}processProvider(u,f,v){let w=Ac(u=Ke(u))?u:Ke(u&&u.provide);const x=(l=u,kc(l)?qc(void 0,l.useValue):qc(Sg(l),Bd));var l;if(Ac(u)||!0!==u.multi)this.records.get(w);else{let R=this.records.get(w);R||(R=qc(void 0,Bd,!0),R.factory=()=>Gs(R.multi),this.records.set(w,R)),w=u,R.multi.push(u)}this.records.set(w,x)}hydrate(u,f){return f.value===Bd&&(f.value=ym,f.value=f.factory()),"object"==typeof f.value&&f.value&&null!==(l=f.value)&&"object"==typeof l&&"function"==typeof l.ngOnDestroy&&this.onDestroy.add(f.value),f.value;var l}injectableDefInScope(u){if(!u.providedIn)return!1;const f=Ke(u.providedIn);return"string"==typeof f?"any"===f||f===this.scope:this.injectorDefTypes.has(f)}}function cf(l){const u=Ln(l),f=null!==u?u.factory:js(l);if(null!==f)return f;if(l instanceof no)throw new Error(`Token ${Se(l)} is missing a \u0275prov definition.`);if(l instanceof Function)return function(l){const u=l.length;if(u>0){const v=Qc(u,"?");throw new Error(`Can't resolve all parameters for ${Se(l)}: (${v.join(", ")}).`)}const f=function(l){const u=l&&(l[pi]||l[Ai]);if(u){const f=function(l){if(l.hasOwnProperty("name"))return l.name;const u=(""+l).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${f}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${f}" class.`),u}return null}(l);return null!==f?()=>f.factory(l):()=>new l}(l);throw new Error("unreachable")}function Sg(l,u,f){let v;if(Ac(l)){const w=Ke(l);return js(w)||cf(w)}if(kc(l))v=()=>Ke(l.useValue);else if(function(l){return!(!l||!l.useFactory)}(l))v=()=>l.useFactory(...Gs(l.deps||[]));else if(function(l){return!(!l||!l.useExisting)}(l))v=()=>qs(Ke(l.useExisting));else{const w=Ke(l&&(l.useClass||l.provide));if(!function(l){return!!l.deps}(l))return js(w)||cf(w);v=()=>new w(...Gs(l.deps))}return v}function qc(l,u,f=!1){return{factory:l,value:u,multi:f?[]:void 0}}function kc(l){return null!==l&&"object"==typeof l&&qu in l}function Ac(l){return"function"==typeof l}let Gc=(()=>{class l{static create(f,v){var w;if(Array.isArray(f))return Pp({name:""},v,f,"");{const x=null!=(w=f.name)?w:"";return Pp({name:x},f.parent,f.providers,x)}}}return l.THROW_IF_NOT_FOUND=ml,l.NULL=new Ch,l.\u0275prov=Tn({token:l,providedIn:"any",factory:()=>qs(Po)}),l.__NG_ELEMENT_ID__=-1,l})();function Lg(l,u){eo(Hh(l)[1],Co())}function Rp(l){let u=function(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),f=!0;const v=[l];for(;u;){let w;if(Vr(l))w=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Error("Directives cannot inherit Components");w=u.\u0275dir}if(w){if(f){v.push(w);const R=l;R.inputs=uf(l.inputs),R.declaredInputs=uf(l.declaredInputs),R.outputs=uf(l.outputs);const H=w.hostBindings;H&&Qf(l,H);const Q=w.viewQuery,fe=w.contentQueries;if(Q&&Bg(l,Q),fe&&jg(l,fe),be(l.inputs,w.inputs),be(l.declaredInputs,w.declaredInputs),be(l.outputs,w.outputs),Vr(w)&&w.data.animation){const Pe=l.data;Pe.animation=(Pe.animation||[]).concat(w.data.animation)}}const x=w.features;if(x)for(let R=0;R<x.length;R++){const H=x[R];H&&H.ngInherit&&H(l),H===Rp&&(f=!1)}}u=Object.getPrototypeOf(u)}!function(l){let u=0,f=null;for(let v=l.length-1;v>=0;v--){const w=l[v];w.hostVars=u+=w.hostVars,w.hostAttrs=rs(w.hostAttrs,f=rs(f,w.hostAttrs))}}(v)}function uf(l){return l===Et?{}:l===nn?[]:l}function Bg(l,u){const f=l.viewQuery;l.viewQuery=f?(v,w)=>{u(v,w),f(v,w)}:u}function jg(l,u){const f=l.contentQueries;l.contentQueries=f?(v,w,x)=>{u(v,w,x),f(v,w,x)}:u}function Qf(l,u){const f=l.hostBindings;l.hostBindings=f?(v,w)=>{u(v,w),f(v,w)}:u}let Fp=null;function Lu(){if(!Fp){const l=Je.Symbol;if(l&&l.iterator)Fp=l.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let f=0;f<u.length;++f){const v=u[f];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(Fp=v)}}}return Fp}function Ml(l){return!!Vg(l)&&(Array.isArray(l)||!(l instanceof Map)&&Lu()in l)}function Vg(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Wc(l,u,f){return l[u]=f}function Ns(l,u,f){return!Object.is(l[u],f)&&(l[u]=f,!0)}function Ug(l,u,f,v){const w=an();return Ns(w,ha(),u)&&(Di(),wc(un(),w,l,u,f,v)),Ug}function qd(l,u,f,v){return Ns(l,ha(),f)?u+dt(f)+v:ur}function dd(l,u,f,v,w,x,R,H){const Q=an(),fe=Di(),Pe=l+20,Ye=fe.firstCreatePass?function(l,u,f,v,w,x,R,H,Q){const fe=u.consts,Pe=Ou(u,l,4,R||null,Mr(fe,H));sf(u,f,Pe,Mr(fe,Q)),eo(u,Pe);const Ye=Pe.tViews=Uf(2,Pe,v,w,x,u.directiveRegistry,u.pipeRegistry,null,u.schemas,fe);return null!==u.queries&&(u.queries.template(u,Pe),Ye.queries=u.queries.embeddedTView(Pe)),Pe}(Pe,fe,Q,u,f,v,w,x,R):fe.data[Pe];Ms(Ye,!1);const wt=Q[11].createComment("");Of(fe,Q,wt,Ye),Ss(wt,Q),pu(Q,Q[Pe]=Br(wt,Q,wt,Ye)),Go(Ye)&&rf(fe,Q,Ye),null!=R&&yg(Q,Ye,H)}function Bp(l){return Xn(ti.lFrame.contextLView,20+l)}function yr(l,u=Sn.Default){const f=an();return null===f?qs(l,u):ce(Co(),f,Ke(l),u)}function Ul(){throw new Error("invalid")}function s(l,u,f){const v=an();return Ns(v,ha(),u)&&yc(Di(),un(),v,l,u,v[11],f,!1),s}function i(l,u,f,v,w){const R=w?"class":"style";Ld(l,f,u.inputs[R],R,v)}function p(l,u,f,v){const w=an(),x=Di(),R=20+l,H=w[11],Q=w[R]=$h(H,u,ti.lFrame.currentNamespace),fe=x.firstCreatePass?function(l,u,f,v,w,x,R){const H=u.consts,fe=Ou(u,l,2,w,Mr(H,x));return sf(u,f,fe,Mr(H,R)),null!==fe.attrs&&lf(fe,fe.attrs,!1),null!==fe.mergedAttrs&&lf(fe,fe.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,fe),fe}(R,x,w,0,u,f,v):x.data[R];Ms(fe,!0);const Pe=fe.mergedAttrs;null!==Pe&&Ko(H,Q,Pe);const Ye=fe.classes;null!==Ye&&vp(H,Q,Ye);const wt=fe.styles;null!==wt&&am(H,Q,wt),64!=(64&fe.flags)&&Of(x,w,Q,fe),0===ti.lFrame.elementDepthCount&&Ss(Q,w),ti.lFrame.elementDepthCount++,Go(fe)&&(rf(x,w,fe),_h(x,fe,w)),null!==v&&yg(w,fe)}function b(){let l=Co();Vs()?dl():(l=l.parent,Ms(l,!1));const u=l;ti.lFrame.elementDepthCount--;const f=Di();f.firstCreatePass&&(eo(f,l),co(l)&&f.queries.elementEnd(l)),null!=u.classesWithoutHost&&function(l){return 0!=(16&l.flags)}(u)&&i(f,u,an(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function(l){return 0!=(32&l.flags)}(u)&&i(f,u,an(),u.stylesWithoutHost,!1)}function A(l,u,f,v){p(l,u,f,v),b()}function se(l,u,f){const v=an(),w=Di(),x=l+20,R=w.firstCreatePass?function(l,u,f,v,w){const x=u.consts,R=Mr(x,v),H=Ou(u,l,8,"ng-container",R);return null!==R&&lf(H,R,!0),sf(u,f,H,Mr(x,w)),null!==u.queries&&u.queries.elementStart(u,H),H}(x,w,v,u,f):w.data[x];Ms(R,!0);const H=v[x]=v[11].createComment("");Of(w,v,H,R),Ss(H,v),Go(R)&&(rf(w,v,R),_h(w,R,v)),null!=f&&yg(v,R)}function Me(){let l=Co();const u=Di();Vs()?dl():(l=l.parent,Ms(l,!1)),u.firstCreatePass&&(eo(u,l),co(l)&&u.queries.elementEnd(l))}function et(){return an()}function ht(l){return!!l&&"function"==typeof l.then}function Rt(l){return!!l&&"function"==typeof l.subscribe}const Lt=Rt;function Gt(l,u,f,v){const w=an(),x=Di(),R=Co();return function(l,u,f,v,w,x,R,H){const Q=Go(v),Pe=l.firstCreatePass&&wh(l),Ye=u[8],wt=Os(u);let Ft=!0;if(3&v.type||H){const Gn=kt(v,u),bi=H?H(Gn):Gn,pn=wt.length,$i=H?Ao=>H(z(Ao[v.index])):v.index;if($(f)){let Ao=null;if(!H&&Q&&(Ao=function(l,u,f,v){const w=l.cleanup;if(null!=w)for(let x=0;x<w.length-1;x+=2){const R=w[x];if(R===f&&w[x+1]===v){const H=u[7],Q=w[x+2];return H.length>Q?H[Q]:null}"string"==typeof R&&(x+=2)}return null}(l,u,w,v.index)),null!==Ao)(Ao.__ngLastListenerFn__||Ao).__ngNextListenerFn__=x,Ao.__ngLastListenerFn__=x,Ft=!1;else{x=Tr(v,u,Ye,x,!1);const Rs=f.listen(bi,w,x);wt.push(x,Rs),Pe&&Pe.push(w,$i,pn,pn+1)}}else x=Tr(v,u,Ye,x,!0),bi.addEventListener(w,x,R),wt.push(x),Pe&&Pe.push(w,$i,pn,R)}else x=Tr(v,u,Ye,x,!1);const rn=v.outputs;let Dn;if(Ft&&null!==rn&&(Dn=rn[w])){const Gn=Dn.length;if(Gn)for(let bi=0;bi<Gn;bi+=2){const Oh=u[Dn[bi]][Dn[bi+1]].subscribe(x),M_=wt.length;wt.push(x,Oh),Pe&&Pe.push(w,v.index,M_,-(M_+1))}}}(x,w,w[11],R,l,u,!!f,v),Gt}function Si(l,u,f,v){try{return!1!==f(v)}catch(w){return rr(l,w),!1}}function Tr(l,u,f,v,w){return function x(R){if(R===Function)return v;const H=2&l.flags?ii(l.index,u):u;0==(32&u[2])&&vh(H);let Q=Si(u,0,v,R),fe=x.__ngNextListenerFn__;for(;fe;)Q=Si(u,0,fe,R)&&Q,fe=fe.__ngNextListenerFn__;return w&&!1===Q&&(R.preventDefault(),R.returnValue=!1),Q}}function bo(l=1){return function(l){return(ti.lFrame.contextLView=function(l,u){for(;l>0;)u=u[15],l--;return u}(l,ti.lFrame.contextLView))[8]}(l)}function ms(l,u){let f=null;const v=function(l){const u=l.attrs;if(null!=u){const f=u.indexOf(5);if(0==(1&f))return u[f+1]}return null}(l);for(let w=0;w<u.length;w++){const x=u[w];if("*"!==x){if(null===v?ag(l,x,!0):lm(v,x))return w}else f=w}return f}function al(l){const u=an()[16][6];if(!u.projection){const v=u.projection=Qc(l?l.length:1,null),w=v.slice();let x=u.child;for(;null!==x;){const R=l?ms(x,l):0;null!==R&&(w[R]?w[R].projectionNext=x:v[R]=x,w[R]=x),x=x.next}}}function Nm(l,u=0,f){const v=an(),w=Di(),x=Ou(w,20+l,16,null,f||null);null===x.projection&&(x.projection=u),dl(),64!=(64&x.flags)&&function(l,u,f){ig(u[11],0,u,f,_p(l,f,u),tg(f.parent||u[6],f,u))}(w,v,x)}function ip(l,u,f){return Wg(l,"",u,"",f),ip}function Wg(l,u,f,v,w){const x=an(),R=qd(x,u,f,v);return R!==ur&&yc(Di(),un(),x,l,R,x[11],w,!1),Wg}function Fv(l,u,f,v,w){const x=l[f+1],R=null===u;let H=v?Hc(x):kl(x),Q=!1;for(;0!==H&&(!1===Q||R);){const Pe=l[H+1];zw(l[H],u)&&(Q=!0,l[H+1]=v?ma(Pe):Su(Pe)),H=v?Hc(Pe):kl(Pe)}Q&&(l[f+1]=v?Su(x):ma(x))}function zw(l,u){return null===l||null==u||(Array.isArray(l)?l[1]:l)===u||!(!Array.isArray(l)||"string"!=typeof u)&&md(l,u)>=0}const Hl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cb(l){return l.substring(Hl.key,Hl.keyEnd)}function Lv(l,u){const f=Hl.textEnd;return f===u?-1:(u=Hl.keyEnd=function(l,u,f){for(;u<f&&l.charCodeAt(u)>32;)u++;return u}(l,Hl.key=u,f),Zg(l,u,f))}function Zg(l,u,f){for(;u<f&&l.charCodeAt(u)<=32;)u++;return u}function hb(l,u,f){return Kc(l,u,f,!1),hb}function I_(l,u){return Kc(l,u,null,!0),I_}function Vv(l){Zd(os,Ec,l,!0)}function Ec(l,u){for(let f=function(l){return function(l){Hl.key=0,Hl.keyEnd=0,Hl.value=0,Hl.valueEnd=0,Hl.textEnd=l.length}(l),Lv(l,Zg(l,0,Hl.textEnd))}(u);f>=0;f=Lv(u,f))os(l,cb(u),!0)}function Kc(l,u,f,v){const w=an(),x=Di(),R=vr(2);x.firstUpdatePass&&fb(x,l,R,v),u!==ur&&Ns(w,R,u)&&u_(x,x.data[vt()],w,w[11],l,w[R+1]=function(l,u){return null==l||("string"==typeof u?l+=u:"object"==typeof l&&(l=Se(Da(l)))),l}(u,f),v,R)}function Zd(l,u,f,v){const w=Di(),x=vr(2);w.firstUpdatePass&&fb(w,null,x,v);const R=an();if(f!==ur&&Ns(R,x,f)){const H=w.data[vt()];if(_b(H,v)&&!l_(w,x)){let Q=v?H.classesWithoutHost:H.stylesWithoutHost;null!==Q&&(f=ne(Q,f||"")),i(w,H,R,f,v)}else!function(l,u,f,v,w,x,R,H){w===ur&&(w=nn);let Q=0,fe=0,Pe=0<w.length?w[0]:null,Ye=0<x.length?x[0]:null;for(;null!==Pe||null!==Ye;){const wt=Q<w.length?w[Q+1]:void 0,Ft=fe<x.length?x[fe+1]:void 0;let Dn,rn=null;Pe===Ye?(Q+=2,fe+=2,wt!==Ft&&(rn=Ye,Dn=Ft)):null===Ye||null!==Pe&&Pe<Ye?(Q+=2,rn=Pe):(fe+=2,rn=Ye,Dn=Ft),null!==rn&&u_(l,u,f,v,rn,Dn,R,H),Pe=Q<w.length?w[Q]:null,Ye=fe<x.length?x[fe]:null}}(w,H,R,R[11],R[x+1],R[x+1]=function(l,u,f){if(null==f||""===f)return nn;const v=[],w=Da(f);if(Array.isArray(w))for(let x=0;x<w.length;x++)l(v,w[x],!0);else if("object"==typeof w)for(const x in w)w.hasOwnProperty(x)&&l(v,x,w[x]);else"string"==typeof w&&u(v,w);return v}(l,u,f),v,x)}}function l_(l,u){return u>=l.expandoStartIndex}function fb(l,u,f,v){const w=l.data;if(null===w[f+1]){const x=w[vt()],R=l_(l,f);_b(x,v)&&null===u&&!R&&(u=!1),u=function(l,u,f,v){const w=function(l){const u=ti.lFrame.currentDirectiveIndex;return-1===u?null:l[u]}(l);let x=v?u.residualClasses:u.residualStyles;if(null===w)0===(v?u.classBindings:u.styleBindings)&&(f=c_(f=qp(null,l,u,f,v),u.attrs,v),x=null);else{const R=u.directiveStylingLast;if(-1===R||l[R]!==w)if(f=qp(w,l,u,f,v),null===x){let Q=function(l,u,f){const v=f?u.classBindings:u.styleBindings;if(0!==kl(v))return l[Hc(v)]}(l,u,v);void 0!==Q&&Array.isArray(Q)&&(Q=qp(null,l,u,Q[1],v),Q=c_(Q,u.attrs,v),function(l,u,f,v){l[Hc(f?u.classBindings:u.styleBindings)]=v}(l,u,v,Q))}else x=function(l,u,f){let v;const w=u.directiveEnd;for(let x=1+u.directiveStylingLast;x<w;x++)v=c_(v,l[x].hostAttrs,f);return c_(v,u.attrs,f)}(l,u,v)}return void 0!==x&&(v?u.residualClasses=x:u.residualStyles=x),f}(w,x,u,v),function(l,u,f,v,w,x){let R=x?u.classBindings:u.styleBindings,H=Hc(R),Q=kl(R);l[v]=f;let Pe,fe=!1;if(Array.isArray(f)){const Ye=f;Pe=Ye[1],(null===Pe||md(Ye,Pe)>0)&&(fe=!0)}else Pe=f;if(w)if(0!==Q){const wt=Hc(l[H+1]);l[v+1]=Qh(wt,H),0!==wt&&(l[wt+1]=Lf(l[wt+1],v)),l[H+1]=function(l,u){return 131071&l|u<<17}(l[H+1],v)}else l[v+1]=Qh(H,0),0!==H&&(l[H+1]=Lf(l[H+1],v)),H=v;else l[v+1]=Qh(Q,0),0===H?H=v:l[Q+1]=Lf(l[Q+1],v),Q=v;fe&&(l[v+1]=Su(l[v+1])),Fv(l,Pe,v,!0),Fv(l,Pe,v,!1),function(l,u,f,v,w){const x=w?l.residualClasses:l.residualStyles;null!=x&&"string"==typeof u&&md(x,u)>=0&&(f[v+1]=ma(f[v+1]))}(u,Pe,l,v,x),R=Qh(H,Q),x?u.classBindings=R:u.styleBindings=R}(w,x,u,f,R,v)}}function qp(l,u,f,v,w){let x=null;const R=f.directiveEnd;let H=f.directiveStylingLast;for(-1===H?H=f.directiveStart:H++;H<R&&(x=u[H],v=c_(v,x.hostAttrs,w),x!==l);)H++;return null!==l&&(f.directiveStylingLast=H),v}function c_(l,u,f){const v=f?1:2;let w=-1;if(null!==u)for(let x=0;x<u.length;x++){const R=u[x];"number"==typeof R?w=R:w===v&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),os(l,R,!!f||u[++x]))}return void 0===l?null:l}function u_(l,u,f,v,w,x,R,H){if(!(3&u.type))return;const Q=l.data,fe=Q[H+1];d_(function(l){return 1==(1&l)}(fe)?mb(Q,u,f,w,kl(fe),R):void 0)||(d_(x)||function(l){return 2==(2&l)}(fe)&&(x=mb(Q,null,f,w,H,R)),function(l,u,f,v,w){const x=$(l);if(u)w?x?l.addClass(f,v):f.classList.add(v):x?l.removeClass(f,v):f.classList.remove(v);else{let R=-1===v.indexOf("-")?void 0:sn.DashCase;if(null==w)x?l.removeStyle(f,v,R):f.style.removeProperty(v);else{const H="string"==typeof w&&w.endsWith("!important");H&&(w=w.slice(0,-10),R|=sn.Important),x?l.setStyle(f,v,w,R):f.style.setProperty(v,w,H?"important":"")}}}(v,R,Ce(vt(),f),w,x))}function mb(l,u,f,v,w,x){const R=null===u;let H;for(;w>0;){const Q=l[w],fe=Array.isArray(Q),Pe=fe?Q[1]:Q,Ye=null===Pe;let wt=f[w+1];wt===ur&&(wt=Ye?nn:void 0);let Ft=Ye?Cf(wt,v):Pe===v?wt:void 0;if(fe&&!d_(Ft)&&(Ft=Cf(Q,v)),d_(Ft)&&(H=Ft,R))return H;const rn=l[w+1];w=R?Hc(rn):kl(rn)}if(null!==u){let Q=x?u.residualClasses:u.residualStyles;null!=Q&&(H=Cf(Q,v))}return H}function d_(l){return void 0!==l}function _b(l,u){return 0!=(l.flags&(u?16:32))}function Hv(l,u=""){const f=an(),v=Di(),w=l+20,x=v.firstCreatePass?Ou(v,w,1,u,null):v.data[w],R=f[w]=function(l,u){return $(l)?l.createText(u):l.createTextNode(u)}(f[11],u);Of(v,f,R,x),Ms(x,!1)}function bb(l){return P_("",l,""),bb}function P_(l,u,f){const v=an(),w=qd(v,l,u,f);return w!==ur&&la(v,vt(),w),P_}function Zv(l,u,f){Zd(os,Ec,qd(an(),l,u,f),!0)}const Kg=void 0;var a0=["en",[["a","p"],["AM","PM"],Kg],[["AM","PM"],Kg,Kg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kg,"{1} 'at' {0}",Kg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(l){const f=Math.floor(Math.abs(l)),v=l.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===v?1:5}];let Yg={};function Db(l){const u=function(l){return l.toLowerCase().replace(/_/g,"-")}(l);let f=Tb(u);if(f)return f;const v=u.split("-")[0];if(f=Tb(v),f)return f;if("en"===v)return a0;throw new Error(`Missing locale data for the locale "${l}".`)}function oy(l){return Db(l)[zi.PluralCase]}function Tb(l){return l in Yg||(Yg[l]=Je.ng&&Je.ng.common&&Je.ng.common.locales&&Je.ng.common.locales[l]),Yg[l]}var zi=(()=>((zi=zi||{})[zi.LocaleId=0]="LocaleId",zi[zi.DayPeriodsFormat=1]="DayPeriodsFormat",zi[zi.DayPeriodsStandalone=2]="DayPeriodsStandalone",zi[zi.DaysFormat=3]="DaysFormat",zi[zi.DaysStandalone=4]="DaysStandalone",zi[zi.MonthsFormat=5]="MonthsFormat",zi[zi.MonthsStandalone=6]="MonthsStandalone",zi[zi.Eras=7]="Eras",zi[zi.FirstDayOfWeek=8]="FirstDayOfWeek",zi[zi.WeekendRange=9]="WeekendRange",zi[zi.DateFormat=10]="DateFormat",zi[zi.TimeFormat=11]="TimeFormat",zi[zi.DateTimeFormat=12]="DateTimeFormat",zi[zi.NumberSymbols=13]="NumberSymbols",zi[zi.NumberFormats=14]="NumberFormats",zi[zi.CurrencyCode=15]="CurrencyCode",zi[zi.CurrencySymbol=16]="CurrencySymbol",zi[zi.CurrencyName=17]="CurrencyName",zi[zi.Currencies=18]="Currencies",zi[zi.Directionality=19]="Directionality",zi[zi.PluralCase=20]="PluralCase",zi[zi.ExtraData=21]="ExtraData",zi))();const f_="en-US";let ay=f_;function $b(l,u,f,v,w){if(l=Ke(l),Array.isArray(l))for(let x=0;x<l.length;x++)$b(l[x],u,f,v,w);else{const x=Di(),R=an();let H=Ac(l)?l:Ke(l.provide),Q=Sg(l);const fe=Co(),Pe=1048575&fe.providerIndexes,Ye=fe.directiveStart,wt=fe.providerIndexes>>20;if(Ac(l)||!l.multi){const Ft=new fa(Q,w,yr),rn=Zb(H,u,w?Pe:Pe+wt,Ye);-1===rn?(U(Dr(fe,R),x,H),j_(x,l,u.length),u.push(H),fe.directiveStart++,fe.directiveEnd++,w&&(fe.providerIndexes+=1048576),f.push(Ft),R.push(Ft)):(f[rn]=Ft,R[rn]=Ft)}else{const Ft=Zb(H,u,Pe+wt,Ye),rn=Zb(H,u,Pe,Pe+wt),Dn=Ft>=0&&f[Ft],Gn=rn>=0&&f[rn];if(w&&!Gn||!w&&!Dn){U(Dr(fe,R),x,H);const bi=function(l,u,f,v,w){const x=new fa(l,f,yr);return x.multi=[],x.index=u,x.componentProviders=0,Wb(x,w,v&&!f),x}(w?F0:By,f.length,w,v,Q);!w&&Gn&&(f[rn].providerFactory=bi),j_(x,l,u.length,0),u.push(H),fe.directiveStart++,fe.directiveEnd++,w&&(fe.providerIndexes+=1048576),f.push(bi),R.push(bi)}else j_(x,l,Ft>-1?Ft:rn,Wb(f[w?rn:Ft],Q,!w&&v));!w&&v&&Gn&&f[rn].componentProviders++}}}function j_(l,u,f,v){const w=Ac(u),x=function(l){return!!l.useClass}(u);if(w||x){const Q=(x?Ke(u.useClass):u).prototype.ngOnDestroy;if(Q){const fe=l.destroyHooks||(l.destroyHooks=[]);if(!w&&u.multi){const Pe=fe.indexOf(f);-1===Pe?fe.push(f,[v,Q]):fe[Pe+1].push(v,Q)}else fe.push(f,Q)}}}function Wb(l,u,f){return f&&l.componentProviders++,l.multi.push(u)-1}function Zb(l,u,f,v){for(let w=f;w<v;w++)if(u[w]===l)return w;return-1}function By(l,u,f,v){return Kb(this.multi,[])}function F0(l,u,f,v){const w=this.multi;let x;if(this.providerFactory){const R=this.providerFactory.componentProviders,H=xn(f,f[1],this.providerFactory.index,v);x=H.slice(0,R),Kb(w,x);for(let Q=R;Q<H.length;Q++)x.push(H[Q])}else x=[],Kb(w,x);return x}function Kb(l,u){for(let f=0;f<l.length;f++)u.push((0,l[f])());return u}function Qb(l,u=[]){return f=>{f.providersResolver=(v,w)=>function(l,u,f){const v=Di();if(v.firstCreatePass){const w=Vr(l);$b(f,v.data,v.blueprint,w,!0),$b(u,v.data,v.blueprint,w,!1)}}(v,w?w(l):l,u)}}class Xb{}class j0{resolveComponentFactory(u){throw function(l){const u=Error(`No component factory found for ${Se(l)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=l,u}(u)}}let b_=(()=>{class l{}return l.NULL=new j0,l})();function _f(){return jm(Co(),an())}function jm(l,u){return new Xg(kt(l,u))}let Xg=(()=>{class l{constructor(f){this.nativeElement=f}}return l.__NG_ELEMENT_ID__=_f,l})();function z0(l){return l instanceof Xg?l.nativeElement:l}class ev{}let zy=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function(){const l=an(),f=ii(Co().index,l);return function(l){return l[11]}(lo(f)?f:l)}(),l})(),Hy=(()=>{class l{}return l.\u0275prov=Tn({token:l,providedIn:"root",factory:()=>null}),l})();class qy{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const tv=new qy("13.0.3"),Vu={};function v_(l,u,f,v,w=!1){for(;null!==f;){const x=u[f.index];if(null!==x&&v.push(z(x)),Ro(x))for(let H=10;H<x.length;H++){const Q=x[H],fe=Q[1].firstChild;null!==fe&&v_(Q[1],Q,fe,v)}const R=f.type;if(8&R)v_(l,u,f.child,v);else if(32&R){const H=su(f,u);let Q;for(;Q=H();)v.push(Q)}else if(16&R){const H=Kh(u,f);if(Array.isArray(H))v.push(...H);else{const Q=jc(u[16]);v_(Q[1],Q,H,v,!0)}}f=w?f.projectionNext:f.next}return v}class zm{constructor(u,f){this._lView=u,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,f=u[1];return v_(f,u,f.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(Ro(u)){const f=u[8],v=f?f.indexOf(this):-1;v>-1&&(Vc(u,v),Aa(f,v))}this._attachedToViewContainer=!1}Md(this._lView[1],this._lView)}onDestroy(u){Ap(this._lView[1],this._lView,null,u)}markForCheck(){vh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(l,u,f){Va(!0);try{Zs(l,u,f)}finally{Va(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var u;this._appRef=null,Id(this._lView[1],u=this._lView,u[11],2,null,null)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=u}}class Gy extends zm{constructor(u){super(u),this._view=u}detectChanges(){xl(this._view)}checkNoChanges(){!function(l){Va(!0);try{xl(l)}finally{Va(!1)}}(this._view)}get context(){return null}}class z_ extends b_{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const f=Ci(u);return new V_(f,this.ngModule)}}function $y(l){const u=[];for(let f in l)l.hasOwnProperty(f)&&u.push({propName:l[f],templateName:f});return u}const U0=new no("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>fp});class V_ extends Xb{constructor(u,f){super(),this.componentDef=u,this.ngModule=f,this.componentType=u.type,this.selector=u.selectors.map(lg).join(","),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!f}get inputs(){return $y(this.componentDef.inputs)}get outputs(){return $y(this.componentDef.outputs)}create(u,f,v,w){const x=(w=w||this.ngModule)?function(l,u){return{get:(f,v,w)=>{const x=l.get(f,Vu,w);return x!==Vu||v===Vu?x:u.get(f,v,w)}}}(u,w.injector):u,R=x.get(ev,ve),H=x.get(Hy,null),Q=R.createRenderer(null,this.componentDef),fe=this.componentDef.selectors[0][0]||"div",Pe=v?function(l,u,f){if($(l))return l.selectRootElement(u,f===Oi.ShadowDom);let v="string"==typeof u?l.querySelector(u):u;return v.textContent="",v}(Q,v,this.componentDef.encapsulation):$h(R.createRenderer(null,this.componentDef),fe,function(l){const u=l.toLowerCase();return"svg"===u?"http://www.w3.org/2000/svg":"math"===u?"http://www.w3.org/1998/MathML/":null}(fe)),Ye=this.componentDef.onPush?576:528,wt=function(l,u){return{components:[],scheduler:l||fp,clean:$f,playerHandler:u||null,flags:0}}(),Ft=Uf(0,null,null,1,0,null,null,null,null,null),rn=Od(null,Ft,wt,Ye,null,null,R,Q,H,x);let Dn,Gn;tt(rn);try{const bi=function(l,u,f,v,w,x){const R=f[1];f[20]=l;const Q=Ou(R,20,2,"#host",null),fe=Q.mergedAttrs=u.hostAttrs;null!==fe&&(lf(Q,fe,!0),null!==l&&(Ko(w,l,fe),null!==Q.classes&&vp(w,l,Q.classes),null!==Q.styles&&am(w,l,Q.styles)));const Pe=v.createRenderer(l,u),Ye=Od(f,Vf(u),null,u.onPush?64:16,f[20],Q,v,Pe,x||null,null);return R.firstCreatePass&&(U(Dr(Q,f),R,u.type),hu(R,Q),sd(Q,f.length,1)),pu(f,Ye),f[20]=Ye}(Pe,this.componentDef,rn,R,Q);if(Pe)if(v)Ko(Q,Pe,["ng-version",tv.full]);else{const{attrs:pn,classes:$i}=function(l){const u=[],f=[];let v=1,w=2;for(;v<l.length;){let x=l[v];if("string"==typeof x)2===w?""!==x&&u.push(x,l[++v]):8===w&&f.push(x);else{if(!Cl(w))break;w=x}v++}return{attrs:u,classes:f}}(this.componentDef.selectors[0]);pn&&Ko(Q,Pe,pn),$i&&$i.length>0&&vp(Q,Pe,$i.join(" "))}if(Gn=hn(Ft,20),void 0!==f){const pn=Gn.projection=[];for(let $i=0;$i<this.ngContentSelectors.length;$i++){const Ao=f[$i];pn.push(null!=Ao?Array.from(Ao):null)}}Dn=function(l,u,f,v,w){const x=f[1],R=function(l,u,f){const v=Co();l.firstCreatePass&&(f.providersResolver&&f.providersResolver(f),Hf(l,v,u,Nd(l,u,1,null),f));const w=xn(u,l,v.directiveStart,v);Ss(w,u);const x=kt(v,u);return x&&Ss(x,u),w}(x,f,u);if(v.components.push(R),l[8]=R,w&&w.forEach(Q=>Q(R,u)),u.contentQueries){const Q=Co();u.contentQueries(1,R,Q.directiveStart)}const H=Co();return!x.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(Wt(H.index),rl(f[1],H,0,H.directiveStart,H.directiveEnd,u),xg(u,R)),R}(bi,this.componentDef,rn,wt,[Lg]),rd(Ft,rn,null)}finally{gn()}return new Wy(this.componentType,Dn,jm(Gn,rn),rn,Gn)}}class Wy extends class{}{constructor(u,f,v,w,x){super(),this.location=v,this._rootLView=w,this._tNode=x,this.instance=f,this.hostView=this.changeDetectorRef=new Gy(w),this.componentType=u}get injector(){return new On(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}class Vm{}class nv{}const Um=new Map;class U_ extends Vm{constructor(u,f){super(),this._parent=f,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new z_(this);const v=hr(u);this._bootstrapComponents=Er(v.bootstrap),this._r3Injector=Op(u,f,[{provide:Vm,useValue:this},{provide:b_,useValue:this.componentFactoryResolver}],Se(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,f=Gc.THROW_IF_NOT_FOUND,v=Sn.Default){return u===Gc||u===Vm||u===Po?this:this._r3Injector.get(u,f,v)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class iv extends nv{constructor(u){super(),this.moduleType=u,null!==hr(u)&&function(l){const u=new Set;!function f(v){const w=hr(v,!0),x=w.id;null!==x&&(function(l,u,f){if(u&&u!==f)throw new Error(`Duplicate module registered for ${l} - ${Se(u)} vs ${Se(u.name)}`)}(x,Um.get(x),v),Um.set(x,v));const R=Er(w.imports);for(const H of R)u.has(H)||(u.add(H),f(H))}(l)}(u)}create(u){return new U_(this.moduleType,u)}}function rv(l,u,f){const v=Gi()+l,w=an();return w[v]===ur?Wc(w,v,f?u.call(f):u()):function(l,u){return l[u]}(w,v)}function ov(l,u,f,v){return Jy(an(),Gi(),l,u,f,v)}function sv(l,u,f,v,w){return function(l,u,f,v,w,x,R){const H=u+f;return function(l,u,f,v){const w=Ns(l,u,f);return Ns(l,u+1,v)||w}(l,H,w,x)?Wc(l,H+2,R?v.call(R,w,x):v(w,x)):y_(l,H+2)}(an(),Gi(),l,u,f,v,w)}function y_(l,u){const f=l[u];return f===ur?void 0:f}function Jy(l,u,f,v,w,x){const R=u+f;return Ns(l,R,w)?Wc(l,R+1,x?v.call(x,w):v(w)):y_(l,R+1)}function lv(l,u){const f=Di();let v;const w=l+20;f.firstCreatePass?(v=function(l,u){if(u)for(let f=u.length-1;f>=0;f--){const v=u[f];if(l===v.name)return v}}(u,f.pipeRegistry),f.data[w]=v,v.onDestroy&&(f.destroyHooks||(f.destroyHooks=[])).push(w,v.onDestroy)):v=f.data[w];const x=v.factory||(v.factory=js(v.type)),R=oo(yr);try{const H=J(!1),Q=x();return J(H),function(l,u,f,v){f>=l.data.length&&(l.data[f]=null,l.blueprint[f]=null),u[f]=v}(f,an(),w,Q),Q}finally{oo(R)}}function cv(l,u,f){const v=l+20,w=an(),x=Xn(w,v);return function(l,u){return l[1].data[u].pure}(w,v)?Jy(w,Gi(),u,x.transform,f,x):x.transform(f)}function uv(l){return u=>{setTimeout(l,void 0,u)}}const bf=class extends m.xQ{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,f,v){var Q,fe,Pe;let w=u,x=f||(()=>null),R=v;if(u&&"object"==typeof u){const Ye=u;w=null==(Q=Ye.next)?void 0:Q.bind(Ye),x=null==(fe=Ye.error)?void 0:fe.bind(Ye),R=null==(Pe=Ye.complete)?void 0:Pe.bind(Ye)}this.__isAsync&&(x=uv(x),w&&(w=uv(w)),R&&(R=uv(R)));const H=super.subscribe({next:w,error:x,complete:R});return u instanceof P.w&&u.add(H),H}};function nC(){return this._results[Lu()]()}class dv{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=Lu(),v=dv.prototype;v[f]||(v[f]=nC)}get changes(){return this._changes||(this._changes=new bf)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,f){return this._results.reduce(u,f)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,f){const v=this;v.dirty=!1;const w=io(u);(this._changesDetected=!function(l,u,f){if(l.length!==u.length)return!1;for(let v=0;v<l.length;v++){let w=l[v],x=u[v];if(f&&(w=f(w),x=f(x)),x!==w)return!1}return!0}(v._results,w,f))&&(v._results=w,v.length=w.length,v.last=w[this.length-1],v.first=w[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let C_=(()=>{class l{}return l.__NG_ELEMENT_ID__=rC,l})();const iC=C_,rw=class extends iC{constructor(u,f,v){super(),this._declarationLView=u,this._declarationTContainer=f,this.elementRef=v}createEmbeddedView(u){const f=this._declarationTContainer.tViews,v=Od(this._declarationLView,f,u,16,null,f.declTNode,null,null,null,null);v[17]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[19];return null!==x&&(v[19]=x.createEmbeddedView(f)),rd(f,v,u),new zm(v)}};function rC(){return ba(Co(),an())}function ba(l,u){return 4&l.type?new rw(u,l,jm(l,u)):null}let vf=(()=>{class l{}return l.__NG_ELEMENT_ID__=hv,l})();function hv(){return sw(Co(),an())}const oC=vf,fv=class extends oC{constructor(u,f,v){super(),this._lContainer=u,this._hostTNode=f,this._hostLView=v}get element(){return jm(this._hostTNode,this._hostLView)}get injector(){return new On(this._hostTNode,this._hostLView)}get parentInjector(){const u=En(this._hostTNode,this._hostLView);if(Ca(u)){const f=T(u,this._hostLView),v=So(u);return new On(f[1].data[v+8],f)}return new On(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const f=ow(this._lContainer);return null!==f&&f[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,f,v){const w=u.createEmbeddedView(f||{});return this.insert(w,v),w}createComponent(u,f,v,w,x){const R=u&&!("function"==typeof u);let H;if(R)H=f;else{const Ye=f||{};H=Ye.index,v=Ye.injector,w=Ye.projectableNodes,x=Ye.ngModuleRef}const Q=R?u:new V_(Ci(u)),fe=v||this.parentInjector;if(!x&&null==Q.ngModule&&fe){const Ye=fe.get(Vm,null);Ye&&(x=Ye)}const Pe=Q.create(fe,w,void 0,x);return this.insert(Pe.hostView,H),Pe}insert(u,f){const v=u._lView,w=v[1];if(Ro(v[3])){const Pe=this.indexOf(u);if(-1!==Pe)this.detach(Pe);else{const Ye=v[3],wt=new fv(Ye,Ye[6],Ye[3]);wt.detach(wt.indexOf(u))}}const x=this._adjustIndex(f),R=this._lContainer;!function(l,u,f,v){const w=10+v,x=f.length;v>0&&(f[w-1][4]=u),v<x-10?(u[4]=f[w],Uu(f,10+v,u)):(f.push(u),u[4]=null),u[3]=f;const R=u[17];null!==R&&f!==R&&function(l,u){const f=l[9];u[16]!==u[3][3][16]&&(l[2]=!0),null===f?l[9]=[u]:f.push(u)}(R,u);const H=u[19];null!==H&&H.insertView(l),u[2]|=128}(w,v,R,x);const H=Rf(x,R),Q=v[11],fe=Du(Q,R[7]);return null!==fe&&function(l,u,f,v,w,x){v[0]=w,v[6]=u,Id(l,v,f,1,w,x)}(w,R[6],Q,v,fe,H),u.attachToViewContainerRef(),Uu(ss(R),x,u),u}move(u,f){return this.insert(u,f)}indexOf(u){const f=ow(this._lContainer);return null!==f?f.indexOf(u):-1}remove(u){const f=this._adjustIndex(u,-1),v=Vc(this._lContainer,f);v&&(Aa(ss(this._lContainer),f),Md(v[1],v))}detach(u){const f=this._adjustIndex(u,-1),v=Vc(this._lContainer,f);return v&&null!=Aa(ss(this._lContainer),f)?new zm(v):null}_adjustIndex(u,f=0){return null==u?this.length+f:u}};function ow(l){return l[8]}function ss(l){return l[8]||(l[8]=[])}function sw(l,u){let f;const v=u[l.index];if(Ro(v))f=v;else{let w;if(8&l.type)w=z(v);else{const x=u[11];w=x.createComment("");const R=kt(l,u);lu(x,Du(x,R),w,function(l,u){return $(l)?l.nextSibling(u):u.nextSibling}(x,R),!1)}u[l.index]=f=Br(v,u,w,l),pu(u,f)}return new fv(f,l,u)}class q_{constructor(u){this.queryList=u,this.matches=null}clone(){return new q_(this.queryList)}setDirty(){this.queryList.setDirty()}}class pv{constructor(u=[]){this.queries=u}createEmbeddedView(u){const f=u.queries;if(null!==f){const v=null!==u.contentQueries?u.contentQueries[0]:f.length,w=[];for(let x=0;x<v;x++){const R=f.getByIndex(x);w.push(this.queries[R.indexInDeclarationView].clone())}return new pv(w)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let f=0;f<this.queries.length;f++)null!==pw(u,f).matches&&this.queries[f].setDirty()}}class gv{constructor(u,f,v=null){this.predicate=u,this.flags=f,this.read=v}}class G_{constructor(u=[]){this.queries=u}elementStart(u,f){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(u,f)}elementEnd(u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(u)}embeddedTView(u){let f=null;for(let v=0;v<this.length;v++){const w=null!==f?f.length:0,x=this.getByIndex(v).embeddedTView(u,w);x&&(x.indexInDeclarationView=v,null!==f?f.push(x):f=[x])}return null!==f?new G_(f):null}template(u,f){for(let v=0;v<this.queries.length;v++)this.queries[v].template(u,f)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class $_{constructor(u,f=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(u,f){this.isApplyingToNode(f)&&this.matchTNode(u,f)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,f){this.elementStart(u,f)}embeddedTView(u,f){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,f),new $_(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let v=u.parent;for(;null!==v&&8&v.type&&v.index!==f;)v=v.parent;return f===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(u,f){const v=this.metadata.predicate;if(Array.isArray(v))for(let w=0;w<v.length;w++){const x=v[w];this.matchTNodeWithReadOption(u,f,cw(f,x)),this.matchTNodeWithReadOption(u,f,Pt(f,u,x,!1,!1))}else v===C_?4&f.type&&this.matchTNodeWithReadOption(u,f,-1):this.matchTNodeWithReadOption(u,f,Pt(f,u,v,!1,!1))}matchTNodeWithReadOption(u,f,v){if(null!==v){const w=this.metadata.read;if(null!==w)if(w===Xg||w===vf||w===C_&&4&f.type)this.addMatch(f.index,-2);else{const x=Pt(f,u,w,!1,!1);null!==x&&this.addMatch(f.index,x)}else this.addMatch(f.index,v)}}addMatch(u,f){null===this.matches?this.matches=[u,f]:this.matches.push(u,f)}}function cw(l,u){const f=l.localNames;if(null!==f)for(let v=0;v<f.length;v+=2)if(f[v]===u)return f[v+1];return null}function dw(l,u,f,v){return-1===f?function(l,u){return 11&l.type?jm(l,u):4&l.type?ba(l,u):null}(u,l):-2===f?function(l,u,f){return f===Xg?jm(u,l):f===C_?ba(u,l):f===vf?sw(u,l):void 0}(l,u,v):xn(l,l[1],f,u)}function mv(l,u,f,v){const w=u[19].queries[v];if(null===w.matches){const x=l.data,R=f.matches,H=[];for(let Q=0;Q<R.length;Q+=2){const fe=R[Q];H.push(fe<0?null:dw(u,x[fe],R[Q+1],f.metadata.read))}w.matches=H}return w.matches}function W_(l,u,f,v){const w=l.queries.getByIndex(f),x=w.matches;if(null!==x){const R=mv(l,u,w,f);for(let H=0;H<x.length;H+=2){const Q=x[H];if(Q>0)v.push(R[H/2]);else{const fe=x[H+1],Pe=u[-Q];for(let Ye=10;Ye<Pe.length;Ye++){const wt=Pe[Ye];wt[17]===wt[3]&&W_(wt[1],wt,fe,v)}if(null!==Pe[9]){const Ye=Pe[9];for(let wt=0;wt<Ye.length;wt++){const Ft=Ye[wt];W_(Ft[1],Ft,fe,v)}}}}}return v}function Z_(l){const u=an(),f=Di(),v=N();Y(v+1);const w=pw(f,v);if(l.dirty&&Ri(u)===(2==(2&w.metadata.flags))){if(null===w.matches)l.reset([]);else{const x=w.crossesNgTemplate?W_(f,u,v,[]):mv(f,u,w,v);l.reset(x,z0),l.notifyOnChanges()}return!0}return!1}function K_(l,u,f){const v=Di();v.firstCreatePass&&(bv(v,new gv(l,u,f),-1),2==(2&u)&&(v.staticViewQueries=!0)),k_(v,an(),u)}function Y_(l,u,f,v){const w=Di();if(w.firstCreatePass){const x=Co();bv(w,new gv(u,f,v),x.index),function(l,u){const f=l.contentQueries||(l.contentQueries=[]);u!==(f.length?f[f.length-1]:-1)&&f.push(l.queries.length-1,u)}(w,l),2==(2&f)&&(w.staticContentQueries=!0)}k_(w,an(),f)}function _v(){return l=an(),u=N(),l[19].queries[u].queryList;var l,u}function k_(l,u,f){const v=new dv(4==(4&f));Ap(l,u,v,v.destroy),null===u[19]&&(u[19]=new pv),u[19].queries.push(new q_(v))}function bv(l,u,f){null===l.queries&&(l.queries=new G_),l.queries.track(new $_(u,f))}function pw(l,u){return l.queries.getByIndex(u)}function gw(l,u){return ba(l,u)}const Nw=ka("Input",l=>({bindingPropertyName:l})),tb=ka("Output",l=>({bindingPropertyName:l})),Sv=ka("HostListener",(l,u)=>({eventName:l,args:u}));function nb(...l){}const x_=new no("Application Initializer");let d=(()=>{class l{constructor(f){this.appInits=f,this.resolve=nb,this.reject=nb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,w)=>{this.resolve=v,this.reject=w})}runInitializers(){if(this.initialized)return;const f=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let w=0;w<this.appInits.length;w++){const x=this.appInits[w]();if(ht(x))f.push(x);else if(Lt(x)){const R=new Promise((H,Q)=>{x.subscribe({complete:H,error:Q})});f.push(R)}}Promise.all(f).then(()=>{v()}).catch(w=>{this.reject(w)}),0===f.length&&v(),this.initialized=!0}}return l.\u0275fac=function(f){return new(f||l)(qs(x_,8))},l.\u0275prov=Tn({token:l,factory:l.\u0275fac}),l})();const e=new no("AppId"),o={provide:e,useFactory:function(){return`${a()}${a()}${a()}`},deps:[]};function a(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const h=new no("Platform Initializer"),g=new no("Platform ID"),y=new no("appBootstrapListener");let E=(()=>{class l{log(f){console.log(f)}warn(f){console.warn(f)}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=Tn({token:l,factory:l.\u0275fac}),l})();const D=new no("LocaleId"),L=new no("DefaultCurrencyCode");class Oe{constructor(u,f){this.ngModuleFactory=u,this.componentFactories=f}}let He=(()=>{class l{compileModuleSync(f){return new iv(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const v=this.compileModuleSync(f),x=Er(hr(f).declarations).reduce((R,H)=>{const Q=Ci(H);return Q&&R.push(new V_(Q)),R},[]);return new Oe(v,x)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=Tn({token:l,factory:l.\u0275fac}),l})();const Zt=(()=>Promise.resolve(0))();function Mn(l){"undefined"==typeof Zone?Zt.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class mr{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bf(!1),this.onMicrotaskEmpty=new bf(!1),this.onStable=new bf(!1),this.onError=new bf(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const w=this;w._nesting=0,w._outer=w._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!v&&f,w.shouldCoalesceRunChangeDetection=v,w.lastRequestAnimationFrameId=-1,w.nativeRequestAnimationFrame=function(){let l=Je.requestAnimationFrame,u=Je.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&u){const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f);const v=u[Zone.__symbol__("OriginalDelegate")];v&&(u=v)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function(l){const u=()=>{!function(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(Je,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,Yd(l),l.isCheckStableRunning=!0,ll(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),Yd(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,v,w,x,R,H)=>{try{return fd(l),f.invokeTask(w,x,R,H)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===x.type||l.shouldCoalesceRunChangeDetection)&&u(),yf(l)}},onInvoke:(f,v,w,x,R,H,Q)=>{try{return fd(l),f.invoke(w,x,R,H,Q)}finally{l.shouldCoalesceRunChangeDetection&&u(),yf(l)}},onHasTask:(f,v,w,x)=>{f.hasTask(w,x),v===w&&("microTask"==x.change?(l._hasPendingMicrotasks=x.microTask,Yd(l),ll(l)):"macroTask"==x.change&&(l.hasPendingMacrotasks=x.macroTask))},onHandleError:(f,v,w,x)=>(f.handleError(w,x),l.runOutsideAngular(()=>l.onError.emit(x)),!1)})}(w)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,f,v){return this._inner.run(u,f,v)}runTask(u,f,v,w){const x=this._inner,R=x.scheduleEventTask("NgZoneEvent: "+w,u,Jo,nb,nb);try{return x.runTask(R,f,v)}finally{x.cancelTask(R)}}runGuarded(u,f,v){return this._inner.runGuarded(u,f,v)}runOutsideAngular(u){return this._outer.run(u)}}const Jo={};function ll(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function Yd(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function fd(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function yf(l){l._nesting--,ll(l)}class rp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bf,this.onMicrotaskEmpty=new bf,this.onStable=new bf,this.onError=new bf}run(u,f,v){return u.apply(f,v)}runGuarded(u,f,v){return u.apply(f,v)}runOutsideAngular(u){return u()}runTask(u,f,v,w){return u.apply(f,v)}}let tm=(()=>{class l{constructor(f){this._ngZone=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mr.assertNotInAngularZone(),Mn(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mn(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(f)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,v,w){let x=-1;v&&v>0&&(x=setTimeout(()=>{this._callbacks=this._callbacks.filter(R=>R.timeoutId!==x),f(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:f,timeoutId:x,updateCb:w})}whenStable(f,v,w){if(w&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,v,w),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(f,v,w){return[]}}return l.\u0275fac=function(f){return new(f||l)(qs(mr))},l.\u0275prov=Tn({token:l,factory:l.\u0275fac}),l})(),Iv=(()=>{class l{constructor(){this._applications=new Map,bC.addToWindow(this)}registerApplication(f,v){this._applications.set(f,v)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,v=!0){return bC.findTestabilityInTree(this,f,v)}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=Tn({token:l,factory:l.\u0275fac}),l})();class Rw{addToWindow(u){}findTestabilityInTree(u,f,v){return null}}function fk(l){bC=l}let op,bC=new Rw;const $C=new no("AllowMultipleToken");class _k{constructor(u,f){this.name=u,this.token=f}}function WC(l,u,f=[]){const v=`Platform: ${u}`,w=new no(v);return(x=[])=>{let R=ZC();if(!R||R.injector.get($C,!1))if(l)l(f.concat(x).concat({provide:w,useValue:!0}));else{const H=f.concat(x).concat({provide:w,useValue:!0},{provide:Dg,useValue:"platform"});!function(l){if(op&&!op.destroyed&&!op.injector.get($C,!1))throw new we("400","");op=l.get(KC);const u=l.get(h,null);u&&u.forEach(f=>f())}(Gc.create({providers:H,name:v}))}return function(l){const u=ZC();if(!u)throw new we("401","");return u}()}}function ZC(){return op&&!op.destroyed?op:null}let KC=(()=>{class l{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,v){const H=function(l,u){let f;return f="noop"===l?new rp:("zone.js"===l?void 0:l)||new mr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),f}(v?v.ngZone:void 0,{ngZoneEventCoalescing:v&&v.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:v&&v.ngZoneRunCoalescing||!1}),Q=[{provide:mr,useValue:H}];return H.run(()=>{const fe=Gc.create({providers:Q,parent:this.injector,name:f.moduleType.name}),Pe=f.create(fe),Ye=Pe.injector.get(Ad,null);if(!Ye)throw new we("402","");return H.runOutsideAngular(()=>{const wt=H.onError.subscribe({next:Ft=>{Ye.handleError(Ft)}});Pe.onDestroy(()=>{vC(this._modules,Pe),wt.unsubscribe()})}),function(l,u,f){try{const v=f();return ht(v)?v.catch(w=>{throw u.runOutsideAngular(()=>l.handleError(w)),w}):v}catch(v){throw u.runOutsideAngular(()=>l.handleError(v)),v}}(Ye,H,()=>{const wt=Pe.injector.get(d);return wt.runInitializers(),wt.donePromise.then(()=>(function(l){oi(l,"Expected localeId to be defined"),"string"==typeof l&&(ay=l.toLowerCase().replace(/_/g,"-"))}(Pe.injector.get(D,f_)||f_),this._moduleDoBootstrap(Pe),Pe))})})}bootstrapModule(f,v=[]){const w=YC({},v);return function(l,u,f){const v=new iv(f);return Promise.resolve(v)}(0,0,f).then(x=>this.bootstrapModuleFactory(x,w))}_moduleDoBootstrap(f){const v=f.injector.get(Pv);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(w=>v.bootstrap(w));else{if(!f.instance.ngDoBootstrap)throw new we("403","");f.instance.ngDoBootstrap(v)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we("404","");this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(f){return new(f||l)(qs(Gc))},l.\u0275prov=Tn({token:l,factory:l.\u0275fac}),l})();function YC(l,u){return Array.isArray(u)?u.reduce(YC,l):mn(mn({},l),u)}let Pv=(()=>{class l{constructor(f,v,w,x,R){this._zone=f,this._injector=v,this._exceptionHandler=w,this._componentFactoryResolver=x,this._initStatus=R,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const H=new Ve.y(fe=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{fe.next(this._stable),fe.complete()})}),Q=new Ve.y(fe=>{let Pe;this._zone.runOutsideAngular(()=>{Pe=this._zone.onStable.subscribe(()=>{mr.assertNotInAngularZone(),Mn(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,fe.next(!0))})})});const Ye=this._zone.onUnstable.subscribe(()=>{mr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{fe.next(!1)}))});return()=>{Pe.unsubscribe(),Ye.unsubscribe()}});this.isStable=(0,oe.T)(H,Q.pipe(l=>(0,Z.x)()(function(l,u){return function(v){let w;w="function"==typeof l?l:function(){return l};const x=Object.create(v,le.N);return x.source=v,x.subjectFactory=w,x}}(me)(l))))}bootstrap(f,v){if(!this._initStatus.done)throw new we("405","");let w;w=f instanceof Xb?f:this._componentFactoryResolver.resolveComponentFactory(f),this.componentTypes.push(w.componentType);const x=function(l){return l.isBoundToModule}(w)?void 0:this._injector.get(Vm),H=w.create(Gc.NULL,[],v||w.selector,x),Q=H.location.nativeElement,fe=H.injector.get(tm,null),Pe=fe&&H.injector.get(Iv);return fe&&Pe&&Pe.registerApplication(Q,fe),H.onDestroy(()=>{this.detachView(H.hostView),vC(this.components,H),Pe&&Pe.unregisterApplication(Q)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new we("101","");try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(f))}finally{this._runningTick=!1}}attachView(f){const v=f;this._views.push(v),v.attachToAppRef(this)}detachView(f){const v=f;vC(this._views,v),v.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f),this._injector.get(y,[]).concat(this._bootstrapListeners).forEach(w=>w(f))}ngOnDestroy(){this._views.slice().forEach(f=>f.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(f){return new(f||l)(qs(mr),qs(Gc),qs(Ad),qs(b_),qs(d))},l.\u0275prov=Tn({token:l,factory:l.\u0275fac}),l})();function vC(l,u){const f=l.indexOf(u);f>-1&&l.splice(f,1)}let JC=!0,XC=!1;function kk(){return XC=!0,JC}function Ak(){if(XC)throw new Error("Cannot enable prod mode after platform setup.");JC=!1}let xk=(()=>{class l{}return l.__NG_ELEMENT_ID__=Ek,l})();function Ek(l){return function(l,u,f){if(_r(l)&&!f){const v=ii(l.index,u);return new zm(v,v)}return 47&l.type?new zm(u[16],u):null}(Co(),an(),16==(16&l))}class ok{constructor(){}supports(u){return Ml(u)}create(u){return new Ok(u)}}const Pk=(l,u)=>u;class Ok{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||Pk}forEachItem(u){let f;for(f=this._itHead;null!==f;f=f._next)u(f)}forEachOperation(u){let f=this._itHead,v=this._removalsHead,w=0,x=null;for(;f||v;){const R=!v||f&&f.currentIndex<ak(v,w,x)?f:v,H=ak(R,w,x),Q=R.currentIndex;if(R===v)w--,v=v._nextRemoved;else if(f=f._next,null==R.previousIndex)w++;else{x||(x=[]);const fe=H-w,Pe=Q-w;if(fe!=Pe){for(let wt=0;wt<fe;wt++){const Ft=wt<x.length?x[wt]:x[wt]=0,rn=Ft+wt;Pe<=rn&&rn<fe&&(x[wt]=Ft+1)}x[R.previousIndex]=Pe-fe}}H!==Q&&u(R,H,Q)}}forEachPreviousItem(u){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)u(f)}forEachAddedItem(u){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)u(f)}forEachMovedItem(u){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)u(f)}forEachRemovedItem(u){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)u(f)}forEachIdentityChange(u){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)u(f)}diff(u){if(null==u&&(u=[]),!Ml(u))throw new Error(`Error trying to diff '${Se(u)}'. Only arrays and iterables are allowed`);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let w,x,R,f=this._itHead,v=!1;if(Array.isArray(u)){this.length=u.length;for(let H=0;H<this.length;H++)x=u[H],R=this._trackByFn(H,x),null!==f&&Object.is(f.trackById,R)?(v&&(f=this._verifyReinsertion(f,x,R,H)),Object.is(f.item,x)||this._addIdentityChange(f,x)):(f=this._mismatch(f,x,R,H),v=!0),f=f._next}else w=0,function(l,u){if(Array.isArray(l))for(let f=0;f<l.length;f++)u(l[f]);else{const f=l[Lu()]();let v;for(;!(v=f.next()).done;)u(v.value)}}(u,H=>{R=this._trackByFn(w,H),null!==f&&Object.is(f.trackById,R)?(v&&(f=this._verifyReinsertion(f,H,R,w)),Object.is(f.item,H)||this._addIdentityChange(f,H)):(f=this._mismatch(f,H,R,w),v=!0),f=f._next,w++}),this.length=w;return this._truncate(f),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,f,v,w){let x;return null===u?x=this._itTail:(x=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null))?(Object.is(u.item,f)||this._addIdentityChange(u,f),this._reinsertAfter(u,x,w)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(v,w))?(Object.is(u.item,f)||this._addIdentityChange(u,f),this._moveAfter(u,x,w)):u=this._addAfter(new Nk(f,v),x,w),u}_verifyReinsertion(u,f,v,w){let x=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null);return null!==x?u=this._reinsertAfter(x,u._prev,w):u.currentIndex!=w&&(u.currentIndex=w,this._addToMoves(u,w)),u}_truncate(u){for(;null!==u;){const f=u._next;this._addToRemovals(this._unlink(u)),u=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,f,v){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const w=u._prevRemoved,x=u._nextRemoved;return null===w?this._removalsHead=x:w._nextRemoved=x,null===x?this._removalsTail=w:x._prevRemoved=w,this._insertAfter(u,f,v),this._addToMoves(u,v),u}_moveAfter(u,f,v){return this._unlink(u),this._insertAfter(u,f,v),this._addToMoves(u,v),u}_addAfter(u,f,v){return this._insertAfter(u,f,v),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,f,v){const w=null===f?this._itHead:f._next;return u._next=w,u._prev=f,null===w?this._itTail=u:w._prev=u,null===f?this._itHead=u:f._next=u,null===this._linkedRecords&&(this._linkedRecords=new sk),this._linkedRecords.put(u),u.currentIndex=v,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const f=u._prev,v=u._next;return null===f?this._itHead=v:f._next=v,null===v?this._itTail=f:v._prev=f,u}_addToMoves(u,f){return u.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sk),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,f){return u.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class Nk{constructor(u,f){this.item=u,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rk{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,f){let v;for(v=this._head;null!==v;v=v._nextDup)if((null===f||f<=v.currentIndex)&&Object.is(v.trackById,u))return v;return null}remove(u){const f=u._prevDup,v=u._nextDup;return null===f?this._head=v:f._nextDup=v,null===v?this._tail=f:v._prevDup=f,null===this._head}}class sk{constructor(){this.map=new Map}put(u){const f=u.trackById;let v=this.map.get(f);v||(v=new Rk,this.map.set(f,v)),v.add(u)}get(u,f){const w=this.map.get(u);return w?w.get(u,f):null}remove(u){const f=u.trackById;return this.map.get(f).remove(u)&&this.map.delete(f),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ak(l,u,f){const v=l.previousIndex;if(null===v)return v;let w=0;return f&&v<f.length&&(w=f[v]),v+u+w}class lk{constructor(){}supports(u){return u instanceof Map||Vg(u)}create(){return new Fk}}class Fk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let f;for(f=this._mapHead;null!==f;f=f._next)u(f)}forEachPreviousItem(u){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)u(f)}forEachChangedItem(u){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)u(f)}forEachAddedItem(u){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)u(f)}forEachRemovedItem(u){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)u(f)}diff(u){if(u){if(!(u instanceof Map||Vg(u)))throw new Error(`Error trying to diff '${Se(u)}'. Only maps and objects are allowed`)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(u,(v,w)=>{if(f&&f.key===w)this._maybeAddToChanges(f,v),this._appendAfter=f,f=f._next;else{const x=this._getOrCreateRecordForKey(w,v);f=this._insertBeforeOrAppend(f,x)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let v=f;null!==v;v=v._nextRemoved)v===this._mapHead&&(this._mapHead=null),this._records.delete(v.key),v._nextRemoved=v._next,v.previousValue=v.currentValue,v.currentValue=null,v._prev=null,v._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,f){if(u){const v=u._prev;return f._next=u,f._prev=v,u._prev=f,v&&(v._next=f),u===this._mapHead&&(this._mapHead=f),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(u,f){if(this._records.has(u)){const w=this._records.get(u);this._maybeAddToChanges(w,f);const x=w._prev,R=w._next;return x&&(x._next=R),R&&(R._prev=x),w._next=null,w._prev=null,w}const v=new Lk(u);return this._records.set(u,v),v.currentValue=f,this._addToAdditions(v),v}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,f){Object.is(f,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=f,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,f){u instanceof Map?u.forEach(f):Object.keys(u).forEach(v=>f(u[v],v))}}class Lk{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ck(){return new Lw([new ok])}let Lw=(()=>{class l{constructor(f){this.factories=f}static create(f,v){if(null!=v){const w=v.factories.slice();f=f.concat(w)}return new l(f)}static extend(f){return{provide:l,useFactory:v=>l.create(f,v||ck()),deps:[[l,new Ts,new bl]]}}find(f){const v=this.factories.find(w=>w.supports(f));if(null!=v)return v;throw new Error(`Cannot find a differ supporting object '${f}' of type '${function(l){return l.name||typeof l}(f)}'`)}}return l.\u0275prov=Tn({token:l,providedIn:"root",factory:ck}),l})();function uk(){return new Bw([new lk])}let Bw=(()=>{class l{constructor(f){this.factories=f}static create(f,v){if(v){const w=v.factories.slice();f=f.concat(w)}return new l(f)}static extend(f){return{provide:l,useFactory:v=>l.create(f,v||uk()),deps:[[l,new Ts,new bl]]}}find(f){const v=this.factories.find(w=>w.supports(f));if(v)return v;throw new Error(`Cannot find a differ supporting object '${f}'`)}}return l.\u0275prov=Tn({token:l,providedIn:"root",factory:uk}),l})();const jk=[new lk],Vk=new Lw([new ok]),Uk=new Bw(jk),Hk=WC(null,"core",[{provide:g,useValue:"unknown"},{provide:KC,deps:[Gc]},{provide:Iv,deps:[]},{provide:E,deps:[]}]),Zk=[{provide:Pv,useClass:Pv,deps:[mr,Gc,Ad,b_,d]},{provide:U0,deps:[mr],useFactory:function(l){let u=[];return l.onStable.subscribe(()=>{for(;u.length;)u.pop()()}),function(f){u.push(f)}}},{provide:d,useClass:d,deps:[[new bl,x_]]},{provide:He,useClass:He,deps:[]},o,{provide:Lw,useFactory:function(){return Vk},deps:[]},{provide:Bw,useFactory:function(){return Uk},deps:[]},{provide:D,useFactory:function(l){return l||"undefined"!=typeof $localize&&$localize.locale||f_},deps:[[new tu(D),new bl,new Ts]]},{provide:L,useValue:"USD"}];let Yk=(()=>{class l{constructor(f){}}return l.\u0275fac=function(f){return new(f||l)(qs(Pv))},l.\u0275mod=$t({type:l}),l.\u0275inj=Ir({providers:Zk}),l})()},9010:(Kt,_t,X)=>{"use strict";X.d(_t,{Wl:()=>ne,Fj:()=>yt,qu:()=>ve,NI:()=>ui,oH:()=>Ro,u:()=>ua,sg:()=>_r,u5:()=>V,nD:()=>bs,JU:()=>be,a5:()=>Jn,JJ:()=>Ai,JL:()=>Vo,On:()=>Uo,YN:()=>ns,UX:()=>ue,EJ:()=>Mo,kI:()=>Jt,_Y:()=>Or,Kr:()=>Xs});var m=X(9619),P=X(6019),Ve=X(5548),oe=X(5894),le=X(8053),he=X(7879),Le=X(1915);function me(z,q){return new Ve.y(G=>{const Ce=z.length;if(0===Ce)return void G.complete();const kt=new Array(Ce);let Yt=0,hn=0;for(let Xn=0;Xn<Ce;Xn++){const ii=(0,Le.D)(z[Xn]);let Ri=!1;G.add(ii.subscribe({next:br=>{Ri||(Ri=!0,hn++),kt[Xn]=br},error:br=>G.error(br),complete:()=>{Yt++,(Yt===Ce||!Ri)&&(hn===Ce&&G.next(q?q.reduce((br,uo,Mr)=>(br[uo]=kt[Mr],br),{}):kt),G.complete())}}))}})}let _e=(()=>{class z{constructor(G,Ce){this._renderer=G,this._elementRef=Ce,this.onChange=kt=>{},this.onTouched=()=>{}}setProperty(G,Ce){this._renderer.setProperty(this._elementRef.nativeElement,G,Ce)}registerOnTouched(G){this.onTouched=G}registerOnChange(G){this.onChange=G}setDisabledState(G){this.setProperty("disabled",G)}}return z.\u0275fac=function(G){return new(G||z)(m.Y36(m.Qsj),m.Y36(m.SBq))},z.\u0275dir=m.lG2({type:z}),z})(),ge=(()=>{class z extends _e{}return z.\u0275fac=function(){let q;return function(Ce){return(q||(q=m.n5z(z)))(Ce||z)}}(),z.\u0275dir=m.lG2({type:z,features:[m.qOj]}),z})();const be=new m.OlP("NgValueAccessor"),Se={provide:be,useExisting:(0,m.Gpc)(()=>ne),multi:!0};let ne=(()=>{class z extends ge{writeValue(G){this.setProperty("checked",G)}}return z.\u0275fac=function(){let q;return function(Ce){return(q||(q=m.n5z(z)))(Ce||z)}}(),z.\u0275dir=m.lG2({type:z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(G,Ce){1&G&&m.NdJ("change",function(Yt){return Ce.onChange(Yt.target.checked)})("blur",function(){return Ce.onTouched()})},features:[m._Bn([Se]),m.qOj]}),z})();const gt={provide:be,useExisting:(0,m.Gpc)(()=>yt),multi:!0},Ke=new m.OlP("CompositionEventMode");let yt=(()=>{class z extends _e{constructor(G,Ce,kt){super(G,Ce),this._compositionMode=kt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const z=(0,P.q)()?(0,P.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(G){this.setProperty("value",null==G?"":G)}_handleInput(G){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(G)}_compositionStart(){this._composing=!0}_compositionEnd(G){this._composing=!1,this._compositionMode&&this.onChange(G)}}return z.\u0275fac=function(G){return new(G||z)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Ke,8))},z.\u0275dir=m.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(G,Ce){1&G&&m.NdJ("input",function(Yt){return Ce._handleInput(Yt.target.value)})("blur",function(){return Ce.onTouched()})("compositionstart",function(){return Ce._compositionStart()})("compositionend",function(Yt){return Ce._compositionEnd(Yt.target.value)})},features:[m._Bn([gt]),m.qOj]}),z})();function rt(z){return null==z||0===z.length}function we(z){return null!=z&&"number"==typeof z.length}const Ne=new m.OlP("NgValidators"),At=new m.OlP("NgAsyncValidators"),dt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Jt{static min(q){return z=q,q=>{if(rt(q.value)||rt(z))return null;const G=parseFloat(q.value);return!isNaN(G)&&G<z?{min:{min:z,actual:q.value}}:null};var z}static max(q){return z=q,q=>{if(rt(q.value)||rt(z))return null;const G=parseFloat(q.value);return!isNaN(G)&&G>z?{max:{max:z,actual:q.value}}:null};var z}static required(q){return rt(q.value)?{required:!0}:null}static requiredTrue(q){return!0===q.value?null:{required:!0}}static email(q){return rt((z=q).value)||dt.test(z.value)?null:{email:!0};var z}static minLength(q){return z=q,q=>rt(q.value)||!we(q.value)?null:q.value.length<z?{minlength:{requiredLength:z,actualLength:q.value.length}}:null;var z}static maxLength(q){return Ze(q)}static pattern(q){return function(z){if(!z)return $e;let q,G;return"string"==typeof z?(G="","^"!==z.charAt(0)&&(G+="^"),G+=z,"$"!==z.charAt(z.length-1)&&(G+="$"),q=new RegExp(G)):(G=z.toString(),q=z),Ce=>{if(rt(Ce.value))return null;const kt=Ce.value;return q.test(kt)?null:{pattern:{requiredPattern:G,actualValue:kt}}}}(q)}static nullValidator(q){return null}static compose(q){return Ht(q)}static composeAsync(q){return oi(q)}}function Ze(z){return q=>we(q.value)&&q.value.length>z?{maxlength:{requiredLength:z,actualLength:q.value.length}}:null}function $e(z){return null}function at(z){return null!=z}function jt(z){const q=(0,m.QGY)(z)?(0,Le.D)(z):z;return(0,m.CqO)(q),q}function Vt(z){let q={};return z.forEach(G=>{q=null!=G?mn(mn({},q),G):q}),0===Object.keys(q).length?null:q}function Xt(z,q){return q.map(G=>G(z))}function tn(z){return z.map(q=>function(z){return!z.validate}(q)?q:G=>q.validate(G))}function Ht(z){if(!z)return null;const q=z.filter(at);return 0==q.length?null:function(G){return Vt(Xt(G,q))}}function zn(z){return null!=z?Ht(tn(z)):null}function oi(z){if(!z)return null;const q=z.filter(at);return 0==q.length?null:function(G){return function(...z){if(1===z.length){const q=z[0];if((0,oe.k)(q))return me(q,null);if((0,he.K)(q)&&Object.getPrototypeOf(q)===Object.prototype){const G=Object.keys(q);return me(G.map(Ce=>q[Ce]),G)}}if("function"==typeof z[z.length-1]){const q=z.pop();return me(z=1===z.length&&(0,oe.k)(z[0])?z[0]:z,null).pipe((0,le.U)(G=>q(...G)))}return me(z,null)}(Xt(G,q).map(jt)).pipe((0,le.U)(Vt))}}function $n(z){return null!=z?oi(tn(z)):null}function xi(z,q){return null===z?[q]:Array.isArray(z)?[...z,q]:[z,q]}function Zi(z){return z._rawValidators}function Sr(z){return z._rawAsyncValidators}function Tn(z){return z?Array.isArray(z)?z:[z]:[]}function Hr(z,q){return Array.isArray(z)?z.includes(q):z===q}function Ir(z,q){const G=Tn(q);return Tn(z).forEach(kt=>{Hr(G,kt)||G.push(kt)}),G}function Ln(z,q){return Tn(q).filter(G=>!Hr(z,G))}class wn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(q){this._rawValidators=q||[],this._composedValidatorFn=zn(this._rawValidators)}_setAsyncValidators(q){this._rawAsyncValidators=q||[],this._composedAsyncValidatorFn=$n(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(q){this._onDestroyCallbacks.push(q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(q=>q()),this._onDestroyCallbacks=[]}reset(q){this.control&&this.control.reset(q)}hasError(q,G){return!!this.control&&this.control.hasError(q,G)}getError(q,G){return this.control?this.control.getError(q,G):null}}class ci extends wn{get formDirective(){return null}get path(){return null}}class Jn extends wn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class di{constructor(q){this._cd=q}is(q){var G,Ce,kt;return"submitted"===q?!!(null==(G=this._cd)?void 0:G.submitted):!!(null==(kt=null==(Ce=this._cd)?void 0:Ce.control)?void 0:kt[q])}}let Ai=(()=>{class z extends di{constructor(G){super(G)}}return z.\u0275fac=function(G){return new(G||z)(m.Y36(Jn,2))},z.\u0275dir=m.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(G,Ce){2&G&&m.ekj("ng-untouched",Ce.is("untouched"))("ng-touched",Ce.is("touched"))("ng-pristine",Ce.is("pristine"))("ng-dirty",Ce.is("dirty"))("ng-valid",Ce.is("valid"))("ng-invalid",Ce.is("invalid"))("ng-pending",Ce.is("pending"))},features:[m.qOj]}),z})(),Vo=(()=>{class z extends di{constructor(G){super(G)}}return z.\u0275fac=function(G){return new(G||z)(m.Y36(ci,10))},z.\u0275dir=m.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(G,Ce){2&G&&m.ekj("ng-untouched",Ce.is("untouched"))("ng-touched",Ce.is("touched"))("ng-pristine",Ce.is("pristine"))("ng-dirty",Ce.is("dirty"))("ng-valid",Ce.is("valid"))("ng-invalid",Ce.is("invalid"))("ng-pending",Ce.is("pending"))("ng-submitted",Ce.is("submitted"))},features:[m.qOj]}),z})();function tr(z,q){return[...q.path,z]}function Ii(z,q){zt(z,q),q.valueAccessor.writeValue(z.value),function(z,q){q.valueAccessor.registerOnChange(G=>{z._pendingValue=G,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Wn(z,q)})}(z,q),function(z,q){const G=(Ce,kt)=>{q.valueAccessor.writeValue(Ce),kt&&q.viewToModelUpdate(Ce)};z.registerOnChange(G),q._registerOnDestroy(()=>{z._unregisterOnChange(G)})}(z,q),function(z,q){q.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Wn(z,q),"submit"!==z.updateOn&&z.markAsTouched()})}(z,q),function(z,q){if(q.valueAccessor.setDisabledState){const G=Ce=>{q.valueAccessor.setDisabledState(Ce)};z.registerOnDisabledChange(G),q._registerOnDestroy(()=>{z._unregisterOnDisabledChange(G)})}}(z,q)}function mt(z,q,G=!0){const Ce=()=>{};q.valueAccessor&&(q.valueAccessor.registerOnChange(Ce),q.valueAccessor.registerOnTouched(Ce)),Et(z,q),z&&(q._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function Je(z,q){z.forEach(G=>{G.registerOnValidatorChange&&G.registerOnValidatorChange(q)})}function zt(z,q){const G=Zi(z);null!==q.validator?z.setValidators(xi(G,q.validator)):"function"==typeof G&&z.setValidators([G]);const Ce=Sr(z);null!==q.asyncValidator?z.setAsyncValidators(xi(Ce,q.asyncValidator)):"function"==typeof Ce&&z.setAsyncValidators([Ce]);const kt=()=>z.updateValueAndValidity();Je(q._rawValidators,kt),Je(q._rawAsyncValidators,kt)}function Et(z,q){let G=!1;if(null!==z){if(null!==q.validator){const kt=Zi(z);if(Array.isArray(kt)&&kt.length>0){const Yt=kt.filter(hn=>hn!==q.validator);Yt.length!==kt.length&&(G=!0,z.setValidators(Yt))}}if(null!==q.asyncValidator){const kt=Sr(z);if(Array.isArray(kt)&&kt.length>0){const Yt=kt.filter(hn=>hn!==q.asyncValidator);Yt.length!==kt.length&&(G=!0,z.setAsyncValidators(Yt))}}}const Ce=()=>{};return Je(q._rawValidators,Ce),Je(q._rawAsyncValidators,Ce),G}function Wn(z,q){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),q.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function dr(z,q){if(!z.hasOwnProperty("model"))return!1;const G=z.model;return!!G.isFirstChange()||!Object.is(q,G.currentValue)}function Qe(z,q){if(!q)return null;let G,Ce,kt;return Array.isArray(q),q.forEach(Yt=>{Yt.constructor===yt?G=Yt:function(z){return Object.getPrototypeOf(z.constructor)===ge}(Yt)?Ce=Yt:kt=Yt}),kt||Ce||G||null}function Mt(z,q){const G=z.indexOf(q);G>-1&&z.splice(G,1)}const An="VALID",bn="INVALID",hi="PENDING",wr="DISABLED";function xo(z){return(dn(z)?z.validators:z)||null}function as(z){return Array.isArray(z)?zn(z):z||null}function hr(z,q){return(dn(q)?q.asyncValidators:z)||null}function Cr(z){return Array.isArray(z)?$n(z):z||null}function dn(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}class jn{constructor(q,G){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=q,this._rawAsyncValidators=G,this._composedValidatorFn=as(this._rawValidators),this._composedAsyncValidatorFn=Cr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(q){this._rawValidators=this._composedValidatorFn=q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(q){this._rawAsyncValidators=this._composedAsyncValidatorFn=q}get parent(){return this._parent}get valid(){return this.status===An}get invalid(){return this.status===bn}get pending(){return this.status==hi}get disabled(){return this.status===wr}get enabled(){return this.status!==wr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(q){this._rawValidators=q,this._composedValidatorFn=as(q)}setAsyncValidators(q){this._rawAsyncValidators=q,this._composedAsyncValidatorFn=Cr(q)}addValidators(q){this.setValidators(Ir(q,this._rawValidators))}addAsyncValidators(q){this.setAsyncValidators(Ir(q,this._rawAsyncValidators))}removeValidators(q){this.setValidators(Ln(q,this._rawValidators))}removeAsyncValidators(q){this.setAsyncValidators(Ln(q,this._rawAsyncValidators))}hasValidator(q){return Hr(this._rawValidators,q)}hasAsyncValidator(q){return Hr(this._rawAsyncValidators,q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(q={}){this.touched=!0,this._parent&&!q.onlySelf&&this._parent.markAsTouched(q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(q=>q.markAllAsTouched())}markAsUntouched(q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(G=>{G.markAsUntouched({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}markAsDirty(q={}){this.pristine=!1,this._parent&&!q.onlySelf&&this._parent.markAsDirty(q)}markAsPristine(q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(G=>{G.markAsPristine({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}markAsPending(q={}){this.status=hi,!1!==q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!q.onlySelf&&this._parent.markAsPending(q)}disable(q={}){const G=this._parentMarkedDirty(q.onlySelf);this.status=wr,this.errors=null,this._forEachChild(Ce=>{Ce.disable(va(mn({},q),{onlySelf:!0}))}),this._updateValue(),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(va(mn({},q),{skipPristineCheck:G})),this._onDisabledChange.forEach(Ce=>Ce(!0))}enable(q={}){const G=this._parentMarkedDirty(q.onlySelf);this.status=An,this._forEachChild(Ce=>{Ce.enable(va(mn({},q),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent}),this._updateAncestors(va(mn({},q),{skipPristineCheck:G})),this._onDisabledChange.forEach(Ce=>Ce(!1))}_updateAncestors(q){this._parent&&!q.onlySelf&&(this._parent.updateValueAndValidity(q),q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(q){this._parent=q}updateValueAndValidity(q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===An||this.status===hi)&&this._runAsyncValidator(q.emitEvent)),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!q.onlySelf&&this._parent.updateValueAndValidity(q)}_updateTreeValidity(q={emitEvent:!0}){this._forEachChild(G=>G._updateTreeValidity(q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wr:An}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(q){if(this.asyncValidator){this.status=hi,this._hasOwnPendingAsyncValidator=!0;const G=jt(this.asyncValidator(this));this._asyncValidationSubscription=G.subscribe(Ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ce,{emitEvent:q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(q,G={}){this.errors=q,this._updateControlsErrors(!1!==G.emitEvent)}get(q){return function(z,q,G){if(null==q||(Array.isArray(q)||(q=q.split(".")),Array.isArray(q)&&0===q.length))return null;let Ce=z;return q.forEach(kt=>{Ce=Ce instanceof Ki?Ce.controls.hasOwnProperty(kt)?Ce.controls[kt]:null:Ce instanceof yo&&Ce.at(kt)||null}),Ce}(this,q)}getError(q,G){const Ce=G?this.get(G):this;return Ce&&Ce.errors?Ce.errors[q]:null}hasError(q,G){return!!this.getError(q,G)}get root(){let q=this;for(;q._parent;)q=q._parent;return q}_updateControlsErrors(q){this.status=this._calculateStatus(),q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(q)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?wr:this.errors?bn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hi)?hi:this._anyControlsHaveStatus(bn)?bn:An}_anyControlsHaveStatus(q){return this._anyControls(G=>G.status===q)}_anyControlsDirty(){return this._anyControls(q=>q.dirty)}_anyControlsTouched(){return this._anyControls(q=>q.touched)}_updatePristine(q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}_updateTouched(q={}){this.touched=this._anyControlsTouched(),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}_isBoxedValue(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}_registerOnCollectionChange(q){this._onCollectionChange=q}_setUpdateStrategy(q){dn(q)&&null!=q.updateOn&&(this._updateOn=q.updateOn)}_parentMarkedDirty(q){return!q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ui extends jn{constructor(q=null,G,Ce){super(xo(G),hr(Ce,G)),this._onChange=[],this._applyFormState(q),this._setUpdateStrategy(G),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(q,G={}){this.value=this._pendingValue=q,this._onChange.length&&!1!==G.emitModelToViewChange&&this._onChange.forEach(Ce=>Ce(this.value,!1!==G.emitViewToModelChange)),this.updateValueAndValidity(G)}patchValue(q,G={}){this.setValue(q,G)}reset(q=null,G={}){this._applyFormState(q),this.markAsPristine(G),this.markAsUntouched(G),this.setValue(this.value,G),this._pendingChange=!1}_updateValue(){}_anyControls(q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(q){this._onChange.push(q)}_unregisterOnChange(q){Mt(this._onChange,q)}registerOnDisabledChange(q){this._onDisabledChange.push(q)}_unregisterOnDisabledChange(q){Mt(this._onDisabledChange,q)}_forEachChild(q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(q){this._isBoxedValue(q)?(this.value=this._pendingValue=q.value,q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=q}}class Ki extends jn{constructor(q,G,Ce){super(xo(G),hr(Ce,G)),this.controls=q,this._initObservables(),this._setUpdateStrategy(G),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(q,G){return this.controls[q]?this.controls[q]:(this.controls[q]=G,G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange),G)}addControl(q,G,Ce={}){this.registerControl(q,G),this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}removeControl(q,G={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}setControl(q,G,Ce={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],G&&this.registerControl(q,G),this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}contains(q){return this.controls.hasOwnProperty(q)&&this.controls[q].enabled}setValue(q,G={}){this._checkAllValuesPresent(q),Object.keys(q).forEach(Ce=>{this._throwIfControlMissing(Ce),this.controls[Ce].setValue(q[Ce],{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G)}patchValue(q,G={}){null!=q&&(Object.keys(q).forEach(Ce=>{this.controls[Ce]&&this.controls[Ce].patchValue(q[Ce],{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G))}reset(q={},G={}){this._forEachChild((Ce,kt)=>{Ce.reset(q[kt],{onlySelf:!0,emitEvent:G.emitEvent})}),this._updatePristine(G),this._updateTouched(G),this.updateValueAndValidity(G)}getRawValue(){return this._reduceChildren({},(q,G,Ce)=>(q[Ce]=G instanceof ui?G.value:G.getRawValue(),q))}_syncPendingControls(){let q=this._reduceChildren(!1,(G,Ce)=>!!Ce._syncPendingControls()||G);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_throwIfControlMissing(q){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[q])throw new Error(`Cannot find form control with name: ${q}.`)}_forEachChild(q){Object.keys(this.controls).forEach(G=>{const Ce=this.controls[G];Ce&&q(Ce,G)})}_setUpControls(){this._forEachChild(q=>{q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(q){for(const G of Object.keys(this.controls)){const Ce=this.controls[G];if(this.contains(G)&&q(Ce))return!0}return!1}_reduceValue(){return this._reduceChildren({},(q,G,Ce)=>((G.enabled||this.disabled)&&(q[Ce]=G.value),q))}_reduceChildren(q,G){let Ce=q;return this._forEachChild((kt,Yt)=>{Ce=G(Ce,kt,Yt)}),Ce}_allControlsDisabled(){for(const q of Object.keys(this.controls))if(this.controls[q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(q){this._forEachChild((G,Ce)=>{if(void 0===q[Ce])throw new Error(`Must supply a value for form control with name: '${Ce}'.`)})}}class yo extends jn{constructor(q,G,Ce){super(xo(G),hr(Ce,G)),this.controls=q,this._initObservables(),this._setUpdateStrategy(G),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(q){return this.controls[q]}push(q,G={}){this.controls.push(q),this._registerControl(q),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}insert(q,G,Ce={}){this.controls.splice(q,0,G),this._registerControl(G),this.updateValueAndValidity({emitEvent:Ce.emitEvent})}removeAt(q,G={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),this.updateValueAndValidity({emitEvent:G.emitEvent})}setControl(q,G,Ce={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),G&&(this.controls.splice(q,0,G),this._registerControl(G)),this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(q,G={}){this._checkAllValuesPresent(q),q.forEach((Ce,kt)=>{this._throwIfControlMissing(kt),this.at(kt).setValue(Ce,{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G)}patchValue(q,G={}){null!=q&&(q.forEach((Ce,kt)=>{this.at(kt)&&this.at(kt).patchValue(Ce,{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G))}reset(q=[],G={}){this._forEachChild((Ce,kt)=>{Ce.reset(q[kt],{onlySelf:!0,emitEvent:G.emitEvent})}),this._updatePristine(G),this._updateTouched(G),this.updateValueAndValidity(G)}getRawValue(){return this.controls.map(q=>q instanceof ui?q.value:q.getRawValue())}clear(q={}){this.controls.length<1||(this._forEachChild(G=>G._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:q.emitEvent}))}_syncPendingControls(){let q=this.controls.reduce((G,Ce)=>!!Ce._syncPendingControls()||G,!1);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_throwIfControlMissing(q){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(q))throw new Error(`Cannot find form control at index ${q}`)}_forEachChild(q){this.controls.forEach((G,Ce)=>{q(G,Ce)})}_updateValue(){this.value=this.controls.filter(q=>q.enabled||this.disabled).map(q=>q.value)}_anyControls(q){return this.controls.some(G=>G.enabled&&q(G))}_setUpControls(){this._forEachChild(q=>this._registerControl(q))}_checkAllValuesPresent(q){this._forEachChild((G,Ce)=>{if(void 0===q[Ce])throw new Error(`Must supply a value for form control at index: ${Ce}.`)})}_allControlsDisabled(){for(const q of this.controls)if(q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(q){q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)}}const Zn={provide:Jn,useExisting:(0,m.Gpc)(()=>Uo)},ls=(()=>Promise.resolve(null))();let Uo=(()=>{class z extends Jn{constructor(G,Ce,kt,Yt){super(),this.control=new ui,this._registered=!1,this.update=new m.vpe,this._parent=G,this._setValidators(Ce),this._setAsyncValidators(kt),this.valueAccessor=Qe(0,Yt)}ngOnChanges(G){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in G&&this._updateDisabled(G),dr(G,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?tr(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ii(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(G){ls.then(()=>{this.control.setValue(G,{emitViewToModelChange:!1})})}_updateDisabled(G){const Ce=G.isDisabled.currentValue,kt=""===Ce||Ce&&"false"!==Ce;ls.then(()=>{kt&&!this.control.disabled?this.control.disable():!kt&&this.control.disabled&&this.control.enable()})}}return z.\u0275fac=function(G){return new(G||z)(m.Y36(ci,9),m.Y36(Ne,10),m.Y36(At,10),m.Y36(be,10))},z.\u0275dir=m.lG2({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([Zn]),m.qOj,m.TTD]}),z})(),Or=(()=>{class z{}return z.\u0275fac=function(G){return new(G||z)},z.\u0275dir=m.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),z})(),Eo=(()=>{class z{}return z.\u0275fac=function(G){return new(G||z)},z.\u0275mod=m.oAB({type:z}),z.\u0275inj=m.cJS({}),z})();const Xr=new m.OlP("NgModelWithFormControlWarning"),lo={provide:Jn,useExisting:(0,m.Gpc)(()=>Ro)};let Ro=(()=>{class z extends Jn{constructor(G,Ce,kt,Yt){super(),this._ngModelWarningConfig=Yt,this.update=new m.vpe,this._ngModelWarningSent=!1,this._setValidators(G),this._setAsyncValidators(Ce),this.valueAccessor=Qe(0,kt)}set isDisabled(G){}ngOnChanges(G){if(this._isControlChanged(G)){const Ce=G.form.previousValue;Ce&&mt(Ce,this,!1),Ii(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}dr(G,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&mt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}_isControlChanged(G){return G.hasOwnProperty("form")}}return z._ngModelWarningSentOnce=!1,z.\u0275fac=function(G){return new(G||z)(m.Y36(Ne,10),m.Y36(At,10),m.Y36(be,10),m.Y36(Xr,8))},z.\u0275dir=m.lG2({type:z,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[m._Bn([lo]),m.qOj,m.TTD]}),z})();const co={provide:ci,useExisting:(0,m.Gpc)(()=>_r)};let _r=(()=>{class z extends ci{constructor(G,Ce){super(),this.validators=G,this.asyncValidators=Ce,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(G),this._setAsyncValidators(Ce)}ngOnChanges(G){this._checkFormPresent(),G.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Et(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(G){const Ce=this.form.get(G.path);return Ii(Ce,G),Ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(G),Ce}getControl(G){return this.form.get(G.path)}removeControl(G){mt(G.control||null,G,!1),Mt(this.directives,G)}addFormGroup(G){this._setUpFormContainer(G)}removeFormGroup(G){this._cleanUpFormContainer(G)}getFormGroup(G){return this.form.get(G.path)}addFormArray(G){this._setUpFormContainer(G)}removeFormArray(G){this._cleanUpFormContainer(G)}getFormArray(G){return this.form.get(G.path)}updateModel(G,Ce){this.form.get(G.path).setValue(Ce)}onSubmit(G){return this.submitted=!0,function(z,q){z._syncPendingControls(),q.forEach(G=>{const Ce=G.control;"submit"===Ce.updateOn&&Ce._pendingChange&&(G.viewToModelUpdate(Ce._pendingValue),Ce._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(G),!1}onReset(){this.resetForm()}resetForm(G){this.form.reset(G),this.submitted=!1}_updateDomValue(){this.directives.forEach(G=>{const Ce=G.control,kt=this.form.get(G.path);Ce!==kt&&(mt(Ce||null,G),kt instanceof ui&&(Ii(kt,G),G.control=kt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(G){const Ce=this.form.get(G.path);(function(z,q){zt(z,q)})(Ce,G),Ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(G){if(this.form){const Ce=this.form.get(G.path);Ce&&function(z,q){return Et(z,q)}(Ce,G)&&Ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zt(this.form,this),this._oldForm&&Et(this._oldForm,this)}_checkFormPresent(){}}return z.\u0275fac=function(G){return new(G||z)(m.Y36(Ne,10),m.Y36(At,10))},z.\u0275dir=m.lG2({type:z,selectors:[["","formGroup",""]],hostBindings:function(G,Ce){1&G&&m.NdJ("submit",function(Yt){return Ce.onSubmit(Yt)})("reset",function(){return Ce.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([co]),m.qOj,m.TTD]}),z})();const ts={provide:Jn,useExisting:(0,m.Gpc)(()=>ua)};let ua=(()=>{class z extends Jn{constructor(G,Ce,kt,Yt,hn){super(),this._ngModelWarningConfig=hn,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=G,this._setValidators(Ce),this._setAsyncValidators(kt),this.valueAccessor=Qe(0,Yt)}set isDisabled(G){}ngOnChanges(G){this._added||this._setUpControl(),dr(G,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}get path(){return tr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return z._ngModelWarningSentOnce=!1,z.\u0275fac=function(G){return new(G||z)(m.Y36(ci,13),m.Y36(Ne,10),m.Y36(At,10),m.Y36(be,10),m.Y36(Xr,8))},z.\u0275dir=m.lG2({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([ts]),m.qOj,m.TTD]}),z})();const Ys={provide:be,useExisting:(0,m.Gpc)(()=>Mo),multi:!0};function Qs(z,q){return null==z?`${q}`:(q&&"object"==typeof q&&(q="Object"),`${z}: ${q}`.slice(0,50))}let Mo=(()=>{class z extends ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(G){this._compareWith=G}writeValue(G){this.value=G;const Ce=this._getOptionId(G);null==Ce&&this.setProperty("selectedIndex",-1);const kt=Qs(Ce,G);this.setProperty("value",kt)}registerOnChange(G){this.onChange=Ce=>{this.value=this._getOptionValue(Ce),G(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(G){for(const Ce of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Ce),G))return Ce;return null}_getOptionValue(G){const Ce=function(z){return z.split(":")[0]}(G);return this._optionMap.has(Ce)?this._optionMap.get(Ce):G}}return z.\u0275fac=function(){let q;return function(Ce){return(q||(q=m.n5z(z)))(Ce||z)}}(),z.\u0275dir=m.lG2({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(G,Ce){1&G&&m.NdJ("change",function(Yt){return Ce.onChange(Yt.target.value)})("blur",function(){return Ce.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Ys]),m.qOj]}),z})(),ns=(()=>{class z{constructor(G,Ce,kt){this._element=G,this._renderer=Ce,this._select=kt,this._select&&(this.id=this._select._registerOption())}set ngValue(G){null!=this._select&&(this._select._optionMap.set(this.id,G),this._setElementValue(Qs(this.id,G)),this._select.writeValue(this._select.value))}set value(G){this._setElementValue(G),this._select&&this._select.writeValue(this._select.value)}_setElementValue(G){this._renderer.setProperty(this._element.nativeElement,"value",G)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return z.\u0275fac=function(G){return new(G||z)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Mo,9))},z.\u0275dir=m.lG2({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),z})();const Js={provide:be,useExisting:(0,m.Gpc)(()=>$r),multi:!0};function Ls(z,q){return null==z?`${q}`:("string"==typeof q&&(q=`'${q}'`),q&&"object"==typeof q&&(q="Object"),`${z}: ${q}`.slice(0,50))}let $r=(()=>{class z extends ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(G){this._compareWith=G}writeValue(G){let Ce;if(this.value=G,Array.isArray(G)){const kt=G.map(Yt=>this._getOptionId(Yt));Ce=(Yt,hn)=>{Yt._setSelected(kt.indexOf(hn.toString())>-1)}}else Ce=(kt,Yt)=>{kt._setSelected(!1)};this._optionMap.forEach(Ce)}registerOnChange(G){this.onChange=Ce=>{const kt=[],Yt=Ce.selectedOptions;if(void 0!==Yt){const hn=Yt;for(let Xn=0;Xn<hn.length;Xn++){const Ri=this._getOptionValue(hn[Xn].value);kt.push(Ri)}}else{const hn=Ce.options;for(let Xn=0;Xn<hn.length;Xn++){const ii=hn[Xn];if(ii.selected){const Ri=this._getOptionValue(ii.value);kt.push(Ri)}}}this.value=kt,G(kt)}}_registerOption(G){const Ce=(this._idCounter++).toString();return this._optionMap.set(Ce,G),Ce}_getOptionId(G){for(const Ce of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Ce)._value,G))return Ce;return null}_getOptionValue(G){const Ce=function(z){return z.split(":")[0]}(G);return this._optionMap.has(Ce)?this._optionMap.get(Ce)._value:G}}return z.\u0275fac=function(){let q;return function(Ce){return(q||(q=m.n5z(z)))(Ce||z)}}(),z.\u0275dir=m.lG2({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(G,Ce){1&G&&m.NdJ("change",function(Yt){return Ce.onChange(Yt.target)})("blur",function(){return Ce.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Js]),m.qOj]}),z})(),Xs=(()=>{class z{constructor(G,Ce,kt){this._element=G,this._renderer=Ce,this._select=kt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(G){null!=this._select&&(this._value=G,this._setElementValue(Ls(this.id,G)),this._select.writeValue(this._select.value))}set value(G){this._select?(this._value=G,this._setElementValue(Ls(this.id,G)),this._select.writeValue(this._select.value)):this._setElementValue(G)}_setElementValue(G){this._renderer.setProperty(this._element.nativeElement,"value",G)}_setSelected(G){this._renderer.setProperty(this._element.nativeElement,"selected",G)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return z.\u0275fac=function(G){return new(G||z)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36($r,9))},z.\u0275dir=m.lG2({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),z})();let Qi=(()=>{class z{constructor(){this._validator=$e}ngOnChanges(G){if(this.inputName in G){const Ce=this.normalizeInput(G[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(Ce):$e,this._onChange&&this._onChange()}}validate(G){return this._validator(G)}registerOnValidatorChange(G){this._onChange=G}enabled(){return null!=this[this.inputName]}}return z.\u0275fac=function(G){return new(G||z)},z.\u0275dir=m.lG2({type:z,features:[m.TTD]}),z})();const ya={provide:Ne,useExisting:(0,m.Gpc)(()=>bs),multi:!0};let bs=(()=>{class z extends Qi{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=G=>function(z){return"number"==typeof z?z:parseInt(z,10)}(G),this.createValidator=G=>Ze(G)}}return z.\u0275fac=function(){let q;return function(Ce){return(q||(q=m.n5z(z)))(Ce||z)}}(),z.\u0275dir=m.lG2({type:z,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(G,Ce){2&G&&m.uIk("maxlength",Ce.enabled()?Ce.maxlength:null)},inputs:{maxlength:"maxlength"},features:[m._Bn([ya]),m.qOj]}),z})(),Xe=(()=>{class z{}return z.\u0275fac=function(G){return new(G||z)},z.\u0275mod=m.oAB({type:z}),z.\u0275inj=m.cJS({imports:[[Eo]]}),z})(),V=(()=>{class z{}return z.\u0275fac=function(G){return new(G||z)},z.\u0275mod=m.oAB({type:z}),z.\u0275inj=m.cJS({imports:[Xe]}),z})(),ue=(()=>{class z{static withConfig(G){return{ngModule:z,providers:[{provide:Xr,useValue:G.warnOnNgModelWithFormControl}]}}}return z.\u0275fac=function(G){return new(G||z)},z.\u0275mod=m.oAB({type:z}),z.\u0275inj=m.cJS({imports:[Xe]}),z})(),ve=(()=>{class z{group(G,Ce=null){const kt=this._reduceControls(G);let Xn,Yt=null,hn=null;return null!=Ce&&(function(z){return void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn}(Ce)?(Yt=null!=Ce.validators?Ce.validators:null,hn=null!=Ce.asyncValidators?Ce.asyncValidators:null,Xn=null!=Ce.updateOn?Ce.updateOn:void 0):(Yt=null!=Ce.validator?Ce.validator:null,hn=null!=Ce.asyncValidator?Ce.asyncValidator:null)),new Ki(kt,{asyncValidators:hn,updateOn:Xn,validators:Yt})}control(G,Ce,kt){return new ui(G,Ce,kt)}array(G,Ce,kt){const Yt=G.map(hn=>this._createControl(hn));return new yo(Yt,Ce,kt)}_reduceControls(G){const Ce={};return Object.keys(G).forEach(kt=>{Ce[kt]=this._createControl(G[kt])}),Ce}_createControl(G){return G instanceof ui||G instanceof Ki||G instanceof yo?G:Array.isArray(G)?this.control(G[0],G.length>1?G[1]:null,G.length>2?G[2]:null):this.control(G)}}return z.\u0275fac=function(G){return new(G||z)},z.\u0275prov=m.Yz7({token:z,factory:z.\u0275fac,providedIn:ue}),z})()},5427:(Kt,_t,X)=>{"use strict";X.d(_t,{b2:()=>wn,H7:()=>Ui,q6:()=>Ir,se:()=>Ze});var m=X(6019),P=X(9619);class Ve extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oe extends Ve{static makeCurrent(){(0,m.HT)(new oe)}onAndCancel(bt,Qe,Mt){return bt.addEventListener(Qe,Mt,!1),()=>{bt.removeEventListener(Qe,Mt,!1)}}dispatchEvent(bt,Qe){bt.dispatchEvent(Qe)}remove(bt){bt.parentNode&&bt.parentNode.removeChild(bt)}createElement(bt,Qe){return(Qe=Qe||this.getDefaultDocument()).createElement(bt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(bt){return bt.nodeType===Node.ELEMENT_NODE}isShadowRoot(bt){return bt instanceof DocumentFragment}getGlobalEventTarget(bt,Qe){return"window"===Qe?window:"document"===Qe?bt:"body"===Qe?bt.body:null}getBaseHref(bt){const Qe=(le=le||document.querySelector("base"),le?le.getAttribute("href"):null);return null==Qe?null:function(Dt){Le=Le||document.createElement("a"),Le.setAttribute("href",Dt);const bt=Le.pathname;return"/"===bt.charAt(0)?bt:`/${bt}`}(Qe)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(bt){return(0,m.Mx)(document.cookie,bt)}}let Le,le=null;const me=new P.OlP("TRANSITION_ID"),ge=[{provide:P.ip1,useFactory:function(Dt,bt,Qe){return()=>{Qe.get(P.CZH).donePromise.then(()=>{const Mt=(0,m.q)(),$t=bt.querySelectorAll(`style[ng-transition="${Dt}"]`);for(let An=0;An<$t.length;An++)Mt.remove($t[An])})}},deps:[me,m.K0,P.zs3],multi:!0}];class be{static init(){(0,P.VLi)(new be)}addToWindow(bt){P.dqk.getAngularTestability=(Mt,$t=!0)=>{const An=bt.findTestabilityInTree(Mt,$t);if(null==An)throw new Error("Could not find testability for element.");return An},P.dqk.getAllAngularTestabilities=()=>bt.getAllTestabilities(),P.dqk.getAllAngularRootElements=()=>bt.getAllRootElements(),P.dqk.frameworkStabilizers||(P.dqk.frameworkStabilizers=[]),P.dqk.frameworkStabilizers.push(Mt=>{const $t=P.dqk.getAllAngularTestabilities();let An=$t.length,bn=!1;const hi=function(wr){bn=bn||wr,An--,0==An&&Mt(bn)};$t.forEach(function(wr){wr.whenStable(hi)})})}findTestabilityInTree(bt,Qe,Mt){if(null==Qe)return null;const $t=bt.getTestability(Qe);return null!=$t?$t:Mt?(0,m.q)().isShadowRoot(Qe)?this.findTestabilityInTree(bt,Qe.host,!0):this.findTestabilityInTree(bt,Qe.parentElement,!0):null}}let Se=(()=>{class Dt{build(){return new XMLHttpRequest}}return Dt.\u0275fac=function(Qe){return new(Qe||Dt)},Dt.\u0275prov=P.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();const ne=new P.OlP("EventManagerPlugins");let gt=(()=>{class Dt{constructor(Qe,Mt){this._zone=Mt,this._eventNameToPlugin=new Map,Qe.forEach($t=>$t.manager=this),this._plugins=Qe.slice().reverse()}addEventListener(Qe,Mt,$t){return this._findPluginFor(Mt).addEventListener(Qe,Mt,$t)}addGlobalEventListener(Qe,Mt,$t){return this._findPluginFor(Mt).addGlobalEventListener(Qe,Mt,$t)}getZone(){return this._zone}_findPluginFor(Qe){const Mt=this._eventNameToPlugin.get(Qe);if(Mt)return Mt;const $t=this._plugins;for(let An=0;An<$t.length;An++){const bn=$t[An];if(bn.supports(Qe))return this._eventNameToPlugin.set(Qe,bn),bn}throw new Error(`No event manager plugin found for event ${Qe}`)}}return Dt.\u0275fac=function(Qe){return new(Qe||Dt)(P.LFG(ne),P.LFG(P.R0b))},Dt.\u0275prov=P.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();class Ee{constructor(bt){this._doc=bt}addGlobalEventListener(bt,Qe,Mt){const $t=(0,m.q)().getGlobalEventTarget(this._doc,bt);if(!$t)throw new Error(`Unsupported event target ${$t} for event ${Qe}`);return this.addEventListener($t,Qe,Mt)}}let Ke=(()=>{class Dt{constructor(){this._stylesSet=new Set}addStyles(Qe){const Mt=new Set;Qe.forEach($t=>{this._stylesSet.has($t)||(this._stylesSet.add($t),Mt.add($t))}),this.onStylesAdded(Mt)}onStylesAdded(Qe){}getAllStyles(){return Array.from(this._stylesSet)}}return Dt.\u0275fac=function(Qe){return new(Qe||Dt)},Dt.\u0275prov=P.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})(),yt=(()=>{class Dt extends Ke{constructor(Qe){super(),this._doc=Qe,this._hostNodes=new Map,this._hostNodes.set(Qe.head,[])}_addStylesToHost(Qe,Mt,$t){Qe.forEach(An=>{const bn=this._doc.createElement("style");bn.textContent=An,$t.push(Mt.appendChild(bn))})}addHost(Qe){const Mt=[];this._addStylesToHost(this._stylesSet,Qe,Mt),this._hostNodes.set(Qe,Mt)}removeHost(Qe){const Mt=this._hostNodes.get(Qe);Mt&&Mt.forEach(rt),this._hostNodes.delete(Qe)}onStylesAdded(Qe){this._hostNodes.forEach((Mt,$t)=>{this._addStylesToHost(Qe,$t,Mt)})}ngOnDestroy(){this._hostNodes.forEach(Qe=>Qe.forEach(rt))}}return Dt.\u0275fac=function(Qe){return new(Qe||Dt)(P.LFG(m.K0))},Dt.\u0275prov=P.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();function rt(Dt){(0,m.q)().remove(Dt)}const we={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ne=/%COMP%/g;function st(Dt,bt,Qe){for(let Mt=0;Mt<bt.length;Mt++){let $t=bt[Mt];Array.isArray($t)?st(Dt,$t,Qe):($t=$t.replace(Ne,Dt),Qe.push($t))}return Qe}function Te(Dt){return bt=>{if("__ngUnwrap__"===bt)return Dt;!1===Dt(bt)&&(bt.preventDefault(),bt.returnValue=!1)}}let Ze=(()=>{class Dt{constructor(Qe,Mt,$t){this.eventManager=Qe,this.sharedStylesHost=Mt,this.appId=$t,this.rendererByCompId=new Map,this.defaultRenderer=new Ie(Qe)}createRenderer(Qe,Mt){if(!Qe||!Mt)return this.defaultRenderer;switch(Mt.encapsulation){case P.ifc.Emulated:{let $t=this.rendererByCompId.get(Mt.id);return $t||($t=new jt(this.eventManager,this.sharedStylesHost,Mt,this.appId),this.rendererByCompId.set(Mt.id,$t)),$t.applyToHost(Qe),$t}case 1:case P.ifc.ShadowDom:return new Vt(this.eventManager,this.sharedStylesHost,Qe,Mt);default:if(!this.rendererByCompId.has(Mt.id)){const $t=st(Mt.id,Mt.styles,[]);this.sharedStylesHost.addStyles($t),this.rendererByCompId.set(Mt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Dt.\u0275fac=function(Qe){return new(Qe||Dt)(P.LFG(gt),P.LFG(yt),P.LFG(P.AFp))},Dt.\u0275prov=P.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();class Ie{constructor(bt){this.eventManager=bt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(bt,Qe){return Qe?document.createElementNS(we[Qe]||Qe,bt):document.createElement(bt)}createComment(bt){return document.createComment(bt)}createText(bt){return document.createTextNode(bt)}appendChild(bt,Qe){bt.appendChild(Qe)}insertBefore(bt,Qe,Mt){bt&&bt.insertBefore(Qe,Mt)}removeChild(bt,Qe){bt&&bt.removeChild(Qe)}selectRootElement(bt,Qe){let Mt="string"==typeof bt?document.querySelector(bt):bt;if(!Mt)throw new Error(`The selector "${bt}" did not match any elements`);return Qe||(Mt.textContent=""),Mt}parentNode(bt){return bt.parentNode}nextSibling(bt){return bt.nextSibling}setAttribute(bt,Qe,Mt,$t){if($t){Qe=$t+":"+Qe;const An=we[$t];An?bt.setAttributeNS(An,Qe,Mt):bt.setAttribute(Qe,Mt)}else bt.setAttribute(Qe,Mt)}removeAttribute(bt,Qe,Mt){if(Mt){const $t=we[Mt];$t?bt.removeAttributeNS($t,Qe):bt.removeAttribute(`${Mt}:${Qe}`)}else bt.removeAttribute(Qe)}addClass(bt,Qe){bt.classList.add(Qe)}removeClass(bt,Qe){bt.classList.remove(Qe)}setStyle(bt,Qe,Mt,$t){$t&(P.JOm.DashCase|P.JOm.Important)?bt.style.setProperty(Qe,Mt,$t&P.JOm.Important?"important":""):bt.style[Qe]=Mt}removeStyle(bt,Qe,Mt){Mt&P.JOm.DashCase?bt.style.removeProperty(Qe):bt.style[Qe]=""}setProperty(bt,Qe,Mt){bt[Qe]=Mt}setValue(bt,Qe){bt.nodeValue=Qe}listen(bt,Qe,Mt){return"string"==typeof bt?this.eventManager.addGlobalEventListener(bt,Qe,Te(Mt)):this.eventManager.addEventListener(bt,Qe,Te(Mt))}}class jt extends Ie{constructor(bt,Qe,Mt,$t){super(bt),this.component=Mt;const An=st($t+"-"+Mt.id,Mt.styles,[]);Qe.addStyles(An),this.contentAttr="_ngcontent-%COMP%".replace(Ne,$t+"-"+Mt.id),this.hostAttr="_nghost-%COMP%".replace(Ne,$t+"-"+Mt.id)}applyToHost(bt){super.setAttribute(bt,this.hostAttr,"")}createElement(bt,Qe){const Mt=super.createElement(bt,Qe);return super.setAttribute(Mt,this.contentAttr,""),Mt}}class Vt extends Ie{constructor(bt,Qe,Mt,$t){super(bt),this.sharedStylesHost=Qe,this.hostEl=Mt,this.shadowRoot=Mt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const An=st($t.id,$t.styles,[]);for(let bn=0;bn<An.length;bn++){const hi=document.createElement("style");hi.textContent=An[bn],this.shadowRoot.appendChild(hi)}}nodeOrShadowRoot(bt){return bt===this.hostEl?this.shadowRoot:bt}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(bt,Qe){return super.appendChild(this.nodeOrShadowRoot(bt),Qe)}insertBefore(bt,Qe,Mt){return super.insertBefore(this.nodeOrShadowRoot(bt),Qe,Mt)}removeChild(bt,Qe){return super.removeChild(this.nodeOrShadowRoot(bt),Qe)}parentNode(bt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(bt)))}}let Xt=(()=>{class Dt extends Ee{constructor(Qe){super(Qe)}supports(Qe){return!0}addEventListener(Qe,Mt,$t){return Qe.addEventListener(Mt,$t,!1),()=>this.removeEventListener(Qe,Mt,$t)}removeEventListener(Qe,Mt,$t){return Qe.removeEventListener(Mt,$t)}}return Dt.\u0275fac=function(Qe){return new(Qe||Dt)(P.LFG(m.K0))},Dt.\u0275prov=P.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();const Ot=["alt","control","meta","shift"],Ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},oi={alt:Dt=>Dt.altKey,control:Dt=>Dt.ctrlKey,meta:Dt=>Dt.metaKey,shift:Dt=>Dt.shiftKey};let $n=(()=>{class Dt extends Ee{constructor(Qe){super(Qe)}supports(Qe){return null!=Dt.parseEventName(Qe)}addEventListener(Qe,Mt,$t){const An=Dt.parseEventName(Mt),bn=Dt.eventCallback(An.fullKey,$t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(Qe,An.domEventName,bn))}static parseEventName(Qe){const Mt=Qe.toLowerCase().split("."),$t=Mt.shift();if(0===Mt.length||"keydown"!==$t&&"keyup"!==$t)return null;const An=Dt._normalizeKey(Mt.pop());let bn="";if(Ot.forEach(wr=>{const Ci=Mt.indexOf(wr);Ci>-1&&(Mt.splice(Ci,1),bn+=wr+".")}),bn+=An,0!=Mt.length||0===An.length)return null;const hi={};return hi.domEventName=$t,hi.fullKey=bn,hi}static getEventFullKey(Qe){let Mt="",$t=function(Dt){let bt=Dt.key;if(null==bt){if(bt=Dt.keyIdentifier,null==bt)return"Unidentified";bt.startsWith("U+")&&(bt=String.fromCharCode(parseInt(bt.substring(2),16)),3===Dt.location&&zn.hasOwnProperty(bt)&&(bt=zn[bt]))}return Ht[bt]||bt}(Qe);return $t=$t.toLowerCase()," "===$t?$t="space":"."===$t&&($t="dot"),Ot.forEach(An=>{An!=$t&&oi[An](Qe)&&(Mt+=An+".")}),Mt+=$t,Mt}static eventCallback(Qe,Mt,$t){return An=>{Dt.getEventFullKey(An)===Qe&&$t.runGuarded(()=>Mt(An))}}static _normalizeKey(Qe){return"esc"===Qe?"escape":Qe}}return Dt.\u0275fac=function(Qe){return new(Qe||Dt)(P.LFG(m.K0))},Dt.\u0275prov=P.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();const Ir=(0,P.eFA)(P._c5,"browser",[{provide:P.Lbi,useValue:m.bD},{provide:P.g9A,useValue:function(){oe.makeCurrent(),be.init()},multi:!0},{provide:m.K0,useFactory:function(){return(0,P.RDi)(document),document},deps:[]}]),Ln=[{provide:P.zSh,useValue:"root"},{provide:P.qLn,useFactory:function(){return new P.qLn},deps:[]},{provide:ne,useClass:Xt,multi:!0,deps:[m.K0,P.R0b,P.Lbi]},{provide:ne,useClass:$n,multi:!0,deps:[m.K0]},{provide:Ze,useClass:Ze,deps:[gt,yt,P.AFp]},{provide:P.FYo,useExisting:Ze},{provide:Ke,useExisting:yt},{provide:yt,useClass:yt,deps:[m.K0]},{provide:P.dDg,useClass:P.dDg,deps:[P.R0b]},{provide:gt,useClass:gt,deps:[ne,P.R0b]},{provide:m.JF,useClass:Se,deps:[]}];let wn=(()=>{class Dt{constructor(Qe){if(Qe)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Qe){return{ngModule:Dt,providers:[{provide:P.AFp,useValue:Qe.appId},{provide:me,useExisting:P.AFp},ge]}}}return Dt.\u0275fac=function(Qe){return new(Qe||Dt)(P.LFG(Dt,12))},Dt.\u0275mod=P.oAB({type:Dt}),Dt.\u0275inj=P.cJS({providers:Ln,imports:[m.ez,P.hGG]}),Dt})();"undefined"!=typeof window&&window;let Ui=(()=>{class Dt{}return Dt.\u0275fac=function(Qe){return new(Qe||Dt)},Dt.\u0275prov=P.Yz7({token:Dt,factory:function(Qe){let Mt=null;return Mt=Qe?new(Qe||Dt):P.LFG(Qr),Mt},providedIn:"root"}),Dt})(),Qr=(()=>{class Dt extends Ui{constructor(Qe){super(),this._doc=Qe}sanitize(Qe,Mt){if(null==Mt)return null;switch(Qe){case P.q3G.NONE:return Mt;case P.q3G.HTML:return(0,P.qzn)(Mt,"HTML")?(0,P.z3N)(Mt):(0,P.EiD)(this._doc,String(Mt)).toString();case P.q3G.STYLE:return(0,P.qzn)(Mt,"Style")?(0,P.z3N)(Mt):Mt;case P.q3G.SCRIPT:if((0,P.qzn)(Mt,"Script"))return(0,P.z3N)(Mt);throw new Error("unsafe value used in a script context");case P.q3G.URL:return(0,P.yhl)(Mt),(0,P.qzn)(Mt,"URL")?(0,P.z3N)(Mt):(0,P.mCW)(String(Mt));case P.q3G.RESOURCE_URL:if((0,P.qzn)(Mt,"ResourceURL"))return(0,P.z3N)(Mt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Qe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Qe){return(0,P.JVY)(Qe)}bypassSecurityTrustStyle(Qe){return(0,P.L6k)(Qe)}bypassSecurityTrustScript(Qe){return(0,P.eBb)(Qe)}bypassSecurityTrustUrl(Qe){return(0,P.LAX)(Qe)}bypassSecurityTrustResourceUrl(Qe){return(0,P.pB0)(Qe)}}return Dt.\u0275fac=function(Qe){return new(Qe||Dt)(P.LFG(m.K0))},Dt.\u0275prov=P.Yz7({token:Dt,factory:function(Qe){let Mt=null;return Mt=Qe?new Qe:function(Dt){return new Qr(Dt.get(m.K0))}(P.LFG(P.zs3)),Mt},providedIn:"root"}),Dt})()},3736:(Kt,_t,X)=>{"use strict";X.d(_t,{F0:()=>Hi,rH:()=>fa,Od:()=>Kn,Bz:()=>So,lC:()=>je});var m=X(6019),P=X(9619),Ve=X(8151),oe=X(5894),le=X(4168);class he extends le.L{notifyNext(F,B,re,ce,Re){this.destination.next(B)}notifyError(F,B){this.destination.error(F)}notifyComplete(F){this.destination.complete()}}class Le extends le.L{constructor(F,B,re){super(),this.parent=F,this.outerValue=B,this.outerIndex=re,this.index=0}_next(F){this.parent.notifyNext(this.outerValue,F,this.outerIndex,this.index++,this)}_error(F){this.parent.notifyError(F,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Z=X(4651),me=X(5548);function _e(U,F,B,re,ce=new Le(U,B,re)){if(!ce.closed)return F instanceof me.y?F.subscribe(ce):(0,Z.s)(F)(ce)}var ge=X(5433);const be={};class ne{constructor(F){this.resultSelector=F}call(F,B){return B.subscribe(new gt(F,this.resultSelector))}}class gt extends he{constructor(F,B){super(F),this.resultSelector=B,this.active=0,this.values=[],this.observables=[]}_next(F){this.values.push(be),this.observables.push(F)}_complete(){const F=this.observables,B=F.length;if(0===B)this.destination.complete();else{this.active=B,this.toRespond=B;for(let re=0;re<B;re++)this.add(_e(this,F[re],void 0,re))}}notifyComplete(F){0==(this.active-=1)&&this.destination.complete()}notifyNext(F,B,re){const ce=this.values,nt=this.toRespond?ce[re]===be?--this.toRespond:this.toRespond:0;ce[re]=B,0===nt&&(this.resultSelector?this._tryResultSelector(ce):this.destination.next(ce.slice()))}_tryResultSelector(F){let B;try{B=this.resultSelector.apply(this,F)}catch(re){return void this.destination.error(re)}this.destination.next(B)}}var Ee=X(1915),Ke=X(172);function yt(U){return new me.y(F=>{let B;try{B=U()}catch(ce){return void F.error(ce)}return(B?(0,Ee.D)(B):(0,Ke.c)()).subscribe(F)})}var rt=X(2411),we=X(4099),Ne=X(9443),At=X(3596),dt=X(5783),Jt=X(3405),Bt=X(8735),_n=X(523);function it(U){return function(B){return 0===U?(0,Ke.c)():B.lift(new st(U))}}class st{constructor(F){if(this.total=F,this.total<0)throw new _n.W}call(F,B){return B.subscribe(new Te(F,this.total))}}class Te extends le.L{constructor(F,B){super(F),this.total=B,this.ring=new Array,this.count=0}_next(F){const B=this.ring,re=this.total,ce=this.count++;B.length<re?B.push(F):B[ce%re]=F}_complete(){const F=this.destination;let B=this.count;if(B>0){const re=this.count>=this.total?this.total:this.count,ce=this.ring;for(let Re=0;Re<re;Re++){const nt=B++%re;F.next(ce[nt])}}F.complete()}}var Fe=X(6225),Ze=X(3507),Ie=X(7255),at=X(1346);class Vt{constructor(F){this.callback=F}call(F,B){return B.subscribe(new Xt(F,this.callback))}}class Xt extends le.L{constructor(F,B){super(F),this.add(new at.w(B))}}var Ot=X(8053),tn=X(9204),Ht=X(6636),zn=X(1125),oi=X(7434),$n=X(2047),xi=X(6700),Zi=X(739),Sr=X(4421),Tn=X(5722),Hr=X(5234),Ir=X(2225);class Ln{constructor(F,B){this.id=F,this.url=B}}class wn extends Ln{constructor(F,B,re="imperative",ce=null){super(F,B),this.navigationTrigger=re,this.restoredState=ce}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ci extends Ln{constructor(F,B,re){super(F,B),this.urlAfterRedirects=re}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jn extends Ln{constructor(F,B,re){super(F,B),this.reason=re}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class di extends Ln{constructor(F,B,re){super(F,B),this.error=re}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pi extends Ln{constructor(F,B,re,ce){super(F,B),this.urlAfterRedirects=re,this.state=ce}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mi extends Ln{constructor(F,B,re,ce){super(F,B),this.urlAfterRedirects=re,this.state=ce}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai extends Ln{constructor(F,B,re,ce,Re){super(F,B),this.urlAfterRedirects=re,this.state=ce,this.shouldActivate=Re}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vo extends Ln{constructor(F,B,re,ce){super(F,B),this.urlAfterRedirects=re,this.state=ce}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn extends Ln{constructor(F,B,re,ce){super(F,B),this.urlAfterRedirects=re,this.state=ce}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr{constructor(F){this.route=F}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vo{constructor(F){this.route=F}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oo{constructor(F){this.snapshot=F}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vi{constructor(F){this.snapshot=F}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vn{constructor(F){this.snapshot=F}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(F){this.snapshot=F}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zr{constructor(F,B,re){this.routerEvent=F,this.position=B,this.anchor=re}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gi="primary";class lr{constructor(F){this.params=F||{}}has(F){return Object.prototype.hasOwnProperty.call(this.params,F)}get(F){if(this.has(F)){const B=this.params[F];return Array.isArray(B)?B[0]:B}return null}getAll(F){if(this.has(F)){const B=this.params[F];return Array.isArray(B)?B:[B]}return[]}get keys(){return Object.keys(this.params)}}function Oi(U){return new lr(U)}const Ni="ngNavigationCancelingError";function tr(U){const F=Error("NavigationCancelingError: "+U);return F[Ni]=!0,F}function mt(U,F,B){const re=B.path.split("/");if(re.length>U.length||"full"===B.pathMatch&&(F.hasChildren()||re.length<U.length))return null;const ce={};for(let Re=0;Re<re.length;Re++){const nt=re[Re],ct=U[Re];if(nt.startsWith(":"))ce[nt.substring(1)]=ct;else if(nt!==ct.path)return null}return{consumed:U.slice(0,re.length),posParams:ce}}function xt(U,F){const B=U?Object.keys(U):void 0,re=F?Object.keys(F):void 0;if(!B||!re||B.length!=re.length)return!1;let ce;for(let Re=0;Re<B.length;Re++)if(ce=B[Re],!zt(U[ce],F[ce]))return!1;return!0}function zt(U,F){if(Array.isArray(U)&&Array.isArray(F)){if(U.length!==F.length)return!1;const B=[...U].sort(),re=[...F].sort();return B.every((ce,Re)=>re[Re]===ce)}return U===F}function Et(U){return Array.prototype.concat.apply([],U)}function nn(U){return U.length>0?U[U.length-1]:null}function Wn(U,F){for(const B in U)U.hasOwnProperty(B)&&F(U[B],B)}function In(U){return(0,P.CqO)(U)?U:(0,P.QGY)(U)?(0,Ee.D)(Promise.resolve(U)):(0,rt.of)(U)}const Ui={exact:function Dt(U,F,B){if(!Ci(U.segments,F.segments)||!$t(U.segments,F.segments,B)||U.numberOfChildren!==F.numberOfChildren)return!1;for(const re in F.children)if(!U.children[re]||!Dt(U.children[re],F.children[re],B))return!1;return!0},subset:Qe},Fr={exact:function(U,F){return xt(U,F)},subset:function(U,F){return Object.keys(F).length<=Object.keys(U).length&&Object.keys(F).every(B=>zt(U[B],F[B]))},ignored:()=>!0};function Qr(U,F,B){return Ui[B.paths](U.root,F.root,B.matrixParams)&&Fr[B.queryParams](U.queryParams,F.queryParams)&&!("exact"===B.fragment&&U.fragment!==F.fragment)}function Qe(U,F,B){return Mt(U,F,F.segments,B)}function Mt(U,F,B,re){if(U.segments.length>B.length){const ce=U.segments.slice(0,B.length);return!(!Ci(ce,B)||F.hasChildren()||!$t(ce,B,re))}if(U.segments.length===B.length){if(!Ci(U.segments,B)||!$t(U.segments,B,re))return!1;for(const ce in F.children)if(!U.children[ce]||!Qe(U.children[ce],F.children[ce],re))return!1;return!0}{const ce=B.slice(0,U.segments.length),Re=B.slice(U.segments.length);return!!(Ci(U.segments,ce)&&$t(U.segments,ce,re)&&U.children[gi])&&Mt(U.children[gi],F,Re,re)}}function $t(U,F,B){return F.every((re,ce)=>Fr[B](U[ce].parameters,re.parameters))}class An{constructor(F,B,re){this.root=F,this.queryParams=B,this.fragment=re}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oi(this.queryParams)),this._queryParamMap}toString(){return Cr.serialize(this)}}class bn{constructor(F,B){this.segments=F,this.children=B,this.parent=null,Wn(B,(re,ce)=>re.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dn(this)}}class hi{constructor(F,B){this.path=F,this.parameters=B}get parameterMap(){return this._parameterMap||(this._parameterMap=Oi(this.parameters)),this._parameterMap}toString(){return or(this)}}function Ci(U,F){return U.length===F.length&&U.every((B,re)=>B.path===F[re].path)}class as{}class hr{parse(F){const B=new Uo(F);return new An(B.parseRootSegment(),B.parseQueryParams(),B.parseFragment())}serialize(F){const B=`/${jn(F.root,!0)}`,re=function(U){const F=Object.keys(U).map(B=>{const re=U[B];return Array.isArray(re)?re.map(ce=>`${Ki(B)}=${Ki(ce)}`).join("&"):`${Ki(B)}=${Ki(re)}`}).filter(B=>!!B);return F.length?`?${F.join("&")}`:""}(F.queryParams);var U;return`${B}${re}${"string"==typeof F.fragment?`#${U=F.fragment,encodeURI(U)}`:""}`}}const Cr=new hr;function dn(U){return U.segments.map(F=>or(F)).join("/")}function jn(U,F){if(!U.hasChildren())return dn(U);if(F){const B=U.children[gi]?jn(U.children[gi],!1):"",re=[];return Wn(U.children,(ce,Re)=>{Re!==gi&&re.push(`${Re}:${jn(ce,!1)}`)}),re.length>0?`${B}(${re.join("//")})`:B}{const B=function(U,F){let B=[];return Wn(U.children,(re,ce)=>{ce===gi&&(B=B.concat(F(re,ce)))}),Wn(U.children,(re,ce)=>{ce!==gi&&(B=B.concat(F(re,ce)))}),B}(U,(re,ce)=>ce===gi?[jn(U.children[gi],!1)]:[`${ce}:${jn(re,!1)}`]);return 1===Object.keys(U.children).length&&null!=U.children[gi]?`${dn(U)}/${B[0]}`:`${dn(U)}/(${B.join("//")})`}}function ui(U){return encodeURIComponent(U).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ki(U){return ui(U).replace(/%3B/gi,";")}function qr(U){return ui(U).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wo(U){return decodeURIComponent(U)}function Yi(U){return wo(U.replace(/\+/g,"%20"))}function or(U){return`${qr(U.path)}${function(U){return Object.keys(U).map(F=>`;${qr(F)}=${qr(U[F])}`).join("")}(U.parameters)}`}const pr=/^[^\/()?;=#]+/;function ao(U){const F=U.match(pr);return F?F[0]:""}const Xo=/^[^=?&#]+/,Zn=/^[^&#]+/;class Uo{constructor(F){this.url=F,this.remaining=F}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}parseQueryParams(){const F={};if(this.consumeOptional("?"))do{this.parseQueryParam(F)}while(this.consumeOptional("&"));return F}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const F=[];for(this.peekStartsWith("(")||F.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),F.push(this.parseSegment());let B={};this.peekStartsWith("/(")&&(this.capture("/"),B=this.parseParens(!0));let re={};return this.peekStartsWith("(")&&(re=this.parseParens(!1)),(F.length>0||Object.keys(B).length>0)&&(re[gi]=new bn(F,B)),re}parseSegment(){const F=ao(this.remaining);if(""===F&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(F),new hi(wo(F),this.parseMatrixParams())}parseMatrixParams(){const F={};for(;this.consumeOptional(";");)this.parseParam(F);return F}parseParam(F){const B=ao(this.remaining);if(!B)return;this.capture(B);let re="";if(this.consumeOptional("=")){const ce=ao(this.remaining);ce&&(re=ce,this.capture(re))}F[wo(B)]=wo(re)}parseQueryParam(F){const B=function(U){const F=U.match(Xo);return F?F[0]:""}(this.remaining);if(!B)return;this.capture(B);let re="";if(this.consumeOptional("=")){const nt=function(U){const F=U.match(Zn);return F?F[0]:""}(this.remaining);nt&&(re=nt,this.capture(re))}const ce=Yi(B),Re=Yi(re);if(F.hasOwnProperty(ce)){let nt=F[ce];Array.isArray(nt)||(nt=[nt],F[ce]=nt),nt.push(Re)}else F[ce]=Re}parseParens(F){const B={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const re=ao(this.remaining),ce=this.remaining[re.length];if("/"!==ce&&")"!==ce&&";"!==ce)throw new Error(`Cannot parse url '${this.url}'`);let Re;re.indexOf(":")>-1?(Re=re.substr(0,re.indexOf(":")),this.capture(Re),this.capture(":")):F&&(Re=gi);const nt=this.parseChildren();B[Re]=1===Object.keys(nt).length?nt[gi]:new bn([],nt),this.consumeOptional("//")}return B}peekStartsWith(F){return this.remaining.startsWith(F)}consumeOptional(F){return!!this.peekStartsWith(F)&&(this.remaining=this.remaining.substring(F.length),!0)}capture(F){if(!this.consumeOptional(F))throw new Error(`Expected "${F}".`)}}class Or{constructor(F){this._root=F}get root(){return this._root.value}parent(F){const B=this.pathFromRoot(F);return B.length>1?B[B.length-2]:null}children(F){const B=qi(F,this._root);return B?B.children.map(re=>re.value):[]}firstChild(F){const B=qi(F,this._root);return B&&B.children.length>0?B.children[0].value:null}siblings(F){const B=cs(F,this._root);return B.length<2?[]:B[B.length-2].children.map(ce=>ce.value).filter(ce=>ce!==F)}pathFromRoot(F){return cs(F,this._root).map(B=>B.value)}}function qi(U,F){if(U===F.value)return F;for(const B of F.children){const re=qi(U,B);if(re)return re}return null}function cs(U,F){if(U===F.value)return[F];for(const B of F.children){const re=cs(U,B);if(re.length)return re.unshift(F),re}return[]}class Oo{constructor(F,B){this.value=F,this.children=B}toString(){return`TreeNode(${this.value})`}}function No(U){const F={};return U&&U.children.forEach(B=>F[B.value.outlet]=B),F}class Eo extends Or{constructor(F,B){super(F),this.snapshot=B,co(this,F)}toString(){return this.snapshot.toString()}}function Ho(U,F){const B=function(U,F){const nt=new lo([],{},{},"",{},gi,F,null,U.root,-1,{});return new Ro("",new Oo(nt,[]))}(U,F),re=new we.X([new hi("",{})]),ce=new we.X({}),Re=new we.X({}),nt=new we.X({}),ct=new we.X(""),Pt=new qo(re,ce,nt,ct,Re,gi,F,B.root);return Pt.snapshot=B.root,new Eo(new Oo(Pt,[]),B)}class qo{constructor(F,B,re,ce,Re,nt,ct,Pt){this.url=F,this.params=B,this.queryParams=re,this.fragment=ce,this.data=Re,this.outlet=nt,this.component=ct,this._futureSnapshot=Pt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(F=>Oi(F)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(F=>Oi(F)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jr(U,F="emptyOnly"){const B=U.pathFromRoot;let re=0;if("always"!==F)for(re=B.length-1;re>=1;){const ce=B[re],Re=B[re-1];if(ce.routeConfig&&""===ce.routeConfig.path)re--;else{if(Re.component)break;re--}}return function(U){return U.reduce((F,B)=>({params:mn(mn({},F.params),B.params),data:mn(mn({},F.data),B.data),resolve:mn(mn({},F.resolve),B._resolvedData)}),{params:{},data:{},resolve:{}})}(B.slice(re))}class lo{constructor(F,B,re,ce,Re,nt,ct,Pt,xn,fi,Yn){this.url=F,this.params=B,this.queryParams=re,this.fragment=ce,this.data=Re,this.outlet=nt,this.component=ct,this.routeConfig=Pt,this._urlSegment=xn,this._lastPathIndex=fi,this._resolve=Yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(re=>re.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ro extends Or{constructor(F,B){super(B),this.url=F,co(this,B)}toString(){return _r(this._root)}}function co(U,F){F.value._routerState=U,F.children.forEach(B=>co(U,B))}function _r(U){const F=U.children.length>0?` { ${U.children.map(_r).join(", ")} } `:"";return`${U.value}${F}`}function Go(U){if(U.snapshot){const F=U.snapshot,B=U._futureSnapshot;U.snapshot=B,xt(F.queryParams,B.queryParams)||U.queryParams.next(B.queryParams),F.fragment!==B.fragment&&U.fragment.next(B.fragment),xt(F.params,B.params)||U.params.next(B.params),function(U,F){if(U.length!==F.length)return!1;for(let B=0;B<U.length;++B)if(!xt(U[B],F[B]))return!1;return!0}(F.url,B.url)||U.url.next(B.url),xt(F.data,B.data)||U.data.next(B.data)}else U.snapshot=U._futureSnapshot,U.data.next(U._futureSnapshot.data)}function Vr(U,F){const B=xt(U.params,F.params)&&function(U,F){return Ci(U,F)&&U.every((B,re)=>xt(B.parameters,F[re].parameters))}(U.url,F.url);return B&&!(!U.parent!=!F.parent)&&(!U.parent||Vr(U.parent,F.parent))}function Fs(U,F,B){if(B&&U.shouldReuseRoute(F.value,B.value.snapshot)){const re=B.value;re._futureSnapshot=F.value;const ce=function(U,F,B){return F.children.map(re=>{for(const ce of B.children)if(U.shouldReuseRoute(re.value,ce.value.snapshot))return Fs(U,re,ce);return Fs(U,re)})}(U,F,B);return new Oo(re,ce)}{if(U.shouldAttach(F.value)){const Re=U.retrieve(F.value);if(null!==Re){const nt=Re.route;return nt.value._futureSnapshot=F.value,nt.children=F.children.map(ct=>Fs(U,ct)),nt}}const re=function(U){return new qo(new we.X(U.url),new we.X(U.params),new we.X(U.queryParams),new we.X(U.fragment),new we.X(U.data),U.outlet,U.component,U)}(F.value),ce=F.children.map(Re=>Fs(U,Re));return new Oo(re,ce)}}function Ys(U){return"object"==typeof U&&null!=U&&!U.outlets&&!U.segmentPath}function Qs(U){return"object"==typeof U&&null!=U&&U.outlets}function za(U,F,B,re,ce){let Re={};return re&&Wn(re,(nt,ct)=>{Re[ct]=Array.isArray(nt)?nt.map(Pt=>`${Pt}`):`${nt}`}),new An(B.root===U?F:Mo(B.root,U,F),Re,ce)}function Mo(U,F,B){const re={};return Wn(U.children,(ce,Re)=>{re[Re]=ce===F?B:Mo(ce,F,B)}),new bn(U.segments,re)}class ns{constructor(F,B,re){if(this.isAbsolute=F,this.numberOfDoubleDots=B,this.commands=re,F&&re.length>0&&Ys(re[0]))throw new Error("Root segment cannot have matrix parameters");const ce=re.find(Qs);if(ce&&ce!==nn(re))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ls{constructor(F,B,re){this.segmentGroup=F,this.processChildren=B,this.index=re}}function Xs(U,F,B){if(U||(U=new bn([],{})),0===U.segments.length&&U.hasChildren())return ea(U,F,B);const re=function(U,F,B){let re=0,ce=F;const Re={match:!1,pathIndex:0,commandIndex:0};for(;ce<U.segments.length;){if(re>=B.length)return Re;const nt=U.segments[ce],ct=B[re];if(Qs(ct))break;const Pt=`${ct}`,xn=re<B.length-1?B[re+1]:null;if(ce>0&&void 0===Pt)break;if(Pt&&xn&&"object"==typeof xn&&void 0===xn.outlets){if(!cr(Pt,xn,nt))return Re;re+=2}else{if(!cr(Pt,{},nt))return Re;re++}ce++}return{match:!0,pathIndex:ce,commandIndex:re}}(U,F,B),ce=B.slice(re.commandIndex);if(re.match&&re.pathIndex<U.segments.length){const Re=new bn(U.segments.slice(0,re.pathIndex),{});return Re.children[gi]=new bn(U.segments.slice(re.pathIndex),U.children),ea(Re,0,ce)}return re.match&&0===ce.length?new bn(U.segments,{}):re.match&&!U.hasChildren()?Qi(U,F,B):re.match?ea(U,0,ce):Qi(U,F,B)}function ea(U,F,B){if(0===B.length)return new bn(U.segments,{});{const re=function(U){return Qs(U[0])?U[0].outlets:{[gi]:U}}(B),ce={};return Wn(re,(Re,nt)=>{"string"==typeof Re&&(Re=[Re]),null!==Re&&(ce[nt]=Xs(U.children[nt],F,Re))}),Wn(U.children,(Re,nt)=>{void 0===re[nt]&&(ce[nt]=Re)}),new bn(U.segments,ce)}}function Qi(U,F,B){const re=U.segments.slice(0,F);let ce=0;for(;ce<B.length;){const Re=B[ce];if(Qs(Re)){const Pt=xs(Re.outlets);return new bn(re,Pt)}if(0===ce&&Ys(B[0])){re.push(new hi(U.segments[F].path,Ji(B[0]))),ce++;continue}const nt=Qs(Re)?Re.outlets[gi]:`${Re}`,ct=ce<B.length-1?B[ce+1]:null;nt&&ct&&Ys(ct)?(re.push(new hi(nt,Ji(ct))),ce+=2):(re.push(new hi(nt,{})),ce++)}return new bn(re,{})}function xs(U){const F={};return Wn(U,(B,re)=>{"string"==typeof B&&(B=[B]),null!==B&&(F[re]=Qi(new bn([],{}),0,B))}),F}function Ji(U){const F={};return Wn(U,(B,re)=>F[re]=`${B}`),F}function cr(U,F,B){return U==B.path&&xt(F,B.parameters)}class js{constructor(F,B,re,ce){this.routeReuseStrategy=F,this.futureState=B,this.currState=re,this.forwardEvent=ce}activate(F){const B=this.futureState._root,re=this.currState?this.currState._root:null;this.deactivateChildRoutes(B,re,F),Go(this.futureState.root),this.activateChildRoutes(B,re,F)}deactivateChildRoutes(F,B,re){const ce=No(B);F.children.forEach(Re=>{const nt=Re.value.outlet;this.deactivateRoutes(Re,ce[nt],re),delete ce[nt]}),Wn(ce,(Re,nt)=>{this.deactivateRouteAndItsChildren(Re,re)})}deactivateRoutes(F,B,re){const ce=F.value,Re=B?B.value:null;if(ce===Re)if(ce.component){const nt=re.getContext(ce.outlet);nt&&this.deactivateChildRoutes(F,B,nt.children)}else this.deactivateChildRoutes(F,B,re);else Re&&this.deactivateRouteAndItsChildren(B,re)}deactivateRouteAndItsChildren(F,B){F.value.component&&this.routeReuseStrategy.shouldDetach(F.value.snapshot)?this.detachAndStoreRouteSubtree(F,B):this.deactivateRouteAndOutlet(F,B)}detachAndStoreRouteSubtree(F,B){const re=B.getContext(F.value.outlet),ce=re&&F.value.component?re.children:B,Re=No(F);for(const nt of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[nt],ce);if(re&&re.outlet){const nt=re.outlet.detach(),ct=re.children.onOutletDeactivated();this.routeReuseStrategy.store(F.value.snapshot,{componentRef:nt,route:F,contexts:ct})}}deactivateRouteAndOutlet(F,B){const re=B.getContext(F.value.outlet),ce=re&&F.value.component?re.children:B,Re=No(F);for(const nt of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[nt],ce);re&&re.outlet&&(re.outlet.deactivate(),re.children.onOutletDeactivated(),re.attachRef=null,re.resolver=null,re.route=null)}activateChildRoutes(F,B,re){const ce=No(B);F.children.forEach(Re=>{this.activateRoutes(Re,ce[Re.value.outlet],re),this.forwardEvent(new Bn(Re.value.snapshot))}),F.children.length&&this.forwardEvent(new Vi(F.value.snapshot))}activateRoutes(F,B,re){const ce=F.value,Re=B?B.value:null;if(Go(ce),ce===Re)if(ce.component){const nt=re.getOrCreateContext(ce.outlet);this.activateChildRoutes(F,B,nt.children)}else this.activateChildRoutes(F,B,re);else if(ce.component){const nt=re.getOrCreateContext(ce.outlet);if(this.routeReuseStrategy.shouldAttach(ce.snapshot)){const ct=this.routeReuseStrategy.retrieve(ce.snapshot);this.routeReuseStrategy.store(ce.snapshot,null),nt.children.onOutletReAttached(ct.contexts),nt.attachRef=ct.componentRef,nt.route=ct.route.value,nt.outlet&&nt.outlet.attach(ct.componentRef,ct.route.value),Go(ct.route.value),this.activateChildRoutes(F,null,nt.children)}else{const ct=function(U){for(let F=U.parent;F;F=F.parent){const B=F.routeConfig;if(B&&B._loadedConfig)return B._loadedConfig;if(B&&B.component)return null}return null}(ce.snapshot),Pt=ct?ct.module.componentFactoryResolver:null;nt.attachRef=null,nt.route=ce,nt.resolver=Pt,nt.outlet&&nt.outlet.activateWith(ce,Pt),this.activateChildRoutes(F,null,nt.children)}}else this.activateChildRoutes(F,null,re)}}class go{constructor(F,B){this.routes=F,this.module=B}}function $o(U){return"function"==typeof U}function Fo(U){return U instanceof An}const us=Symbol("INITIAL_VALUE");function kr(){return(0,tn.w)(U=>function(...U){let F,B;return(0,Ve.K)(U[U.length-1])&&(B=U.pop()),"function"==typeof U[U.length-1]&&(F=U.pop()),1===U.length&&(0,oe.k)(U[0])&&(U=U[0]),(0,ge.n)(U,B).lift(new ne(F))}(U.map(F=>F.pipe((0,Ht.q)(1),(0,zn.O)(us)))).pipe((0,oi.R)((F,B)=>{let re=!1;return B.reduce((ce,Re,nt)=>ce!==us?ce:(Re===us&&(re=!0),re||!1!==Re&&nt!==B.length-1&&!Fo(Re)?ce:Re),F)},us),(0,Bt.h)(F=>F!==us),(0,Ot.U)(F=>Fo(F)?F:!0===F),(0,Ht.q)(1)))}class ie{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new te,this.attachRef=null}}class te{constructor(){this.contexts=new Map}onChildOutletCreated(F,B){const re=this.getOrCreateContext(F);re.outlet=B,this.contexts.set(F,re)}onChildOutletDestroyed(F){const B=this.getContext(F);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const F=this.contexts;return this.contexts=new Map,F}onOutletReAttached(F){this.contexts=F}getOrCreateContext(F){let B=this.getContext(F);return B||(B=new ie,this.contexts.set(F,B)),B}getContext(F){return this.contexts.get(F)||null}}let je=(()=>{class U{constructor(B,re,ce,Re,nt){this.parentContexts=B,this.location=re,this.resolver=ce,this.changeDetector=nt,this.activated=null,this._activatedRoute=null,this.activateEvents=new P.vpe,this.deactivateEvents=new P.vpe,this.attachEvents=new P.vpe,this.detachEvents=new P.vpe,this.name=Re||gi,B.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const B=this.parentContexts.getContext(this.name);B&&B.route&&(B.attachRef?this.attach(B.attachRef,B.route):this.activateWith(B.route,B.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const B=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(B.instance),B}attach(B,re){this.activated=B,this._activatedRoute=re,this.location.insert(B.hostView),this.attachEvents.emit(B.instance)}deactivate(){if(this.activated){const B=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(B)}}activateWith(B,re){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=B;const nt=(re=re||this.resolver).resolveComponentFactory(B._futureSnapshot.routeConfig.component),ct=this.parentContexts.getOrCreateContext(this.name).children,Pt=new Xe(B,ct,this.location.injector);this.activated=this.location.createComponent(nt,this.location.length,Pt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return U.\u0275fac=function(B){return new(B||U)(P.Y36(te),P.Y36(P.s_b),P.Y36(P._Vd),P.$8M("name"),P.Y36(P.sBO))},U.\u0275dir=P.lG2({type:U,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),U})();class Xe{constructor(F,B,re){this.route=F,this.childContexts=B,this.parent=re}get(F,B){return F===qo?this.route:F===te?this.childContexts:this.parent.get(F,B)}}let V=(()=>{class U{}return U.\u0275fac=function(B){return new(B||U)},U.\u0275cmp=P.Xpm({type:U,selectors:[["ng-component"]],decls:1,vars:0,template:function(B,re){1&B&&P._UZ(0,"router-outlet")},directives:[je],encapsulation:2}),U})();function ue(U,F=""){for(let B=0;B<U.length;B++){const re=U[B];$(re,ve(F,re))}}function $(U,F){U.children&&ue(U.children,F)}function ve(U,F){return F?U||F.path?U&&!F.path?`${U}/`:!U&&F.path?F.path:`${U}/${F.path}`:"":U}function Ge(U){const F=U.children&&U.children.map(Ge),B=F?va(mn({},U),{children:F}):mn({},U);return!B.component&&(F||B.loadChildren)&&B.outlet&&B.outlet!==gi&&(B.component=V),B}function z(U){return U.outlet||gi}function q(U,F){const B=U.filter(re=>z(re)===F);return B.push(...U.filter(re=>z(re)!==F)),B}const G={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ce(U,F,B){var ct;if(""===F.path)return"full"===F.pathMatch&&(U.hasChildren()||B.length>0)?mn({},G):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ce=(F.matcher||mt)(B,U,F);if(!ce)return mn({},G);const Re={};Wn(ce.posParams,(Pt,xn)=>{Re[xn]=Pt.path});const nt=ce.consumed.length>0?mn(mn({},Re),ce.consumed[ce.consumed.length-1].parameters):Re;return{matched:!0,consumedSegments:ce.consumed,lastChild:ce.consumed.length,parameters:nt,positionalParamSegments:null!=(ct=ce.posParams)?ct:{}}}function kt(U,F,B,re,ce="corrected"){if(B.length>0&&function(U,F,B){return B.some(re=>Ri(U,F,re)&&z(re)!==gi)}(U,B,re)){const nt=new bn(F,function(U,F,B,re){const ce={};ce[gi]=re,re._sourceSegment=U,re._segmentIndexShift=F.length;for(const Re of B)if(""===Re.path&&z(Re)!==gi){const nt=new bn([],{});nt._sourceSegment=U,nt._segmentIndexShift=F.length,ce[z(Re)]=nt}return ce}(U,F,re,new bn(B,U.children)));return nt._sourceSegment=U,nt._segmentIndexShift=F.length,{segmentGroup:nt,slicedSegments:[]}}if(0===B.length&&function(U,F,B){return B.some(re=>Ri(U,F,re))}(U,B,re)){const nt=new bn(U.segments,function(U,F,B,re,ce,Re){const nt={};for(const ct of re)if(Ri(U,B,ct)&&!ce[z(ct)]){const Pt=new bn([],{});Pt._sourceSegment=U,Pt._segmentIndexShift="legacy"===Re?U.segments.length:F.length,nt[z(ct)]=Pt}return mn(mn({},ce),nt)}(U,F,B,re,U.children,ce));return nt._sourceSegment=U,nt._segmentIndexShift=F.length,{segmentGroup:nt,slicedSegments:B}}const Re=new bn(U.segments,U.children);return Re._sourceSegment=U,Re._segmentIndexShift=F.length,{segmentGroup:Re,slicedSegments:B}}function Ri(U,F,B){return(!(U.hasChildren()||F.length>0)||"full"!==B.pathMatch)&&""===B.path}function br(U,F,B,re){return!!(z(U)===re||re!==gi&&Ri(F,B,U))&&("**"===U.path||Ce(F,U,B).matched)}function uo(U,F,B){return 0===F.length&&!U.children[B]}class Mr{constructor(F){this.segmentGroup=F||null}}class ho{constructor(F){this.urlTree=F}}function vs(U){return new me.y(F=>F.error(new Mr(U)))}function ti(U){return new me.y(F=>F.error(new ho(U)))}function mo(U){return new me.y(F=>F.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${U}'`)))}class Mc{constructor(F,B,re,ce,Re){this.configLoader=B,this.urlSerializer=re,this.urlTree=ce,this.config=Re,this.allowRedirects=!0,this.ngModule=F.get(P.h0i)}apply(){const F=kt(this.urlTree.root,[],[],this.config).segmentGroup,B=new bn(F.segments,F.children);return this.expandSegmentGroup(this.ngModule,this.config,B,gi).pipe((0,Ot.U)(Re=>this.createUrlTree(Sl(Re),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,$n.K)(Re=>{if(Re instanceof ho)return this.allowRedirects=!1,this.match(Re.urlTree);throw Re instanceof Mr?this.noMatchError(Re):Re}))}match(F){return this.expandSegmentGroup(this.ngModule,this.config,F.root,gi).pipe((0,Ot.U)(ce=>this.createUrlTree(Sl(ce),F.queryParams,F.fragment))).pipe((0,$n.K)(ce=>{throw ce instanceof Mr?this.noMatchError(ce):ce}))}noMatchError(F){return new Error(`Cannot match any routes. URL Segment: '${F.segmentGroup}'`)}createUrlTree(F,B,re){const ce=F.segments.length>0?new bn([],{[gi]:F}):F;return new An(ce,B,re)}expandSegmentGroup(F,B,re,ce){return 0===re.segments.length&&re.hasChildren()?this.expandChildren(F,B,re).pipe((0,Ot.U)(Re=>new bn([],Re))):this.expandSegment(F,re,B,re.segments,ce,!0)}expandChildren(F,B,re){const ce=[];for(const Re of Object.keys(re.children))"primary"===Re?ce.unshift(Re):ce.push(Re);return(0,Ee.D)(ce).pipe((0,xi.b)(Re=>{const nt=re.children[Re],ct=q(B,Re);return this.expandSegmentGroup(F,ct,nt,Re).pipe((0,Ot.U)(Pt=>({segment:Pt,outlet:Re})))}),(0,oi.R)((Re,nt)=>(Re[nt.outlet]=nt.segment,Re),{}),function(U,F){const B=arguments.length>=2;return re=>re.pipe(U?(0,Bt.h)((ce,Re)=>U(ce,Re,re)):Ie.y,it(1),B?(0,Ze.d)(F):(0,Fe.T)(()=>new Ne.K))}())}expandSegment(F,B,re,ce,Re,nt){return(0,Ee.D)(re).pipe((0,xi.b)(ct=>this.expandSegmentAgainstRoute(F,B,re,ct,ce,Re,nt).pipe((0,$n.K)(xn=>{if(xn instanceof Mr)return(0,rt.of)(null);throw xn}))),(0,Zi.P)(ct=>!!ct),(0,$n.K)((ct,Pt)=>{if(ct instanceof Ne.K||"EmptyError"===ct.name){if(uo(B,ce,Re))return(0,rt.of)(new bn([],{}));throw new Mr(B)}throw ct}))}expandSegmentAgainstRoute(F,B,re,ce,Re,nt,ct){return br(ce,B,Re,nt)?void 0===ce.redirectTo?this.matchSegmentAgainstRoute(F,B,ce,Re,nt):ct&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(F,B,re,ce,Re,nt):vs(B):vs(B)}expandSegmentAgainstRouteUsingRedirect(F,B,re,ce,Re,nt){return"**"===ce.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(F,re,ce,nt):this.expandRegularSegmentAgainstRouteUsingRedirect(F,B,re,ce,Re,nt)}expandWildCardWithParamsAgainstRouteUsingRedirect(F,B,re,ce){const Re=this.applyRedirectCommands([],re.redirectTo,{});return re.redirectTo.startsWith("/")?ti(Re):this.lineralizeSegments(re,Re).pipe((0,Sr.zg)(nt=>{const ct=new bn(nt,{});return this.expandSegment(F,ct,B,nt,ce,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(F,B,re,ce,Re,nt){const{matched:ct,consumedSegments:Pt,lastChild:xn,positionalParamSegments:fi}=Ce(B,ce,Re);if(!ct)return vs(B);const Yn=this.applyRedirectCommands(Pt,ce.redirectTo,fi);return ce.redirectTo.startsWith("/")?ti(Yn):this.lineralizeSegments(ce,Yn).pipe((0,Sr.zg)(sr=>this.expandSegment(F,B,re,sr.concat(Re.slice(xn)),nt,!1)))}matchSegmentAgainstRoute(F,B,re,ce,Re){if("**"===re.path)return re.loadChildren?(re._loadedConfig?(0,rt.of)(re._loadedConfig):this.configLoader.load(F.injector,re)).pipe((0,Ot.U)(sr=>(re._loadedConfig=sr,new bn(ce,{})))):(0,rt.of)(new bn(ce,{}));const{matched:nt,consumedSegments:ct,lastChild:Pt}=Ce(B,re,ce);if(!nt)return vs(B);const xn=ce.slice(Pt);return this.getChildConfig(F,re,ce).pipe((0,Sr.zg)(Yn=>{const sr=Yn.module,On=Yn.routes,{segmentGroup:Il,slicedSegments:hs}=kt(B,ct,xn,On),ia=new bn(Il.segments,Il.children);if(0===hs.length&&ia.hasChildren())return this.expandChildren(sr,On,ia).pipe((0,Ot.U)(De=>new bn(ct,De)));if(0===On.length&&0===hs.length)return(0,rt.of)(new bn(ct,{}));const to=z(re)===Re;return this.expandSegment(sr,ia,On,hs,to?gi:Re,!0).pipe((0,Ot.U)(fs=>new bn(ct.concat(fs.segments),fs.children)))}))}getChildConfig(F,B,re){return B.children?(0,rt.of)(new go(B.children,F)):B.loadChildren?void 0!==B._loadedConfig?(0,rt.of)(B._loadedConfig):this.runCanLoadGuards(F.injector,B,re).pipe((0,Sr.zg)(ce=>{return ce?this.configLoader.load(F.injector,B).pipe((0,Ot.U)(Re=>(B._loadedConfig=Re,Re))):(U=B,new me.y(F=>F.error(tr(`Cannot load children because the guard of the route "path: '${U.path}'" returned false`))));var U})):(0,rt.of)(new go([],F))}runCanLoadGuards(F,B,re){const ce=B.canLoad;if(!ce||0===ce.length)return(0,rt.of)(!0);const Re=ce.map(nt=>{const ct=F.get(nt);let Pt;if((U=ct)&&$o(U.canLoad))Pt=ct.canLoad(B,re);else{if(!$o(ct))throw new Error("Invalid CanLoad guard");Pt=ct(B,re)}var U;return In(Pt)});return(0,rt.of)(Re).pipe(kr(),(0,Tn.b)(nt=>{if(!Fo(nt))return;const ct=tr(`Redirecting to "${this.urlSerializer.serialize(nt)}"`);throw ct.url=nt,ct}),(0,Ot.U)(nt=>!0===nt))}lineralizeSegments(F,B){let re=[],ce=B.root;for(;;){if(re=re.concat(ce.segments),0===ce.numberOfChildren)return(0,rt.of)(re);if(ce.numberOfChildren>1||!ce.children[gi])return mo(F.redirectTo);ce=ce.children[gi]}}applyRedirectCommands(F,B,re){return this.applyRedirectCreatreUrlTree(B,this.urlSerializer.parse(B),F,re)}applyRedirectCreatreUrlTree(F,B,re,ce){const Re=this.createSegmentGroup(F,B.root,re,ce);return new An(Re,this.createQueryParams(B.queryParams,this.urlTree.queryParams),B.fragment)}createQueryParams(F,B){const re={};return Wn(F,(ce,Re)=>{if("string"==typeof ce&&ce.startsWith(":")){const ct=ce.substring(1);re[Re]=B[ct]}else re[Re]=ce}),re}createSegmentGroup(F,B,re,ce){const Re=this.createSegments(F,B.segments,re,ce);let nt={};return Wn(B.children,(ct,Pt)=>{nt[Pt]=this.createSegmentGroup(F,ct,re,ce)}),new bn(Re,nt)}createSegments(F,B,re,ce){return B.map(Re=>Re.path.startsWith(":")?this.findPosParam(F,Re,ce):this.findOrReturn(Re,re))}findPosParam(F,B,re){const ce=re[B.path.substring(1)];if(!ce)throw new Error(`Cannot redirect to '${F}'. Cannot find '${B.path}'.`);return ce}findOrReturn(F,B){let re=0;for(const ce of B){if(ce.path===F.path)return B.splice(re),ce;re++}return F}}function Sl(U){const F={};for(const re of Object.keys(U.children)){const Re=Sl(U.children[re]);(Re.segments.length>0||Re.hasChildren())&&(F[re]=Re)}return function(U){if(1===U.numberOfChildren&&U.children[gi]){const F=U.children[gi];return new bn(U.segments.concat(F.segments),F.children)}return U}(new bn(U.segments,F))}class an{constructor(F){this.path=F,this.route=this.path[this.path.length-1]}}class Di{constructor(F,B){this.component=F,this.route=B}}function ul(U,F,B){const re=U._root;return Ms(re,F?F._root:null,B,[re.value])}function Ra(U,F,B){const re=function(U){if(!U)return null;for(let F=U.parent;F;F=F.parent){const B=F.routeConfig;if(B&&B._loadedConfig)return B._loadedConfig}return null}(F);return(re?re.module.injector:B).get(U)}function Ms(U,F,B,re,ce={canDeactivateChecks:[],canActivateChecks:[]}){const Re=No(F);return U.children.forEach(nt=>{(function(U,F,B,re,ce={canDeactivateChecks:[],canActivateChecks:[]}){const Re=U.value,nt=F?F.value:null,ct=B?B.getContext(U.value.outlet):null;if(nt&&Re.routeConfig===nt.routeConfig){const Pt=function(U,F,B){if("function"==typeof B)return B(U,F);switch(B){case"pathParamsChange":return!Ci(U.url,F.url);case"pathParamsOrQueryParamsChange":return!Ci(U.url,F.url)||!xt(U.queryParams,F.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vr(U,F)||!xt(U.queryParams,F.queryParams);default:return!Vr(U,F)}}(nt,Re,Re.routeConfig.runGuardsAndResolvers);Pt?ce.canActivateChecks.push(new an(re)):(Re.data=nt.data,Re._resolvedData=nt._resolvedData),Ms(U,F,Re.component?ct?ct.children:null:B,re,ce),Pt&&ct&&ct.outlet&&ct.outlet.isActivated&&ce.canDeactivateChecks.push(new Di(ct.outlet.component,nt))}else nt&&hl(F,ct,ce),ce.canActivateChecks.push(new an(re)),Ms(U,null,Re.component?ct?ct.children:null:B,re,ce)})(nt,Re[nt.value.outlet],B,re.concat([nt.value]),ce),delete Re[nt.value.outlet]}),Wn(Re,(nt,ct)=>hl(nt,B.getContext(ct),ce)),ce}function hl(U,F,B){const re=No(U),ce=U.value;Wn(re,(Re,nt)=>{hl(Re,ce.component?F?F.children.getContext(nt):null:F,B)}),B.canDeactivateChecks.push(new Di(ce.component&&F&&F.outlet&&F.outlet.isActivated?F.outlet.component:null,ce))}class Gl{}function Ua(U){return new me.y(F=>F.error(U))}class pl{constructor(F,B,re,ce,Re,nt){this.rootComponentType=F,this.config=B,this.urlTree=re,this.url=ce,this.paramsInheritanceStrategy=Re,this.relativeLinkResolution=nt}recognize(){const F=kt(this.urlTree.root,[],[],this.config.filter(nt=>void 0===nt.redirectTo),this.relativeLinkResolution).segmentGroup,B=this.processSegmentGroup(this.config,F,gi);if(null===B)return null;const re=new lo([],Object.freeze({}),Object.freeze(mn({},this.urlTree.queryParams)),this.urlTree.fragment,{},gi,this.rootComponentType,null,this.urlTree.root,-1,{}),ce=new Oo(re,B),Re=new Ro(this.url,ce);return this.inheritParamsAndData(Re._root),Re}inheritParamsAndData(F){const B=F.value,re=Jr(B,this.paramsInheritanceStrategy);B.params=Object.freeze(re.params),B.data=Object.freeze(re.data),F.children.forEach(ce=>this.inheritParamsAndData(ce))}processSegmentGroup(F,B,re){return 0===B.segments.length&&B.hasChildren()?this.processChildren(F,B):this.processSegment(F,B,B.segments,re)}processChildren(F,B){const re=[];for(const Re of Object.keys(B.children)){const nt=B.children[Re],ct=q(F,Re),Pt=this.processSegmentGroup(ct,nt,Re);if(null===Pt)return null;re.push(...Pt)}const ce=Y(re);return ce.sort((F,B)=>F.value.outlet===gi?-1:B.value.outlet===gi?1:F.value.outlet.localeCompare(B.value.outlet)),ce}processSegment(F,B,re,ce){for(const Re of F){const nt=this.processSegmentAgainstRoute(Re,B,re,ce);if(null!==nt)return nt}return uo(B,re,ce)?[]:null}processSegmentAgainstRoute(F,B,re,ce){if(F.redirectTo||!br(F,B,re,ce))return null;let Re,nt=[],ct=[];if("**"===F.path){const On=re.length>0?nn(re).parameters:{};Re=new lo(re,On,Object.freeze(mn({},this.urlTree.queryParams)),this.urlTree.fragment,ft(F),z(F),F.component,F,ze(B),tt(B)+re.length,St(F))}else{const On=Ce(B,F,re);if(!On.matched)return null;nt=On.consumedSegments,ct=re.slice(On.lastChild),Re=new lo(nt,On.parameters,Object.freeze(mn({},this.urlTree.queryParams)),this.urlTree.fragment,ft(F),z(F),F.component,F,ze(B),tt(B)+nt.length,St(F))}const Pt=(U=F).children?U.children:U.loadChildren?U._loadedConfig.routes:[],{segmentGroup:xn,slicedSegments:fi}=kt(B,nt,ct,Pt.filter(On=>void 0===On.redirectTo),this.relativeLinkResolution);var U;if(0===fi.length&&xn.hasChildren()){const On=this.processChildren(Pt,xn);return null===On?null:[new Oo(Re,On)]}if(0===Pt.length&&0===fi.length)return[new Oo(Re,[])];const Yn=z(F)===ce,sr=this.processSegment(Pt,xn,fi,Yn?gi:ce);return null===sr?null:[new Oo(Re,sr)]}}function N(U){const F=U.value.routeConfig;return F&&""===F.path&&void 0===F.redirectTo}function Y(U){const F=[],B=new Set;for(const re of U){if(!N(re)){F.push(re);continue}const ce=F.find(Re=>re.value.routeConfig===Re.value.routeConfig);void 0!==ce?(ce.children.push(...re.children),B.add(ce)):F.push(re)}for(const re of B){const ce=Y(re.children);F.push(new Oo(re.value,ce))}return F.filter(re=>!B.has(re))}function ze(U){let F=U;for(;F._sourceSegment;)F=F._sourceSegment;return F}function tt(U){let F=U,B=F._segmentIndexShift?F._segmentIndexShift:0;for(;F._sourceSegment;)F=F._sourceSegment,B+=F._segmentIndexShift?F._segmentIndexShift:0;return B-1}function ft(U){return U.data||{}}function St(U){return U.resolve||{}}function vt(U){return(0,tn.w)(F=>{const B=U(F);return B?(0,Ee.D)(B).pipe((0,Ot.U)(()=>F)):(0,rt.of)(F)})}class mi extends class{shouldDetach(F){return!1}store(F,B){}shouldAttach(F){return!1}retrieve(F){return null}shouldReuseRoute(F,B){return F.routeConfig===B.routeConfig}}{}const vi=new P.OlP("ROUTES");class yi{constructor(F,B,re,ce){this.injector=F,this.compiler=B,this.onLoadStartListener=re,this.onLoadEndListener=ce}load(F,B){if(B._loader$)return B._loader$;this.onLoadStartListener&&this.onLoadStartListener(B);const ce=this.loadModuleFactory(B.loadChildren).pipe((0,Ot.U)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(B);const nt=Re.create(F);return new go(Et(nt.injector.get(vi,void 0,P.XFs.Self|P.XFs.Optional)).map(Ge),nt)}),(0,$n.K)(Re=>{throw B._loader$=void 0,Re}));return B._loader$=new dt.c(ce,()=>new Jt.xQ).pipe((0,Hr.x)()),B._loader$}loadModuleFactory(F){return In(F()).pipe((0,Sr.zg)(B=>B instanceof P.YKP?(0,rt.of)(B):(0,Ee.D)(this.compiler.compileModuleAsync(B))))}}class Us{shouldProcessUrl(F){return!0}extract(F){return F}merge(F,B){return F}}function To(U){throw U}function eo(U,F,B){return F.parse("/")}function ys(U,F){return(0,rt.of)(null)}const si={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ws={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{class U{constructor(B,re,ce,Re,nt,ct,Pt){this.rootComponentType=B,this.urlSerializer=re,this.rootContexts=ce,this.location=Re,this.config=Pt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Jt.xQ,this.errorHandler=To,this.malformedUriErrorHandler=eo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ys,afterPreactivation:ys},this.urlHandlingStrategy=new Us,this.routeReuseStrategy=new mi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=nt.get(P.h0i),this.console=nt.get(P.c2e);const Yn=nt.get(P.R0b);this.isNgZoneEnabled=Yn instanceof P.R0b&&P.R0b.isInAngularZone(),this.resetConfig(Pt),this.currentUrlTree=new An(new bn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yi(nt,ct,sr=>this.triggerEvent(new Pr(sr)),sr=>this.triggerEvent(new vo(sr))),this.routerState=Ho(this.currentUrlTree,this.rootComponentType),this.transitions=new we.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var B;return null==(B=this.location.getState())?void 0:B.\u0275routerPageId}setupNavigations(B){const re=this.events;return B.pipe((0,Bt.h)(ce=>0!==ce.id),(0,Ot.U)(ce=>va(mn({},ce),{extractedUrl:this.urlHandlingStrategy.extract(ce.rawUrl)})),(0,tn.w)(ce=>{let Re=!1,nt=!1;return(0,rt.of)(ce).pipe((0,Tn.b)(ct=>{this.currentNavigation={id:ct.id,initialUrl:ct.currentRawUrl,extractedUrl:ct.extractedUrl,trigger:ct.source,extras:ct.extras,previousNavigation:this.lastSuccessfulNavigation?va(mn({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,tn.w)(ct=>{const Pt=this.browserUrlTree.toString(),xn=!this.navigated||ct.extractedUrl.toString()!==Pt||Pt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||xn)&&this.urlHandlingStrategy.shouldProcessUrl(ct.rawUrl))return Zo(ct.source)&&(this.browserUrlTree=ct.extractedUrl),(0,rt.of)(ct).pipe((0,tn.w)(Yn=>{const sr=this.transitions.getValue();return re.next(new wn(Yn.id,this.serializeUrl(Yn.extractedUrl),Yn.source,Yn.restoredState)),sr!==this.transitions.getValue()?Ke.E:Promise.resolve(Yn)}),function(U,F,B,re){return(0,tn.w)(ce=>function(U,F,B,re,ce){return new Mc(U,F,B,re,ce).apply()}(U,F,B,ce.extractedUrl,re).pipe((0,Ot.U)(Re=>va(mn({},ce),{urlAfterRedirects:Re}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Tn.b)(Yn=>{this.currentNavigation=va(mn({},this.currentNavigation),{finalUrl:Yn.urlAfterRedirects})}),function(U,F,B,re,ce){return(0,Sr.zg)(Re=>function(U,F,B,re,ce="emptyOnly",Re="legacy"){try{const nt=new pl(U,F,B,re,ce,Re).recognize();return null===nt?Ua(new Gl):(0,rt.of)(nt)}catch(nt){return Ua(nt)}}(U,F,Re.urlAfterRedirects,B(Re.urlAfterRedirects),re,ce).pipe((0,Ot.U)(nt=>va(mn({},Re),{targetSnapshot:nt}))))}(this.rootComponentType,this.config,Yn=>this.serializeUrl(Yn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Tn.b)(Yn=>{if("eager"===this.urlUpdateStrategy){if(!Yn.extras.skipLocationChange){const On=this.urlHandlingStrategy.merge(Yn.urlAfterRedirects,Yn.rawUrl);this.setBrowserUrl(On,Yn)}this.browserUrlTree=Yn.urlAfterRedirects}const sr=new pi(Yn.id,this.serializeUrl(Yn.extractedUrl),this.serializeUrl(Yn.urlAfterRedirects),Yn.targetSnapshot);re.next(sr)}));if(xn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:sr,extractedUrl:On,source:Il,restoredState:hs,extras:ia}=ct,to=new wn(sr,this.serializeUrl(On),Il,hs);re.next(to);const cn=Ho(On,this.rootComponentType).snapshot;return(0,rt.of)(va(mn({},ct),{targetSnapshot:cn,urlAfterRedirects:On,extras:va(mn({},ia),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ct.rawUrl,ct.resolve(null),Ke.E}),vt(ct=>{const{targetSnapshot:Pt,id:xn,extractedUrl:fi,rawUrl:Yn,extras:{skipLocationChange:sr,replaceUrl:On}}=ct;return this.hooks.beforePreactivation(Pt,{navigationId:xn,appliedUrlTree:fi,rawUrlTree:Yn,skipLocationChange:!!sr,replaceUrl:!!On})}),(0,Tn.b)(ct=>{const Pt=new Mi(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);this.triggerEvent(Pt)}),(0,Ot.U)(ct=>va(mn({},ct),{guards:ul(ct.targetSnapshot,ct.currentSnapshot,this.rootContexts)})),function(U,F){return(0,Sr.zg)(B=>{const{targetSnapshot:re,currentSnapshot:ce,guards:{canActivateChecks:Re,canDeactivateChecks:nt}}=B;return 0===nt.length&&0===Re.length?(0,rt.of)(va(mn({},B),{guardsResult:!0})):function(U,F,B,re){return(0,Ee.D)(U).pipe((0,Sr.zg)(ce=>function(U,F,B,re,ce){const Re=F&&F.routeConfig?F.routeConfig.canDeactivate:null;if(!Re||0===Re.length)return(0,rt.of)(!0);const nt=Re.map(ct=>{const Pt=Ra(ct,F,ce);let xn;if(function(U){return U&&$o(U.canDeactivate)}(Pt))xn=In(Pt.canDeactivate(U,F,B,re));else{if(!$o(Pt))throw new Error("Invalid CanDeactivate guard");xn=In(Pt(U,F,B,re))}return xn.pipe((0,Zi.P)())});return(0,rt.of)(nt).pipe(kr())}(ce.component,ce.route,B,F,re)),(0,Zi.P)(ce=>!0!==ce,!0))}(nt,re,ce,U).pipe((0,Sr.zg)(ct=>ct&&function(U){return"boolean"==typeof U}(ct)?function(U,F,B,re){return(0,Ee.D)(F).pipe((0,xi.b)(ce=>(0,At.z)(function(U,F){return null!==U&&F&&F(new oo(U)),(0,rt.of)(!0)}(ce.route.parent,re),function(U,F){return null!==U&&F&&F(new Vn(U)),(0,rt.of)(!0)}(ce.route,re),function(U,F,B){const re=F[F.length-1],Re=F.slice(0,F.length-1).reverse().map(nt=>function(U){const F=U.routeConfig?U.routeConfig.canActivateChild:null;return F&&0!==F.length?{node:U,guards:F}:null}(nt)).filter(nt=>null!==nt).map(nt=>yt(()=>{const ct=nt.guards.map(Pt=>{const xn=Ra(Pt,nt.node,B);let fi;if(function(U){return U&&$o(U.canActivateChild)}(xn))fi=In(xn.canActivateChild(re,U));else{if(!$o(xn))throw new Error("Invalid CanActivateChild guard");fi=In(xn(re,U))}return fi.pipe((0,Zi.P)())});return(0,rt.of)(ct).pipe(kr())}));return(0,rt.of)(Re).pipe(kr())}(U,ce.path,B),function(U,F,B){const re=F.routeConfig?F.routeConfig.canActivate:null;if(!re||0===re.length)return(0,rt.of)(!0);const ce=re.map(Re=>yt(()=>{const nt=Ra(Re,F,B);let ct;if(function(U){return U&&$o(U.canActivate)}(nt))ct=In(nt.canActivate(F,U));else{if(!$o(nt))throw new Error("Invalid CanActivate guard");ct=In(nt(F,U))}return ct.pipe((0,Zi.P)())}));return(0,rt.of)(ce).pipe(kr())}(U,ce.route,B))),(0,Zi.P)(ce=>!0!==ce,!0))}(re,Re,U,F):(0,rt.of)(ct)),(0,Ot.U)(ct=>va(mn({},B),{guardsResult:ct})))})}(this.ngModule.injector,ct=>this.triggerEvent(ct)),(0,Tn.b)(ct=>{if(Fo(ct.guardsResult)){const xn=tr(`Redirecting to "${this.serializeUrl(ct.guardsResult)}"`);throw xn.url=ct.guardsResult,xn}const Pt=new Ai(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot,!!ct.guardsResult);this.triggerEvent(Pt)}),(0,Bt.h)(ct=>!!ct.guardsResult||(this.restoreHistory(ct),this.cancelNavigationTransition(ct,""),!1)),vt(ct=>{if(ct.guards.canActivateChecks.length)return(0,rt.of)(ct).pipe((0,Tn.b)(Pt=>{const xn=new Vo(Pt.id,this.serializeUrl(Pt.extractedUrl),this.serializeUrl(Pt.urlAfterRedirects),Pt.targetSnapshot);this.triggerEvent(xn)}),(0,tn.w)(Pt=>{let xn=!1;return(0,rt.of)(Pt).pipe(function(U,F){return(0,Sr.zg)(B=>{const{targetSnapshot:re,guards:{canActivateChecks:ce}}=B;if(!ce.length)return(0,rt.of)(B);let Re=0;return(0,Ee.D)(ce).pipe((0,xi.b)(nt=>function(U,F,B,re){return function(U,F,B,re){const ce=Object.keys(U);if(0===ce.length)return(0,rt.of)({});const Re={};return(0,Ee.D)(ce).pipe((0,Sr.zg)(nt=>function(U,F,B,re){const ce=Ra(U,F,re);return In(ce.resolve?ce.resolve(F,B):ce(F,B))}(U[nt],F,B,re).pipe((0,Tn.b)(ct=>{Re[nt]=ct}))),it(1),(0,Sr.zg)(()=>Object.keys(Re).length===ce.length?(0,rt.of)(Re):Ke.E))}(U._resolve,U,F,re).pipe((0,Ot.U)(Re=>(U._resolvedData=Re,U.data=mn(mn({},U.data),Jr(U,B).resolve),null)))}(nt.route,re,U,F)),(0,Tn.b)(()=>Re++),it(1),(0,Sr.zg)(nt=>Re===ce.length?(0,rt.of)(B):Ke.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Tn.b)({next:()=>xn=!0,complete:()=>{xn||(this.restoreHistory(Pt),this.cancelNavigationTransition(Pt,"At least one route resolver didn't emit any value."))}}))}),(0,Tn.b)(Pt=>{const xn=new Sn(Pt.id,this.serializeUrl(Pt.extractedUrl),this.serializeUrl(Pt.urlAfterRedirects),Pt.targetSnapshot);this.triggerEvent(xn)}))}),vt(ct=>{const{targetSnapshot:Pt,id:xn,extractedUrl:fi,rawUrl:Yn,extras:{skipLocationChange:sr,replaceUrl:On}}=ct;return this.hooks.afterPreactivation(Pt,{navigationId:xn,appliedUrlTree:fi,rawUrlTree:Yn,skipLocationChange:!!sr,replaceUrl:!!On})}),(0,Ot.U)(ct=>{const Pt=function(U,F,B){const re=Fs(U,F._root,B?B._root:void 0);return new Eo(re,F)}(this.routeReuseStrategy,ct.targetSnapshot,ct.currentRouterState);return va(mn({},ct),{targetRouterState:Pt})}),(0,Tn.b)(ct=>{this.currentUrlTree=ct.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ct.urlAfterRedirects,ct.rawUrl),this.routerState=ct.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ct.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ct),this.browserUrlTree=ct.urlAfterRedirects)}),((U,F,B)=>(0,Ot.U)(re=>(new js(F,re.targetRouterState,re.currentRouterState,B).activate(U),re)))(this.rootContexts,this.routeReuseStrategy,ct=>this.triggerEvent(ct)),(0,Tn.b)({next(){Re=!0},complete(){Re=!0}}),function(U){return F=>F.lift(new Vt(U))}(()=>{var ct;Re||nt||this.cancelNavigationTransition(ce,`Navigation ID ${ce.id} is not equal to the current navigation id ${this.navigationId}`),(null==(ct=this.currentNavigation)?void 0:ct.id)===ce.id&&(this.currentNavigation=null)}),(0,$n.K)(ct=>{if(nt=!0,function(U){return U&&U[Ni]}(ct)){const Pt=Fo(ct.url);Pt||(this.navigated=!0,this.restoreHistory(ce,!0));const xn=new Jn(ce.id,this.serializeUrl(ce.extractedUrl),ct.message);re.next(xn),Pt?setTimeout(()=>{const fi=this.urlHandlingStrategy.merge(ct.url,this.rawUrlTree),Yn={skipLocationChange:ce.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zo(ce.source)};this.scheduleNavigation(fi,"imperative",null,Yn,{resolve:ce.resolve,reject:ce.reject,promise:ce.promise})},0):ce.resolve(!1)}else{this.restoreHistory(ce,!0);const Pt=new di(ce.id,this.serializeUrl(ce.extractedUrl),ct);re.next(Pt);try{ce.resolve(this.errorHandler(ct))}catch(xn){ce.reject(xn)}}return Ke.E}))}))}resetRootComponentType(B){this.rootComponentType=B,this.routerState.root.component=this.rootComponentType}setTransition(B){this.transitions.next(mn(mn({},this.transitions.value),B))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(B=>{const re="popstate"===B.type?"popstate":"hashchange";"popstate"===re&&setTimeout(()=>{var ct;const ce={replaceUrl:!0},Re=(null==(ct=B.state)?void 0:ct.navigationId)?B.state:null;if(Re){const Pt=mn({},Re);delete Pt.navigationId,delete Pt.\u0275routerPageId,0!==Object.keys(Pt).length&&(ce.state=Pt)}const nt=this.parseUrl(B.url);this.scheduleNavigation(nt,re,Re,ce)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(B){this.events.next(B)}resetConfig(B){ue(B),this.config=B.map(Ge),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(B,re={}){const{relativeTo:ce,queryParams:Re,fragment:nt,queryParamsHandling:ct,preserveFragment:Pt}=re,xn=ce||this.routerState.root,fi=Pt?this.currentUrlTree.fragment:nt;let Yn=null;switch(ct){case"merge":Yn=mn(mn({},this.currentUrlTree.queryParams),Re);break;case"preserve":Yn=this.currentUrlTree.queryParams;break;default:Yn=Re||null}return null!==Yn&&(Yn=this.removeEmptyProps(Yn)),function(U,F,B,re,ce){if(0===B.length)return za(F.root,F.root,F,re,ce);const Re=function(U){if("string"==typeof U[0]&&1===U.length&&"/"===U[0])return new ns(!0,0,U);let F=0,B=!1;const re=U.reduce((ce,Re,nt)=>{if("object"==typeof Re&&null!=Re){if(Re.outlets){const ct={};return Wn(Re.outlets,(Pt,xn)=>{ct[xn]="string"==typeof Pt?Pt.split("/"):Pt}),[...ce,{outlets:ct}]}if(Re.segmentPath)return[...ce,Re.segmentPath]}return"string"!=typeof Re?[...ce,Re]:0===nt?(Re.split("/").forEach((ct,Pt)=>{0==Pt&&"."===ct||(0==Pt&&""===ct?B=!0:".."===ct?F++:""!=ct&&ce.push(ct))}),ce):[...ce,Re]},[]);return new ns(B,F,re)}(B);if(Re.toRoot())return za(F.root,new bn([],{}),F,re,ce);const nt=function(U,F,B){if(U.isAbsolute)return new Ls(F.root,!0,0);if(-1===B.snapshot._lastPathIndex){const Re=B.snapshot._urlSegment;return new Ls(Re,Re===F.root,0)}const re=Ys(U.commands[0])?0:1;return function(U,F,B){let re=U,ce=F,Re=B;for(;Re>ce;){if(Re-=ce,re=re.parent,!re)throw new Error("Invalid number of '../'");ce=re.segments.length}return new Ls(re,!1,ce-Re)}(B.snapshot._urlSegment,B.snapshot._lastPathIndex+re,U.numberOfDoubleDots)}(Re,F,U),ct=nt.processChildren?ea(nt.segmentGroup,nt.index,Re.commands):Xs(nt.segmentGroup,nt.index,Re.commands);return za(nt.segmentGroup,ct,F,re,ce)}(xn,this.currentUrlTree,B,Yn,null!=fi?fi:null)}navigateByUrl(B,re={skipLocationChange:!1}){const ce=Fo(B)?B:this.parseUrl(B),Re=this.urlHandlingStrategy.merge(ce,this.rawUrlTree);return this.scheduleNavigation(Re,"imperative",null,re)}navigate(B,re={skipLocationChange:!1}){return function(U){for(let F=0;F<U.length;F++){const B=U[F];if(null==B)throw new Error(`The requested path contains ${B} segment at index ${F}`)}}(B),this.navigateByUrl(this.createUrlTree(B,re),re)}serializeUrl(B){return this.urlSerializer.serialize(B)}parseUrl(B){let re;try{re=this.urlSerializer.parse(B)}catch(ce){re=this.malformedUriErrorHandler(ce,this.urlSerializer,B)}return re}isActive(B,re){let ce;if(ce=!0===re?mn({},si):!1===re?mn({},ws):re,Fo(B))return Qr(this.currentUrlTree,B,ce);const Re=this.parseUrl(B);return Qr(this.currentUrlTree,Re,ce)}removeEmptyProps(B){return Object.keys(B).reduce((re,ce)=>{const Re=B[ce];return null!=Re&&(re[ce]=Re),re},{})}processNavigations(){this.navigations.subscribe(B=>{this.navigated=!0,this.lastSuccessfulId=B.id,this.currentPageId=B.targetPageId,this.events.next(new ci(B.id,this.serializeUrl(B.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,B.resolve(!0)},B=>{this.console.warn(`Unhandled Navigation Error: ${B}`)})}scheduleNavigation(B,re,ce,Re,nt){var to,cn,fs;if(this.disposed)return Promise.resolve(!1);const ct=this.transitions.value,Pt=Zo(re)&&ct&&!Zo(ct.source),xn=ct.rawUrl.toString()===B.toString(),fi=ct.id===(null==(to=this.currentNavigation)?void 0:to.id);if(Pt&&xn&&fi)return Promise.resolve(!0);let sr,On,Il;nt?(sr=nt.resolve,On=nt.reject,Il=nt.promise):Il=new Promise((De,qa)=>{sr=De,On=qa});const hs=++this.navigationId;let ia;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(ce=this.location.getState()),ia=ce&&ce.\u0275routerPageId?ce.\u0275routerPageId:Re.replaceUrl||Re.skipLocationChange?null!=(cn=this.browserPageId)?cn:0:(null!=(fs=this.browserPageId)?fs:0)+1):ia=0,this.setTransition({id:hs,targetPageId:ia,source:re,restoredState:ce,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:B,extras:Re,resolve:sr,reject:On,promise:Il,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Il.catch(De=>Promise.reject(De))}setBrowserUrl(B,re){const ce=this.urlSerializer.serialize(B),Re=mn(mn({},re.extras.state),this.generateNgRouterState(re.id,re.targetPageId));this.location.isCurrentPathEqualTo(ce)||re.extras.replaceUrl?this.location.replaceState(ce,"",Re):this.location.go(ce,"",Re)}restoreHistory(B,re=!1){var ce,Re;if("computed"===this.canceledNavigationResolution){const nt=this.currentPageId-B.targetPageId;"popstate"!==B.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(ce=this.currentNavigation)?void 0:ce.finalUrl)||0===nt?this.currentUrlTree===(null==(Re=this.currentNavigation)?void 0:Re.finalUrl)&&0===nt&&(this.resetState(B),this.browserUrlTree=B.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(nt)}else"replace"===this.canceledNavigationResolution&&(re&&this.resetState(B),this.resetUrlToCurrentUrlTree())}resetState(B){this.routerState=B.currentRouterState,this.currentUrlTree=B.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,B.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(B,re){const ce=new Jn(B.id,this.serializeUrl(B.extractedUrl),re);this.triggerEvent(ce),B.resolve(!1)}generateNgRouterState(B,re){return"computed"===this.canceledNavigationResolution?{navigationId:B,\u0275routerPageId:re}:{navigationId:B}}}return U.\u0275fac=function(B){P.$Z()},U.\u0275prov=P.Yz7({token:U,factory:U.\u0275fac}),U})();function Zo(U){return"imperative"!==U}let fa=(()=>{class U{constructor(B,re,ce,Re,nt){this.router=B,this.route=re,this.tabIndexAttribute=ce,this.renderer=Re,this.el=nt,this.commands=null,this.onChanges=new Jt.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(B){if(null!=this.tabIndexAttribute)return;const re=this.renderer,ce=this.el.nativeElement;null!==B?re.setAttribute(ce,"tabindex",B):re.removeAttribute(ce,"tabindex")}ngOnChanges(B){this.onChanges.next(this)}set routerLink(B){null!=B?(this.commands=Array.isArray(B)?B:[B],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const B={skipLocationChange:Pn(this.skipLocationChange),replaceUrl:Pn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,B),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pn(this.preserveFragment)})}}return U.\u0275fac=function(B){return new(B||U)(P.Y36(Hi),P.Y36(qo),P.$8M("tabindex"),P.Y36(P.Qsj),P.Y36(P.SBq))},U.\u0275dir=P.lG2({type:U,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(B,re){1&B&&P.NdJ("click",function(){return re.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[P.TTD]}),U})(),Rr=(()=>{class U{constructor(B,re,ce){this.router=B,this.route=re,this.locationStrategy=ce,this.commands=null,this.href=null,this.onChanges=new Jt.xQ,this.subscription=B.events.subscribe(Re=>{Re instanceof ci&&this.updateTargetUrlAndHref()})}set routerLink(B){this.commands=null!=B?Array.isArray(B)?B:[B]:null}ngOnChanges(B){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(B,re,ce,Re,nt){if(0!==B||re||ce||Re||nt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ct={skipLocationChange:Pn(this.skipLocationChange),replaceUrl:Pn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ct),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pn(this.preserveFragment)})}}return U.\u0275fac=function(B){return new(B||U)(P.Y36(Hi),P.Y36(qo),P.Y36(m.S$))},U.\u0275dir=P.lG2({type:U,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(B,re){1&B&&P.NdJ("click",function(Re){return re.onClick(Re.button,Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey)}),2&B&&P.uIk("target",re.target)("href",re.href,P.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[P.TTD]}),U})();function Pn(U){return""===U||!!U}let Kn=(()=>{class U{constructor(B,re,ce,Re,nt,ct){this.router=B,this.element=re,this.renderer=ce,this.cdr=Re,this.link=nt,this.linkWithHref=ct,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new P.vpe,this.routerEventsSubscription=B.events.subscribe(Pt=>{Pt instanceof ci&&this.update()})}ngAfterContentInit(){(0,rt.of)(this.links.changes,this.linksWithHrefs.changes,(0,rt.of)(null)).pipe((0,Ir.J)()).subscribe(B=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var re;null==(re=this.linkInputChangesSubscription)||re.unsubscribe();const B=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(ce=>!!ce).map(ce=>ce.onChanges);this.linkInputChangesSubscription=(0,Ee.D)(B).pipe((0,Ir.J)()).subscribe(ce=>{this.isActive!==this.isLinkActive(this.router)(ce)&&this.update()})}set routerLinkActive(B){const re=Array.isArray(B)?B:B.split(" ");this.classes=re.filter(ce=>!!ce)}ngOnChanges(B){this.update()}ngOnDestroy(){var B;this.routerEventsSubscription.unsubscribe(),null==(B=this.linkInputChangesSubscription)||B.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const B=this.hasActiveLinks();this.isActive!==B&&(this.isActive=B,this.cdr.markForCheck(),this.classes.forEach(re=>{B?this.renderer.addClass(this.element.nativeElement,re):this.renderer.removeClass(this.element.nativeElement,re)}),this.isActiveChange.emit(B))})}isLinkActive(B){const re=function(U){return!!U.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ce=>!!ce.urlTree&&B.isActive(ce.urlTree,re)}hasActiveLinks(){const B=this.isLinkActive(this.router);return this.link&&B(this.link)||this.linkWithHref&&B(this.linkWithHref)||this.links.some(B)||this.linksWithHrefs.some(B)}}return U.\u0275fac=function(B){return new(B||U)(P.Y36(Hi),P.Y36(P.SBq),P.Y36(P.Qsj),P.Y36(P.sBO),P.Y36(fa,8),P.Y36(Rr,8))},U.\u0275dir=P.lG2({type:U,selectors:[["","routerLinkActive",""]],contentQueries:function(B,re,ce){if(1&B&&(P.Suo(ce,fa,5),P.Suo(ce,Rr,5)),2&B){let Re;P.iGM(Re=P.CRH())&&(re.links=Re),P.iGM(Re=P.CRH())&&(re.linksWithHrefs=Re)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[P.TTD]}),U})();class ei{}class _o{preload(F,B){return(0,rt.of)(null)}}let ds=(()=>{class U{constructor(B,re,ce,Re){this.router=B,this.injector=ce,this.preloadingStrategy=Re,this.loader=new yi(ce,re,Pt=>B.triggerEvent(new Pr(Pt)),Pt=>B.triggerEvent(new vo(Pt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Bt.h)(B=>B instanceof ci),(0,xi.b)(()=>this.preload())).subscribe(()=>{})}preload(){const B=this.injector.get(P.h0i);return this.processRoutes(B,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(B,re){const ce=[];for(const Re of re)if(Re.loadChildren&&!Re.canLoad&&Re._loadedConfig){const nt=Re._loadedConfig;ce.push(this.processRoutes(nt.module,nt.routes))}else Re.loadChildren&&!Re.canLoad?ce.push(this.preloadConfig(B,Re)):Re.children&&ce.push(this.processRoutes(B,Re.children));return(0,Ee.D)(ce).pipe((0,Ir.J)(),(0,Ot.U)(Re=>{}))}preloadConfig(B,re){return this.preloadingStrategy.preload(re,()=>(re._loadedConfig?(0,rt.of)(re._loadedConfig):this.loader.load(B.injector,re)).pipe((0,Sr.zg)(Re=>(re._loadedConfig=Re,this.processRoutes(Re.module,Re.routes)))))}}return U.\u0275fac=function(B){return new(B||U)(P.LFG(Hi),P.LFG(P.Sil),P.LFG(P.zs3),P.LFG(ei))},U.\u0275prov=P.Yz7({token:U,factory:U.\u0275fac}),U})(),Ko=(()=>{class U{constructor(B,re,ce={}){this.router=B,this.viewportScroller=re,this.options=ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ce.scrollPositionRestoration=ce.scrollPositionRestoration||"disabled",ce.anchorScrolling=ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(B=>{B instanceof wn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=B.navigationTrigger,this.restoredId=B.restoredState?B.restoredState.navigationId:0):B instanceof ci&&(this.lastId=B.id,this.scheduleScrollEvent(B,this.router.parseUrl(B.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(B=>{B instanceof zr&&(B.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(B.position):B.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(B.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(B,re){this.router.triggerEvent(new zr(B,"popstate"===this.lastSource?this.store[this.restoredId]:null,re))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return U.\u0275fac=function(B){P.$Z()},U.\u0275prov=P.Yz7({token:U,factory:U.\u0275fac}),U})();const is=new P.OlP("ROUTER_CONFIGURATION"),rs=new P.OlP("ROUTER_FORROOT_GUARD"),Ha=[m.Ye,{provide:as,useClass:hr},{provide:Hi,useFactory:function(U,F,B,re,ce,Re,nt={},ct,Pt){const xn=new Hi(null,U,F,B,re,ce,Et(Re));return ct&&(xn.urlHandlingStrategy=ct),Pt&&(xn.routeReuseStrategy=Pt),function(U,F){U.errorHandler&&(F.errorHandler=U.errorHandler),U.malformedUriErrorHandler&&(F.malformedUriErrorHandler=U.malformedUriErrorHandler),U.onSameUrlNavigation&&(F.onSameUrlNavigation=U.onSameUrlNavigation),U.paramsInheritanceStrategy&&(F.paramsInheritanceStrategy=U.paramsInheritanceStrategy),U.relativeLinkResolution&&(F.relativeLinkResolution=U.relativeLinkResolution),U.urlUpdateStrategy&&(F.urlUpdateStrategy=U.urlUpdateStrategy),U.canceledNavigationResolution&&(F.canceledNavigationResolution=U.canceledNavigationResolution)}(nt,xn),nt.enableTracing&&xn.events.subscribe(fi=>{var Yn,sr;null==(Yn=console.group)||Yn.call(console,`Router Event: ${fi.constructor.name}`),console.log(fi.toString()),console.log(fi),null==(sr=console.groupEnd)||sr.call(console)}),xn},deps:[as,te,m.Ye,P.zs3,P.Sil,vi,is,[class{},new P.FiY],[class{},new P.FiY]]},te,{provide:qo,useFactory:function(U){return U.routerState.root},deps:[Hi]},ds,_o,class{preload(F,B){return B().pipe((0,$n.K)(()=>(0,rt.of)(null)))}},{provide:is,useValue:{enableTracing:!1}}];function Ca(){return new P.PXZ("Router",Hi)}let So=(()=>{class U{constructor(B,re){}static forRoot(B,re){return{ngModule:U,providers:[Ha,J(B),{provide:rs,useFactory:M,deps:[[Hi,new P.FiY,new P.tp0]]},{provide:is,useValue:re||{}},{provide:m.S$,useFactory:T,deps:[m.lw,[new P.tBr(m.mr),new P.FiY],is]},{provide:Ko,useFactory:K,deps:[Hi,m.EM,is]},{provide:ei,useExisting:re&&re.preloadingStrategy?re.preloadingStrategy:_o},{provide:P.PXZ,multi:!0,useFactory:Ca},[nr,{provide:P.ip1,multi:!0,useFactory:Qt,deps:[nr]},{provide:gl,useFactory:Dr,deps:[nr]},{provide:P.tb,multi:!0,useExisting:gl}]]}}static forChild(B){return{ngModule:U,providers:[J(B)]}}}return U.\u0275fac=function(B){return new(B||U)(P.LFG(rs,8),P.LFG(Hi,8))},U.\u0275mod=P.oAB({type:U}),U.\u0275inj=P.cJS({}),U})();function K(U,F,B){return B.scrollOffset&&F.setOffset(B.scrollOffset),new Ko(U,F,B)}function T(U,F,B={}){return B.useHash?new m.Do(U,F):new m.b0(U,F)}function M(U){return"guarded"}function J(U){return[{provide:P.deG,multi:!0,useValue:U},{provide:vi,multi:!0,useValue:U}]}let nr=(()=>{class U{constructor(B){this.injector=B,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Jt.xQ}appInitializer(){return this.injector.get(m.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let re=null;const ce=new Promise(ct=>re=ct),Re=this.injector.get(Hi),nt=this.injector.get(is);return"disabled"===nt.initialNavigation?(Re.setUpLocationChangeListener(),re(!0)):"enabled"===nt.initialNavigation||"enabledBlocking"===nt.initialNavigation?(Re.hooks.afterPreactivation=()=>this.initNavigation?(0,rt.of)(null):(this.initNavigation=!0,re(!0),this.resultOfPreactivationDone),Re.initialNavigation()):re(!0),ce})}bootstrapListener(B){const re=this.injector.get(is),ce=this.injector.get(ds),Re=this.injector.get(Ko),nt=this.injector.get(Hi),ct=this.injector.get(P.z2F);B===ct.components[0]&&(("enabledNonBlocking"===re.initialNavigation||void 0===re.initialNavigation)&&nt.initialNavigation(),ce.setUpPreloading(),Re.init(),nt.resetRootComponentType(ct.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return U.\u0275fac=function(B){return new(B||U)(P.LFG(P.zs3))},U.\u0275prov=P.Yz7({token:U,factory:U.\u0275fac}),U})();function Qt(U){return U.appInitializer.bind(U)}function Dr(U){return U.bootstrapListener.bind(U)}const gl=new P.OlP("Router Initializer")},8239:(Kt,_t,X)=>{"use strict";function m(Ve,oe,le,he,Le,Z,me){try{var _e=Ve[Z](me),ge=_e.value}catch(be){return void le(be)}_e.done?oe(ge):Promise.resolve(ge).then(he,Le)}function P(Ve){return function(){var oe=this,le=arguments;return new Promise(function(he,Le){var Z=Ve.apply(oe,le);function me(ge){m(Z,he,Le,me,_e,"next",ge)}function _e(ge){m(Z,he,Le,me,_e,"throw",ge)}me(void 0)})}}X.d(_t,{Z:()=>P})}},Kt=>{Kt(Kt.s=7892)}]);